import{a as T,$ as O,r as a,j as e,u as ae,L as B,n as A,I as bs,b as Oa,c as vs,d as $a,e as me,f as Pe,g as Ve,h as De,_ as ie,i as za,k as Ba,M as ve,l as ts,m as M,o as we,p as Va,q as As,s as Qa,t as Ha,v as Wa,w as Ga,x as Ia,y as Ae,z as be,A as ee,B as Ke,C as Ja,D as Cs,E as Xa,F as Ka,G as ss,H as Qe,J as Ya,K as Ie,N as Za,O as Ua,P as pe,Q as Ge,R as Le,S as et,T as st,U as at,V as tt,W as la,X as it,Y as nt,Z as lt,a0 as ct,a1 as rt,a2 as ot,a3 as ws,a4 as Oe,a5 as dt,a6 as mt,a7 as pt,a8 as ht,a9 as Ye,aa as ks,ab as ca,ac as ra,ad as oa,ae as da,af as ma,ag as ut,ah as pa,ai as ha,aj as ua,ak as xa,al as ja,am as ga,an as va,ao as fa,ap as Na,aq as ya,ar as xt,as as Os,at as jt,au as fs,av as gt,aw as vt,ax as $s,ay as zs,az as ft,aA as Bs,aB as Nt,aC as yt,aD as bt,aE as Ct,aF as wt,aG as Vs,aH as kt,aI as St,aJ as _t,aK as Et,aL as ba,aM as Qs,aN as Ft,aO as Dt,aP as Pt,aQ as Tt,aR as qt,aS as Mt,aT as Lt,aU as H,aV as Rt,aW as At}from"./vendor-d79d5ec7.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();const P="https://api.radarsystems.net",is="https://rar.bio";function Je(){return window.history.back()}const Ot=(s,t)=>{const n=document.createElement("a");n.href=s,n.target="_blank",n.download=t+".json",document.body.appendChild(n),n.click(),document.body.removeChild(n)};function Ca(s){return new DOMParser().parseFromString(s,"text/html").documentElement.textContent}function us(s){if(s<1e3)return s.toString();const t=["","k","M","G","T","P","E","Z","Y"],n=Math.floor((""+s).length/3);let i=parseFloat((n!==0?s/Math.pow(1e3,n):s).toPrecision(2));return i%1===0&&(i=i.toFixed(1)),i+t[n]}function $t(s){let t;switch(s){case"sms":t="sms";break;case"em":case"em-mt":t="em";break}return t}async function zt(s){return await T.get(P+"/api/get/company?id_company="+s,{withCredentials:!0}).then(n=>n.data)}async function Bt(){return await T.post(P+"/api/get/companys",{},{withCredentials:!0}).then(s=>s.data)}function Re(s){return window.location.pathname.includes(s)}function Ns(s){let t=document.cookie;t=t.split(";");let n;return t.forEach((i,o)=>{i.indexOf(`${s}=`)>=0&&(n=i.replace(`${s}=`,""))}),n}function wa(s){const t=new URLSearchParams(window.location.search);return t.has(s)?t.get(s):null}function ds(s,t,n=!1){var i=new Date;n?i.setTime(i.getTime()-1):i.setDate(i.getDate()+10);var o=s+"="+encodeURIComponent(t)+"; expires="+i.toUTCString()+"; path=/";document.cookie=o}function xs(s){O(s).addClass("await")}function Me(s){O(s).removeClass("await")}function Te(s=15){return Math.random().toString(36).substring(2,s+2)}function Vt(s){let t=!1;return s.type.indexOf("image")>=0&&(t=!0),t}function Qt(s,t){return new Promise((n,i)=>{try{let o=s.target.files[0],l={file:"",analize:""},r=new FileReader;r.onload=async function(p){let m=!0,d=p.currentTarget.result.split(`
`),u=d[0].split(","),x=!1;x=["email"].every(h=>u.includes(h)),x?await(async()=>{for(var j=1;j<d.length;j++){let g=d[j].split(",");if(g.length!==u.length){m=!1;break}if(d[j].trim()===""||g.some(v=>v.trim()==="")){m=!1;break}let N=(j+1)/d.length*100;N%5===0&&await new Promise(v=>setTimeout(()=>{t(N),v()},0))}l.analize="good",l.file=o,n(l)})():(l.analize="good",l.file=o,n(l))},r.readAsText(o)}catch{response.analize="bad",i(response)}})}function Ss(s,t){return`${P}/api/get/imgtemplate?img=${t}&folder=${s}`}function Ht(s){let t="default";switch(s){case"em":t="Email Marketing";break;case"em-mt":t="Email Transaccional";break;case"sms":t="Sms Marketing";break;case"sms-mt":t="Sms Transaccional";break}return t}function xe(s,t=void 0){const n=new Date(s*1e3),i=n.getDate(),o=n.getMonth()+1,l=n.getFullYear(),r=n.getHours(),p=n.getMinutes();switch(t){case"full":var m=`${i}/${o}/${l} ${r}:${p}`;break;default:var m=`${i}/${o}/${l}`;break}return m}function ka(s){return s?s=String(s).toLowerCase():s="undefined",s=="undefined"?window.location.origin+"/img/icons/countrys/"+s+".png":window.location.origin+"/img/icons/countrys/"+s+".svg"}function Sa(s){let t;switch(s&&(s=String(s).toLocaleLowerCase()),s){case"ve":t="Venezuela";break;case"ca":t="Canada";break;default:t="Undefined";break}return t}function Wt(s){return s!==void 0&&(s=String(s).toLowerCase()),(s.indexOf("mac")>=0||s.indexOf("apple")>=0)&&(s="apple"),s.indexOf("windows")>=0&&(s="windows"),s.indexOf("linux")>=0&&(s="linux"),s.indexOf("android")>=0&&(s="android"),s!=="windows"&&s!=="apple"&&s!=="android"&&s!=="linux"&&(s="undefined"),"/img/icons/systems/"+s+".png"}function Gt(s){return s==""&&(s="default"),"/img/icons/apps/"+s+".png"}function ms(s){return P+"/api/get/previewqr?url="+s}function It(s){return{fb:"Facebook",in:"Instagram",x:"X (Twitter)",email:"Correo",sms:"Sms",tik:"Tiktok",linkd:"Linkedin",yt:"Youtube",tele:"Telegram",ws:"Whatsapp",others:"Otros"}[s]||""}function Jt(s){return!!/^[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(s)}function ps(s){var n,i;let t;return(n=s==null?void 0:s.company)!=null&&n.photo?t=P+"/api/get/photoprofile?hash="+((i=s==null?void 0:s.company)==null?void 0:i.photo):t="img/icons/default_profile.png",t}function Hs(s){return s>=1&&s<=9?"0"+s:s.toString()}function ys(s,t){return s.length>t?s.substring(0,t)+"...":s}function Xt(){const s=navigator.userAgent;return s.match(/Android/i)?"Android":s.match(/iPhone|iPad|iPod/i)?"iPhone":"Desktop"}const X=a.createContext(),Kt=s=>{const[t,n]=a.useState({}),[i,o]=a.useState(!1),[l,r]=a.useState(!0);return a.useEffect(()=>{function p(m){if(m){let d=new FormData;d.append("id_company",m),T.post(P+"/api/get/company",d,{withCredentials:!0}).then(u=>u.data).then(u=>{}).finally(()=>{r(!1)})}else r(!1),window.location.href="/companys"}(async function(){Ns("token");let m=window.location.pathname,d=Ns("company");await T.get(P+"/api/get/my",{withCredentials:!0}).then(u=>u.data).then(u=>{u.id_admin?(o(!0),n(u),p(d??(u==null?void 0:u.company_default)??null)):(m!=="/"&&m!=="/auth"&&!m.startsWith("/buttonsqr/")&&(window.location.href="/"),setTimeout(()=>{r(!1)},500))})})()},[]),e.jsx(X.Provider,{value:{UserInfo:t,setUserInfo:n,Auth:i,LoadingAuth:l},...s})};function Yt(){let s=ae();const[t,n]=a.useState({user:"",password:""}),{UserInfo:i}=a.useContext(X);function o(r){r.stopPropagation(),r.preventDefault(),O(r.target).addClass("await"),t.password&&t.user?T.post(P+"/api/auth/login",t,{withCredentials:!0}).then(p=>p.data).then(p=>{p.status&&(window.location.href="/home"),p.msg&&A.error(p.msg)}).catch(p=>{A.error(String(p))}).finally(p=>{O(r.target).removeClass("await")}):O(r.target).removeClass("await")}function l(r){n({...t,[r.target.name]:r.target.value})}return a.useEffect(()=>{i!=null&&i.id_admin&&s("/home")},[i]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"row auth",children:[e.jsxs("div",{className:"col-auth-left",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"img/icons/logo-l1.png",alt:""})}),e.jsxs("div",{className:"align",children:[e.jsxs("span",{className:"title-welcome",children:["Bienvenido de nuevo. ",e.jsx("br",{})," Inicia ahora."]}),e.jsxs("span",{className:"text-register",children:["¿Aun no tienes cuenta?, ",e.jsx(B,{to:"/register",children:"Registrate ahora"})]}),e.jsxs("form",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Usuario"}),e.jsx("input",{type:"text",name:"user",onChange:l})]}),e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{children:["Password",e.jsx(B,{className:"forgot",to:"/recovery",children:"¿Olvidó?"})]}),e.jsx("input",{type:"password",name:"password",onChange:l})]}),e.jsx("span",{}),e.jsxs("button",{className:"sign",onClick:o,children:["INICIAR SESION ",e.jsx("div",{className:"loading"})]})]})]})]}),e.jsx("div",{className:"col-auth-right right",children:e.jsx("div",{className:"align",children:e.jsx("div",{className:"carousel",children:e.jsxs("div",{className:"item",children:[e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestiae perspiciatis nulla commodi accusamus. Reprehenderit, earum quibusdam laboriosam aliquam dolore ullam doloremque ratione possimus ex neque minus velit iste suscipit odit!"}),e.jsx("img",{src:"img/auth/People-welcome.png"})]})})})})]})})}function Zt(){const[s,t]=a.useState({user:"",email:"",password:"",rpassword:""}),{UserInfo:n}=a.useContext(X),i=ae();function o(r){r.stopPropagation();let p=r.target.name,m=r.target.value;t({...s,[p]:m})}function l(r){r.stopPropagation(),r.preventDefault(),O(r.target).addClass("await"),T.post(P+"/api/auth/register",s,{withCredentials:!0}).then(p=>p.data).then(p=>{p.msg&&A.error(p.msg),p.status&&A.success("Cuenta registrada inicia sesion."),i("/"),O(r.target).removeClass("await")}).catch(p=>{O(r.target).removeClass("await")})}return a.useEffect(()=>{n!=null&&n.id_admin&&i("/home")},[n]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"row auth",children:[e.jsxs("div",{className:"col-auth-left",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"img/icons/logo-l1.png",alt:""})}),e.jsxs("div",{className:"align",children:[e.jsxs("span",{className:"title-welcome",children:["Bienvenido.",e.jsx("br",{})," Registrate ahora!."]}),e.jsxs("span",{className:"text-register",children:["¿Opps ya tienes una cuenta?, ",e.jsx(B,{to:"/",children:"Ingresar"})]}),e.jsxs("form",{className:"form",onChange:o,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Usuario"}),e.jsx("input",{type:"text",name:"user"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo"}),e.jsx("input",{type:"text",name:"email"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Contraseña"}),e.jsx("input",{type:"password",name:"password"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Repite Contraseña"}),e.jsx("input",{type:"password",name:"rpassword"})]}),e.jsx("span",{}),e.jsxs("button",{className:"sign",onClick:l,children:["REGISTRARSE",e.jsx("div",{className:"loading"})]})]})]})]}),e.jsx("div",{className:"col-auth-right right",children:e.jsx("div",{className:"align",children:e.jsx("div",{className:"carousel",children:e.jsxs("div",{className:"item",children:[e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestiae perspiciatis nulla commodi accusamus. Reprehenderit, earum quibusdam laboriosam aliquam dolore ullam doloremque ratione possimus ex neque minus velit iste suscipit odit!"}),e.jsx("img",{src:"img/auth/People-welcome.png"})]})})})})]})})}const fe=a.createContext(),Ut=s=>{const[t,n]=a.useState(0),{Auth:i,UserInfo:o}=a.useContext(X),[l,r]=a.useState({type:"",company:"",loading:!0,process:{}});function p(x,c){switch(c){case"active":O(x).addClass("await");break;case"remove":O(x).removeClass("await");break}}function m(x,c){x.stopPropagation();let h=O(x.target);h.parents(".selector").find(".active").removeClass("active"),h.addClass("active"),c(x.target.value)}function d(x,c){x.stopPropagation();let h=O(x.target);h.parents(".items-result").find(".active").removeClass("active"),h.addClass("active"),c(O(x.target).attr("value"))}function u(){n(t-1)}return a.useEffect(()=>{i&&async function(){if(o.company_default){let x=await zt(o.company_default);r({...l,loading:!1,company:x})}else r({...l,loading:!1})}()},[i]),a.useEffect(()=>{r(x=>({...x,tutorial_wizard:o.tutorial_wizard}))},[o]),e.jsx(fe.Provider,{value:{Prev:u,wizard:l,SelectorItem:d,AwaitButton:p,Selector:m,setWizard:r,position:t,setPosition:n},...s})};function Se({Next:s}){const{setPosition:t,position:n}=a.useContext(fe),{wizard:i,setWizard:o}=a.useContext(fe),[l,r]=a.useState({});function p(){t(n-1)}return a.useEffect(()=>{i.company&&r(i.company)},[i]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"buttons-action ",children:[(l==null?void 0:l.name)!==void 0?e.jsx(e.Fragment,{children:e.jsxs("button",{className:"button-company",children:[e.jsx("img",{src:"img/icons/default_profile.png",alt:""}),l.name]})}):"",e.jsx("button",{className:"prev",onClick:p,children:"<"}),e.jsxs("button",{className:"next",onClick:s,children:["Siguiente ",e.jsx("div",{className:"loading"})]})]})})}function ei(){function s(){}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left"}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Subir contactos"}),e.jsx("span",{className:"desc",children:"Sube tus contactos a la lista."})]}),e.jsx("div",{}),e.jsx(Se,{Next:s})]})]})})}function si(){const{wizard:s,setWizard:t,setPosition:n,AwaitButton:i}=a.useContext(fe),[o,l]=a.useState(!1),[r,p]=a.useState({name:""});function m(u){if(o)n(x=>x+1);else{i(u.target,"active");let x=new FormData;x.append("name",r.name),x.append("id_company",s.company.id_company),s.type=="email"?x.append("type_c","email"):s.type=="sms"&&x.append("type_c","sms"),T.post(P+"/api/upload/list",x,{withCredentials:!0}).then(c=>c.data).then(c=>{c.status&&(A.success("Lista creada existosamente!"),n(h=>h+1),l(!0),c.id_list&&t(h=>({...h,process:{...h.process,id_list:c.id_list}}))),c.msg&&A.error(c.msg),i(u.target,"remove")}).catch(c=>{A.error(""+c),i(u.target,"remove")})}}function d(u){p(x=>({...x,[u.target.name]:u.target.value}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Nueva lista"}),e.jsx("img",{src:"img/icons/lists.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crear lista"}),e.jsx("span",{className:"desc",children:"Crea una nueva lista y luego ingresa los contactos"})]}),e.jsx("div",{className:"form",children:e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",name:"name",placeholder:"Nombre de lista",onChange:d})})}),e.jsx(Se,{Next:m})]})]}),o==!0?e.jsx(ei,{}):""]})}function ai(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Welcome"}),e.jsx("img",{src:"/img/icons/email-alert.png",alt:""})]})}),e.jsx("div",{className:"right",children:e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"titel",children:"Seleccionar lista"}),e.jsx("span",{className:"desc",children:"Selecciona una lista para integrarla a la campaign que has elegido."})]})})]})})}function ti(){const{Selector:s,setPosition:t}=a.useContext(fe),[n,i]=a.useState();function o(r){i(r)}function l(){(n=="new"||n=="select")&&t(r=>r+1)}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elegir lista"}),e.jsx("img",{src:"img/icons/wizard-contacts.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu lista"}),e.jsx("span",{className:"desc",children:"Desde aqui puedes elegir rapidamente una lista de contactos, subirla o subirlos manualmente."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"select",onClick:r=>{s(r,o)},children:"Seleccionar de una lista"}),e.jsx("button",{value:"new",onClick:r=>{s(r,o)},children:"Crear una nueva lista"})]}),e.jsx(Se,{Next:l})]})]}),n=="new"?e.jsx(si,{}):n=="select"?e.jsx(ai,{}):""]})}function ii(){function s(){}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left"}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Hola"}),e.jsx("span",{className:"desc",children:"hola"})]}),e.jsx(Se,{Next:s})]})]})})}function ni(){const{wizard:s,setWizard:t,AwaitButton:n}=a.useContext(fe),[i,o]=a.useState(!1),l=ae();function r(m){n(m.target,"active");let d=new FormData;o("pending"),d.append("id_campaign",s.process.id_campaign),d.append("email",s.process.email),d.append("str_affair",s.process.affair),d.append("str_body",s.process.body),d.append("id_company",s.company.id_company),T.post(P+"/api/send/mt",d,{withCredentials:!0}).then(u=>u.data).then(u=>{n(m.target,"remove"),u.status&&(o(!0),s.tutorial_wizard&&setTimeout(()=>{T.get("/api/get/tutowizard",{withCredentials:!0}),l("/home")},2e3)),u.msg&&A.error(u.msg)}).catch(u=>{n(m.target,"remove")})}function p(m){r(m)}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option active",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Detalles de envio"}),e.jsx("img",{src:"img/icons/send-email2.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Envio de campaign"}),e.jsx("span",{className:"desc",children:"Enhora buena! Has llegado al ultixmo paso."})]}),e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Previsualizacion del envio"}),e.jsx("div",{className:"structure",children:e.jsxs("ul",{children:[e.jsxs("li",{children:["Correo para: ",e.jsx("b",{children:s.process.email})]}),e.jsxs("li",{children:["Asunto: ",e.jsx("b",{children:s.process.affair})]}),e.jsxs("li",{children:["Bajo la compania: ",e.jsx("b",{children:s.company.name})]}),e.jsxs("li",{children:["Status de envio: ",i==!1?e.jsxs("i",{className:"text-yellow",children:[e.jsx(bs,{})," En espera de confirmacion..."]}):i=="pending"?e.jsxs("i",{children:[e.jsx(Oa,{})," Enviando..."]}):i==!0?e.jsxs("i",{className:"success",children:[e.jsx(vs,{})," Enviado"]}):""]})]})})]}),e.jsx(Se,{Next:p})]})]})})}function li(){const{setWizard:s,setPosition:t}=a.useContext(fe),[n,i]=a.useState(),[o,l]=a.useState(!1);function r(){n?(t(p=>p+1),s(p=>({...p,process:{...p.process,email:n}})),l(!0)):A.error("Opps! No has proporcionado un correo valido")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elegir correo"}),e.jsx("img",{src:"img/icons/email-2.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Asignar el correo"}),e.jsx("span",{className:"info",children:"Elige el correo al cual se le enviara este email."})]}),e.jsx("div",{className:"form",children:e.jsx("div",{className:"form-input",children:e.jsx("input",{placeholder:"Correo electronico",type:"email",onChange:p=>{i(p.target.value)}})})}),e.jsx(Se,{Next:r})]})]}),o==!0?e.jsx(ni,{}):""]})}function ci(){const{setPosition:s,wizard:t,setWizard:n}=a.useContext(fe),[i,o]=a.useState({status:!1,preview:!1,isHtml:!1,file:{},preview_html:"",affair:"",vars:[]});function l(){i.affair?i.preview_html?(n(h=>({...h,process:{...h.process,body:i.preview_html,affair:i.affair,vars:i.vars}})),s(h=>h+1),o(h=>({...h,status:!0}))):A.error("No tienes ningun formato html asignado."):A.error("Opps has dejado el asunto vacio.")}function r(h){let j=h.target.files[0];if(j.type=="text/html"){o(N=>({...i,file:j}));let g=new FileReader;g.onload=function(N){o(v=>({...v,preview_html:N.target.result}))},g.readAsText(j)}}function p(){o(h=>({...h,preview:!0}))}function m(){o(h=>({...h,preview_html:"",preview:!1,file:{}})),document.querySelector(".option.active input[type='file']").value=""}function d(){o(h=>({...h,preview:!1}))}function u(h){o(j=>({...j,affair:h.target.value}))}function x(h){let g=O(h.target).parents(".form-input").find("input"),N=g.val();i.vars.length<8&&(o(v=>({...v,vars:[...v.vars,N]})),g.val(""))}function c(h){let j=h.target.value;o(g=>({...g,vars:g.vars.filter(N=>N!==j)}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[i.preview==!1?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Personaliza tu frontend"}),e.jsx("img",{src:"img/icons/frontend.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Personalizar body"}),e.jsx("span",{className:"desc",children:"Personaliza tu body para tu envio"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"xd",children:"Este campo es especial, dale click al signo de interrogacion para ver sus funcionalidades."}),e.jsx("input",{type:"text",placeholder:"Asunto",onChange:u})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"xd",children:"Estas variables se enviaran en forma organizada, es decir desde el principio al fin. y deben de ser interpretadas en su archivo .html con un $1,$2."}),e.jsxs("div",{className:"special",children:[e.jsx("input",{type:"text",placeholder:"Variables",onChange:u}),e.jsx("button",{className:"action",onClick:x,children:"Agregar"})]}),e.jsx("div",{className:"tags",children:i.vars.map((h,j)=>e.jsx("button",{onClick:c,value:h,children:h},j))})]}),e.jsx("div",{className:"buttons",children:i.file.type=="text/html"?e.jsxs("div",{className:"file-on",children:[e.jsxs("span",{className:"name-file",children:[e.jsx($a,{})," ",i.file.name]}),e.jsx("button",{className:"remove",onClick:m,children:e.jsx(me,{})})]}):e.jsxs("button",{onClick:h=>{document.querySelector(".option.active input[type='file']").click()},children:[e.jsx(Pe,{})," Subir Archivo"]})})]}),e.jsx("div",{className:"buttons",children:i.file.type!=="text/html"?e.jsx("button",{children:"Editor html"}):e.jsx("button",{onClick:p,children:"Vista previa"})}),e.jsx(Se,{Next:l})]})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"preview-html",children:[e.jsxs("div",{className:"actions-preview",children:[e.jsx("button",{className:"left",onClick:d,children:e.jsx(Ve,{})}),e.jsx("button",{className:"left",onClick:m,children:e.jsx(me,{})}),e.jsx("div",{className:"right-preview",children:e.jsxs("button",{className:"upload-new",onClick:h=>{document.querySelector(".option.active input[type='file']").click()},children:[e.jsx(Pe,{})," Subir nuevo archivo"]})})]}),e.jsx("div",{className:"preview",dangerouslySetInnerHTML:{__html:i.preview_html}})]})}),e.jsx("input",{type:"file",accept:".html",onChange:r,hidden:!0})]}),i.status==!0?e.jsx(li,{}):""]})}function ri(){const{Selector:s,setPosition:t}=a.useContext(fe),[n,i]=a.useState();function o(){(n=="new"||n=="select")&&t(r=>r+1)}function l(r){i(r)}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Selecciona la plantilla"}),e.jsx("img",{src:"img/icons/body-html.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Selecciona tu estructura"}),e.jsx("span",{className:"desc",children:"Selecciona la estructura de correo que usaras para enviar esta campaign"})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"new",onClick:r=>{s(r,l)},children:"Crear un body"}),e.jsx("button",{value:"select",onClick:r=>{s(r,l)},children:"Ya tengo uno"})]}),e.jsx(Se,{Next:o})]})]}),n=="new"?e.jsx(ci,{}):n=="select"?e.jsx(ii,{}):""]})}function _a(){const{Selector:s,setWizard:t,setPosition:n,position:i}=a.useContext(fe),[o,l]=a.useState();function r(){o!==void 0||o!==""?n(i+1):A.error("!Opps no has seleccionado el tipo de envio")}function p(m){l(m),t(d=>({...d,process:{...d.process,type_send:m}}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Selecciona el tipo"}),e.jsx("img",{src:"img/icons/send-type.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige el tipo de envio"}),e.jsx("span",{className:"desc",children:"Aca tienes que elegir que tipo de envio quieres que sea. Es decir, puedes elegir entre un envio "})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"masive",onClick:m=>{s(m,p)},children:"Envíos de campañas masivas"}),e.jsx("button",{value:"ind",onClick:m=>{s(m,p)},children:"Envio Individual"})]}),e.jsx(Se,{Next:r})]})]}),o=="ind"?e.jsx(ri,{}):o=="masive"?e.jsx(ti,{}):""]})}function oi(){const[s,t]=a.useState({name:"",ocation:"",id_company:""}),{AwaitButton:n,wizard:i,Prev:o,position:l,setPosition:r}=a.useContext(fe);a.useState(!1);const[p,m]=a.useState(!0);function d(x){n(x.target,"active");let c=new FormData;c.append("name",s.name),c.append("ocation",s.ocation),c.append("id_company",s.id_company),i.type=="email"&&c.append("type_c","em"),i.type=="sms"&&c.append("type_c","sms"),T.post(P+"/api/upload/campaign",c,{withCredentials:!0}).then(h=>h.data).then(h=>{h.msg&&A.error(h.msg),h.status&&r(l+1),n(x.target,"remove")}).catch(h=>{n(x.target,"remove")})}function u(x){t({...s,[x.target.name]:x.target.value})}return a.useEffect(()=>{t({...s,id_company:i.company.id_company})},[i]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Una nueva aventura!"}),e.jsx("img",{src:"img/icons/new-campaign.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crea una nueva campaña"}),e.jsx("span",{className:"desc",children:"Para crear una nueva campaña necesitas informacion basica para darle un nombre y un objetivo a tu campaña."})]}),e.jsxs("div",{className:"form",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",name:"name",placeholder:"Titulo de campaña",onChange:u})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"ocation",id:"",onChange:u,children:[e.jsx("option",{value:"default",children:"Por defecto"}),e.jsx("option",{value:"email",children:"Cumpleaños"})]})})]}),e.jsxs("div",{className:"buttons-action ",children:[e.jsx("button",{className:"prev",onClick:o,children:"<"}),e.jsxs("button",{className:"next",onClick:d,children:["Siguiente ",e.jsx("div",{className:"loading"})]})]})]})]}),p==!0?e.jsx(_a,{}):""]})}function Ea({loading:s}){return e.jsx(e.Fragment,{children:s==!0?e.jsx("div",{className:"wizard-loading-circle"}):""})}function di(){const{setPosition:s,setWizard:t,wizard:n,SelectorItem:i}=a.useContext(fe),[o,l]=a.useState(!0),[r,p]=a.useState(),[m,d]=a.useState([]);function u(){r>=1?s(c=>c+1):ie.error("!Opps no has seleccionado una campaign")}function x(c){t(h=>({...h,process:{...h.process,id_campaign:c}})),p(c)}return a.useEffect(()=>{let c=new FormData;c.append("id_company",n.company.id_company),T.post(P+"/api/get/campaign",c,{withCredentials:!0}).then(h=>h.data).then(h=>{d(h.results),l(!1)}).catch(h=>{l(!1)})},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elige tu campaña"}),e.jsx("img",{src:"img/icons/wizard-selectcampaign.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu campaña"}),e.jsx("span",{className:"desc",children:"Selecciona rapidamente una de tus campañas para seguir al siguiente paso."})]}),e.jsxs("div",{className:"items-result",children:[m.map((c,h)=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"item select",value:c.id_campaign,onClick:j=>{i(j,x)},children:[e.jsx("img",{src:"img/icons/campaign_profile.png",alt:""}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:c.name}),e.jsxs("span",{children:["Creada el ",c.time_add]}),e.jsx("div",{className:"circle",children:e.jsx("i",{children:e.jsx(De,{})})})]})]})})),e.jsx(Ea,{loading:o})]}),e.jsx(Se,{Next:u})]})]}),Number(r)=="NaN"?e.jsx(_a,{}):""]})}function Ws(){const[s,t]=a.useState({campaign:"",campaign_name:"",actions:{campaign:""}}),{Selector:n,Prev:i,position:o,setPosition:l}=a.useContext(fe);function r(){p()}function p(){let d=!1;switch(o){case 2:s.actions.campaign=="new"||s.actions.campaign=="select"?d=!0:A.error("Opps no has seleccionado nada.");break}d&&l(o+1)}function m(d){t({...s,actions:{campaign:d}})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",style:{display:"none"},children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Campañas"}),e.jsx("img",{src:"img/icons/email-alert.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu campana"}),e.jsx("span",{className:"desc",children:"Crea tu campana rapidamente solamente eligiendo un nombre y ajustandola a tus preferencias. Tambien puedes reutilizar alguna campana antigua."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"new",onClick:d=>{n(d,m)},children:"Crear una nueva"}),e.jsx("button",{value:"select",onClick:d=>{n(d,m)},children:"Ya tengo una"})]}),e.jsx(Se,{Next:r})]})]}),s.actions.campaign=="new"?e.jsx(oi,{}):e.jsx(di,{})]})}function Ee({color:s,fn:t}){function n(i){i.stopPropagation();let o=O(i.target),l=o.parents(".colors");o.parents(".colors").find(".active").removeClass("active"),o.addClass("active"),l.find("button").css({opacity:"0.5"}),o.css({opacity:"1"})}return e.jsx(e.Fragment,{children:e.jsx("button",{className:"option-color",style:{background:s},value:s,onClick:i=>{t(i.target.value),n(i)}})})}function mi(){const{Prev:s,AwaitButton:t,setPosition:n}=a.useContext(fe),[i,o]=a.useState({name:"",type:"",color:"",default:"false"});function l(m){o({...i,color:m})}function r(m){let d=m.target.value,u=m.target.name;o({...i,[u]:d})}function p(m){i.name&&i.type&&i.color?(t(m.target,"active"),T.post(P+"/api/upload/company",i,{withCredentials:!0}).then(d=>d.data).then(d=>{t(m.target,"remove"),d.status&&(A.success("Company creada con exito"),n(1),O("button.active").removeClass("active")),d.msg&&A.error(d.msg)}).catch(d=>{t(m.target,"remove")})):A.error("Opps no has terminado los campos")}return e.jsx(e.Fragment,{children:status==!1?e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Nuevas ideas!"}),e.jsx("img",{src:"img/icons/cohete-men.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crear empresa"}),e.jsx("span",{className:"desc",children:"Personaliza tu empresa, con colores u imagen para poder identificarla si tienes otras empresas por registrar. Elige un nombre y comienza!"})]}),e.jsxs("div",{className:"form",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de empresa",name:"name",onChange:r})}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{htmlFor:"",children:"Tipo de empresa"}),e.jsx("select",{name:"type",id:"",onChange:r})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{children:"Elige un color"}),e.jsx("span",{className:"desc",children:"El color te ayudara a identificar tu empresa."}),e.jsxs("div",{className:"colors",children:[e.jsx(Ee,{color:"#2e56ff",fn:l}),e.jsx(Ee,{color:"#57c583",fn:l}),e.jsx(Ee,{color:"#3fcae9",fn:l}),e.jsx(Ee,{color:"#e9d43f",fn:l}),e.jsx(Ee,{color:"#d77613",fn:l}),e.jsx(Ee,{color:"#c069cb",fn:l}),e.jsx(Ee,{color:"#cb6992",fn:l})]})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{children:"Seleccionar como predeterminada"}),e.jsx("span",{className:"desc",children:"Si la eliges como predeterminada automaticamente se usara sin necesidad de seleccionarla."}),e.jsx("br",{}),e.jsxs("select",{name:"default",id:"",onChange:r,children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Si"})]})]})]}),e.jsx(Se,{Prev:s,Next:p})]})]}):e.jsx(e.Fragment,{})})}function pi(){const{wizard:s,setWizard:t,setPosition:n}=a.useContext(fe),[i,o]=a.useState([]),[l,r]=a.useState(!0);function p(){}a.useEffect(()=>{(async function(){o(await Bt()),r(!1)})()},[]),a.useEffect(()=>{s.company},[s]);function m(d,u){d.stopPropagation();let x=i[u];x.id_company&&(n(1),t({...s,company:x}))}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Usa tu empresa"}),e.jsx("img",{src:"img/icons/hot-company.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige una empresa"}),e.jsx("span",{children:"Elige una de las empresar anteriormente creadas."})]}),e.jsxs("div",{className:"companys",children:[i.map((d,u)=>e.jsxs("div",{className:"company",children:[e.jsx("img",{className:"photo-profile",src:"img/icons/default_profile.png",alt:""}),e.jsxs("span",{className:"title",children:[d.name," ",e.jsx("span",{className:"color",style:{background:d.color}})]}),e.jsx("button",{className:"use",onClick:x=>{m(x,u)},children:"Usar"})]},u)),e.jsx(Ea,{loading:l})]}),e.jsx(Se,{Next:p})]})]})})}function hi(){const[s,t]=a.useState({action:""}),{Selector:n,Prev:i,position:o,setPosition:l}=a.useContext(fe);function r(d){t({...s,action:d})}function p(){m()}function m(){let d=!1;switch(s.action){case"go":d=!0;break;case"new":d=!0;break}d?l(o+1):A.error("No has seleccionado ninguna opcion.")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Tu empresa"}),e.jsx("img",{src:"img/icons/hot-company.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:" Elige tu empresa"}),e.jsx("span",{className:"desc",children:"Debes elegir tu empresa para comenzar, o tambien podrias crear una empresa nueva. Estas empresas tendran (estadisticas,contactos,envios) totalmente autonomos."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{onClick:d=>{n(d,r)},value:"go",children:"Ya tengo una"}),e.jsx("button",{onClick:d=>{n(d,r)},value:"new",children:"Crear una nueva"})]})}),e.jsx(Se,{Prev:i,Next:p})]})]}),s.action=="new"?e.jsx(mi,{}):e.jsx(pi,{})]})}function ui(){return e.jsx(e.Fragment,{children:"xd"})}function xi(){const{position:s,setPosition:t,wizard:n,setWizard:i,Selector:o,Prev:l}=a.useContext(fe);function r(){p()}function p(){let u=!1;switch(s){case 0:u=!0;break;case 1:if(n.type)switch(n.type){case"email":n.company?u=!0:A.error("No tienes una empresa seleccionada.");break;case"sms":n.company?u=!0:A.error("No tienes una empresa seleccionada.");break;default:u=!0;break}else A.error("No has seleccionado ninguna opcion");break}u&&t(s+1)}function m(u){i({...n,type:u})}a.useEffect(()=>{O(".wizard .option.active").removeClass("active"),O(".wizard .option").eq(s).addClass("active")},[s]);const d={email:e.jsx(Ws,{}),sms:e.jsx(Ws,{}),verifiedEmail:e.jsx(ui,{})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"wizard",children:e.jsxs("div",{className:"body",children:[n.loading?e.jsx("div",{className:"wizard-loading",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{className:"logo-center",src:"img/icons/logo-l1.png",alt:""}),e.jsx("div",{className:"line"})]})}):e.jsx(e.Fragment,{}),e.jsxs("div",{className:"options",children:[e.jsxs("div",{className:"option center active",children:[e.jsxs("div",{className:"center",children:[e.jsx("img",{className:"logo-center",src:"img/icons/logo-l1.png",alt:""}),e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Welcome to RadarSystems"}),e.jsx("span",{className:"desc",children:"Hola este wizard te ayudara a armar tu primera campaign de emails / sms te, te mostraremos paso por paso como hacer lo que necesitas."})]}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"",id:"",children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"Seleccionar Idioma"}),e.jsx("option",{value:"",children:"Espanol"}),e.jsx("option",{value:"",children:"Ingles"})]})})]}),e.jsx("div",{className:"buttons-action ",children:e.jsx("button",{className:"next",onClick:r,children:"Comenzar"})})]}),n.company==""?e.jsx(hi,{}):e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Empezemos ahora"}),e.jsx("img",{src:"img/icons/wizard-help.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"¿Qué necesitas?"}),e.jsx("span",{children:"Puedes hacer diferentes acciones en la que podemos ayudarte mediante este wizard. Elige cual es de tu interes, asi podremos ayudarte facilmente."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{onClick:u=>{o(u,m)},value:"ac",children:"Elegir Empresa"}),e.jsx("button",{onClick:u=>{o(u,m)},value:"email",children:"Campañas de Correos"}),e.jsx("button",{onClick:u=>{o(u,m)},value:"sms",children:"Campañas de Sms"}),e.jsx("button",{className:n.tutorial_wizard==!0?"opacity-tutorial":"",onClick:u=>{o(u,m)},value:"vemail",children:"Verificador de Correos"}),e.jsx("button",{className:n.tutorial_wizard==!0?"opacity-tutorial":"",onClick:u=>{o(u,m)},value:"ac",children:"Acortador de Url"})]}),e.jsx(Se,{Prev:l,Next:r})]})]}),d[n.type]]})]})})})}function ji({MenuLeft:s}){const{UserInfo:t}=a.useContext(X),[n,i]=a.useState(),o=ae(),[l,r]=a.useState(!0);a.useEffect(()=>{t.company_default==null&&t.company==null&&i(!0),t.company!==void 0&&i(!1)},[t]);function p(m){m.stopPropagation();let d=O(m.target),u=d.parents("li"),x=d.parents("li").find("ul"),c=O(".header-left").find("button.active"),h=O(".header-left").find("ul.active");c.parents("li").index()!==u.index()?(h.slideToggle(),h.removeClass("active"),c.removeClass("active"),d.addClass("active"),x.addClass("active"),x.slideToggle()):(c.removeClass("active"),h.removeClass("active"),h.slideToggle())}return Ns("token"),a.useEffect(()=>{r("none")},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`header-left ${s?"active":""}`,children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"/img/icons/logo.png",alt:""})}),e.jsxs("ul",{children:[e.jsx("li",{className:n?"opacity":"",children:e.jsxs("button",{onClick:m=>{o("/home")},children:[e.jsx("i",{className:"icon",children:e.jsx(za,{})})," Home ",e.jsx("i",{className:"arrow"})]})}),e.jsxs("li",{children:[e.jsxs("button",{onClick:p,children:[e.jsx("i",{className:"icon",children:e.jsx(Ba,{})})," Configuracion ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"/settings-account/account",children:"Mi Cuenta"})}),e.jsx("li",{children:e.jsx(B,{to:"/companys",children:"Mis Empresas"})}),e.jsx("li",{children:e.jsx(B,{to:"/settings-account/security",children:"Seguridad"})}),e.jsx("li",{children:e.jsx(B,{to:"/settings-account/footer",children:"Footer"})}),e.jsx("li",{children:e.jsx(B,{to:"/settings-account/domains",children:"Dominios"})}),e.jsx("li",{children:e.jsx(B,{to:"/settings-account/credentials",children:"API"})})]})]}),e.jsxs("li",{className:n?"opacity":""+l,children:[e.jsxs("button",{onClick:p,children:[e.jsx("i",{className:"icon",children:e.jsx(ts,{})})," Recordatorios ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"/campaigns",children:"Email "})}),e.jsx("li",{children:e.jsx(B,{to:"/campaigns",children:"Sms"})}),e.jsx("li",{children:e.jsx(B,{to:"/campaigns/new",children:"Mixto"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:m=>{p(m)},children:[e.jsx("i",{className:"icon",children:e.jsx(ts,{})})," Campañas ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"/campaigns/em",children:"Email Marketing"})}),e.jsx("li",{children:e.jsx(B,{to:"/campaigns/em-mt",children:"Email MT"})}),e.jsx("li",{children:e.jsx(B,{to:"/campaigns/sms",children:"SMS Marketing"})}),e.jsx("li",{children:e.jsx(B,{to:"/campaigns/sms-mt",children:"SMS MT"})}),e.jsx("li",{children:e.jsx(B,{to:"/campaigns/new",children:"Crear Campana"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:p,children:[e.jsx("i",{className:"icon",children:e.jsx(M,{icon:"material-symbols:contacts-outline"})})," Listas ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"/contacts",children:"Mis Contactos"})}),e.jsx("li",{children:e.jsx(B,{to:"/contacts/lists",children:"Mis Listas"})}),e.jsx("li",{children:e.jsx(B,{to:"/contacts/lists/email",children:"Listas Correo"})}),e.jsx("li",{children:e.jsx(B,{to:"/contacts/lists/sms",children:"Listas Mensajeria"})}),e.jsx("li",{children:e.jsx(B,{to:"/contacts/lists/ws",children:"Listas Whatsapp"})}),e.jsx("li",{children:e.jsx(B,{to:"/contacts/segments",children:"Segmentos"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:p,children:[e.jsx("i",{className:"icon",children:e.jsx(M,{icon:"ri:links-fill"})})," Embudo de Conversion ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"/shorturls/campaigns",children:"Mis Campañas"})}),e.jsx("li",{children:e.jsx(B,{to:"/shorturls/campaigns/add",children:"Crear Campana"})}),e.jsx("li",{children:e.jsx(B,{to:"/shorturls",children:"Mis Enlaces"})}),e.jsx("li",{children:e.jsx(B,{to:"/shorturls/add",children:"Crear Enlace"})})]})]}),e.jsxs("li",{className:n?"opacity":"",children:[e.jsxs("button",{onClick:p,children:[e.jsx("i",{className:"icon",children:e.jsx(M,{icon:"tabler:apps"})})," Kit Marketing ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"/buttonsqr",children:"Botonera QR"})}),e.jsx("li",{children:e.jsx(B,{to:"/buttons",children:"Botonera URL"})}),e.jsx("li",{children:e.jsx(B,{to:"/templates",children:"Boletines"})}),e.jsx("li",{children:e.jsx(B,{to:"/editor/canvas",children:"Editor Canvas"})}),e.jsx("li",{children:e.jsx(B,{to:"/editor/buttons",children:"Editor Botonera"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:p,children:[e.jsx("i",{className:"icon",children:e.jsx(M,{icon:"octicon:workflow-16"})})," Automatización ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"https://workflows.radarsystems.net/",children:"WorkFlow"})}),e.jsx("li",{children:e.jsx(B,{to:"",children:"Programacion"})}),e.jsx("li",{children:e.jsx(B,{to:"",children:"Auto-Responders"})})]})]}),e.jsx("li",{className:"",children:e.jsxs("button",{onClick:m=>{window.location.href="https://tools.radarsystems.net/"},children:[e.jsxs("i",{className:"icon",children:[e.jsx(M,{icon:"octicon:workflow-16"})," "]})," Herramientas ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]})}),e.jsx("li",{className:"",children:e.jsxs("button",{onClick:p,children:[e.jsx("i",{className:"icon",children:e.jsx(M,{icon:"zmdi:portable-wifi"})})," Portal Cautivo ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]})}),e.jsx("li",{className:n?"opacity":""+l,children:e.jsxs("button",{onClick:p,children:[e.jsx("i",{className:"icon",children:e.jsx(bs,{})})," Automatizacion ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]})}),e.jsxs("li",{className:n?"opacity":""+l,children:[e.jsxs("button",{onClick:p,children:[e.jsx("i",{className:"icon",children:e.jsx(we,{})})," Estadisticas ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{to:"/stats/campaign",children:e.jsx(B,{children:"Email Marketing"})}),e.jsx("li",{to:"/stats/campaign",children:e.jsx(B,{children:"Email MT"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(B,{children:"Sms Marketing"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(B,{children:"Sms MT"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(B,{children:"Encuestas"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(B,{children:"Botonera QR"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(B,{children:"Botonera URL"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(B,{children:"Medusa"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(B,{children:"Landings"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(B,{children:"Google Analytics"})})]})]}),e.jsxs("li",{className:""+l,children:[e.jsxs("button",{onClick:p,children:[e.jsx("i",{className:"icon",children:e.jsx(Va,{})})," Formulario ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"/surveys/editor",children:"Crear Formulario"})}),e.jsx("li",{children:e.jsx(B,{to:"/surveys",children:"Mis Formularios"})}),e.jsx("li",{children:e.jsx(B,{to:"/surveys",children:"Plantillas"})})]})]}),e.jsxs("li",{className:""+l,children:[e.jsxs("button",{onClick:p,children:[e.jsx("i",{className:"icon",children:e.jsx(As,{})})," Boletines Electronicos ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"/templates",children:"Mis Boletines"})}),e.jsx("li",{children:e.jsx(B,{to:"/editor/canvas",children:"Crear Boletin"})}),e.jsx("li",{children:e.jsx(B,{to:"/landings",children:"Plantillas"})}),e.jsx("li",{children:e.jsx(B,{to:"/landings",children:"Plantillas IA"})})]})]}),e.jsxs("li",{className:""+l,children:[e.jsxs("button",{onClick:p,children:[e.jsx("i",{className:"icon",children:e.jsx(As,{})})," Landings Page ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"/landings",children:"Mis Landings"})}),e.jsx("li",{children:e.jsx(B,{to:"/editor/landings",children:"Crear Landings"})})]})]}),e.jsxs("li",{className:""+l,children:[e.jsxs("button",{onClick:p,children:[e.jsx("i",{className:"icon",children:e.jsx(Qa,{})})," Botonera QR ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"/editor/buttonsqr",children:"Crear Botonera QR"})}),e.jsx("li",{children:e.jsx(B,{to:"/buttonsqr",children:"Mis Botoneras QR"})}),e.jsx("li",{children:e.jsx(B,{to:"/qr/add",children:"Crear QR individual"})}),e.jsx("li",{children:e.jsx(B,{to:"/qr/import",children:"Importar QR"})}),e.jsx("li",{children:e.jsx(B,{to:"/qr",children:"Mis Qr's"})})]})]}),e.jsxs("li",{className:""+l,children:[e.jsxs("button",{onClick:p,children:[e.jsx("i",{className:"icon",children:e.jsx(M,{icon:"ri:links-fill"})})," Botonera URL ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"/editor/buttons",children:"Crear Botonera URL"})}),e.jsx("li",{children:e.jsx(B,{to:"/buttons",children:"Mis Botoneras URL"})})]})]}),e.jsxs("li",{className:""+l,children:[e.jsxs("button",{onClick:p,children:[e.jsx("i",{className:"icon",children:e.jsx(Ha,{})})," Validador Email ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"/companys",children:"Mis Validaciones"})}),e.jsx("li",{children:e.jsx(B,{to:"/companys",children:"Crear Validacion"})}),e.jsx("li",{children:e.jsx(B,{to:"/companys",children:"Estadisticas"})})]})]})]})]})})}function gi({MenuLeft:s,MenuLeftAction:t}){var u,x,c;const{UserInfo:n}=a.useContext(X),[i,o]=a.useState("ligth"),l=ae(),[r,p]=a.useState(!1);function m(){switch(i){case"ligth":o("dark");break;case"dark":o("ligth");break;default:o("ligth");break}}function d(){p(!r)}return a.useEffect(()=>{O(document.body).attr("theme",i)},[i]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"header-top",children:[e.jsx("div",{className:"left mb",children:e.jsx("button",{className:"open",onClick:h=>{t()},children:e.jsx(M,{icon:"iconoir:nav-arrow-right"})})}),e.jsxs("div",{className:"right",children:[e.jsx("div",{className:"company",children:(u=n==null?void 0:n.company)!=null&&u.name?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"body",children:[e.jsx("img",{src:((x=n==null?void 0:n.company)==null?void 0:x.photo)!==void 0?ps(n):"img/icons/default_profile.png",alt:""}),e.jsx("span",{children:(c=n==null?void 0:n.company)==null?void 0:c.name})]})}):e.jsxs(B,{to:"/companys",className:"select-company",children:[e.jsx(M,{icon:"carbon:enterprise"})," Seleccionar Cuenta"]})}),e.jsxs("button",{className:"option",onClick:m,children:[i=="dark"?e.jsx(Wa,{}):"",i=="ligth"?e.jsx(Ga,{}):""]}),e.jsx("button",{className:"option",children:e.jsx(Ia,{})}),e.jsxs("div",{className:"user",onClick:d,children:[e.jsx("span",{className:"name",children:n==null?void 0:n.user}),e.jsx("img",{src:"/img/icons/default-user.jpg",alt:""})]})]})]}),r?e.jsx("div",{className:"menu-top-user",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsxs("button",{onClick:h=>{l("")},children:[e.jsx(M,{icon:"material-symbols:report-outline"})," Reportar"]})}),e.jsx("li",{children:e.jsxs("button",{onClick:h=>{l("/logout")},children:[e.jsx(M,{icon:"ic:outline-no-meeting-room"})," Cerrar sesión"]})})]})}):""]})}function J({Element:s,CompanyNeed:t}){var d;const{UserInfo:n}=a.useContext(X);ae(),a.useState(!1);const[i,o]=a.useState("wait"),[l,r]=a.useState(!1),p=Ae();function m(u){u==null?l==!0?r(!1):r(!0):r(!1)}return a.useEffect(()=>{m("x")},[p]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"app",children:[e.jsx(ji,{MenuLeftAction:m,MenuLeft:l}),e.jsx(gi,{MenuLeftAction:m,MenuLeft:l}),e.jsx("div",{className:"page",onClick:u=>{m("x")},children:t?(d=n==null?void 0:n.company)!=null&&d.id_company?e.jsx(s,{}):i==!1?e.jsxs("div",{className:"center-loading",children:[e.jsx("img",{src:"/img/icons/oficina.png",alt:""}),e.jsx("p",{children:"No has seleccionado ninguna empresa"})]}):e.jsx("div",{className:"center-loading",children:e.jsx("div",{className:"circle"})}):e.jsx(s,{})})]})})}function _e(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"loding-box",children:e.jsx("div",{className:"loading",children:e.jsx("div",{className:"circle"})})})})}function vi({Visible:s,Close:t}){const{UserInfo:n}=a.useContext(X),[i,o]=a.useState(0),[l,r]=a.useState([Te()]),[p,m]=a.useState({type:"",name:"",ocation:""}),d=ae();function u(h){h.stopPropagation(),h.preventDefault();let j=O(h.target);j.parents(".options").find(".active").removeClass("active"),j.addClass("active");let g=j.attr("value");m(N=>({...N,type:g}))}function x(h){var N;let j=!1,g=O(h.target);if((i===0&&p.type.includes("em")||p.type.includes("sms"))&&(j=!0),i==1&&p.type!==""&&p.name!==""){g.addClass("await");let v=new FormData;v.append("name",p.name),v.append("ocation",p.ocation),v.append("type_c",p.type),v.append("id_company",(N=n==null?void 0:n.company)==null?void 0:N.id_company),T.post(P+"/api/upload/campaign",v,{withCredentials:!0}).then(k=>k.data).then(k=>{k.status?d("/campaigns/detail/"+k.id_campaign):k.msg&&ie.error(k.msg),g.removeClass("await")}).catch(k=>{g.removeClass("await")})}j&&o(v=>v+1)}function c(h){let j=h.target.name,g=h.target.value;m(N=>({...N,[j]:g}))}return a.useEffect(()=>{O(".case.active").removeClass("active"),O(".case").eq(i).addClass("active")},[i]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[i>0?e.jsxs("button",{className:"return",onClick:h=>{o(j=>j-1)},children:[e.jsx(Ve,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:h=>{t(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crea una nueva campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"options flex half",id:`options-${l[0]}`,children:[e.jsxs("div",{className:"selector",onClick:u,value:"em",children:[e.jsx("div",{className:"check",children:e.jsx(be,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA EMAIL MARKETING"}),e.jsx("span",{children:"Crea tu campaña de email con uno de nuestros editores para que la envíes inmediatamente o programes para enviar más tarde."})]})]}),e.jsxs("div",{className:"selector",onClick:u,value:"em-mt",children:[e.jsx("div",{className:"check",children:e.jsx(be,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA EMAIL TRANSACCIONAL"}),e.jsx("span",{children:"Crea tu campaña de email transaccional estas seran enviada 1x1 mediante la conexion a la api."})]})]}),e.jsxs("div",{className:"selector",onClick:u,value:"sms",children:[e.jsx("div",{className:"check",children:e.jsx(be,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA SMS MARKETING"}),e.jsx("span",{children:"Envía mensajes de texto rápidos y confiables a cualquier país con nuestras herramientas de campaña de SMS."})]})]}),e.jsxs("div",{className:"selector",onClick:u,value:"sms-mt",children:[e.jsx("div",{className:"check",children:e.jsx(be,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA SMS TRANSACCIONAL"}),e.jsx("span",{children:"Crea tu campaña de sms transaccional estas seran enviada 1x1 mediante la conexion a la api."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de campaña"}),e.jsx("input",{type:"text",name:"name",onChange:c,placeholder:"Nombre"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Selecciona tipo"}),e.jsxs("select",{name:"ocation",id:"",onChange:c,children:[e.jsx("option",{value:"",selected:!0,children:" Por defecto"}),e.jsx("option",{value:"birthday",children:"Cumpleaños"})]})]}),(p.ocation=="birthday","")]})]}),e.jsxs("div",{className:"actions",children:[e.jsxs("button",{className:"next",onClick:x,children:["Siguiente ",e.jsx("div",{className:"loading"})]}),e.jsx("button",{className:"return",children:e.jsx(ee,{icon:"teenyicons:left-outline"})})]})]})]})})}function Ne({name:s,buttonName:t,addNew:n=!1,callback:i}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"nofound-items",children:[e.jsx("img",{src:"/img/icons/notfound.png",alt:""}),e.jsxs("p",{children:["No hay ",s??"items","  disponibles"]}),e.jsx("br",{}),n?e.jsxs("button",{onClick:o=>{i()},children:["Crear ",t]}):""]})})}function fi({newFormCampaign:s}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top",children:[e.jsx("ul",{}),e.jsx("div",{className:"right",children:e.jsxs("div",{className:"form-search",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{onChange:s,name:"name",type:"text",placeholder:"Buscar por campañas..."})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{onChange:s,name:"type",id:"",children:[e.jsx("option",{value:"em",children:"Email Marketing"}),e.jsx("option",{value:"em-mt",children:"Email Transaccional"}),e.jsx("option",{value:"sms",children:"Sms Marketing"}),e.jsx("option",{value:"sms-mt",children:"Sms Transaccional"})]})}),e.jsx("div",{className:"form-input",children:e.jsx("input",{id:"ffer",type:"date",onChange:s})})]})})]})})}function Ni({idCampaign:s,idCompany:t}){var p,m;const[n,i]=a.useState(!1),[o,l]=a.useState({series:[{name:"Enviados",data:[]},{name:"Clicks",data:[]},{name:"Leidos",data:[]},{name:"Errores",data:[]}],chart:{height:350,type:"area"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{categories:[]},tooltip:{x:{format:"dd/MM/yy HH:mm"}}});function r(){i(!0);let d=new FormData;d.append("id_company",t),d.append("id_campaign",s),d.append("case","campaign"),T.post(P+"/api/get/stats",d,{withCredentials:!0}).then(u=>u.data).then(u=>{u.daysResponse.length&&l(c=>({...c,series:[{...c.series[0],data:c.series[0].data.concat(u.daysResponse.map(h=>h.send))},{...c.series[1],data:c.series[1].data.concat(u.daysResponse.map(h=>h.clicks))},{...c.series[2],data:c.series[2].data.concat(u.daysResponse.map(h=>h.reads))},{...c.series[3],data:c.series[3].data.concat(u.daysResponse.map(h=>h.errors))}],xaxis:{...c.xaxis,categories:u.daysTotal}}))})}return a.useEffect(()=>{n||r()},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"box",children:(m=(p=o==null?void 0:o.series[0])==null?void 0:p.data)!=null&&m.length?e.jsx(Ke,{options:o,series:o.series,type:"area",height:300}):""})})}function ze(){const{UserInfo:s}=a.useContext(X),t=ae(),[n,i]=a.useState([]),[o,l]=a.useState(!1),[r,p]=a.useState(!0),[m,d]=a.useState({name:""}),u=Ae();a.useEffect(()=>{Re("/new")&&l(!0)},[u]);function x(g){var k;let N=new FormData;p(!0);let v="em";Re("/em")&&(v="em"),Re("/em-mt")&&(v="em-mt"),Re("/sms")&&(v="sms"),Re("/sms-mt")&&(v="sms-mt"),g||i([]),N.append("id_company",(k=s==null?void 0:s.company)==null?void 0:k.id_company),N.append("type",v),N.append("name",m.name),T.post(P+"/api/get/campaign",N,{withCredentials:!0}).then(F=>F.data).then(F=>{var y;(y=F==null?void 0:F.results)!=null&&y.length&&i(F.results),p(!1)}).catch(F=>{p(!1)})}function c(g){let N=g.target.name,v=g.target.value;d({...m,[N]:v})}a.useEffect(()=>{x(!1)},[u]);function h(g){let N=g.target.dataset.value;t("/campaigns/detail/"+N)}function j(g){i(N=>N.map((k,F)=>F===g?{...k,showStats:!k.showStats}:k))}return a.useEffect(()=>{m.type?t("/campaigns/"+m.type):x(!1)},[m]),e.jsxs(e.Fragment,{children:[e.jsx(vi,{Visible:o,Close:l},`${o?"x":"x2"}`),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Campañas"}),e.jsx("span",{children:"Crea y ve tus campañas rapidamente, tambien puedes entrar a nuestro sistema automatizado "})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"go-wizard",onClick:g=>{l(!0)},children:"Crear nueva campaña"}),e.jsx("button",{onClick:g=>{l(!0)},children:"Wizard"})]})]}),e.jsx(fi,{newFormCampaign:c}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box ",children:[n==null?void 0:n.map((g,N)=>{var v;return e.jsxs("div",{className:"item ",id:`${N%2===0?"item-white":"item-grey"}`,style:{padding:0},children:[e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon-i",children:e.jsxs("i",{style:{color:"var(--details-blue)"},children:[e.jsx(ee,{icon:"nimbus:marketing"}),"                                        "]})}),e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:["NOMBRE DE CAMPANA: ",g.name]}),e.jsxs("span",{className:"desc",children:["FECHA: ",xe(g.time_add)]}),e.jsx("br",{style:{marginBottom:"10px"}}),e.jsxs("div",{className:"details-campaign",children:[e.jsxs("span",{className:"desc blue",children:["Enviados: ",e.jsx("b",{children:g.send})," "]}),e.jsxs("span",{className:"desc red",children:["Devueltos: ",e.jsx("b",{children:"12"})," "]}),e.jsxs("span",{className:"desc blue",children:["Recibidos: ",e.jsx("b",{children:Number(g.send)-Number(g.errors)})]}),e.jsxs("span",{className:"desc red",children:["No Leidos: ",e.jsx("b",{children:g.unread})]}),e.jsxs("span",{className:"desc blue",children:["Leidos: ",e.jsx("b",{children:g.views})]}),e.jsxs("span",{className:"desc blue",children:["Clicks: ",e.jsx("b",{children:g.clicks})]}),e.jsxs("span",{className:"desc red",children:["Removidos: ",e.jsx("b",{children:g.unsubscribe})]})]})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{className:"",onClick:h,"data-value":g.id_campaign,children:e.jsx(ee,{icon:"line-md:cog-loop"})}),e.jsx("button",{className:"h-green",onClick:k=>{j(N)},children:g.showStats?e.jsx(ee,{icon:"grommet-icons:up"}):e.jsx(ee,{icon:"ps:stats"})})]})]}),g.showStats&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"stats",children:e.jsx(Ni,{idCampaign:g.id_campaign,idCompany:(v=s==null?void 0:s.company)==null?void 0:v.id_company})})})]})}),r==!1?(n==null?void 0:n.length)==0?e.jsx(Ne,{name:"campanas"}):"":e.jsx(_e,{})]})})})]})}function hs(){var t;const{UserInfo:s}=a.useContext(X);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top",children:[e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"/companys",children:"Cuentas"})}),((t=s==null?void 0:s.company)==null?void 0:t.id_company)&&e.jsx("li",{children:e.jsx(B,{to:"/companys/plans",children:"Planes"})}),e.jsx("li",{children:e.jsx(B,{to:"/companys/roles",children:"Roles"})}),e.jsx("li",{children:e.jsx(B,{to:"/companys/users",children:"Perfiles"})})]}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"form-search",children:e.jsx("input",{type:"text",placeholder:"Buscar cuenta..."})})})]})})}function re({buttonsActions:s=!0,minWidth:t,maxWidth:n,children:i,width:o,visible:l,buttonSave:r=!0,cancel:p,onClick:m,next:d,callback:u,Pending:x,close:c=function(){}}){const[h,j]=a.useState(l==!1?!1:l),[g,N]=a.useState(Te());function v(k){k.stopPropagation();let F=O(k.target);O(`#modal-${g}`).removeClass("open"),F.parents(".modal-small").addClass("close"),setTimeout(()=>{F.parents(".modal-small").removeClass("close"),j(!1),u(!1)},400)}return a.useEffect(k=>{l==!0?(j(!0),setTimeout(()=>{O(`#modal-${g}`).removeClass("close"),O(`#modal-${g}`).addClass("open")},25)):(O(`#modal-${g}`).addClass("close"),O(`#modal-${g}`).removeClass("open"),c("cerro"))},[l]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"modal-small",id:`modal-${g}`,style:{display:h==!0?"flex":"none",overflow:"auto"},children:[e.jsx("div",{className:"closed"}),e.jsxs("div",{className:"body",style:{maxWidth:n,minWidth:t,width:o},children:[i,s?e.jsxs("div",{className:"actions",children:[e.jsx("button",{id:"close",onClick:v,children:p??"Cancelar"}),r?e.jsxs("button",{className:`done ${x==!0?" await":""}`,onClick:m,children:[d??"Guardar"," ",e.jsx("div",{className:"loading"})]}):""]}):""]})]})})}function yi({name:s,id:t,valueDefault:n,onChange:i}){const[o,l]=a.useState(Te());a.useEffect(()=>{n&&(document.querySelector(`.select-${o}`).value=n)},[]);function r(p){i&&i(p)}return e.jsxs("select",{name:s,id:t,onChange:r,className:`select-${o}`,children:[e.jsx("option",{value:"def",selected:!0,disabled:!0,children:"Seleccionar"}),e.jsx("option",{value:"md",children:"Marketing Digital"}),e.jsx("option",{value:"tec",children:"Tecnología"}),e.jsx("option",{value:"tele",children:"Telecomunicaciones"}),e.jsx("option",{value:"soft",children:"Software"})]})}function Gs(){const[s,t]=a.useState([]),[n,i]=a.useState(!0),[o,l]=a.useState(!1),[r,p]=a.useState(!1),[m,d]=a.useState({}),[u,x]=a.useState({name:"",color:"",type:""}),{setUserInfo:c,UserInfo:h}=a.useContext(X),[j,g]=a.useState(!1),N=Ae();a.useEffect(()=>{Re("/add")&&l(!0)},[N]);function v(){t([]),i(!0),T.post(P+"/api/get/companys",{},{withCredentials:!0}).then(w=>w.data).then(w=>{i(!1),t(w)})}a.useEffect(()=>{v()},[]),a.useEffect(()=>{},[m]);function k(){}function F(w){r?d(f=>({...f,color:w})):x(f=>({...f,color:w}))}function y(w){if(r){let f=O(w.target);f.addClass("await");let D=new FormData;D.append("name",m.name),D.append("color",m.color),D.append("type",m.type),D.append("id_company",m.id_company),T.post(P+"/update/editcompany",D,{withCredentials:!0}).then(E=>E.data).then(E=>{E.status&&(l(!1),A.success("Has editado correctamente."),v()),E.msg&&A.error(E.msg),f.removeClass("await")}).catch(E=>{f.removeClass("await")})}else{g(!0);let f=new FormData;f.append("name",u.name),f.append("color",u.color),f.append("type",u.type),T.post(P+"/api/upload/company",f,{withCredentials:!0}).then(D=>D.data).then(D=>{D.status&&(v(),l(!1),A.success("Has creado tu cuenta correctamente.")),D.msg&&A.error(D.msg),g(!1)}).catch(D=>{g(!1)})}}a.useEffect(()=>{O(".colors .option-color").css({opacity:"0.5"}),O(`.colors .option-color[value='${m.color}']`).addClass("active").css({opacity:1}),O(".form-input input[name='name']").val(m.name)},[m]);function S(w){l(!0),d(s[w])}function _(w,f){w.stopPropagation();try{c(D=>({...D,company:s[f]})),document.cookie=`company=${s[f].id_company}`,A.success("Empresa asignada correctamente.")}catch{}}function b(w,f){w.stopPropagation()}function C(w){r||x(f=>({...f,[w.target.name]:w.target.value}))}return e.jsxs(e.Fragment,{children:[e.jsxs(re,{onClick:y,visible:o,callback:l,close:w=>{d({})},Pending:j,next:`${r?"Editar":"Agregar"}`,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:r?"Editar cuenta":"Agregar cuenta"})}),e.jsxs("div",{className:"content",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre"}),e.jsx("input",{name:"name",type:"text",onChange:C})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Tipo"}),e.jsx(yi,{name:"type",onChange:C,valueDefault:`${r?m.type:"def"}`,callback:k},o?"modal-open":"modal-closed")]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Elige color de tu cuenta"}),e.jsx("span",{className:"desc",children:"El color te ayudara a identificar tu tipo de cuenta."}),e.jsxs("div",{className:"colors",children:[e.jsx(Ee,{color:"#2e56ff",fn:F}),e.jsx(Ee,{color:"#57c583",fn:F}),e.jsx(Ee,{color:"#3fcae9",fn:F}),e.jsx(Ee,{color:"#e9d43f",fn:F}),e.jsx(Ee,{color:"#d77613",fn:F}),e.jsx(Ee,{color:"#c069cb",fn:F}),e.jsx(Ee,{color:"#cb6992",fn:F})]},o?"a":"x")]})]})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MIS CUENTAS"}),e.jsx("span",{children:"Crea y administra tus cuentas, agrega Roles y Perfiles"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:w=>{l(!0),p(!1)},children:"Crear nueva cuenta"})})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx(hs,{}),e.jsxs("div",{className:"box box-padding",children:[s.map((w,f)=>{var D;return e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:w.photo?ps({company:{photo:w.photo}}):"img/icons/default_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:w.name}),e.jsxs("span",{className:"desc",children:["Creado el: ",xe(w.time_add,"complete")]})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:E=>{b(E)},children:e.jsx(Ja,{})}),e.jsx("button",{onClick:E=>{S(f),p(!0)},children:e.jsx(Cs,{})}),e.jsxs("button",{onClick:E=>{_(E,f)},children:[" ",((D=h==null?void 0:h.company)==null?void 0:D.id_company)==w.id_company?e.jsx(Xa,{}):e.jsx(Ka,{})," "]})]})]},f)}),n==!0?e.jsxs(e.Fragment,{children:["  ",e.jsx(_e,{})]}):""]})]})})]})}function ke({visible:s,onClick:t,callback:n,Pending:i,name:o}){const[l,r]=a.useState(s!=!1),[p,m]=a.useState(Te());function d(u){u.stopPropagation();let x=O(u.target);x.parents(".actions").find(".done.await").length?A.error("No puedes salir en este momento..."):(O(`#modal-${p}`).removeClass("open"),x.parents(".modal-small").addClass("close"),setTimeout(()=>{x.parents(".modal-small").removeClass("close"),r(!1),n(!1)},600))}return a.useEffect(u=>{s==!0?(r(!0),setTimeout(()=>{O(`#modal-${p}`).removeClass("close"),O(`#modal-${p}`).addClass("open")},25)):(O(`#modal-${p}`).addClass("close"),O(`#modal-${p}`).removeClass("open"),close("cerro"))},[s]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"modal-small delete",id:`modal-${p}`,style:{display:l==!0?"flex":"none"},children:[e.jsx("div",{className:"closed"}),e.jsxs("div",{className:"body",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Eliminar"})}),e.jsxs("span",{className:"dialog",children:["Estas apunto de eliminar ",o==null?"este objeto":"esta "+o,". ¿Estas seguro de querer eliminarlo?"]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{id:"close",onClick:d,children:"Cancelar"}),e.jsxs("button",{className:`done ${i==!0?"await":""}`,onClick:t,children:["Eliminar ",e.jsx("div",{className:"loading"})]})]})]})]})})}function bi(){const{UserInfo:s,LoadingAuth:t}=a.useContext(X),[n,i]=a.useState(!1),[o,l]=a.useState(!1),[r,p]=a.useState(["delete","read","send","add"]),[m,d]=a.useState(!1);let u={type_add:"",delete:0,add:0,read:0,send:0,sadmin:0};const[x,c]=a.useState(u),[h,j]=a.useState(),[g,N]=a.useState(!0),v=ae(),[k,F]=a.useState([]);async function y(){var D;let f=new FormData;f.append("id_company",(D=s==null?void 0:s.company)==null?void 0:D.id_company),F([]),N(!0),T.post(P+"/api/get/roles",f,{withCredentials:!0}).then(E=>E.data).then(E=>{F(E),N(!1)})}a.useEffect(()=>{t||s.company||(v("/companys"),A.error("Selecciona una empresa ")),g&&y()},[t]);function S(f){let D=f.target.value;O(f.target).is("input[type='checkbox']")?(c(E=>({...E,sadmin:0})),O(f.target).is("input[type='checkbox']:checked")?c(E=>({...E,[f.target.name]:1})):c(E=>({...E,[f.target.name]:0}))):(c(E=>({...E,[f.target.name]:D})),D=="sadmin"&&c(E=>({...E,sadmin:1})))}function _(f){let D=new FormData;x.rol!==void 0&&x.type_add!==void 0&&(D.append("sadmin",x!=null&&x.sadmin?x.sadmin:0),D.append("delete",x!=null&&x.delete?x.delete:0),D.append("read",x!=null&&x.read?x.read:0),D.append("add",x!=null&&x.add?x.add:0),D.append("send",x!=null&&x.send?x.send:0),D.append("rol",x.rol),D.append("id_company",s.company.id_company),m?(xs(f.target),D.append("id_rol",x==null?void 0:x.id_rol),T.post(P+"/api/update/permissions",D,{withCredentials:!0}).then(E=>E.data).then(async E=>{E.status&&(await y(),i(!1),Me(f.target)),E.msg&&(A.error("Opps error al aplicar cambios de permisos"),Me(f.target))}).catch(E=>{Me(f.target)})):(xs(f.target),T.post(P+"/api/upload/rol",D,{withCredentials:!0}).then(E=>E.data).then(E=>{E.status?(D.append("id_rol",E.id_rol),T.post(P+"/api/update/permissions",D,{withCredentials:!0}).then(q=>q.data).then(async q=>{q.status&&(await y(),i(!1),Me(f.target)),q.msg&&(A.error("Opps error al aplicar cambios de permisos"),Me(f.target))}).catch(q=>{Me(f.target)})):(E.msg&&A.error(E.msg),Me(f.target))}).catch(E=>{Me(f.target)})))}function b(f){let D=f.target.value;D&&(j(D),l(!0))}function C(f){xs(f.target);let D=new FormData;D.append("id_company",s.company.id_company),D.append("id_rol",h),h?T.post(P+"/api/delete/rol",D,{withCredentials:!0}).then(E=>E.data).then(E=>{E.status&&(l(!1),y()),E.msg&&A.error(E.msg),Me(f.target)}).catch(E=>{Me(f.target)}):A.error("No has seleccionado ningun id")}function w(f){let D=f.target.value;i(!0),d(!0),c(E=>({...E,id_rol:k[D].id_rol,rol:k[D].rol})),setTimeout(()=>{k[D].permissions.sadmin?(c(E=>({...E,type_add:"sadmin"})),document.querySelector("select").value="sadmin"):(c(E=>({...E,type_add:"pers"})),document.querySelector("select").value="pers",r.forEach((E,q)=>{k[D].permissions[E]&&document.querySelector(`input[name='${E}']`).click()}))},25)}return e.jsxs(e.Fragment,{children:[e.jsx(ke,{visible:o,callback:l,onClick:C},o?"opxen":"clxose"),e.jsxs(re,{onClick:_,maxWidth:380,visible:n,callback:i,next:m?"Actualizar":"Guardar",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:m?"Editar rol":"Agregar rol"})}),e.jsxs("div",{className:"content",children:[m?"":e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de rol",name:"rol",onChange:S,value:(x==null?void 0:x.rol)==null?"":x==null?void 0:x.rol})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"type_add",id:"",onChange:S,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Seleccionar tipo"}),e.jsx("option",{value:"pers",children:"Personalizado"}),e.jsx("option",{value:"sadmin",children:"Super Admin"})]})}),x.type_add=="pers"?e.jsx("table",{children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Permisos"}),e.jsx("td",{children:"Seleccionar"})]}),r.map(f=>e.jsxs("tr",{children:[e.jsx("td",{children:f}),e.jsx("td",{children:e.jsx("input",{type:"checkbox",onChange:S,name:f})})]}))]})}):x.type_add=="sadmin"?e.jsxs("div",{className:"ad",children:[e.jsx("p",{children:"Advertencia"}),e.jsx("span",{children:"Al asignar un rol con permisos de super administrador, le daras derecho a hacer las mismas acciones que tu cuenta principal, podra manipular empresas o hacer cosas que solamente tu puedes hacer."})]}):e.jsx(e.Fragment,{})]})]},n?"open":"close"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus roles"}),e.jsx("span",{children:"Crea y elimina los roles de tu empresa, da permisos a usuarios para que puedan iniciar sesion y manipular tu empresa"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:f=>{i(!0),c(u),d(!1)},children:"Crear nuevo rol"})})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx(hs,{}),e.jsxs("div",{className:"box box-padding",children:[k.map((f,D)=>{var E,q,$,le,de,G,z,W;return e.jsxs("div",{className:"item flex",children:[e.jsx("div",{className:"info",children:e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:[f.rol," ",f.permissions.sadmin==!0?e.jsx("span",{className:"super-adm",children:"ADM"}):""," "]}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})}),e.jsxs("div",{children:[e.jsx("p",{children:"Lectura"}),e.jsx("div",{className:"center-roles",children:(E=f==null?void 0:f.permissions)!=null&&E.read?e.jsx("span",{className:"yes",children:e.jsx(De,{})}):((q=f==null?void 0:f.permissions)==null?void 0:q.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(De,{})}):e.jsx("span",{className:"no",children:e.jsx(ss,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Envio"}),e.jsx("div",{className:"center-roles",children:($=f==null?void 0:f.permissions)!=null&&$.send?e.jsx("span",{className:"yes",children:e.jsx(De,{})}):((le=f==null?void 0:f.permissions)==null?void 0:le.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(De,{})}):e.jsx("span",{className:"no",children:e.jsx(ss,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Borrar"}),e.jsx("div",{className:"center-roles",children:(de=f==null?void 0:f.permissions)!=null&&de.delete?e.jsx("span",{className:"yes",children:e.jsx(De,{})}):((G=f==null?void 0:f.permissions)==null?void 0:G.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(De,{})}):e.jsx("span",{className:"no",children:e.jsx(ss,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Agregar"}),e.jsx("div",{className:"center-roles",children:(z=f==null?void 0:f.permissions)!=null&&z.add?e.jsx("span",{className:"yes",children:e.jsx(De,{})}):((W=f==null?void 0:f.permissions)==null?void 0:W.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(De,{})}):e.jsx("span",{className:"no",children:e.jsx(ss,{})})})]}),e.jsx("div",{children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:w,value:D,children:e.jsx(Cs,{})}),e.jsx("button",{onClick:b,value:f.id_rol,children:e.jsx(me,{})})]})})]},D)}),g?e.jsx(_e,{}):k.length==0?e.jsx(Ne,{}):""]})]})})]})}function Ci(){const{UserInfo:s}=a.useContext(X),[t,n]=a.useState([]),[i,o]=a.useState(!1),[l,r]=a.useState({name:"",password:"",email:"",id_rol:""}),[p,m]=a.useState(!1),[d,u]=a.useState([]),[x,c]=a.useState(!1),[h,j]=a.useState(),[g,N]=a.useState(!1),[v,k]=a.useState({id_user:"",id_rol:""}),[F,y]=a.useState(!1);function S(E){let q=E.target.value,$=E.target.name;r(le=>({...le,[$]:q}))}function _(){var q;c(!0);let E=new FormData;E.append("id_company",(q=s==null?void 0:s.company)==null?void 0:q.id_company),T.post(P+"/api/get/subusers",E,{withCredentials:!0}).then($=>$.data).then($=>{c(!1),n($)}).catch($=>{c(!1)})}function b(){var E;if(l.name&&l.email&&l.password&&l.id_rol)if(l.password.length>=6){let q=new FormData;m(!0),q.append("name",l.name),q.append("email",l.email),q.append("password",l.password),q.append("id_rol",l.id_rol),q.append("id_company",(E=s.company)==null?void 0:E.id_company),T.post(P+"/api/upload/subuser",q,{withCredentials:!0}).then($=>$.data).then($=>{m(!1),$.status?(o(!1),n([]),_()):A.error($.msg)}).catch($=>{m(!1)})}else A.error("Tu password no es correcta debe de tener 6 o mas caracteres");else A.error("Opps has dejado campos vacios")}function C(E){k(q=>({...q,id_user:t[E].id,id_rol:t[E].id_rol,name:t[E].name})),setTimeout(()=>{document.querySelector("select").value=t[E].id_rol},20),N(!0)}function w(E){let q=t[E].id_admin;q&&(j(q),y(!0))}a.useEffect(()=>{var q;let E=new FormData;E.append("id_company",(q=s==null?void 0:s.company)==null?void 0:q.id_company),T.post(P+"/api/get/roles",E,{withCredentials:!0}).then($=>$.data).then($=>{u($)}),_()},[]);function f(){var E;if(v.id_rol&&v.id_user){m(!0);let q=new FormData;q.append("id_company",(E=s==null?void 0:s.company)==null?void 0:E.id_company),q.append("id_rol",v.id_rol),q.append("id_user",v.id_user),T.post(P+"/api/update/subuser",q,{withCredentials:!0}).then($=>$.data).then($=>{$.status&&(_(),n([]),A.success("Has editato el usuario correctamente."),N(!1)),m(!1)}).catch($=>{m(!1)})}}function D(){var E;if(h){m(!0);let q=new FormData;q.append("id_user",h),q.append("id_company",(E=s==null?void 0:s.company)==null?void 0:E.id_company),T.post(P+"/api/delete/subuser",q,{withCredentials:!0}).then($=>$.data).then($=>{$.status&&(y(!1),m(!1),_(),n([]),A.success("Has borrado el usuario correctamente.")),$.msg&&A.error($.msg)}).finally(()=>{m(!1)})}else A.error("Opps no has seleccionado nada")}return e.jsxs(e.Fragment,{children:[e.jsx(ke,{visible:F,callback:y,onClick:D,Pending:p}),e.jsxs(re,{visible:g,callback:N,Pending:p,onClick:f,next:"Editar",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Editar"})}),e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{children:["Editar rol del usuario @",v.name]}),e.jsxs("select",{onChange:E=>{k(q=>({...q,id_rol:E.target.value}))},name:"",id:"",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Seleccionar Rol"}),d.map((E,q)=>e.jsx("option",{value:E.id_rol,children:E.rol}))]})]})]}),e.jsx(re,{visible:i,callback:o,next:"Agregar",onClick:b,Pending:p,children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Agregar"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre",name:"name",onChange:S})}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Email",name:"email",onChange:S})}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"password",placeholder:"Contraseña",name:"password",onChange:S})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"id_rol",id:"",onChange:S,children:[e.jsx("option",{value:"",children:"Seleccionar Rol"}),d.map((E,q)=>e.jsx("option",{value:E.id_rol,children:E.rol}))]})})]})},`${i?"open":"close"}`),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus usuarios"}),e.jsx("span",{children:"Crea y elimina usuarios, estos usuarios son de tu empresa, deben de tener un rol asignado para poder hacer ciertas funciones. Estos usuarios pueden utilizar la api si le das el acceso y podran consumir recursos desde alli."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:E=>{o(!0)},children:"Crear nuevo usuario"})})]}),e.jsx(hs,{}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[t.map((E,q)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default-user.jpg",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:E.user}),E.is_owner?e.jsx("span",{className:"desc",children:"Rol - Creador"}):e.jsxs("span",{className:"desc",children:["Rol - ",E.rol]}),e.jsx("br",{}),e.jsxs("span",{className:"desc",children:["Creado el: ",xe(t.time_add)]})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{className:"edit-btn",onClick:$=>{C(q)},value:q,children:e.jsx(Cs,{})}),e.jsx("button",{className:"remove-btn",onClick:$=>{w(q)},value:E.id_rol,children:e.jsx(me,{})})]})})]},q)),x==!1?t.length==0?e.jsx(Ne,{name:"usuarios"}):"":e.jsx(_e,{})]})})})]})}function Is({campaign:s,setFormProgamming:t}){const[n,i]=a.useState("default");function o(p){let m=p.target.value;i(m)}function l(){i("default")}function r(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"return-top",children:e.jsx("button",{onClick:l,children:e.jsx(Qe,{})})})})}return a.useEffect(()=>{switch(n){case"daysname":t({target:{value:"bucle",name:"p_type"}});break}},[n]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Programar campaña"})}),e.jsxs("div",{className:"data",children:[n=="default"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"select-buttons",children:[e.jsx("button",{onClick:o,value:"date",children:"Fecha especifica"}),e.jsx("button",{onClick:o,value:"daysname",children:"Dias especificos"}),e.jsx("button",{onClick:o,value:"daysnumber",children:"Recordatorios"}),e.jsx("button",{onClick:o,value:"fidelizacion",children:"Fidelizacion"})]})}):"",n=="date"?e.jsxs(e.Fragment,{children:[e.jsx(r,{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"date",name:"date",onChange:t})}),e.jsxs("div",{className:"form-input flex",children:[e.jsx("input",{type:"text",placeholder:"hora",name:"hh",onChange:t}),e.jsx("input",{type:"text",placeholder:"minuto",name:"ii",onChange:t}),e.jsxs("select",{name:"ampm",id:"",children:[e.jsx("option",{value:"pm",children:"p.m."}),e.jsx("option",{value:"am",children:"a.m."})]})]})]}):"",n=="daysname"?e.jsxs(e.Fragment,{children:[e.jsx(r,{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Que dia de la semana quieres que se envie"}),e.jsxs("select",{name:"dd",onChange:t,id:"",children:[e.jsx("option",{value:"Sun",children:"Domingo"}),e.jsx("option",{value:"Mon",children:"Lunes"}),e.jsx("option",{value:"Tues",children:"Martes"}),e.jsx("option",{value:"Wed",children:"Miércoles"}),e.jsx("option",{value:"Thurs",children:"Jueves"}),e.jsx("option",{value:"Fri",children:"Viernes"}),e.jsx("option",{value:"Sat",children:"Sábado"})]})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("button",{children:"Cada 1 mes"}),e.jsx("br",{}),e.jsx("button",{children:"Cada 2 meses"}),e.jsx("br",{}),e.jsx("button",{children:"Cada 3 meses"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Cuando expira"}),e.jsx("input",{type:"date",onChange:t,name:"timeExpire"})]})]}):"",n=="daysnumber"?e.jsxs(e.Fragment,{children:[e.jsx(r,{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Que dia quieres que se envie (Esto enviara el numero elegio cada mes, es decir ejemplo: 01 es igual a los 01 de cada mes)"}),e.jsx("select",{name:"dd",onChange:t,children:Array.from({length:31},(p,m)=>e.jsx("option",{value:String(m+1).padStart(2,"0"),children:String(m+1).padStart(2,"0")},m+1))})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Cuando expira (Si no pones fecha es indefinido)"}),e.jsx("input",{type:"date",onChange:t,name:"timeExpire"})]})]}):"",n=="fidelizacion"?e.jsxs(e.Fragment,{children:[e.jsx(r,{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Que campo validador quieres utilizar (estas campañas funcionan de forma que verifican si en el campo validador elegido esta una fecha en caso de ser asi se enviara un correo al usuario, con los parametros configurados)"}),e.jsxs("select",{name:"dd",onChange:t,children:[e.jsx("option",{value:"",children:"Selecciona el campo"}),e.jsx("option",{value:"",children:"Birthday"}),e.jsx("option",{value:"",children:"Extra 1"}),e.jsx("option",{value:"",children:"Extra 2"}),e.jsx("option",{value:"",children:"Extra 3"}),e.jsx("option",{value:"",children:"Extra 4"}),e.jsx("option",{value:"",children:"Extra 5"})]})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Cuando expira (Si no pones fecha es indefinido)"}),e.jsx("input",{type:"date",onChange:t,name:"timeExpire"})]})]}):""]})]})}function Js({value:s,defaultValue:t,onChange:n,onSave:i,Send:o=!0,Preview:l=!0}){const r=a.useRef(null),[p,m]=a.useState(""),[d,u]=a.useState(!0),[x,c]=a.useState(0),h=j=>{const g=r.current,N=g.value,v=window.getSelection().toString(),k=g.selectionStart,F=g.selectionEnd,y=N.substring(0,k),S=N.substring(F),_=y+j+v+S;m(_),g.value=_,g.focus(),g.setSelectionRange(k+j.length+v.length,k+j.length+v.length)};return a.useEffect(()=>{n(p),c(p.length)},[p]),a.useEffect(()=>{s&&d&&(u(!1),m(s))},[s]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"textarea-sms",children:[e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:()=>h("$name"),children:"Nombre"}),e.jsx("button",{onClick:()=>h("$lastname"),children:"Apellido"}),e.jsx("button",{onClick:()=>h("$dni"),children:"Dni"}),e.jsx("button",{onClick:()=>h("$code"),children:"Codigo"}),e.jsx("button",{onClick:()=>h("$city"),children:"Ciudad"}),e.jsx("button",{onClick:()=>h("$country"),children:"Pais"}),e.jsx("button",{onClick:()=>h("$birthday"),children:"Nacimiento"}),e.jsx("button",{onClick:()=>h("$address"),children:"Direccion"}),e.jsx("button",{onClick:()=>h("$occupation"),children:"Ocupacion"}),e.jsx("button",{onClick:()=>h("$gender"),children:"Sexo"}),e.jsx("button",{onClick:()=>h("$phone"),children:"Telefono"}),e.jsx("button",{onClick:()=>h("$email"),children:"Correo Electronico"}),e.jsx("button",{onClick:()=>h("$1"),children:"Extra (1)"}),e.jsx("button",{onClick:()=>h("$2"),children:"Extra (2)"}),e.jsx("button",{onClick:()=>h("$3"),children:"Extra (3)"}),e.jsx("button",{onClick:()=>h("$4"),children:"Extra (4)"}),e.jsx("button",{onClick:()=>h("$5"),children:"Extra (5)"}),e.jsx("button",{onClick:()=>h("$6"),children:"Extra (6)"}),e.jsx("button",{onClick:()=>h("$7"),children:"Extra (7)"}),e.jsx("button",{onClick:()=>h("$8"),children:"Extra (8)"}),e.jsx("button",{onClick:()=>h("$9"),children:"Extra (9)"}),e.jsx("button",{onClick:()=>h("$10"),children:"Extra (10)"}),e.jsx("button",{onClick:()=>h("$11"),children:"Extra (11)"}),e.jsx("button",{onClick:()=>h("$12"),children:"Extra (12)"}),e.jsx("button",{onClick:()=>h("$13"),children:"Extra (13)"}),e.jsx("button",{onClick:()=>h("$14"),children:"Extra (14)"}),e.jsx("button",{onClick:()=>h("$15"),children:"Extra (15)"}),e.jsx("div",{className:"count",children:e.jsxs("i",{children:["166/",x]})})]}),e.jsx("textarea",{placeholder:"Que comienze la historia...",ref:r,className:"text",value:s,defaultValue:t,onChange:j=>m(j.target.value)}),e.jsxs("div",{className:"bottom-actions",children:[e.jsxs("button",{children:[e.jsx(Ya,{})," Borrar"]}),l?e.jsxs("button",{children:[e.jsx(Ie,{})," Previsualizar SMS"]}):"",o?e.jsx("button",{className:"preview",onClick:i,children:"Enviar Campaña"}):"",e.jsxs("button",{className:"preview",onClick:i,children:[e.jsx(ee,{icon:"mynaui:save"})," Guardar "]})]})]})})}function wi({status:s,PauseCampaign:t,style:n}){return e.jsxs(e.Fragment,{children:[s=="prepare"?e.jsx(e.Fragment,{children:e.jsxs("span",{style:n,className:"wait",children:["En espera... ",e.jsx(M,{icon:"mdi:check"})]})}):"",s=="programmed"?e.jsx(e.Fragment,{children:e.jsxs("span",{style:n,className:"programmed",children:[" Programada ",e.jsx(M,{icon:"fa-solid:check"})]})}):"",s=="sent"?e.jsx(e.Fragment,{children:e.jsxs("span",{style:n,className:"ready-list",children:["Enviado ",e.jsx(M,{icon:"mdi:check-all"})," "]})}):"",s=="sending"?e.jsxs(e.Fragment,{children:[e.jsxs("span",{style:n,className:"ready-list",children:[" Enviando... ",e.jsx(Za,{})]}),e.jsx("button",{onClick:t,children:e.jsx(Ua,{})})]}):""]})}function ki({Close:s,campaign:t,setCampaign:n}){const[i,o]=a.useState([]),{UserInfo:l}=a.useContext(X),[r,p]=a.useState(!1);function m(){var h;let c=new FormData;c.append("id_company",(h=l==null?void 0:l.company)==null?void 0:h.id_company),c.append("type",$t(t.type_c)),T.post(P+"/api/get/list",c,{withCredentials:!0}).then(j=>j.data).then(j=>{o(j)})}function d(c){var h;if(c.contacts>1&&c.contacts<5){n(g=>{let N={...g};return N.lists_test=c.id_list,N});let j=new FormData;j.append("id_company",(h=l==null?void 0:l.company)==null?void 0:h.id_company),j.append("id_campaign",t.id_campaign),j.append("id_list_test",c.id_list),T.post(P+"/api/update/campaign/idlistest",j,{withCredentials:!0})}else ie.error("Tu lista no cumple los requisitos")}function u(){n({...t,lists_test:""})}function x(){var h;p(!0);let c=new FormData;c.append("id_campaign",t.id_campaign),c.append("id_company",(h=l==null?void 0:l.company)==null?void 0:h.id_company),c.append("id_list_test",t.lists_test),T.post(P+"/api/send/campaign",c,{withCredentials:!0}).then(j=>j.data).then(j=>{j.status&&(ie.success("Se ha enviado el envio de pruebas."),s(!1))}).finally(()=>{p(!1)})}return a.useEffect(()=>{t.lists_test||m()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Envio de prueba"}),t!=null&&t.lists_test?e.jsx("span",{children:"envia una prueba a tu lista preferida"}):e.jsx("span",{children:"Selecciona una lista para usar en este envio de pruebas no puede exceder los 5 usuarios"})]}),t!=null&&t.lists_test?e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx("div",{className:"box",children:e.jsxs("div",{className:"item flex-wrap",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/lists.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:["Lista ",t==null?void 0:t.lists_test]}),e.jsx("span",{className:"desc",children:"Esta es la lista seleccionada para el envio de pruebas"})]})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{onClick:u,children:e.jsx(me,{})})})]})}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:c=>{s(!1)},children:"Cerrar"}),e.jsxs("button",{className:r?"await":"",onClick:x,children:[" ",e.jsx("div",{className:"loading"})," Enviar"]})]})]}):e.jsx("div",{className:"data",children:e.jsx("div",{className:"row",children:i.map((c,h)=>e.jsx("div",{className:"col-md-12 page-lists",children:e.jsx("div",{className:"box",children:e.jsxs("div",{className:"item flex-wrap select",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/lists.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:c.name}),e.jsxs("span",{className:"desc",children:["Contactos: ",c.contacts]})]})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{onClick:j=>{d(c)},children:e.jsx(Pe,{})})})]})})}))})})]})}function Xs(s,t,n){s(i=>({...i,[t]:n}))}function Ks(s,t,n){Xs(n,"downloadContacts",!0);let i=new FormData;i.append("id_company",t),i.append("id_lists",s),T.post(P+"/api/get/downloadContacts",i,{withCredentials:!0}).then(o=>o.data).then(o=>{o.status&&Ot(P+"/api/get/downloadfile?route=temp&name="+o.name_file,"contacts")}).finally(()=>{Xs(n,"downloadContacts",!1)})}function Fa({type:s="lists,campaigns",id_company:t,id_list:n=null,id_campaign:i=null}){a.useState(!1);const[o,l]=a.useState({downloadContacts:!1});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"footer-convertion",children:[e.jsxs("div",{className:"title",children:[e.jsx("p",{children:"Acciones Rapidas"}),e.jsx("span",{children:"Elige que quieres hacer de forma rapida y sencilla"})]}),e.jsx("hr",{}),e.jsxs("div",{className:"flex",style:{gap:"10px"},children:[s=="lists"&&e.jsxs(e.Fragment,{children:[e.jsxs(B,{to:"/contacts/segments/add",children:[e.jsx(ee,{icon:"ph:line-segments"})," Segmentar Lista"]}),e.jsxs("button",{onClick:r=>{Ks(n,t,l)},className:o.downloadContacts?"await":"",children:[e.jsx(ee,{icon:"material-symbols:download"})," Descargar Contactos ",e.jsx("div",{className:"loading"})]}),e.jsxs(B,{to:"/campaigns/new",className:o.downloadContacts?"await":"",children:[e.jsx(ee,{icon:"gg:add"})," Crear Campana ",e.jsx("div",{className:"loading"})]})]}),s=="campaign"&&e.jsxs(e.Fragment,{children:[e.jsxs(B,{to:"/contacts/segments/add",children:[e.jsx(ee,{icon:"ph:line-segments"})," Segmentar Lista"]}),e.jsxs("button",{onClick:r=>{Ks(n,t,l)},className:o.downloadContacts?"await":"",children:[e.jsx(ee,{icon:"material-symbols:download"})," Descargar Contactos ",e.jsx("div",{className:"loading"})]}),e.jsxs(B,{to:"/campaigns/new",className:o.downloadContacts?"await":"",children:[e.jsx(ee,{icon:"gg:add"})," Crear Campana ",e.jsx("div",{className:"loading"})]})]})]})]})})}function Si(){var Fs,Ds,Ps,Ts,qs,Ms,Ls,Rs;const s=pe(),{UserInfo:t}=a.useContext(X),n=ae();a.useState(!1);const[i,o]=a.useState({});let l={lists:!1,body:!1,affair:!1};const[r,p]=a.useState(l),[m,d]=a.useState({lists:[]}),[u,x]=a.useState({lists:!1}),[c,h]=a.useState([]),[j,g]=a.useState({sendCampaign:!1,updateHtml:!1}),[N,v]=a.useState({affair:""}),[k,F]=a.useState(!1),[y,S]=a.useState(),[_,b]=a.useState(!1),[C,w]=a.useState({hh:"",mm:"",dd:"",ii:"",yy:"",timeExpire:"",p_type:"default"}),[f,D]=a.useState(!1);a.useState({});const[E,q]=a.useState(),[$,le]=a.useState(!1),[de,G]=a.useState([]),[z,W]=a.useState(!1),[Y,oe]=a.useState(e.jsx(e.Fragment,{})),[he,L]=a.useState(!1);function K(R){var V;I(!0);let Q=new FormData;Q.append("id_company",(V=t==null?void 0:t.company)==null?void 0:V.id_company),c.lists&&Q.append("ignore_id",c.lists),d(te=>({...te,lists:[]})),R&&Q.append("search",R),T.post(P+"/api/get/list",Q,{withCredentials:!0}).then(te=>te.data).then(te=>{d(ue=>({...ue,lists:te})),I(!1)})}function I(R){x(Q=>({...Q,lists:R}))}let ne=0;function je(R){let Q=R.target.value;clearTimeout(ne),ne=setTimeout(()=>{K(Q)},250)}function ge(){clearTimeout(ne)}a.useEffect(()=>{r.lists&&K()},[r]);function ye(){var Q;let R=new FormData;R.append("id_company",(Q=t==null?void 0:t.company)==null?void 0:Q.id_company),R.append("id_campaign",s.id),T.post(P+"/api/get/campaign",R,{withCredentials:!0}).then(V=>V.data).then(V=>{h(V),V.type_c&&(V.type_c=="em"||V.type_c=="sms")&&L(!0)}).catch(V=>{})}a.useEffect(()=>{ye()},[]),a.useEffect(()=>{c!=null&&c.id_template&&qe()},[c]);function qe(){var Q;let R=new FormData;R.append("id_company",(Q=t==null?void 0:t.company)==null?void 0:Q.id_company),R.append("id_template",c==null?void 0:c.id_template),R.append("type","all"),T.post(P+"/api/get/templatejson",R,{withCredentials:!0}).then(V=>V.data).then(V=>{var te;q((te=V==null?void 0:V.json)==null?void 0:te.msg)}).catch(V=>{A.error(String(V))})}function Ze(R){var V,te;let Q=R.target.value;if(Q){let ue=new FormData;ue.append("id_list",Q),ue.append("id_company",(V=t==null?void 0:t.company)==null?void 0:V.id_company),ue.append("id_campaign",s.id);let Ce=!1;if((te=c==null?void 0:c.lists)!=null&&te.length?c.lists.includes(Q)||(Ce=!0,h(Fe=>({...Fe,lists:Fe.lists+","+Q}))):(h(Fe=>({...Fe,lists:Q})),Ce=!0),Ce){let Fe=O(R.target);Fe=Fe.parents(".result"),Fe.hide("x"),T.post(P+"/api/update/addlistcampaign",ue,{withCredentials:!0}).then(We=>We.data).then(We=>{We.status}).catch(We=>{})}}}function ns(R){var V;let Q=R.target.value;if(Q){h(ue=>{let Ce={...ue};return Ce.id_domain=Q,Ce}),A.success("Excelente"),p({...r,domain:!1});let te=new FormData;te.append("id_company",(V=t==null?void 0:t.company)==null?void 0:V.id_company),te.append("id_campaign",c==null?void 0:c.id_campaign),te.append("id_domain",Q),T.post(P+"/api/update/campaign/domain",te,{withCredentials:!0}).then(ue=>ue.data).then(ue=>{})}}function ls(R){let Q=R.target.value;if(Q){let V=new FormData;V.append("id_campaign",c.id_campaign),V.append("id_list",Q),V.append("id_company",t.company.id_company),T.post(P+"/api/delete/listscampaign",V,{withCredentials:!0}),h(te=>{var Fe;let ue={...te},Ce=ue.lists;if(te!=null&&te.lists){Ce=(Fe=te==null?void 0:te.lists)==null?void 0:Fe.replace(","+Q,"").replace(Q,"");let We=Ce.split(",");We[0]||(Ce=We[1])}return ue.lists=Ce,ue})}}function He(R){p(l),p(Q=>({...Q,[R]:!0}))}function Ue(){var V,te;let R=(V=document.querySelectorAll(".item .top"))==null?void 0:V.length,Q=(te=document.querySelectorAll(".item .top.active"))==null?void 0:te.length;return R!==Q&&A.error("Opps tienes campos que terminar."),R==Q}function es(R){var Q;if(Ue()){Xe("sendCampaign",!0);let V=new FormData;V.append("id_company",(Q=t==null?void 0:t.company)==null?void 0:Q.id_company),V.append("id_campaign",s.id),T.post(P+"/api/send/campaign",V,{withCredentials:!0}).then(te=>te.data).then(te=>{Xe("sendCampaign",!1),te.status&&!te.msg?(A.success("Campaña enviada!"),h({...c,status:"sending"})):A.error(te.msg)}).catch(te=>{Xe("sendCampaign",!1)})}}function cs(R){var te;let Q=O(R.target);Q.addClass("await");let V=new FormData;V.append("affair",N.affair),V.append("id_company",(te=t==null?void 0:t.company)==null?void 0:te.id_company),V.append("id_campaign",c.id_campaign),T.post(P+"/api/update/setaffair",V,{withCredentials:!0}).then(ue=>ue.data).then(ue=>{Q.removeClass("await"),ue.status?(p(l),h(Ce=>({...Ce,affair:N.affair}))):A.error(ue.msg)}).catch(ue=>{Q.removeClass("await")})}function Xe(R,Q){g(V=>({...V,[R]:Q}))}function rs(){var Q;b(!0);let R=new FormData;R.append("id_company",(Q=t==null?void 0:t.company)==null?void 0:Q.id_company),R.append("id_campaign",s.id),T.post(P+"/api/delete/campaign",R,{withCredentials:!0}).then(V=>V.data).then(V=>{b(!1),V.status&&n("/campaigns")}).catch(V=>{b(!1)})}function os(R){let Q=R.target.value,V=R.target.name;if(V=="date"){const te=new Date(Q),ue=te.getDate()+1,Ce=te.getFullYear(),Fe=te.getMonth()+1;w({...C,dd:ue,yy:Ce,mm:Fe})}else w({...C,[V]:Q})}function se(){var Q;let R=new FormData;D(!0),R.append("id_company",(Q=t==null?void 0:t.company)==null?void 0:Q.id_company),R.append("hh",C.hh?C.hh:"?"),R.append("dd",Hs(C.dd)?Hs(C.dd):"?"),R.append("yy",C.yy?C.yy:"?"),R.append("mm",C.mm?C.mm:"?"),R.append("ii",C.ii?C.ii:"?"),R.append("id_campaign",s.id),R.append("timeExpire",C==null?void 0:C.timeExpire),R.append("p_type",C==null?void 0:C.p_type),R.append("type","campaign"),T.post(P+"/api/update/programming",R,{withCredentials:!0}).then(V=>V.data).then(V=>{D(!1),V.status&&(S(!1),h({...c,status:"programmed"}),A.success("Campana programada con exito"))}).catch(V=>{D(!1)})}function Z(){var Q;let R=new FormData;R.append("msg",E),R.append("id_campaign",s.id),R.append("id_company",(Q=t==null?void 0:t.company)==null?void 0:Q.id_company),R.append("type","sms"),c!=null&&c.id_template&&R.append("id_template",c==null?void 0:c.id_template),T.post(P+"/api/upload/bodycampaign",R,{withCredentials:!0}).then(V=>V.data).then(V=>{V.status&&A.success("Guardado con exito")}).catch(V=>{A.error(String(V))})}function U(){var Q;let R=new FormData;R.append("id_campaign",c==null?void 0:c.id_campaign),R.append("id_company",(Q=t==null?void 0:t.company)==null?void 0:Q.id_company),T.post(P+"/api/update/pausecampaign",R,{withCredentials:!0}).then(V=>V.data).then(V=>{V.status&&h({...c,status:"prepare"})})}function ce(){var Q;let R=new FormData;R.append("id_company",(Q=t==null?void 0:t.company)==null?void 0:Q.id_company),R.append("status",!0),T.post(P+"/api/get/domains",R,{withCredentials:!0}).then(V=>V.data).then(V=>{G(V)})}function $e(){document.querySelector("input[name='body_file']").click()}function Ma(){o({})}function La(R){if(R.target.files[0].name.indexOf(".html")>=0){o(R.target.files[0]);const Q=new FileReader;Q.onload=function(V){const te=V.target.result;oe(te)},Q.onerror=function(){A.error("Error al leer el archivo HTML")},Q.readAsText(R.target.files[0])}else A.error("Opps no es un archivo HTML")}function Ra(){var Q;g({...j,updateHtml:!0});let R=new FormData;R.append("id_campaign",s.id),R.append("id_company",(Q=t==null?void 0:t.company)==null?void 0:Q.id_company),R.append("file",i),R.append("title",i==null?void 0:i.name),R.append("type","email"),T.post(P+"/api/upload/bodycampaign",R,{withCredentials:!0}).then(V=>V.data).then(V=>{V.status&&(A.success("Has subido correctamente tu archivo html"),o(!1),ye())}).finally(()=>{g({...j,updateHtml:!1})})}function Aa(){var Q;let R=new FormData;R.append("id_campaign",s.id),R.append("id_company",(Q=t==null?void 0:t.company)==null?void 0:Q.id_company),T.post(P+"/api/update/resetCampaign",R,{withCredentials:!0}).then(V=>V.data).then(V=>{V.status?(h({...c,status:"prepare"}),A.success("Has restablecito tu campaña.")):A.error("Opps error al restablecer tu campaña.")})}function Es(){W(!0)}return e.jsxs(e.Fragment,{children:[z&&e.jsxs("div",{className:"preview-html",children:[e.jsxs("div",{className:"controls",children:[e.jsx("div",{className:"left",children:e.jsx("button",{className:"btn-action",onClick:R=>{W(!1)},children:e.jsx(M,{icon:"icon-park-outline:return"})})}),e.jsx("p",{className:"title",children:"Previsualizar HTML"})]}),e.jsx("div",{className:"body",dangerouslySetInnerHTML:{__html:Y}})]}),e.jsx(re,{maxWidth:400,minWidth:400,visible:$,callback:le,buttonsActions:!1,children:e.jsx(ki,{Close:le,setCampaign:h,campaign:c})}),e.jsx(re,{visible:y,callback:S,width:"30%",onClick:se,maxWidth:"500px",next:"Programar",Pending:f,children:e.jsx(Is,{setFormProgamming:os,campaign:c})},Is?"XD":"xd"),e.jsx(ke,{visible:k,callback:F,Pending:_,onClick:rs,name:"campana"}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles de campaña"}),e.jsx("span",{children:'Gestiona tus campañas de manera eficiente y optimiza tus estrategias de marketing con nuestra función de "Detalles de Campaña".'})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:R=>{setModalWizard(!0)},children:e.jsx(Qe,{})})})]}),e.jsxs("div",{className:"menu-top-right",children:[c.status=="programmed"?e.jsx("button",{className:"h-blue",onClick:Aa,children:"Reprogramar"}):e.jsxs("button",{className:"h-blue",onClick:R=>{Ue()&&S(!0)},children:[e.jsx(M,{icon:"svg-spinners:clock"})," Programar"]}),e.jsxs("button",{className:"h-blue",onClick:R=>n("/campaigns/stats/"+(s==null?void 0:s.id)),children:[e.jsx(M,{icon:"bx:stats"})," Estadisticas"]}),e.jsxs("button",{className:"h-red ",onClick:R=>{F(!0)},children:[e.jsx(M,{icon:"iconamoon:trash"})," Eliminar"]}),e.jsxs("button",{className:"h-blue ",onClick:R=>{n("/campaigns/autoresponse/"+(s==null?void 0:s.id))},children:[e.jsx(M,{icon:"material-symbols:autostop-rounded"})," AutoResponder"]}),he&&e.jsx(e.Fragment,{children:c.status!=="programmed"&&c.status!=="sending"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:`h-blue ${j.sendCampaign?"await":""} `,onClick:R=>{le(!0)},children:[e.jsx(M,{icon:"streamline:interface-share-user-human-person-share-signal-transmit-user"})," Enviar Prueba ",e.jsx("div",{className:"loading"})]}),c.sendsCampaign?e.jsxs("button",{className:`return${j.sendCampaign?"await":""} `,onClick:es,children:[" ",e.jsx(M,{icon:"ant-design:retweet-outlined"})," Reenviar Campaña ",e.jsx("div",{className:"loading"})]}):e.jsxs("button",{className:`send${j.sendCampaign?"await":""} `,onClick:es,children:[e.jsx(M,{icon:"lucide:send"})," Enviar Campaña ",e.jsx("div",{className:"loading"})]})]})})]}),e.jsxs("div",{className:"box steps",children:[e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:[" ",e.jsx("b",{children:"Campaña:"})," ",c.name," "]}),e.jsxs("p",{className:"title",children:[" ",e.jsx("b",{children:"Creada:"})," 29 de may de 2023 "]})]})]}),e.jsxs("div",{style:{position:"relative",top:"21px"},children:[e.jsx("p",{style:{display:"inline"},children:"Estatus:"}),e.jsx(wi,{style:{marginLeft:"9px",fontSize:"16px",position:"relative",top:"-1px"},PauseCampaign:U,status:c==null?void 0:c.status})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(Ge,{})}),e.jsxs("button",{onClick:R=>n("/campaigns/stats/"+(s==null?void 0:s.id)),children:[e.jsx(we,{})," "]})]})]}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top active",children:[e.jsx("div",{className:"check",children:e.jsx(Le,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Crear Campaña"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top active",children:[e.jsx("div",{className:"check active",children:e.jsx(Le,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Elegir Tipo"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{children:"Seleccionar"})})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${c!=null&&c.lists?"active":""} `,children:[e.jsx("div",{className:"check",children:e.jsx(Le,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Contactos"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"}),e.jsx("div",{className:"selects",children:((Fs=c==null?void 0:c.lists)==null?void 0:Fs.length)>=1?(Ds=c==null?void 0:c.lists)==null?void 0:Ds.split(",").map((R,Q)=>e.jsx("div",{className:"select",children:e.jsxs("p",{children:["Lista: ",R," ",e.jsx("button",{className:"delete",onClick:ls,value:R,children:e.jsx(me,{})})]})})):""})]}),r.lists==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsxs("div",{className:"form-input small",children:[e.jsx("label",{children:"Buscar lista... (Solo obtendras las listas con contactos)"}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"search",onKeyUp:je,onKeyDown:ge,placeholder:"Buscar"}),e.jsx("button",{onClick:R=>{n("/contacts/lists/add")},children:"Crear "})]})]}),e.jsxs("div",{className:"search-result",children:[m.lists.map((R,Q)=>e.jsx("div",{className:"result",children:e.jsxs("div",{className:"info",children:[e.jsx("p",{style:{textTransform:"uppercase"},children:R.name}),e.jsxs("span",{children:["Contactos: ",R.contacts]}),e.jsx("span",{children:"Agregado: 05/05/2022"}),e.jsxs("div",{className:"flex",style:{gap:"10px"},children:[e.jsx("button",{className:"select",onClick:Ze,value:R.id_list,children:e.jsx(M,{icon:"tabler:upload"})}),e.jsx("button",{className:"select",onClick:V=>{n("/contacts/detail/"+R.id_list)},children:e.jsx(M,{icon:"lucide:cog"})})]})]})},Q)),u.lists?e.jsx(_e,{}):u.lists==!1&&m.lists.length==0?e.jsx(Ne,{name:"listas"}):""]})]})}):e.jsx("div",{className:"right",children:e.jsx("button",{onClick:R=>{He("lists")},children:"Seleccionar"})})]})}),((c==null?void 0:c.type_c)=="em"||(c==null?void 0:c.type_c)=="em-mt")&&e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${c!=null&&c.id_domain?"active":""} `,children:[e.jsx("div",{className:"check",children:e.jsx(Le,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Remitente"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),r.domain==!0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsx("div",{className:"search-result",children:de==null?void 0:de.map((R,Q)=>e.jsx("div",{className:"result",children:e.jsxs("div",{className:"info",children:[e.jsx("p",{children:R.domain}),e.jsxs("span",{children:["Correo: ",R.domain_email]}),e.jsx("button",{className:"select",onClick:ns,value:R.id_domain,children:e.jsx(et,{})})]})},54))})})}):e.jsx("div",{className:"right",children:e.jsx("button",{onClick:R=>{He("domain"),ce()},children:"Seleccionar"})})]})}),(c==null?void 0:c.type_c)=="em"&&e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${c!=null&&c.footer?"active":""} `,children:[e.jsx("div",{className:"check",children:e.jsx(Le,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Footer"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]})]})}),(c==null?void 0:c.type_c)=="em"?e.jsx(e.Fragment,{children:e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${c!=null&&c.affair?"active":""} `,children:[e.jsx("div",{className:"check",children:e.jsx(Le,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Asunto"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),r.affair==!0?e.jsx(e.Fragment,{children:e.jsx(Js,{Preview:!1,Send:!1,onSave:cs,defaultValue:c==null?void 0:c.affair,onChange:R=>{v({...N,affair:R})}})}):e.jsx("div",{className:"right",children:e.jsx("button",{onClick:R=>{He("affair")},children:"Seleccionar"})})]})})}):"",e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${c!=null&&c.template?"active":""} `,children:[e.jsx("div",{className:"check",children:e.jsx(Le,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Plantilla"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),r.body==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[(c==null?void 0:c.type_c)=="em"?e.jsx(e.Fragment,{children:i!=null&&i.name?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"upload-fast",children:[e.jsx("p",{children:i.name}),e.jsx("span",{children:"Actualiza tu plantilla"}),e.jsxs("div",{className:"actions",children:[e.jsxs("button",{onClick:R=>{Es()},children:[e.jsx(M,{icon:"material-symbols:preview"})," Previsualizar"]}),e.jsxs("button",{onClick:Ma,className:`delete ${j!=null&&j.updateHtml?"await":""}`,children:[e.jsx(M,{icon:"akar-icons:trash"})," Eliminar ",e.jsx("div",{className:"loading"})]}),e.jsxs("button",{className:` ${j!=null&&j.updateHtml?"await":""}`,onClick:Ra,children:[e.jsx(M,{icon:"fluent:document-multiple-sync-20-regular"})," Actualizar ",e.jsx("div",{className:"loading"})]})]})]})}):e.jsxs(e.Fragment,{children:[e.jsx("input",{onChange:La,type:"file",name:"body_file",accept:".html",hidden:!0}),c!=null&&c.template?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"preview-template",children:[e.jsx("p",{children:(Ps=c==null?void 0:c.template)==null?void 0:Ps.title}),e.jsxs("span",{children:["Plantilla creada:  ",xe((Ts=c==null?void 0:c.template)==null?void 0:Ts.time_add)]}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("img",{src:Ss((qs=t==null?void 0:t.company)==null?void 0:qs.folder_sftp,(Ms=c==null?void 0:c.template)==null?void 0:Ms.preview_image),alt:""}),(Ls=c==null?void 0:c.template)!=null&&Ls.json?e.jsx(B,{to:`/ editor / canvas / ${(Rs=c==null?void 0:c.template)==null?void 0:Rs.id_template}?campaign=`+s.id,children:"Seleccionar plantilla"}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:$e,className:"action",children:[e.jsx(M,{icon:"material-symbols:upload"})," Actualizar HTML"]}),e.jsxs("button",{className:"action preview",onClick:R=>{var Q,V;oe(Ca((Q=c==null?void 0:c.template)==null?void 0:Q.html)),Es(),console.log((V=c==null?void 0:c.template)==null?void 0:V.html)},children:[e.jsx(M,{icon:"fluent:document-multiple-sync-20-regular"})," Previsualizar ",e.jsx("div",{className:"loading"})]})]})]})}):e.jsxs(e.Fragment,{children:[e.jsx(B,{to:"/editor/canvas/?campaign="+s.id,children:"Crear una plantilla"}),e.jsx("br",{}),e.jsxs("button",{onClick:$e,className:"action",children:[e.jsx(M,{icon:"material-symbols:upload"})," Subir Html"]})]})]})}):"",(c==null?void 0:c.type_c)=="sms"?e.jsx(e.Fragment,{children:r.body==!0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsx("div",{className:"form-input flex",children:e.jsx(Js,{value:E,onChange:q,onSave:Z})})})}):""}):""]})}):"",r.body==!1?e.jsx("div",{className:"right",children:e.jsx("button",{onClick:R=>{He("body")},children:"Seleccionar"})}):""]})})]})]})}function _i({Visible:s,Close:t,Callback:n,loadLists:i}){const{UserInfo:o}=a.useContext(X),[l,r]=a.useState(0),[p,m]=a.useState([Te()]),[d,u]=a.useState({type:"",name:""});ae();function x(j){j.stopPropagation(),j.preventDefault();let g=O(j.target);g.parents(".options").find(".active").removeClass("active"),g.addClass("active");let N=g.attr("value");u(v=>({...v,type:N}))}function c(j){var v;let g=!1,N=O(j.target);if((l===0&&d.type=="em"||d.type=="sms")&&(g=!0),l==1&&d.type!==""&&d.name!==""){N.addClass("await");let k=new FormData;k.append("name",d.name),k.append("type_c",d.type),k.append("id_company",(v=o==null?void 0:o.company)==null?void 0:v.id_company),T.post(P+"/api/upload/list",k,{withCredentials:!0}).then(F=>F.data).then(F=>{F.status&&(t(!1),n(!0),i()),N.removeClass("await")}).catch(F=>{N.removeClass("await")})}g&&r(k=>k+1)}function h(j){let g=j.target.name,N=j.target.value;u(v=>({...v,[g]:N}))}return a.useEffect(()=>{O(".case.active").removeClass("active"),O(".case").eq(l).addClass("active")},[l]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[l>0?e.jsxs("button",{className:"return",onClick:j=>{r(g=>g-1)},children:[e.jsx(Ve,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:j=>{t(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear una nueva lista"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de lista que te gustaría crear"})]}),e.jsxs("div",{className:"options flex",id:`options-${p[0]}`,children:[e.jsxs("div",{className:"selector",onClick:x,value:"em",children:[e.jsx("div",{className:"check",children:e.jsx(be,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"LISTA DE EMAIL"}),e.jsx("span",{children:"La lista de email es una herramienta que te permite administrar tus contactos de manera eficiente. Aquí podrás subir tus contactos para realizar envíos de correo electrónico de forma conveniente y efectiva."})]})]}),e.jsxs("div",{className:"selector",onClick:x,value:"sms",children:[e.jsx("div",{className:"check",children:e.jsx(be,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"LISTA TELEFONICA"}),e.jsx("span",{children:"Una lista de números es una herramienta que te permite gestionar y organizar de manera efectiva tus contactos telefónicos. Con ella, podrás enviar mensajes de texto rápidos y confiables a cualquier número, sin importar el país."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar Lista"}),e.jsx("span",{className:"desc",children:"Asignale un nombre a tu nueva lista."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de lista"}),e.jsx("input",{type:"text",name:"name",onChange:h,placeholder:"Nombre"})]})})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:"next",onClick:c,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function Ei({functions:s}){let{setSelectMultiple:t,selects:n,resetSelection:i,selectMultiple:o}=s;const l=ae();function r(){n.length?l("/contacts/upload/"+JSON.stringify(n)):ie.error("No has seleccionado ninguna lista")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top gl",children:[o?e.jsxs(e.Fragment,{children:[e.jsxs("button",{children:["Seleccionando (",n==null?void 0:n.length,")"]}),e.jsx("button",{onClick:r,children:"Subir Contactos"}),e.jsx("button",{onClick:i,children:"Cancelar"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:p=>{t(!0)},children:"Seleccionar Multiple"}),e.jsx("button",{onClick:p=>{l("/contacts/lists/email")},children:"Listas Email"}),e.jsx("button",{onClick:p=>{l("/contacts/lists/sms")},children:"Listas Mensajeria"}),e.jsx("button",{onClick:p=>{l("/contacts/lists/whatsapp")},children:"Listas Whatsapp"})]}),e.jsxs("div",{className:"search",children:[e.jsx("i",{children:e.jsx(st,{})}),e.jsx("input",{type:"text",placeholder:"Buscar..."})]})]})})}function Da({type:s,lists:t}){const[n,i]=a.useState(!1),[o,l]=a.useState([]),[r,p]=a.useState(!1),m=ae(),d=x=>{l(c=>c.includes(x)?c.filter(h=>h!==x):[...c,x])},u=()=>{l([]),i(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(Ei,{functions:{resetSelection:u,selects:o,selectMultiple:n,setSelectMultiple:i}}),e.jsx(ke,{visible:r,callback:p}),e.jsx("div",{className:"row",children:t.map((x,c)=>e.jsx("div",{className:"col-md-6 page-lists",children:e.jsx("div",{className:"box box-padding",children:e.jsxs("div",{className:"item flex-wrap item-list",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/lists.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",style:{textTransform:"uppercase",fontWeight:600},title:x.name,children:ys(x.name,15)}),e.jsxs("span",{className:"desc",children:["Creado el: ",xe(x.time_add)]}),e.jsx("br",{}),e.jsxs("span",{className:"desc",children:["Contactos: ",x.contacts]}),e.jsx("br",{}),n&&e.jsx("input",{type:"checkbox",onChange:()=>d(x.id_list),checked:o.includes(x.id_list)}),e.jsx("button",{onClick:h=>{m("/contacts/upload/"+x.id_list)},className:"upload",children:e.jsx(ee,{icon:"mdi:upload"})})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{className:"blue",onClick:h=>{m("/contacts/detail/"+x.id_list)},children:e.jsx(Ie,{})}),e.jsx("button",{className:"blue",onClick:h=>{m("/contacts/detail/"+x.id_list)},children:e.jsx(ee,{icon:"tdesign:edit"})}),e.jsx("button",{className:"red",onClick:h=>{p(!0)},children:e.jsx(me,{})})]})]})})},c))})]})}function js(){const[s,t]=a.useState(),[n,i]=a.useState([]),[o,l]=a.useState(!1),{UserInfo:r}=a.useContext(X),p=pe(),m=ae(),d=Ae();function u(c){c&&t(!1)}function x(){var h;let c=new FormData;c.append("id_company",(h=r==null?void 0:r.company)==null?void 0:h.id_company),c.append("type",p==null?void 0:p.type),l(!0),i([]),T.post(P+"/api/get/list",c,{withCredentials:!0}).then(j=>j.data).then(j=>{i(j),l(!1)})}return a.useEffect(()=>{x(),d.pathname=="/contacts/lists/add"&&t(!0)},[p==null?void 0:p.type]),e.jsxs(e.Fragment,{children:[e.jsx(_i,{Visible:s,Close:t,Callback:u,loadLists:x}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Listas"}),e.jsx("span",{children:"Estas son tus listas de contactos, puedes subir contactos rapidamente creando una lista y seleccionando tu archivo csv"})]}),e.jsx("div",{className:"right",children:e.jsxs("button",{className:"go-wizard",onClick:c=>{t(!0)},children:[e.jsx(ee,{icon:"gg:add"})," Crear nueva lista"]})})]}),p.type==null?e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsx("div",{className:"box select-list",children:e.jsxs("div",{className:"top",children:[e.jsx("img",{src:"/img/icons/email_list.png",alt:""}),e.jsx("span",{children:"Listas Correos"}),e.jsx("button",{onClick:c=>{m("/contacts/lists/em")},children:"Ir"})]})})}),e.jsx("div",{className:"col-md-3",children:e.jsx("div",{className:"box select-list",children:e.jsxs("div",{className:"top",children:[e.jsx("img",{src:"/img/icons/message_list.png",alt:""}),e.jsx("span",{children:"Listas Telefonicas"}),e.jsx("button",{onClick:c=>{m("/contacts/lists/sms")},children:"Ir"})]})})})]}):e.jsx(Da,{lists:n,type:p==null?void 0:p.type})]})}function Fi({Status:s}){return e.jsx(e.Fragment,{children:s=="wait"?e.jsxs("span",{className:"wait-list",children:[e.jsx(at,{})," Subiendo..."]}):s=="ready"?e.jsxs("span",{className:"ready-list",children:[e.jsx(be,{}),"  Activa"]}):s=="error"?e.jsxs("span",{className:"error-list",children:[e.jsx(tt,{})," Error"]}):e.jsxs("span",{className:"setting-list",children:[e.jsx(la,{})," En espera..."]})})}function Di(){var u;const{UserInfo:s}=a.useContext(X),t=pe(),[n,i]=a.useState(!1),[o,l]=a.useState(!1),[r,p]=a.useState({}),m=ae();a.useState(!1),a.useState(!0),a.useEffect(()=>{var c;let x=new FormData;x.append("id_list",t.id),x.append("id_company",(c=s==null?void 0:s.company)==null?void 0:c.id_company),T.post(P+"/api/get/list",x,{withCredentials:!0}).then(h=>h.data).then(h=>{p(h)})},[]);function d(){var c;let x=new FormData;l(!0),x.append("id_list",t.id),x.append("id_company",(c=s==null?void 0:s.company)==null?void 0:c.id_company),T.post(P+"/api/delete/list",x,{withCredentials:!0}).then(h=>h.data).then(h=>{h.status&&(m("/contacts/lists"),ie.success("Lista eliminada"))}).finally(()=>{l(!1)})}return e.jsxs(e.Fragment,{children:[e.jsx(ke,{Pending:o,onClick:d,visible:n,name:"lista",callback:i}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles de lista"}),e.jsx("span",{children:"Ve los detalle de tus listas y ve si estan listas para ser utilizadas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:Je,children:e.jsx(Qe,{})})})]}),e.jsxs("div",{className:"menu-top-right",children:[e.jsxs("button",{className:"prograxmming",onClick:x=>{m("/contacts/lists/contacts/"+t.id)},children:[e.jsx(ee,{icon:"material-symbols:contacts-sharp"})," Contactos"]}),e.jsxs("button",{className:"prograxmming",onClick:x=>{m("/contacts/lists/logs/"+t.id)},children:[e.jsx(ee,{icon:"f7:doc-fill"})," Detalles"]})]}),e.jsxs("div",{className:"box steps",children:[e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{style:{fontSize:"50px"},className:"icon-i",children:e.jsx(ee,{icon:"ep:document"})}),e.jsxs("div",{className:"text",children:[e.jsxs("b",{children:["  ",e.jsx("p",{children:"LISTA:"})]}),e.jsx("p",{className:"title",style:{textTransform:"uppercase"},children:r.name}),e.jsxs("span",{className:"desc",children:["Creado el: ",xe(r.time_add)]})]})]}),e.jsxs("div",{className:"center",children:[e.jsxs("b",{children:[e.jsx("p",{children:"CONTACTOS"})," "]}),e.jsx("span",{children:r.contacts})]}),e.jsxs("div",{className:"center",children:[e.jsxs("b",{children:["  ",e.jsx("p",{children:"TIPO"})]}),e.jsx("span",{children:Ht(r.type)})]}),e.jsxs("div",{className:"center",children:[e.jsxs("b",{children:["  ",e.jsx("p",{children:"ESTATUS"})]}),e.jsx(Fi,{Status:r.status})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{className:"blue",onClick:x=>{m("/contacts/upload/"+t.id)},children:e.jsx(Pe,{})}),e.jsx("button",{className:"red",onClick:x=>{i(!0)},children:e.jsx(me,{})})]})]}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"check active",children:e.jsx(Le,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Crear Lista"}),e.jsx("span",{className:"desc approve",children:e.jsxs("span",{className:"left-ready-list",children:[e.jsx(ee,{icon:"hugeicons:task-done-01"})," Completado"]})})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"check active",children:e.jsx(Le,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Elegir Tipo"}),e.jsx("span",{className:"desc approve",children:e.jsxs("span",{className:"left-ready-list",children:[e.jsx(ee,{icon:"hugeicons:task-done-01"})," Completado"]})})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:`check ${r.contacts>0?"active":""}`,children:e.jsx(Le,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Subir Contactos"}),e.jsx("span",{className:"desc",children:r.contacts==0?e.jsxs("span",{className:"left-wait-list",children:[e.jsx(ee,{icon:"hugeicons:task-remove-01"})," Pendiente"]}):e.jsxs("span",{className:"left-ready-list",children:[e.jsx(ee,{icon:"hugeicons:task-done-01"})," Completado"]})})]}),e.jsx("div",{className:"right",children:e.jsx("button",{onClick:x=>{m("/contacts/upload/"+t.id)},children:"Subir"})})]})})]}),e.jsx(Fa,{type:"lists",id_company:(u=s==null?void 0:s.company)==null?void 0:u.id_company,id_list:t.id})]})}function Pi({update:s}){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"form",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre"}),e.jsx("input",{type:"text",onChange:s,name:"name",placeholder:"Ej: Pablito"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Apellido"}),e.jsx("input",{type:"text",onChange:s,name:"lastname",placeholder:"Ej: Montana"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo"}),e.jsx("input",{type:"text",onChange:s,name:"email",placeholder:"Ej: pablitomontana@gmail.com"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Telefono"}),e.jsx("input",{type:"text",onChange:s,name:"phone",placeholder:"Ej: +58412000000"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Documento Identidad"}),e.jsx("input",{type:"text",onChange:s,name:"dni",placeholder:"Ej: 29000000"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Sexo"}),e.jsxs("select",{onChange:s,name:"sex",id:"",children:[e.jsx("option",{value:"",children:"Seleccionar Sexo"}),e.jsx("option",{value:"M",children:"Masculino"}),e.jsx("option",{value:"F",children:"Femenino"}),e.jsx("option",{value:"O",children:"Otros"})]})]})}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Pais"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{onChange:s,type:"text",name:"country",placeholder:"Ej: Venezuela"})})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Estado"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{onChange:s,type:"text",name:"state",placeholder:"Ej: Miranda"})})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Ciudad"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{onChange:s,type:"text",name:"city",placeholder:"Ej: Miranda"})})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Direccion"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{onChange:s,type:"text",name:"direction",placeholder:"Ej: Miranda"})})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Cumpleaños"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{onChange:s,type:"date",name:"birthday",placeholder:"Ej: Miranda"})})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Ocupacion"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{onChange:s,type:"text",name:"occupation",placeholder:"Ej: Abogado"})})]})]})})})}function Ti({Visible:s,Close:t,Callback:n}){var G;const{UserInfo:i}=a.useContext(X),[o,l]=a.useState(0),[r,p]=a.useState([Te()]),[m,d]=a.useState({type:"",file:{}}),u={analize:!1,percentAnalize:"0",approve:!1},[x,c]=a.useState(u),[h,j]=a.useState([]),[g,N]=a.useState(!1),[v,k]=a.useState(!1),[F,y]=a.useState({});let S=O("input[type='file']");const _=ae(),b=pe();function C(z){let W=z.target.name,Y=z.target.value;y({...F,[W]:Y})}function w(z){z.stopPropagation(),z.preventDefault();let W=O(z.target);W.parents(".options").find(".active").removeClass("active"),W.addClass("active");let Y=W.attr("value");d(oe=>({...oe,type:Y}))}function f(z){var Y;let W=!1;switch(O(z.target),(o===0&&m.type=="auto"||m.type=="manu")&&(W=!0),m.type){case"auto":o==1&&((Y=m==null?void 0:m.file)==null?void 0:Y.name)!==void 0&&le();break;case"manu":if(o==1)if(g)if(F.email||F.phone)if(F.name){const oe=h.some(he=>he.email!==void 0&&he.email===F.email);h.some(he=>he.phone===F.phone),oe?(A.error("Ya este contacto existe"),W=!1):(l(1),N(!1),W=!1,j(he=>{let L=[...he];return L.push(F),L}))}else A.error("Opps el contacto debe de contar con un nombre"),W=!1;else A.error("Opps no tienes ningun elemento de contacto agendado"),W=!1;else W=!1,D();break}W&&l(oe=>oe+1)}a.useEffect(()=>{O(".case.active").removeClass("active"),O(".case").eq(o).addClass("active")},[o]);function D(){var W;let z=new FormData;z.append("id_company",(W=i==null?void 0:i.company)==null?void 0:W.id_company),z.append("contacts",JSON.stringify(h)),z.append("id_list",b.id),T.post(P+"/api/upload/contactsWeb",z,{withCredentials:!0}).then(Y=>Y.data).then(Y=>{Y.status&&(A.success("Contactos subidos"),_("/contacts/detail/"+b.id))})}function E(){document.querySelector("input[type='file']").click()}function q(z){c(W=>({...W,percentAnalize:z}))}function $(z){c(W=>({...W,analize:!0})),Qt(z,q).then(W=>{W.analize=="good"&&(c(Y=>({...Y,approve:!0})),d(Y=>({...Y,file:W.file})))}).catch(W=>{de(),A.error("Opps! el archivo que intentastes subir no es compatible o tiene algun error."),c(Y=>({...Y,analize:!1,percentAnalize:0}))})}function le(){var W;k(!0);let z=new FormData;z.append("id_list",b.id),z.append("contacts",m.file),z.append("id_company",(W=i==null?void 0:i.company)==null?void 0:W.id_company),T.post(P+"/api/upload/contacts",z,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}).then(Y=>Y.data).then(Y=>{k(!1),Y.status?_("/contacts/detail/"+b.id):A.error(Y.msg)}).catch(Y=>{k(!1)})}function de(){d(z=>({...z,file:{}})),c(u),S.val("")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[o>0?e.jsxs("button",{className:"return",onClick:z=>{l(W=>W-1)},children:[e.jsx(Ve,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:z=>{_("/contacts/detail/"+b.id)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Subir nuevos contactos"}),e.jsx("span",{className:"desc",children:"Selecciona de que manera quieres subir los contactos"})]}),e.jsxs("div",{className:"options flex",id:`options-${r[0]}`,children:[e.jsxs("div",{className:"selector",onClick:w,value:"manu",children:[e.jsx("div",{className:"check",children:e.jsx(be,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"SUBIR MANUALMENTE"}),e.jsx("span",{children:"Agrega tus contactos de forma rápida y sencilla, uno por uno, rellenando los campos de manera dinámica. Con solo unos pocos clics, podrás tener tus contactos listos para comunicarte con ellos de manera personalizada."})]})]}),e.jsxs("div",{className:"selector",onClick:w,value:"auto",children:[e.jsx("div",{className:"check",children:e.jsx(be,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"SUBIR MEDIANTE ARCHIVO"}),e.jsx("span",{children:"Importa tus contactos de manera rápida y eficiente mediante un archivo. Solo necesitas preparar un archivo en formato (.csv o .txt) con los detalles de tus contactos y nuestro sistema se encargará de procesarlo y añadirlos a tu lista en un instante."})]})]})]})]}),m.type=="manu"&&e.jsx(e.Fragment,{children:g==!1?e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Contactos Manuales"}),e.jsx("span",{className:"desc",children:"Crea tu contacto manualmente"})]}),e.jsx("div",{className:"contacts",children:e.jsxs("div",{className:"row",children:[h.map((z,W)=>e.jsx("div",{className:"col-md-4",children:e.jsx("div",{className:"box box-padding stat",onClick:Y=>{N(!0)},children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:z.email||z.phone}),e.jsx("span",{children:z.name}),e.jsx("button",{className:"add-button",style:{fontSize:"40px",color:"var(--bs-danger)"},children:e.jsx(ee,{icon:"ph:trash-light"})})]})})})),h.length==0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"box box-padding stat",onClick:z=>{N(!0)},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"No hay contactos!"}),e.jsx("span",{children:"Crea uno rapidamente"})]}),e.jsx("button",{className:"add-button",children:e.jsx(ee,{icon:"solar:add-circle-line-duotone"})})]})})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"box box-padding stat",onClick:z=>{N(!0)},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Agregar Contacto"}),e.jsx("span",{children:"Crea uno nuevo"})]}),e.jsx("button",{className:"add-button",children:e.jsx(ee,{icon:"solar:add-circle-line-duotone"})})]})})})]})})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"case",children:[e.jsx("div",{className:"top",children:e.jsx("p",{className:"title",children:"Crear Contacto"})}),e.jsx(Pi,{update:C})]})})}),m.type=="auto"&&e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Subir Archivo"}),e.jsx("span",{className:"desc",children:"Sube tu archivo rapidamente para procesarlo en tu lista de contactos."})]}),e.jsxs(e.Fragment,{children:[x.approve==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"file-adjunt",children:[e.jsx("i",{className:"icon",children:e.jsx(it,{})}),e.jsxs("div",{className:"file",children:[e.jsx("p",{children:(G=m==null?void 0:m.file)==null?void 0:G.name}),e.jsxs("div",{className:"info",children:[e.jsxs("span",{children:["Tipo de archivo: ",m.file.type]}),e.jsxs("span",{children:["Peso: ",m.file.size," kb"]})]}),e.jsx("button",{className:"delete",onClick:de,children:e.jsx(me,{})})]})]})}):e.jsxs("div",{className:"upload-contact",children:[e.jsx("input",{type:"file",accept:".csv,.txt",onChange:$,hidden:!0}),x.analize==!0?e.jsx(e.Fragment,{children:e.jsxs("p",{children:["Estamos analizando tu archivo... ",x.percentAnalize,"%"]})}):e.jsx("center",{children:e.jsxs("div",{className:"select-upload",onClick:E,children:[e.jsx("i",{className:"icon",children:e.jsx(nt,{})}),e.jsx("p",{children:"Selecciona tu archivo de contactos"})]})})]}),e.jsxs("div",{className:"box box-stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{style:{fontSize:"18px",marginBottom:"0px"},className:"title",children:"Descarga un archivo de pruebas"}),e.jsx("span",{className:"desc",children:"descarga desde aqui un archivo de pruebas para saber como funciona nuestro sistema."})]}),e.jsx("div",{className:"actions",children:e.jsx(B,{to:"/TestUploadContacts.csv",target:"_blank",children:e.jsxs("button",{className:"download-file",children:["Descargar ",e.jsx(ee,{icon:"solar:file-download-linear"})]})})})]})]})]}),e.jsx("div",{className:"actions center",children:e.jsxs("button",{className:`next ${v==!0?"await":""}`,onClick:f,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function qi(){return e.jsx(e.Fragment,{children:e.jsx(Ti,{Visible:!0})})}function Ys(){const[s,t]=a.useState(!0),[n,i]=a.useState(!1),[o,l]=a.useState({save:!1,campaign:!1}),[r,p]=a.useState({results:[],loadingTemplate:!1}),[m,d]=a.useState(!1),[u,x]=a.useState({}),[c,h]=a.useState({width:"",left:""}),[j,g]=a.useState(""),[N,v]=a.useState(),[k,F]=a.useState(!1),{UserInfo:y}=a.useContext(X),S=pe(),[_,b]=a.useState();let C=["Cargando editor...","Nos tardaremos un poco","Que tal tu dia?","Vamos! con mucha imaginacion.","Ahora es un buen momento!","Un poco mas...","Ya casi!","Había una vez!"];function w(L){let K=L.target.dataset.value;console.log(L.target),v(K),h(I=>({...I,width:L.target.offsetWidth,left:L.target.offsetLeft}))}const f=ae();function D(L,K){var I=document.createElement("script");I.src=L,I.onload=K,document.head.appendChild(I)}a.useEffect(()=>{i(!0),n&&(D("//editor.unlayer.com/embed.js",function(L){}),D("/draganddrop/dist/js/body.js",function(L){setTimeout(()=>{t(!1)},3500)}))},[n]);function E(){unlayer.exportHtml(async function(L){var K;if(j==""||j==null)A.error("Opps debes definir un titulo primero"),d(!0);else{$("save",!0);let I=new FormData,ne=await le().then(je=>je);I.append("preview",ne),I.append("title",j),I.append("html",L.html),I.append("json",JSON.stringify(L.design)),I.append("id_company",(K=y==null?void 0:y.company)==null?void 0:K.id_company),I.append("type","email"),S.id&&I.append("id_template",S.id),T.post(P+"/api/upload/bodycampaign",I,{withCredentials:!0}).then(je=>je.data).then(je=>{je.status&&S.id==null&&f(`/editor/canvas/${je.id_body}`),$("save",!1)}).catch(je=>{$("save",!1)})}})}function q(){i(!0),O("#editor").html(""),f("/editor/canvas")}function $(L,K){l(I=>({...I,[L]:K}))}async function le(){return new Promise((L,K)=>{let I=document.querySelector(".preview-template");try{unlayer.exportHtml(ne=>{I.innerHTML=ne.html,I.innerHTML&&ws(I,{allowTaint:!1,useCORS:!0}).then(je=>{let ge=je.toDataURL("image/png");L(ge)})})}catch(ne){K(ne)}})}function de(){var K;let L=new FormData;L.append("id_company",(K=y==null?void 0:y.company)==null?void 0:K.id_company),T.post(P+"/api/get/templatesall",L,{withCredentials:!0}).then(I=>I.data).then(I=>{p(ne=>({...ne,results:I}))}).catch(I=>{})}function G(){F(!0)}function z(L){var I;let K=new FormData;K.append("id_company",(I=y==null?void 0:y.company)==null?void 0:I.id_company),K.append("id_campaign",L),T.post(P+"/api/get/campaign",K,{withCredentials:!0}).then(ne=>ne.data).then(ne=>{ne&&x(ne)})}a.useEffect(()=>{let K=new URLSearchParams(window.location.search).get("campaign");K&&z(K),de();let I=0;b(C[0]),setInterval(()=>{let ne=C.length;I=I+1,b(C[I-1]),I>=ne&&(I=0)},4500)},[]),a.useEffect(()=>{var L;if(S.id){let K=new FormData;t(!0),K.append("id_template",S.id),K.append("id_company",(L=y==null?void 0:y.company)==null?void 0:L.id_company),T.post(P+"/api/get/templatejson",K,{withCredentials:!0}).then(I=>I.data).then(I=>{t(!1),I.json?unlayer.loadDesign(JSON.parse(I.json)):A.error("Error al cargar la template")}).catch(I=>{t(!1)})}},[S==null?void 0:S.id]);function W(L){g(L.target.value)}function Y(L){f(`/editor/canvas/${L}${u!=null&&u.id_campaign?"?campaign="+u.id_campaign:""}`)}function oe(){var K;$("campaign",!0);let L=new FormData;L.append("id_campaign",u.id_campaign),L.append("id_company",(K=y==null?void 0:y.company)==null?void 0:K.id_company),L.append("id_template",S.id),T.post(P+"/api/update/settemplate",L,{withCredentials:!0}).then(I=>I.data).then(I=>{$("campaign",!1),I.status&&(A.success(I.msg),x(ne=>({...ne,id_template:S.id})))}).catch(I=>{$("campaign",!1)})}function he(){var K;let L=new FormData;L.append("id_campaign",u.id_campaign),L.append("id_company",(K=y==null?void 0:y.company)==null?void 0:K.id_company),x(I=>({...I,id_template:""})),T.post(P+"/api/delete/settemplate",L,{withCredentials:!0}).then(I=>I.data).then(I=>{})}return a.useEffect(()=>{console.log(N)},[N]),e.jsxs(e.Fragment,{children:[s?e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:[_," ",e.jsx("div",{className:"loading"})]})]})})}):"",e.jsxs(re,{visible:m,onClick:L=>{d(!1)},next:"Asignar",callback:d,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Elige un titulo"})}),e.jsx("br",{}),e.jsx("div",{className:"content",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Esto te ayudara a identificar tu plantilla"}),e.jsx("input",{type:"text",placeholder:"Titulo de template",onChange:W})]})}),e.jsx("br",{})]}),e.jsxs(re,{visible:k,minWidth:"50%",buttonSave:!1,maxWidth:"150px",callback:F,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Plantillas"}),e.jsx("span",{children:"Aca tendras todas las plantillas disponibles"})]}),e.jsx("br",{}),e.jsx("div",{className:"menu-change span",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsxs("button",{className:`${N=="my"?"active":""}`,onClick:w,"data-value":"my",children:[e.jsx(ee,{icon:"carbon:template"})," ",e.jsx("span",{children:"Mis Plantillas"})]})}),e.jsx("li",{children:e.jsxs("button",{className:`${N=="all"?"active":""}`,onClick:w,"data-value":"all",children:[e.jsx(ee,{icon:"carbon:template"})," ",e.jsx("span",{children:"Plantillas"})]})}),e.jsx("div",{className:"hover",style:{left:c.left+"px",width:c.width+"px"}})]})}),e.jsx("div",{className:"content row",children:N=="my"&&e.jsxs(e.Fragment,{children:[r.results.map((L,K)=>{var I;return e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"template",onClick:ne=>{Y(L.id_template)},children:[e.jsx("p",{children:L.title}),e.jsxs("span",{children:["Agregada: ",xe(L.time_add)]}),e.jsx("img",{src:Ss((I=y==null?void 0:y.company)==null?void 0:I.folder_sftp,L.preview_image)})]})},K)}),r.loadingTemplate==!1&&r.results.length==0?e.jsx(Ne,{name:"plantillas"}):""]})})]}),e.jsxs("div",{className:"editor-canvas",children:[e.jsx("header",{children:e.jsx("link",{href:"/draganddrop/dist/css/style.css",rel:"stylesheet",type:"text/css"})}),e.jsxs("div",{className:"topnav1",children:[e.jsxs("div",{className:"buttons",children:[e.jsxs("button",{style:{background:"transparent"},onClick:Je,children:[e.jsx(Qe,{})," Volver"]}),u.name?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"campaign",children:[e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""}),e.jsx("p",{children:u==null?void 0:u.name}),e.jsx("span",{children:"Campaña seleccionada"})]}),u.id_template!==S.id?e.jsxs("button",{className:`${o.campaign==!0?"await":""}`,onClick:oe,children:[e.jsx(lt,{})," Usar Plantilla",e.jsx("div",{className:"loading"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"use",children:"Utilizando plantilla"}),e.jsx("button",{onClick:he,children:e.jsx(me,{})})]})]}):""]}),e.jsxs("div",{className:"buttons right",children:[e.jsxs("button",{className:`${o.save==!0?"await":""}`,onClick:E,children:[S.id?e.jsxs(e.Fragment,{children:[e.jsx(Ge,{})," Editar"]}):e.jsxs(e.Fragment,{children:[" ",e.jsx(ct,{})," Guardar"]}),e.jsx("div",{className:"loading"})]}),e.jsxs("button",{onClick:G,children:[e.jsx(Pe,{})," Cargar plantilla"]}),e.jsxs("button",{onClick:q,children:[e.jsx(rt,{})," Nuevo"]}),e.jsx("button",{onClick:G,children:e.jsx(ot,{})})]})]}),e.jsx("div",{className:"preview-template"}),e.jsx("div",{id:"editor"})]})]})}function Mi(){const s=ae(),[t,n]=a.useState([]),[i,o]=a.useState(!0),[l,r]=a.useState({id_delete:void 0,pending:!1}),[p,m]=a.useState(!1);Ae();const{UserInfo:d}=a.useContext(X);function u(){var h;o(!0);let c=new FormData;c.append("id_company",(h=d==null?void 0:d.company)==null?void 0:h.id_company),T.post(P+"/api/get/surveys",c,{withCredentials:!0}).then(j=>j.data).then(j=>{n(j),o(!1)}).catch(j=>{o(!1),A.error(String(j))})}a.useEffect(()=>{i&&u()},[]);function x(){var h;r(j=>({...j,pending:!0}));let c=new FormData;c.append("id_company",(h=d==null?void 0:d.company)==null?void 0:h.id_company),c.append("id_survey",l.id_delete),T.post(P+"/api/delete/survey",c,{withCredentials:!0}).then(j=>j.data).then(j=>{m(!1),j.status&&u(),r(g=>({...g,pending:!1}))}).catch(j=>{r(g=>({...g,pending:!1}))})}return e.jsxs(e.Fragment,{children:[e.jsx(ke,{visible:p,Pending:l.pending,onClick:x,callback:m}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis encuestas"}),e.jsx("span",{children:"Gestiona tus encuestas rapidamente y optimiza tus estrategias"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:c=>{s("/surveys/editor")},children:"Crear nueva encuesta"})})]}),e.jsxs("div",{className:"row",children:[i==!1?t.map((c,h)=>{var j;return e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${P}/api/get/previewsurvey?miniature=${c.miniature})`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{onClick:g=>{m(!0),r(N=>({...N,id_delete:c.id_survey}))},children:e.jsx(me,{})}),e.jsx("button",{onClick:g=>{s("/surveys/editor/"+c.id_survey)},children:e.jsx(Ge,{})}),e.jsx("button",{onClick:g=>{s(`/stats/survey/${c.id_survey}`)},children:e.jsx(Oe,{})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:(j=c==null?void 0:c.header)==null?void 0:j.title}),e.jsxs("span",{children:["Encuesta agregada el: ",xe(c.time_add)]})]})]})},h)}):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(_e,{})})}),i==!1&&t.length==0?e.jsx(Ne,{name:"encuestas"}):""]})]})}function Li({header:s,value:t,keyid:n,setModalImage:i,page:o,setEdit:l,setJson:r}){var h;function p(j,g,N){m(N),l({type:j,key:g,page:o})}function m(j){let g=O(j.target).parents(".question");O(".question.active").removeClass("active"),g.addClass("active")}function d(j){let g=j.target.value;r(N=>{let v=[...N];return v[o].quests[n].type=g,v})}function u(j){m(j),j.stopPropagation(),l({});let g=!0;r(N=>{const v=[...N];return g&&(v[o].quests[n].questions.push({}),g=!1),v})}function x(j,g){j.stopPropagation();let N=!0;r(v=>{var F;let k=[...v];if(N&&(F=k[o])!=null&&F.quests[n]){let y=[];k[o].quests[n].questions.forEach((S,_)=>{_!==g?y.push(S):N=!1}),k[o].quests[n].questions=y}return k})}function c(j){j.stopPropagation();let g=!0;r(N=>{let v=[...N],k=[];return v[o].quests.forEach((F,y)=>{y!==n&&k.push(F)}),g&&(v[o].quests=k,g=!1),v})}return O(document).on("click",".options button",function(j){j.stopImmediatePropagation(),O(".edit-active").removeClass("edit-active"),O(this).parents(".options").parents(".quest").addClass("edit-active")}),O(document).on("click",".top p, .top span",function(j){j.stopImmediatePropagation(),O(".edit-active").removeClass("edit-active"),O(this).addClass("edit-active")}),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"question edit",colorBox:s.colorBox,style:{borderRadius:s.borderRadius+"px"},children:[e.jsx("button",{className:"delete-question",onClick:j=>{c(j),l({})},children:e.jsx(me,{})}),e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",onClick:j=>{p("title",n,j)},children:t!=null&&t.title?t.title:"Elige un titulo..."}),e.jsx("span",{onClick:j=>{p("desc",n,j)},children:t!=null&&t.desc?t.desc:"Elige una descripcion... (opcional)"})]}),t!=null&&t.img?e.jsx("img",{className:"img-quest",src:t.img}):"",e.jsxs("div",{className:"select-types",children:[e.jsx("button",{onClick:u,className:"add-quest",children:"Agregar pregunta"}),e.jsx("button",{onClick:j=>{i(!0),l({key:n,type:"add-image",page:o})},children:e.jsx(dt,{})}),e.jsxs("select",{onChange:d,children:[e.jsx("option",{value:"input",children:"Respuesta corta"}),e.jsx("option",{value:"input-large",children:"Respuesta larga"}),e.jsx("option",{value:"radio",children:"Opcion multiple"}),e.jsx("option",{value:"check",children:"Casillas de verificacion"})]})]}),(h=t==null?void 0:t.questions)==null?void 0:h.map((j,g)=>e.jsxs("div",{className:"quest",children:[t.type=="input"?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",disabled:!0,placeholder:`${j.title?j.title:"Elige una descripcion"}`}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:N=>{x(N,g)},children:e.jsx(me,{})}),e.jsx("button",{onClick:N=>{l({key:n,type:"title-quest",quest_key:g,page:o})},children:e.jsx(Ge,{})})]})]}):"",t.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:n})," ",e.jsx("span",{children:j.title?j.title:"Elige una descripcion..."}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:N=>{x(N,g)},children:e.jsx(me,{})}),e.jsx("button",{onClick:N=>{l({key:n,type:"title-quest",quest_key:g,page:o})},children:e.jsx(Ge,{})})]})]}):"",t.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:n})," ",e.jsx("span",{children:j.title?j.title:"Elige una descripcion..."}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:N=>{x(N,g)},children:e.jsx(me,{})}),e.jsx("button",{onClick:N=>{l({key:n,type:"title-quest",quest_key:g,page:o})},children:e.jsx(Ge,{})})]})]}):"",t.type=="input-large"?e.jsxs(e.Fragment,{children:[e.jsx("textarea",{type:"checkbox",name:n,placeholder:j.title,style:{width:"100%"}}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:N=>{x(N,g)},children:e.jsx(me,{})}),e.jsx("button",{onClick:N=>{l({key:n,type:"title-quest",quest_key:g,page:o})},children:e.jsx(Ge,{})})]})]}):""]},g))]})})}function Ri({json:s=[],header:t={},setJson:n,setEdit:i,edit:o}){var F,y;const[l,r]=a.useState(!1),[p,m]=a.useState(!1);a.useState([]);const[d,u]=a.useState("email"),[x,c]=a.useState({width:"",left:""});ae();function h(){n(S=>[...S,{quests:[{title:"",desc:"",type:"radio",questions:[]}]}])}function j(S){let _=!0;n(b=>{var f;let C=[...b],w=(f=C[S])==null?void 0:f.quests;return _&&(C[S].quests=[...w,{title:"",desc:"",type:"radio",img:"",questions:[]}],_=!1),C})}function g(S){n(_=>{let b=[..._],C=[];return b.forEach((w,f)=>{f!==S&&C.push(w)}),b=C,b})}function N(){let S=document.querySelector("#image-edit").value;n(_=>{let b=[..._];return b[o.page].quests[o.key].img=S,b}),r(!1)}function v(){window.localStorage.setItem("surveyPreview",JSON.stringify(s)),window.localStorage.setItem("surveyPreviewHead",JSON.stringify(t)),window.open("/surveys/preview","_blank")}function k(S){let _=S.target.value;u(_),c(b=>({...b,width:S.target.offsetWidth,left:S.target.offsetLeft}))}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{onClick:v,children:[e.jsx(Ie,{})," Previsualizar"]}),e.jsxs("button",{onClick:S=>{m(!0)},children:[e.jsx(ts,{})," Enviar"]})]})}),e.jsxs(re,{visible:p,minWidth:"35%",callback:m,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enviar"}),e.jsx("span",{children:"Tienes distintas opciones para enviar esta encuesta"})]}),t.short_link==null?e.jsx("span",{className:"alert-save",children:"Opps! aun no puedes usar esta funcion no has guardado la encuesta."}):"",e.jsx("div",{className:"menu-change",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("span",{children:"Enviar por"})}),e.jsx("li",{children:e.jsx("button",{className:`${d=="email"?"active":""}`,onClick:k,value:"email",children:e.jsx(mt,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${d=="link"?"active":""}`,onClick:k,value:"link",children:e.jsx(pt,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${d=="embed"?"active":""}`,onClick:k,value:"embed",children:e.jsx(ht,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${d=="settings"?"active":""}`,onClick:k,value:"settings",children:e.jsx(la,{})})}),e.jsx("div",{className:"hover",style:{left:x.left+"px",width:x.width+"px"}})]})}),e.jsxs("div",{className:`result-menu ${t.short_link==null?"disabled":""} ${d=="email"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo electronico"}),e.jsx("input",{type:"text",placeholder:"contactos"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Asunto"}),e.jsx("input",{type:"text",placeholder:"informacion de contacto"})]})]}),e.jsxs("div",{className:`result-menu ${t.short_link==null?"disabled":""} ${d=="link"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Enlace"}),e.jsx("input",{type:"text",placeholder:"contactos",value:`${is}/survey/${t.token}`,disabled:!0})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Enlace Corto"}),e.jsx("input",{type:"text",placeholder:"url corta",value:t.short_link,disabled:!0})]})]}),e.jsx("div",{className:`result-menu ${t.short_link==null?"disabled":""} ${d=="embed"?"show":""}`,children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Incorporar HTML"}),e.jsx("input",{type:"text",placeholder:"contactos"})]})}),e.jsxs("div",{className:`result-menu ${t.short_link==null?"disabled":""} ${d=="settings"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Condicion de respuesta "}),e.jsxs("select",{name:"",id:"",children:[e.jsx("option",{value:"",children:"Responder varias veces"}),e.jsx("option",{value:"",children:"Responder solo una vez"})]})]}),e.jsx("div",{className:"form-input"})]})]}),e.jsxs(re,{visible:l,callback:r,onClick:N,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Url de imagen"}),e.jsx("span",{children:"Ingresa la url de la imagen que quieres integrar en tu pregunta"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",id:"image-edit",placeholder:"https://image.com/image.png"})})]}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${t.blur}px)brightness(${t.brightness})`,background:t.background2}}),e.jsxs("div",{className:"survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(F=t==null?void 0:t.logo)!=null&&F.length?e.jsx("img",{className:"logo",src:t==null?void 0:t.logo}):"",(y=t==null?void 0:t.title)!=null&&y.length?e.jsx("p",{className:"",children:t.title}):""]})}),s==null?void 0:s.map((S,_)=>{var b;return e.jsxs("div",{className:"page",children:[e.jsxs("div",{className:"info-page",children:[e.jsxs("p",{children:["Pagina ",_+1]}),e.jsx("button",{className:"delete",onClick:C=>{g(_)},children:e.jsx(me,{})})]}),(b=S.quests)==null?void 0:b.map((C,w)=>e.jsx(Li,{header:t,setModalImage:r,value:C,page:_,keyid:w,setEdit:i,setJson:n},w)),e.jsxs("button",{className:"add-new",onClick:C=>{j(_)},children:[e.jsx(Ye,{})," Nueva pregunta"]})]},_)}),e.jsxs("div",{className:"add-new",onClick:h,children:[e.jsx(Ye,{})," Nueva pagina"]})]})]})}function Ai({setHeader:s,header:t,json:n}){const[i,o]=a.useState(!1),{UserInfo:l}=a.useContext(X);a.useState();function r(m){let d=m.target.value,u=m.target.name;u=="background"&&(d.indexOf("http")>=0||d.indexOf("www")>=0)&&(d=`url(${d})`),s(x=>({...x,[u]:d}))}async function p(){var d;let m=new FormData;if(t.id_survey&&m.append("id_survey",t.id_survey),m.append("header",JSON.stringify(t)),m.append("id_company",(d=l==null?void 0:l.company)==null?void 0:d.id_company),m.append("json",JSON.stringify(n)),t.title)if(n.length>=1){let u=await new Promise((x,c)=>{ws(document.querySelector(".center"),{allowTaint:!1,useCORS:!0}).then(h=>{let j=h.toDataURL("image/png");x(j)})});u&&m.append("miniature",u.replace("data:image/png;base64,","")),o(!0),T.post(P+"/api/upload/survey",m,{withCredentials:!0}).then(x=>x.data).then(x=>{x.status&&(x.id_survey&&(t.id_survey||s(c=>({...c,id_survey:x.id_survey}))),x.token&&s(c=>({...c,token:x.token})),x.short_link&&s(c=>({...c,short_link:x.short_link}))),o(!1)}).catch(x=>{o(!1)})}else A.error("Opps no has agregado una pregunta.");else A.error("Opps no has elegido un titulo")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar encuesta"}),e.jsx("span",{children:"Personaliza tu encuesta, imagen, fondo, titulo y logo."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Titulo"}),e.jsx("input",{type:"text",onChange:r,defaultValue:t.title,name:"title",placeholder:"Ej: Encuesta de fidelidad"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Ingresa url de tu logo"}),e.jsx("input",{type:"text",onChange:r,defaultValue:t.logo,name:"logo"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",onChange:r,defaultValue:t.background,name:"background"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",defaultValue:0,step:"0.1",max:"10",value:t.blur,onChange:r,name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",defaultValue:1,step:"0.0",max:"1",value:t.brightness,onChange:r,name:"brightness"})]}),e.jsx("br",{}),e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar Cajas"}),e.jsx("span",{children:"Personaliza de tu manera preferida tus cajas."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border Radius"}),e.jsx("input",{type:"range",defaultValue:.1,step:"0.1",max:"20",onChange:r,name:"borderRadius"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{onClick:m=>{r(m)},name:"colorBox",value:"ligth",children:"Modo Claro"}),e.jsx("button",{onClick:m=>{r(m)},name:"colorBox",value:"dark",children:"Modo Oscuro"}),e.jsx("button",{onClick:m=>{r(m)},name:"colorBox",value:"transparent",children:"Transparente"})]})]}),e.jsx("div",{className:"option",children:e.jsxs("button",{className:`save ${i?"await":""}`,onClick:p,children:["Guardar ",e.jsx("div",{className:"loading"})]})})]})}function Oi({value:s,page:t,setJson:n,keyid:i}){function o(l){let r=l.target.value;n(p=>{const m=[...p];return m[t].quests[i].title=r,m[t].quests[i].response=0,m})}return a.useEffect(()=>{s!=null&&s.title&&(document.querySelector("#title-edit").value=s.title)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo de pregunta"}),e.jsx("input",{id:"title-edit",onChange:o,type:"text",placeholder:"Ej: Como te llamas?"})]})})})}function $i({page:s,value:t,setJson:n,keyid:i}){function o(l){let r=l.target.value;n(p=>{const m=[...p];return m[s].quests[i].desc=r,m})}return a.useEffect(()=>{t!=null&&t.desc&&(document.querySelector("#title-edit").value=t.desc)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descripcion de pregunta"}),e.jsx("input",{id:"title-edit",onChange:o,type:"text",placeholder:"Ej: Tu nombre es importante por que..."})]})})})}function zi({quest_key:s,page:t,value:n,setJson:i,keyid:o}){function l(r){r.stopPropagation();let p=r.target.value;i(m=>{let d=[...m];return d[t].quests[o].questions[s].title=p,d})}return a.useEffect(()=>{},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo de pregunta"}),e.jsx("input",{id:"title-edit",onChange:l,type:"text",placeholder:"Ej: Como te llamas?"})]})})})}function Bi({edit:s,json:t,setJson:n}){var i;return e.jsxs(e.Fragment,{children:[s.type=="title"?e.jsx(Oi,{page:s.page,value:t[s.key],setJson:n,keyid:s.key},s.key):"",s.type=="desc"?e.jsx($i,{page:s.page,value:t[s.key],setJson:n,keyid:s.key},s.key):"",s.type=="title-quest"?e.jsx(zi,{page:s.page,quest_key:s.quest_key,value:(i=t[s.page].quests[s.key])==null?void 0:i.questions[s.quest_key],setJson:n,keyid:s.key},s.key):""]})}function Zs(){const[s,t]=a.useState({title:"",logo:"",background:"",blur:"0.5",brightness:""}),[n,i]=a.useState([]),[o,l]=a.useState({type:"",key:"",quest_key:"",page:""}),{UserInfo:r}=a.useContext(X),p=pe(),[m,d]=a.useState(!0);function u(){var c;d(!0);let x=new FormData;x.append("id_survey",p.idsurvey),x.append("id_company",(c=r==null?void 0:r.company)==null?void 0:c.id_company),T.post(P+"/api/get/surveys",x,{withCredentials:!0}).then(h=>h.data).then(h=>{d(!1),h.header&&t(JSON.parse(h.header)),h.json&&i(JSON.parse(h.json))}).catch(h=>{d(!1),A.error(String(h))})}return a.useEffect(()=>{p.idsurvey?u():setTimeout(()=>{d(!1)},1e3)},[]),e.jsxs(e.Fragment,{children:[m?e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:["Cargando... ",e.jsx("div",{className:"loading"})]})]})}):"",e.jsx("div",{className:"editor-surveys",children:e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:"left",children:e.jsx(Ai,{setHeader:t,header:s,json:n})}),e.jsx("div",{className:"center",style:{background:s.background},children:e.jsx(Ri,{json:n,header:s,edit:o,setJson:i,setEdit:l})}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"type-editor",children:e.jsx(Bi,{edit:o,setJson:i,json:n,header:s})})})]})})]})}function Us(){var u,x,c,h;const[s,t]=a.useState([]),[n,i]=a.useState(0),[o,l]=a.useState({}),[r,p]=a.useState(0);a.useEffect(()=>{t(JSON.parse(window.localStorage.getItem("surveyPreview"))),l(JSON.parse(window.localStorage.getItem("surveyPreviewHead")))},[]),a.useEffect(()=>{s.length&&i(s.length)},[s]);function m(){p(j=>j+1)}function d(){p(j=>j-1)}return e.jsxs("div",{className:"survey real",colorBox:o==null?void 0:o.colorBox,style:{background:o==null?void 0:o.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${o.blur}px)brightness(${o.brightness})`}}),e.jsxs("div",{className:"margin-survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(u=o==null?void 0:o.logo)!=null&&u.length?e.jsx("img",{className:"logo",src:o==null?void 0:o.logo}):"",(x=o==null?void 0:o.title)!=null&&x.length?e.jsx("p",{className:"",children:o.title}):""]})}),(h=(c=s[r])==null?void 0:c.quests)==null?void 0:h.map((j,g)=>{var N;return e.jsxs("div",{className:"question",style:{borderRadius:(o==null?void 0:o.borderRadius)+"px"},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:j.title}),e.jsx("span",{children:j.desc})]}),j!=null&&j.img?e.jsx("img",{className:"img-quest",src:j.img}):"",(N=j==null?void 0:j.questions)==null?void 0:N.map((v,k)=>e.jsxs("div",{className:"quest",children:[j.type=="input"?e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",disabled:!0,placeholder:`${v.title}`})}):"",j.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:0})," ",e.jsx("span",{children:v.title})]}):"",j.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:0})," ",e.jsx("span",{children:v.title})]}):"",j.type=="input-large"?e.jsx(e.Fragment,{children:e.jsx("textarea",{name:0,placeholder:v.title,style:{width:"100%"}})}):""]},k))]},g)}),e.jsx("div",{className:"buttons-bottom",children:r==n-1?e.jsxs(e.Fragment,{children:[r?e.jsx("button",{onClick:d,children:"Volver"}):"",e.jsx("button",{children:"Terminar"})]}):r<n-1?e.jsxs(e.Fragment,{children:[r?e.jsx("button",{onClick:d,children:"Volver"}):"",e.jsx("button",{onClick:m,children:"Siguiente"})]}):""})]})]})}function Vi(){var g,N;const s=pe(),[t,n]=a.useState([]),[i,o]=a.useState(!0),[l,r]=a.useState([]),[p,m]=a.useState(),[d,u]=a.useState(0);function x(){let v=new FormData;v.append("key",s.id),T.post(P+"/api/get/survey",v,{withCredentials:!0}).then(k=>k.data).then(k=>{o(!1),n(k)}).catch(k=>{o(!1)})}function c(v){v.preventDefault(),u(k=>k+1)}function h(v){v.preventDefault(),u(k=>k-1)}a.useEffect(()=>{s.id&&i==!0&&x()},[]),a.useEffect(()=>{t.header&&(m(JSON==null?void 0:JSON.parse(t==null?void 0:t.header)),r(JSON.parse(t.json)))},[t]);function j(v){v.preventDefault();let k=document.querySelector("#form"),F=new FormData(k);F.append("key",s.id),T.post(P+"/api/upload/responseSurvey",F,{withCredentials:!0})}return e.jsx(e.Fragment,{children:i?e.jsx("div",{className:"app",children:e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:["Cargando encuesta... ",e.jsx("div",{className:"loading"})]})]})})}):e.jsxs("div",{className:"survey real",colorBox:p==null?void 0:p.colorBox,style:{background:p==null?void 0:p.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${p==null?void 0:p.blur}px)brightness(${p==null?void 0:p.brightness})`}}),e.jsxs("div",{className:"margin-survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(g=p==null?void 0:p.logo)!=null&&g.length?e.jsx("img",{className:"logo",src:p==null?void 0:p.logo}):"",(N=p==null?void 0:p.title)!=null&&N.length?e.jsx("p",{className:"",children:p.title}):""]})}),e.jsx("form",{method:"POST",encType:"multipart/form-data",id:"form",children:l.map((v,k)=>{var F;return e.jsx("div",{className:`page ${k==d?"active":""}`,children:(F=v==null?void 0:v.quests)==null?void 0:F.map((y,S)=>{var _;return e.jsxs("div",{className:"question",style:{borderRadius:(p==null?void 0:p.borderRadius)+"px"},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:y.title}),e.jsx("span",{children:y.desc})]}),y!=null&&y.img?e.jsx("img",{className:"img-quest",src:y.img}):"",(_=y==null?void 0:y.questions)==null?void 0:_.map((b,C)=>e.jsxs("div",{className:"quest",children:[y.type=="input"?e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",name:`${k}-${S}-${C}`,placeholder:`${b.title}`})}):"",y.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:`${k}-${S}`,value:b.title})," ",e.jsx("span",{children:b.title})]}):"",y.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:`${k}-${S}-${C}`})," ",e.jsx("span",{children:b.title})]}):"",y.type=="input-large"?e.jsx(e.Fragment,{children:e.jsx("textarea",{name:`${k}-${S}-${C}`,placeholder:b.title,style:{width:"100%"}})}):""]},C))]},S)})})})}),e.jsx("div",{className:"buttons-bottom",children:d==l.length-1?e.jsxs(e.Fragment,{children:[d?e.jsx("button",{onClick:h,children:"Volver"}):"",e.jsxs("button",{onClick:j,className:"pending",children:["Terminar ",e.jsx("div",{className:"loading"})]})]}):e.jsxs(e.Fragment,{children:[d?e.jsx("button",{onClick:h,children:"Volver"}):"",e.jsx("button",{onClick:c,children:"Siguiente"})]})})]})]})})}function _s(){const s=pe();return e.jsx(e.Fragment,{children:e.jsx("div",{className:"menu-top",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:`/stats/survey/${s.id}`,children:"Estadisticas"})}),e.jsx("li",{children:e.jsx(B,{to:`/stats/survey/${s.id}/detail`,children:"Detalles de respuestas"})}),e.jsx("li",{children:e.jsx(B,{to:`/stats/survey/${s.id}/response`,children:"Respuestas"})})]})})})}function Qi(){const{UserInfo:s}=a.useContext(X),[t,n]=a.useState(!1);a.useState({});const[i,o]=a.useState([]),[l,r]=a.useState([]),[p,m]=a.useState([]),[d,u]=a.useState({}),[x,c]=a.useState({options:{chart:{id:"basic-bar"},xaxis:{categories:[]}},series:[{name:"series-1",data:[]}]}),h=pe();function j(){var N;let g=new FormData;g.append("id_company",(N=s==null?void 0:s.company)==null?void 0:N.id_company),g.append("id_survey",h.id),T.post(P+"/api/get/statsurvey",g,{withCredentials:!0}).then(v=>v.data).then(v=>{r(v.days),u(v),m(v.daysResponse),o(v.countrys)})}return a.useEffect(()=>{j(),n(!0)},[t]),a.useEffect(()=>{c(g=>({...g,options:{...g.options,xaxis:{categories:l}},series:[{name:"serie 1",data:p}]}))},[p]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Encuesta: ",h.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu encuesta"})]})}),e.jsx(_s,{}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Respuestas este mes"})}),e.jsx(Ke,{options:x.options,series:x.series,type:"area",height:300})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Preguntas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:d==null?void 0:d.totalQuestions})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Paginas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:d==null?void 0:d.pageTotal})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Respuestas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:d.totalResponse})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Visitas"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"100"})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{className:"title",children:"Tops Paises"})}),e.jsx("div",{className:"result countryr",children:i.map((g,N)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:ka(g.country),alt:""}),e.jsx("p",{className:"",children:g.country==""?"Undefined":Sa(String(g.country).toLocaleLowerCase())}),e.jsxs("span",{children:["(",g.amount,")"]})]},N))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding",children:e.jsx("div",{className:"top",children:e.jsx("p",{className:"title",children:"Tops Respuestas"})})})})]})})]})}function Hi(){const s=pe(),t=ae(),{UserInfo:n}=a.useContext(X),[i,o]=a.useState([]),[l,r]=a.useState(!1),[p,m]=a.useState({series:[{name:"Respuestas",data:[]}],chart:{type:"area",height:350,stacked:!0},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:[]}}),[d,u]=a.useState({series:[],theme:{palette:"palette3"},labels:[],chart:{type:"donut"}}),x=()=>{let j=new FormData;j.append("key",s.id),T.post(P+"/api/get/survey",j,{withCredentials:!0}).then(g=>g.data).then(g=>{o(JSON.parse(g.json)),c(g)})};function c(j){let g=JSON.parse(j.json),N=[],v=[],k=[],F=[];g.map((y,S)=>{y.quests.map((_,b)=>{_.type=="radio"&&_.questions.map((C,w)=>{N.push(`${C.title} (${S+1})`),v.push(C.response),k.push(`${_.title} - ${C.title}`),F.push(C.response),m(f=>({...f,xaxis:{...f,categories:N}})),m(f=>(f.series=[{name:"Respuesta",data:v}],f)),u(f=>(f.labels=k,f.series=F,f))})})})}function h(j){var N;let g=new FormData;g.append("id_company",(N=n==null?void 0:n.company)==null?void 0:N.id_company),g.append("id_survey",s.id),g.append("case",j),T.post(P+"/api/get/downloadsurvey",g,{withCredentials:!0}).then(v=>v.data).then(v=>{})}return a.useEffect(()=>{x()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"modal-map",style:{display:l?"block":"none"},children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Mapa completo"}),e.jsx("span",{children:"Puedes ver el mapa completamente de las respuestas de los usuarios."}),e.jsx("button",{className:"close",onClick:j=>{r(!1)},children:e.jsx(ss,{})})]}),e.jsx("div",{className:"map-suv complete",children:i==null?void 0:i.map((j,g)=>e.jsxs("div",{className:"pg",children:[e.jsx("div",{className:"info",children:e.jsxs("p",{children:["Pagina ",g+1]})}),e.jsx("div",{className:"separate"}),j.quests.map((N,v)=>e.jsxs("div",{className:"quests",children:[e.jsx("div",{className:"info",children:e.jsx("p",{children:N.title})}),e.jsx("div",{className:"separate"}),e.jsx("div",{className:"questions-type",children:N.questions.map((k,F)=>e.jsxs("div",{className:"question",children:[e.jsx("div",{className:"separate quest"}),e.jsxs("span",{className:"value",children:[k.title,N.type=="radio"?e.jsxs(e.Fragment,{children:[" (",k.response,") "]}):""]})]}))})]},v))]}))})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles De Encuesta "}),e.jsx("span",{children:"Estas son los detalles de las respuestas"})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"go-wizard",children:"Descargar (CSV)"}),e.jsx("button",{className:"go-wizard",onClick:j=>{h("json")},children:"Descargar (JSON)"}),e.jsx("button",{className:"go-wizard",onClick:j=>{t(`/stats/survey/${s.id}/response`)},children:"Respuestas"})]})]}),e.jsx(_s,{}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Estadisticas de respuestas"}),e.jsx("span",{children:"Estadisticas de las respuestas, veras cuantas veces respondieron a algo."})]}),e.jsx(Ke,{options:p,series:p.series,type:"bar",height:300})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top ",children:[e.jsx("p",{children:"Porcentaje de respuesta"}),e.jsx("span",{children:"Este es el porcentaje de respuesta por cada pregunta."})]}),d.labels.length?e.jsx(Ke,{options:d,series:d.series,type:"donut",height:300}):""]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top ",children:[e.jsx("p",{children:"Mapa de encuesta"}),e.jsx("span",{children:"Este es mapa de tu encuesta, donde veras un mapa sobre la encuesta ejecutada."})]}),e.jsx("div",{className:"map-suv maxheight",children:i==null?void 0:i.map((j,g)=>e.jsxs("div",{className:"pg",children:[e.jsx("div",{className:"info",children:e.jsxs("p",{children:["Pagina ",g+1]})}),e.jsx("div",{className:"separate"}),j.quests.map((N,v)=>e.jsxs("div",{className:"quests",children:[e.jsx("div",{className:"info",children:e.jsx("p",{children:N.title})}),e.jsx("div",{className:"separate"}),e.jsx("div",{className:"questions-type",children:N.questions.map((k,F)=>e.jsxs("div",{className:"question",children:[e.jsx("div",{className:"separate quest"}),e.jsxs("span",{className:"value",children:[k.title,N.type=="radio"?e.jsxs(e.Fragment,{children:[" (",k.response,") "]}):""]})]}))})]},v))]}))}),e.jsx("button",{className:"action-complete",onClick:j=>{r(!0)},children:"Ver mapa completo"})]})})]})]})}function Wi(){let s=pe();const[t,n]=a.useState([]),[i,o]=a.useState([]),[l,r]=a.useState(!1),{UserInfo:p}=a.useContext(X);function m(){var u;let d=new FormData;d.append("id_survey",s.id),d.append("id_company",(u=p==null?void 0:p.company)==null?void 0:u.id_company),T.post(P+"/api/get/responsesurvey",d,{withCredentials:!0}).then(x=>x.data).then(x=>{x.length&&(n(x),x.forEach((c,h)=>{o(j=>[...j,JSON.parse(c.json_response)])}))})}return a.useEffect(()=>{r(!0),l&&m()},[l]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Respuestas"}),e.jsx("span",{children:"Ver todas las respuestas hechas en tu encuesta"})]}),e.jsx("div",{className:"right"})]}),e.jsx(_s,{}),e.jsx("div",{className:"row",children:i.map((d,u)=>e.jsx("div",{className:"col-6",children:e.jsx("div",{className:"box box-padding",children:e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"top",children:e.jsx("div",{className:"top",children:e.jsxs("p",{children:["Respuesta #",u+1]})})}),e.jsx("div",{className:"response",children:Object.entries(d).map(([x,c])=>e.jsx("div",{children:e.jsxs("span",{children:[x,": ",c]})},x))})]})})},u))})]})}function ea(){const s=ae(),[t,n]=a.useState([]),[i,o]=a.useState(!0),{UserInfo:l}=a.useContext(X),[r,p]=a.useState(!1),[m,d]=a.useState(!1),[u,x]=a.useState({url:""}),[c,h]=a.useState(!1),[j,g]=a.useState(!1),[N,v]=a.useState(!1),k=Ae();a.useEffect(()=>{Re("/add")&&d(!0)},[k]);function F(b=!1){var w;let C=new FormData;C.append("id_company",(w=l==null?void 0:l.company)==null?void 0:w.id_company),o(!0),b||n([]),T.post(P+"/api/get/myurls",C,{withCredentials:!0}).then(f=>f.data).then(f=>{o(!1),n(f)})}function y(){var C;let b=new FormData;b.append("url",u.url),b.append("name",u.name),b.append("id_company",(C=l==null?void 0:l.company)==null?void 0:C.id_company),u.url?(p(!0),T.post(P+"/api/upload/shortlink",b,{withCredentials:!0}).then(w=>w.data).then(w=>{p(!1),w.status&&(F(),d(!1))}).catch(w=>{p(!1)})):ie.error("Opps no has ingresado el enlace correctamente")}function S(){var C;let b=new FormData;b.append("id_company",(C=l==null?void 0:l.company)==null?void 0:C.id_company),b.append("id_shortlink",N),h(!0),T.post(P+"/api/delete/shortlink",b,{withCredentials:!0}).then(w=>w.data).then(w=>{F(),w.status&&(ie.success("Has eliminado correctamente"),g(!1))}).finally(()=>{h(!1)})}function _(b){let C=b.target.name,w=b.target.value;x({...u,[C]:w})}return a.useEffect(()=>{F()},[]),e.jsxs(e.Fragment,{children:[e.jsx(ke,{visible:j,onClick:S,Pending:c,callback:g,name:"enlace"}),e.jsxs(re,{visible:m,onClick:y,callback:d,Pending:r,next:"Crear",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nuevo enlace"}),e.jsx("span",{children:"Crea tu nuevo enlace rapidamente con esta herramienta"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"name",placeholder:"Nombre de Enlace",name:"name",onChange:_})}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"url",placeholder:"Enlace",name:"url",onChange:_})})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus urls "}),e.jsx("span",{children:"Estas son tus urls cortas que has creado donde podras llevar las estadisticas de cada una."})]}),e.jsx("div",{className:"right",children:e.jsxs("button",{className:"go-wizard",onClick:b=>{d(!0)},children:[e.jsx(ee,{icon:"gg:add"})," Crear nueva URL"]})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[t.map((b,C)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon-i",children:e.jsx(ee,{icon:"lucide:link",fontSize:30,color:"#4367ff"})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:"URL CORTA"}),b.name&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"desc",children:["NOMBRE: ",b.name]})," ",e.jsx("br",{})]}),e.jsxs("span",{className:"desc",children:["ENLACE CORTO: ",e.jsx(B,{target:"_blank",to:`${is}/${b.token}`,children:b.token})]})]})]}),e.jsxs("div",{children:[e.jsx("p",{children:"URL"}),e.jsx("span",{children:b.real_link})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:w=>{g(!0),v(b.id_shortlink)},children:e.jsx(me,{})}),e.jsxs("button",{onClick:w=>{s("/shorturls/"+b.id_shortlink)},children:[e.jsx(we,{})," "]})]})]},C)),i==!0?e.jsx(_e,{}):i==!1&&t.length==0?e.jsx(Ne,{name:"urls"}):""]})})})]})}function Gi(){var g,N;const s=pe(),{UserInfo:t}=a.useContext(X),[n,i]=a.useState([]);a.useState([]);const[o,l]=a.useState(),[r,p]=a.useState([]),[m,d]=a.useState(0),u=a.useRef(null),[x,c]=a.useState({series:[{name:"Respuestas",data:[]}],chart:{type:"area",height:350,stacked:!0},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:[]}}),h=new ks({width:600,height:600,image:"/img/icons/iconsvg.png",dotsOptions:{color:"gradient",type:"extra-rounded",gradient:{colorStops:[{offset:0,color:"#000"},{offset:1,color:"#000"}]}},imageOptions:{crossOrigin:"anonymous",margin:20}});function j(v){var F;let k=new FormData;k.append("id_company",(F=t==null?void 0:t.company)==null?void 0:F.id_company),k.append("month",v.month),k.append("year",v.year),k.append("id_shortlink",s.id),T.post(P+"/api/get/statshortlink",k,{withCredentials:!0}).then(y=>y.data).then(y=>{i(y.countrys),p(y.devices),d(y.total),c(S=>(S.series[0].data=y.dayResponse,S.xaxis.categories=y.days,S)),l(y.token)})}return a.useEffect(()=>{j({month:new Date().getMonth()+1})},[]),a.useEffect(()=>{o&&(h.append(u.current),h.update({data:is+"/"+o+"?qr=true"}))},[o]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Detalle de enlace: ",s.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu enlace corto"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:Je,children:"Volver"})})]}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Clicks este mes"}),e.jsx("span",{children:"Aca podras evaluar los clicks hecho por el mes actual y anteriores."})]}),(N=(g=x==null?void 0:x.series[0])==null?void 0:g.data)!=null&&N.length?e.jsx(Ke,{options:x,series:x.series,type:"area",height:300}):""]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Visitas"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:m})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"QR Code"})}),e.jsx("div",{className:"resp-number",children:e.jsx("div",{className:"qr-code",children:e.jsx("div",{ref:u})})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Tops Paises"}),e.jsx("span",{children:"Tops de los paises que mas visitaron el enlace"})]}),e.jsx("div",{className:"result countryr",children:n.map((v,k)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:ka(v.country),alt:""}),e.jsx("p",{className:"",children:v.country==""?"Undefined":Sa(v.country)}),e.jsxs("span",{children:["(",v.count,")"]})]},k))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Tops Os"}),e.jsx("span",{children:"Top de los sistemas operativos mas usado por los usuarios"})]}),e.jsx("div",{className:"result countryr",children:r.map((v,k)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:Wt(v.device),alt:""}),e.jsx("p",{className:"",children:v.device}),e.jsxs("span",{children:["(",v.count,")"]})]},k))})]})})]})})]})}function Ii(){const[s,t]=a.useState(-1),n=[{name:"Clics Totales",value:5e3,fill:"#000000"},{name:"Facebook",value:3e3,fill:"#1E40AF"},{name:"Instagram",value:1500,fill:"#9333EA"},{name:"YouTube",value:500,fill:"#DC2626"}],i=l=>{const r=n[0].value;return Math.round(l/r*100)},o=l=>{const{x:r,y:p,width:m,height:d,value:u,index:x}=l,c=10,h=12,j=20,g=x===s;return e.jsx("g",{children:e.jsxs("text",{x:r+m+c*2,y:p+d/2,fill:"#000",fontSize:h,fontWeight:g?"bold":"normal",textAnchor:"start",dominantBaseline:"middle",children:[e.jsx("tspan",{x:r+m+c*2,dy:"-1em",children:n[x].name}),e.jsxs("tspan",{x:r+m+c*2,dy:j,children:[u," (",i(u),"%)"]})]})})};return e.jsx("div",{className:"w-full max-w-4xl mx-auto bg-white shadow-md rounded-lg overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Embudo de Conversión - Acortador de Enlaces"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Estadísticas de tráfico por plataforma"}),e.jsx("div",{className:"w-full h-[400px]",children:e.jsx(ca,{width:"100%",height:"100%",children:e.jsxs(ra,{children:[e.jsx(oa,{formatter:(l,r)=>[`${l} (${i(l)}%)`,r],contentStyle:{backgroundColor:"white",border:"1px solid #ccc",borderRadius:"4px",padding:"10px"}}),e.jsx(da,{dataKey:"value",data:n,isAnimationActive:!0,activeIndex:s,onMouseEnter:(l,r)=>t(r),onMouseLeave:()=>t(-1),children:e.jsx(ma,{position:"right",content:o})})]})})})]})})}function sa(){const[s,t]=a.useState(),n=ae(),[i,o]=a.useState(!1),[l,r]=a.useState([]),[p,m]=a.useState(!1),[d,u]=a.useState({name:""}),{UserInfo:x}=a.useContext(X),[c,h]=a.useState(!1),[j,g]=a.useState(null),N=Ae();a.useEffect(()=>{Re("/add")&&o(!0)},[N]);function v(){var S;let y=new FormData;y.append("id_company",(S=x==null?void 0:x.company)==null?void 0:S.id_company),t(!0),T.post(P+"/api/get/shortlinkcampaigns",y,{withCredentials:!0}).then(_=>_.data).then(_=>{t(!1),r(_)}).catch(_=>{t(!1)})}function k(){var S;const y=new FormData;m(!0),y.append("name",d.name),y.append("id_company",(S=x==null?void 0:x.company)==null?void 0:S.id_company),T.post(P+"/api/upload/shortlinkcampaign",y,{withCredentials:!0}).then(_=>_.data).then(_=>{m(!1),_.status&&(v(),o(!1))}).catch(_=>{m(!1)})}function F(){var S;m(!0);let y=new FormData;y.append("id_company",(S=x==null?void 0:x.company)==null?void 0:S.id_company),y.append("id_campaign",j),T.post(P+"/api/delete/shortlinks/campaign",y,{withCredentials:!0}).then(_=>_.data).then(_=>{_.status&&(ie.success("Has eliminado correctamente esta campana"),v(),h(!1))})}return a.useEffect(()=>{v()},[]),e.jsxs(e.Fragment,{children:[e.jsx(ke,{onClick:F,Pending:p,visible:c,callback:h}),e.jsxs(re,{visible:i,onClick:k,callback:o,maxWidth:"250px",Pending:p,next:"Agregar",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nueva campaña"}),e.jsx("span",{children:"Crea tu nueva campaña rapidamente para analizar tus multiples enlaces"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de campaña",name:"name",onChange:y=>{u({...d,name:y.target.value})}})})]},i),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Campañas"}),e.jsx("span",{children:"Aca puedes visualizar o crear campañas para enlaces multiples sobre una campaña"})]}),e.jsx("div",{className:"right",children:e.jsxs("button",{className:"go-wizard",onClick:y=>{o(!0)},children:[e.jsx(ee,{icon:"gg:add"})," Crear nueva campaña"]})})]}),e.jsx("div",{className:"body-stats",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[l.map((y,S)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:y.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:_=>{g(y.id_campaign),h(!0)},children:e.jsx(me,{})}),e.jsx("button",{onClick:_=>{n("/shorturls/campaigns/"+y.id_campaign)},children:e.jsx(Oe,{})})]})]})),s?e.jsx(_e,{}):l.length==0?e.jsx(Ne,{name:"campañas"}):""]})})})})]})}function Ji({data:s}){const[t,n]=a.useState(-1),i=l=>{let r=0;for(let p=0;p<s.length;p++)r=r+s[p].value;return Math.round(l/r*100)},o=l=>{const{x:r,y:p,width:m,height:d,value:u,index:x}=l,c=10,h=12,j=20,g=x===t;return e.jsx("g",{children:e.jsxs("text",{x:r+m+c*2,y:p+d/2,fill:"#000",fontSize:h,fontWeight:g?"bold":"normal",textAnchor:"start",dominantBaseline:"middle",children:[e.jsx("tspan",{x:r+m+c*2,dy:"-1em",children:s[x].name}),e.jsxs("tspan",{x:r+m+c*2,dy:j,children:[u," (",i(u),"%)"]})]})})};return e.jsx("div",{className:"w-full h-[400px]",children:e.jsx(ca,{width:"100%",height:"100%",children:e.jsxs(ra,{children:[e.jsx(oa,{formatter:(l,r)=>[`${l} (${i(l)}%)`,r],contentStyle:{backgroundColor:"white",border:"1px solid #ccc",borderRadius:"4px",padding:"10px"}}),e.jsx(da,{dataKey:"value",data:s,isAnimationActive:!0,activeIndex:t,onMouseEnter:(l,r)=>n(r),onMouseLeave:()=>n(-1),labelLine:!0,children:e.jsx(ma,{position:"right",content:o})})]})})})}function Xi(){var C,w,f,D;const s=pe(),[t,n]=a.useState(!1),[i,o]=a.useState(!1),{UserInfo:l}=a.useContext(X),[r,p]=a.useState(!0),[m,d]=a.useState(!1),[u,x]=a.useState({});let c={url:"",app:"others"};const[h,j]=a.useState(c),[g,N]=a.useState([]),[v,k]=a.useState({series:[{name:"Funnel Series",data:[]}],chart:{type:"bar",height:350},plotOptions:{bar:{borderRadius:0,horizontal:!0,distributed:!0,barHeight:"80%",isFunnel:!0}},dataLabels:{enabled:!0,formatter:function(E,q){return q.w.globals.labels[q.dataPointIndex]+":  "+E}},colors:["#F44F5E","#E55A89","#D863B1","#CA6CD8","#B57BED","#8D95EB","#62ACEA","#4BC3E6"],xaxis:{categories:[]},legend:{show:!0}});function F(E){E.stopPropagation(),j({...h,[E.target.name]:E.target.value})}const y=()=>{const E=["#8A2BE2","#4169E1","#00CED1","#3CB371","#9370DB","#1E90FF","#20B2AA","#32CD32"];return{all:E,random:()=>{const $=Math.floor(Math.random()*E.length);return E[$]}}};function S(){var q;let E=new FormData;p(!0),x({}),E.append("id_company",(q=l==null?void 0:l.company)==null?void 0:q.id_company),E.append("id_campaign",s.id),T.post(P+"/api/get/shortlinkcampaign",E,{withCredentials:!0}).then($=>$.data).then($=>{var z,W;p(!1),x($);const le=[];let de=[],G=0;(z=$==null?void 0:$.stats)==null||z.forEach((Y,oe)=>{G=G+Y.count}),(W=$==null?void 0:$.stats)==null||W.forEach((Y,oe)=>{N(he=>{let L=[...he];return L.push({value:Number(Y.views),name:It(Y.app),fill:y().random()}),L})}),k(Y=>{const oe={...Y};return oe.series[0].data=le,oe.xaxis.categories=de,oe})}).catch($=>{})}function _(){var q;o(!0);let E=new FormData;E.append("id_company",(q=l==null?void 0:l.company)==null?void 0:q.id_company),E.append("id_campaign",s==null?void 0:s.id),E.append("url",h.url),E.append("app",h.app),T.post(P+"/api/upload/shortlink",E,{withCredentials:!0}).then($=>$.data).then($=>{o(!1),$.status&&(n(!1),S()),$.msg&&A.error($.msg)}).catch($=>{o(!1)})}a.useEffect(()=>{m||(k(E=>{const q={...E};return q.series[0].data=[],q.xaxis.categories=[],q}),S())},[m]);function b(E){window.open(is+"/"+E)}return e.jsxs(e.Fragment,{children:[e.jsxs(re,{next:"Agregar",visible:t,callback:n,onClick:_,Pending:i,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nuevo enlace"}),e.jsx("span",{children:"Agrega un nuevo enlace a tu campana"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"URL destino",onChange:F,name:"url"})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"app",id:"",onChange:F,children:[e.jsx("option",{value:"",children:"Selecciona la aplicacion"}),e.jsx("option",{value:"fb",children:"Facebook"}),e.jsx("option",{value:"in",children:"Instagram"}),e.jsx("option",{value:"x",children:"X (Twitter)"}),e.jsx("option",{value:"email",children:"Correo"}),e.jsx("option",{value:"sms",children:"Sms"}),e.jsx("option",{value:"tik",children:"Tiktok"}),e.jsx("option",{value:"linkd",children:"Linkedin"}),e.jsx("option",{value:"yt",children:"Youtube"}),e.jsx("option",{value:"tele",children:"Telegram"}),e.jsx("option",{value:"ws",children:"Whatsapp"}),e.jsx("option",{value:"others",children:"Otros"})]})})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Campaña de enlace: ",s.id]}),e.jsx("span",{children:"Agrega nuevos enlaces para tu campana general de urls"})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{onClick:Je,className:"add",children:"Volver"}),e.jsx("button",{onClick:E=>{n(!0)},className:"add",children:"Agregar nuevo enlace"})]})]}),((C=u.links)==null?void 0:C.length)==0&&e.jsx(e.Fragment,{children:e.jsx(Ne,{callback:()=>{n(!0)},name:"Enlaces",addNew:!0,buttonName:"Mi Primer Tracking"})}),((w=u.links)==null?void 0:w.length)>=1&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[u.links.length>=3?e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Clicks este mes"}),e.jsx("span",{children:"Aca podras evaluar los clicks hecho por el mes actual y anteriores."})]}),e.jsx(Ji,{data:g})]})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"box",children:[e.jsx("br",{}),e.jsxs("div",{className:"nofound-items",children:[e.jsx("img",{src:"   https://cdn-icons-png.flaticon.com/512/7574/7574854.png ",alt:""}),e.jsx("p",{children:"Para ver el embudo de conversion necesitas al menos 3 enlaces!"}),e.jsx("br",{})]}),"                                "]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[(f=u==null?void 0:u.links)==null?void 0:f.map((E,q)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_link.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:E.real_link}),e.jsx("span",{className:"desc",children:is+"/"+E.token}),e.jsx("br",{}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"title",children:"App"}),e.jsx("span",{children:e.jsx("img",{className:"icon-app",src:Gt(E.app),alt:""})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"title",children:"Visitas"}),e.jsx("span",{children:E.views})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(Oe,{})}),e.jsx("button",{onClick:$=>{b(E.token)},children:e.jsx(ee,{icon:"streamline:web"})})]})]},q)),r?e.jsx(_e,{}):((D=u==null?void 0:u.links)!=null&&D.length,"")]})})]})})})]})}function Pa({Visible:s,Close:t,loadQrs:n=()=>{},callbackUrl:i=(o,l)=>{}}){const{UserInfo:o}=a.useContext(X);a.useRef(null);const[l,r]=a.useState(0),[p,m]=a.useState([Te()]),[d,u]=a.useState({type:""});a.useState({});const[x,c]=a.useState(!1),h=Te(),j=new ks({width:600,height:600,margin:0,qrOptions:{typeNumber:"0",mode:"Byte",errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,margin:10},dotsOptions:{type:"dots",color:"#000000"},backgroundOptions:{color:"#ffffff",gradient:null},image:"/img/icons/logo_color_1.png",dotsOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#6a1a4c",color2:"#6a1a4c",rotation:"0"}},cornersSquareOptions:{type:"extra-rounded",color:"#000000"},cornersSquareOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},cornersDotOptions:{type:"dot",color:"#000000"},cornersDotOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},backgroundOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#ffffff",color2:"#ffffff",rotation:"0"}}});function g(C){let w=C.target.files;w[0]&&(w[0].type.indexOf("/pdf")>=0||w[0].type.indexOf("imag")>=0?u({...d,file:w[0]}):(A.error("El archivo no es una imagen / pdf"),C.target.value=""))}let N={url:""};const[v,k]=a.useState(N);ae();function F(C){C.stopPropagation(),C.preventDefault();let w=O(C.target);w.parents(".options").find(".active").removeClass("active"),w.addClass("active");let f=w.attr("value");u(D=>({...D,type:f}))}async function y(){return new Promise((C,w)=>{var D;let f=new FormData;f.append("id_company",(D=o==null?void 0:o.company)==null?void 0:D.id_company),f.append("file",d.file),T.post(P+"/api/upload/fileqr",f,{withCredentials:!0}).then(E=>E.data).then(E=>{C(E)}).catch(()=>{w({})}).finally(()=>{})})}async function S(C){let w=!1;if(O(C.target),(l===0&&d.type=="qr-stand"||d.type=="qr-contact"||d.type=="qr-file")&&(w=!0),l===1){const f=document.querySelector(".qr-result");d.type=="qr-contact"?j.update({data:`BEGIN:VCARD
VERSION:3.0
`+(v.lname?"N:"+v.lname+";"+(v.fname||"")+`;;;
`:"")+(v.fname?"FN:"+v.fname+" "+(v.lname||"")+`
`:"")+(v.company?"ORG:"+v.company+`;
`:"")+(v.jobtitle?"TITLE:"+v.jobtitle+`
`:"")+(v.number?"TEL;type=CELL:"+v.number+`
`:"")+(v.officenum?"TEL;type=WORK:"+v.officenum+`
`:"")+(v.email?"EMAIL;type=INTERNET;type=WORK;type=pref:"+v.email+`
`:"")+(v.web?"URL:"+v.web+`
`:"")+(v.address1?"ADR;TYPE=work:;;"+v.address1+";"+(v.address2||"")+";"+(v.city||"")+";"+(v.province||"")+";"+(v.country||"")+";"+(v.pcode||"")+`
`:"")+"REV:"+new Date+`
END:VCARD`}):(d.type=="qr-stand"&&j.update({data:v.url}),d.type=="qr-file"&&(c(!0),await y().then(D=>{j.update({data:D.download})}).catch(D=>{A.error("Opps error al subir archivo")}).finally(()=>{c(!1)}))),f.innerHTML="",j.append(f),await j.getRawData().then(D=>{let E=new FileReader;E.onload=function(q){const $=q.target.result;u({...d,base64:$})},E.readAsDataURL(D)}),w=!0}if(l===2)if(v.name){let f=new FormData;c(!0),d.type=="qr-stand"?await new Promise((D,E)=>{var q;f.append("url",v.url),f.append("id_company",(q=o==null?void 0:o.company)==null?void 0:q.id_company),T.post(P+"/api/upload/shortlink",f,{withCredentials:!0}).then($=>$.data).then($=>{j.update({data:$.shortlink}),j.getRawData().then(le=>{let de=new FileReader;de.onload=function(G){const z=G.target.result;_(z,$.id_shortlink,v.url)},de.readAsDataURL(le)})})}):_(d.base64)}else w=!1,A.error("Opps no has elegido un nombre para tu qr");w&&r(f=>f+1)}function _(C,w=void 0,f){var E;let D=new FormData;D.append("formqr",JSON.stringify(v)),D.append("id_company",(E=o==null?void 0:o.company)==null?void 0:E.id_company),D.append("type",d.type),D.append("preview",C),D.append("dataQr",f),w&&D.append("id_concat",w),T.post(P+"/api/upload/qr",D,{withCredentials:!0}).then(q=>q.data).then(q=>{if(q.status){try{n(),i(v.name,q.img)}catch{}A.success("Has subido tu qr con exito")}t(!1),c(!1)}).catch(q=>{c(!1)})}function b(C){let w=C.target.name,f=C.target.value;k(D=>({...D,[w]:f}))}return a.useEffect(()=>{O(`#modal-${h} .case.active`).removeClass("active"),O(`#modal-${h} .case`).eq(l).addClass("active")},[l]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,id:`modal-${h}`,children:[e.jsxs("div",{className:"top-actions",children:[l>0?e.jsxs("button",{className:"return",onClick:C=>{r(w=>w-1)},children:[e.jsx(Ve,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:C=>{t(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case active",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear un nuevo QR individual"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de qr que quieres crear"})]}),e.jsxs("div",{className:"options ",id:`options-${p[0]}`,children:[e.jsxs("div",{className:"selector",style:{marginBottom:"10px"},onClick:F,value:"qr-stand",children:[e.jsx("div",{className:"check",children:e.jsx(be,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"QR Estandar"}),e.jsx("span",{children:"Qr Estandar es un qr basico donde podras almacenar enlaces de tus webs"})]})]}),e.jsxs("div",{className:"selector",style:{marginBottom:"10px"},onClick:F,value:"qr-contact",children:[e.jsx("div",{className:"check",children:e.jsx(be,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"QR Contacto"}),e.jsx("span",{children:"Qr Contacto, este es un qr donde podras escanearlo y almacenar un contacto con informacion importante"})]})]}),e.jsxs("div",{className:"selector",style:{marginBottom:"10px"},onClick:F,value:"qr-file",children:[e.jsx("div",{className:"check",children:e.jsx(be,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"QR Archivo"}),e.jsx("span",{children:"Qr Archivo, este es un qr donde podras guardar un archivo de tu preferencia"})]})]})]})]}),d.type=="qr-stand"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Enlace del qr"}),e.jsx("input",{type:"url",name:"url",onChange:b,placeholder:"Enlace"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre del qr"}),e.jsx("input",{type:"text",onChange:b,name:"name",placeholder:"Nombre para tu QR"})]})]})]})}),d.type=="qr-file"&&e.jsx("div",{className:"case",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Qr archivo"}),e.jsx("span",{className:"desc",children:"Sube tu archivo de tu preferencia para crear tu qr y luego utilizarlo en la nube"}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"file",onChange:g})}),e.jsx("br",{})]})}),d.type=="qr-contact"&&e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personaliza tu QR"}),e.jsx("span",{className:"desc",children:"Este es un QR de contacto para generar tu tarjeta de presentacion, puedes personalizarlo con tu informacion necesaria."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre del QR"}),e.jsx("input",{type:"text",onChange:b,name:"name",placeholder:"Nombre para tu QR"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre"}),e.jsx("input",{type:"text",name:"fname",onChange:b,placeholder:"ej: Roberto"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Apellido"}),e.jsx("input",{type:"text",name:"lname",onChange:b,placeholder:"ej: Martinez"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Empresa"}),e.jsx("input",{type:"text",name:"company",onChange:b,placeholder:"ej: Cocacola"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Cargo"}),e.jsx("input",{type:"text",name:"jobtitle",onChange:b,placeholder:"ej: Director"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Celular"}),e.jsx("input",{type:"text",name:"number",onChange:b,placeholder:"ej: +58412000000"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Numero de Oficina"}),e.jsx("input",{type:"text",name:"officenum",onChange:b,placeholder:"ej: (12)"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo Electronico"}),e.jsx("input",{type:"text",name:"email",onChange:b,placeholder:"ej: example@example.com"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Pagina Web"}),e.jsx("input",{type:"text",name:"web",onChange:b,placeholder:"ej: www.example.com"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Direccion"}),e.jsx("input",{type:"text",name:"address1",onChange:b,placeholder:"ej: Chicago, ST "})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Direccion del Trabajo"}),e.jsx("input",{type:"text",name:"address2",onChange:b,placeholder:"ej: Chicago ST, Down Ryder "})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Ciudad"}),e.jsx("input",{type:"text",name:"city",onChange:b,placeholder:"ej: Chicago"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Estado"}),e.jsx("input",{type:"text",name:"province",onChange:b,placeholder:"ej: Chicago"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Pais"}),e.jsx("input",{type:"text",name:"country",onChange:b,placeholder:"ej: Estados Unidos"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Codigo postal"}),e.jsx("input",{type:"text",name:"pcode",onChange:b,placeholder:"ej: (15306)"})]})})]})})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Previsualiza tu QR "}),e.jsx("span",{className:"desc",children:"Este es el QR que has creado, dale click para subirlo."})]}),e.jsx("div",{className:"qr-result",children:e.jsx("canvas",{})})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:`next ${x?"await":" "}`,onClick:S,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function Ki({Close:s,callback:t}){const[n,i]=a.useState(!1),[o,l]=a.useState(null),[r,p]=a.useState(null);a.useEffect(()=>(setTimeout(()=>{i(!0)},2e3),()=>{o&&o.getTracks().forEach(d=>d.stop())}),[]);const m=()=>{if(r&&o instanceof MediaStream){const d=o.getVideoTracks()[0],u=document.createElement("video");u.srcObject=new MediaStream([d]),u.onloadedmetadata=()=>{r.getContext("2d").drawImage(u,0,0,r.width,r.height);const c=r.toDataURL("image/jpeg");t&&t(c)},u.play().catch(x=>console.error("Error reproduciendo video: ",x))}};return e.jsx(e.Fragment,{children:n&&e.jsxs("div",{className:"camera",children:[e.jsx("video",{style:{width:"100%",height:"auto"},ref:d=>{d&&!o&&navigator.mediaDevices.getUserMedia({video:!0}).then(u=>{d.srcObject=u,l(u)}).catch(u=>console.error("Error al acceder a la cámara: ",u))},autoPlay:!0,playsInline:!0}),e.jsx("canvas",{ref:d=>{d&&p(d)},style:{display:"none"},width:640,height:480}),e.jsx("button",{className:"capture",onClick:m})]})})}function Ta({Visible:s,Close:t,Return:n=!0}){const{UserInfo:i}=a.useContext(X);a.useRef(null);const[o,l]=a.useState(0);a.useState([Te()]);const[r,p]=a.useState({type:""}),[m,d]=a.useState(!1),[u,x]=a.useState(!1);ae();async function c(v){var k;if(O(v.target),r.name&&r.image){d(!0);let F=new FormData;F.append("preview",r.image),F.append("id_company",(k=i==null?void 0:i.company)==null?void 0:k.id_company),F.append("type","qr-stand"),F.append("formqr",JSON.stringify(r)),T.post(P+"/api/upload/qr",F,{withCredentials:!0}).then(y=>y.data).then(y=>{d(!1),y.status&&(t(!1),A.success("Se ha subido tu qr correctamente")),y.msg&&A.error(y.msg)}).catch(y=>{d(!1)})}else A.error("Opps hay algo imcompleto")}function h(v){let k=v.target.name,F=v.target.value;p(y=>({...y,[k]:F}))}function j(){O("#file").click()}function g(v){let k=v.target.files,F=O(v.target);if(k.length){let y=new FileReader;y.onload=function(S){if(k[0].type.indexOf("image")>=0){let _=new Image;_.src=S.target.result,_.onload=function(){_.width<=6e3&&_.height<=6e3?p({...r,image:_.src}):A.error(`Opps maximo 600x600 tu imagen es de ${_.width}x${_.height}`)}}else F.val(""),A.error("Opps solo aceptamos imagenes")},y.readAsDataURL(k[0])}}a.useEffect(()=>{O("#wizard2").find(".case").eq(0).addClass("active")},[]);function N(v){p({...r,image:v})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,id:"wizard2",children:[e.jsxs("div",{className:"top-actions",children:[o>0?e.jsxs("button",{className:"return",onClick:v=>{l(k=>k-1)},children:[e.jsx(Ve,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:v=>{t(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case ",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Importar QR"}),e.jsx("span",{className:"desc",children:"Guarda la imagen del QR de tu preferencia y subela a la botonera"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre para tu QR"}),e.jsx("input",{type:"text",onChange:h,name:"name",placeholder:"Nombre para tu QR"})]}),e.jsxs("div",{className:"upload-qr",children:[r.image==null?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"upload",onClick:j,children:[e.jsx(M,{icon:"basil:upload-outline"}),e.jsx("p",{className:"upload-desc",children:"Has click aca para buscar tu archivo"})]}),u?e.jsx(Ki,{callback:N,Close:x}):"",e.jsx("br",{}),e.jsx("span",{style:{fontSize:"14px",opacity:"0.8"},children:"Cuando le das activar camara toma la foto al QR de tu preferencia, luego dale click en la opcacion Subir Imagen, busca el QR y agregalo a tu botonera."}),e.jsxs("button",{className:"open-cam",onClick:v=>{x(!0)},children:[e.jsx(M,{icon:"ph:camera"})," Activar Camara"]})]}):e.jsx("div",{className:"preview",children:e.jsx("img",{src:r.image,alt:""})}),e.jsx("input",{type:"file",id:"file",onChange:g,hidden:!0})]})]})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:`next ${m?"await":" "}`,onClick:c,children:["Subir imagen ",e.jsx("div",{className:"loading"})]})})]})]})})}function gs(){const[s,t]=a.useState(!1),[n,i]=a.useState(!1),[o,l]=a.useState(!1),[r,p]=a.useState([{},{}]),{UserInfo:m}=a.useContext(X),[d,u]=a.useState(!1),[x,c]=a.useState(),h=Ae(),j=ae(),[g,N]=a.useState(!1);a.useEffect(()=>{Re("/add")&&t(!0),Re("/import")&&i(!0)},[h]);function v(){var S;let y=new FormData;y.append("id_company",(S=m==null?void 0:m.company)==null?void 0:S.id_company),T.post(P+"/api/get/qrs",y,{withCredentials:!0}).then(_=>_.data).then(_=>{p(_)})}function k(y){let S=O(y.target),_=S.parents(".item").find("img")[0].src;S.parents(".item").find(".title").text();let b=document.createElement("a");b.href=_,b.download="",b.rel="noopener noreferrer",b.target="_blank",document.querySelector("#root").appendChild(b),b.click(),document.querySelector("#root").removeChild(b)}a.useEffect(()=>{v()},[]);function F(){var S;N(!0);let y=new FormData;y.append("id_company",(S=m==null?void 0:m.company)==null?void 0:S.id_company),y.append("id_qr",x),T.post(P+"/api/delete/qr",y,{withCredentials:!0}).then(_=>_.data).then(_=>{_.status&&(u(!1),A.success("Has borrado el qr con exito"),p(b=>b.filter(w=>w.id_qr!==x)))}).finally(()=>{N(!1)})}return e.jsxs(e.Fragment,{children:[e.jsx(ke,{visible:d,callback:u,Pending:g,onClick:F}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"QR"}),e.jsx("span",{children:"Crea qr personalizados con enlaces para tus webs o qr de contacto"})]}),e.jsx(Pa,{Visible:s,Close:t,setModalView:t,loadQrs:v},s?"x1":"x2"),e.jsx(Ta,{Visible:n,Close:i,setModalView:i,loadQrs:v},n?"x":"a"),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"add",onClick:y=>{t(!0)},children:" Crear nuevo QR"}),e.jsxs("button",{className:"go-wizard",onClick:y=>{i(!0)},children:[e.jsx(Pe,{})," Importar QR"]})]})]}),e.jsxs("div",{className:"box box-padding",children:[r.map((y,S)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:ms(y.qr_preview),alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:y.title}),e.jsxs("span",{className:"desc",children:["Creado el: ",xe(y.time_add)]})]})]}),e.jsx("div",{className:"info",children:e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:"Tipo de QR"}),e.jsx("span",{className:"desc",children:y.type_qr})]})}),e.jsxs("div",{className:"actions",children:[y!=null&&y.id_concat?e.jsx("button",{onClick:_=>{j("/shorturls/"+y.id_concat)},children:e.jsx(M,{icon:"ion:stats-chart-outline"})}):"",e.jsx("button",{onClick:k,children:e.jsx(ut,{})}),e.jsx("button",{onClick:_=>{c(y.id_qr),u(!0)},children:e.jsx(me,{})})]})]})),o?e.jsx(_e,{}):r.length==0?e.jsx("div",{className:"item",children:e.jsx(Ne,{name:"Qrs"})}):""]})]})}function Yi({setButtons:s}){function t(n){let i=n.target.value;n.target.name=="background"&&i.indexOf("http")>=0&&(i=`url(${i})`),s(l=>{let r={...l};return r.header[n.target.name]=i,r})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar botonera"}),e.jsx("span",{children:"Personaliza tu botonera, cambiando imagenes, fondo, texto, botones, enlaces."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",defaultValue:"#fff",onChange:t,name:"background"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",onChange:t,defaultValue:0,step:"0.1",max:"10",name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",onChange:t,defaultValue:1,step:"0.1",max:"1",name:"brightness"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border radius"}),e.jsx("input",{type:"range",onChange:t,defaultValue:1,step:"0.1",max:"50",name:"radius"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{name:"colorBox",onClick:t,value:"ligth",children:"Modo Claro"}),e.jsx("button",{name:"colorBox",onClick:t,value:"dark",children:"Modo Oscuro"})]})]})]})}function Zi({buttons:s,setButtons:t,editor:n,setEditor:i}){var S,_,b,C,w,f,D,E,q,$,le,de;const[o,l]=a.useState(!1),[r,p]=a.useState(!1),[m,d]=a.useState(!1),[u,x]=a.useState(void 0),{UserInfo:c}=a.useContext(X),h=pe();function j(){t(G=>({...G,buttons:G.buttons.concat({})}))}function g(G){G.preventDefault(),G.stopPropagation();let z=O(G.target);switch(O(".page.buttonsbody .active").removeClass("active"),z.addClass("active"),z.attr("type")){case"buttons":var W=z.attr("id");i({type:"button",key:W});break;case"rs":var W=z.attr("id");i({type:"rs",key:W});break;default:i({type:z.attr("type")});break}return!1}function N(G){t(z=>{const W={...z};return W.buttons=W.buttons.filter((Y,oe)=>oe!==G),i({type:"",key:""}),W})}function v(){let G=document.querySelector("#select-rs").value,z=document.querySelector("#input-rs").value;(s==null?void 0:s.rs.length)<=3?t(W=>{const Y=[...W.rs];return Y.push({type:G,url:z}),{...W,rs:Y}}):A.error("Opps ya has agregado muchas redes sociales")}async function k(){var G,z,W;if(((z=(G=s.header)==null?void 0:G.titlegl)==null?void 0:z.length)>=1){d(!0);let Y=new FormData;Y.append("json",JSON.stringify(s)),u==null?Y.append("title",s.header.titlegl):Y.append("id_buttons",u),Y.append("id_company",(W=c==null?void 0:c.company)==null?void 0:W.id_company);let oe=await ws(document.querySelector(".page .center"),{allowTaint:!1,useCORS:!0}).then(he=>he.toDataURL());Y.append("preview",oe),T.post(P+"/api/upload/buttons",Y,{withCredentials:!0}).then(he=>he.data).then(he=>{d(!1),he.id_buttons&&x(he.id_buttons),he.msg&&A.error(he.msg)}).catch(he=>{d(!1)})}else p(!0),A.error("Opps no puedes avanzar si tu plantilla no posee un titulo")}function F(G){let z=G.target.value;t(W=>{let Y={...W};return Y.header.titlegl=z,Y})}function y(){s.header.titlegl&&(p(!1),A.success("El titulo se aplico con exito"))}return a.useEffect(()=>{var G;if(h.id){let z=new FormData;z.append("id_buttons",h.id),z.append("id_company",(G=c==null?void 0:c.company)==null?void 0:G.id_company),T.post(P+"/api/get/editbuttons",z,{withCredentials:!0}).then(W=>W.data).then(W=>{W.id_buttons&&(t(JSON.parse(W.json)),x(W.id_buttons))})}},[]),e.jsxs(e.Fragment,{children:[e.jsxs(re,{visible:r,close:p,callback:p,onClick:y,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("span",{children:"Elige un titulo general para esta plantilla"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Titulo general"}),e.jsx("input",{onChange:F,type:"text",placeholder:"ej: plantilla 1"})]})]}),e.jsx(re,{visible:o,callback:l,onClick:v,children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Redes Sociales"}),e.jsx("span",{children:"Selecciona que red social quieres agregar"}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("input",{type:"url",placeholder:"Enlace (URL)",id:"input-rs"}),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("select",{name:"",id:"select-rs",children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"Seleccionar"}),e.jsx("option",{value:"fb",children:"Facebook"}),e.jsx("option",{value:"x",children:"X (Twitter)"}),e.jsx("option",{value:"in",children:"Instagram"}),e.jsx("option",{value:"link",children:"Linkedin"}),e.jsx("option",{value:"disc",children:"Discord"}),e.jsx("option",{value:"tik",children:"TikTok"}),e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"spot",children:"Spotify"}),e.jsx("option",{value:"tele",children:"Telegram"}),e.jsx("option",{value:"ws",children:"Whatsapp"})]}),e.jsx("br",{})]})]})}),e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{children:[e.jsx(Ie,{})," Previsualizar"]}),e.jsxs("button",{className:m?"await":"",onClick:k,children:[e.jsx(ts,{})," Guardar ",e.jsx("div",{className:"loading"})]})]})}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(S=s==null?void 0:s.header)==null?void 0:S.blur}px)brightness(${(_=s==null?void 0:s.header)==null?void 0:_.brightness})`,background:(b=s==null?void 0:s.header)==null?void 0:b.background2}}),e.jsxs("div",{className:`${"page buttonsbody "+((C=s==null?void 0:s.header)==null?void 0:C.colorBox)}`,children:[e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",onClick:g,type:"logo",src:(w=s==null?void 0:s.header)!=null&&w.logo?(f=s==null?void 0:s.header)==null?void 0:f.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{onClick:g,type:"title",children:(D=s==null?void 0:s.header)!=null&&D.title?(E=s==null?void 0:s.header)==null?void 0:E.title:"Agregar titulo"}),e.jsx("span",{onClick:g,type:"desc",children:(q=s==null?void 0:s.header)!=null&&q.desc?($=s==null?void 0:s.header)==null?void 0:$.desc:"Agregar Descripcion"})]}),e.jsx("div",{className:"buttons",children:(le=s==null?void 0:s.buttons)==null?void 0:le.map((G,z)=>{var W;return e.jsxs("div",{children:[e.jsx("div",{className:"edit-active",children:e.jsx("button",{onClick:Y=>{N(z)},children:e.jsx(me,{})})}),e.jsxs("a",{onClick:g,style:{borderRadius:((W=s==null?void 0:s.header)==null?void 0:W.radius)+"px"},type:"buttons",id:z,href:G.url,children:[" ",G!=null&&G.name?G==null?void 0:G.name:"Elegir nombre..."]},z)]},z)})}),e.jsx("div",{className:"rs",children:(de=s==null?void 0:s.rs)==null?void 0:de.map((G,z)=>e.jsx("div",{className:"r",children:e.jsxs("a",{href:"",onClick:g,id:z,type:"rs",children:[G.type=="in"?e.jsx(pa,{}):"",G.type=="tik"?e.jsx(ha,{}):"",G.type=="disc"?e.jsx(ua,{}):"",G.type=="spot"?e.jsx(xa,{}):"",G.type=="tele"?e.jsx(ja,{}):"",G.type=="ws"?e.jsx(ga,{}):"",G.type=="email"?e.jsx(va,{}):"",G.type=="fb"?e.jsx(fa,{}):"",G.type=="x"?e.jsx(Na,{}):"",G.type=="link"?e.jsx(ya,{}):""]})},z))}),e.jsxs("div",{className:"add-new",onClick:j,children:[e.jsx(Ye,{})," Agregar Boton"]}),e.jsx("br",{}),e.jsxs("div",{className:"add-new",onClick:G=>{l(!0)},children:[e.jsx(Ye,{})," Agregar Red Social"]})]})]})}function Ui({editor:s,buttons:t,setButtons:n,setEditor:i}){var r;function o(p){let m=p.target.value;n(d=>{let u={...d};return u.rs[s.key].url=m,u})}function l(p){n(m=>{const d={...m};return d.rs=d.rs.filter((u,x)=>x!==Number(s.key)),i({type:"",key:""}),d})}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enlace"}),e.jsx("input",{id:"title-edit",onChange:o,type:"text",value:(r=t==null?void 0:t.rs[s.key])==null?void 0:r.url,placeholder:"https://image.com/jfop2.jpg"})]})}),e.jsx("div",{children:e.jsx("button",{className:"delete",onClick:l,children:"Eliminar"})})]})}function en({editor:s,buttons:t,setButtons:n}){function i(o){const{name:l,value:r}=o.target;n(p=>{let m={...p};return m.buttons[s.key][l]=r,m})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nombre de boton"}),e.jsx("input",{onChange:i,value:t.buttons[s.key].name?t.buttons[s.key].name:"",name:"name",id:"title-edit",type:"text",placeholder:"Ej: Mi tienda virtual"})]}),e.jsx("br",{}),e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enlace"}),e.jsx("input",{onChange:i,value:t.buttons[s.key].url?t.buttons[s.key].url:"",name:"url",id:"title-edit",type:"text",placeholder:"https://example.com"})]})]})})}function sn({setButtons:s,buttons:t}){var i;function n(o){s(l=>{let r={...l};return r.header.desc=o.target.value,r})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descripcion"}),e.jsx("input",{onChange:n,id:"title-edit",type:"text",placeholder:"Ej: Mis redes sociales",value:(i=t==null?void 0:t.header)==null?void 0:i.desc})]})})})}function an({setButtons:s,buttons:t}){function n(i){let o=i.target.value;s(l=>{let r={...l};return r.header.logo=o,r})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Logo"}),e.jsx("input",{onChange:n,id:"title-edit",type:"text",placeholder:"https://image.com/jfop2.jpg"})]})})})}function tn({setButtons:s,buttons:t}){var i;function n(o){s(l=>{let r={...l};return r.header.title=o.target.value,r})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("input",{onChange:n,id:"title-edit",type:"text",placeholder:"Ej: Mis redes sociales",value:(i=t==null?void 0:t.header)==null?void 0:i.title})]})})})}function nn({editor:s,buttons:t,setButtons:n,setEditor:i}){return e.jsxs(e.Fragment,{children:[s.type=="button"?e.jsx(en,{editor:s,buttons:t,setButtons:n}):"",s.type=="title"?e.jsx(tn,{editor:s,buttons:t,setButtons:n}):"",s.type=="desc"?e.jsx(sn,{editor:s,buttons:t,setButtons:n}):"",s.type=="logo"?e.jsx(an,{editor:s,buttons:t,setButtons:n}):"",s.type=="rs"?e.jsx(Ui,{editor:s,buttons:t,setButtons:n,setEditor:i}):""]})}function aa(){var o;a.useState(!0);const[s,t]=a.useState({header:{title:"",desc:"",img:"",background:""},buttons:[],rs:[]}),[n,i]=a.useState({});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"editor-surveys",children:e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:"left",children:e.jsx(Yi,{editor:n,setButtons:t,buttons:s})}),e.jsx("div",{className:"center",style:{background:(o=s==null?void 0:s.header)==null?void 0:o.background},children:e.jsx(Zi,{editor:n,setEditor:i,buttons:s,setButtons:t})}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"type-editor",children:e.jsx(nn,{editor:n,buttons:s,setButtons:t,setEditor:i})})})]})})})}function qa({Visible:s,CallbackVisible:t,value:n}){const i=ae();let o={facebook:"https://www.facebook.com/sharer.php?u="+(n||window.location.href),whatsapp:"https://api.whatsapp.com/send/?text=Mira esta nueva botonera de enlace "+(n||window.location.href),linkedin:"https://www.linkedin.com/sharing/share-offsite/?url="+(n||window.location.href),messenger:"https://www.messenger.com/new",instagram:"https://instagram.com/share",tiktok:"",x:"https://x.com/intent/tweet?text=Entra ahora con este link compartido "+(n||window.location.href),email:"mailto:?subject= Check out this Radarsystems! &body= Mira esta nueva botonera de enlace "+(n||window.location.href)};function l(r){let p=r.target.dataset.type,m=o[p];window.open(m,"_blank")}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"modal-share",style:{display:`${s?"flex":"none"}`},children:e.jsx("div",{className:"body",children:e.jsxs("div",{className:"bk",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Compartir desde Radarsystems"}),e.jsx("button",{onClick:r=>{t(!1)},className:"closed",children:e.jsx(M,{icon:"carbon:close-large"})})]}),e.jsxs("div",{className:"buttons",children:[e.jsxs("button",{onClick:l,"data-type":"facebook",children:[e.jsx("i",{className:"left",children:e.jsx(M,{icon:"logos:facebook"})})," Compartir en Facebook ",e.jsx("i",{className:"right",children:e.jsx(M,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:l,"data-type":"linkedin",children:[e.jsx("i",{className:"left",children:e.jsx(M,{icon:"logos:linkedin-icon"})})," Compartir en Linkedln ",e.jsx("i",{className:"right",children:e.jsx(M,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:l,"data-type":"whatsapp",children:[e.jsx("i",{className:"left",children:e.jsx(M,{icon:"logos:whatsapp-icon"})})," Compartir en Whatsapp ",e.jsx("i",{className:"right",children:e.jsx(M,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:l,"data-type":"messenger",children:[e.jsx("i",{className:"left",children:e.jsx(M,{icon:"logos:messenger"})})," Compartir en Messenger ",e.jsx("i",{className:"right",children:e.jsx(M,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:l,"data-type":"instagram",children:[e.jsx("i",{className:"left",children:e.jsx(M,{icon:"skill-icons:instagram"})})," Compartir en Instagram ",e.jsx("i",{className:"right",children:e.jsx(M,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:l,"data-type":"x",children:[e.jsx("i",{className:"left",children:e.jsx(M,{icon:"devicon:twitter"})})," Compartir en X ",e.jsx("i",{className:"right",children:e.jsx(M,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:l,"data-type":"email",children:[e.jsx("i",{className:"left",children:e.jsx(M,{icon:"logos:mailgun-icon"})})," Compartir en Correo Electronico ",e.jsx("i",{className:"right",children:e.jsx(M,{icon:"uiw:right"})})]})]}),e.jsx("div",{className:"url",children:e.jsx("span",{children:n??window.location.href})}),e.jsxs("div",{className:"register",children:[e.jsx("p",{children:"Crear tu cuenta en rar.bio"}),e.jsx("span",{children:"Comparte tu enlace con mas de 6 Billons de personas"}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:r=>{i("/register")},children:"Crear cuenta"}),e.jsx("button",{onClick:r=>{i("/auth")},children:"Inicia sesión"})]})]})]})})})})}function ln(){var d,u,x,c,h,j,g,N,v,k,F,y,S;const[s,t]=a.useState({}),[n,i]=a.useState(!1),[o,l]=a.useState(!0),r=pe();function p(){let _=new FormData;_.append("token",r.id),T.post(P+"/api/get/buttons",_).then(b=>b.data).then(b=>{if(t(b),b){let C=new FormData;C.append("type_stat","visit"),C.append("type","buttons"),C.append("token",r.id),T.post(P+"/api/get/capturestatsbuttons",C)}})}a.useEffect(()=>{p()},[]);function m(_){_.preventDefault(),_.stopPropagation();let b=_.target.href;if(o){l(!1);let C=new FormData;C.append("type","buttons"),C.append("type_stat","click"),C.append("data",b),C.append("token",r.id),T.post(P+"/api/get/capturestatsbuttons",C).then(w=>w.data).then(w=>{l(!0),window.open(b)}).catch(w=>{l(!0)})}}return e.jsxs(e.Fragment,{children:[e.jsx(qa,{Visible:n,CallbackVisible:i}),e.jsx("div",{className:"editor-surveys btnactive prod-buttons",children:e.jsx("div",{className:"rows",children:e.jsxs("div",{className:"center",style:{background:(d=s==null?void 0:s.header)==null?void 0:d.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(u=s==null?void 0:s.header)==null?void 0:u.blur}px)brightness(${(x=s==null?void 0:s.header)==null?void 0:x.brightness})`,background:(c=s==null?void 0:s.header)==null?void 0:c.background2}}),e.jsxs("div",{className:`${"page buttonsbody "+((h=s==null?void 0:s.header)==null?void 0:h.colorBox)}`,children:[e.jsx("div",{className:"share-now",children:e.jsx("button",{onClick:_=>{i(!0)},children:e.jsx(xt,{})})}),e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",type:"logo",src:(j=s==null?void 0:s.header)!=null&&j.logo?(g=s==null?void 0:s.header)==null?void 0:g.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{type:"title",children:(N=s==null?void 0:s.header)!=null&&N.title?(v=s==null?void 0:s.header)==null?void 0:v.title:""}),e.jsx("span",{type:"desc",children:(k=s==null?void 0:s.header)!=null&&k.desc?(F=s==null?void 0:s.header)==null?void 0:F.desc:""})]}),e.jsx("div",{className:"buttons",children:(y=s==null?void 0:s.buttons)==null?void 0:y.map((_,b)=>{var C;return e.jsx("div",{children:e.jsxs("a",{onClick:m,style:{borderRadius:((C=s==null?void 0:s.header)==null?void 0:C.radius)+"px"},type:"buttons",id:b,href:_.url,children:[" ",_!=null&&_.name?_==null?void 0:_.name:"Elegir nombre..."]},b)},b)})}),e.jsx("div",{className:"rs",children:(S=s==null?void 0:s.rs)==null?void 0:S.map((_,b)=>e.jsx("div",{className:"r",children:e.jsxs("a",{href:"",id:b,type:"rs",children:[_.type=="in"?e.jsx(pa,{}):"",_.type=="tik"?e.jsx(ha,{}):"",_.type=="disc"?e.jsx(ua,{}):"",_.type=="spot"?e.jsx(xa,{}):"",_.type=="tele"?e.jsx(ja,{}):"",_.type=="ws"?e.jsx(ga,{}):"",_.type=="email"?e.jsx(va,{}):"",_.type=="fb"?e.jsx(fa,{}):"",_.type=="x"?e.jsx(Na,{}):"",_.type=="link"?e.jsx(ya,{}):""]})},b))}),e.jsxs("div",{className:"footer",children:[e.jsx("br",{}),e.jsx("hr",{}),e.jsx("p",{children:"Powered by RadarSystems. ​​​​​​​Copyright © 1998 - 2022 Todos los derechos reservados."})]})]})]})})})]})}function ta({onClick:s}){let t=[{color:"#000"},{color:"#fff"},{color:"#FFDDC1"},{color:"#FFA07A"},{color:"#FFB6C1"},{color:"#87CEEB"},{color:"#B0C4DE"},{color:"#ADD8E6"},{color:"#FFE4E1"},{color:"#F0FFF0"},{color:"#F5F5DC"},{color:"#F0E68C"},{color:"#E0FFFF"},{color:"#FAFAD2"},{color:"#FFEBCD"},{color:"#E6E6FA"},{color:"#F08080"},{color:"#FF6347"},{color:"#FFD700"},{color:"#FFA500"},{color:"#FF4500"},{color:"#E9967A"},{color:"#CD5C5C"},{color:"#FF8C00"},{color:"#FF69B4"},{color:"#FF1493"},{color:"#DB7093"},{color:"#800000"},{color:"#A52A2A"},{color:"#D2691E"},{color:"#8B4513"},{color:"#8B0000"},{color:"#800080"}];return e.jsx(e.Fragment,{children:e.jsx("div",{className:"colorPicker-basic",children:t.map((n,i)=>e.jsx("div",{className:"color",style:{background:n.color},"data-value":n.color,onClick:o=>{s(o.target.dataset.value)}}))})})}function cn({setButtons:s,Visible:t,VisibleMenu:n}){const[i,o]=a.useState({}),[l,r]=a.useState(!1),[p,m]=a.useState(!1),[d,u]=a.useState(),{UserInfo:x}=a.useContext(X);function c(F){let y=F.target.value,S=F.target.name;(S=="background"||S=="backgroundHeader")&&y.indexOf("http")>=0&&(y=`url(${y})`),s(_=>{let b={..._};return b.header[F.target.name]=y,b})}function h(F){s(y=>{let S={...y};return S.header.background=F,S})}function j(F){s(y=>{let S={...y};return S.header.backgroundHeader=F,S})}function g(){document.querySelector("input[name='file-wallpaper']").click()}function N(F){let y=F.target.files[0];Vt(y)&&o(y)}function v(){o({}),document.querySelector("input[name='file-wallpaper']").value=""}function k(){var F;if(i!=null&&i.name){m(!0);let y=new FormData;y.append("id_company",(F=x==null?void 0:x.company)==null?void 0:F.id_company),y.append("file",i),T.post(P+"/api/upload/fileqr",y,{withCredentials:!0}).then(S=>S.data).then(S=>{S.download&&s(_=>{let b={..._};return d=="background"&&(b.header.background=`url(${S.download})`),d=="backgroundHeader"&&(b.header.backgroundHeader=`url(${S.download})`),b}),r(!1),m(!1)}).catch(S=>{m(!1)})}else ie.error("Opps no has seleccionado ningun archivo")}return a.useEffect(()=>{document.querySelector("input[name='background']").value="a"},[]),e.jsxs(e.Fragment,{children:[e.jsxs(re,{visible:l,callback:r,onClick:k,Pending:p,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Subir imagen"}),e.jsx("span",{children:"sube tu imagen que no sea mayor a 5MB"})]}),e.jsx("input",{type:"file",onChange:N,name:"file-wallpaper",accept:".png,.jpg,.jpeg",hidden:!0}),e.jsx("div",{className:"select-file",children:i.name?e.jsxs("div",{className:"file",children:[e.jsx("div",{className:"right",children:e.jsx("button",{onClick:v,children:e.jsx(me,{})})}),e.jsx("div",{className:"preview",children:e.jsxs("div",{className:"fi",children:[e.jsx("div",{className:"icon",children:e.jsx(Oe,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:i==null?void 0:i.name}),e.jsx("span",{children:i==null?void 0:i.type})]})]})})]}):e.jsxs("div",{className:"drop-file",onClick:g,children:[e.jsx("i",{children:e.jsx(Pe,{})}),e.jsx("span",{className:"desc",children:"Has click aca para buscar tu archivo"})]})})]}),e.jsx("img",{src:"/img/icons/logo_color_1.png",alt:"",hidden:!0}),e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar botonera"}),e.jsx("span",{children:"Personaliza tu botonera, cambiando imagenes, fondo, texto, botones, enlaces."}),e.jsx("button",{className:"close mb",onClick:n,children:e.jsx(M,{icon:"teenyicons:x-outline"})})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",defaultValue:"#fff",onChange:c,name:"background"}),e.jsxs("button",{onClick:F=>{r(!0),u("background")},className:"action-complete",children:[e.jsx(M,{icon:"material-symbols:upload-rounded"})," Elegir Imagen"]}),e.jsx("hr",{}),e.jsx("p",{className:"title",children:"Colores"}),e.jsx(ta,{onClick:h}),e.jsx("br",{})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el header"}),e.jsx("input",{type:"text",defaultValue:"#fff",onChange:c,name:"backgroundHeader"}),e.jsxs("button",{onClick:F=>{r(!0),u("backgroundHeader")},className:"action-complete",children:[e.jsx(M,{icon:"material-symbols:upload-rounded"})," Elegir Imagen"]}),e.jsx("hr",{}),e.jsx("p",{className:"title",children:"Colores"}),e.jsx(ta,{onClick:j}),e.jsx("br",{})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{name:"theme",onClick:c,value:"ligth",children:"Modo Claro"}),e.jsx("button",{name:"theme",onClick:c,value:"dark",children:"Modo Oscuro"})]})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",onChange:c,defaultValue:0,step:"0.1",max:"10",name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",onChange:c,defaultValue:1,step:"0.1",max:"1",name:"brightness"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border radius"}),e.jsx("input",{type:"range",onChange:c,defaultValue:1,step:"0.1",max:"50",name:"radius"})]})]})}function rn({VisibleMenu:s,getMyQrs:t,addNewQr:n,setVisibleQr:i,boxType:o,editor:l,buttons:r,setButtons:p}){const[m,d]=a.useState(!1);a.useState(!1);const[u,x]=a.useState(!1),[c,h]=a.useState(!1),[j,g]=a.useState({});a.useState({});const[N,v]=a.useState(),[k,F]=a.useState(""),[y,S]=a.useState({ssid:"",password:"",encrypt:""}),[_,b]=a.useState({rs:!1,modalFile:!1}),[C,w]=a.useState(),{UserInfo:f}=a.useContext(X),D=a.useRef(null),E={instagram:"https://www.instagram.com/",twitter:"https://x.com/",facebook:"https://facebook.com/",tiktok:"https://tiktok.com/",whatsapp:"https://api.whatsapp.com/send/?phone=",websiteurl:""};function q(L,K){if(O(L.target).css("opacity")!=="0.5")switch(v(K),K){case"qrs":t(),i(!0);break;case"vcard":i(!0),t("qr-contact");break;case"vcard-add":document.querySelector(".head-top .right button").click(),setTimeout(()=>{document.querySelectorAll(".wizard-home.open .case.active .selector")[1].click()},20),setTimeout(()=>{O(document.querySelector(".wizard-home.open .next")).click()},20);break;case"instagram":case"facebook":case"tiktok":case"twitter":case"whatsapp":case"websiteurl":h(!0);break;case"wifi":x(!0);break;case"pdf":case"img":d(!0);break}else ie.error("Este boton no esta habilitado para este apartado.")}const $=new ks({width:600,height:600,margin:0,qrOptions:{typeNumber:"0",mode:"Byte",errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,margin:10},dotsOptions:{type:"dots",color:"#000000"},backgroundOptions:{color:"#ffffff",gradient:null},image:"/img/icons/logo_color_1.png",dotsOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#6a1a4c",color2:"#6a1a4c",rotation:"0"}},cornersSquareOptions:{type:"extra-rounded",color:"#000000"},cornersSquareOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},cornersDotOptions:{type:"dot",color:"#000000"},cornersDotOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},backgroundOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#ffffff",color2:"#ffffff",rotation:"0"}}});function le(){O("input[name='file']").click()}function de(L){let K=L.target.files;K[0]&&(K[0].type.indexOf("/pdf")>=0||K[0].type.indexOf("imag")>=0?g(K[0]):ie.error("El archivo no es una imagen / pdf"))}function G(L){g({}),O("input[name='file']").val("")}function z(L,K){b({...K,[L]:K})}async function W(L){var I;let K=!1;if(c&&k&&(K=!0),u&&y.encrypt&&y.password.length&&y.ssid&&(K=!0),m&&L&&(K=!0),K){z("rs",!0),$.append(D.current);let ne=new FormData,je=L;ne.append("url",L),ne.append("id_company",(I=f==null?void 0:f.company)==null?void 0:I.id_company),u?($.update({data:L}),$.getRawData().then(ge=>{let ye=new FileReader;ye.onload=function(qe){Y(qe.target.result,Number(L.id_shortlink),L)},ye.readAsDataURL(ge)})):T.post(P+"/api/upload/shortlink",ne,{withCredentials:!0}).then(ge=>ge.data).then(ge=>{$.update({data:ge.shortlink}),$.getRawData().then(ye=>{let qe=new FileReader;qe.onload=function(Ze){Y(Ze.target.result,Number(ge.id_shortlink),je)},qe.readAsDataURL(ye)})}).catch(ge=>{ie.error(String(ge))}).finally(()=>{z("rs",!1)})}}function Y(L,K=null,I){var ge;let ne=new FormData;K&&ne.append("id_concat",K);let je=`${N+"-"+(new Date/1e3).toFixed()}`;switch(ne.append("preview",L),ne.append("dataQr",I),ne.append("id_company",(ge=f==null?void 0:f.company)==null?void 0:ge.id_company),C==null?ne.append("formqr",JSON.stringify({name:je})):(je=C,ne.append("formqr",JSON.stringify({name:C}))),console.log(N),N){case"facebook":case"instagram":case"x":case"twitter":case"linkedin":case"whatsapp":ne.append("type","qr-rs");break;case"pdf":case"img":ne.append("type","qr-file");break;case"wifi":ne.append("type","qr-wifi");break}T.post(P+"/api/upload/qr",ne,{withCredentials:!0}).then(ye=>ye.data).then(ye=>{if(z("rs",!1),ye.status){s(!1),h(!1);try{n(je,ye.img),ie.success("QR agregado con exito"),d(!1),x(!1),h(!1)}catch(qe){ie.error(String(qe))}}else ie.error(`${ye.msg}`);w(null)}).catch(ye=>{w(null),z("rs",!1)})}a.useEffect(()=>{c||F("")},[c]);function oe(L){let K=L.target.name,I=L.target.value;S({...y,[K]:I})}async function he(){var K;z("modalFile",!0);let L=new FormData;L.append("file",j),L.append("id_company",(K=f==null?void 0:f.company)==null?void 0:K.id_company),T.post(P+"/api/upload/fileqr",L,{withCredentials:!0}).then(I=>I.data).then(async I=>{I.status&&(ie.success("Se ha subido tu archivo correctamente, se esta procesando el QR"),await W(I.download),z("modalFile",!1),d(!1))}).catch(I=>{z("modalFile",!1)})}return a.useEffect(()=>{m||g([])},[m]),e.jsxs(e.Fragment,{children:[e.jsxs(re,{visible:u,onClick:L=>{W(`WIFI:T:${y.encrypt};S:${y.ssid};P:${y.password};;`)},callback:x,maxWidth:400,Pending:_==null?void 0:_.rs,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Red WiFi"}),e.jsx("span",{children:"Agrega tu red Wi-Fi favorita e integra el código QR dentro de tu botonera"})]}),e.jsxs("div",{className:"data",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"ssid",children:"Nombre QR"}),e.jsx("input",{type:"text",onChange:L=>{w(L.target.value)},name:"user",placeholder:N=="websiteurl"?"https://mysiteweb.com":"Nombre del QR"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"ssid",children:"SSID"}),e.jsx("input",{type:"text",onChange:oe,name:"ssid",placeholder:"Nombre de red"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"password",children:"Contraseña"}),e.jsx("input",{type:"text",onChange:oe,name:"password",placeholder:"Contraseña de red"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"encryption",children:"Selecciona el cifrado"}),e.jsxs("select",{name:"encrypt",id:"encryption",onChange:oe,children:[e.jsx("option",{value:"WPA",children:"WPA"}),e.jsx("option",{value:"WPA2",children:"WPA2"}),e.jsx("option",{value:"WEP",children:"WEP"}),e.jsx("option",{value:"nopass",children:"Sin cifrado"})]})]})]})]},u?"x23":"x24"),e.jsxs(re,{visible:c,callback:h,Pending:_.rs,maxWidth:450,next:"Crear",onClick:()=>{W(N=="tiktok"?E[N]+"@"+k:E[N]+k)},children:[N=="websiteurl"?e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Web"}),e.jsx("span",{children:"Agrega la url de tu sitio web"})]}):e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Red social"}),e.jsx("span",{children:"Agrega tu red social favorita y integra el QR dentro de tu botonera"})]}),e.jsxs("div",{className:"data",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",onChange:L=>{w(L.target.value)},name:"user",placeholder:"Nombre del QR"})}),e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{htmlFor:"",children:[E[N],k]}),e.jsx("input",{type:"text",onChange:L=>{F(L.target.value)},name:"user",placeholder:N=="websiteurl"?"https://mysiteweb.com":"@usuario"})]})]})]},c?"12":"13"),e.jsxs(re,{visible:m,Pending:_==null?void 0:_.modalFile,callback:d,next:"Subir",onClick:he,children:[e.jsx("input",{type:"file",name:"file",onChange:de,hidden:!0}),e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Subir archivo"}),e.jsx("span",{children:"Sube tu imagen o pdf que no sea mayor a 5 MB"})]}),e.jsxs("div",{className:"select-file",children:[e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",onChange:L=>{w(L.target.value)},name:"user",placeholder:N=="websiteurl"?"https://mysiteweb.com":"Nombre del QR"})}),j.name?e.jsxs("div",{className:"file",children:[e.jsx("div",{className:"right",children:e.jsx("button",{onClick:G,children:e.jsx(me,{})})}),e.jsx("div",{className:"preview",children:e.jsxs("div",{className:"fi",children:[e.jsx("div",{className:"icon",children:e.jsx(Oe,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:j==null?void 0:j.name}),e.jsx("span",{children:j==null?void 0:j.type})]})]})})]}):e.jsxs("div",{className:"drop-file",onClick:le,children:[e.jsx("i",{children:e.jsx(Pe,{})}),e.jsx("span",{className:"desc",children:"Has click aca para buscar tu archivo"})]})]})]},m?"14sd":"15asdas"),e.jsxs("div",{className:`buttons-services ${o}`,children:[e.jsx("div",{className:"qr-result-2",ref:D,hidden:!0}),e.jsxs("div",{className:"top-title",children:[e.jsx("p",{children:"Mis QR"}),e.jsx("button",{className:"close mb",onClick:L=>{s(!1)},children:e.jsx(M,{icon:"teenyicons:x-outline"})})]}),e.jsxs("div",{className:"button",type:"all",onClick:L=>{q(L,"qrs")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps.svg",alt:""})}),e.jsx("p",{children:"Mis QRS Favoritos"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"top-title",children:[e.jsx("p",{children:"1. Servicios QR"}),e.jsx("button",{className:"close mb",onClick:L=>{s(!1)},children:e.jsx(M,{icon:"teenyicons:x-outline"})})]}),e.jsxs("div",{className:"button",onClick:L=>{q(L,"vcard-add")},type:"vcard",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/vCard.svg",alt:""})}),e.jsx("p",{children:"Crear Tarjeta De Presentacion QR"}),e.jsx("span",{children:"Comparte "})]}),e.jsxs("div",{className:"button",onClick:L=>{q(L,"vcard")},type:"vcard",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/vCard.svg",alt:""})}),e.jsx("p",{children:"Mis Tarjeta De Presentacion QR"}),e.jsx("span",{children:"Comparte "})]}),e.jsxs("div",{className:"submenu",children:[e.jsx("p",{children:"Social Media"}),e.jsx("i",{children:e.jsx(Os,{})})]}),e.jsx("br",{}),e.jsxs("div",{className:"button",onClick:L=>{q(L,"whatsapp")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/whatsapp-icon.svg",alt:""})}),e.jsx("p",{children:"Crear Whatsapp"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:L=>{q(L,"instagram")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/instagram.svg",alt:""})}),e.jsx("p",{children:"Crear Instagram"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:L=>{q(L,"facebook")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/facebook.svg",alt:""})}),e.jsx("p",{children:"Crear Facebook"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:L=>{q(L,"twitter")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/twitter.svg",alt:""})}),e.jsx("p",{children:"Crear X"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:L=>{q(L,"tiktok")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/tiktok.svg",alt:""})}),e.jsx("p",{children:"Crear Tiktok"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:L=>{q(L,"websiteurl")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/website.png",alt:""})}),e.jsx("p",{children:"Crear Website URL"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsx("br",{}),e.jsxs("div",{className:"submenu",children:[e.jsx("p",{children:"Crear Otros QR's"}),e.jsx("i",{children:e.jsx(Os,{})})]}),e.jsx("br",{}),e.jsxs("div",{className:"button",onClick:L=>{q(L,"pdf")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/pdf.svg",alt:""})}),e.jsx("p",{children:"Subir PDF"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:L=>{q(L,"img")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/images.svg",alt:""})}),e.jsx("p",{children:"Subir Imagenes"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:L=>{q(L,"wifi")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/wifi.svg",alt:""})}),e.jsx("p",{children:"Crear Acceso WIFI"}),e.jsx("span",{children:"Link to a website of your choice"})]})]})]})}function on({addNewQr:s,setMyQrs:t,VisibleMenu:n,type:i,visibleQr:o,setVisibleQr:l,buttons:r,setBoxType:p,setButtons:m,editor:d,setEditor:u}){var ls,He,Ue,es,cs,Xe,rs,os;const[x,c]=a.useState(!1),[h,j]=a.useState(void 0),[g,N]=a.useState(),[v,k]=a.useState(!1),[F,y]=a.useState(!1),[S,_]=a.useState(!1),[b,C]=a.useState(!1);a.useState(!0);const[w,f]=a.useState(!1),[D,E]=a.useState(!1),[q,$]=a.useState({}),le=pe(),de=ae(),{UserInfo:G}=a.useContext(X);function z(se){se.preventDefault(),se.stopPropagation();let Z=O(se.target);switch(O(".page.buttonsbody .active").removeClass("active"),Z.addClass("active"),Z.attr("type")){case"addqr":var U=Z.attr("id");switch(u({type:"addqr",key:U}),U){case"0":p("vcard");break;case"1":p("rs");break;default:p("all");break}break;case"rs":var U=Z.attr("id");u({type:"rs",key:U});break;case"titlespace":u({type:"titlespace",key:Number(Z.attr("id"))});break;default:u({type:Z.attr("type")});break}return!1}function W(se){se.stopPropagation();let Z=!0;m(U=>{const ce={...U};return Z&&(Z=!1,ce.elements.push({qrs:[]})),ce})}function Y(se,Z){m(U=>{const ce={...U};return ce.elements[se]&&ce.elements[se].qrs[Z]&&ce.elements[se].qrs.splice(Z,1),ce})}async function oe(){var se;if(r.header.titlegl.length>=1){k(!0);let Z=new FormData;Z.append("json",JSON.stringify(r)),h==null?Z.append("title",r.header.titlegl):Z.append("id_buttonsqr",h),Z.append("id_company",(se=G==null?void 0:G.company)==null?void 0:se.id_company);let U=[];Z.append("preview",U),T.post(P+"/api/upload/buttonsqr",Z,{withCredentials:!0}).then(ce=>ce.data).then(ce=>{k(!1),ce.id_buttonsqr&&(j(Number(ce.id_buttonsqr)),N(ce.token),le.id||de(`/editor/buttonsqr/${Number(ce.id_buttonsqr)}`)),ce.status&&A.success("Guardado con exito"),ce.msg&&A.error(ce.msg)}).catch(ce=>{k(!1)})}else c(!0),A.error("Opps no puedes avanzar si tu plantilla no posee un titulo")}function he(se){let Z=se.target.value;m(U=>{let ce={...U};return ce.header.titlegl=Z,ce})}function L(){r.header.titlegl&&(c(!1),A.success("El titulo se aplico con exito"),oe())}function K(){var se,Z,U;O("#title").val((se=r==null?void 0:r.header)==null?void 0:se.title),O("#desc").val((Z=r==null?void 0:r.header)==null?void 0:Z.desc),(U=r==null?void 0:r.elements)==null||U.forEach((ce,$e)=>{O("p[type='titlespace']").eq($e).text(ce.title)})}a.useEffect(()=>{var se;if(le.id){let Z=new FormData;Z.append("id_buttonsqr",le.id),Z.append("id_company",(se=G==null?void 0:G.company)==null?void 0:se.id_company),T.post(P+"/api/get/editbuttonsqr",Z,{withCredentials:!0}).then(U=>U.data).then(U=>{U.id_buttonsqr&&(m(JSON.parse(U.json)),j(U.id_buttonsqr),N(U.token))})}},[]),a.useEffect(()=>{var se;D||(i==="company"&&h===void 0&&((se=r.elements[0])==null?void 0:se.title)==="Business Card"||i!=="company")&&r&&r.elements.length>0&&(K(),E(!0))},[h,i,r]);function I(se){m(Z=>{let U={...Z};return U.header.title=se.target.value,U})}function ne(se){m(Z=>{let U={...Z};return U.header.desc=se.target.value,U})}function je(se){m(Z=>{let U={...Z};return U.elements[d.key].title=se.target.textContent,U})}function ge(se){let Z=!0;m(U=>{let ce={...U};return Z&&(Z=!1,ce.elements.splice(se,1)),ce})}function ye(){document.querySelector("input[name='photo']").click()}function qe(se){let Z=se.target.files[0];Z&&((Z==null?void 0:Z.type.indexOf("image"))>=0?$(Z):A.error("El archivo no es compatible"))}function Ze(){var se;if(y(!0),q){let Z=new FormData;Z.append("id_company",(se=G==null?void 0:G.company)==null?void 0:se.id_company),Z.append("file",q),T.post(P+"/api/upload/fileqr",Z,{withCredentials:!0}).then(U=>U.data).then(U=>{y(!1),U.status&&(m(ce=>{let $e={...ce};return $e.header.logo=U.download,$e}),ns(),f(!1),A.success("Nueva imagen!"))}).catch(U=>{y(!1)})}}function ns(){$({}),document.querySelector("input[name='photo']").value=""}return a.useEffect(()=>{n()},[w,S]),e.jsxs(e.Fragment,{children:[e.jsxs(re,{visible:w,next:"Agregar",callback:f,onClick:Ze,Pending:F,children:[e.jsx("input",{type:"file",name:"photo",onChange:qe,hidden:!0}),e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Subir archivo"}),e.jsx("span",{children:"Sube tu imagen que no sea mayor a 5 MB"})]}),e.jsx("div",{className:"select-file",children:q.name?e.jsxs("div",{className:"file",children:[e.jsx("div",{className:"right",children:e.jsx("button",{onClick:ns,children:e.jsx(me,{})})}),e.jsx("div",{className:"preview",children:e.jsxs("div",{className:"fi",children:[e.jsx("div",{className:"icon",children:e.jsx(Oe,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:q==null?void 0:q.name}),e.jsx("span",{children:q==null?void 0:q.type})]})]})})]}):e.jsxs("div",{className:"drop-file",onClick:ye,children:[e.jsx("i",{children:e.jsx(Pe,{})}),e.jsx("span",{className:"desc",children:"Has click aca para buscar tu archivo"})]})})]}),e.jsxs(re,{visible:x,close:c,callback:c,onClick:L,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("span",{children:"Elige un titulo general para esta plantilla"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Titulo general"}),e.jsx("input",{onChange:he,type:"text",placeholder:"ej: plantilla 1"})]})]}),e.jsx(Ta,{Visible:S,Close:_},S?"x12":"x23"),e.jsx(Pa,{callbackUrl:s,Visible:b,Close:C},b?"s14":"s15"),e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{onClick:se=>{C(!0)},children:[e.jsx(Pe,{})," Crear QR"]}),e.jsxs("button",{onClick:se=>{_(!0)},children:[e.jsx(Pe,{})," Importar QR"]}),e.jsxs("button",{onClick:se=>{},children:[e.jsx(Ie,{})," Previsualizar"]}),g?e.jsxs("button",{onClick:se=>{de(`/buttonsqr/${g}?install=true`)},children:[e.jsx(M,{icon:"ic:round-install-mobile"})," Instalar"]}):"",e.jsxs("button",{className:v?"await":"",onClick:oe,children:[e.jsx(ts,{})," Guardar ",e.jsx("div",{className:"loading"})]})]})}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(ls=r==null?void 0:r.header)==null?void 0:ls.blur}px)brightness(${(He=r==null?void 0:r.header)==null?void 0:He.brightness})`,WebkitBackdropFilter:`blur(${(Ue=r==null?void 0:r.header)==null?void 0:Ue.blur}px)`,background:(es=r==null?void 0:r.header)==null?void 0:es.background2}}),e.jsx("div",{className:"header",style:{background:(cs=r==null?void 0:r.header)==null?void 0:cs.backgroundHeader}}),e.jsx("div",{className:`${"page buttonsbody buttonsqr editmode "+((Xe=r==null?void 0:r.header)==null?void 0:Xe.theme)}`,children:e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",onClick:z,type:"logo",src:(rs=r==null?void 0:r.header)!=null&&rs.logo?(os=r==null?void 0:r.header)==null?void 0:os.logo:"/img/icons/default-img.jpg",alt:""}),e.jsxs("button",{className:"action",onClick:se=>{f(!0)},children:[e.jsx(jt,{})," Agregar Imagen"]}),e.jsx("br",{}),e.jsx("input",{id:"title",onClick:z,onChange:I,suppressContentEditableWarning:!0,contentEditable:!0,placeholder:"Nombre"}),e.jsx("textarea",{placeholder:"Descripcion",id:"desc",onClick:z,onChange:ne,suppressContentEditableWarning:!0,contentEditable:!0,type:"desc"}),e.jsx("br",{}),e.jsx("br",{}),r.elements.map((se,Z)=>e.jsxs("div",{className:"boxqr",children:[e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"top-left",children:e.jsx("p",{id:Z,suppressContentEditableWarning:!0,contentEditable:!0,type:"titlespace",onInput:je,onClick:U=>{z(U)},children:"Escribe titulo..."})}),e.jsxs("div",{className:"top-right",children:[e.jsxs("button",{className:`${(d==null?void 0:d.key)==Z&&(d==null?void 0:d.type)=="addqr"?"select":""}`,id:Z,type:"addqr",onClick:U=>{z(U),n("right")},children:[e.jsx("i",{children:e.jsx(De,{})}),"  Seleccionar QR"]}),e.jsx("button",{id:Z,onClick:U=>{ge(Z)},children:"Eliminar"})]})]}),e.jsx(fs.Carousel,{showThumbs:!1,showStatus:!1,children:se.qrs.map((U,ce)=>e.jsxs("div",{className:"qr",children:[e.jsx("button",{className:"delete",onClick:$e=>{Y(Z,ce)},children:e.jsx(me,{})}),e.jsx("img",{src:U.image}),e.jsx("p",{children:U.title}),e.jsx("br",{})]},ce))}),se.qrs.length==0?e.jsx("div",{className:"add-qr",children:"+"}):""]},Z)),e.jsxs("div",{className:"add-new",onClick:W,children:[e.jsx(Ye,{})," Agregar Caja"]}),e.jsx("br",{}),e.jsxs("div",{className:"actions-bottom",children:[e.jsxs("button",{className:v?"await":"",onClick:oe,children:[e.jsx(Ye,{})," Guardar ",e.jsx("div",{className:"loading"})]}),e.jsx("br",{}),e.jsxs("button",{onClick:se=>{de(`/buttonsqr/${g}?install=true`)},children:[e.jsx(M,{icon:"ic:round-install-mobile"})," Instalar"]})]})]})})]})}function dn({Visible:s,Close:t,Callback:n,setType:i,TypeSelect:o}){a.useContext(X);const[l,r]=a.useState(0),[p,m]=a.useState([Te()]),[d,u]=a.useState({type:"",name:""});ae();function x(j){j.stopPropagation(),j.preventDefault();let g=O(j.target);g.parents(".options").find(".active").removeClass("active"),g.addClass("active");let N=g.attr("value");u(v=>({...v,type:N}))}function c(j){let g=!1;O(j.target),(l===0&&d.type=="company"||d.type=="personal")&&(g=!0),g&&d.type&&(i(d.type),n(!1))}function h(j){let g=j.target.name,N=j.target.value;u(v=>({...v,[g]:N}))}return a.useEffect(()=>{O(".case.active").removeClass("active"),O(".case").eq(l).addClass("active")},[l]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[l>0?e.jsxs("button",{className:"return",onClick:j=>{r(g=>g-1)},children:[e.jsx(Ve,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",o?e.jsx("button",{className:"closed",onClick:j=>{n(!1)},children:"X"}):""]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crea tu botonera QR"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de botonera QR que deseas crear"})]}),e.jsxs("div",{className:"options flex",id:`options-${p[0]}`,children:[e.jsxs("div",{className:"selector",onClick:x,value:"personal",children:[e.jsx("div",{className:"check",children:e.jsx(be,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Botonera Personal"}),e.jsx("span",{children:"Crea tu botonera y unifica toda tu presencia personal / online de manera sencilla, rápida y gratuita."})]})]}),e.jsxs("div",{className:"selector",onClick:x,value:"company",children:[e.jsx("div",{className:"check",children:e.jsx(be,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Botonera Empresarial"}),e.jsx("span",{children:"La botonera empresarial viene con una plantilla predeterminada, donde podras generar multiples QR's y donde puedes crear a tu estilo, fondos y colores."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar Lista"}),e.jsx("span",{className:"desc",children:"Asignale un nombre a tu nueva lista."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de lista"}),e.jsx("input",{type:"text",name:"name",onChange:h,placeholder:"Nombre"})]})})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:"next",onClick:c,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function ia(){var _;const[s,t]=a.useState({header:{titlegl:"",title:"",desc:"",img:"",background:"",theme:"ligth"},elements:[]}),[n,i]=a.useState({key:"",type:""}),o=pe(),[l,r]=a.useState(void 0),[p,m]=a.useState(!1),[d,u]=a.useState(),[x,c]=a.useState(!1),[h,j]=a.useState([]),{UserInfo:g}=a.useContext(X),[N,v]=a.useState({left:!1,right:!1});a.useEffect(()=>{switch(l){case"personal":t({header:{titlegl:"",title:"",desc:"",img:"",background:""},elements:[]});break;case"company":t({header:{titlegl:"",title:"",desc:"",img:"",background:""},elements:[{title:"Business Card",qrs:[]},{title:"Redes Sociales",qrs:[]},{title:"Presentaciones",qrs:[]}]});break}},[l]);function k(b){let C={left:!1,right:!1};switch(b){case"left":C={...C,left:!0};break;case"right":C={...C,right:!0};break}v(C)}function F(b,C){let w=!0;c(!1),ie.success("Qr agregado con exito"),t(f=>{const D={...f};if(w){w=!1;const E=[...D.elements[n.key].qrs,{image:C,title:b}];D.elements[n.key].qrs=E}return D})}function y(b){var w;let C=new FormData;C.append("id_company",(w=g==null?void 0:g.company)==null?void 0:w.id_company),b&&C.append("type",b),T.post(P+"/api/get/qrs",C,{withCredentials:!0}).then(f=>f.data).then(f=>{j(f)})}a.useEffect(()=>{y(),o.id||m(!0)},[]),a.useEffect(()=>{k()},[x]);function S(b){var f;b.preventDefault(),b.stopPropagation();let C=Number(b.target.dataset.idqr);j(D=>D.filter(q=>q.id_qr!==C)),ie.success("Qr Eliminado");let w=new FormData;w.append("id_company",(f=g==null?void 0:g.company)==null?void 0:f.id_company),w.append("id_qr",C),T.post(P+"/api/delete/qr",w,{withCredentials:!0}).finally(()=>{})}return e.jsxs(e.Fragment,{children:[e.jsxs(re,{visible:x,maxWidth:"450px",callback:c,buttonSave:!1,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Galeria de Qr's"}),e.jsx("span",{children:"Tu galeria de qrs, donde podras seleccionar que qr quieres integrar"})]}),e.jsx("div",{className:"data row flex control-scroll-qrs",children:h.map((b,C)=>e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"qrs",onClick:w=>{F(b==null?void 0:b.title,ms(b.qr_preview))},image:ms(b.qr_preview),title:b.title,children:[e.jsx("img",{src:ms(b.qr_preview),alt:""}),e.jsx("p",{children:b.title}),e.jsx("button",{className:"delete",onClick:S,"data-idqr":b.id_qr,children:e.jsx(M,{icon:"ph:trash-bold"})})]})},C))})]}),e.jsx(dn,{Visible:p,Callback:m,setType:r,TypeSelect:l}),e.jsxs("div",{className:"editor-surveys",children:[e.jsx("button",{className:"fixed-button-right mb",onClick:b=>{k("left")},children:e.jsx(M,{icon:"streamline:paint-palette"})}),e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:`left ${N.left==!0?"active":""}`,children:e.jsx(cn,{VisibleMenu:k,Visible:N.left,editor:n,setEditor:i,buttons:s,setButtons:t})}),e.jsx("div",{className:"center ",style:{background:(_=s==null?void 0:s.header)==null?void 0:_.background},children:e.jsx(on,{setMyQrs:j,addNewQr:F,VisibleMenu:k,type:l,setVisibleQr:c,visibleQr:x,boxType:d,setBoxType:u,editor:n,setEditor:i,buttons:s,setButtons:t})}),e.jsx("div",{className:`right ${N.right==!0?"active":""}`,children:e.jsx("div",{className:"type-editor",children:e.jsx(rn,{VisibleMenu:k,Visible:N.right,getMyQrs:y,addNewQr:F,setVisibleQr:c,visibleQr:x,boxType:d,setBoxType:u,editor:n,setEditor:i,buttons:s,setButtons:t})})})]})]})]})}function mn(){const[s,t]=a.useState(0),n=ae(),[i,o]=a.useState({user:null,existsAccount:null,code:null,intent:0}),[l,r]=a.useState(!1);function p(){let c=new FormData;c.append("user",i.user),i.user?(r(!0),T.post(P+"/api/recovery/existsuser",c).then(h=>h.data).then(async h=>{h.status?(await u(),r(!1),t(1),A.success("Tu codigo ha sido enviado al correo electronico")):(A.error("Opps no se ha conseguido este usuario"),r(!1))}).catch(h=>{A.error("Opps error al enviar la peticion."),r(!1)})):A.error("Has dejado el usuario vacido")}function m(){let c=new FormData;c.append("user",i==null?void 0:i.user),c.append("code",i==null?void 0:i.code),T.post(P+"/api/recovery/checkcode",c).then(h=>h.data).then(h=>{h.status?(t(2),A.success("Has ingresado el codigo correctamente")):(o({...i,intent:i.intent+1}),A.error("Error con tu codigo de seguridad"))})}function d(c){let h=c.target.name,j=c.target.value;o({...i,[h]:j})}async function u(){let c=new FormData;c.append("user",i==null?void 0:i.user),r(!0),T.post(P+"/api/recovery/requestcode",c).then(h=>h.data).then(h=>{r(!1),h.status?A.success("Codigo enviado correctamente."):A.error("Opps error al obtener un nuevo codigo, espera un momento...")}).catch(h=>{r(!1)})}function x(){let c=new FormData;c.append("user",i.user),c.append("password",i.password),c.append("password2",i.password2),c.append("code",i.code),i.password&&i.password2?i.password==i.password2?T.post(P+"/api/recovery/changepassword",c).then(h=>h.data).then(h=>{h.status?(A.success("Has cambiado la password correctamente"),n("/")):A.error("Opps error al cambiar la password")}):A.error("Las passwords no coiciden"):A.error("Has dejado campos vacios")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"recovery",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Recupera tu cuenta"}),e.jsx("span",{children:"Recupera tu cuenta con un correo o el nombre de usuario"})]}),e.jsx("br",{}),s==0?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Usuario / email"}),e.jsx("input",{type:"text",name:"user",onChange:d,placeholder:"guest@gmail.com"})]}),e.jsxs("button",{className:`go ${l?"await":""}`,onClick:p,children:["Buscar cuenta... ",e.jsx("div",{className:"loading"})]})]}):"",s==1?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{htmlFor:"",children:["Ingresa el codigo enviado a (",e.jsx("b",{children:i.user}),") "]}),e.jsx("input",{type:"password",name:"code",onChange:d,placeholder:"Codigo",style:{textAlign:"center"}})]}),i.intent?e.jsx(e.Fragment,{children:e.jsxs("button",{className:`transparent ${l?"await":""}`,onClick:u,children:["Pedir nuevo codigo ",e.jsx("div",{className:"loading"})]})}):"",e.jsxs("button",{className:`go ${l?"await":""}`,onClick:m,children:["Confirmar Codigo",e.jsx("div",{className:"loading"})]})]}):"",s==2?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Contraseña Nueva"}),e.jsx("input",{type:"password",name:"password",onChange:d,placeholder:"••••••••"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Repita contraseña nueva"}),e.jsx("input",{type:"password",name:"password2",onChange:d,placeholder:"••••••••"})]}),e.jsxs("button",{className:`go ${l?"await":""}`,onClick:x,children:["Actualizar Contraseña",e.jsx("div",{className:"loading"})]})]}):""]})})}const as=({data:s,columns:t,onSearch:n,enablePagination:i,enableExport:o,enableRowSelection:l})=>{const[r,p]=a.useState(""),[m,d]=a.useState([]),[u,x]=a.useState(1),c=10,[h,j]=a.useState(s),g=Math.ceil(h.length/c);a.useEffect(()=>{const S=r.toLowerCase(),_=s.filter(b=>Object.values(b).some(C=>C==null?void 0:C.toString().toLowerCase().includes(S)));j(_),x(1)},[s,r]);const N=S=>{p(S.target.value)},v=S=>{d(_=>_.includes(S)?_.filter(b=>b!==S):[..._,S])},k=S=>{S.target.checked?d(h.map(_=>_)):d([])},F=S=>{let _="";S==="csv"?_=[t.map(w=>w.label).join(","),...h.map(w=>t.map(f=>w[f.key]||"").join(","))].join(`
`):S==="txt"&&(_=h.map(w=>t.map(f=>`${f.label}: ${w[f.key]||""}`).join(`
`)).join(`

`));const b=new Blob([_],{type:"text/plain"}),C=document.createElement("a");C.href=URL.createObjectURL(b),C.download=`RadarSystems.${S}`,C.click()},y=i?h.slice((u-1)*c,u*c):h;return e.jsxs("div",{className:"table-container",children:[e.jsxs("div",{className:"table-controls",children:[e.jsx("input",{type:"text",placeholder:"Buscar...",value:r,onChange:N,className:"search-input"}),e.jsxs("div",{className:"export-dropdown",children:[e.jsx("button",{className:"export-button",children:"Exportar"}),e.jsxs("div",{className:"export-options",children:[e.jsx("button",{onClick:()=>F("csv"),children:"CSV"}),e.jsx("button",{onClick:()=>F("txt"),children:"TXT"})]})]})]}),e.jsxs(gt,{children:[e.jsx(vt,{className:"table-header",children:e.jsxs($s,{children:[l&&e.jsx(zs,{children:e.jsx("input",{type:"checkbox",onChange:k,checked:m.length>0&&m.length===h.length})}),t.map(S=>e.jsx(zs,{children:S.label},S.key))]})}),e.jsx(ft,{children:y.map((S,_)=>e.jsxs($s,{className:"table-row",children:[l&&e.jsx(Bs,{className:"table-cell",children:e.jsx("input",{type:"checkbox",checked:m.includes(S),onChange:()=>v(S),className:"row-checkbox"})}),t.map(b=>e.jsx(Bs,{className:"table-cell",children:b.render?b.render(S[b.key],S):S[b.key]||"0"},b.key))]},_))})]}),i&&g>1&&e.jsxs("div",{className:"pagination",children:[e.jsxs("div",{className:"pagination-buttons",children:[e.jsx("button",{onClick:()=>x(S=>Math.max(S-1,1)),disabled:u===1,className:"pagination-button",children:"Anterior"}),e.jsx("button",{onClick:()=>x(S=>S*c<h.length?S+1:S),disabled:u*c>=h.length,className:"pagination-button",children:"Siguiente"})]}),e.jsxs("span",{className:"pagination-info",children:["Página ",u," de ",g]})]})]})};function pn(){const[s,t]=a.useState([]),{UserInfo:n}=a.useContext(X),i=async(l="",r=null)=>{var p,m;try{const d=new FormData;d.append("id_company",((p=n==null?void 0:n.company)==null?void 0:p.id_company)||""),l&&d.append("search",l),r&&d.append("last_id",r);const u=await T.post(`${P}/api/get/contacts`,d,{withCredentials:!0});t(((m=u.data)==null?void 0:m.result)||[])}catch(d){console.error("Error fetching contacts:",d)}};a.useEffect(()=>{i()},[]);const o=[{key:"email",label:"Email"},{key:"name",label:"Nombre"},{key:"lastname",label:"Apellido"},{key:"phone",label:"Teléfono"},{key:"status",label:"Estatus",render:l=>e.jsx("span",{className:`status-badge ${l==="Activo"?"badge-green":"badge-red"}`,children:l||"Activo"})},{key:"actions",label:"Acciones",render:(l,r)=>e.jsx("button",{onClick:()=>console.log(`Editar contacto ${r.email}`),className:"action-button",children:"✏️"})}];return e.jsxs("div",{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{children:[e.jsx("p",{className:"title",children:"Mis Contactos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlos y exportarlos"})]})}),e.jsx("div",{className:"table-container",children:e.jsx(as,{data:s,columns:o,onSearch:l=>i(l),enablePagination:!0,enableExport:!0,enableRowSelection:!0})})]})}function hn(){var r;const s=a.useRef(null);let{UserInfo:t}=a.useContext(X);const[n,i]=a.useState(!1),o=ae();a.useEffect(()=>{const p=Nt.init({container:s.current,plugins:[yt,bt,Ct,wt]});return p.Storage.destroy(),p.Panels.addButton("options",{id:"return",label:"Volver",command:async function(){o("/landings")}}),p.Panels.addButton("options",{id:"save-html-button",className:"save-html-button-class",label:"Guardar",command:async function(){const m=p.getHtml(),d=p.getCss(),u=await p.store("export").then(h=>JSON.stringify(h));let x=new FormData,c=O("input[name='name']").val();x.append("id_company",O("#id_company").val()),x.append("html",m),x.append("name",c),x.append("css",d),x.append("json",u),Number(O("#id_edit").val())>=1&&x.append("id",O("#id_edit").val()),c.length?T.post(P+"/api/upload/landing",x,{withCredentials:!0}).then(h=>h.data).then(h=>{h.status&&(A.success("Guardado con exito"),h.id_create&&O("#id_edit").val(h.id_create))}):(A.error("Opps no has elegido un titulo"),i(!0))}}),p.Panels.addButton("options",{id:"gallery",label:"Galeria",command:async function(){}}),()=>{p.destroy()}},[]);function l(){O("input[name='name']").val()?i(!1):A.error("Opps no has asignado un titulo")}return e.jsx(e.Fragment,{children:e.jsxs("body",{theme:"ligth",children:[e.jsxs(re,{visible:n,callback:i,close:i,onClick:l,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Elegir titulo"}),e.jsx("span",{children:"elige un titulo para esta plantilla"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{name:"name",type:"text",placeholder:"Titulo"})})]}),e.jsx("input",{type:"number",id:"id_edit",hidden:!0}),e.jsx("input",{type:"number",id:"id_company",value:(r=t==null?void 0:t.company)==null?void 0:r.id_company,hidden:!0}),e.jsx("div",{ref:s})]})})}function un(){const[s,t]=a.useState([]),{UserInfo:n}=a.useContext(X),[i,o]=a.useState(!0),l=ae();function r(){var m;let p=new FormData;p.append("id_company",(m=n==null?void 0:n.company)==null?void 0:m.id_company),T.post(P+"/api/get/landings",p,{withCredentials:!0}).then(d=>d.data).then(d=>{t(d),o(!1)})}return a.useEffect(()=>{r()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Landings"}),e.jsx("span",{children:"Aqui veras todas tus landings creadas con anterioridad podras editarlas o eliminarlas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:p=>{l("/editor/landings")},children:"Crear nueva landing"})})]}),e.jsx("div",{className:"row",children:i==!1?s.map((p,m)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:"url(/img/icons/default-img.jpg)"},children:e.jsx("div",{className:"right-top",children:e.jsx("button",{onClick:d=>{l(`/landing/${p.token}`)},children:e.jsx(Ie,{})})})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:p==null?void 0:p.name}),e.jsxs("span",{children:["Encuesta agregada el: ",xe(p.time_add)]})]})]})},m)):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(_e,{})})})})]})}function xn(){const s=pe();return a.useEffect(()=>{function t(){const n=new FormData;n.append("token",s.id),T.post(P+"/api/get/landing",n).then(i=>i.data).then(i=>{document.documentElement.innerHTML="",document.documentElement.innerHTML=i.html})}t()},[s.id]),null}function jn(){const s=ae(),{UserInfo:t}=a.useContext(X),[n,i]=a.useState([]),[o,l]=a.useState({id_delete:null,pending:!1}),[r,p]=a.useState(!1);function m(){var u;let d=new FormData;d.append("id_company",(u=t==null?void 0:t.company)==null?void 0:u.id_company),T.post(P+"/api/get/buttons",d,{withCredentials:!0}).then(x=>x.data).then(x=>{i(x)})}return a.useEffect(()=>{m()},[]),e.jsxs(e.Fragment,{children:[e.jsx(ke,{visible:r,callback:p,Pending:o.pending}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MIS BOTONERAS URL"}),e.jsx("span",{children:"Previsualiza, edita, elimina y visualiza las estadisticas de tus botoneras de URL."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:d=>{s("/editor/buttons")},children:"Crear nueva botonera"})})]}),e.jsx("div",{className:"row",children:n.map((d,u)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${P}/api/get/previewbuttons?hash=${d.preview}&w=buttons)`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{title:"Editar",onClick:x=>{s("/editor/buttons/"+d.id_buttons)},children:e.jsx(M,{icon:"carbon:edit"})}),e.jsx("button",{title:"Previsualizar",onClick:x=>{s(`/stats/buttons/${d.token}`)},children:e.jsx(M,{icon:"mingcute:eye-line"})}),e.jsx("button",{title:"Estadisticas",onClick:x=>{s(`/buttons/${d.token}`)},children:e.jsx(M,{icon:"ps:stats"})}),e.jsx("button",{title:"Eliminar",onClick:x=>{p(!0)},children:e.jsx(M,{icon:"ph:trash"})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:d==null?void 0:d.title}),e.jsxs("span",{children:["Botonera agregada el: ",xe(d.time_add)]})]})]})},u))})]})}function gn(){const s=ae(),{UserInfo:t}=a.useContext(X),[n,i]=a.useState([]),[o,l]=a.useState(null),[r,p]=a.useState(!1),[m,d]=a.useState(!1),u=ae(),[x,c]=a.useState(!1);function h(){var N;let g=new FormData;c(!0),g.append("id_company",(N=t==null?void 0:t.company)==null?void 0:N.id_company),T.post(P+"/api/get/buttonsqr",g,{withCredentials:!0}).then(v=>v.data).then(v=>{i(v),c(!1)}).catch(v=>{c(!1)})}function j(){var g;if(o){p(!0);let N=new FormData;N.append("id_company",(g=t==null?void 0:t.company)==null?void 0:g.id_company),N.append("id_buttonqr",o),T.post(P+"/api/delete/buttonsqr",N,{withCredentials:!0}).then(v=>v.data).then(v=>{v.status&&(d(!1),ie.success("Se ha borrado con exito!"),h()),p(!1)}).catch(v=>{p(!1)})}}return a.useEffect(()=>{h()},[]),e.jsxs(e.Fragment,{children:[e.jsx(ke,{visible:m,onClick:j,Pending:r,callback:d}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MIS BOTONERAS QR"}),e.jsx("span",{children:"Previsualiza, edita, elimina y visualiza las estadisticas de tus QR's."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:g=>{s("/editor/buttonsqr")},children:"Crear nueva botoneraQR"})})]}),e.jsx("div",{className:"loading-box",children:x?e.jsx(_e,{}):n.length==0?e.jsx(Ne,{addNew:!0,name:"botoneras",callback:g=>{u("/editor/buttonsqr")}}):""}),e.jsx("div",{className:"row",children:n.map((g,N)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{title:"editar",onClick:v=>{u("/editor/buttonsqr/"+g.id_buttonsqr)},children:e.jsx(M,{icon:"carbon:edit"})}),e.jsx("button",{title:"previsualizar",onClick:v=>{u(`/buttonsqr/${g.token}`)},children:e.jsx(M,{icon:"mingcute:eye-line"})}),e.jsx("button",{title:"eliminar",onClick:v=>{d(!0),l(g.id_buttonsqr)},children:e.jsx(M,{icon:"ph:trash"})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:g==null?void 0:g.title}),e.jsxs("span",{children:["Botonera agregada el: ",xe(g.time_add)]})]})]})},N))})]})}function vn(){var c,h,j,g,N,v,k,F,y,S,_,b;let s=pe();const[t,n]=a.useState(!1),[i,o]=a.useState({elements:[]}),[l,r]=a.useState(!1),[p,m]=a.useState(null),d=ae();function u(){let C=new FormData;C.append("token",s.id),T.post(P+"/api/get/buttonsqr",C).then(w=>w.data).then(w=>{o(w)})}a.useEffect(()=>{u(),wa("install")=="true"&&n(!0)},[]);function x(C){let w=new FormData;C=new URL(C).searchParams.get("url"),w.append("img",C),T.post(P+"/api/get/dataqr",w,{withCredentials:!0}).then(D=>D.data).then(async D=>{if(D.length){let E=D[0];E.data_qr?Xt()=="Desktop"?(m(E.data_qr),r(!0)):await navigator.share({title:"Compartir",text:"test",url:E.data_qr}):ie.error("Opps este QR no tiene datos para compartir.")}else ie.error("Opps error al localizar el qr")})}return a.useEffect(()=>{l||m(null)},[l]),e.jsxs(e.Fragment,{children:[e.jsx(qa,{Visible:l,CallbackVisible:r,value:p}),t?e.jsxs(re,{visible:!0,maxWidth:250,next:"Listo",onClick:C=>{n(!1),d("/buttonsqr/"+s.id)},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Instalar"}),e.jsx("span",{children:"instalar acceso directo rapidamente en iphone."}),e.jsx("br",{}),e.jsx("br",{})]}),e.jsx("div",{className:"img-tuto-buttonsqr",children:e.jsxs(fs.Carousel,{showThumbs:!1,children:[e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone1.png",alt:""}),e.jsx("span",{children:"Preciona el boton de compartir en la parte de abajo"})]}),e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone2.png",alt:""}),e.jsx("span",{children:"Luego ve al final con el scroll"})]}),e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone3.png",alt:""}),e.jsx("span",{children:"Agrega a inicio"})]}),e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone4.png",alt:""}),e.jsx("span",{children:"Ahora configura y guarda"})]}),e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone5.png",alt:""}),e.jsx("span",{children:"Listo ya tienes tu acceso directo."})]})]})})]}):"",e.jsx("div",{className:"editor-surveys prodbuttonsqr",children:e.jsxs("div",{className:"center",style:{background:(c=i==null?void 0:i.header)==null?void 0:c.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(h=i==null?void 0:i.header)==null?void 0:h.blur}px)brightness(${(j=i==null?void 0:i.header)==null?void 0:j.brightness})`,background:(g=i==null?void 0:i.header)==null?void 0:g.background2}}),e.jsx("div",{className:"header",style:{background:(N=i==null?void 0:i.header)==null?void 0:N.backgroundHeader}}),e.jsx("div",{className:`${"page buttonsbody buttonsqr "+((v=i==null?void 0:i.header)==null?void 0:v.theme)}`,children:e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",type:"logo",src:(k=i==null?void 0:i.header)!=null&&k.logo?(F=i==null?void 0:i.header)==null?void 0:F.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{type:"title",children:(y=i==null?void 0:i.header)!=null&&y.title?(S=i==null?void 0:i.header)==null?void 0:S.title:""}),e.jsx("span",{type:"desc",children:(_=i==null?void 0:i.header)!=null&&_.desc?(b=i==null?void 0:i.header)==null?void 0:b.desc:""}),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("div",{className:"share",children:[e.jsx("button",{onClick:C=>{d("/")},children:"Home"}),e.jsx("button",{onClick:C=>{r(!0)},children:"Recomendar"}),e.jsx("button",{className:"update",onClick:C=>{window.location.href=window.location.href},children:"Actualizar"})]}),i.elements.map((C,w)=>{var f;return e.jsx(e.Fragment,{children:(f=C==null?void 0:C.qrs)!=null&&f.length?e.jsxs("div",{className:"boxqr",children:[e.jsx("div",{className:"top",children:e.jsx("div",{className:"top-left",children:e.jsx("p",{id:w,type:"titlespace",children:C.title?C.title:""})})}),e.jsx(fs.Carousel,{showThumbs:!1,showIndicators:!1,showStatus:!1,children:C.qrs.map((D,E)=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"qr",children:[e.jsx("p",{style:{textTransform:"uppercase",fontSize:"13px"},children:D.title}),e.jsx("img",{src:D.image})]}),e.jsxs("div",{className:"buttons-qrs",children:[e.jsx("button",{onClick:q=>{x(D.image)},children:"Compartir"}),e.jsx("button",{className:"info",onClick:q=>{alert("Si dejas presionada el QR podras habilitar funciones especiales de tu sistema operativo")},children:e.jsx(M,{icon:"carbon:information-filled"})})]})]}))})]}):""})})]})})]})})]})}function fn(){const s=pe();a.useState();const{UserInfo:t}=a.useContext(X);function n(){var o;let i=new FormData;i.append("token",s.id),i.append("id_company",(o=t==null?void 0:t.company)==null?void 0:o.id_company),T.post(P+"/api/get/statbuttons",i,{withCredentials:!0})}return a.useEffect(()=>{n()},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Botonera: ",s.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu encuesta"})]})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Estadisticas de enlaces"})}),e.jsx("div",{className:"result countryr"})]})}),e.jsx("div",{className:"col-md-6",children:"lorem"})]})]})}function Nn(){var u,x;const s=pe(),[t,n]=a.useState(!1),i=ae(),{UserInfo:o}=a.useContext(X),[l,r]=a.useState({total_clicks:0,total_errors:0,total_reads:0,total_sends:0,last_sends:[],last_errors:[]}),[p,m]=a.useState({series:[{name:"Enviados",data:[]},{name:"Clicks",data:[]},{name:"Leidos",data:[]},{name:"Errores",data:[]}],chart:{height:350,type:"line"},dataLabels:{enabled:!1},stroke:{curve:"straight"},xaxis:{categories:[]},tooltip:{x:{format:"dd/MM/yy HH:mm"}}});function d(){var c;if(t){let h=new FormData;h.append("id_company",(c=o==null?void 0:o.company)==null?void 0:c.id_company),h.append("id_campaign",s.id),h.append("case","campaign"),T.post(P+"/api/get/stats",h,{withCredentials:!0}).then(j=>j.data).then(j=>{let g=j.daysResponse.length;r({...l,total_sends:j.total_sends,total_reads:j.total_reads,total_errors:j.total_errors,total_clicks:j.total_clicks,last_sends:j.last_sends,last_errors:j.last_errors,type_campaign:j.type_campaign}),g&&m(N=>({...N,series:[{...N.series[0],data:N.series[0].data.concat(j.daysResponse.map(v=>v.send))},{...N.series[1],data:N.series[1].data.concat(j.daysResponse.map(v=>v.clicks))},{...N.series[2],data:N.series[2].data.concat(j.daysResponse.map(v=>v.reads))},{...N.series[3],data:N.series[3].data.concat(j.daysResponse.map(v=>v.errors))}],xaxis:{...N.xaxis,categories:j.daysTotal}}))}).catch(j=>{})}}return a.useEffect(()=>{n(!0),t&&d()},[t]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Estadisticas de campaña: ",s==null?void 0:s.id]}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:c=>{i("/campaigns/detail/"+s.id)},children:e.jsx(Qe,{})})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Enviados"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:Number(l.total_sends)})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Devueltos"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:Number(l.total_errors)})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Recibidos"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:Number(l.total_sends)-Number(l.total_errors)})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Leidos"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:Number(l.total_clicks)})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"No Leidos "})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:Number(l.total_errors)})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Opt Out"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:Number(l.total_errors)})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Opt Net"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:Number(l.total_errors)})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Rep Spam"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:Number(l.total_errors)})})]})})]}),e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Estadisticas Generales"}),e.jsx("span",{children:"ve las estadisticas de forma general y recorre por cada dia y mes"})]}),(x=(u=p==null?void 0:p.series[0])==null?void 0:u.data)!=null&&x.length?e.jsx(Ke,{options:p,series:p.series,type:"line",height:300}):""]}),e.jsxs("div",{className:"row ",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Analisis General"}),e.jsx("span",{children:"Analisis generales"})]}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Enviados:"})," ",l.total_sends]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Clicks:"})," ",l.total_clicks]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Leidos:"})," ",l.total_reads]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Errores:"})," ",l.total_errors]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Aceptacion General:"})," ",l.total_sends," %"]})})]}),e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimos Errores"}),e.jsx("span",{children:"Los ultimos errores registrados"})]}),e.jsxs("div",{className:"results",children:[l.last_errors.map((c,h)=>e.jsxs("div",{className:"item flex",children:[e.jsx("div",{children:e.jsx("span",{children:l.type_campaign=="em"?c.email:""})}),e.jsxs("div",{children:[e.jsx("button",{className:"status-send",children:e.jsx(Oe,{})}),e.jsx("button",{className:`status-send ${c.error?"error":""}`,children:c.error?e.jsxs(e.Fragment,{children:["Error ",e.jsx(Vs,{})]}):e.jsxs(e.Fragment,{children:["Enviado  ",e.jsx(be,{})]})})]})]})),l.last_errors.length==0?e.jsx(e.Fragment,{children:e.jsx(Ne,{name:"errores"})}):e.jsx("div",{className:"show-all",children:e.jsx("button",{onClick:c=>{i("/campaigns/stats/detail/"+s.id)},children:"Ver detalles completo"})})]})]})]}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimos Enviados"}),e.jsx("span",{children:"Los ultimos envios salientes"})]}),e.jsxs("div",{className:"results",children:[l.last_sends.map((c,h)=>e.jsxs("div",{className:"item flex",children:[e.jsx("div",{children:e.jsx("span",{children:l.type_campaign.indexOf("em")>=0?c.email:l.type_campaign.indexOf("sms")>=0?c.phone:""})}),e.jsx("div",{children:e.jsx("button",{className:`status-send ${c.error?"error":""}`,children:c.error?e.jsxs(e.Fragment,{children:["Error ",e.jsx(Vs,{})]}):e.jsxs(e.Fragment,{children:["Enviado  ",e.jsx(be,{})]})})})]})),l.last_sends.length==0?e.jsx(e.Fragment,{children:e.jsx(Ne,{name:"errores"})}):e.jsx("div",{className:"show-all",children:e.jsx("button",{onClick:c=>{i("/campaigns/stats/detail/"+s.id)},children:" Ver detalles completo"})})]})]})})]}),e.jsx(Fa,{type:"campaign"})]})}function yn(){const{UserInfo:s}=a.useContext(X),[t,n]=a.useState([]),i=ae();function o(){var r;let l=new FormData;l.append("id_company",(r=s==null?void 0:s.company)==null?void 0:r.id_company),l.append("is_segment",1),T.post(P+"/api/get/list",l,{withCredentials:!0}).then(p=>p.data).then(p=>{n(p)})}return a.useEffect(()=>{o()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Segmentos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:l=>{i("/contacts/segments/add")},children:"Crear nuevo segmento"})})]}),e.jsx(Da,{lists:t})]})}function bn(){const[s,t]=a.useState(!1),[n,i]=a.useState([]),[o,l]=a.useState(!1),[r,p]=a.useState(!1),[m,d]=a.useState({domain:null}),{UserInfo:u}=a.useContext(X);function x(){var g;let j=new FormData;j.append("id_company",(g=u==null?void 0:u.company)==null?void 0:g.id_company),i([]),t(!0),l(!0),T.post(P+"/api/get/domains",j,{withCredentials:!0}).then(N=>N.data).then(N=>{i(N),t(!1),l(!1),p(!1)}).catch(N=>{t(!1)})}function c(){var g;let j=new FormData;j.append("domain",m.domain),j.append("id_company",(g=u==null?void 0:u.company)==null?void 0:g.id_company),Jt(m.domain)?T.post(P+"/api/upload/domain",j,{withCredentials:!0}).then(N=>N.data).then(N=>{N.status&&x()}):ie.error("Opps este dominio no es veridico.")}function h(j){let g=j.target.value,N=j.target.name;d({...m,[N]:g})}return a.useEffect(()=>{x()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(re,{visible:r,Pending:o,callback:p,maxWidth:"450px",onClick:c,next:"Subir",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ingresar dominio"}),e.jsx("span",{children:"integra un nuevo dominio para utilizarlo en los envios de correo, recuerda que durara un tiempo en verificarse el dominio en nuestro servidor."})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Dominio:"}),e.jsx("input",{type:"url",onChange:h,name:"domain",placeholder:"mail.radarsystems.net"})]}),e.jsx("br",{})]},r?"xd":"xd2"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Dominios"}),e.jsx("span",{children:"Esta es tu lista de dominios que puedes utilizar en el envio de correos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:j=>{p(!0)},children:"Subir nuevo dominio"})})]}),e.jsxs("div",{className:"box box-padding",children:[n.map((j,g)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_link.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:j.domain}),e.jsx("p",{className:"desc",children:j.status?"Activo":"En verificacion..."}),e.jsx("span",{className:"desc",children:xe(j.time_add)})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:N=>{},children:e.jsx(Oe,{})}),e.jsx("button",{onClick:N=>{},children:e.jsx(me,{})})]})]})),s?e.jsx(_e,{}):n.length==0?e.jsx("div",{className:"item",children:e.jsx(Ne,{name:"dominios"})}):""]})]})}function Cn({Visible:s=!0,Close:t}){a.useContext(X);const[n,i]=a.useState(0);a.useState([Te()]),a.useState({type:"",name:"",ocation:""}),ae();function o(l){let r=!1;O(l.target),n===0&&(r=!0),r&&i(p=>p+1)}return a.useEffect(()=>{O(".case.active").removeClass("active"),O(".case").eq(n).addClass("active")},[n]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[n>0?e.jsxs("button",{className:"return",onClick:l=>{i(r=>r-1)},children:[e.jsx(Ve,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:l=>{t(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"CREA UN NUEVO SEGMENTO"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Nombre del Segmento"}),e.jsx("input",{type:"text",placeholder:"Mi segmento 1"})]})]}),e.jsxs("div",{className:"actions",children:[e.jsxs("button",{className:"next",onClick:o,children:["Siguiente ",e.jsx("div",{className:"loading"})]}),e.jsx("button",{className:"return",children:e.jsx(ee,{icon:"teenyicons:left-outline"})})]})]})]})})}function wn(){var v,k,F,y,S,_,b,C;const[s,t]=a.useState({type:void 0,map:{}}),[n,i]=a.useState({}),[o,l]=a.useState(!1),[r,p]=a.useState({name:"",desc:""}),{UserInfo:m}=a.useContext(X),d=ae();function u(w){let f=w.target.name,D=w.target.value;t({...s,[f]:D})}function x(w){let f=w.target.name,D=w.target.value;switch(w.target.getAttribute("action")){case"add":t(q=>({...q,map:{...q.map,[f]:D}}));break;case"push":t({...s,...s.map,[f]:D});break}}function c(){var f;let w=new FormData;w.append("id_company",(f=m==null?void 0:m.company)==null?void 0:f.id_company),T.post(P+"/api/get/list",w,{withCredentials:!0}).then(D=>D.data).then(D=>{i(E=>(E.lists=D,E))})}function h(w){w.preventDefault(),t(f=>{let D={...f};D.map.wheres||(D.map.wheres=[]);const E={[D.map.typeWhereContact]:D.formValue};return D.map.wheres.some($=>Object.keys($).some(le=>$[le]===E[le]))||D.map.wheres.push(E),D})}function j(){var f;let w=new FormData;l(!0),w.append("json",JSON.stringify(s)),w.append("id_company",(f=m==null?void 0:m.company)==null?void 0:f.id_company),w.append("name",r.name),w.append("desc",r.desc),T.post(P+"/api/upload/segments",w,{withCredentials:!0}).then(D=>D.data).then(D=>{D.msg&&ie.error(D.msg),D.status&&d("/contacts/detail/"+D.id_list)}).finally(()=>{l(!1)})}function g(w){let f=w.target.name,D=w.target.value;f&&D&&p({...r,[f]:D})}function N(w){w.preventDefault();const f=w.target.dataset.key;t(D=>{const E=D.map.wheres.filter(q=>!Object.keys(q).includes(f));return{...D,map:{...D.map,wheres:E}}})}return a.useEffect(()=>{s.type=="lists"&&c()},[s.type]),e.jsxs(e.Fragment,{children:[e.jsx(Cn,{}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Segmentos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:Je,children:"Cancelar Creacion"})})]}),e.jsxs("div",{className:"segments-creator",children:[e.jsxs("form",{id:"form-segment",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Nombre"}),e.jsx("input",{type:"text",name:"name",onChange:g,placeholder:"Nombre del segmento"})]}),e.jsxs("div",{className:"inputs",children:[e.jsxs("select",{id:"",name:"type",onChange:u,children:[e.jsx("option",{disabled:!0,selected:!0,children:"Selecciona un tipo"}),e.jsx("option",{value:"lists",children:"Listas"}),e.jsx("option",{value:"campaings",children:"Campañas"}),e.jsx("option",{value:"surveys",children:"Encuestas"})]}),s.type=="lists"?e.jsxs(e.Fragment,{children:[e.jsxs("select",{id:"",name:"type_lists",action:"add",onChange:x,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Selecciona..."}),e.jsx("option",{value:"all",children:"Todas las listas"}),e.jsx("option",{value:"where",children:"Lista Especifica"})]}),e.jsx("i",{className:"some",children:" = "}),(s==null?void 0:s.map.type_lists)=="all"?e.jsx(e.Fragment,{children:e.jsx("option",{value:""})}):((v=s==null?void 0:s.map)==null?void 0:v.type_lists)=="where"?e.jsxs(e.Fragment,{children:[e.jsxs("select",{name:"lists",action:"add",id:"",onChange:x,children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"Selecciona la lista..."}),(k=n==null?void 0:n.lists)==null?void 0:k.map((w,f)=>e.jsx("option",{value:w.id_list,children:w.name}))]}),((F=s==null?void 0:s.map)==null?void 0:F.lists)>=1?e.jsxs("div",{className:"multiple",children:[e.jsxs("div",{className:"",children:[e.jsxs("select",{name:"typeWhereContact",action:"add",onChange:x,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Selecciona una condicion"}),e.jsx("option",{value:"email",children:"Correo"}),e.jsx("option",{value:"age",children:"Edad"}),e.jsx("option",{value:"country",children:"Pais"})]}),((y=s==null?void 0:s.map)==null?void 0:y.typeWhereContact)=="email"?e.jsxs("select",{name:"formValue",onChange:u,children:[e.jsx("option",{value:".es",children:".es"}),e.jsx("option",{value:".com",children:".com"}),e.jsx("option",{value:".net",children:".net"}),e.jsx("option",{value:".org",children:".org"}),e.jsx("option",{value:"gmail.com",children:"gmail.com"}),e.jsx("option",{value:"hotmail.com",children:"hotmail.com"}),e.jsx("option",{value:"hotmail.es",children:"hotmail.es"}),e.jsx("option",{value:"outlook.com",children:"outlook.com"}),e.jsx("option",{value:"outlook.es",children:"outlook.es"}),e.jsx("option",{value:"icloud.com",children:"icloud.com"})]}):"",["name","lastname","age","country"].includes((S=s==null?void 0:s.map)==null?void 0:S.typeWhereContact)&&e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",name:"formValue",onChange:u,placeholder:(_=s==null?void 0:s.map)==null?void 0:_.typeWhereContact})}),e.jsx("button",{className:"add-button",onClick:h,children:e.jsx(vs,{})})]}),(C=(b=s==null?void 0:s.map)==null?void 0:b.wheres)==null?void 0:C.map((w,f)=>e.jsx("div",{children:Object.entries(w).map(([D,E])=>e.jsxs("div",{className:"where-contact",children:[e.jsxs("p",{children:[D," (Where)"]}),e.jsx("p",{children:E}),e.jsx("button",{className:"trash",onClick:N,"data-key":D,children:e.jsx(me,{})})]},D))},f))]}):""]}):"",["name","lastname","age","country","state"].includes(s==null?void 0:s.type_where_now)&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",placeholder:s==null?void 0:s.type_where_now}),e.jsx("button",{children:e.jsx(vs,{})})]})]}):""]})]}),e.jsxs("div",{className:"buttons-right",children:[e.jsx("button",{children:"Cancelar"}),e.jsxs("button",{className:`save ${o?"await":""}`,onClick:j,children:["Guardar ",e.jsx("div",{className:"loading"})]})]})]})]})}const kn=({stats:s})=>{const t=[{title:"Total Contactos Únicos",value:s.total_campaigns,icon:e.jsx(we,{size:24,className:"text-blue-500"})},{title:"Total contactos en listas",value:s.total_sends_sms,icon:e.jsx(we,{size:24,className:"text-green-500"})},{title:"Total Listas Creadas",value:s.total_sends,icon:e.jsx(we,{size:24,className:"text-purple-500"})},{title:"Total Campañas Enviadas",value:s.total_contacts,icon:e.jsx(we,{size:24,className:"text-yellow-500"})},{title:"Total Emails marketing enviados",value:s.total_contacts,icon:e.jsx(we,{size:24,className:"text-red-500"})},{title:"Total Emails Transaccionales enviados",value:s.total_contacts,icon:e.jsx(we,{size:24,className:"text-teal-500"})},{title:"Total SMS Marketing enviados",value:s.total_contacts,icon:e.jsx(we,{size:24,className:"text-orange-500"})},{title:"Total SMS Transaccionales enviados",value:s.total_contacts,icon:e.jsx(we,{size:24,className:"text-gray-500"})}];return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:t.map((n,i)=>e.jsxs(kt,{className:"card",children:[e.jsxs(St,{className:"items-center justify-between",children:[e.jsx(_t,{className:"font-semibold",children:n.title}),n.icon]}),e.jsx(Et,{className:"metric",children:n.value})]},i))})};function na(){ae();const{UserInfo:s}=a.useContext(X),[t,n]=a.useState([]),[i,o]=a.useState([]),[l,r]=a.useState([]),[p,m]=a.useState([]);a.useState([]),a.useState([]),a.useState([]);const[d,u]=a.useState([]),[x,c]=a.useState([]),[h,j]=a.useState({});function g(b){var w;let C=new FormData;C.append("id_company",(w=s==null?void 0:s.company)==null?void 0:w.id_company),T.post(P+"/api/get/stats/global",C,{withCredentials:!0}).then(f=>f.data).then(f=>{j(f)})}function N(b){var w;let C=new FormData;C.append("id_company",(w=s==null?void 0:s.company)==null?void 0:w.id_company),C.append("type",b),C.append("limit","5"),T.post(P+"/api/get/campaign",C,{withCredentials:!0}).then(f=>f.data).then(f=>{switch(b){case"sms":n(f.results);break;case"em":o(f.results??[]);break;case"em-mt":r(f.results??[]);break;case"sms-mt":m(f.results??[]);break}})}function v(){var C;let b=new FormData;b.append("id_company",(C=s==null?void 0:s.company)==null?void 0:C.id_company),b.append("limit","10"),T.post(P+"/api/get/templatesall",b,{withCredentials:!0}).then(w=>w.data).then(w=>{u(w)})}function k(){var C;let b=new FormData;b.append("id_company",(C=s==null?void 0:s.company)==null?void 0:C.id_company),T.post(P+"/api/get/surveys",b,{withCredentials:!0}).then(w=>w.data).then(w=>{c(w)})}const F=[{key:"name",label:e.jsx("span",{"data-tooltip":"Email Marketing","data-tooltip-position":"bottom",children:"Campañas"}),render:(b,C)=>e.jsxs("div",{children:[e.jsx("span",{children:b}),e.jsx("br",{}),e.jsx("small",{children:xe(C.time_add)})]})},{key:"send",label:e.jsx("span",{"data-tooltip":"Enviados","data-tooltip-position":"bottom",children:"Env"})},{key:"returned",label:e.jsx("span",{"data-tooltip":"Devueltos","data-tooltip-position":"bottom",children:"DEV"})},{key:"received",label:e.jsx("span",{"data-tooltip":"Recibidos","data-tooltip-position":"bottom",children:"REC"})},{key:"reads",label:e.jsx("span",{"data-tooltip":"Leidos","data-tooltip-position":"bottom",children:"Leidos"})},{key:"not_reads",label:e.jsx("span",{"data-tooltip":"No Leidos","data-tooltip-position":"bottom",children:"No Leidos"})},{key:"clicks",label:e.jsx("span",{"data-tooltip":"Click","data-tooltip-position":"bottom",children:"Click"})},{key:"spam_reports",label:e.jsx("span",{"data-tooltip":"Reporte Spam","data-tooltip-position":"bottom",children:"Spam"})},{key:"opt_out",label:e.jsx("span",{"data-tooltip":"Opt. Out","data-tooltip-position":"bottom",children:"Opt. Out"})},{key:"opt_net",label:e.jsx("span",{"data-tooltip":"Opt. Net","data-tooltip-position":"bottom",children:"Opt. Net"})},{key:"id_campaign",label:e.jsx("span",{"data-tooltip":"Acciones","data-tooltip-position":"bottom",children:"Acciones"}),render:b=>e.jsx(B,{to:`/campaigns/detail/${b}`,children:e.jsx(we,{})})}],y=[{key:"name",label:e.jsx("span",{"data-tooltip":"Email Transaccional","data-tooltip-position":"bottom",children:"Campañas"}),render:(b,C)=>e.jsxs("div",{children:[e.jsx("span",{children:b}),e.jsx("br",{}),e.jsx("small",{children:xe(C.time_add)})]})},{key:"send",label:e.jsx("span",{"data-tooltip":"Enviados","data-tooltip-position":"bottom",children:"Env."})},{key:"returned",label:e.jsx("span",{"data-tooltip":"Devueltos","data-tooltip-position":"bottom",children:"DEV"})},{key:"rec",label:e.jsx("span",{"data-tooltip":"Recibidos","data-tooltip-position":"bottom",children:"REC"})},{key:"reads",label:e.jsx("span",{"data-tooltip":"Leidos","data-tooltip-position":"bottom",children:"Leidos"})},{key:"unread",label:e.jsx("span",{"data-tooltip":"No Leidos","data-tooltip-position":"bottom",children:"No Leidos"})},{key:"clicks",label:e.jsx("span",{"data-tooltip":"Clicks","data-tooltip-position":"bottom",children:"Clicks"})},{key:"spam",label:e.jsx("span",{"data-tooltip":"Reporte Spam","data-tooltip-position":"bottom",children:"Spam"})},{key:"optOut",label:e.jsx("span",{"data-tooltip":"Opt. Out","data-tooltip-position":"bottom",children:"Opt. Out"})},{key:"optNet",label:e.jsx("span",{"data-tooltip":"Opt. Net","data-tooltip-position":"bottom",children:"Opt. Net"})},{key:"action",label:e.jsx("span",{"data-tooltip":"Acciones","data-tooltip-position":"bottom",children:"Acciones"}),render:b=>e.jsx(B,{to:`/campaigns/detail/${b}`,children:e.jsx(we,{})})}],S=[{key:"name",label:e.jsx("span",{"data-tooltip":"Sms Marketing","data-tooltip-position":"bottom",children:"Campañas"}),render:(b,C)=>e.jsxs("div",{children:[e.jsx("span",{children:b}),e.jsx("br",{}),e.jsx("small",{children:xe(C.time_add)})]})},{key:"send",label:e.jsx("span",{"data-tooltip":"Enviados","data-tooltip-position":"bottom",children:"Env."})},{key:"returned",label:e.jsx("span",{"data-tooltip":"Devueltos","data-tooltip-position":"bottom",children:"Dev."})},{key:"reads",label:e.jsx("span",{"data-tooltip":"Recibidos","data-tooltip-position":"bottom",children:"Rec."})},{key:"clicks",label:e.jsx("span",{"data-tooltip":"Click","data-tooltip-position":"bottom",children:"Click."})},{key:"action",label:e.jsx("span",{"data-tooltip":"Acciones","data-tooltip-position":"bottom",children:"Acciones"}),render:b=>e.jsx(B,{to:`/campaigns/detail/${b}`,children:e.jsx(we,{})})}],_=[{key:"name",label:e.jsx("span",{"data-tooltip":"Sms Transaccional","data-tooltip-position":"bottom",children:"Campañas"}),render:(b,C)=>e.jsxs("div",{children:[e.jsx("span",{children:b}),e.jsx("br",{}),e.jsx("small",{children:xe(C.time_add)})]})},{key:"send",label:e.jsx("span",{"data-tooltip":"Enviados","data-tooltip-position":"bottom",children:"Env."})},{key:"returned",label:e.jsx("span",{"data-tooltip":"Devueltos","data-tooltip-position":"bottom",children:"Dev."})},{key:"reads",label:e.jsx("span",{"data-tooltip":"Recibidos","data-tooltip-position":"bottom",children:"Rec."})},{key:"clicks",label:e.jsx("span",{"data-tooltip":"Click","data-tooltip-position":"bottom",children:"Click."})},{key:"action",label:e.jsx("span",{"data-tooltip":"Acciones","data-tooltip-position":"bottom",children:"Acciones"}),render:b=>e.jsx(B,{to:`/campaigns/detail/${b}`,children:e.jsx(we,{})})}];return a.useEffect(()=>{N("em"),N("em-mt"),N("sms"),N("sms-mt"),v(),k(),g()},[]),e.jsxs(e.Fragment,{children:[e.jsx(re,{visible:!1,children:"STATS"}),e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MI INICIO"}),e.jsx("span",{children:"Bienvenido a RadarSystems aca podras ver todas tus estadisticas y estados de tu cuenta"})]})}),e.jsx("div",{className:"body-stat",children:e.jsxs("div",{className:"row",children:[" ",e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Panel de Estadísticas"}),e.jsx(kn,{stats:h})]}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding hr shadow-lg rounded-lg bg-white p-4",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"font-semibold text-lg text-gray-700 mb-4",children:"Saldo SMS Marketing"}),e.jsxs("div",{className:"balance-info flex items-center justify-between",children:[e.jsx("div",{className:"progress-circle","data-tooltip":"Saldo consumido","data-tooltip-position":"top",children:e.jsxs("div",{className:"circle",children:[e.jsx("div",{className:"mask full",children:e.jsx("div",{className:"fill"})}),e.jsx("div",{className:"mask half",children:e.jsx("div",{className:"fill"})}),e.jsx("div",{className:"inside-circle",children:"65%"})]})}),e.jsxs("div",{className:"expiry-info ml-4",children:[e.jsxs("p",{className:"text-sm text-gray-500 mb-1",children:["Saldo disponible: ",e.jsx("strong",{className:"text-gray-800",children:"6,500 SMS"})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Vence: ",e.jsx("strong",{className:"text-gray-800",children:"15/12/2024"})]})]})]})]})})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding hr shadow-lg rounded-lg bg-white p-4",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"font-semibold text-lg text-gray-700 mb-4",children:"Saldo SMS Transaccional"}),e.jsxs("div",{className:"balance-info flex items-center justify-between",children:[e.jsx("div",{className:"progress-circle","data-tooltip":"Saldo consumido",children:e.jsxs("div",{className:"circle",children:[e.jsx("div",{className:"mask full",children:e.jsx("div",{className:"fill"})}),e.jsx("div",{className:"mask half",children:e.jsx("div",{className:"fill"})}),e.jsx("div",{className:"inside-circle",children:"35%"})]})}),e.jsxs("div",{className:"expiry-info ml-4",children:[e.jsxs("p",{className:"text-sm text-gray-500 mb-1",children:["Saldo disponible: ",e.jsx("strong",{className:"text-gray-800",children:"500 SMS"})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Vence: ",e.jsx("strong",{className:"text-gray-800",children:"30/12/2024"})]})]})]})]})})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding hr shadow-lg rounded-lg bg-white p-4",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"font-semibold text-lg text-gray-700 mb-4",children:"Saldo Email Marketing"}),e.jsxs("div",{className:"balance-info flex items-center justify-between",children:[e.jsx("div",{className:"progress-circle","data-tooltip":"Saldo consumido",children:e.jsxs("div",{className:"circle",children:[e.jsx("div",{className:"mask full",children:e.jsx("div",{className:"fill"})}),e.jsx("div",{className:"mask half",children:e.jsx("div",{className:"fill"})}),e.jsx("div",{className:"inside-circle",children:"35%"})]})}),e.jsxs("div",{className:"expiry-info ml-4",children:[e.jsxs("p",{className:"text-sm text-gray-500 mb-1",children:["Saldo disponible: ",e.jsx("strong",{className:"text-gray-800",children:"500 SMS"})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Vence: ",e.jsx("strong",{className:"text-gray-800",children:"30/12/2024"})]})]})]})]})})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding hr shadow-lg rounded-lg bg-white p-4",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"font-semibold text-lg text-gray-700 mb-4",children:"Saldo Email Transaccional"}),e.jsxs("div",{className:"balance-info flex items-center justify-between",children:[e.jsx("div",{className:"progress-circle","data-tooltip":"Saldo consumido","data-tooltip-position":"top",children:e.jsxs("div",{className:"circle",children:[e.jsx("div",{className:"mask full",children:e.jsx("div",{className:"fill"})}),e.jsx("div",{className:"mask half",children:e.jsx("div",{className:"fill"})}),e.jsx("div",{className:"inside-circle",children:"85%"})]})}),e.jsxs("div",{className:"expiry-info ml-4",children:[e.jsxs("p",{className:"text-sm text-gray-500 mb-1",children:["Saldo disponible: ",e.jsx("strong",{className:"text-gray-800",children:"500 SMS"})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Vence: ",e.jsx("strong",{className:"text-gray-800",children:"30/12/2024"})]})]})]})]})})}),e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box stat box-padding hr",children:e.jsxs("div",{className:"table-container",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Últimas Campañas Email Marketing"}),e.jsx(as,{data:i,columns:F,enablePagination:!0,enableExport:!0,enableRowSelection:!1})]})})}),e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box stat box-padding hr",children:e.jsxs("div",{className:"table-container",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Últimas Campañas Email Transacional"}),e.jsx(as,{data:l,columns:y,enablePagination:!0,enableExport:!0,enableRowSelection:!1})]})})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding hr",children:e.jsxs("div",{className:"table-container",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Últimas Campañas SMS Marketing"}),e.jsx(as,{data:t,columns:S,enablePagination:!0,enableExport:!0,enableRowSelection:!1})]})})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding hr",children:e.jsxs("div",{className:"table-container",children:[e.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Últimas Campañas SMS Transaccional"}),e.jsx(as,{data:p,columns:_,enablePagination:!0,enableExport:!0,enableRowSelection:!1})]})})})]})})]})}function Sn(){const s=ae(),t=pe(),n=Ae(),{UserInfo:i}=a.useContext(X);a.useState(null);const[o,l]=a.useState([]),[r,p]=a.useState(!0);function m(d=void 0){var x;let u=new FormData;p(!0),u.append("id_company",(x=i==null?void 0:i.company)==null?void 0:x.id_company),u.append("id_campaign",t.id),d!==void 0&&u.append("type",d),T.post(P+"/api/get/detailsends",u,{withCredentials:!0}).then(c=>c.data).then(c=>{l(c),p(!1)})}return a.useEffect(()=>{m()},[]),a.useEffect(()=>{let d=new URLSearchParams(n.search).get("where");d&&m(d)},[n]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Estadisticas de campaña: ",t==null?void 0:t.id]}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"go-wizard",onClick:d=>{s("/campaigns/stats/"+t.id)},children:e.jsx(Qe,{})}),e.jsx("button",{className:"go-wizard",onClick:d=>{s("/campaigns/stats/"+t.id)},children:"Crear Segmento"}),e.jsx("button",{className:"go-wizard",onClick:d=>{s("/campaigns/stats/"+t.id)},children:"Descargar"})]})]}),e.jsx("div",{className:"menu-top",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:`/campaigns/stats/detail/${t.id}`,children:"General"})}),e.jsx("li",{children:e.jsx(B,{to:`/campaigns/stats/detail/${t.id}?where=error`,children:"Errores"})}),e.jsx("li",{children:e.jsx(B,{to:`/campaigns/stats/detail/${t.id}?where=clicks`,children:"Clicks"})}),e.jsx("li",{children:e.jsx(B,{to:`/campaigns/stats/detail/${t.id}?where=reads`,children:"Leidos"})})]})}),e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Resultados de busqueda"}),e.jsx("span",{children:"Te mostraremos el listado detallado de tus envios"})]}),e.jsx("div",{className:"control-scroll stats-detail",children:e.jsx("div",{className:"row",children:e.jsx(ba,{hasMore:!0,dataLength:10,children:o.map((d,u)=>e.jsx("div",{className:"item flex",children:e.jsx("div",{children:e.jsx("span",{children:d.email})})}))})})})]})]})}function _n(){const s=ae(),[t,n]=a.useState(!1),[i,o]=a.useState([]),{UserInfo:l}=a.useContext(X),[r,p]=a.useState(null),[m,d]=a.useState(!1),[u,x]=a.useState(!1),[c,h]=a.useState({}),[j,g]=a.useState(!1);function N(){var S;let y=new FormData;y.append("id_company",(S=l==null?void 0:l.company)==null?void 0:S.id_company),T.post(P+"/api/get/templatesall",y,{withCredentials:!0}).then(_=>_.data).then(_=>{o(_)})}function v(){var S;let y=new FormData;y.append("id_company",(S=l==null?void 0:l.company)==null?void 0:S.id_company),y.append("id_template",r),x(!0),T.post(P+"/api/delete/template",y,{withCredentials:!0}).then(_=>_.data).then(_=>{_.status&&(ie.success("Has eliminado correctamente"),d(!1),p(null),N())}).catch(_=>{ie.error("Opps ha ocurrido un error")}).finally(()=>{x(!1)})}function k(){var S;let y=new FormData;x(!0),y.append("id_company",(S=l==null?void 0:l.company)==null?void 0:S.id_company),y.append("file",c),y.append("title",c==null?void 0:c.name),y.append("type","email"),T.post(P+"/api/upload/bodycampaign",y,{withCredentials:!0}).then(_=>_.data).then(_=>{_.status&&(ie.success("Has subido correctamente tu archivo html"),N(),g(!1))}).finally(()=>{x(!1)})}function F(y){let S=y.target.files[0];h(S)}return a.useEffect(()=>{N()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(re,{visible:j,Pending:u,onClick:k,close:g,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Archivo"}),e.jsx("span",{children:"Selecciona tu archivo html"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{onChange:F,type:"file",accept:".html"})}),e.jsx("br",{})]}),e.jsx(ke,{visible:m,Pending:u,onClick:v}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"BOLETINES ELECTRONICOS"}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsxs("div",{className:"right",children:[e.jsxs("button",{className:"go-wizard",onClick:y=>{s("/editor/canvas")},children:[e.jsx(ee,{icon:"gg:add"})," Crear Nuevo Boletin"]}),e.jsxs("button",{className:"adxd",onClick:y=>{g(!0)},children:[e.jsx(ee,{icon:"mynaui:upload"})," Subir Boletin"]})]})]}),e.jsx("div",{className:"row",children:t==!1?i.map((y,S)=>{var _;return e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${Ss((_=l==null?void 0:l.company)==null?void 0:_.folder_sftp,y.preview_image)})`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{onClick:b=>{s(`/template/${y.token}`)},children:e.jsx(Ie,{})}),y.json&&e.jsx(e.Fragment,{children:e.jsx("button",{children:e.jsx(ee,{icon:"tabler:edit"})})}),e.jsx("button",{onClick:b=>{d(!0),p(y.id_template)},children:e.jsx(ee,{icon:"iconamoon:trash"})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:y==null?void 0:y.title}),e.jsxs("span",{children:["Boletin agregado el: ",xe(y.time_add)]})]})]})},S)}):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(_e,{})})})})]})}O(document).on("click",".settings-account .case .info button",function(s){s.preventDefault(),s.stopImmediatePropagation();let t=O(this).parents(".case");O(".settings-account .case.active").removeClass("active"),t.addClass("active")});function En(){O(".settings-account .case.active").removeClass("active")}function Fn(){const{UserInfo:s}=a.useContext(X),[t,n]=a.useState({}),[i,o]=a.useState(),[l,r]=a.useState({photo:""});function p(u){let x=u.nativeEvent.target.files;if(x.length){let c=x[0];if(c.type.indexOf("image")>=0){n(c);let h=URL.createObjectURL(c);o(h)}}}function m(u){O("input[name='photo']").val(""),o(""),n({})}function d(){var x;let u=new FormData;u.append("file",t),u.append("id_company",(x=s==null?void 0:s.company)==null?void 0:x.id_company),r({photo:"await"}),T.post(P+"/api/upload/newphoto",u,{withCredentials:!0}).then(c=>c.data).then(c=>{c.status&&(O(".header-top .body  img").attr("src",i),En(),n({}),ie.success("Has cambiado correctamente la foto de perfil")),r({photo:""})}).catch(c=>{r({photo:""})})}return e.jsxs(e.Fragment,{children:[e.jsxs(re,{maxWidth:450,visible:!0,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Empresa"}),e.jsx("span",{children:"actualiza la informacion de tu empresa"})]}),e.jsx("br",{}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Pais"}),e.jsx("select",{name:"",id:"",children:e.jsx("option",{value:"",children:"Selecciona Pais"})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Estado"}),e.jsx("input",{type:"text",placeholder:"EJ: Caracas"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Ciudad"}),e.jsx("input",{type:"text",placeholder:"EJ: Caracas"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Direccion"}),e.jsx("input",{type:"text",placeholder:"Ej: Plaza Venezuela, Edf Phelps Piso 21"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Telefono"}),e.jsx("input",{type:"text",placeholder:"Ej: +58412000000"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Correo"}),e.jsx("input",{type:"text",placeholder:"Ej: admin@radarsystems.net"})]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"ID Empresa"}),e.jsx("input",{type:"text"})]})})]})]}),e.jsxs("div",{className:"settings-account",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Establece una foto de perfil"}),e.jsx("span",{children:"cambia la foto de perfil y integra una foto con tu logo o algo de tu marca"}),e.jsx("button",{children:"Cambiar"})]}),e.jsx("div",{className:"action",children:e.jsxs("div",{className:"change-photo",children:[e.jsx("div",{className:"photo",style:{background:`url(${i||ps(s)})`}}),e.jsx("div",{className:"buttons",children:t!=null&&t.name?e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:l.photo,onClick:d,children:["Guardar ",e.jsx("div",{className:"loading"})]}),e.jsx("button",{onClick:m,children:"Cancelar"})]}):e.jsxs("button",{onClick:u=>{O("input[name='photo']").click()},children:["Subir ",e.jsx("i",{children:e.jsx(Qs,{})})," "]})}),e.jsx("input",{type:"file",name:"photo",onChange:p,hidden:!0})]})})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Informacion Empresarial"}),e.jsx("span",{children:"rellena la informacion de tu empresa!"}),e.jsx("button",{children:"Cambiar"})]}),e.jsx("div",{className:"action",children:e.jsxs("div",{className:"change-photo",children:[e.jsx("div",{className:"photo",style:{background:`url(${i||ps(s)})`}}),e.jsx("div",{className:"buttons",children:t!=null&&t.name?e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:l.photo,onClick:d,children:["Guardar ",e.jsx("div",{className:"loading"})]}),e.jsx("button",{onClick:m,children:"Cancelar"})]}):e.jsxs("button",{onClick:u=>{O("input[name='photo']").click()},children:["Subir ",e.jsx("i",{children:e.jsx(Qs,{})})," "]})}),e.jsx("input",{type:"file",name:"photo",onChange:p,hidden:!0})]})})]})]})]})}function Dn(){const[s,t]=a.useState([]),[n,i]=a.useState({domain:"",domain_email:""}),[o,l]=a.useState(!1),{UserInfo:r}=a.useContext(X),[p,m]=a.useState(!1),[d,u]=a.useState(!1),[x,c]=a.useState(!1),[h,j]=a.useState(null),[g,N]=a.useState(!1),v=ae();function k(b){let C=b.target.name,w=b.target.value;i({...n,[C]:w})}function F(){var C;let b=new FormData;l(!0),b.append("domain",n.domain),b.append("domain_email",n.domain_email),b.append("id_company",(C=r==null?void 0:r.company)==null?void 0:C.id_company),T.post(P+"/api/upload/domain",b,{withCredentials:!0}).then(w=>w.data).then(w=>{l(!1),w.status&&(m(!1),ie.success("Has subido el dominio con exito"),y()),w.msg&&ie.error(w.msg)}).catch(w=>{l(!1)})}function y(){var C;let b=new FormData;l(!0),b.append("id_company",(C=r==null?void 0:r.company)==null?void 0:C.id_company),T.post(P+"/api/get/domains",b,{withCredentials:!0}).then(w=>w.data).then(w=>{t(w)}).finally(w=>{l(!1)})}function S(b){let C=Number(b.target.dataset.value);j(C),c(!0)}function _(){var C;let b=new FormData;N(!0),b.append("id_domain",h),b.append("id_company",(C=r==null?void 0:r.company)==null?void 0:C.id_company),T.post(P+"/api/delete/domain",b,{withCredentials:!0}).then(w=>w.data).then(w=>{w.status&&(ie.success("Has borrado el dominio con exito"),y())}).finally(w=>{c(!1),N(!1)})}return a.useEffect(()=>{y()},[]),e.jsxs(e.Fragment,{children:[e.jsx(ke,{onClick:_,Pending:g,visible:x,callback:c}),e.jsxs(re,{visible:p,callback:m,maxWidth:"300px",onClick:F,Pending:o,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Agregar"}),e.jsx("span",{children:"agrega un nuevo dominio, el dominio quedara en verificacion para poder ser utilizado"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Dominio destinatario"}),e.jsx("input",{type:"text",name:"domain",onChange:k,placeholder:"dominio.com"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo del dominio"}),e.jsx("input",{type:"text",name:"domain_email",onChange:k,placeholder:"example@dominio.com"})]})]}),e.jsx(ke,{visible:d,callback:u,onClick:"",Pending:""}),e.jsx("div",{className:"settings-account",children:e.jsxs("div",{className:"case active",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Dominios"}),e.jsx("span",{children:"Estos dominios son los que has configurado para ser manejados en tu campanas de envios email"}),e.jsxs("button",{onClick:b=>{m(!0)},children:[e.jsx(M,{icon:"material-symbols:add"})," Agregar Dominio"]})]}),e.jsxs("div",{className:"action",children:[e.jsx("div",{className:"row domains",children:s.map((b,C)=>e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"domain",children:[e.jsxs("p",{children:[e.jsx(Ft,{}),"  ",b.domain]}),e.jsx("span",{children:b.domain_email}),e.jsx("br",{}),e.jsxs("span",{children:["Estatus: ",b.status?e.jsx(Dt,{}):e.jsx(Pt,{})]}),e.jsxs("div",{className:"buttons",children:[e.jsx("button",{onClick:w=>{v(`/settings-account/domain/${b.id_domain}`)},children:e.jsx(M,{icon:"icon-park-outline:config"})}),e.jsx("button",{onClick:S,"data-value":b.id_domain,children:e.jsx(me,{})})]})]})}))}),s.length==0?e.jsx(Ne,{name:"dominios"}):""]})]})})]})}function Pn(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading-modal",children:e.jsx("div",{className:"circle"})})})}function Tn(){const s=ae(),t=pe(),[n,i]=a.useState([]),[o,l]=a.useState(!1),{UserInfo:r}=a.useContext(X),[p,m]=a.useState(),[d,u]=a.useState([]),[x,c]=a.useState({width:"",left:""}),[h,j]=a.useState("gl"),[g,N]=a.useState(!0),[v,k]=a.useState(),[F,y]=a.useState(!1),[S,_]=a.useState({csv:!1,json:!1});function b(){var D;let f=new FormData;f.append("id_list",t.id),f.append("id_company",(D=r==null?void 0:r.company)==null?void 0:D.id_company),T.post(P+"/api/get/logslists",f,{withCredentials:!0}).then(E=>E.data).then(E=>{E.length&&i(E)}).catch(E=>{})}function C(f,D=!1,E=null,q=!1,$=null){var de;k(!0),D||(N(!1),l(!0),m(f),u([]),E!=="error"&&q!==!0&&(c({width:"70",left:"10"}),j("gl")));let le=new FormData;le.append("id_list",t.id),le.append("id_company",(de=r==null?void 0:r.company)==null?void 0:de.id_company),le.append("detail",f),d.length&&D&&le.append("last_id",d.slice(-1)[0].id_log),q&&le.append("download",$),E!==null&&le.append("type",E),T.post(P+"/api/get/logslists",le,{withCredentials:!0}).then(G=>G.data).then(G=>{if(q){_({...S,[$]:!0});const z=new Blob([JSON.stringify(G)],{type:q=="json"?"application/json":"text/csv"}),W=URL.createObjectURL(z),Y=document.createElement("a");Y.href=W,Y.setAttribute("download",`upload-${p}-list-${t.id}.json`),document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),setTimeout(()=>{_({...S,[$]:!1})},1e3)}N(!0),k(!1),u(D===!1?G:z=>[...z,...G])}).catch(G=>{k(!1)})}a.useEffect(()=>{b()},[]),a.useEffect(()=>{o&&(h=="error"&&C(p,!1,"error"),h=="gl"&&C(p,!1),h=="dw"?y(!0):y(!1))},[h]);function w(f){let D=f.target.value;j(D),c(E=>({...E,width:f.target.offsetWidth,left:f.target.offsetLeft}))}return e.jsxs(e.Fragment,{children:[e.jsxs(re,{visible:o,callback:l,maxWidth:"500px",minWidth:"500px",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Detalles"}),e.jsxs("span",{children:["detalles de la subida: ",p]})]}),e.jsx("div",{className:"menu-change",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("button",{className:`${h=="gl"?"active":""}`,onClick:w,value:"gl",style:{fontSize:"13px"},children:"Global"})}),e.jsx("li",{children:e.jsx("button",{className:`${h=="error"?"active":""}`,onClick:w,value:"error",style:{fontSize:"13px"},children:"Errores"})}),e.jsx("li",{children:e.jsx("button",{className:`${h=="dw"?"active":""}`,onClick:w,value:"dw",style:{fontSize:"13px"},children:"Descargar"})}),e.jsx("div",{className:"hover",style:{left:x.left+"px",width:x.width+"px"}})]})}),F?e.jsx(e.Fragment,{children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descargar logs"}),e.jsxs("span",{children:["Puedes descargar los logs de esta subida ",p," mediante un archivo csv / json"]}),e.jsxs("div",{className:"actions-item complete",children:[e.jsxs("button",{className:`download ${S.csv?"await":""}`,onClick:f=>{C(p,!1,null,!0,"json")},children:["Descargar CSV ",e.jsx("div",{className:"loading"})]}),e.jsxs("button",{className:`download ${S.json?"await":""}`,onClick:f=>{C(p,!1,null,!0,"json")},children:["Descargar JSON ",e.jsx("div",{className:"loading"})]})]})]})})})})}):e.jsx("div",{className:"data",children:e.jsx(ba,{scrollableTarget:"scrollableDiv",hasMore:g,next:()=>{C(p,!0)},dataLength:d.length,children:e.jsx("div",{className:"control-scroll lists-detail",id:"scrollableDiv",children:e.jsxs("div",{className:"row",children:[d==null?void 0:d.map((f,D)=>e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"item box box-padding",children:e.jsxs("div",{className:"top",children:[e.jsxs("span",{children:["Correo: ",f.email?f.email:"No aplica"]}),e.jsx("br",{}),e.jsxs("span",{children:["Telefono: ",f.phone?f.phone:"No aplica"]}),e.jsx("br",{}),e.jsxs("span",{children:["Calidad de subida: ",f.error?"error":"success"]})]})})})),v?e.jsx(Pn,{}):"",(d==null?void 0:d.length)===0&&v===!1?e.jsx(Ne,{name:h=="gl"?"registros":"errores"}):""]})})})})]},o?"Xd":"x"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Logs de lista: ",t.id]}),e.jsx("span",{children:"Ve los detalle de tus listas y ve si estan listas para ser utilizadas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:f=>{s("/contacts/detail/"+t.id)},children:e.jsx(Qe,{})})})]}),e.jsx("div",{className:"row",children:n.map((f,D)=>e.jsx("div",{className:"col-md-4  page-lists",children:e.jsx("div",{className:"box box-padding ",children:e.jsxs("div",{className:"item flex-wrap",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/upload_arrow2.webp",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:["Subida: ",e.jsx("b",{children:f.id_upload})]}),e.jsxs("span",{className:"desc",children:["Fecha: ",xe(f.time_add,"full")]}),e.jsx("br",{}),e.jsxs("span",{className:"desc",children:["Fecha de finalización: ",xe(f.time_finish,"full")]}),e.jsx("br",{}),e.jsxs("span",{className:"desc",children:["Contactos Subidos: 1",f==null?void 0:f.contacts_total]}),e.jsx("br",{}),e.jsx("span",{className:"desc",children:"Calidad de subida:"}),f!=null&&f.insert?e.jsxs("span",{className:"quality-upload good",children:[e.jsx(De,{})," Muy Buena"]}):f!=null&&f.error?e.jsxs("span",{className:"quality-upload error",children:[" ",e.jsx(Tt,{})," Regular / Mala"]}):e.jsxs("span",{className:"quality-upload await",children:[" ",e.jsx(bs,{})," En espera... "]})]})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{onClick:E=>{C(f.id_upload)},children:e.jsx(Oe,{})})})]})})},D))})]})}function qn(){return e.jsx("div",{className:"iphone",style:{background:"url(img/devices/iphone.png)"},children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"hour",children:e.jsx("span",{children:"12:45"})}),e.jsxs("div",{className:"battery",children:[e.jsxs("span",{className:"signal",children:[e.jsx("i",{children:e.jsx(M,{icon:"oi:signal"})}),e.jsx("span",{children:"LTE"})]}),e.jsx("i",{className:"battery",children:e.jsx(M,{icon:"ph:battery-high-fill"})})]}),e.jsx("div",{className:"content",children:e.jsx("div",{class:"editor-surveys prodbuttonsqr"})})]})})}function Mn(){return ae(),a.useEffect(()=>{T.get(P+"/api/get/logout",{withCredentials:!0}).then(s=>s.json).then(s=>{ds("token","",!0),ds("company","",!0),window.location.href="/"}).catch(s=>{ds("token","",!0),ds("company","",!0),window.location.href="/"})},[]),e.jsx(e.Fragment,{})}function Be({value:s,Transparent:t=!1}){function n(i){let o=i.target.dataset.value;o&&(navigator.clipboard?navigator.clipboard.writeText(o).then(()=>{A.success("Has copiado correctamente")}).catch(l=>{A.error("Error al copiar el texto")}):A.error("Error Al copiar"))}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"input-config",style:{background:t?"transparent":""},children:[e.jsx("span",{children:s}),e.jsx("button",{onClick:n,"data-value":s,children:e.jsx(M,{icon:"material-symbols:copy-all-outline"})})]})})}function Ln(){const s=pe(),{UserInfo:t}=a.useContext(X),[n,i]=a.useState({}),[o,l]=a.useState(!1),[r,p]=a.useState(!1),[m,d]=a.useState(!0);function u(){var h;p(!0);let c=new FormData;c.append("id_company",(h=t==null?void 0:t.company)==null?void 0:h.id_company),c.append("id_domain",s.id),T.post(P+"/api/get/domaindns",c,{withCredentials:!0}).then(j=>j.data).then(j=>{p(!1),i(g=>{let N={...g};return N.spf=j.spf,N.dmarc=j.dmarc,N.dkim=j.dkim,N}),j.spf&&j.dkim&&j.dmarc?(l(!0),A.success("Tu dominio se ha verificado completamente")):A.info("test")})}function x(){var h;d(!0);let c=new FormData;c.append("id_company",(h=t==null?void 0:t.company)==null?void 0:h.id_company),c.append("id_domain",s.id),T.post(P+"/api/get/domain",c,{withCredentials:!0}).then(j=>j.data).then(j=>{d(!1),i(j),j.spf&&j.cname&&j.dkim&&j.mx?l(!0):l(!1)}).catch(j=>{d(!1),console.log(j)})}return a.useEffect(()=>{x()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsx("div",{className:"",children:e.jsxs("p",{className:"title",children:["Dominio: ",s.id]})}),e.jsx("div",{className:"right",children:e.jsxs("button",{onClick:u,className:`go-wizard ${r?"await":null}`,children:[e.jsx(M,{icon:"material-symbols-light:pending-actions-rounded"})," Verificar Dominio ",e.jsx("div",{className:"loading"})]})})]}),m?e.jsx("div",{className:"loading-box",children:e.jsx(_e,{})}):e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding stat domain",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Registros de Envio"}),e.jsx("span",{children:"Se requieren registros TXT (conocidos como SPF y DKIM) para enviar y recibir correo electrónico con Radarsystems."})]}),e.jsxs("div",{className:"space-config",children:[e.jsx("p",{className:"title",children:"SPF"}),e.jsx("span",{className:"register-type",children:"Tipo: TXT"}),e.jsxs("table",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Status"}),e.jsx("td",{children:"Hostname"}),e.jsx("td",{children:"Valor"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:n!=null&&n.spf?e.jsx("span",{className:"success",children:"Verificado"}):e.jsx("span",{className:"error",children:"Pendiente"})}),e.jsx("td",{children:e.jsx(Be,{Transparent:!0,value:n.domain})}),e.jsx("td",{children:e.jsx(Be,{value:"v=spf1 include:_spf.radarmailer1.me ~all"})})]})]})]}),e.jsxs("div",{className:"space-config",children:[e.jsx("p",{className:"title",children:"DKIM"}),e.jsx("span",{className:"register-type",children:"Tipo: CNAME"}),e.jsxs("table",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Status"}),e.jsx("td",{children:"Hostname"}),e.jsx("td",{children:"Valor"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:n!=null&&n.dkim?e.jsx("span",{className:"success",children:"Verificado"}):e.jsx("span",{className:"error",children:"Pendiente"})}),e.jsx("td",{children:e.jsx(Be,{Transparent:!0,value:"radar._domainkey."+n.domain})}),e.jsx("td",{children:e.jsx(Be,{value:"dkim.email.radarmailer1.me"})})]})]})]})]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding stat domain",children:[e.jsxs("div",{className:"space-config",children:[e.jsx("p",{className:"title",children:"DMARC"}),e.jsx("span",{className:"register-type",children:"Tipo: TXT"}),e.jsxs("table",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Status"}),e.jsx("td",{children:"Hostname"}),e.jsx("td",{children:"Valor"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:n!=null&&n.dmarc?e.jsx("span",{className:"success",children:"Verificado"}):e.jsx("span",{className:"error",children:"Pendiente"})}),e.jsx("td",{children:e.jsx(Be,{Transparent:!0,value:"_dmarc"})}),e.jsx("td",{children:e.jsx(Be,{value:`v=DMARC1; p=quarantine; sp=quarantine; rua=mailto:postmarter@${n.domain}; Ruf=mailto:postmaster@${n.domain}; pct=100; adkim=r; fo=1; ri=43200`})})]})]})]}),e.jsxs("div",{className:"space-config",children:[e.jsx("p",{className:"title",children:"DMARC"}),e.jsx("span",{className:"register-type",children:"Tipo: CNAME"}),e.jsxs("table",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Status"}),e.jsx("td",{children:"Hostname"}),e.jsx("td",{children:"Valor"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:n!=null&&n.dmarc?e.jsx("span",{className:"success",children:"Verificado"}):e.jsx("span",{className:"error",children:"Pendiente"})}),e.jsx("td",{children:e.jsx(Be,{Transparent:!0,value:`radar.${n.domain}`})}),e.jsx("td",{children:e.jsx(Be,{value:"bounce.email.radarmailer1.me"})})]})]})]})]})})]})]})}function Rn({data:s,onClick:t}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"box box-padding plans",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:String(s.name).replace(/\s/g,`
`)}),e.jsx("span",{children:s.desc_text})]}),e.jsxs("div",{className:"price",children:[s.before_price&&e.jsx("div",{className:"before-price",children:e.jsxs("span",{children:["$",Number(s.before_price).toFixed(2)]})}),e.jsxs("div",{className:"fix",children:[e.jsx("span",{className:"symbol",children:"$"}),e.jsx("span",{className:"price-number",children:Number(s.price).toFixed(2)}),e.jsx("span",{className:"time",children:"/ Month"})]})]}),e.jsx("button",{className:"start",onClick:n=>{t(s.id_plan)},children:"Comenzar Ahora!"}),e.jsxs("div",{className:"offers",children:[e.jsx("p",{children:"El plan incluye:"}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(M,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(M,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"IA (Inteligencia Artificial)"})]}),e.jsxs("div",{className:"include",children:[e.jsx("span",{className:"check",children:e.jsx(M,{icon:"material-symbols:check-circle-outline"})}),e.jsxs("span",{className:"title",children:["Envios de Correos (",us(Number(s.email_quantity)),")"]})]}),e.jsxs("div",{className:"include",children:[e.jsx("span",{className:"check",children:e.jsx(M,{icon:"material-symbols:check-circle-outline"})}),e.jsxs("span",{className:"title",children:["Envios de Sms (",us(Number(s.sms_quantity)),") "]})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(M,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(M,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Marketing Automatizado "})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(M,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(M,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Programacion de Campaña"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(M,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(M,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"WorkFlow"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(M,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(M,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Encuestas"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(M,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(M,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Encuestas Avanzadas"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(M,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(M,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Formularios"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(M,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(M,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Modulo de Citas"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(M,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(M,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Pasarelas de Pagos"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(M,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(M,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"BlackList"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(M,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(M,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Verificacion Datos"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(M,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(M,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Informe Metricas"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(M,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(M,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Segmentacion "})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(M,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(M,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Plantillas"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(M,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(M,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Segmentacion Premium"})]}),e.jsxs("div",{className:"include",children:[s.landing_page?e.jsx("span",{className:"check",children:e.jsx(M,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(M,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Paginas / Ecommerce "})]}),e.jsxs("div",{className:"include",children:[s.auto_response?e.jsx("span",{className:"check",children:e.jsx(M,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(M,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Auto Responder"})]}),e.jsxs("div",{className:"include",children:[s.stats_shortlink?e.jsx("span",{className:"check",children:e.jsx(M,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(M,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Acortador de Enlaces"})]}),e.jsxs("div",{className:"include",children:[s.stats_shortlink?e.jsx("span",{className:"check",children:e.jsx(M,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(M,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Estadisticas Enlaces"})]}),e.jsxs("div",{className:"include",children:[s.personalize_shortlink?e.jsx("span",{className:"check",children:e.jsx(M,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(M,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Personalizar Enlaces"})]}),e.jsxs("div",{className:"include",children:[s.buttons_qr?e.jsx("span",{className:"check",children:e.jsx(M,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(M,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Botonera QR"})]}),e.jsxs("div",{className:"include",children:[s.buttons_url?e.jsx("span",{className:"check",children:e.jsx(M,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(M,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Botonera Enlaces"})]}),e.jsxs("div",{className:"include",children:[s.gallery_qr?e.jsx("span",{className:"check",children:e.jsx(M,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(M,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Galeria QR"})]}),e.jsxs("div",{className:"include",children:[e.jsx("span",{className:"check",children:e.jsx(M,{icon:"material-symbols:check-circle-outline"})}),e.jsx("b",{children:e.jsxs("span",{className:"title",children:["Contactos (",us(s.contacts_quantity),")"]})})]}),e.jsxs("div",{className:"include",children:[e.jsx("span",{className:"check",children:e.jsx(M,{icon:"material-symbols:check-circle-outline"})}),e.jsxs("span",{className:"title",children:["Verificador Correos (",s.verified_emails,")"]})]})]})]})})}function An(){const{UserInfo:s}=a.useContext(X),[t,n]=a.useState([]);a.useState(!1);const[i,o]=a.useState({});function l(){var d;let m=new FormData;m.append("id_company",(d=s==null?void 0:s.company)==null?void 0:d.id_company),T.post(P+"/api/get/plans",m,{withCredentials:!0}).then(u=>u.data).then(u=>{n(u)})}function r(){var d;let m=new FormData;m.append("id_company",(d=s==null?void 0:s.company)==null?void 0:d.id_company),T.post(P+"/api/get/my/resumen",m,{withCredentials:!0}).then(u=>u.data).then(u=>{o(u)})}function p(m){T.get(P+"/api/payment/control",{withCredentials:!0}).then(d=>d.request.responseText).then(d=>{d&&(window.location.href="https://paytest.megasoft.com.ve/action/paymentgatewayuniversal-data?control="+d)})}return a.useEffect(()=>{l(),r()},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Planes"}),e.jsx("span",{children:"Observa todos los planes disponibles para disfrutar de nuestros servicios"})]})}),e.jsx(hs,{}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Resumen"}),e.jsx("span",{children:"Observa cuanto te queda disponible este mes en tu plan adquirido"})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"box resumen-plans box-padding",children:[e.jsx("p",{children:"Emails"}),e.jsx("span",{children:i==null?void 0:i.emails_quantity})]})}),e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"box resumen-plans box-padding",children:[e.jsx("p",{children:"Mensajes"}),e.jsx("span",{children:i==null?void 0:i.sms_quantity})]})}),e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"box resumen-plans box-padding",children:[e.jsx("p",{children:"Contactos"}),e.jsx("span",{children:i==null?void 0:i.contacts_quantity})]})})]})]})})}),e.jsx("div",{className:"row",children:t.map((m,d)=>e.jsx("div",{className:"col-md-3",children:e.jsx(Rn,{data:m,onClick:p})},d))})]})}function On(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"checkout",children:[e.jsx("iframe",{width:"860",height:"484",src:"https://paytest.megasoft.com.ve/action/paymentgatewayuniversal-data?control=1720535014751287973"}),";"]})})}function $n(){const{UserInfo:s}=a.useContext(X),[t,n]=a.useState({}),[i,o]=a.useState(!1);function l(){var d;let m=new FormData;m.append("id_company",(d=s==null?void 0:s.company)==null?void 0:d.id_company),T.post(P+"/api/get/api/credentials",m,{withCredentials:!0}).then(u=>u.data).then(u=>{n(u)})}function r(m){navigator.clipboard.writeText(t==null?void 0:t[m]),m=="client_id"?ie.success("Has copiado tu Client ID"):ie.success("Has copiado tu Secret Key")}function p(){let m=new FormData;m.append("client_id",t.client_id),T.post(P+"/api/auth/newkey",m,{withCredentials:!0}).then(d=>d.data).then(d=>{d.status&&(ie.success("Secret Key actualizada con exito"),l())})}return a.useEffect(()=>{l()},[]),a.useEffect(()=>{i&&setTimeout(()=>{o(!1),ie.success("Se oculto automaticamente por seguridad")},2500)},[i]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Credenciales"}),e.jsx("span",{children:"Obten tus credenciales para poder manejarte por nuestra API"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{onClick:p,className:"add",children:"Actualizar Secret"})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Client ID"}),e.jsx("span",{children:"Este es tu indentificador de cliente es el ID unico que te identificara."})]}),e.jsxs("div",{className:"form-credentials",children:[e.jsx("input",{className:"client",type:"text",value:t.client_id,disabled:!0}),e.jsx("button",{onClick:m=>{r("client_id")},children:e.jsx(ee,{icon:"material-symbols:copy-all-outline"})})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Secret Key"}),e.jsxs("span",{children:["Esta es la clave secreta, que funciona para indentificarte junto tu ",e.jsx("b",{children:"CLIENT ID"})]})]}),i?e.jsxs("div",{className:"form-credentials",children:[e.jsx("input",{className:"secret",type:"text",value:t.secret_key,disabled:!0}),e.jsx("button",{onClick:m=>{r("secret_key")},children:e.jsx(ee,{icon:"material-symbols:copy-all-outline"})})]}):e.jsxs("div",{className:"form-credentials",children:[e.jsx("input",{className:"secret",type:"text",value:"- - - - - - - - - - - - - -",disabled:!0}),e.jsx("button",{onClick:m=>{o(!0)},children:e.jsx(ee,{icon:"ph:eye-closed"})})]})]})})]})]})}function zn(){pe();const[s,t]=a.useState("");function n(){const i=wa("control");i&&T.get(`http://localhost:8000/api/payment/check?control=${i}`,{headers:{"Content-Type":"application/json",Accept:"application/xml"}}).then(o=>{const l=o.data,m=new DOMParser().parseFromString(l,"application/xml").getElementsByTagName("voucher")[0];if(m){const d=m.textContent.trim();console.log(d),t(d)}else console.error("Elemento <voucher> no encontrado.")}).catch(o=>{console.error("Error fetching data:",o)})}return a.useEffect(()=>{n()},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"checkout",children:e.jsxs("div",{className:"facture box",children:[e.jsx("img",{className:"logo",src:"/img/icons/logo-l1.png",alt:""}),e.jsx("hr",{}),e.jsx("div",{className:"info",children:e.jsx("p",{children:"Factura"})}),e.jsx("br",{}),e.jsx("pre",{children:s})]})})})}function Bn(){var N,v;const{UserInfo:s}=a.useContext(X),[t,n]=a.useState({contacts:[]}),[i,o]=a.useState(!1),[l,r]=a.useState({delete:!1}),[p,m]=a.useState(null),d=pe(),[u,x]=a.useState(!0),c=ae();function h(){var F;let k=new FormData;k.append("id_company",(F=s==null?void 0:s.company)==null?void 0:F.id_company),k.append("id_list",d.id),T.post(P+"/api/get/lists/contacts",k,{withCredentials:!0}).then(y=>y.data).then(y=>{n(y)}).finally(()=>{x(!1)})}function j(){var F;let k=new FormData;p?(r({...l,delete:!0}),k.append("id_company",(F=s==null?void 0:s.company)==null?void 0:F.id_company),k.append("id_list",d.id),k.append("id_user",p),T.post(P+"/api/delete/lists/contacts",k,{withCredentials:!0}).then(y=>y.data).then(y=>{y.status&&(ie.success("Contacto eliminado de la lista"),o(!1),n(S=>({...S,contacts:S.contacts.filter(_=>_.id_user!==p)})))}).finally(()=>{m(null),r({...l,delete:!1})})):ie.error("Error al intentar eliminar")}function g(){c("/contacts/upload/"+d.id)}return a.useEffect(()=>{h()},[]),e.jsxs(e.Fragment,{children:[e.jsx(ke,{Pending:l==null?void 0:l.delete,onClick:j,visible:i,callback:o,name:"contacto"}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["CONTACTOS: ",e.jsx(B,{to:"/contacts/detail/"+d.id,children:(N=t==null?void 0:t.list)==null?void 0:N.name})," "]}),e.jsx("span",{children:"Ve todos los contactos que estan en esta lista"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:Je,children:e.jsx(Qe,{})})})]}),u==!1&&((v=t==null?void 0:t.contacts)==null?void 0:v.length)<=0&&e.jsx(e.Fragment,{children:e.jsx(Ne,{name:"contactos",addNew:!0,buttonName:"Contactos",callback:g})}),e.jsx("div",{className:"row",children:t==null?void 0:t.contacts.map((k,F)=>e.jsx("div",{className:"col-md-3 page-lists",children:e.jsx("div",{className:"box box-padding",children:e.jsxs("div",{className:"item flex-wrap",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/contacts.webp",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",title:k.name,children:ys(k.name,10)}),e.jsxs("span",{className:"desc",children:[e.jsx(ee,{icon:"mdi:email"})," ",ys(k.email,10),"  "]}),k.phone&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsxs("span",{className:"desc",children:[e.jsx(ee,{icon:"mdi:phone"})," ",k.phone]})]}),e.jsx("br",{})]})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{className:"red",onClick:y=>{o(!0),m(k.id_user)},children:e.jsx(ee,{icon:"iconoir:trash"})})})]})})}))})]})}function Vn(){const s=pe();a.useContext(X);const[t,n]=a.useState("");function i(){T.get(P+`/api/get/previewtemplate?token=${s.token}`,{withCredentials:!0}).then(o=>o.data).then(o=>{n(o)})}return a.useEffect(()=>{i()},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"preview-html",children:[e.jsxs("div",{className:"controls",children:[e.jsx("div",{className:"left",children:e.jsx("button",{className:"btn-action",onClick:o=>{Je()},children:e.jsx(ee,{icon:"icon-park-outline:return"})})}),e.jsx("p",{className:"title",children:"Previsualizar HTML"})]}),e.jsx("div",{className:"body",dangerouslySetInnerHTML:{__html:Ca(t)}})]})})}function Qn({visible:s=!1,close:t,htmlPreview:n}){return e.jsx(e.Fragment,{children:s&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"preview-html",children:[e.jsxs("div",{className:"controls",children:[e.jsx("div",{className:"left",children:e.jsx("button",{className:"btn-action",onClick:i=>{t(!1)},children:e.jsx(ee,{icon:"icon-park-outline:return"})})}),e.jsx("p",{className:"title",children:"Previsualizar HTML"})]}),e.jsx("div",{className:"body",dangerouslySetInnerHTML:{__html:n}})]})})})}function Hn(){const[s,t]=a.useState(0),{UserInfo:n}=a.useContext(X),[i,o]=a.useState({}),[l,r]=a.useState({type_response:"",view:"",childrens:[]}),[p,m]=a.useState(""),[d,u]=a.useState(!1),x=pe();function c(){var k;let v=new FormData;v.append("id_company",(k=n==null?void 0:n.company)==null?void 0:k.id_company),v.append("id_campaign",x.id),T.post(P+"/api/get/campaign",v,{withCredentials:!0}).then(F=>F.data).then(F=>{o(F)})}a.useEffect(()=>{O(".case.active").removeClass("active"),O(".case").eq(s).addClass("active")},[s]),a.useEffect(()=>{c()},[]);function h(v){let k=v.currentTarget.dataset.value;r(F=>{let y={...F,childrens:[...(F==null?void 0:F.childrens)||[]]};return y.childrens.some(S=>S.name===k)||y.childrens.push({type:k}),y.view=k,t(2),y})}function j(v){let k=v.target.name,F=v.target.value;r(y=>{let S={...y},_=S.childrens.find(b=>b.type==l.view);return _&&(_[k]=F),S})}function g(v){let k=v.target.files;if(k.length){let F=k[0];if(F.type.indexOf("text")>=0){let y=new FileReader;y.onload=S=>{let _=S.target.result;_?r(b=>{let C={...b},w=C.childrens.find(f=>f.type==l.view);return w&&(w.body=_,m(_)),C}):ie.error("Opps no tiene contenido este archivo html")},y.readAsText(F)}else ie.error("Opps este archvio no es compatible")}}function N(){var k;let v=l.childrens.find(F=>F.type==l.view);if(!v.body&&!v.sms)ie.error("Opps no puedes dejar el contenido principal vacio");else if(!v.type)ie.error("Opps no hay un tipo seleccionado");else{let F=new FormData;F.append("id_company",(k=n==null?void 0:n.company)==null?void 0:k.id_company),F.append("type",v.type),F.append("type_response",l.type_response),F.append("affair",v.affair),F.append("minutes",v.minutes),F.append("id_campaign",x.id),v.sms?F.append("sms",v==null?void 0:v.sms):F.append("body",v.body),T.post(P+"/api/upload/campaign/autoresponder",F,{withCredentials:!0}).then(y=>y.data).then(y=>{console.log(y)}).finally(()=>{})}}return e.jsxs(e.Fragment,{children:[e.jsx(Qn,{visible:d,htmlPreview:p,close:u}),e.jsx("div",{className:"wizard-home open",children:e.jsxs("div",{className:"body autoresponse",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsxs("p",{className:"title",children:["AutoResponse: ",e.jsx("b",{children:i==null?void 0:i.name})]}),e.jsx("span",{className:"desc",children:"Configura tu auto respuestas"})]}),e.jsxs("div",{className:"options-auto",children:[e.jsxs("div",{className:"option",onClick:v=>{r({...l,type_response:"sms"}),t(1)},children:[e.jsx("i",{children:e.jsx(ee,{icon:"icon-park-twotone:message"})}),e.jsx("p",{children:"Sms"})]}),e.jsxs("div",{className:"option",onClick:v=>{r({...l,type_response:"mail"}),t(1)},children:[e.jsx("i",{children:e.jsx(ee,{icon:"si:mail-duotone"})}),e.jsx("p",{children:"Correo"})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:l==null?void 0:l.type_response}),e.jsx("span",{className:"desc",children:"Estas son las opciones para configurar"})]}),e.jsxs("div",{className:"options flex",children:[e.jsxs("div",{className:"selector",onClick:h,"data-value":`no-open-${l.type_response}`,children:[e.jsx("div",{className:"check",children:e.jsx(ee,{icon:"bx:cog"})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"USUARIO NO ABRE EL CORREO"}),e.jsx("span",{children:"La lista de email es una herramienta que te permite administrar tus contactos de manera eficiente. Aquí podrás subir tus contactos para realizar envíos de correo electrónico de forma conveniente y efectiva."})]})]}),e.jsxs("div",{className:"selector",onClick:h,"data-value":`open-${l.type_response}`,children:[e.jsx("div",{className:"check",children:e.jsx(ee,{icon:"bx:cog"})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"USUARIO ABRIO EL CORREO"}),e.jsx("span",{children:"La lista de email es una herramienta que te permite administrar tus contactos de manera eficiente. Aquí podrás subir tus contactos para realizar envíos de correo electrónico de forma conveniente y efectiva."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsxs("p",{className:"title",children:["AutoResponse: ",e.jsx("b",{children:l==null?void 0:l.type_response})]}),e.jsxs("span",{className:"desc",children:["Configurando: ",l.view]})]}),e.jsxs("div",{className:"stat box box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Tiempo que transcurrirá"}),e.jsxs("span",{children:["Especifica cuanto tiempo transcurrira  para efectuar el envio de este ",l.type_response]})]}),e.jsx("div",{className:"form-input",children:e.jsx("input",{onChange:j,name:"minutes",type:"number",placeholder:"Minutos..."})})]}),e.jsxs("div",{className:"stat box box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Contenido"}),e.jsxs("span",{children:["Ingresa el contenido enviado en el ",l.type_response]})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Asunto"}),e.jsx("input",{name:"affair",type:"text",onChange:j,placeholder:"Ej: Opps no has respondido a la ultima encuesta de radarsystems!"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Plantilla (HTML)"}),e.jsx("input",{name:"body",type:"file",onChange:g,placeholder:"Ej: Opps no has respondido a la ultima encuesta de radarsystems!"})]}),e.jsx("button",{onClick:v=>{u(!0)},children:"test"})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{className:"next",children:"Volver"}),e.jsx("button",{onClick:N,className:"next",children:"Guardar"})]})]})]})})]})}function Wn(){const{LoadingAuth:s}=a.useContext(X);return e.jsxs(e.Fragment,{children:[e.jsx(qt,{}),s?e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:["Cargando... ",e.jsx("div",{className:"loading"})]})]})})}):e.jsx(e.Fragment,{}),e.jsx(Mt,{children:e.jsxs(Lt,{children:[e.jsx(H,{path:"/",element:e.jsx(Yt,{})}),e.jsx(H,{path:"/register",element:e.jsx(Zt,{})}),e.jsx(H,{path:"/wizard",element:e.jsx(xi,{})}),e.jsx(H,{path:"/settings-account/account",element:e.jsx(J,{CompanyNeed:!0,Element:Fn})}),e.jsx(H,{path:"/settings-account/security",element:e.jsx(J,{CompanyNeed:!0,Element:ze})}),e.jsx(H,{path:"/settings-account/footer",element:e.jsx(J,{CompanyNeed:!0,Element:ze})}),e.jsx(H,{path:"/settings-account/domains",element:e.jsx(J,{CompanyNeed:!0,Element:Dn})}),e.jsx(H,{path:"/settings-account/domain/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Ln})}),e.jsx(H,{path:"/settings-account/credentials",element:e.jsx(J,{CompanyNeed:!0,Element:$n})}),e.jsx(H,{path:"/",element:e.jsx(J,{CompanyNeed:!0,Element:na})}),e.jsx(H,{path:"/home",element:e.jsx(J,{CompanyNeed:!0,Element:na})}),e.jsx(H,{path:"/campaigns",element:e.jsx(J,{CompanyNeed:!0,Element:ze})}),e.jsx(H,{path:"/campaigns/autoresponse/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Hn})}),e.jsx(H,{path:"/campaigns/em",element:e.jsx(J,{CompanyNeed:!0,Element:ze})}),e.jsx(H,{path:"/campaigns/sms",element:e.jsx(J,{CompanyNeed:!0,Element:ze})}),e.jsx(H,{path:"/campaigns/sms-mt",element:e.jsx(J,{CompanyNeed:!0,Element:ze})}),e.jsx(H,{path:"/campaigns/em-mt",element:e.jsx(J,{CompanyNeed:!0,Element:ze})}),e.jsx(H,{path:"/campaigns/new",element:e.jsx(J,{CompanyNeed:!0,Element:ze})}),e.jsx(H,{path:"/campaigns/stats/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Nn})}),e.jsx(H,{path:"/campaigns/stats/detail/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Sn})}),e.jsx(H,{path:"/campaigns/detail/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Si})}),e.jsx(H,{path:"/companys",element:e.jsx(J,{CompanyNeed:!1,Element:Gs})}),e.jsx(H,{path:"/companys/add",element:e.jsx(J,{CompanyNeed:!1,Element:Gs})}),e.jsx(H,{path:"/companys/roles",element:e.jsx(J,{CompanyNeed:!0,Element:bi})}),e.jsx(H,{path:"/companys/users",element:e.jsx(J,{CompanyNeed:!0,Element:Ci})}),e.jsx(H,{path:"/companys/plans",element:e.jsx(J,{CompanyNeed:!0,Element:An})}),e.jsx(H,{path:"/checkout/:id",element:e.jsx(J,{CompanyNeed:!0,Element:On})}),e.jsx(H,{path:"/checkout/check",element:e.jsx(J,{CompanyNeed:!0,Element:zn})}),e.jsx(H,{path:"/contacts/lists",element:e.jsx(J,{CompanyNeed:!0,Element:js})}),e.jsx(H,{path:"/contacts/lists/add",element:e.jsx(J,{CompanyNeed:!0,Element:js})}),e.jsx(H,{path:"/contacts/lists/logs/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Tn})}),e.jsx(H,{path:"/contacts/lists/contacts/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Bn})}),e.jsx(H,{path:"/contacts/lists/:type",element:e.jsx(J,{CompanyNeed:!0,Element:js})}),e.jsx(H,{path:"/contacts/detail/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Di})}),e.jsx(H,{path:"/contacts/upload/:id",element:e.jsx(J,{CompanyNeed:!0,Element:qi})}),e.jsx(H,{path:"/contacts/segments",element:e.jsx(J,{CompanyNeed:!0,Element:yn})}),e.jsx(H,{path:"/contacts/segments/add",element:e.jsx(J,{CompanyNeed:!0,Element:wn})}),e.jsx(H,{path:"/contacts",element:e.jsx(J,{CompanyNeed:!0,Element:pn})}),e.jsx(H,{path:"/editor/canvas/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Ys})}),e.jsx(H,{path:"/editor/canvas/",element:e.jsx(J,{CompanyNeed:!0,Element:Ys})}),e.jsx(H,{path:"/surveys",element:e.jsx(J,{CompanyNeed:!0,Element:Mi})}),e.jsx(H,{path:"/surveys/editor",element:e.jsx(J,{CompanyNeed:!0,Element:Zs})}),e.jsx(H,{path:"/surveys/editor/:idsurvey",element:e.jsx(J,{CompanyNeed:!0,Element:Zs})}),e.jsx(H,{path:"/stats/survey/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Qi})}),e.jsx(H,{path:"/stats/survey/:id/detail",element:e.jsx(J,{CompanyNeed:!0,Element:Hi})}),e.jsx(H,{path:"/stats/survey/:id/response",element:e.jsx(J,{CompanyNeed:!0,Element:Wi})}),e.jsx(H,{path:"/surveys/preview",element:e.jsx(Us,{})}),e.jsx(H,{path:"/surveys/preview/:id",element:e.jsx(Us,{})}),e.jsx(H,{path:"/survey/:id",element:e.jsx(Vi,{})}),e.jsx(H,{path:"/shorturls",element:e.jsx(J,{CompanyNeed:!0,Element:ea})}),e.jsx(H,{path:"/shorturls/add",element:e.jsx(J,{CompanyNeed:!0,Element:ea})}),e.jsx(H,{path:"/shorturls/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Gi})}),e.jsx(H,{path:"/shorturls/campaigns",element:e.jsx(J,{CompanyNeed:!0,Element:sa})}),e.jsx(H,{path:"/shorturls/campaigns/add",element:e.jsx(J,{CompanyNeed:!0,Element:sa})}),e.jsx(H,{path:"/shorturls/campaigns/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Xi})}),e.jsx(H,{path:"/qr",element:e.jsx(J,{CompanyNeed:!0,Element:gs})}),e.jsx(H,{path:"/qr/add",element:e.jsx(J,{CompanyNeed:!0,Element:gs})}),e.jsx(H,{path:"/qr/import",element:e.jsx(J,{CompanyNeed:!0,Element:gs})}),e.jsx(H,{path:"/domains",element:e.jsx(J,{CompanyNeed:!0,Element:bn})}),e.jsx(H,{path:"/editor/buttons",element:e.jsx(J,{CompanyNeed:!0,Element:aa})}),e.jsx(H,{path:"/editor/buttons/:id",element:e.jsx(J,{CompanyNeed:!0,Element:aa})}),e.jsx(H,{path:"/buttons/:id",element:e.jsx(ln,{})}),e.jsx(H,{path:"/buttons",element:e.jsx(J,{CompanyNeed:!0,Element:jn})}),e.jsx(H,{path:"/stats/buttons/:id",element:e.jsx(J,{CompanyNeed:!0,Element:fn})}),e.jsx(H,{path:"/editor/buttonsqr",element:e.jsx(J,{CompanyNeed:!0,Element:ia})}),e.jsx(H,{path:"/editor/buttonsqr/:id",element:e.jsx(J,{CompanyNeed:!0,Element:ia})}),e.jsx(H,{path:"/buttonsqr",element:e.jsx(J,{CompanyNeed:!0,Element:gn})}),e.jsx(H,{path:"/buttonsqr/:id",element:e.jsx(vn,{})}),e.jsx(H,{path:"/test",element:e.jsx(Ii,{})}),e.jsx(H,{path:"/testiphone",element:e.jsx(qn,{})}),e.jsx(H,{path:"/recovery",element:e.jsx(mn,{})}),e.jsx(H,{path:"/editor/landings",element:e.jsx(hn,{})}),e.jsx(H,{path:"/landings",element:e.jsx(J,{CompanyNeed:!0,Element:un})}),e.jsx(H,{path:"/landing/:id",element:e.jsx(xn,{})}),e.jsx(H,{path:"/templates",element:e.jsx(J,{CompanyNeed:!0,Element:_n})}),e.jsx(H,{path:"/template/:token",element:e.jsx(J,{CompanyNeed:!0,Element:Vn})}),e.jsx(H,{path:"/logout",element:e.jsx(Mn,{})})]})})]})}const Gn=a.createContext(),In=s=>{const[t,n]=a.useState({});return e.jsx(Gn.Provider,{value:{App:t,setApp:n},...s})},Jn=a.createContext();function Xn(s){const[t,n]=a.useState();return a.useEffect(()=>{document.title=t},[t]),a.useEffect(()=>{n("Radarsystems - App")},[]),e.jsx(Jn.Provider,{value:{setTitle:n},...s})}Rt.createRoot(document.getElementById("root")).render(e.jsx(At.StrictMode,{children:e.jsx(Kt,{children:e.jsx(Ut,{children:e.jsx(In,{children:e.jsx(Xn,{children:e.jsx(Wn,{})})})})})}));
