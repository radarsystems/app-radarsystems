import{u as K,r as a,j as e,L as z,$ as A,a as q,n as O,I as ss,b as Js,c as ls,d as Xs,e as ee,f as ge,g as qe,h as ve,_ as de,i as Ys,k as Ks,M as re,V as Zs,l as ts,m as Je,o as Us,p as le,q as ea,s as us,t as te,v as sa,w as aa,x as ta,y as ia,z as Fe,A as me,B as fe,C as na,D as rs,E as la,F as ca,G as Ge,H as Te,J as ra,K as ke,N as da,O as oa,P as ie,Q as Pe,R as we,S as ma,T as pa,U as ha,W as xa,X as Ps,Y as ua,Z as ja,a0 as va,a1 as ga,a2 as fa,a3 as Na,a4 as as,a5 as ya,a6 as Ca,a7 as ba,a8 as wa,a9 as Me,aa as Ae,ab as ds,ac as ka,ad as qs,ae as Ts,af as Ls,ag as Rs,ah as Ms,ai as As,aj as Os,ak as $s,al as zs,am as Bs,an as Sa,ao as js,ap as Ea,aq as cs,ar as _a,as as Fa,at as Da,au as Pa,av as qa,aw as vs,ax as Vs,ay as Ta,az as La,aA as Ra,aB as Ma,aC as Aa,aD as Oa,aE as $a,aF as za,aG as V,aH as Ba,aI as Va}from"./vendor-7eef4f3b.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const p of i.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&n(p)}).observe(document,{childList:!0,subtree:!0});function c(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(l){if(l.ep)return;l.ep=!0;const i=c(l);fetch(l.href,i)}})();const F="https://api.radarsystems.net",Ue="https://radarsystems.net";function Wa(){let s=K();const[t,c]=a.useState({user:"",password:""});function n(i){i.stopPropagation(),i.preventDefault(),A(i.target).addClass("await"),t.password&&t.user?q.post(F+"/api/auth/login",t,{withCredentials:!0}).then(p=>p.data).then(p=>{p.status&&s("/home"),p.msg&&O.error(p.msg),A(i.target).removeClass("await")}).catch(p=>{O.error(String(p)),A(i.target).removeClass("await")}):A(i.target).removeClass("await")}function l(i){c({...t,[i.target.name]:i.target.value})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"row auth",children:[e.jsxs("div",{className:"col-auth-left",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"img/icons/logo-l1.png",alt:""})}),e.jsxs("div",{className:"align",children:[e.jsxs("span",{className:"title-welcome",children:["Bienvenido de nuevo. ",e.jsx("br",{})," Inicia ahora."]}),e.jsxs("span",{className:"text-register",children:["¿Aun no tienes cuenta?, ",e.jsx(z,{to:"/register",children:"Registrate ahora"})]}),e.jsxs("form",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Usuario"}),e.jsx("input",{type:"text",name:"user",onChange:l})]}),e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{children:["Password",e.jsx(z,{className:"forgot",to:"/recovery",children:"¿Olvidó?"})]}),e.jsx("input",{type:"password",name:"password",onChange:l})]}),e.jsx("span",{}),e.jsxs("button",{className:"sign",onClick:n,children:["INICIAR SESION ",e.jsx("div",{className:"loading"})]})]})]})]}),e.jsx("div",{className:"col-auth-right right",children:e.jsx("div",{className:"align",children:e.jsx("div",{className:"carousel",children:e.jsxs("div",{className:"item",children:[e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestiae perspiciatis nulla commodi accusamus. Reprehenderit, earum quibusdam laboriosam aliquam dolore ullam doloremque ratione possimus ex neque minus velit iste suscipit odit!"}),e.jsx("img",{src:"img/auth/People-welcome.png"})]})})})})]})})}function Qa(){const[s,t]=a.useState({user:"",email:"",password:"",rpassword:""});function c(l){l.stopPropagation();let i=l.target.name,p=l.target.value;t({...s,[i]:p})}function n(l){l.stopPropagation(),l.preventDefault(),A(l.target).addClass("await"),q.post(F+"/api/auth/register",s,{withCredentials:!0}).then(i=>i.data).then(i=>{i.msg&&O.error(i.msg),A(l.target).removeClass("await")}).catch(i=>{A(l.target).removeClass("await")})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"row auth",children:[e.jsxs("div",{className:"col-auth-left",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"img/icons/logo-l1.png",alt:""})}),e.jsxs("div",{className:"align",children:[e.jsxs("span",{className:"title-welcome",children:["Bienvenido.",e.jsx("br",{})," Registrate ahora!."]}),e.jsxs("span",{className:"text-register",children:["¿Opps ya tienes una cuenta?, ",e.jsx(z,{to:"/",children:"Ingresar"})]}),e.jsxs("form",{className:"form",onChange:c,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Usuario"}),e.jsx("input",{type:"text",name:"user"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo"}),e.jsx("input",{type:"text",name:"email"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Contraseña"}),e.jsx("input",{type:"password",name:"password"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Repite Contraseña"}),e.jsx("input",{type:"password",name:"rpassword"})]}),e.jsx("span",{}),e.jsxs("button",{className:"sign",onClick:n,children:["REGISTRARSE",e.jsx("div",{className:"loading"})]})]})]})]}),e.jsx("div",{className:"col-auth-right right",children:e.jsx("div",{className:"align",children:e.jsx("div",{className:"carousel",children:e.jsxs("div",{className:"item",children:[e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestiae perspiciatis nulla commodi accusamus. Reprehenderit, earum quibusdam laboriosam aliquam dolore ullam doloremque ratione possimus ex neque minus velit iste suscipit odit!"}),e.jsx("img",{src:"img/auth/People-welcome.png"})]})})})})]})})}function Ia(s){let t;switch(s){case"sms":t="sms";break;case"em":case"em-mt":t="em";break}return t}async function Ha(s){return await q.get(F+"/api/get/company?id_company="+s,{withCredentials:!0}).then(c=>c.data)}async function Ga(){return await q.post(F+"/api/get/companys",{},{withCredentials:!0}).then(s=>s.data)}function Ce(s){return window.location.pathname.includes(s)}function es(s){let t=document.cookie;t=t.split(";");let c;return t.forEach((n,l)=>{n.indexOf(`${s}=`)>=0&&(c=n.replace(`${s}=`,""))}),c}function Ja(s){const t=new URLSearchParams(window.location.search);return t.has(s)?t.get(s):null}function is(s){A(s).addClass("await")}function ye(s){A(s).removeClass("await")}function be(s=15){return Math.random().toString(36).substring(2,s+2)}function Xa(s){let t=!1;return s.type.indexOf("image")>=0&&(t=!0),t}function Ya(s,t){return new Promise((c,n)=>{try{let l=s.target.files[0],i={file:"",analize:""},p=new FileReader;p.onload=async function(h){let x=!0,o=h.currentTarget.result.split(`
`),r=o[0].split(","),m=!1;r.forEach(v=>{(v=="email"||v=="phone")&&(m=!0)}),m?await(async()=>{for(var j=1;j<o.length;j++){let d=r.length,u=o[j].split(",").length;d!==u&&(x=!1);let g=(j+1)/o.length*100;g%5===0&&await new Promise(f=>setTimeout(()=>{t(g),f()},0))}x?(i.analize="good",i.file=l,c(i)):(i.analize="bad",n(i))})():(i.analize="bad",n(i))},p.readAsText(l)}catch{response.analize="bad",n(response)}})}function os(s,t){return`${F}/api/get/imgtemplate?img=${t}&folder=${s}`}function ne(s,t=void 0){const c=new Date(s*1e3),n=c.getDate(),l=c.getMonth()+1,i=c.getFullYear(),p=c.getHours(),h=c.getMinutes();switch(t){case"full":var x=`${n}/${l}/${i} ${p}:${h}`;break;default:var x=`${n}/${l}/${i}`;break}return x}function Ws(s){return s?s=String(s).toLowerCase():s="undefined",s=="undefined"?window.location.origin+"/img/icons/countrys/"+s+".png":window.location.origin+"/img/icons/countrys/"+s+".svg"}function Qs(s){let t;switch(s&&(s=String(s).toLocaleLowerCase()),s){case"ve":t="Venezuela";break;case"ca":t="Canada";break;default:t="Undefined";break}return t}function Ka(s){return s!==void 0&&(s=String(s).toLowerCase()),(s.indexOf("mac")>=0||s.indexOf("apple")>=0)&&(s="apple"),s.indexOf("windows")>=0&&(s="windows"),s.indexOf("linux")>=0&&(s="linux"),s.indexOf("android")>=0&&(s="android"),s!=="windows"&&s!=="apple"&&s!=="android"&&s!=="linux"&&(s="undefined"),"/img/icons/systems/"+s+".png"}function Za(s){return"/img/icons/apps/"+s+".png"}function Ze(s){return F+"/api/get/previewqr?url="+s}function Ua(s){return{fb:"Facebook",in:"Instagram",x:"X (Twitter)",email:"Correo",sms:"Sms",tik:"Tiktok",linkd:"Linkedin",yt:"Youtube",tele:"Telegram",ws:"Whatsapp",others:"Otros"}[s]||""}function et(s){return!!/^[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(s)}function ms(s){var c,n;let t;return(c=s==null?void 0:s.company)!=null&&c.photo?t=F+"/api/get/photoprofile?hash="+((n=s==null?void 0:s.company)==null?void 0:n.photo):t="img/icons/default_profile.png",t}function gs(s){return s>=1&&s<=9?"0"+s:s.toString()}function st(s,t){return s.length>t?s.substring(0,t)+"...":s}const J=a.createContext(),at=s=>{const[t,c]=a.useState({}),[n,l]=a.useState(!1),[i,p]=a.useState(!0);return a.useEffect(()=>{function h(){let x=es("company"),o=new FormData;o.append("id_company",x),x&&q.post(F+"/api/get/company",o,{withCredentials:!0}).then(r=>r.data).then(r=>{c({...t,company:r[0]})})}(async function(){es("token"),await q.get(F+"/api/get/my",{withCredentials:!0}).then(x=>x.data).then(x=>{x.id_admin&&(l(!0),c(x),h(),p(!1))})})()},[]),e.jsx(J.Provider,{value:{UserInfo:t,setUserInfo:c,Auth:n,LoadingAuth:i},...s})},ce=a.createContext(),tt=s=>{const[t,c]=a.useState(0),{Auth:n,UserInfo:l}=a.useContext(J),[i,p]=a.useState({type:"",company:"",loading:!0,process:{}});function h(m,v){switch(v){case"active":A(m).addClass("await");break;case"remove":A(m).removeClass("await");break}}function x(m,v){m.stopPropagation();let j=A(m.target);j.parents(".selector").find(".active").removeClass("active"),j.addClass("active"),v(m.target.value)}function o(m,v){m.stopPropagation();let j=A(m.target);j.parents(".items-result").find(".active").removeClass("active"),j.addClass("active"),v(A(m.target).attr("value"))}function r(){c(t-1)}return a.useEffect(()=>{n&&async function(){if(l.company_default){let m=await Ha(l.company_default);p({...i,loading:!1,company:m})}else p({...i,loading:!1})}()},[n]),a.useEffect(()=>{p(m=>({...m,tutorial_wizard:l.tutorial_wizard}))},[l]),e.jsx(ce.Provider,{value:{Prev:r,wizard:i,SelectorItem:o,AwaitButton:h,Selector:x,setWizard:p,position:t,setPosition:c},...s})};function pe({Next:s}){const{setPosition:t,position:c}=a.useContext(ce),{wizard:n,setWizard:l}=a.useContext(ce),[i,p]=a.useState({});function h(){t(c-1)}return a.useEffect(()=>{n.company&&p(n.company)},[n]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"buttons-action ",children:[(i==null?void 0:i.name)!==void 0?e.jsx(e.Fragment,{children:e.jsxs("button",{className:"button-company",children:[e.jsx("img",{src:"img/icons/default_profile.png",alt:""}),i.name]})}):"",e.jsx("button",{className:"prev",onClick:h,children:"<"}),e.jsxs("button",{className:"next",onClick:s,children:["Siguiente ",e.jsx("div",{className:"loading"})]})]})})}function it(){function s(){}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left"}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Subir contactos"}),e.jsx("span",{className:"desc",children:"Sube tus contactos a la lista."})]}),e.jsx("div",{}),e.jsx(pe,{Next:s})]})]})})}function nt(){const{wizard:s,setWizard:t,setPosition:c,AwaitButton:n}=a.useContext(ce),[l,i]=a.useState(!1),[p,h]=a.useState({name:""});function x(r){if(l)c(m=>m+1);else{n(r.target,"active");let m=new FormData;m.append("name",p.name),m.append("id_company",s.company.id_company),s.type=="email"?m.append("type_c","email"):s.type=="sms"&&m.append("type_c","sms"),q.post(F+"/api/upload/list",m,{withCredentials:!0}).then(v=>v.data).then(v=>{v.status&&(O.success("Lista creada existosamente!"),c(j=>j+1),i(!0),v.id_list&&t(j=>({...j,process:{...j.process,id_list:v.id_list}}))),v.msg&&O.error(v.msg),n(r.target,"remove")}).catch(v=>{O.error(""+v),n(r.target,"remove")})}}function o(r){h(m=>({...m,[r.target.name]:r.target.value}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Nueva lista"}),e.jsx("img",{src:"img/icons/lists.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crear lista"}),e.jsx("span",{className:"desc",children:"Crea una nueva lista y luego ingresa los contactos"})]}),e.jsx("div",{className:"form",children:e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",name:"name",placeholder:"Nombre de lista",onChange:o})})}),e.jsx(pe,{Next:x})]})]}),l==!0?e.jsx(it,{}):""]})}function lt(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Welcome"}),e.jsx("img",{src:"/img/icons/email-alert.png",alt:""})]})}),e.jsx("div",{className:"right",children:e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"titel",children:"Seleccionar lista"}),e.jsx("span",{className:"desc",children:"Selecciona una lista para integrarla a la campaign que has elegido."})]})})]})})}function ct(){const{Selector:s,setPosition:t}=a.useContext(ce),[c,n]=a.useState();function l(p){n(p)}function i(){(c=="new"||c=="select")&&t(p=>p+1)}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elegir lista"}),e.jsx("img",{src:"img/icons/wizard-contacts.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu lista"}),e.jsx("span",{className:"desc",children:"Desde aqui puedes elegir rapidamente una lista de contactos, subirla o subirlos manualmente."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"select",onClick:p=>{s(p,l)},children:"Seleccionar de una lista"}),e.jsx("button",{value:"new",onClick:p=>{s(p,l)},children:"Crear una nueva lista"})]}),e.jsx(pe,{Next:i})]})]}),c=="new"?e.jsx(nt,{}):c=="select"?e.jsx(lt,{}):""]})}function rt(){function s(){}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left"}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Hola"}),e.jsx("span",{className:"desc",children:"hola"})]}),e.jsx(pe,{Next:s})]})]})})}function dt(){const{wizard:s,setWizard:t,AwaitButton:c}=a.useContext(ce),[n,l]=a.useState(!1),i=K();function p(x){c(x.target,"active");let o=new FormData;l("pending"),o.append("id_campaign",s.process.id_campaign),o.append("email",s.process.email),o.append("str_affair",s.process.affair),o.append("str_body",s.process.body),o.append("id_company",s.company.id_company),q.post(F+"/api/send/mt",o,{withCredentials:!0}).then(r=>r.data).then(r=>{c(x.target,"remove"),r.status&&(l(!0),s.tutorial_wizard&&setTimeout(()=>{q.get("/api/get/tutowizard",{withCredentials:!0}),i("/home")},2e3)),r.msg&&O.error(r.msg)}).catch(r=>{c(x.target,"remove")})}function h(x){p(x)}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option active",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Detalles de envio"}),e.jsx("img",{src:"img/icons/send-email2.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Envio de campaign"}),e.jsx("span",{className:"desc",children:"Enhora buena! Has llegado al ultixmo paso."})]}),e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Previsualizacion del envio"}),e.jsx("div",{className:"structure",children:e.jsxs("ul",{children:[e.jsxs("li",{children:["Correo para: ",e.jsx("b",{children:s.process.email})]}),e.jsxs("li",{children:["Asunto: ",e.jsx("b",{children:s.process.affair})]}),e.jsxs("li",{children:["Bajo la compania: ",e.jsx("b",{children:s.company.name})]}),e.jsxs("li",{children:["Status de envio: ",n==!1?e.jsxs("i",{className:"text-yellow",children:[e.jsx(ss,{})," En espera de confirmacion..."]}):n=="pending"?e.jsxs("i",{children:[e.jsx(Js,{})," Enviando..."]}):n==!0?e.jsxs("i",{className:"success",children:[e.jsx(ls,{})," Enviado"]}):""]})]})})]}),e.jsx(pe,{Next:h})]})]})})}function ot(){const{setWizard:s,setPosition:t}=a.useContext(ce),[c,n]=a.useState(),[l,i]=a.useState(!1);function p(){c?(t(h=>h+1),s(h=>({...h,process:{...h.process,email:c}})),i(!0)):O.error("Opps! No has proporcionado un correo valido")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elegir correo"}),e.jsx("img",{src:"img/icons/email-2.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Asignar el correo"}),e.jsx("span",{className:"info",children:"Elige el correo al cual se le enviara este email."})]}),e.jsx("div",{className:"form",children:e.jsx("div",{className:"form-input",children:e.jsx("input",{placeholder:"Correo electronico",type:"email",onChange:h=>{n(h.target.value)}})})}),e.jsx(pe,{Next:p})]})]}),l==!0?e.jsx(dt,{}):""]})}function mt(){const{setPosition:s,wizard:t,setWizard:c}=a.useContext(ce),[n,l]=a.useState({status:!1,preview:!1,isHtml:!1,file:{},preview_html:"",affair:"",vars:[]});function i(){n.affair?n.preview_html?(c(j=>({...j,process:{...j.process,body:n.preview_html,affair:n.affair,vars:n.vars}})),s(j=>j+1),l(j=>({...j,status:!0}))):O.error("No tienes ningun formato html asignado."):O.error("Opps has dejado el asunto vacio.")}function p(j){let d=j.target.files[0];if(d.type=="text/html"){l(g=>({...n,file:d}));let u=new FileReader;u.onload=function(g){l(f=>({...f,preview_html:g.target.result}))},u.readAsText(d)}}function h(){l(j=>({...j,preview:!0}))}function x(){l(j=>({...j,preview_html:"",preview:!1,file:{}})),document.querySelector(".option.active input[type='file']").value=""}function o(){l(j=>({...j,preview:!1}))}function r(j){l(d=>({...d,affair:j.target.value}))}function m(j){let u=A(j.target).parents(".form-input").find("input"),g=u.val();n.vars.length<8&&(l(f=>({...f,vars:[...f.vars,g]})),u.val(""))}function v(j){let d=j.target.value;l(u=>({...u,vars:u.vars.filter(g=>g!==d)}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[n.preview==!1?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Personaliza tu frontend"}),e.jsx("img",{src:"img/icons/frontend.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Personalizar body"}),e.jsx("span",{className:"desc",children:"Personaliza tu body para tu envio"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"xd",children:"Este campo es especial, dale click al signo de interrogacion para ver sus funcionalidades."}),e.jsx("input",{type:"text",placeholder:"Asunto",onChange:r})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"xd",children:"Estas variables se enviaran en forma organizada, es decir desde el principio al fin. y deben de ser interpretadas en su archivo .html con un $1,$2."}),e.jsxs("div",{className:"special",children:[e.jsx("input",{type:"text",placeholder:"Variables",onChange:r}),e.jsx("button",{className:"action",onClick:m,children:"Agregar"})]}),e.jsx("div",{className:"tags",children:n.vars.map((j,d)=>e.jsx("button",{onClick:v,value:j,children:j},d))})]}),e.jsx("div",{className:"buttons",children:n.file.type=="text/html"?e.jsxs("div",{className:"file-on",children:[e.jsxs("span",{className:"name-file",children:[e.jsx(Xs,{})," ",n.file.name]}),e.jsx("button",{className:"remove",onClick:x,children:e.jsx(ee,{})})]}):e.jsxs("button",{onClick:j=>{document.querySelector(".option.active input[type='file']").click()},children:[e.jsx(ge,{})," Subir Archivo"]})})]}),e.jsx("div",{className:"buttons",children:n.file.type!=="text/html"?e.jsx("button",{children:"Editor html"}):e.jsx("button",{onClick:h,children:"Vista previa"})}),e.jsx(pe,{Next:i})]})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"preview-html",children:[e.jsxs("div",{className:"actions-preview",children:[e.jsx("button",{className:"left",onClick:o,children:e.jsx(qe,{})}),e.jsx("button",{className:"left",onClick:x,children:e.jsx(ee,{})}),e.jsx("div",{className:"right-preview",children:e.jsxs("button",{className:"upload-new",onClick:j=>{document.querySelector(".option.active input[type='file']").click()},children:[e.jsx(ge,{})," Subir nuevo archivo"]})})]}),e.jsx("div",{className:"preview",dangerouslySetInnerHTML:{__html:n.preview_html}})]})}),e.jsx("input",{type:"file",accept:".html",onChange:p,hidden:!0})]}),n.status==!0?e.jsx(ot,{}):""]})}function pt(){const{Selector:s,setPosition:t}=a.useContext(ce),[c,n]=a.useState();function l(){(c=="new"||c=="select")&&t(p=>p+1)}function i(p){n(p)}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Selecciona la plantilla"}),e.jsx("img",{src:"img/icons/body-html.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Selecciona tu estructura"}),e.jsx("span",{className:"desc",children:"Selecciona la estructura de correo que usaras para enviar esta campaign"})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"new",onClick:p=>{s(p,i)},children:"Crear un body"}),e.jsx("button",{value:"select",onClick:p=>{s(p,i)},children:"Ya tengo uno"})]}),e.jsx(pe,{Next:l})]})]}),c=="new"?e.jsx(mt,{}):c=="select"?e.jsx(rt,{}):""]})}function Is(){const{Selector:s,setWizard:t,setPosition:c,position:n}=a.useContext(ce),[l,i]=a.useState();function p(){l!==void 0||l!==""?c(n+1):O.error("!Opps no has seleccionado el tipo de envio")}function h(x){i(x),t(o=>({...o,process:{...o.process,type_send:x}}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Selecciona el tipo"}),e.jsx("img",{src:"img/icons/send-type.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige el tipo de envio"}),e.jsx("span",{className:"desc",children:"Aca tienes que elegir que tipo de envio quieres que sea. Es decir, puedes elegir entre un envio "})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"masive",onClick:x=>{s(x,h)},children:"Envíos de campañas masivas"}),e.jsx("button",{value:"ind",onClick:x=>{s(x,h)},children:"Envio Individual"})]}),e.jsx(pe,{Next:p})]})]}),l=="ind"?e.jsx(pt,{}):l=="masive"?e.jsx(ct,{}):""]})}function ht(){const[s,t]=a.useState({name:"",ocation:"",id_company:""}),{AwaitButton:c,wizard:n,Prev:l,position:i,setPosition:p}=a.useContext(ce);a.useState(!1);const[h,x]=a.useState(!0);function o(m){c(m.target,"active");let v=new FormData;v.append("name",s.name),v.append("ocation",s.ocation),v.append("id_company",s.id_company),n.type=="email"&&v.append("type_c","em"),n.type=="sms"&&v.append("type_c","sms"),q.post(F+"/api/upload/campaign",v,{withCredentials:!0}).then(j=>j.data).then(j=>{j.msg&&O.error(j.msg),j.status&&p(i+1),c(m.target,"remove")}).catch(j=>{c(m.target,"remove")})}function r(m){t({...s,[m.target.name]:m.target.value})}return a.useEffect(()=>{t({...s,id_company:n.company.id_company})},[n]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Una nueva aventura!"}),e.jsx("img",{src:"img/icons/new-campaign.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crea una nueva campaña"}),e.jsx("span",{className:"desc",children:"Para crear una nueva campaña necesitas informacion basica para darle un nombre y un objetivo a tu campaña."})]}),e.jsxs("div",{className:"form",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",name:"name",placeholder:"Titulo de campaña",onChange:r})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"ocation",id:"",onChange:r,children:[e.jsx("option",{value:"default",children:"Por defecto"}),e.jsx("option",{value:"email",children:"Cumpleaños"})]})})]}),e.jsxs("div",{className:"buttons-action ",children:[e.jsx("button",{className:"prev",onClick:l,children:"<"}),e.jsxs("button",{className:"next",onClick:o,children:["Siguiente ",e.jsx("div",{className:"loading"})]})]})]})]}),h==!0?e.jsx(Is,{}):""]})}function Hs({loading:s}){return e.jsx(e.Fragment,{children:s==!0?e.jsx("div",{className:"wizard-loading-circle"}):""})}function xt(){const{setPosition:s,setWizard:t,wizard:c,SelectorItem:n}=a.useContext(ce),[l,i]=a.useState(!0),[p,h]=a.useState(),[x,o]=a.useState([]);function r(){p>=1?s(v=>v+1):de.error("!Opps no has seleccionado una campaign")}function m(v){t(j=>({...j,process:{...j.process,id_campaign:v}})),h(v)}return a.useEffect(()=>{let v=new FormData;v.append("id_company",c.company.id_company),q.post(F+"/api/get/campaign",v,{withCredentials:!0}).then(j=>j.data).then(j=>{o(j.results),i(!1)}).catch(j=>{i(!1)})},[]),a.useEffect(()=>{console.log(c)},[c]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elige tu campaña"}),e.jsx("img",{src:"img/icons/wizard-selectcampaign.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu campaña"}),e.jsx("span",{className:"desc",children:"Selecciona rapidamente una de tus campañas para seguir al siguiente paso."})]}),e.jsxs("div",{className:"items-result",children:[x.map((v,j)=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"item select",value:v.id_campaign,onClick:d=>{n(d,m)},children:[e.jsx("img",{src:"img/icons/campaign_profile.png",alt:""}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:v.name}),e.jsxs("span",{children:["Creada el ",v.time_add]}),e.jsx("div",{className:"circle",children:e.jsx("i",{children:e.jsx(ve,{})})})]})]})})),e.jsx(Hs,{loading:l})]}),e.jsx(pe,{Next:r})]})]}),Number(p)=="NaN"?e.jsx(Is,{}):""]})}function fs(){const[s,t]=a.useState({campaign:"",campaign_name:"",actions:{campaign:""}}),{Selector:c,Prev:n,position:l,setPosition:i}=a.useContext(ce);function p(){h()}function h(){let o=!1;switch(l){case 2:s.actions.campaign=="new"||s.actions.campaign=="select"?o=!0:O.error("Opps no has seleccionado nada.");break}o&&i(l+1)}function x(o){t({...s,actions:{campaign:o}})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",style:{display:"none"},children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Campañas"}),e.jsx("img",{src:"img/icons/email-alert.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu campana"}),e.jsx("span",{className:"desc",children:"Crea tu campana rapidamente solamente eligiendo un nombre y ajustandola a tus preferencias. Tambien puedes reutilizar alguna campana antigua."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"new",onClick:o=>{c(o,x)},children:"Crear una nueva"}),e.jsx("button",{value:"select",onClick:o=>{c(o,x)},children:"Ya tengo una"})]}),e.jsx(pe,{Next:p})]})]}),s.actions.campaign=="new"?e.jsx(ht,{}):e.jsx(xt,{})]})}function he({color:s,fn:t}){function c(n){n.stopPropagation();let l=A(n.target),i=l.parents(".colors");l.parents(".colors").find(".active").removeClass("active"),l.addClass("active"),i.find("button").css({opacity:"0.5"}),l.css({opacity:"1"})}return e.jsx(e.Fragment,{children:e.jsx("button",{className:"option-color",style:{background:s},value:s,onClick:n=>{t(n.target.value),c(n)}})})}function ut(){const{Prev:s,AwaitButton:t,setPosition:c}=a.useContext(ce),[n,l]=a.useState({name:"",type:"",color:"",default:"false"});function i(x){l({...n,color:x})}function p(x){let o=x.target.value,r=x.target.name;l({...n,[r]:o})}function h(x){n.name&&n.type&&n.color?(t(x.target,"active"),q.post(F+"/api/upload/company",n,{withCredentials:!0}).then(o=>o.data).then(o=>{t(x.target,"remove"),o.status&&(O.success("Company creada con exito"),c(1),A("button.active").removeClass("active")),o.msg&&O.error(o.msg)}).catch(o=>{t(x.target,"remove")})):O.error("Opps no has terminado los campos")}return e.jsx(e.Fragment,{children:status==!1?e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Nuevas ideas!"}),e.jsx("img",{src:"img/icons/cohete-men.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crear empresa"}),e.jsx("span",{className:"desc",children:"Personaliza tu empresa, con colores u imagen para poder identificarla si tienes otras empresas por registrar. Elige un nombre y comienza!"})]}),e.jsxs("div",{className:"form",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de empresa",name:"name",onChange:p})}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{htmlFor:"",children:"Tipo de empresa"}),e.jsx("select",{name:"type",id:"",onChange:p})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{children:"Elige un color"}),e.jsx("span",{className:"desc",children:"El color te ayudara a identificar tu empresa."}),e.jsxs("div",{className:"colors",children:[e.jsx(he,{color:"#2e56ff",fn:i}),e.jsx(he,{color:"#57c583",fn:i}),e.jsx(he,{color:"#3fcae9",fn:i}),e.jsx(he,{color:"#e9d43f",fn:i}),e.jsx(he,{color:"#d77613",fn:i}),e.jsx(he,{color:"#c069cb",fn:i}),e.jsx(he,{color:"#cb6992",fn:i})]})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{children:"Seleccionar como predeterminada"}),e.jsx("span",{className:"desc",children:"Si la eliges como predeterminada automaticamente se usara sin necesidad de seleccionarla."}),e.jsx("br",{}),e.jsxs("select",{name:"default",id:"",onChange:p,children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Si"})]})]})]}),e.jsx(pe,{Prev:s,Next:h})]})]}):e.jsx(e.Fragment,{})})}function jt(){const{wizard:s,setWizard:t,setPosition:c}=a.useContext(ce),[n,l]=a.useState([]),[i,p]=a.useState(!0);function h(){}a.useEffect(()=>{(async function(){l(await Ga()),p(!1)})()},[]),a.useEffect(()=>{s.company},[s]);function x(o,r){o.stopPropagation();let m=n[r];m.id_company&&(c(1),t({...s,company:m}))}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Usa tu empresa"}),e.jsx("img",{src:"img/icons/hot-company.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige una empresa"}),e.jsx("span",{children:"Elige una de las empresar anteriormente creadas."})]}),e.jsxs("div",{className:"companys",children:[n.map((o,r)=>e.jsxs("div",{className:"company",children:[e.jsx("img",{className:"photo-profile",src:"img/icons/default_profile.png",alt:""}),e.jsxs("span",{className:"title",children:[o.name," ",e.jsx("span",{className:"color",style:{background:o.color}})]}),e.jsx("button",{className:"use",onClick:m=>{x(m,r)},children:"Usar"})]},r)),e.jsx(Hs,{loading:i})]}),e.jsx(pe,{Next:h})]})]})})}function vt(){const[s,t]=a.useState({action:""}),{Selector:c,Prev:n,position:l,setPosition:i}=a.useContext(ce);function p(o){t({...s,action:o})}function h(){x()}function x(){let o=!1;switch(s.action){case"go":o=!0;break;case"new":o=!0;break}o?i(l+1):O.error("No has seleccionado ninguna opcion.")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Tu empresa"}),e.jsx("img",{src:"img/icons/hot-company.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:" Elige tu empresa"}),e.jsx("span",{className:"desc",children:"Debes elegir tu empresa para comenzar, o tambien podrias crear una empresa nueva. Estas empresas tendran (estadisticas,contactos,envios) totalmente autonomos."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{onClick:o=>{c(o,p)},value:"go",children:"Ya tengo una"}),e.jsx("button",{onClick:o=>{c(o,p)},value:"new",children:"Crear una nueva"})]})}),e.jsx(pe,{Prev:n,Next:h})]})]}),s.action=="new"?e.jsx(ut,{}):e.jsx(jt,{})]})}function gt(){return e.jsx(e.Fragment,{children:"xd"})}function ft(){const{position:s,setPosition:t,wizard:c,setWizard:n,Selector:l,Prev:i}=a.useContext(ce);function p(){h()}function h(){let r=!1;switch(s){case 0:r=!0;break;case 1:if(c.type)switch(c.type){case"email":c.company?r=!0:O.error("No tienes una empresa seleccionada.");break;case"sms":c.company?r=!0:O.error("No tienes una empresa seleccionada.");break;default:r=!0;break}else O.error("No has seleccionado ninguna opcion");break}r&&t(s+1)}function x(r){n({...c,type:r})}a.useEffect(()=>{A(".wizard .option.active").removeClass("active"),A(".wizard .option").eq(s).addClass("active")},[s]);const o={email:e.jsx(fs,{}),sms:e.jsx(fs,{}),verifiedEmail:e.jsx(gt,{})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"wizard",children:e.jsxs("div",{className:"body",children:[c.loading?e.jsx("div",{className:"wizard-loading",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{className:"logo-center",src:"img/icons/logo-l1.png",alt:""}),e.jsx("div",{className:"line"})]})}):e.jsx(e.Fragment,{}),e.jsxs("div",{className:"options",children:[e.jsxs("div",{className:"option center active",children:[e.jsxs("div",{className:"center",children:[e.jsx("img",{className:"logo-center",src:"img/icons/logo-l1.png",alt:""}),e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Welcome to RadarSystems"}),e.jsx("span",{className:"desc",children:"Hola este wizard te ayudara a armar tu primera campaign de emails / sms te, te mostraremos paso por paso como hacer lo que necesitas."})]}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"",id:"",children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"Seleccionar Idioma"}),e.jsx("option",{value:"",children:"Espanol"}),e.jsx("option",{value:"",children:"Ingles"})]})})]}),e.jsx("div",{className:"buttons-action ",children:e.jsx("button",{className:"next",onClick:p,children:"Comenzar"})})]}),c.company==""?e.jsx(vt,{}):e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Empezemos ahora"}),e.jsx("img",{src:"img/icons/wizard-help.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"¿Qué necesitas?"}),e.jsx("span",{children:"Puedes hacer diferentes acciones en la que podemos ayudarte mediante este wizard. Elige cual es de tu interes, asi podremos ayudarte facilmente."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{onClick:r=>{l(r,x)},value:"ac",children:"Elegir Empresa"}),e.jsx("button",{onClick:r=>{l(r,x)},value:"email",children:"Campañas de Correos"}),e.jsx("button",{onClick:r=>{l(r,x)},value:"sms",children:"Campañas de Sms"}),e.jsx("button",{className:c.tutorial_wizard==!0?"opacity-tutorial":"",onClick:r=>{l(r,x)},value:"vemail",children:"Verificador de Correos"}),e.jsx("button",{className:c.tutorial_wizard==!0?"opacity-tutorial":"",onClick:r=>{l(r,x)},value:"ac",children:"Acortador de Url"})]}),e.jsx(pe,{Prev:i,Next:p})]})]}),o[c.type]]})]})})})}function Nt({MenuLeft:s}){const{UserInfo:t}=a.useContext(J),[c,n]=a.useState(),l=K();a.useEffect(()=>{t.company_default==null&&t.company==null&&n(!0),t.company!==void 0&&n(!1)},[t]);function i(p){p.stopPropagation();let h=A(p.target),x=h.parents("li"),o=h.parents("li").find("ul"),r=A(".header-left").find("button.active"),m=A(".header-left").find("ul.active");r.parents("li").index()!==x.index()?(m.slideToggle(),m.removeClass("active"),r.removeClass("active"),h.addClass("active"),o.addClass("active"),o.slideToggle()):(r.removeClass("active"),m.removeClass("active"),m.slideToggle())}return es("token"),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`header-left ${s?"active":""}`,children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"/img/icons/logo.png",alt:""})}),e.jsxs("ul",{children:[e.jsx("li",{className:c?"opacity":"",children:e.jsxs("button",{onClick:p=>{l("/home")},children:[e.jsx("i",{className:"icon",children:e.jsx(Ys,{})})," Home ",e.jsx("i",{className:"arrow"})]})}),e.jsxs("li",{children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(Ks,{})})," Configuracion ",e.jsx("i",{className:"arrow",children:e.jsx(re,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/settings-account/account",children:"Cuenta"})}),e.jsx("li",{children:e.jsx(z,{to:"/settings-account/security",children:"Seguridad"})}),e.jsx("li",{children:e.jsx(z,{to:"/settings-account/footer",children:"Footer"})}),e.jsx("li",{children:e.jsx(z,{to:"/settings-account/domains",children:"Dominios"})})]})]}),e.jsxs("li",{className:c?"opacity":"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(Zs,{})})," Herramientas ",e.jsx("i",{className:"arrow",children:e.jsx(re,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/editor/canvas",children:"Editor Canvas"})}),e.jsx("li",{children:e.jsx(z,{to:"/editor/buttons",children:"Editor Botonera"})})]})]}),e.jsxs("li",{children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(ts,{})})," Cuentas ",e.jsx("i",{className:"arrow",children:e.jsx(re,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/companys",children:"Mis Cuentas"})}),e.jsx("li",{children:e.jsx(z,{to:"/companys/add",children:"Crear Cuenta"})})]})]}),e.jsxs("li",{className:c?"opacity":"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(Je,{})})," Recordatorios ",e.jsx("i",{className:"arrow",children:e.jsx(re,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/campaigns",children:"Email "})}),e.jsx("li",{children:e.jsx(z,{to:"/campaigns",children:"Sms"})}),e.jsx("li",{children:e.jsx(z,{to:"/campaigns/new",children:"Mixto"})})]})]}),e.jsxs("li",{className:c?"opacity":"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(Je,{})})," Campañas ",e.jsx("i",{className:"arrow",children:e.jsx(re,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/campaigns/em",children:"Email Marketing"})}),e.jsx("li",{children:e.jsx(z,{to:"/campaigns/em-mt",children:"Email MT"})}),e.jsx("li",{children:e.jsx(z,{to:"/campaigns/sms",children:"SMS Marketing"})}),e.jsx("li",{children:e.jsx(z,{to:"/campaigns/sms-mt",children:"SMS MT"})}),e.jsx("li",{children:e.jsx(z,{to:"/campaigns/new",children:"Crear Campana"})})]})]}),e.jsxs("li",{className:c?"opacity":"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(Us,{})})," Listas ",e.jsx("i",{className:"arrow",children:e.jsx(re,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/contacts",children:"Mis Contactos"})}),e.jsx("li",{children:e.jsx(z,{to:"/contacts/lists",children:"Mis Listas"})}),e.jsx("li",{children:e.jsx(z,{to:"/contacts/lists/email",children:"Listas Correo"})}),e.jsx("li",{children:e.jsx(z,{to:"/contacts/lists/sms",children:"Listas Mensajeria"})}),e.jsx("li",{children:e.jsx(z,{to:"/contacts/lists/ws",children:"Listas Whatsapp"})}),e.jsx("li",{children:e.jsx(z,{to:"/contacts/segments",children:"Segmentos"})})]})]}),e.jsxs("li",{className:c?"opacity":"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(ss,{})})," Automatizacion ",e.jsx("i",{className:"arrow",children:e.jsx(re,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{children:"WorkFlow"})}),e.jsx("li",{children:e.jsx(z,{children:"Programacion"})}),e.jsx("li",{children:e.jsx(z,{children:"Auto-Responders"})})]})]}),e.jsxs("li",{className:c?"opacity":"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(le,{})})," Estadisticas ",e.jsx("i",{className:"arrow",children:e.jsx(re,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{to:"/stats/campaign",children:e.jsx(z,{children:"Email Marketing"})}),e.jsx("li",{to:"/stats/campaign",children:e.jsx(z,{children:"Email MT"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(z,{children:"Sms Marketing"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(z,{children:"Sms MT"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(z,{children:"Encuestas"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(z,{children:"Botonera QR"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(z,{children:"Botonera URL"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(z,{children:"Medusa"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(z,{children:"Landings"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(z,{children:"Google Analytics"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(ea,{})})," Formulario ",e.jsx("i",{className:"arrow",children:e.jsx(re,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/surveys/editor",children:"Crear Formulario"})}),e.jsx("li",{children:e.jsx(z,{to:"/surveys",children:"Mis Formularios"})}),e.jsx("li",{children:e.jsx(z,{to:"/surveys",children:"Plantillas"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(us,{})})," Boletines Electronicos ",e.jsx("i",{className:"arrow",children:e.jsx(re,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/templates",children:"Mis Boletines"})}),e.jsx("li",{children:e.jsx(z,{to:"/editor/canvas",children:"Crear Boletin"})}),e.jsx("li",{children:e.jsx(z,{to:"/landings",children:"Plantillas"})}),e.jsx("li",{children:e.jsx(z,{to:"/landings",children:"Plantillas IA"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(us,{})})," Landings Page ",e.jsx("i",{className:"arrow",children:e.jsx(re,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/landings",children:"Mis Landings"})}),e.jsx("li",{children:e.jsx(z,{to:"/editor/landings",children:"Crear Landings"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(te,{icon:"mdi:jellyfish-outline"})})," Medusa ",e.jsx("i",{className:"arrow",children:e.jsx(re,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/shorturls/campaigns",children:"Mis Campañas"})}),e.jsx("li",{children:e.jsx(z,{to:"/shorturls/campaigns/add",children:"Crear Campana"})}),e.jsx("li",{children:e.jsx(z,{to:"/shorturls",children:"Mis Enlaces"})}),e.jsx("li",{children:e.jsx(z,{to:"/shorturls/add",children:"Crear Enlace"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(sa,{})})," Botonera QR ",e.jsx("i",{className:"arrow",children:e.jsx(re,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/editor/buttonsqr",children:"Crear Botonera QR"})}),e.jsx("li",{children:e.jsx(z,{to:"/buttonsqr",children:"Mis Botoneras QR"})}),e.jsx("li",{children:e.jsx(z,{to:"/qr/add",children:"Crear QR individual"})}),e.jsx("li",{children:e.jsx(z,{to:"/qr/import",children:"Importar QR"})}),e.jsx("li",{children:e.jsx(z,{to:"/qr",children:"Mis Qr's"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(te,{icon:"ri:links-fill"})})," Botonera URL ",e.jsx("i",{className:"arrow",children:e.jsx(re,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/editor/buttons",children:"Crear Botonera URL"})}),e.jsx("li",{children:e.jsx(z,{to:"/buttons",children:"Mis Botoneras URL"})})]})]}),e.jsxs("li",{children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(ts,{})})," Validador Email ",e.jsx("i",{className:"arrow",children:e.jsx(re,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/companys",children:"Mis Validaciones"})}),e.jsx("li",{children:e.jsx(z,{to:"/companys",children:"Crear Validacion"})}),e.jsx("li",{children:e.jsx(z,{to:"/companys",children:"Estadisticas"})})]})]}),e.jsxs("li",{children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(ts,{})}),"  API ",e.jsx("i",{className:"arrow",children:e.jsx(re,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/companys",children:"Mis Credenciales"})}),e.jsx("li",{children:e.jsx(z,{to:"/companys",children:"Crear Validacion"})}),e.jsx("li",{children:e.jsx(z,{to:"/companys",children:"Estadisticas"})})]})]})]})]})})}function yt({MenuLeft:s,MenuLeftAction:t}){var p,h,x;const{UserInfo:c}=a.useContext(J),[n,l]=a.useState("dark");function i(){switch(n){case"ligth":l("dark");break;case"dark":l("ligth");break;default:l("ligth");break}}return a.useEffect(()=>{A(document.body).attr("theme",n)},[n]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"header-top",children:[e.jsx("div",{className:"left mb",children:e.jsx("button",{className:"open",onClick:o=>{t()},children:e.jsx(te,{icon:"iconoir:nav-arrow-right"})})}),e.jsxs("div",{className:"right",children:[e.jsx("div",{className:"company",children:(p=c==null?void 0:c.company)!=null&&p.name?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"body",children:[e.jsx("img",{src:((h=c==null?void 0:c.company)==null?void 0:h.photo)!==void 0?ms(c):"img/icons/default_profile.png",alt:""}),e.jsx("span",{children:(x=c==null?void 0:c.company)==null?void 0:x.name})]})}):e.jsx(z,{to:"/companys",className:"select-company",children:"Seleccionar Cuenta"})}),e.jsxs("button",{className:"option",onClick:i,children:[n=="dark"?e.jsx(aa,{}):"",n=="ligth"?e.jsx(ta,{}):""]}),e.jsx("button",{className:"option",children:e.jsx(ia,{})}),e.jsx("div",{className:"user",children:e.jsx("img",{src:"img/icons/default-user.jpg",alt:""})})]})]})})}function G({Element:s,CompanyNeed:t}){var r;const{UserInfo:c}=a.useContext(J),n=K();a.useState(!1);const[l,i]=a.useState("wait"),[p,h]=a.useState(!1),x=Fe();function o(m){m==null?p==!0?h(!1):h(!0):h(!1)}return a.useEffect(()=>{es("company")||(n("/companys"),i(!1))},[]),a.useEffect(()=>{o("x")},[x]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"app",children:[e.jsx(Nt,{MenuLeftAction:o,MenuLeft:p}),e.jsx(yt,{MenuLeftAction:o,MenuLeft:p}),e.jsx("div",{className:"page",onClick:m=>{o("x")},children:t?(r=c==null?void 0:c.company)!=null&&r.id_company?e.jsx(s,{}):l==!1?e.jsxs("div",{className:"center-loading",children:[e.jsx("img",{src:"/img/icons/oficina.png",alt:""}),e.jsx("p",{children:"No has seleccionado ninguna empresa"})]}):e.jsx("div",{className:"center-loading",children:e.jsx("div",{className:"circle"})}):e.jsx(s,{})})]})})}function xe(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading",children:e.jsx("div",{className:"circle"})})})}function Ct({Visible:s,Close:t}){const{UserInfo:c}=a.useContext(J),[n,l]=a.useState(0),[i,p]=a.useState([be()]),[h,x]=a.useState({type:"",name:"",ocation:""}),o=K();function r(j){j.stopPropagation(),j.preventDefault();let d=A(j.target);d.parents(".options").find(".active").removeClass("active"),d.addClass("active");let u=d.attr("value");x(g=>({...g,type:u}))}function m(j){var g;let d=!1,u=A(j.target);if((n===0&&h.type.includes("em")||h.type.includes("sms"))&&(d=!0),n==1&&h.type!==""&&h.name!==""){u.addClass("await");let f=new FormData;f.append("name",h.name),f.append("ocation",h.ocation),f.append("type_c",h.type),f.append("id_company",(g=c==null?void 0:c.company)==null?void 0:g.id_company),q.post(F+"/api/upload/campaign",f,{withCredentials:!0}).then(y=>y.data).then(y=>{y.status?o("/campaigns/detail/"+y.id_campaign):y.msg&&de.error(y.msg),u.removeClass("await")}).catch(y=>{u.removeClass("await")})}d&&l(f=>f+1)}function v(j){let d=j.target.name,u=j.target.value;x(g=>({...g,[d]:u}))}return a.useEffect(()=>{A(".case.active").removeClass("active"),A(".case").eq(n).addClass("active")},[n]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[n>0?e.jsxs("button",{className:"return",onClick:j=>{l(d=>d-1)},children:[e.jsx(qe,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:j=>{t(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear una nueva campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"options flex half",id:`options-${i[0]}`,children:[e.jsxs("div",{className:"selector",onClick:r,value:"em",children:[e.jsx("div",{className:"check",children:e.jsx(me,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA EMAIL MARKETING"}),e.jsx("span",{children:"Crea tu campaña de email con uno de nuestros editores para que la envíes inmediatamente o programes para enviar más tarde."})]})]}),e.jsxs("div",{className:"selector",onClick:r,value:"em-mt",children:[e.jsx("div",{className:"check",children:e.jsx(me,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA EMAIL TRANSACCIONAL"}),e.jsx("span",{children:"Crea tu campaña de email transaccional estas seran enviada 1x1 mediante la conexion a la api."})]})]}),e.jsxs("div",{className:"selector",onClick:r,value:"sms",children:[e.jsx("div",{className:"check",children:e.jsx(me,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA SMS MARKETING"}),e.jsx("span",{children:"Envía mensajes de texto rápidos y confiables a cualquier país con nuestras herramientas de campaña de SMS."})]})]}),e.jsxs("div",{className:"selector",onClick:r,value:"sms-mt",children:[e.jsx("div",{className:"check",children:e.jsx(me,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA SMS TRANSACCIONAL"}),e.jsx("span",{children:"Crea tu campaña de sms transaccional estas seran enviada 1x1 mediante la conexion a la api."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de campaña"}),e.jsx("input",{type:"text",name:"name",onChange:v,placeholder:"Nombre"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Selecciona tipo"}),e.jsxs("select",{name:"ocation",id:"",onChange:v,children:[e.jsx("option",{value:"",selected:!0,children:" Por defecto"}),e.jsx("option",{value:"birthday",children:"Cumpleaños"})]})]}),(h.ocation=="birthday","")]})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:"next",onClick:m,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function oe({name:s}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"nofound-items",children:[e.jsx("img",{src:"/img/icons/notfound.png",alt:""}),e.jsxs("p",{children:["No hay ",s??"items","  disponibles"]})]})})}function _e(){const{UserInfo:s}=a.useContext(J),t=K(),[c,n]=a.useState([]),[l,i]=a.useState(!1),[p,h]=a.useState(!0),x=Fe();a.useEffect(()=>{Ce("/new")&&i(!0)},[x]);function o(m){var d;let v=new FormData;h(!0);let j="em";Ce("/em")&&(j="em"),Ce("/em-mt")&&(j="em-mt"),Ce("/sms-mt")&&(j="sms-mt"),Ce("/sms")&&(j="sms"),m||n([]),v.append("id_company",(d=s==null?void 0:s.company)==null?void 0:d.id_company),v.append("type",j),q.post(F+"/api/get/campaign",v,{withCredentials:!0}).then(u=>u.data).then(u=>{var g;(g=u==null?void 0:u.results)!=null&&g.length&&n(u.results),h(!1)}).catch(u=>{h(!1)})}a.useEffect(()=>{o(!1)},[x]);function r(m){let v=m.target.value;t("/campaigns/detail/"+v)}return e.jsxs(e.Fragment,{children:[e.jsx(Ct,{Visible:l,Close:i},`${l?"x":"x2"}`),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Campañas"}),e.jsx("span",{children:"Crea y ve tus campañas rapidamente, tambien puedes entrar a nuestro sistema automatizado "})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"add",onClick:m=>{i(!0)},children:"Crear nueva campaña"}),e.jsx("button",{className:"go-wizard",onClick:m=>{i(!0)},children:"Wizard"})]})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[c==null?void 0:c.map((m,v)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:m.name}),e.jsxs("span",{className:"desc",children:["Creado el: ",ne(m.time_add)]})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:r,value:m.id_campaign,children:e.jsx(fe,{})}),e.jsx("button",{children:e.jsx(le,{})})]})]})),p==!1?(c==null?void 0:c.length)==0?e.jsx(oe,{name:"campanas"}):"":e.jsx(xe,{})]})})})]})}function ps(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top",children:[e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/companys",children:"Cuentas"})}),e.jsx("li",{children:e.jsx(z,{to:"/companys/roles",children:"Roles"})}),e.jsx("li",{children:e.jsx(z,{to:"/companys/users",children:"Perfiles"})})]}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"form-search",children:e.jsx("input",{type:"text",placeholder:"Buscar cuenta..."})})})]})})}function se({buttonsActions:s=!0,minWidth:t,maxWidth:c,children:n,width:l,visible:i,buttonSave:p=!0,cancel:h,onClick:x,next:o,callback:r,Pending:m,close:v=function(){}}){const[j,d]=a.useState(i==!1?!1:i),[u,g]=a.useState(be());function f(y){y.stopPropagation();let L=A(y.target);A(`#modal-${u}`).removeClass("open"),L.parents(".modal-small").addClass("close"),setTimeout(()=>{L.parents(".modal-small").removeClass("close"),d(!1),r(!1)},400)}return a.useEffect(y=>{i==!0?(d(!0),setTimeout(()=>{A(`#modal-${u}`).removeClass("close"),A(`#modal-${u}`).addClass("open")},25)):(A(`#modal-${u}`).addClass("close"),A(`#modal-${u}`).removeClass("open"),v("cerro"))},[i]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"modal-small",id:`modal-${u}`,style:{display:j==!0?"flex":"none",overflow:"auto"},children:[e.jsx("div",{className:"closed"}),e.jsxs("div",{className:"body",style:{maxWidth:c,minWidth:t,width:l},children:[n,s?e.jsxs("div",{className:"actions",children:[e.jsx("button",{id:"close",onClick:f,children:h??"Cancelar"}),p?e.jsxs("button",{className:`done ${m==!0?" await":""}`,onClick:x,children:[o??"Guardar"," ",e.jsx("div",{className:"loading"})]}):""]}):""]})]})})}function bt({name:s,id:t,valueDefault:c,onChange:n}){const[l,i]=a.useState(be());a.useEffect(()=>{c&&(document.querySelector(`.select-${l}`).value=c)},[]);function p(h){n&&n(h)}return e.jsxs("select",{name:s,id:t,onChange:p,className:`select-${l}`,children:[e.jsx("option",{value:"def",selected:!0,disabled:!0,children:"Seleccionar"}),e.jsx("option",{value:"md",children:"Marketing Digital"}),e.jsx("option",{value:"tec",children:"Tecnología"}),e.jsx("option",{value:"tele",children:"Telecomunicaciones"}),e.jsx("option",{value:"soft",children:"Software"})]})}function Ns(){const[s,t]=a.useState([]),[c,n]=a.useState(!0),[l,i]=a.useState(!1),[p,h]=a.useState(!1),[x,o]=a.useState({}),[r,m]=a.useState({name:"",color:"",type:""}),{setUserInfo:v,UserInfo:j}=a.useContext(J),[d,u]=a.useState(!1),g=Fe();a.useEffect(()=>{Ce("/add")&&i(!0)},[g]);function f(){t([]),n(!0),q.post(F+"/api/get/companys",{},{withCredentials:!0}).then(P=>P.data).then(P=>{n(!1),t(P)})}a.useEffect(()=>{f()},[]),a.useEffect(()=>{},[x]);function y(){}function L(P){p?o(N=>({...N,color:P})):m(N=>({...N,color:P}))}function k(P){if(p){let N=A(P.target);N.addClass("await");let w=new FormData;w.append("name",x.name),w.append("color",x.color),w.append("type",x.type),w.append("id_company",x.id_company),q.post(F+"/update/editcompany",w,{withCredentials:!0}).then(C=>C.data).then(C=>{C.status&&(i(!1),O.success("Has editado correctamente."),f()),C.msg&&O.error(C.msg),N.removeClass("await")}).catch(C=>{N.removeClass("await")})}else{u(!0);let N=new FormData;N.append("name",r.name),N.append("color",r.color),N.append("type",r.type),q.post(F+"/api/upload/company",N,{withCredentials:!0}).then(w=>w.data).then(w=>{w.status&&(f(),i(!1),O.success("Has creado tu cuenta correctamente.")),w.msg&&O.error(w.msg),u(!1)}).catch(w=>{u(!1)})}}a.useEffect(()=>{A(".colors .option-color").css({opacity:"0.5"}),A(`.colors .option-color[value='${x.color}']`).addClass("active").css({opacity:1}),A(".form-input input[name='name']").val(x.name)},[x]);function R(P){i(!0),o(s[P])}function b(P,N){P.stopPropagation();try{v(w=>({...w,company:s[N]})),document.cookie=`company=${s[N].id_company}`,O.success("Empresa asignada correctamente.")}catch{}}function _(P,N){P.stopPropagation()}function M(P){console.log(p),p||m(N=>({...N,[P.target.name]:P.target.value}))}return e.jsxs(e.Fragment,{children:[e.jsxs(se,{onClick:k,visible:l,callback:i,close:P=>{o({})},Pending:d,next:`${p?"Editar":"Agregar"}`,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:p?"Editar cuenta":"Agregar cuenta"})}),e.jsxs("div",{className:"content",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre"}),e.jsx("input",{name:"name",type:"text",onChange:M})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Tipo"}),e.jsx(bt,{name:"type",onChange:M,valueDefault:`${p?x.type:"def"}`,callback:y},l?"modal-open":"modal-closed")]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Elige color de tu cuenta"}),e.jsx("span",{className:"desc",children:"El color te ayudara a identificar tu tipo de cuenta."}),e.jsxs("div",{className:"colors",children:[e.jsx(he,{color:"#2e56ff",fn:L}),e.jsx(he,{color:"#57c583",fn:L}),e.jsx(he,{color:"#3fcae9",fn:L}),e.jsx(he,{color:"#e9d43f",fn:L}),e.jsx(he,{color:"#d77613",fn:L}),e.jsx(he,{color:"#c069cb",fn:L}),e.jsx(he,{color:"#cb6992",fn:L})]},l?"a":"x")]})]})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MIS CUENTAS"}),e.jsx("span",{children:"Crea y administra tus cuentas, agrega Roles y Perfiles"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:P=>{i(!0),h(!1)},children:"Crear nueva cuenta"})})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx(ps,{}),e.jsxs("div",{className:"box box-padding",children:[s.map((P,N)=>{var w;return e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:P.photo?ms({company:{photo:P.photo}}):"img/icons/default_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:P.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:C=>{_(C)},children:e.jsx(na,{})}),e.jsx("button",{onClick:C=>{R(N),h(!0)},children:e.jsx(rs,{})}),e.jsxs("button",{onClick:C=>{b(C,N)},children:[" ",((w=j==null?void 0:j.company)==null?void 0:w.id_company)==P.id_company?e.jsx(la,{}):e.jsx(ca,{})," "]})]})]},N)}),c==!0?e.jsxs(e.Fragment,{children:["  ",e.jsx(xe,{})]}):""]})]})})]})}function Se({visible:s,onClick:t,callback:c,Pending:n,name:l}){const[i,p]=a.useState(s!=!1),[h,x]=a.useState(be());function o(r){r.stopPropagation();let m=A(r.target);m.parents(".actions").find(".done.await").length?O.error("No puedes salir en este momento..."):(A(`#modal-${h}`).removeClass("open"),m.parents(".modal-small").addClass("close"),setTimeout(()=>{m.parents(".modal-small").removeClass("close"),p(!1),c(!1)},600))}return a.useEffect(r=>{s==!0?(p(!0),setTimeout(()=>{A(`#modal-${h}`).removeClass("close"),A(`#modal-${h}`).addClass("open")},25)):(A(`#modal-${h}`).addClass("close"),A(`#modal-${h}`).removeClass("open"),close("cerro"))},[s]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"modal-small delete",id:`modal-${h}`,style:{display:i==!0?"flex":"none"},children:[e.jsx("div",{className:"closed"}),e.jsxs("div",{className:"body",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Eliminar"})}),e.jsxs("span",{className:"dialog",children:["Estas apunto de eliminar ",l==null?"este objeto":"esta "+l,". ¿Estas seguro de querer eliminarlo?"]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{id:"close",onClick:o,children:"Cancelar"}),e.jsxs("button",{className:`done ${n==!0?"await":""}`,onClick:t,children:["Eliminar ",e.jsx("div",{className:"loading"})]})]})]})]})})}function wt(){const{UserInfo:s,LoadingAuth:t}=a.useContext(J),[c,n]=a.useState(!1),[l,i]=a.useState(!1),[p,h]=a.useState(["delete","read","send","add"]),[x,o]=a.useState(!1);let r={type_add:"",delete:0,add:0,read:0,send:0,sadmin:0};const[m,v]=a.useState(r),[j,d]=a.useState(),[u,g]=a.useState(!0),f=K(),[y,L]=a.useState([]);async function k(){var w;let N=new FormData;N.append("id_company",(w=s==null?void 0:s.company)==null?void 0:w.id_company),L([]),g(!0),q.post(F+"/api/get/roles",N,{withCredentials:!0}).then(C=>C.data).then(C=>{L(C),g(!1)})}a.useEffect(()=>{t||s.company||(f("/companys"),O.error("Selecciona una empresa ")),u&&k()},[t]);function R(N){let w=N.target.value;A(N.target).is("input[type='checkbox']")?(v(C=>({...C,sadmin:0})),A(N.target).is("input[type='checkbox']:checked")?v(C=>({...C,[N.target.name]:1})):v(C=>({...C,[N.target.name]:0}))):(v(C=>({...C,[N.target.name]:w})),w=="sadmin"&&v(C=>({...C,sadmin:1})))}function b(N){let w=new FormData;m.rol!==void 0&&m.type_add!==void 0&&(w.append("sadmin",m!=null&&m.sadmin?m.sadmin:0),w.append("delete",m!=null&&m.delete?m.delete:0),w.append("read",m!=null&&m.read?m.read:0),w.append("add",m!=null&&m.add?m.add:0),w.append("send",m!=null&&m.send?m.send:0),w.append("rol",m.rol),w.append("id_company",s.company.id_company),x?(is(N.target),w.append("id_rol",m==null?void 0:m.id_rol),q.post(F+"/api/update/permissions",w,{withCredentials:!0}).then(C=>C.data).then(async C=>{C.status&&(await k(),n(!1),ye(N.target)),C.msg&&(O.error("Opps error al aplicar cambios de permisos"),ye(N.target))}).catch(C=>{ye(N.target)})):(is(N.target),q.post(F+"/api/upload/rol",w,{withCredentials:!0}).then(C=>C.data).then(C=>{C.status?(w.append("id_rol",C.id_rol),q.post(F+"/api/update/permissions",w,{withCredentials:!0}).then(B=>B.data).then(async B=>{B.status&&(await k(),n(!1),ye(N.target)),B.msg&&(O.error("Opps error al aplicar cambios de permisos"),ye(N.target))}).catch(B=>{ye(N.target)})):(C.msg&&O.error(C.msg),ye(N.target))}).catch(C=>{ye(N.target)})))}function _(N){let w=N.target.value;w&&(d(w),i(!0))}function M(N){is(N.target);let w=new FormData;w.append("id_company",s.company.id_company),w.append("id_rol",j),j?q.post(F+"/api/delete/rol",w,{withCredentials:!0}).then(C=>C.data).then(C=>{C.status&&(i(!1),k()),C.msg&&O.error(C.msg),ye(N.target)}).catch(C=>{ye(N.target)}):O.error("No has seleccionado ningun id")}function P(N){let w=N.target.value;n(!0),o(!0),v(C=>({...C,id_rol:y[w].id_rol,rol:y[w].rol})),setTimeout(()=>{y[w].permissions.sadmin?(v(C=>({...C,type_add:"sadmin"})),document.querySelector("select").value="sadmin"):(v(C=>({...C,type_add:"pers"})),document.querySelector("select").value="pers",p.forEach((C,B)=>{y[w].permissions[C]&&document.querySelector(`input[name='${C}']`).click()}))},25)}return e.jsxs(e.Fragment,{children:[e.jsx(Se,{visible:l,callback:i,onClick:M},l?"opxen":"clxose"),e.jsxs(se,{onClick:b,maxWidth:380,visible:c,callback:n,next:x?"Actualizar":"Guardar",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:x?"Editar rol":"Agregar rol"})}),e.jsxs("div",{className:"content",children:[x?"":e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de rol",name:"rol",onChange:R,value:(m==null?void 0:m.rol)==null?"":m==null?void 0:m.rol})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"type_add",id:"",onChange:R,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Seleccionar tipo"}),e.jsx("option",{value:"pers",children:"Personalizado"}),e.jsx("option",{value:"sadmin",children:"Super Admin"})]})}),m.type_add=="pers"?e.jsx("table",{children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Permisos"}),e.jsx("td",{children:"Seleccionar"})]}),p.map(N=>e.jsxs("tr",{children:[e.jsx("td",{children:N}),e.jsx("td",{children:e.jsx("input",{type:"checkbox",onChange:R,name:N})})]}))]})}):m.type_add=="sadmin"?e.jsxs("div",{className:"ad",children:[e.jsx("p",{children:"Advertencia"}),e.jsx("span",{children:"Al asignar un rol con permisos de super administrador, le daras derecho a hacer las mismas acciones que tu cuenta principal, podra manipular empresas o hacer cosas que solamente tu puedes hacer."})]}):e.jsx(e.Fragment,{})]})]},c?"open":"close"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus roles"}),e.jsx("span",{children:"Crea y elimina los roles de tu empresa, da permisos a usuarios para que puedan iniciar sesion y manipular tu empresa"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:N=>{n(!0),v(r),o(!1)},children:"Crear nuevo rol"})})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx(ps,{}),e.jsxs("div",{className:"box box-padding",children:[y.map((N,w)=>{var C,B,H,Z,U,I,$,W;return e.jsxs("div",{className:"item flex",children:[e.jsx("div",{className:"info",children:e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:[N.rol," ",N.permissions.sadmin==!0?e.jsx("span",{className:"super-adm",children:"ADM"}):""," "]}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})}),e.jsxs("div",{children:[e.jsx("p",{children:"Lectura"}),e.jsx("div",{className:"center-roles",children:(C=N==null?void 0:N.permissions)!=null&&C.read?e.jsx("span",{className:"yes",children:e.jsx(ve,{})}):((B=N==null?void 0:N.permissions)==null?void 0:B.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(ve,{})}):e.jsx("span",{className:"no",children:e.jsx(Ge,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Envio"}),e.jsx("div",{className:"center-roles",children:(H=N==null?void 0:N.permissions)!=null&&H.send?e.jsx("span",{className:"yes",children:e.jsx(ve,{})}):((Z=N==null?void 0:N.permissions)==null?void 0:Z.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(ve,{})}):e.jsx("span",{className:"no",children:e.jsx(Ge,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Borrar"}),e.jsx("div",{className:"center-roles",children:(U=N==null?void 0:N.permissions)!=null&&U.delete?e.jsx("span",{className:"yes",children:e.jsx(ve,{})}):((I=N==null?void 0:N.permissions)==null?void 0:I.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(ve,{})}):e.jsx("span",{className:"no",children:e.jsx(Ge,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Agregar"}),e.jsx("div",{className:"center-roles",children:($=N==null?void 0:N.permissions)!=null&&$.add?e.jsx("span",{className:"yes",children:e.jsx(ve,{})}):((W=N==null?void 0:N.permissions)==null?void 0:W.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(ve,{})}):e.jsx("span",{className:"no",children:e.jsx(Ge,{})})})]}),e.jsx("div",{children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:P,value:w,children:e.jsx(rs,{})}),e.jsx("button",{onClick:_,value:N.id_rol,children:e.jsx(ee,{})})]})})]},w)}),u?e.jsx(xe,{}):y.length==0?e.jsx(oe,{}):""]})]})})]})}function kt(){const{UserInfo:s}=a.useContext(J),[t,c]=a.useState([]),[n,l]=a.useState(!1),[i,p]=a.useState({name:"",password:"",email:"",id_rol:""}),[h,x]=a.useState(!1),[o,r]=a.useState([]),[m,v]=a.useState(!1),[j,d]=a.useState(),[u,g]=a.useState(!1),[f,y]=a.useState({id_user:"",id_rol:""}),[L,k]=a.useState(!1);function R(C){let B=C.target.value,H=C.target.name;p(Z=>({...Z,[H]:B}))}function b(){var B;v(!0);let C=new FormData;C.append("id_company",(B=s==null?void 0:s.company)==null?void 0:B.id_company),q.post(F+"/api/get/subusers",C,{withCredentials:!0}).then(H=>H.data).then(H=>{v(!1),c(H)}).catch(H=>{v(!1)})}function _(){var C;if(i.name&&i.email&&i.password&&i.id_rol)if(i.password.length>=6){let B=new FormData;x(!0),B.append("name",i.name),B.append("email",i.email),B.append("password",i.password),B.append("id_rol",i.id_rol),B.append("id_company",(C=s.company)==null?void 0:C.id_company),q.post(F+"/api/upload/subuser",B,{withCredentials:!0}).then(H=>H.data).then(H=>{x(!1),H.status&&(l(!1),c([]),b())}).catch(H=>{x(!1)})}else O.error("Tu password no es correcta debe de tener 6 o mas caracteres");else O.error("Opps has dejado campos vacios")}function M(C){y(B=>({...B,id_user:t[C].id,id_rol:t[C].id_rol,name:t[C].name})),setTimeout(()=>{document.querySelector("select").value=t[C].id_rol},20),g(!0)}function P(C){let B=t[C].id;B&&(d(B),k(!0))}a.useEffect(()=>{var B;let C=new FormData;C.append("id_company",(B=s==null?void 0:s.company)==null?void 0:B.id_company),q.post(F+"/api/get/roles",C,{withCredentials:!0}).then(H=>H.data).then(H=>{r(H)}),b()},[]);function N(){var C;if(f.id_rol&&f.id_user){x(!0);let B=new FormData;B.append("id_company",(C=s==null?void 0:s.company)==null?void 0:C.id_company),B.append("id_rol",f.id_rol),B.append("id_user",f.id_user),q.post(F+"/api/update/subuser",B,{withCredentials:!0}).then(H=>H.data).then(H=>{H.status&&(b(),c([]),O.success("Has editato el usuario correctamente."),g(!1)),x(!1)}).catch(H=>{x(!1)})}}function w(){var C;if(j){x(!0);let B=new FormData;B.append("id_user",j),B.append("id_company",(C=s==null?void 0:s.company)==null?void 0:C.id_company),q.post(F+"/api/delete/subuser",B,{withCredentials:!0}).then(H=>H.data).then(H=>{H.status&&(k(!1),x(!1),b(),c([]),O.success("Has borrado el usuario correctamente."))})}else O.error("Opps no has seleccionado nada")}return e.jsxs(e.Fragment,{children:[e.jsx(Se,{visible:L,callback:k,onClick:w,Pending:h}),e.jsxs(se,{visible:u,callback:g,Pending:h,onClick:N,next:"Editar",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Editar"})}),e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{children:["Editar rol del usuario @",f.name]}),e.jsxs("select",{onChange:C=>{y(B=>({...B,id_rol:C.target.value}))},name:"",id:"",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Seleccionar Rol"}),o.map((C,B)=>e.jsx("option",{value:C.id_rol,children:C.rol}))]})]})]}),e.jsx(se,{visible:n,callback:l,next:"Agregar",onClick:_,Pending:h,children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Agregar"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre",name:"name",onChange:R})}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Email",name:"email",onChange:R})}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"password",placeholder:"Contraseña",name:"password",onChange:R})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"id_rol",id:"",onChange:R,children:[e.jsx("option",{value:"",children:"Seleccionar Rol"}),o.map((C,B)=>e.jsx("option",{value:C.id_rol,children:C.rol}))]})})]})},`${n?"open":"close"}`),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus usuarios"}),e.jsx("span",{children:"Crea y elimina usuarios, estos usuarios son de tu empresa, deben de tener un rol asignado para poder hacer ciertas funciones. Estos usuarios pueden utilizar la api si le das el acceso y podran consumir recursos desde alli."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:C=>{l(!0)},children:"Crear nuevo usuario"})})]}),e.jsx(ps,{}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[t.map((C,B)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default-user.jpg",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:C.name}),e.jsxs("span",{className:"desc",children:["Rol - ",C.rol]}),e.jsx("br",{}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:H=>{M(B)},value:B,children:e.jsx(rs,{})}),e.jsx("button",{onClick:H=>{P(B)},value:C.id_rol,children:e.jsx(ee,{})})]})})]},B)),m==!1?t.length==0?e.jsx(oe,{name:"usuarios"}):"":e.jsx(xe,{})]})})})]})}function ys({campaign:s,setFormProgamming:t}){const[c,n]=a.useState("default");function l(h){let x=h.target.value;n(x)}function i(){n("default")}function p(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"return-top",children:e.jsx("button",{onClick:i,children:e.jsx(Te,{})})})})}return a.useEffect(()=>{switch(c){case"daysname":t({target:{value:"bucle",name:"p_type"}});break}},[c]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Programar campaña"})}),e.jsxs("div",{className:"data",children:[c=="default"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"select-buttons",children:[e.jsx("button",{onClick:l,value:"date",children:"Fecha especifica"}),e.jsx("button",{onClick:l,value:"daysname",children:"Dias especificos"}),e.jsx("button",{onClick:l,value:"daysnumber",children:"Recordatorios"}),e.jsx("button",{onClick:l,value:"fidelizacion",children:"Fidelizacion"})]})}):"",c=="date"?e.jsxs(e.Fragment,{children:[e.jsx(p,{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"date",name:"date",onChange:t})}),e.jsxs("div",{className:"form-input flex",children:[e.jsx("input",{type:"text",placeholder:"hora",name:"hh",onChange:t}),e.jsx("input",{type:"text",placeholder:"minuto",name:"ii",onChange:t}),e.jsxs("select",{name:"x",id:"",children:[e.jsx("option",{value:"pm",children:"p.m."}),e.jsx("option",{value:"am",children:"a.m."})]})]})]}):"",c=="daysname"?e.jsxs(e.Fragment,{children:[e.jsx(p,{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Que dia de la semana quieres que se envie"}),e.jsxs("select",{name:"dd",onChange:t,id:"",children:[e.jsx("option",{value:"Sun",children:"Domingo"}),e.jsx("option",{value:"Mon",children:"Lunes"}),e.jsx("option",{value:"Tues",children:"Martes"}),e.jsx("option",{value:"Wed",children:"Miércoles"}),e.jsx("option",{value:"Thurs",children:"Jueves"}),e.jsx("option",{value:"Fri",children:"Viernes"}),e.jsx("option",{value:"Sat",children:"Sábado"})]})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("button",{children:"Cada 1 mes"}),e.jsx("br",{}),e.jsx("button",{children:"Cada 2 meses"}),e.jsx("br",{}),e.jsx("button",{children:"Cada 3 meses"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Cuando expira"}),e.jsx("input",{type:"date",onChange:t,name:"timeExpire"})]})]}):"",c=="daysnumber"?e.jsxs(e.Fragment,{children:[e.jsx(p,{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Que dia quieres que se envie (Esto enviara el numero elegio cada mes, es decir ejemplo: 01 es igual a los 01 de cada mes)"}),e.jsx("select",{name:"dd",onChange:t,children:Array.from({length:31},(h,x)=>e.jsx("option",{value:String(x+1).padStart(2,"0"),children:String(x+1).padStart(2,"0")},x+1))})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Cuando expira (Si no pones fecha es indefinido)"}),e.jsx("input",{type:"date",onChange:t,name:"timeExpire"})]})]}):"",c=="fidelizacion"?e.jsxs(e.Fragment,{children:[e.jsx(p,{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Que campo validador quieres utilizar (estas campañas funcionan de forma que verifican si en el campo validador elegido esta una fecha en caso de ser asi se enviara un correo al usuario, con los parametros configurados)"}),e.jsxs("select",{name:"dd",onChange:t,children:[e.jsx("option",{value:"",children:"Selecciona el campo"}),e.jsx("option",{value:"",children:"Birthday"}),e.jsx("option",{value:"",children:"Extra 1"}),e.jsx("option",{value:"",children:"Extra 2"}),e.jsx("option",{value:"",children:"Extra 3"}),e.jsx("option",{value:"",children:"Extra 4"}),e.jsx("option",{value:"",children:"Extra 5"})]})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Cuando expira (Si no pones fecha es indefinido)"}),e.jsx("input",{type:"date",onChange:t,name:"timeExpire"})]})]}):""]})]})}function St({value:s,onChange:t,onSave:c}){const n=a.useRef(null),[l,i]=a.useState(""),[p,h]=a.useState(!0),[x,o]=a.useState(0),r=m=>{const v=n.current,j=window.getSelection().toString(),d=v.selectionStart,u=l.substring(0,d),g=l.substring(d),f=u+m+j+g;i(f),v.focus()};return a.useEffect(()=>{t(l),o(l.length)},[l]),a.useEffect(()=>{s&&p&&(h(!1),i(s))},[s]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"textarea-sms",children:[e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:()=>r("$name"),children:"Nombre"}),e.jsx("button",{onClick:()=>r("$lastname"),children:"Apellido"}),e.jsx("button",{onClick:()=>r("$dni"),children:"Dni"}),e.jsx("button",{onClick:()=>r("$code"),children:"Codigo"}),e.jsx("button",{onClick:()=>r("$city"),children:"Ciudad"}),e.jsx("button",{onClick:()=>r("$country"),children:"Pais"}),e.jsx("button",{onClick:()=>r("$birthday"),children:"Nacimiento"}),e.jsx("button",{onClick:()=>r("$address"),children:"Direccion"}),e.jsx("button",{onClick:()=>r("$occupation"),children:"Ocupacion"}),e.jsx("button",{onClick:()=>r("$gender"),children:"Sexo"}),e.jsx("button",{onClick:()=>r("$phone"),children:"Telefono"}),e.jsx("button",{onClick:()=>r("$email"),children:"Correo Electronico"}),e.jsx("button",{onClick:()=>r("$1"),children:"Extra (1)"}),e.jsx("button",{onClick:()=>r("$2"),children:"Extra (2)"}),e.jsx("button",{onClick:()=>r("$3"),children:"Extra (3)"}),e.jsx("button",{onClick:()=>r("$4"),children:"Extra (4)"}),e.jsx("button",{onClick:()=>r("$5"),children:"Extra (5)"}),e.jsx("button",{onClick:()=>r("$6"),children:"Extra (6)"}),e.jsx("button",{onClick:()=>r("$7"),children:"Extra (7)"}),e.jsx("div",{className:"count",children:e.jsxs("i",{children:["166/",x]})})]}),e.jsx("textarea",{ref:n,className:"text",value:s,onChange:m=>i(m.target.value)}),e.jsxs("div",{className:"bottom-actions",children:[e.jsxs("button",{children:[e.jsx(ra,{})," Borrar"]}),e.jsxs("button",{children:[e.jsx(ke,{})," Previsualizar SMS"]}),e.jsx("button",{className:"preview",onClick:c,children:"Enviar Campaña"}),e.jsx("button",{className:"preview",onClick:c,children:"Guardar "})]})]})})}function Et({status:s,PauseCampaign:t,style:c}){return e.jsxs(e.Fragment,{children:[s=="prepare"?e.jsx(e.Fragment,{children:e.jsxs("span",{style:c,children:["En espera... ",e.jsx(te,{icon:"mdi:check"})]})}):"",s=="programmed"?e.jsx(e.Fragment,{children:e.jsxs("span",{style:c,className:"wait-list",children:[" Programada ",e.jsx(ss,{})]})}):"",s=="sent"?e.jsx(e.Fragment,{children:e.jsxs("span",{style:c,className:"ready-list",children:["Enviado ",e.jsx(te,{icon:"mdi:check-all"})," "]})}):"",s=="sending"?e.jsxs(e.Fragment,{children:[e.jsxs("span",{style:c,className:"ready-list",children:[" Enviando... ",e.jsx(da,{})]}),e.jsx("button",{onClick:t,children:e.jsx(oa,{})})]}):""]})}function _t({Close:s,campaign:t,setCampaign:c}){const[n,l]=a.useState([]),{UserInfo:i}=a.useContext(J);function p(){var r;let o=new FormData;o.append("id_company",(r=i==null?void 0:i.company)==null?void 0:r.id_company),o.append("type",Ia(t.type_c)),q.post(F+"/api/get/list",o,{withCredentials:!0}).then(m=>m.data).then(m=>{console.log(m),l(m)})}function h(o){o.contacts>1&&o.contacts<5?c(r=>{let m={...r};return m.lists_test=o.id_list,m}):de.error("Tu lista no cumple los requisitos")}function x(){c({...t,lists_test:""})}return a.useEffect(()=>{t.lists_test||p()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Envio de prueba"}),t!=null&&t.lists_test?e.jsx("span",{children:"envia una prueba a tu lista preferida"}):e.jsx("span",{children:"Selecciona una lista para usar en este envio de pruebas no puede exceder los 5 usuarios"})]}),t!=null&&t.lists_test?e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx("div",{className:"box",children:e.jsxs("div",{className:"item flex-wrap",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/lists.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:["Lista ",t==null?void 0:t.lists_test]}),e.jsx("span",{className:"desc",children:"Esta es la lista seleccionada para el envio de pruebas"})]})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{onClick:x,children:e.jsx(ee,{})})})]})}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:o=>{s(!1)},children:"Cerrar"}),e.jsx("button",{children:"Enviar"})]})]}):e.jsx("div",{className:"data",children:e.jsx("div",{className:"row",children:n.map((o,r)=>e.jsx("div",{className:"col-md-12 page-lists",children:e.jsx("div",{className:"box",children:e.jsxs("div",{className:"item flex-wrap select",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/lists.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:o.name}),e.jsxs("span",{className:"desc",children:["Contactos: ",o.contacts]})]})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{onClick:m=>{h(o)},children:e.jsx(ge,{})})})]})})}))})})]})}function Ft(){var ze,Be,Ve,We,Qe,Ie,He;const s=ie(),{UserInfo:t}=a.useContext(J),c=K();a.useState(!1);let n={lists:!1,body:!1,affair:!1};const[l,i]=a.useState(n),[p,h]=a.useState({lists:[]}),[x,o]=a.useState({lists:!1}),[r,m]=a.useState([]),[v,j]=a.useState({sendCampaign:!1}),[d,u]=a.useState({affair:""}),[g,f]=a.useState(!1),[y,L]=a.useState(),[k,R]=a.useState(!1),[b,_]=a.useState({hh:"",mm:"",dd:"",ii:"",yy:"",timeExpire:"",p_type:"default"}),[M,P]=a.useState(!1);a.useState({});const[N,w]=a.useState(),[C,B]=a.useState(!1);function H(E){var T;Z(!0);let D=new FormData;D.append("id_company",(T=t==null?void 0:t.company)==null?void 0:T.id_company),r.lists&&D.append("ignore_id",r.lists),h(Q=>({...Q,lists:[]})),E&&D.append("search",E),q.post(F+"/api/get/list",D,{withCredentials:!0}).then(Q=>Q.data).then(Q=>{h(ae=>({...ae,lists:Q})),Z(!1)})}function Z(E){o(D=>({...D,lists:E}))}let U=0;function I(E){let D=E.target.value;clearTimeout(U),U=setTimeout(()=>{H(D)},250)}function $(){clearTimeout(U)}a.useEffect(()=>{l.lists&&H()},[l]),a.useEffect(()=>{var D;let E=new FormData;E.append("id_company",(D=t==null?void 0:t.company)==null?void 0:D.id_company),E.append("id_campaign",s.id),q.post(F+"/api/get/campaign",E,{withCredentials:!0}).then(T=>T.data).then(T=>{m(T)}).catch(T=>{})},[]),a.useEffect(()=>{r!=null&&r.id_template&&W()},[r]);function W(){var D;let E=new FormData;E.append("id_company",(D=t==null?void 0:t.company)==null?void 0:D.id_company),E.append("id_template",r==null?void 0:r.id_template),E.append("type","all"),q.post(F+"/api/get/templatejson",E,{withCredentials:!0}).then(T=>T.data).then(T=>{var Q;w((Q=T==null?void 0:T.json)==null?void 0:Q.msg)}).catch(T=>{O.error(String(T))})}function S(E){var T,Q;let D=E.target.value;if(D){let ae=new FormData;ae.append("id_list",D),ae.append("id_company",(T=t==null?void 0:t.company)==null?void 0:T.id_company),ae.append("id_campaign",s.id);let De=!1;if((Q=r==null?void 0:r.lists)!=null&&Q.length?r.lists.includes(D)||(De=!0,m(Ne=>({...Ne,lists:Ne.lists+","+D}))):(m(Ne=>({...Ne,lists:D})),De=!0),De){let Ne=A(E.target);Ne=Ne.parents(".result"),Ne.hide("x"),q.post(F+"/api/update/addlistcampaign",ae,{withCredentials:!0}).then(Ke=>Ke.data).then(Ke=>{Ke.status}).catch(Ke=>{})}}}function X(E){let D=E.target.value;if(D){let T=new FormData;T.append("id_campaign",r.id_campaign),T.append("id_list",D),T.append("id_company",t.company.id_company),q.post(F+"/api/delete/listscampaign",T,{withCredentials:!0}),m(Q=>{var ae;return{...Q,lists:(ae=Q==null?void 0:Q.lists)==null?void 0:ae.replace(","+D,"").replace(D,"")}})}}function Y(E){i(n),i(D=>({...D,[E]:!0}))}function ue(E){var T;Ee("sendCampaign",!0);let D=new FormData;D.append("id_company",(T=t==null?void 0:t.company)==null?void 0:T.id_company),D.append("id_campaign",s.id),q.post(F+"/api/send/campaign",D,{withCredentials:!0}).then(Q=>Q.data).then(Q=>{Ee("sendCampaign",!1),Q.status?O.success("Campaña enviada!"):O.error(Q.msg)}).catch(Q=>{Ee("sendCampaign",!1)})}function Oe(E){let D=E.target.name,T=E.target.value;u(Q=>({...Q,[D]:T}))}function Le(E){var Q;let D=A(E.target);D.addClass("await");let T=new FormData;T.append("affair",d.affair),T.append("id_company",(Q=t==null?void 0:t.company)==null?void 0:Q.id_company),T.append("id_campaign",r.id_campaign),q.post(F+"/api/update/setaffair",T,{withCredentials:!0}).then(ae=>ae.data).then(ae=>{D.removeClass("await"),ae.status&&(i(n),m(De=>({...De,affair:d.affair})))}).catch(ae=>{D.removeClass("await")})}function Ee(E,D){j(T=>({...T,[E]:D}))}function je(){var D;R(!0);let E=new FormData;E.append("id_company",(D=t==null?void 0:t.company)==null?void 0:D.id_company),E.append("id_campaign",s.id),q.post(F+"/api/delete/campaign",E,{withCredentials:!0}).then(T=>T.data).then(T=>{R(!1),T.status&&c("/campaigns")}).catch(T=>{R(!1)})}function Re(E){let D=E.target.value,T=E.target.name;if(T=="date"){const Q=new Date(D),ae=Q.getDate(),De=Q.getFullYear(),Ne=Q.getMonth()+1;_({...b,dd:ae,yy:De,mm:Ne})}else _({...b,[T]:D})}function Xe(){var D;let E=new FormData;P(!0),E.append("id_company",(D=t==null?void 0:t.company)==null?void 0:D.id_company),E.append("hh",b.hh?b.hh:"?"),E.append("dd",gs(b.dd)?gs(b.dd):"?"),E.append("yy",b.yy?b.yy:"?"),E.append("mm",b.mm?b.mm:"?"),E.append("ii",b.ii?b.ii:"?"),E.append("id_campaign",s.id),E.append("timeExpire",b==null?void 0:b.timeExpire),E.append("p_type",b==null?void 0:b.p_type),E.append("type","campaign"),q.post(F+"/api/update/programming",E,{withCredentials:!0}).then(T=>T.data).then(T=>{P(!1),T.status&&(L(!1),O.success("Campana programada con exito"))}).catch(T=>{P(!1)})}function $e(){var D;let E=new FormData;E.append("msg",N),E.append("id_campaign",s.id),E.append("id_company",(D=t==null?void 0:t.company)==null?void 0:D.id_company),E.append("type","sms"),r!=null&&r.id_template&&E.append("id_template",r==null?void 0:r.id_template),q.post(F+"/api/upload/bodycampaign",E,{withCredentials:!0}).then(T=>T.data).then(T=>{console.log(T),T.status&&O.success("Guardado con exito")}).catch(T=>{O.error(String(T))})}function Ye(){var D;let E=new FormData;E.append("id_campaign",r==null?void 0:r.id_campaign),E.append("id_company",(D=t==null?void 0:t.company)==null?void 0:D.id_company),q.post(F+"/api/update/pausecampaign",E,{withCredentials:!0}).then(T=>T.data).then(T=>{T.status&&m({...r,status:"prepare"})})}return a.useEffect(()=>{console.log(b)},[b]),e.jsxs(e.Fragment,{children:[e.jsx(se,{maxWidth:400,minWidth:400,visible:C,callback:B,buttonsActions:!1,children:e.jsx(_t,{Close:B,setCampaign:m,campaign:r})}),e.jsx(se,{visible:y,callback:L,width:"30%",onClick:Xe,maxWidth:"500px",next:"Programar",Pending:M,children:e.jsx(ys,{setFormProgamming:Re,campaign:r})},ys?"XD":"xd"),e.jsx(Se,{visible:g,callback:f,Pending:k,onClick:je,name:"campana"}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles de campaña"}),e.jsx("span",{children:'Gestiona tus campañas de manera eficiente y optimiza tus estrategias de marketing con nuestra función de "Detalles de Campaña".'})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:E=>{setModalWizard(!0)},children:e.jsx(Te,{})})})]}),e.jsxs("div",{className:"menu-top-right",children:[e.jsx("button",{className:"programming",onClick:E=>{L(!0)},children:"Programar"}),e.jsx("button",{className:"programming",onClick:E=>c("/campaigns/stats/"+(s==null?void 0:s.id)),children:"Estadisticas"}),e.jsx("button",{className:"programming",onClick:E=>{f(!0)},children:"Eliminar"}),e.jsxs("button",{className:`programming ${v.sendCampaign?"await":""}`,onClick:E=>{B(!0)},children:["Enviar Prueba ",e.jsx("div",{className:"loading"})]}),e.jsxs("button",{className:`send-campaign ${v.sendCampaign?"await":""}`,onClick:ue,children:["Enviar Campaña ",e.jsx("div",{className:"loading"})]})]}),e.jsxs("div",{className:"box steps",children:[e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:r.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{style:{position:"relative",top:"21px"},children:[e.jsx("p",{style:{display:"inline"},children:"Estatus:"}),e.jsx(Et,{style:{marginLeft:"9px",fontSize:"13px",position:"relative",top:"-1px"},PauseCampaign:Ye,status:r==null?void 0:r.status})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(Pe,{})}),e.jsxs("button",{children:[e.jsx(le,{})," "]})]})]}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top active",children:[e.jsx("div",{className:"check",children:e.jsx(we,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Crear Campaña"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top active",children:[e.jsx("div",{className:"check active",children:e.jsx(we,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Elegir Tipo"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{children:"Editar"})})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${r!=null&&r.lists?"active":""}`,children:[e.jsx("div",{className:"check",children:e.jsx(we,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Contactos"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"}),e.jsx("div",{className:"selects",children:((ze=r==null?void 0:r.lists)==null?void 0:ze.length)>=1?(Be=r==null?void 0:r.lists)==null?void 0:Be.split(",").map((E,D)=>e.jsx("div",{className:"select",children:e.jsxs("p",{children:["Lista: ",E," ",e.jsx("button",{className:"delete",onClick:X,value:E,children:e.jsx(ee,{})})]})})):""})]}),l.lists==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Buscar lista... (Solo obtendras las listas con contactos)"}),e.jsx("input",{type:"search",onKeyUp:I,onKeyDown:$,placeholder:"Buscar"})]}),e.jsxs("div",{className:"search-result",children:[p.lists.map((E,D)=>e.jsx("div",{className:"result",children:e.jsxs("div",{className:"info",children:[e.jsx("p",{children:E.name}),e.jsxs("span",{children:["Contactos: ",E.contacts]}),e.jsx("span",{children:"Agregado: 05/05/2022"}),e.jsx("button",{className:"select",onClick:S,value:E.id_list,children:e.jsx(ma,{})})]})},D)),x.lists?e.jsx(xe,{}):x.lists==!1&&p.lists.length==0?e.jsx(oe,{name:"listas"}):""]})]})}):e.jsx("div",{className:"right",children:e.jsx("button",{onClick:E=>{Y("lists")},children:"Editar"})})]})}),(r==null?void 0:r.type_c)=="em"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${r!=null&&r.sender?"active":""}`,children:[e.jsx("div",{className:"check",children:e.jsx(we,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Remitente"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{onClick:E=>{Y("body")},children:"Editar"})})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${r!=null&&r.affair?"active":""}`,children:[e.jsx("div",{className:"check",children:e.jsx(we,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Asunto"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),l.affair==!0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"form-input flex",children:[e.jsx("input",{type:"search",onChange:Oe,name:"affair",placeholder:"Asunto..."}),e.jsx("button",{onClick:Le,className:"save",children:"Guardar"})]})})}):e.jsx("div",{className:"right",children:e.jsx("button",{onClick:E=>{Y("affair")},children:"Editar"})})]})})]}):"",e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${r!=null&&r.template?"active":""}`,children:[e.jsx("div",{className:"check",children:e.jsx(we,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Plantilla"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),l.body==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[(r==null?void 0:r.type_c)=="em"?e.jsx(e.Fragment,{children:r!=null&&r.template?e.jsxs("div",{className:"preview-template",children:[e.jsx("p",{children:(Ve=r==null?void 0:r.template)==null?void 0:Ve.title}),e.jsxs("span",{children:["Plantilla creada:  ",ne((We=r==null?void 0:r.template)==null?void 0:We.time_add)]}),e.jsx("img",{src:os((Qe=t==null?void 0:t.company)==null?void 0:Qe.folder_sftp,(Ie=r==null?void 0:r.template)==null?void 0:Ie.preview_image),alt:""}),e.jsx("br",{}),e.jsx(z,{to:`/editor/canvas/${(He=r==null?void 0:r.template)==null?void 0:He.id_template}?campaign=`+s.id,children:"Editar plantilla"})]}):e.jsx(z,{to:"/editor/canvas/?campaign="+s.id,children:"Crear una plantilla"})}):"",(r==null?void 0:r.type_c)=="sms"?e.jsx(e.Fragment,{children:l.body==!0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsx("div",{className:"form-input flex",children:e.jsx(St,{value:N,onChange:w,onSave:$e})})})}):""}):""]})}):"",l.body==!1?e.jsx("div",{className:"right",children:e.jsx("button",{onClick:E=>{Y("body")},children:"Editar"})}):""]})})]})]})}function Dt({Visible:s,Close:t,Callback:c,loadLists:n}){const{UserInfo:l}=a.useContext(J),[i,p]=a.useState(0),[h,x]=a.useState([be()]),[o,r]=a.useState({type:"",name:""});K();function m(d){d.stopPropagation(),d.preventDefault();let u=A(d.target);u.parents(".options").find(".active").removeClass("active"),u.addClass("active");let g=u.attr("value");r(f=>({...f,type:g}))}function v(d){var f;let u=!1,g=A(d.target);if((i===0&&o.type=="em"||o.type=="sms")&&(u=!0),i==1&&o.type!==""&&o.name!==""){g.addClass("await");let y=new FormData;y.append("name",o.name),y.append("type_c",o.type),y.append("id_company",(f=l==null?void 0:l.company)==null?void 0:f.id_company),q.post(F+"/api/upload/list",y,{withCredentials:!0}).then(L=>L.data).then(L=>{L.status&&(t(!1),c(!0),n()),g.removeClass("await")}).catch(L=>{g.removeClass("await")})}u&&p(y=>y+1)}function j(d){let u=d.target.name,g=d.target.value;r(f=>({...f,[u]:g}))}return a.useEffect(()=>{A(".case.active").removeClass("active"),A(".case").eq(i).addClass("active")},[i]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[i>0?e.jsxs("button",{className:"return",onClick:d=>{p(u=>u-1)},children:[e.jsx(qe,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:d=>{t(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear una nueva lista"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de lista que te gustaría crear"})]}),e.jsxs("div",{className:"options flex",id:`options-${h[0]}`,children:[e.jsxs("div",{className:"selector",onClick:m,value:"em",children:[e.jsx("div",{className:"check",children:e.jsx(me,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"LISTA DE EMAIL"}),e.jsx("span",{children:"La lista de email es una herramienta que te permite administrar tus contactos de manera eficiente. Aquí podrás subir tus contactos para realizar envíos de correo electrónico de forma conveniente y efectiva."})]})]}),e.jsxs("div",{className:"selector",onClick:m,value:"sms",children:[e.jsx("div",{className:"check",children:e.jsx(me,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"LISTA TELEFONICA"}),e.jsx("span",{children:"Una lista de números es una herramienta que te permite gestionar y organizar de manera efectiva tus contactos telefónicos. Con ella, podrás enviar mensajes de texto rápidos y confiables a cualquier número, sin importar el país."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar Lista"}),e.jsx("span",{className:"desc",children:"Asignale un nombre a tu nueva lista."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de lista"}),e.jsx("input",{type:"text",name:"name",onChange:j,placeholder:"Nombre"})]})})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:"next",onClick:v,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function Pt({functions:s}){let{setSelectMultiple:t,selects:c,resetSelection:n,selectMultiple:l}=s;const i=K();function p(){c.length?i("/contacts/upload/"+JSON.stringify(c)):de.error("No has seleccionado ninguna lista")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top gl",children:[l?e.jsxs(e.Fragment,{children:[e.jsxs("button",{children:["Seleccionando (",c==null?void 0:c.length,")"]}),e.jsx("button",{onClick:p,children:"Subir Contactos"}),e.jsx("button",{onClick:n,children:"Cancelar"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:h=>{t(!0)},children:"Seleccionar Multiple"}),e.jsx("button",{onClick:h=>{i("/contacts/lists/email")},children:"Listas Email"}),e.jsx("button",{onClick:h=>{i("/contacts/lists/sms")},children:"Listas Mensajeria"}),e.jsx("button",{onClick:h=>{i("/contacts/lists/whatsapp")},children:"Listas Whatsapp"})]}),e.jsxs("div",{className:"search",children:[e.jsx("i",{children:e.jsx(pa,{})}),e.jsx("input",{type:"text",placeholder:"Buscar..."})]})]})})}function qt({type:s,lists:t}){const[c,n]=a.useState(!1),[l,i]=a.useState([]),[p,h]=a.useState(!1),x=K(),o=m=>{i(v=>v.includes(m)?v.filter(j=>j!==m):[...v,m])},r=()=>{i([]),n(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(Pt,{functions:{resetSelection:r,selects:l,selectMultiple:c,setSelectMultiple:n}}),e.jsx(Se,{visible:p,callback:h}),e.jsx("div",{className:"row",children:t.map((m,v)=>e.jsx("div",{className:"col-md-3 page-lists",children:e.jsx("div",{className:"box box-padding",children:e.jsxs("div",{className:"item flex-wrap",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/lists.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",title:m.name,children:st(m.name,15)}),e.jsxs("span",{className:"desc",children:["Creado el: ",ne(m.time_add)]}),e.jsx("br",{}),c&&e.jsx("input",{type:"checkbox",onChange:()=>o(m.id_list),checked:l.includes(m.id_list)})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:j=>{x("/contacts/detail/"+m.id_list)},children:e.jsx(ke,{})}),e.jsx("button",{onClick:j=>{h(!0)},children:e.jsx(ee,{})})]})]})})},v))})]})}function Cs(){const[s,t]=a.useState(),[c,n]=a.useState([]),[l,i]=a.useState(!1),{UserInfo:p}=a.useContext(J),h=ie(),x=K();function o(m){m&&t(!1)}function r(){var v;let m=new FormData;m.append("id_company",(v=p==null?void 0:p.company)==null?void 0:v.id_company),m.append("type",h==null?void 0:h.type),i(!0),n([]),q.post(F+"/api/get/list",m,{withCredentials:!0}).then(j=>j.data).then(j=>{n(j),i(!1)})}return a.useEffect(()=>{r()},[h==null?void 0:h.type]),e.jsxs(e.Fragment,{children:[e.jsx(Dt,{Visible:s,Close:t,Callback:o,loadLists:r}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Listas"}),e.jsx("span",{children:"Estas son tus listas de contactos, puedes subir contactos rapidamente creando una lista y seleccionando tu archivo csv"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:m=>{t(!0)},children:"Crear nueva lista"})})]}),h.type==null?e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsx("div",{className:"box select-list",children:e.jsxs("div",{className:"top",children:[e.jsx("img",{src:"/img/icons/email_list.png",alt:""}),e.jsx("span",{children:"Listas Correos"}),e.jsx("button",{onClick:m=>{x("/contacts/lists/em")},children:"Ir"})]})})}),e.jsx("div",{className:"col-md-3",children:e.jsx("div",{className:"box select-list",children:e.jsxs("div",{className:"top",children:[e.jsx("img",{src:"/img/icons/message_list.png",alt:""}),e.jsx("span",{children:"Listas Telefonicas"}),e.jsx("button",{onClick:m=>{x("/contacts/lists/sms")},children:"Ir"})]})})})]}):e.jsx(qt,{lists:c,type:h==null?void 0:h.type})]})}function Tt({Status:s}){return e.jsx(e.Fragment,{children:s=="wait"?e.jsxs("span",{className:"wait-list",children:[e.jsx(ha,{})," Subiendo..."]}):s=="ready"?e.jsxs("span",{className:"ready-list",children:[e.jsx(me,{}),"  Activa"]}):s=="error"?e.jsxs("span",{className:"error-list",children:[e.jsx(xa,{})," Error"]}):e.jsxs("span",{className:"setting-list",children:[e.jsx(Ps,{})," En espera..."]})})}function Lt(){const{UserInfo:s}=a.useContext(J),t=ie(),[c,n]=a.useState({}),l=K();return a.useState(!1),a.useState(!0),a.useEffect(()=>{var p;let i=new FormData;i.append("id_list",t.id),i.append("id_company",(p=s==null?void 0:s.company)==null?void 0:p.id_company),q.post(F+"/api/get/list",i,{withCredentials:!0}).then(h=>h.data).then(h=>{n(h)})},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles de lista"}),e.jsx("span",{children:"Ve los detalle de tus listas y ve si estan listas para ser utilizadas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:i=>{l("/contacts/lists")},children:e.jsx(Te,{})})})]}),e.jsx("div",{className:"menu-top-right",children:e.jsx("button",{className:"programming",onClick:i=>{l("/contacts/lists/logs/"+t.id)},children:"Logs"})}),e.jsxs("div",{className:"box steps",children:[e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:c.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Contactos"}),e.jsx("span",{children:c.contacts})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Tipo"}),e.jsx("span",{children:c.type})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Estatus"}),e.jsx(Tt,{Status:c.status})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(fe,{})}),e.jsx("button",{onClick:i=>{l("/contacts/upload/"+t.id)},children:e.jsx(ge,{})}),e.jsx("button",{children:e.jsx(ee,{})})]})]}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"check active",children:e.jsx(we,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Crear Lista"}),e.jsx("span",{className:"desc approve",children:e.jsx("span",{className:"ready-list",children:"Completado !"})})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"check active",children:e.jsx(we,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Elegir Tipo"}),e.jsx("span",{className:"desc approve",children:e.jsx("span",{className:"ready-list",children:"Completado !"})})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:`check ${c.contacts>0?"active":""}`,children:e.jsx(we,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Subir Contactos"}),e.jsx("span",{className:"desc",children:c.contacts==0?e.jsx("span",{className:"wait-list",children:"Pendiente"}):e.jsx("span",{className:"ready-list",children:"Completado !"})})]}),e.jsx("div",{className:"right",children:e.jsx("button",{onClick:i=>{l("/contacts/upload/"+t.id)},children:"Subir"})})]})})]})]})}function Rt({Visible:s,Close:t,Callback:c}){var P;const{UserInfo:n}=a.useContext(J),[l,i]=a.useState(0),[p,h]=a.useState([be()]),[x,o]=a.useState({type:"",file:{}}),r={analize:!1,percentAnalize:"0",approve:!1},[m,v]=a.useState(r),[j,d]=a.useState(!1);let u=A("input[type='file']");const g=K(),f=ie();function y(N){N.stopPropagation(),N.preventDefault();let w=A(N.target);w.parents(".options").find(".active").removeClass("active"),w.addClass("active");let C=w.attr("value");o(B=>({...B,type:C}))}function L(N){var C;let w=!1;switch(A(N.target),(l===0&&x.type=="auto"||x.type=="manu")&&(w=!0),x.type){case"auto":l==1&&((C=x==null?void 0:x.file)==null?void 0:C.name)!==void 0&&_();break}w&&i(B=>B+1)}a.useEffect(()=>{A(".case.active").removeClass("active"),A(".case").eq(l).addClass("active")},[l]);function k(){document.querySelector("input[type='file']").click()}function R(N){v(w=>({...w,percentAnalize:N}))}function b(N){v(w=>({...w,analize:!0})),Ya(N,R).then(w=>{console.log(w),w.analize=="good"&&(v(C=>({...C,approve:!0})),o(C=>({...C,file:w.file})))}).catch(w=>{M(),O.error("Opps! el archivo que intentastes subir no es compatible o tiene algun error."),v(C=>({...C,analize:!1,percentAnalize:0}))})}function _(){var w;d(!0);let N=new FormData;N.append("id_list",f.id),N.append("contacts",x.file),N.append("id_company",(w=n==null?void 0:n.company)==null?void 0:w.id_company),q.post(F+"/api/upload/contacts",N,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}).then(C=>C.data).then(C=>{d(!1),C.status?g("/contacts/detail/"+f.id):O.error(C.msg)}).catch(C=>{d(!1)})}function M(){o(N=>({...N,file:{}})),v(r),u.val("")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[l>0?e.jsxs("button",{className:"return",onClick:N=>{i(w=>w-1)},children:[e.jsx(qe,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:N=>{g("/contacts/detail/"+f.id)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Subir nuevos contactos"}),e.jsx("span",{className:"desc",children:"Selecciona de que manera quieres subir los contactos"})]}),e.jsxs("div",{className:"options flex",id:`options-${p[0]}`,children:[e.jsxs("div",{className:"selector",onClick:y,value:"manu",children:[e.jsx("div",{className:"check",children:e.jsx(me,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"SUBIR MANUALMENTE"}),e.jsx("span",{children:"Agrega tus contactos de forma rápida y sencilla, uno por uno, rellenando los campos de manera dinámica. Con solo unos pocos clics, podrás tener tus contactos listos para comunicarte con ellos de manera personalizada."})]})]}),e.jsxs("div",{className:"selector",onClick:y,value:"auto",children:[e.jsx("div",{className:"check",children:e.jsx(me,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"SUBIR MEDIANTE ARCHIVO"}),e.jsx("span",{children:"Importa tus contactos de manera rápida y eficiente mediante un archivo. Solo necesitas preparar un archivo en formato (.csv o .txt) con los detalles de tus contactos y nuestro sistema se encargará de procesarlo y añadirlos a tu lista en un instante."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Subir Archivo"}),e.jsx("span",{className:"desc",children:"Sube tu archivo rapidamente para procesarlo en tu lista de contactos."})]}),m.approve==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"file-adjunt",children:[e.jsx("i",{className:"icon",children:e.jsx(ua,{})}),e.jsxs("div",{className:"file",children:[e.jsx("p",{children:(P=x==null?void 0:x.file)==null?void 0:P.name}),e.jsxs("div",{className:"info",children:[e.jsxs("span",{children:["Tipo de archivo: ",x.file.type]}),e.jsxs("span",{children:["Peso: ",x.file.size," kb"]})]}),e.jsx("button",{className:"delete",onClick:M,children:e.jsx(ee,{})})]})]})}):e.jsxs("div",{className:"upload-contact",children:[e.jsx("input",{type:"file",accept:".csv,.txt",onChange:b,hidden:!0}),m.analize==!0?e.jsx(e.Fragment,{children:e.jsxs("p",{children:["Estamos analizando tu archivo... ",m.percentAnalize,"%"]})}):e.jsx("center",{children:e.jsxs("div",{className:"select-upload",onClick:k,children:[e.jsx("i",{className:"icon",children:e.jsx(ja,{})}),e.jsx("p",{children:"Selecciona tu archivo de contactos"})]})})]})]}),e.jsx("div",{className:"actions center",children:e.jsxs("button",{className:`next ${j==!0?"await":""}`,onClick:L,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function Mt(){return e.jsx(e.Fragment,{children:e.jsx(Rt,{Visible:!0})})}function bs(){const[s,t]=a.useState(!0),[c,n]=a.useState(!1),[l,i]=a.useState({save:!1,campaign:!1}),[p,h]=a.useState({results:[],loadingTemplate:!1}),[x,o]=a.useState(!1),[r,m]=a.useState({}),[v,j]=a.useState(""),[d,u]=a.useState(!1),{UserInfo:g}=a.useContext(J),f=ie(),[y,L]=a.useState();let k=["Cargando editor...","Nos tardaremos un poco","Que tal tu dia?","Vamos! con mucha imaginacion.","Ahora es un buen momento!","Un poco mas...","Ya casi!","Había una vez!"];const R=K();function b($,W){var S=document.createElement("script");S.src=$,S.onload=W,document.head.appendChild(S)}a.useEffect(()=>{n(!0),c&&(b("//editor.unlayer.com/embed.js",function($){console.log($)}),b("/draganddrop/dist/js/body.js",function($){console.log($),setTimeout(()=>{t(!1)},3500)}))},[c]);function _(){unlayer.exportHtml(async function($){var W;if(v==""||v==null)O.error("Opps debes definir un titulo primero"),o(!0);else{P("save",!0);let S=new FormData,X=await N().then(Y=>Y);S.append("preview",X),S.append("title",v),S.append("html",$.html),S.append("json",JSON.stringify($.design)),S.append("id_company",(W=g==null?void 0:g.company)==null?void 0:W.id_company),S.append("type","email"),f.id&&S.append("id_template",f.id),q.post(F+"/api/upload/bodycampaign",S,{withCredentials:!0}).then(Y=>Y.data).then(Y=>{Y.status&&f.id==null&&R(`/editor/canvas/${Y.id_body}`),P("save",!1)}).catch(Y=>{P("save",!1)})}})}function M(){n(!0),A("#editor").html(""),R("/editor/canvas")}function P($,W){i(S=>({...S,[$]:W}))}async function N(){return new Promise(($,W)=>{let S=document.querySelector(".preview-template");try{unlayer.exportHtml(X=>{S.innerHTML=X.html,S.innerHTML&&as(S,{allowTaint:!1,useCORS:!0}).then(Y=>{let ue=Y.toDataURL("image/png");$(ue)})})}catch(X){W(X)}})}function w(){var W;let $=new FormData;$.append("id_company",(W=g==null?void 0:g.company)==null?void 0:W.id_company),q.post(F+"/api/get/templatesall",$,{withCredentials:!0}).then(S=>S.data).then(S=>{h(X=>({...X,results:S}))}).catch(S=>{})}function C(){u(!0)}function B($){var S;let W=new FormData;W.append("id_company",(S=g==null?void 0:g.company)==null?void 0:S.id_company),W.append("id_campaign",$),q.post(F+"/api/get/campaign",W,{withCredentials:!0}).then(X=>X.data).then(X=>{X&&m(X)})}a.useEffect(()=>{let W=new URLSearchParams(window.location.search).get("campaign");W&&B(W),w();let S=0;L(k[0]),setInterval(()=>{let X=k.length;S=S+1,L(k[S-1]),S>=X&&(S=0)},4500)},[]),a.useEffect(()=>{var $;if(f.id){let W=new FormData;t(!0),W.append("id_template",f.id),W.append("id_company",($=g==null?void 0:g.company)==null?void 0:$.id_company),q.post(F+"/api/get/templatejson",W,{withCredentials:!0}).then(S=>S.data).then(S=>{t(!1),S.json?unlayer.loadDesign(JSON.parse(S.json)):O.error("Error al cargar la template")}).catch(S=>{t(!1)})}},[f==null?void 0:f.id]);function H($){j($.target.value)}function Z($){R(`/editor/canvas/${$}${r!=null&&r.id_campaign?"?campaign="+r.id_campaign:""}`)}function U(){var W;P("campaign",!0);let $=new FormData;$.append("id_campaign",r.id_campaign),$.append("id_company",(W=g==null?void 0:g.company)==null?void 0:W.id_company),$.append("id_template",f.id),q.post(F+"/api/update/settemplate",$,{withCredentials:!0}).then(S=>S.data).then(S=>{P("campaign",!1),S.status&&(O.success(S.msg),m(X=>({...X,id_template:f.id})))}).catch(S=>{P("campaign",!1)})}function I(){var W;let $=new FormData;$.append("id_campaign",r.id_campaign),$.append("id_company",(W=g==null?void 0:g.company)==null?void 0:W.id_company),m(S=>({...S,id_template:""})),q.post(F+"/api/delete/settemplate",$,{withCredentials:!0}).then(S=>S.data).then(S=>{})}return e.jsxs(e.Fragment,{children:[s?e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:[y," ",e.jsx("div",{className:"loading"})]})]})})}):"",e.jsxs(se,{visible:x,onClick:$=>{o(!1)},next:"Asignar",callback:o,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Elige un titulo"})}),e.jsx("br",{}),e.jsx("div",{className:"content",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Esto te ayudara a identificar tu plantilla"}),e.jsx("input",{type:"text",placeholder:"Titulo de template",onChange:H})]})}),e.jsx("br",{})]}),e.jsxs(se,{visible:d,minWidth:"50%",buttonSave:!1,maxWidth:"150px",callback:u,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Mis Plantillas"})}),e.jsx("br",{}),e.jsxs("div",{className:"content row",children:[p.results.map(($,W)=>{var S;return e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"template",onClick:X=>{Z($.id_template)},children:[e.jsx("p",{children:$.title}),e.jsxs("span",{children:["Agregada: ",ne($.time_add)]}),e.jsx("img",{src:os((S=g==null?void 0:g.company)==null?void 0:S.folder_sftp,$.preview_image)})]})},W)}),p.loadingTemplate==!1&&p.results.length==0?e.jsx(oe,{name:"plantillas"}):""]})]}),e.jsxs("div",{className:"editor-canvas",children:[e.jsx("header",{children:e.jsx("link",{href:"/draganddrop/dist/css/style.css",rel:"stylesheet",type:"text/css"})}),e.jsxs("div",{className:"topnav1",children:[e.jsxs("div",{className:"buttons",children:[e.jsxs("button",{style:{background:"transparent"},onClick:$=>{R("/home")},children:[e.jsx(Te,{})," Volver"]}),r.name?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"campaign",children:[e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""}),e.jsx("p",{children:r==null?void 0:r.name}),e.jsx("span",{children:"Campaña seleccionada"})]}),r.id_template!==f.id?e.jsxs("button",{className:`${l.campaign==!0?"await":""}`,onClick:U,children:[e.jsx(va,{})," Usar Plantilla",e.jsx("div",{className:"loading"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"use",children:"Utilizando plantilla"}),e.jsx("button",{onClick:I,children:e.jsx(ee,{})})]})]}):""]}),e.jsxs("div",{className:"buttons right",children:[e.jsxs("button",{className:`${l.save==!0?"await":""}`,onClick:_,children:[f.id?e.jsxs(e.Fragment,{children:[e.jsx(Pe,{})," Editar"]}):e.jsxs(e.Fragment,{children:[" ",e.jsx(ga,{})," Guardar"]}),e.jsx("div",{className:"loading"})]}),e.jsxs("button",{onClick:C,children:[e.jsx(ge,{})," Cargar plantilla"]}),e.jsxs("button",{onClick:M,children:[e.jsx(fa,{})," Nuevo"]}),e.jsx("button",{onClick:C,children:e.jsx(Na,{})})]})]}),e.jsx("div",{className:"preview-template"}),e.jsx("div",{id:"editor"})]})]})}function At(){const s=K(),[t,c]=a.useState([]),[n,l]=a.useState(!0),[i,p]=a.useState({id_delete:void 0,pending:!1}),[h,x]=a.useState(!1);Fe();const{UserInfo:o}=a.useContext(J);function r(){var j;l(!0);let v=new FormData;v.append("id_company",(j=o==null?void 0:o.company)==null?void 0:j.id_company),q.post(F+"/api/get/surveys",v,{withCredentials:!0}).then(d=>d.data).then(d=>{c(d),l(!1)}).catch(d=>{l(!1),O.error(String(d))})}a.useEffect(()=>{n&&r()},[]);function m(){var j;p(d=>({...d,pending:!0}));let v=new FormData;v.append("id_company",(j=o==null?void 0:o.company)==null?void 0:j.id_company),v.append("id_survey",i.id_delete),q.post(F+"/api/delete/survey",v,{withCredentials:!0}).then(d=>d.data).then(d=>{x(!1),d.status&&r(),p(u=>({...u,pending:!1}))}).catch(d=>{p(u=>({...u,pending:!1}))})}return e.jsxs(e.Fragment,{children:[e.jsx(Se,{visible:h,Pending:i.pending,onClick:m,callback:x}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis encuestas"}),e.jsx("span",{children:"Gestiona tus encuestas rapidamente y optimiza tus estrategias"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:v=>{s("/surveys/editor")},children:"Crear nueva encuesta"})})]}),e.jsxs("div",{className:"row",children:[n==!1?t.map((v,j)=>{var d;return e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${F}/api/get/previewsurvey?miniature=${v.miniature})`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{onClick:u=>{x(!0),p(g=>({...g,id_delete:v.id_survey}))},children:e.jsx(ee,{})}),e.jsx("button",{onClick:u=>{s("/surveys/editor/"+v.id_survey)},children:e.jsx(Pe,{})}),e.jsx("button",{onClick:u=>{s(`/stats/survey/${v.id_survey}`)},children:e.jsx(fe,{})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:(d=v==null?void 0:v.header)==null?void 0:d.title}),e.jsxs("span",{children:["Encuesta agregada el: ",ne(v.time_add)]})]})]})},j)}):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(xe,{})})}),n==!1&&t.length==0?e.jsx(oe,{name:"encuestas"}):""]})]})}function Ot({header:s,value:t,keyid:c,setModalImage:n,page:l,setEdit:i,setJson:p}){var j;function h(d,u,g){x(g),i({type:d,key:u,page:l})}function x(d){let u=A(d.target).parents(".question");A(".question.active").removeClass("active"),u.addClass("active")}function o(d){let u=d.target.value;p(g=>{let f=[...g];return f[l].quests[c].type=u,f})}function r(d){x(d),d.stopPropagation(),i({});let u=!0;p(g=>{const f=[...g];return u&&(f[l].quests[c].questions.push({}),u=!1),f})}function m(d,u){d.stopPropagation();let g=!0;p(f=>{var L;let y=[...f];if(g&&(L=y[l])!=null&&L.quests[c]){let k=[];y[l].quests[c].questions.forEach((R,b)=>{b!==u?k.push(R):g=!1}),y[l].quests[c].questions=k}return y})}function v(d){d.stopPropagation();let u=!0;p(g=>{let f=[...g],y=[];return f[l].quests.forEach((L,k)=>{k!==c&&y.push(L)}),u&&(f[l].quests=y,u=!1),f})}return A(document).on("click",".options button",function(d){d.stopImmediatePropagation(),A(".edit-active").removeClass("edit-active"),A(this).parents(".options").parents(".quest").addClass("edit-active")}),A(document).on("click",".top p, .top span",function(d){d.stopImmediatePropagation(),A(".edit-active").removeClass("edit-active"),A(this).addClass("edit-active")}),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"question edit",colorBox:s.colorBox,style:{borderRadius:s.borderRadius+"px"},children:[e.jsx("button",{className:"delete-question",onClick:d=>{v(d),i({})},children:e.jsx(ee,{})}),e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",onClick:d=>{h("title",c,d)},children:t!=null&&t.title?t.title:"Elige un titulo..."}),e.jsx("span",{onClick:d=>{h("desc",c,d)},children:t!=null&&t.desc?t.desc:"Elige una descripcion... (opcional)"})]}),t!=null&&t.img?e.jsx("img",{className:"img-quest",src:t.img}):"",e.jsxs("div",{className:"select-types",children:[e.jsx("button",{onClick:r,className:"add-quest",children:"Agregar pregunta"}),e.jsx("button",{onClick:d=>{n(!0),i({key:c,type:"add-image",page:l})},children:e.jsx(ya,{})}),e.jsxs("select",{onChange:o,children:[e.jsx("option",{value:"input",children:"Respuesta corta"}),e.jsx("option",{value:"input-large",children:"Respuesta larga"}),e.jsx("option",{value:"radio",children:"Opcion multiple"}),e.jsx("option",{value:"check",children:"Casillas de verificacion"})]})]}),(j=t==null?void 0:t.questions)==null?void 0:j.map((d,u)=>e.jsxs("div",{className:"quest",children:[t.type=="input"?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",disabled:!0,placeholder:`${d.title?d.title:"Elige una descripcion"}`}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:g=>{m(g,u)},children:e.jsx(ee,{})}),e.jsx("button",{onClick:g=>{i({key:c,type:"title-quest",quest_key:u,page:l})},children:e.jsx(Pe,{})})]})]}):"",t.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:c})," ",e.jsx("span",{children:d.title?d.title:"Elige una descripcion..."}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:g=>{m(g,u)},children:e.jsx(ee,{})}),e.jsx("button",{onClick:g=>{i({key:c,type:"title-quest",quest_key:u,page:l})},children:e.jsx(Pe,{})})]})]}):"",t.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:c})," ",e.jsx("span",{children:d.title?d.title:"Elige una descripcion..."}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:g=>{m(g,u)},children:e.jsx(ee,{})}),e.jsx("button",{onClick:g=>{i({key:c,type:"title-quest",quest_key:u,page:l})},children:e.jsx(Pe,{})})]})]}):"",t.type=="input-large"?e.jsxs(e.Fragment,{children:[e.jsx("textarea",{type:"checkbox",name:c,placeholder:d.title,style:{width:"100%"}}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:g=>{m(g,u)},children:e.jsx(ee,{})}),e.jsx("button",{onClick:g=>{i({key:c,type:"title-quest",quest_key:u,page:l})},children:e.jsx(Pe,{})})]})]}):""]},u))]})})}function $t({json:s=[],header:t={},setJson:c,setEdit:n,edit:l}){var L,k;const[i,p]=a.useState(!1),[h,x]=a.useState(!1);a.useState([]);const[o,r]=a.useState("email"),[m,v]=a.useState({width:"",left:""});K();function j(){c(R=>[...R,{quests:[{title:"",desc:"",type:"radio",questions:[]}]}])}function d(R){let b=!0;c(_=>{var N;let M=[..._],P=(N=M[R])==null?void 0:N.quests;return b&&(M[R].quests=[...P,{title:"",desc:"",type:"radio",img:"",questions:[]}],b=!1),M})}function u(R){c(b=>{let _=[...b],M=[];return _.forEach((P,N)=>{N!==R&&(console.log(R===N),M.push(P))}),_=M,_})}function g(){let R=document.querySelector("#image-edit").value;c(b=>{let _=[...b];return _[l.page].quests[l.key].img=R,_}),p(!1)}function f(){window.localStorage.setItem("surveyPreview",JSON.stringify(s)),window.localStorage.setItem("surveyPreviewHead",JSON.stringify(t)),window.open("/surveys/preview","_blank")}function y(R){let b=R.target.value;r(b),v(_=>({..._,width:R.target.offsetWidth,left:R.target.offsetLeft}))}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{onClick:f,children:[e.jsx(ke,{})," Previsualizar"]}),e.jsxs("button",{onClick:R=>{x(!0)},children:[e.jsx(Je,{})," Enviar"]})]})}),e.jsxs(se,{visible:h,minWidth:"35%",callback:x,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enviar"}),e.jsx("span",{children:"Tienes distintas opciones para enviar esta encuesta"})]}),t.short_link==null?e.jsx("span",{className:"alert-save",children:"Opps! aun no puedes usar esta funcion no has guardado la encuesta."}):"",e.jsx("div",{className:"menu-change",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("span",{children:"Enviar por"})}),e.jsx("li",{children:e.jsx("button",{className:`${o=="email"?"active":""}`,onClick:y,value:"email",children:e.jsx(Ca,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${o=="link"?"active":""}`,onClick:y,value:"link",children:e.jsx(ba,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${o=="embed"?"active":""}`,onClick:y,value:"embed",children:e.jsx(wa,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${o=="settings"?"active":""}`,onClick:y,value:"settings",children:e.jsx(Ps,{})})}),e.jsx("div",{className:"hover",style:{left:m.left+"px",width:m.width+"px"}})]})}),e.jsxs("div",{className:`result-menu ${t.short_link==null?"disabled":""} ${o=="email"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo electronico"}),e.jsx("input",{type:"text",placeholder:"contactos"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Asunto"}),e.jsx("input",{type:"text",placeholder:"informacion de contacto"})]})]}),e.jsxs("div",{className:`result-menu ${t.short_link==null?"disabled":""} ${o=="link"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Enlace"}),e.jsx("input",{type:"text",placeholder:"contactos",value:`${Ue}/survey/${t.token}`,disabled:!0})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Enlace Corto"}),e.jsx("input",{type:"text",placeholder:"url corta",value:t.short_link,disabled:!0})]})]}),e.jsx("div",{className:`result-menu ${t.short_link==null?"disabled":""} ${o=="embed"?"show":""}`,children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Incorporar HTML"}),e.jsx("input",{type:"text",placeholder:"contactos"})]})}),e.jsxs("div",{className:`result-menu ${t.short_link==null?"disabled":""} ${o=="settings"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Condicion de respuesta "}),e.jsxs("select",{name:"",id:"",children:[e.jsx("option",{value:"",children:"Responder varias veces"}),e.jsx("option",{value:"",children:"Responder solo una vez"})]})]}),e.jsx("div",{className:"form-input"})]})]}),e.jsxs(se,{visible:i,callback:p,onClick:g,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Url de imagen"}),e.jsx("span",{children:"Ingresa la url de la imagen que quieres integrar en tu pregunta"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",id:"image-edit",placeholder:"https://image.com/image.png"})})]}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${t.blur}px)brightness(${t.brightness})`,background:t.background2}}),e.jsxs("div",{className:"survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(L=t==null?void 0:t.logo)!=null&&L.length?e.jsx("img",{className:"logo",src:t==null?void 0:t.logo}):"",(k=t==null?void 0:t.title)!=null&&k.length?e.jsx("p",{className:"",children:t.title}):""]})}),s==null?void 0:s.map((R,b)=>{var _;return e.jsxs("div",{className:"page",children:[e.jsxs("div",{className:"info-page",children:[e.jsxs("p",{children:["Pagina ",b+1]}),e.jsx("button",{className:"delete",onClick:M=>{u(b)},children:e.jsx(ee,{})})]}),(_=R.quests)==null?void 0:_.map((M,P)=>e.jsx(Ot,{header:t,setModalImage:p,value:M,page:b,keyid:P,setEdit:n,setJson:c},P)),e.jsxs("button",{className:"add-new",onClick:M=>{d(b)},children:[e.jsx(Me,{})," Nueva pregunta"]})]},b)}),e.jsxs("div",{className:"add-new",onClick:j,children:[e.jsx(Me,{})," Nueva pagina"]})]})]})}function zt({setHeader:s,header:t,json:c}){const[n,l]=a.useState(!1),{UserInfo:i}=a.useContext(J);a.useState();function p(x){let o=x.target.value,r=x.target.name;r=="background"&&(o.indexOf("http")>=0||o.indexOf("www")>=0)&&(o=`url(${o})`),s(m=>({...m,[r]:o}))}async function h(){var o;let x=new FormData;if(t.id_survey&&x.append("id_survey",t.id_survey),x.append("header",JSON.stringify(t)),x.append("id_company",(o=i==null?void 0:i.company)==null?void 0:o.id_company),x.append("json",JSON.stringify(c)),t.title)if(c.length>=1){let r=await new Promise((m,v)=>{as(document.querySelector(".center"),{allowTaint:!1,useCORS:!0}).then(j=>{let d=j.toDataURL("image/png");m(d)})});r&&x.append("miniature",r.replace("data:image/png;base64,","")),l(!0),q.post(F+"/api/upload/survey",x,{withCredentials:!0}).then(m=>m.data).then(m=>{m.status&&(m.id_survey&&(t.id_survey||s(v=>({...v,id_survey:m.id_survey}))),m.token&&s(v=>({...v,token:m.token})),m.short_link&&s(v=>({...v,short_link:m.short_link}))),l(!1)}).catch(m=>{l(!1)})}else O.error("Opps no has agregado una pregunta.");else O.error("Opps no has elegido un titulo")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar encuesta"}),e.jsx("span",{children:"Personaliza tu encuesta, imagen, fondo, titulo y logo."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Titulo"}),e.jsx("input",{type:"text",onChange:p,defaultValue:t.title,name:"title",placeholder:"Ej: Encuesta de fidelidad"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Ingresa url de tu logo"}),e.jsx("input",{type:"text",onChange:p,defaultValue:t.logo,name:"logo"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",onChange:p,defaultValue:t.background,name:"background"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",defaultValue:0,step:"0.1",max:"10",value:t.blur,onChange:p,name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",defaultValue:1,step:"0.0",max:"1",value:t.brightness,onChange:p,name:"brightness"})]}),e.jsx("br",{}),e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar Cajas"}),e.jsx("span",{children:"Personaliza de tu manera preferida tus cajas."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border Radius"}),e.jsx("input",{type:"range",defaultValue:.1,step:"0.1",max:"20",onChange:p,name:"borderRadius"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{onClick:x=>{p(x)},name:"colorBox",value:"ligth",children:"Modo Claro"}),e.jsx("button",{onClick:x=>{p(x)},name:"colorBox",value:"dark",children:"Modo Oscuro"}),e.jsx("button",{onClick:x=>{p(x)},name:"colorBox",value:"transparent",children:"Transparente"})]})]}),e.jsx("div",{className:"option",children:e.jsxs("button",{className:`save ${n?"await":""}`,onClick:h,children:["Guardar ",e.jsx("div",{className:"loading"})]})})]})}function Bt({value:s,page:t,setJson:c,keyid:n}){function l(i){let p=i.target.value;c(h=>{const x=[...h];return x[t].quests[n].title=p,x[t].quests[n].response=0,x})}return a.useEffect(()=>{s!=null&&s.title&&(console.log("ok"),document.querySelector("#title-edit").value=s.title)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo de pregunta"}),e.jsx("input",{id:"title-edit",onChange:l,type:"text",placeholder:"Ej: Como te llamas?"})]})})})}function Vt({page:s,value:t,setJson:c,keyid:n}){function l(i){let p=i.target.value;c(h=>{const x=[...h];return x[s].quests[n].desc=p,x})}return a.useEffect(()=>{t!=null&&t.desc&&(console.log("ok"),document.querySelector("#title-edit").value=t.desc)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descripcion de pregunta"}),e.jsx("input",{id:"title-edit",onChange:l,type:"text",placeholder:"Ej: Tu nombre es importante por que..."})]})})})}function Wt({quest_key:s,page:t,value:c,setJson:n,keyid:l}){function i(p){p.stopPropagation();let h=p.target.value;n(x=>{let o=[...x];return o[t].quests[l].questions[s].title=h,o})}return a.useEffect(()=>{console.log(c)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo de pregunta"}),e.jsx("input",{id:"title-edit",onChange:i,type:"text",placeholder:"Ej: Como te llamas?"})]})})})}function Qt({edit:s,json:t,setJson:c}){var n;return e.jsxs(e.Fragment,{children:[s.type=="title"?e.jsx(Bt,{page:s.page,value:t[s.key],setJson:c,keyid:s.key},s.key):"",s.type=="desc"?e.jsx(Vt,{page:s.page,value:t[s.key],setJson:c,keyid:s.key},s.key):"",s.type=="title-quest"?e.jsx(Wt,{page:s.page,quest_key:s.quest_key,value:(n=t[s.page].quests[s.key])==null?void 0:n.questions[s.quest_key],setJson:c,keyid:s.key},s.key):""]})}function ws(){const[s,t]=a.useState({title:"",logo:"",background:"",blur:"0.5",brightness:""}),[c,n]=a.useState([]),[l,i]=a.useState({type:"",key:"",quest_key:"",page:""}),{UserInfo:p}=a.useContext(J),h=ie(),[x,o]=a.useState(!0);function r(){var v;o(!0);let m=new FormData;m.append("id_survey",h.idsurvey),m.append("id_company",(v=p==null?void 0:p.company)==null?void 0:v.id_company),q.post(F+"/api/get/surveys",m,{withCredentials:!0}).then(j=>j.data).then(j=>{o(!1),j.header&&t(JSON.parse(j.header)),j.json&&n(JSON.parse(j.json))}).catch(j=>{o(!1),O.error(String(j))})}return a.useEffect(()=>{h.idsurvey?r():setTimeout(()=>{o(!1)},1e3)},[]),e.jsxs(e.Fragment,{children:[x?e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:["Cargando... ",e.jsx("div",{className:"loading"})]})]})}):"",e.jsx("div",{className:"editor-surveys",children:e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:"left",children:e.jsx(zt,{setHeader:t,header:s,json:c})}),e.jsx("div",{className:"center",style:{background:s.background},children:e.jsx($t,{json:c,header:s,edit:l,setJson:n,setEdit:i})}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"type-editor",children:e.jsx(Qt,{edit:l,setJson:n,json:c,header:s})})})]})})]})}function ks(){var r,m,v,j;const[s,t]=a.useState([]),[c,n]=a.useState(0),[l,i]=a.useState({}),[p,h]=a.useState(0);a.useEffect(()=>{t(JSON.parse(window.localStorage.getItem("surveyPreview"))),i(JSON.parse(window.localStorage.getItem("surveyPreviewHead")))},[]),a.useEffect(()=>{s.length&&n(s.length)},[s]);function x(){h(d=>d+1)}function o(){h(d=>d-1)}return e.jsxs("div",{className:"survey real",colorBox:l==null?void 0:l.colorBox,style:{background:l==null?void 0:l.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${l.blur}px)brightness(${l.brightness})`}}),e.jsxs("div",{className:"margin-survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(r=l==null?void 0:l.logo)!=null&&r.length?e.jsx("img",{className:"logo",src:l==null?void 0:l.logo}):"",(m=l==null?void 0:l.title)!=null&&m.length?e.jsx("p",{className:"",children:l.title}):""]})}),(j=(v=s[p])==null?void 0:v.quests)==null?void 0:j.map((d,u)=>{var g;return e.jsxs("div",{className:"question",style:{borderRadius:(l==null?void 0:l.borderRadius)+"px"},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:d.title}),e.jsx("span",{children:d.desc})]}),d!=null&&d.img?e.jsx("img",{className:"img-quest",src:d.img}):"",(g=d==null?void 0:d.questions)==null?void 0:g.map((f,y)=>e.jsxs("div",{className:"quest",children:[d.type=="input"?e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",disabled:!0,placeholder:`${f.title}`})}):"",d.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:0})," ",e.jsx("span",{children:f.title})]}):"",d.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:0})," ",e.jsx("span",{children:f.title})]}):"",d.type=="input-large"?e.jsx(e.Fragment,{children:e.jsx("textarea",{name:0,placeholder:f.title,style:{width:"100%"}})}):""]},y))]},u)}),e.jsx("div",{className:"buttons-bottom",children:p==c-1?e.jsxs(e.Fragment,{children:[p?e.jsx("button",{onClick:o,children:"Volver"}):"",e.jsx("button",{children:"Terminar"})]}):p<c-1?e.jsxs(e.Fragment,{children:[p?e.jsx("button",{onClick:o,children:"Volver"}):"",e.jsx("button",{onClick:x,children:"Siguiente"})]}):""})]})]})}function It(){var u,g;const s=ie(),[t,c]=a.useState([]),[n,l]=a.useState(!0),[i,p]=a.useState([]),[h,x]=a.useState(),[o,r]=a.useState(0);function m(){let f=new FormData;f.append("key",s.id),q.post(F+"/api/get/survey",f,{withCredentials:!0}).then(y=>y.data).then(y=>{l(!1),c(y)}).catch(y=>{l(!1)})}function v(f){f.preventDefault(),r(y=>y+1)}function j(f){f.preventDefault(),r(y=>y-1)}a.useEffect(()=>{s.id&&n==!0&&m()},[]),a.useEffect(()=>{t.header&&(x(JSON==null?void 0:JSON.parse(t==null?void 0:t.header)),p(JSON.parse(t.json)))},[t]);function d(f){f.preventDefault();let y=document.querySelector("#form"),L=new FormData(y);L.append("key",s.id),q.post(F+"/api/upload/responseSurvey",L,{withCredentials:!0})}return e.jsx(e.Fragment,{children:n?e.jsx("div",{className:"app",children:e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:["Cargando encuesta... ",e.jsx("div",{className:"loading"})]})]})})}):e.jsxs("div",{className:"survey real",colorBox:h==null?void 0:h.colorBox,style:{background:h==null?void 0:h.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${h==null?void 0:h.blur}px)brightness(${h==null?void 0:h.brightness})`}}),e.jsxs("div",{className:"margin-survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(u=h==null?void 0:h.logo)!=null&&u.length?e.jsx("img",{className:"logo",src:h==null?void 0:h.logo}):"",(g=h==null?void 0:h.title)!=null&&g.length?e.jsx("p",{className:"",children:h.title}):""]})}),e.jsx("form",{method:"POST",encType:"multipart/form-data",id:"form",children:i.map((f,y)=>{var L;return e.jsx("div",{className:`page ${y==o?"active":""}`,children:(L=f==null?void 0:f.quests)==null?void 0:L.map((k,R)=>{var b;return e.jsxs("div",{className:"question",style:{borderRadius:(h==null?void 0:h.borderRadius)+"px"},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:k.title}),e.jsx("span",{children:k.desc})]}),k!=null&&k.img?e.jsx("img",{className:"img-quest",src:k.img}):"",(b=k==null?void 0:k.questions)==null?void 0:b.map((_,M)=>e.jsxs("div",{className:"quest",children:[k.type=="input"?e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",name:`${y}-${R}-${M}`,placeholder:`${_.title}`})}):"",k.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:`${y}-${R}`,value:_.title})," ",e.jsx("span",{children:_.title})]}):"",k.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:`${y}-${R}-${M}`})," ",e.jsx("span",{children:_.title})]}):"",k.type=="input-large"?e.jsx(e.Fragment,{children:e.jsx("textarea",{name:`${y}-${R}-${M}`,placeholder:_.title,style:{width:"100%"}})}):""]},M))]},R)})})})}),e.jsx("div",{className:"buttons-bottom",children:o==i.length-1?e.jsxs(e.Fragment,{children:[o?e.jsx("button",{onClick:j,children:"Volver"}):"",e.jsxs("button",{onClick:d,className:"pending",children:["Terminar ",e.jsx("div",{className:"loading"})]})]}):e.jsxs(e.Fragment,{children:[o?e.jsx("button",{onClick:j,children:"Volver"}):"",e.jsx("button",{onClick:v,children:"Siguiente"})]})})]})]})})}function hs(){const s=ie();return e.jsx(e.Fragment,{children:e.jsx("div",{className:"menu-top",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:`/stats/survey/${s.id}`,children:"Estadisticas"})}),e.jsx("li",{children:e.jsx(z,{to:`/stats/survey/${s.id}/detail`,children:"Detalles de respuestas"})}),e.jsx("li",{children:e.jsx(z,{to:`/stats/survey/${s.id}/response`,children:"Respuestas"})})]})})})}function Ht(){const{UserInfo:s}=a.useContext(J),[t,c]=a.useState(!1);a.useState({});const[n,l]=a.useState([]),[i,p]=a.useState([]),[h,x]=a.useState([]),[o,r]=a.useState({}),[m,v]=a.useState({options:{chart:{id:"basic-bar"},xaxis:{categories:[]}},series:[{name:"series-1",data:[]}]}),j=ie();function d(){var g;let u=new FormData;u.append("id_company",(g=s==null?void 0:s.company)==null?void 0:g.id_company),u.append("id_survey",j.id),q.post(F+"/api/get/statsurvey",u,{withCredentials:!0}).then(f=>f.data).then(f=>{p(f.days),r(f),x(f.daysResponse),l(f.countrys)})}return a.useEffect(()=>{d(),c(!0)},[t]),a.useEffect(()=>{v(u=>({...u,options:{...u.options,xaxis:{categories:i}},series:[{name:"serie 1",data:h}]}))},[h]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Encuesta: ",j.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu encuesta"})]})}),e.jsx(hs,{}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Respuestas este mes"})}),e.jsx(Ae,{options:m.options,series:m.series,type:"area",height:300})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Preguntas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:o==null?void 0:o.totalQuestions})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Paginas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:o==null?void 0:o.pageTotal})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Respuestas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:o.totalResponse})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Visitas"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"100"})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{className:"title",children:"Tops Paises"})}),e.jsx("div",{className:"result countryr",children:n.map((u,g)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:Ws(u.country),alt:""}),e.jsx("p",{className:"",children:u.country==""?"Undefined":Qs(String(u.country).toLocaleLowerCase())}),e.jsxs("span",{children:["(",u.amount,")"]})]},g))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding",children:e.jsx("div",{className:"top",children:e.jsx("p",{className:"title",children:"Tops Respuestas"})})})})]})})]})}function Gt(){const s=ie(),t=K(),{UserInfo:c}=a.useContext(J),[n,l]=a.useState([]),[i,p]=a.useState(!1),[h,x]=a.useState({series:[{name:"Respuestas",data:[]}],chart:{type:"area",height:350,stacked:!0},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:[]}}),[o,r]=a.useState({series:[],theme:{palette:"palette3"},labels:[],chart:{type:"donut"}}),m=()=>{let d=new FormData;d.append("key",s.id),q.post(F+"/api/get/survey",d,{withCredentials:!0}).then(u=>u.data).then(u=>{l(JSON.parse(u.json)),v(u)})};function v(d){let u=JSON.parse(d.json),g=[],f=[],y=[],L=[];u.map((k,R)=>{k.quests.map((b,_)=>{b.type=="radio"&&b.questions.map((M,P)=>{g.push(`${M.title} (${R+1})`),f.push(M.response),y.push(`${b.title} - ${M.title}`),L.push(M.response),x(N=>({...N,xaxis:{...N,categories:g}})),x(N=>(N.series=[{name:"Respuesta",data:f}],N)),r(N=>(N.labels=y,N.series=L,N))})})})}function j(d){var g;let u=new FormData;u.append("id_company",(g=c==null?void 0:c.company)==null?void 0:g.id_company),u.append("id_survey",s.id),u.append("case",d),q.post(F+"/api/get/downloadsurvey",u,{withCredentials:!0}).then(f=>f.data).then(f=>{console.log(f)})}return a.useEffect(()=>{m()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"modal-map",style:{display:i?"block":"none"},children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Mapa completo"}),e.jsx("span",{children:"Puedes ver el mapa completamente de las respuestas de los usuarios."}),e.jsx("button",{className:"close",onClick:d=>{p(!1)},children:e.jsx(Ge,{})})]}),e.jsx("div",{className:"map-suv complete",children:n==null?void 0:n.map((d,u)=>e.jsxs("div",{className:"pg",children:[e.jsx("div",{className:"info",children:e.jsxs("p",{children:["Pagina ",u+1]})}),e.jsx("div",{className:"separate"}),d.quests.map((g,f)=>e.jsxs("div",{className:"quests",children:[e.jsx("div",{className:"info",children:e.jsx("p",{children:g.title})}),e.jsx("div",{className:"separate"}),e.jsx("div",{className:"questions-type",children:g.questions.map((y,L)=>e.jsxs("div",{className:"question",children:[e.jsx("div",{className:"separate quest"}),e.jsxs("span",{className:"value",children:[y.title,g.type=="radio"?e.jsxs(e.Fragment,{children:[" (",y.response,") "]}):""]})]}))})]},f))]}))})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles De Encuesta "}),e.jsx("span",{children:"Estas son los detalles de las respuestas"})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"go-wizard",children:"Descargar (CSV)"}),e.jsx("button",{className:"go-wizard",onClick:d=>{j("json")},children:"Descargar (JSON)"}),e.jsx("button",{className:"go-wizard",onClick:d=>{t(`/stats/survey/${s.id}/response`)},children:"Respuestas"})]})]}),e.jsx(hs,{}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Estadisticas de respuestas"}),e.jsx("span",{children:"Estadisticas de las respuestas, veras cuantas veces respondieron a algo."})]}),e.jsx(Ae,{options:h,series:h.series,type:"bar",height:300})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top ",children:[e.jsx("p",{children:"Porcentaje de respuesta"}),e.jsx("span",{children:"Este es el porcentaje de respuesta por cada pregunta."})]}),o.labels.length?e.jsx(Ae,{options:o,series:o.series,type:"donut",height:300}):""]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top ",children:[e.jsx("p",{children:"Mapa de encuesta"}),e.jsx("span",{children:"Este es mapa de tu encuesta, donde veras un mapa sobre la encuesta ejecutada."})]}),e.jsx("div",{className:"map-suv maxheight",children:n==null?void 0:n.map((d,u)=>e.jsxs("div",{className:"pg",children:[e.jsx("div",{className:"info",children:e.jsxs("p",{children:["Pagina ",u+1]})}),e.jsx("div",{className:"separate"}),d.quests.map((g,f)=>e.jsxs("div",{className:"quests",children:[e.jsx("div",{className:"info",children:e.jsx("p",{children:g.title})}),e.jsx("div",{className:"separate"}),e.jsx("div",{className:"questions-type",children:g.questions.map((y,L)=>e.jsxs("div",{className:"question",children:[e.jsx("div",{className:"separate quest"}),e.jsxs("span",{className:"value",children:[y.title,g.type=="radio"?e.jsxs(e.Fragment,{children:[" (",y.response,") "]}):""]})]}))})]},f))]}))}),e.jsx("button",{className:"action-complete",onClick:d=>{p(!0)},children:"Ver mapa completo"})]})})]})]})}function Jt(){let s=ie();const[t,c]=a.useState([]),[n,l]=a.useState([]),[i,p]=a.useState(!1),{UserInfo:h}=a.useContext(J);function x(){var r;let o=new FormData;o.append("id_survey",s.id),o.append("id_company",(r=h==null?void 0:h.company)==null?void 0:r.id_company),q.post(F+"/api/get/responsesurvey",o,{withCredentials:!0}).then(m=>m.data).then(m=>{m.length&&(c(m),m.forEach((v,j)=>{l(d=>[...d,JSON.parse(v.json_response)])}))})}return a.useEffect(()=>{p(!0),i&&x()},[i]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Respuestas"}),e.jsx("span",{children:"Ver todas las respuestas hechas en tu encuesta"})]}),e.jsx("div",{className:"right"})]}),e.jsx(hs,{}),e.jsx("div",{className:"row",children:n.map((o,r)=>e.jsx("div",{className:"col-6",children:e.jsx("div",{className:"box box-padding",children:e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"top",children:e.jsx("div",{className:"top",children:e.jsxs("p",{children:["Respuesta #",r+1]})})}),e.jsx("div",{className:"response",children:Object.entries(o).map(([m,v])=>e.jsx("div",{children:e.jsxs("span",{children:[m,": ",v]})},m))})]})})},r))})]})}function Ss(){const s=K(),[t,c]=a.useState([]),[n,l]=a.useState(!0),{UserInfo:i}=a.useContext(J),[p,h]=a.useState(!1),[x,o]=a.useState(!1),[r,m]=a.useState({url:""}),v=Fe();a.useEffect(()=>{Ce("/add")&&o(!0)},[v]);function j(u=!1){var f;let g=new FormData;g.append("id_company",(f=i==null?void 0:i.company)==null?void 0:f.id_company),l(!0),u||c([]),q.post(F+"/api/get/myurls",g,{withCredentials:!0}).then(y=>y.data).then(y=>{l(!1),c(y)})}function d(){var g;let u=new FormData;u.append("url",r.url),u.append("id_company",(g=i==null?void 0:i.company)==null?void 0:g.id_company),h(!0),q.post(F+"/api/upload/shortlink",u,{withCredentials:!0}).then(f=>f.data).then(f=>{h(!1),f.status&&(j(),o(!1))}).catch(f=>{h(!1)})}return a.useEffect(()=>{j()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(se,{visible:x,onClick:d,callback:o,Pending:p,next:"Crear",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nuevo enlace"}),e.jsx("span",{children:"Crea tu nuevo enlace rapidamente con esta herramienta"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"url",placeholder:"Enlace",onChange:u=>{m({url:u.target.value})}})})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus urls "}),e.jsx("span",{children:"Estas son tus urls cortas que has creado donde podras llevar las estadisticas de cada una."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:u=>{o(!0)},children:"Crear nueva URL"})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[t.map((u,g)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:"URL CORTA"}),e.jsxs("span",{className:"desc",children:[Ue,"/",u.token]}),e.jsx("br",{}),e.jsxs("span",{className:"desc",children:[Ue,"/",u.token]})]})]}),e.jsxs("div",{children:[e.jsx("p",{children:"URL"}),e.jsx("span",{children:u.real_link})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:f=>{s("")},children:e.jsx(ee,{})}),e.jsxs("button",{onClick:f=>{s("/shorturls/"+u.id_shortlink)},children:[e.jsx(le,{})," "]})]})]},g)),n==!0?e.jsx(xe,{}):n==!1&&t.length==0?e.jsx(oe,{name:"urls"}):""]})})})]})}function Xt(){var j,d;const s=ie(),{UserInfo:t}=a.useContext(J),[c,n]=a.useState([]);a.useState([]);const[l,i]=a.useState(),[p,h]=a.useState([]),x=a.useRef(null),[o,r]=a.useState({series:[{name:"Respuestas",data:[]}],chart:{type:"area",height:350,stacked:!0},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:[]}}),m=new ds({width:600,height:600,image:"/img/icons/iconsvg.png",dotsOptions:{color:"gradient",type:"extra-rounded",gradient:{colorStops:[{offset:0,color:"#000"},{offset:1,color:"#000"}]}},imageOptions:{crossOrigin:"anonymous",margin:20}});function v(u){var f;let g=new FormData;g.append("id_company",(f=t==null?void 0:t.company)==null?void 0:f.id_company),g.append("month",u.month),g.append("year",u.year),g.append("id_shortlink",s.id),q.post(F+"/api/get/statshortlink",g,{withCredentials:!0}).then(y=>y.data).then(y=>{n(y.countrys),h(y.devices),r(L=>(L.series[0].data=y.dayResponse,L.xaxis.categories=y.days,L)),i(y.token)})}return a.useEffect(()=>{v({month:new Date().getMonth()+1})},[]),a.useEffect(()=>{l&&(m.append(x.current),m.update({data:Ue+"/"+l+"?qr=true"}))},[l]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Detalle de enlace: ",s.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu enlace corto"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:"",children:"Volver"})})]}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Clicks este mes"}),e.jsx("span",{children:"Aca podras evaluar los clicks hecho por el mes actual y anteriores."})]}),(d=(j=o==null?void 0:o.series[0])==null?void 0:j.data)!=null&&d.length?e.jsx(Ae,{options:o,series:o.series,type:"area",height:300}):""]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Visitas"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"20"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"QR Code"})}),e.jsx("div",{className:"resp-number",children:e.jsx("div",{className:"qr-code",children:e.jsx("div",{ref:x})})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Tops Paises"}),e.jsx("span",{children:"Tops de los paises que mas visitaron el enlace"})]}),e.jsx("div",{className:"result countryr",children:c.map((u,g)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:Ws(u.country),alt:""}),e.jsx("p",{className:"",children:u.country==""?"Undefined":Qs(u.country)}),e.jsxs("span",{children:["(",u.count,")"]})]},g))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Tops Os"}),e.jsx("span",{children:"Top de los sistemas operativos mas usado por los usuarios"})]}),e.jsx("div",{className:"result countryr",children:p.map((u,g)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:Ka(u.device),alt:""}),e.jsx("p",{className:"",children:u.device}),e.jsxs("span",{children:["(",u.count,")"]})]},g))})]})})]})})]})}function Es(){const[s,t]=a.useState(),c=K(),[n,l]=a.useState(!1),[i,p]=a.useState([]),[h,x]=a.useState(!1),[o,r]=a.useState({name:""}),{UserInfo:m}=a.useContext(J),v=Fe();a.useEffect(()=>{Ce("/add")&&l(!0)},[v]);function j(){var g;let u=new FormData;u.append("id_company",(g=m==null?void 0:m.company)==null?void 0:g.id_company),t(!0),q.post(F+"/api/get/shortlinkcampaigns",u,{withCredentials:!0}).then(f=>f.data).then(f=>{t(!1),p(f)}).catch(f=>{t(!1)})}function d(){var g;const u=new FormData;x(!0),u.append("name",o.name),u.append("id_company",(g=m==null?void 0:m.company)==null?void 0:g.id_company),q.post(F+"/api/upload/shortlinkcampaign",u,{withCredentials:!0}).then(f=>f.data).then(f=>{x(!1),f.status&&(j(),l(!1))}).catch(f=>{x(!1)})}return a.useEffect(()=>{j()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(se,{visible:n,onClick:d,callback:l,maxWidth:"250px",Pending:h,next:"Agregar",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nueva campaña"}),e.jsx("span",{children:"Crea tu nueva campaña rapidamente para analizar tus multiples enlaces"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de campaña",name:"name",onChange:u=>{r({...o,name:u.target.value})}})})]},n),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Campañas"}),e.jsx("span",{children:"Aca puedes visualizar o crear campañas para enlaces multiples sobre una campaña"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:u=>{l(!0)},children:"Crear nueva campaña"})})]}),e.jsx("div",{className:"body-stats",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[i.map((u,g)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:u.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(ee,{})}),e.jsx("button",{onClick:f=>{c("/shorturls/campaigns/"+u.id_campaign)},children:e.jsx(fe,{})})]})]})),s?e.jsx(xe,{}):i.length==0?e.jsx(oe,{name:"campañas"}):""]})})})})]})}function Yt(){var k,R;const s=ie(),[t,c]=a.useState(!1),[n,l]=a.useState(!1),{UserInfo:i}=a.useContext(J),[p,h]=a.useState(!0),[x,o]=a.useState(!1),[r,m]=a.useState({});let v={url:"",app:"others"};const[j,d]=a.useState(v),[u,g]=a.useState({series:[{name:"Funnel Series",data:[]}],chart:{type:"bar",height:350},plotOptions:{bar:{borderRadius:0,horizontal:!0,distributed:!0,barHeight:"80%",isFunnel:!0}},dataLabels:{enabled:!0,formatter:function(b,_){return _.w.globals.labels[_.dataPointIndex]+":  "+b}},colors:["#F44F5E","#E55A89","#D863B1","#CA6CD8","#B57BED","#8D95EB","#62ACEA","#4BC3E6"],xaxis:{categories:[]},legend:{show:!0}});function f(b){b.stopPropagation(),d({...j,[b.target.name]:b.target.value})}function y(){var _;let b=new FormData;h(!0),m({}),b.append("id_company",(_=i==null?void 0:i.company)==null?void 0:_.id_company),b.append("id_campaign",s.id),q.post(F+"/api/get/shortlinkcampaign",b,{withCredentials:!0}).then(M=>M.data).then(M=>{var C,B;h(!1),m(M);const P=[];let N=[],w=0;(C=M==null?void 0:M.stats)==null||C.forEach((H,Z)=>{w=w+H.count}),(B=M==null?void 0:M.stats)==null||B.forEach((H,Z)=>{console.log(w),P.push(H.count),N.push(Ua(H.app)+" ("+(H.count*100/w).toFixed(0)+"%)")}),g(H=>{const Z={...H};return Z.series[0].data=P,Z.xaxis.categories=N,Z})}).catch(M=>{})}function L(){var _;l(!0);let b=new FormData;b.append("id_company",(_=i==null?void 0:i.company)==null?void 0:_.id_company),b.append("id_campaign",s==null?void 0:s.id),b.append("url",j.url),b.append("app",j.app),q.post(F+"/api/upload/shortlink",b,{withCredentials:!0}).then(M=>M.data).then(M=>{l(!1),M.status&&(c(!1),y()),M.msg&&O.error(M.msg)}).catch(M=>{l(!1)})}return a.useEffect(()=>{x||(g(b=>{const _={...b};return _.series[0].data=[],_.xaxis.categories=[],_}),y())},[x]),e.jsxs(e.Fragment,{children:[e.jsxs(se,{next:"Agregar",visible:t,callback:c,onClick:L,Pending:n,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nuevo enlace"}),e.jsx("span",{children:"Agrega un nuevo enlace a tu campana"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"URL destino",onChange:f,name:"url"})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"app",id:"",onChange:f,children:[e.jsx("option",{value:"",children:"Selecciona la aplicacion"}),e.jsx("option",{value:"fb",children:"Facebook"}),e.jsx("option",{value:"in",children:"Instagram"}),e.jsx("option",{value:"x",children:"X (Twitter)"}),e.jsx("option",{value:"email",children:"Correo"}),e.jsx("option",{value:"sms",children:"Sms"}),e.jsx("option",{value:"tik",children:"Tiktok"}),e.jsx("option",{value:"linkd",children:"Linkedin"}),e.jsx("option",{value:"yt",children:"Youtube"}),e.jsx("option",{value:"tele",children:"Telegram"}),e.jsx("option",{value:"ws",children:"Whatsapp"}),e.jsx("option",{value:"others",children:"Otros"})]})})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Campaña de enlace: ",s.id]}),e.jsx("span",{children:"Agrega nuevos enlaces para tu campana general de urls"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{onClick:b=>{c(!0)},className:"add",children:"Agregar nuevo enlace"})})]}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Clicks este mes"}),e.jsx("span",{children:"Aca podras evaluar los clicks hecho por el mes actual y anteriores."})]}),p==!1?e.jsx(Ae,{options:u,series:u.series,type:"bar",height:300}):""]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[(k=r==null?void 0:r.links)==null?void 0:k.map((b,_)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_link.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:b.real_link}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"title",children:"App"}),e.jsx("span",{children:e.jsx("img",{className:"icon-app",src:Za(b.app),alt:""})})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{children:e.jsx(fe,{})})})]},_)),p?e.jsx(xe,{}):((R=r==null?void 0:r.links)!=null&&R.length,"")]})})]})})]})}function xs({Visible:s,Close:t,loadQrs:c=()=>{},callbackUrl:n=(l,i)=>{}}){const{UserInfo:l}=a.useContext(J),i=a.useRef(null),[p,h]=a.useState(0),[x,o]=a.useState([be()]),[r,m]=a.useState({type:""});a.useState({});const[v,j]=a.useState(!1),d=be(),u=new ds({width:600,height:600,image:"/img/icons/iconsvg.png",dotsOptions:{color:"gradient",type:"extra-rounded",gradient:{colorStops:[{offset:0,color:"#000"},{offset:1,color:"#000"}]}},imageOptions:{crossOrigin:"anonymous",margin:20}});let g={url:""};const[f,y]=a.useState(g);K();function L(b){b.stopPropagation(),b.preventDefault();let _=A(b.target);_.parents(".options").find(".active").removeClass("active"),_.addClass("active");let M=_.attr("value");m(P=>({...P,type:M}))}async function k(b){var M;let _=!1;if(A(b.target),(p===0&&r.type=="qr-stand"||r.type=="qr-contact")&&(_=!0),p===1&&(u.append(i.current),r.type=="qr-contact"?u.update({data:`BEGIN:VCARD
VERSION:3.0
N:`+f.lname+";"+f.fname+`;;;
FN:`+f.fname+" "+f.lname+`
ORG:`+f.company+`;
TITLE:`+f.jobtitle+`
TEL;type=CELL:`+f.number+`
TEL;type=WORK:`+f.officenum+`
EMAIL;type=INTERNET;type=WORK;type=pref:`+f.email+`
URL:`+f.web+`
ADR;TYPE=work:;;`+f.address1+";"+f.address2+";"+f.city+";"+f.province+";"+f.country+";"+f.pcode+`
REV:`+new Date+`
END:VCARD`}):u.update({data:f.url}),_=!0),p===2)if(f.name){j(!0);let P=new FormData;P.append("formqr",JSON.stringify(f)),P.append("id_company",(M=l==null?void 0:l.company)==null?void 0:M.id_company),P.append("type",r.type);let N=await new Promise((w,C)=>{let H=document.querySelector(".qr-result canvas").toDataURL("image/png");w(H)});P.append("preview",N),q.post(F+"/api/upload/qr",P,{withCredentials:!0}).then(w=>w.data).then(w=>{if(w.status){try{c(),n(f.name,w.img)}catch(C){console.log(C)}O.success("Has subido tu qr con exito")}t(!1),j(!1)}).catch(w=>{j(!1)})}else _=!1,O.error("Opps no has elegido un nombre para tu qr");_&&h(P=>P+1)}function R(b){let _=b.target.name,M=b.target.value;y(P=>({...P,[_]:M}))}return a.useEffect(()=>{A(`#modal-${d} .case.active`).removeClass("active"),A(`#modal-${d} .case`).eq(p).addClass("active")},[p]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,id:`modal-${d}`,children:[e.jsxs("div",{className:"top-actions",children:[p>0?e.jsxs("button",{className:"return",onClick:b=>{h(_=>_-1)},children:[e.jsx(qe,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:b=>{t(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case active",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear un nuevo QR individual"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de qr que quieres crear"})]}),e.jsxs("div",{className:"options flex",id:`options-${x[0]}`,children:[e.jsxs("div",{className:"selector",onClick:L,value:"qr-stand",children:[e.jsx("div",{className:"check",children:e.jsx(me,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"QR Estandar"}),e.jsx("span",{children:"Qr Estandar es un qr basico donde podras almacenar enlaces de tus webs"})]})]}),e.jsxs("div",{className:"selector",onClick:L,value:"qr-contact",children:[e.jsx("div",{className:"check",children:e.jsx(me,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"QR Contacto"}),e.jsx("span",{children:"Qr Contacto, este es un qr donde podras escanearlo y almacenar un contacto con informacion importante"})]})]})]})]}),r.type=="qr-stand"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Enlace del qr"}),e.jsx("input",{type:"url",name:"url",onChange:R,placeholder:"Enlace"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre del qr"}),e.jsx("input",{type:"text",onChange:R,name:"name",placeholder:"Nombre para tu QR"})]})]})]})}):e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personaliza tu QR"}),e.jsx("span",{className:"desc",children:"Este es un QR de contacto para generar tu tarjeta de presentacion, puedes personalizarlo con tu informacion necesaria."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre del QR"}),e.jsx("input",{type:"text",onChange:R,name:"name",placeholder:"Nombre para tu QR"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre"}),e.jsx("input",{type:"text",name:"fname",onChange:R,placeholder:"ej: Roberto"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Apellido"}),e.jsx("input",{type:"text",name:"lname",onChange:R,placeholder:"ej: Martinez"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Empresa"}),e.jsx("input",{type:"text",name:"company",onChange:R,placeholder:"ej: Cocacola"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Cargo"}),e.jsx("input",{type:"text",name:"jobtitle",onChange:R,placeholder:"ej: Director"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Celular"}),e.jsx("input",{type:"text",name:"number",onChange:R,placeholder:"ej: +58412000000"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Numero de Oficina"}),e.jsx("input",{type:"text",name:"officenum",onChange:R,placeholder:"ej: (12)"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo Electronico"}),e.jsx("input",{type:"text",name:"email",onChange:R,placeholder:"ej: example@example.com"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Pagina Web"}),e.jsx("input",{type:"text",name:"web",onChange:R,placeholder:"ej: www.example.com"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Direccion"}),e.jsx("input",{type:"text",name:"address1",onChange:R,placeholder:"ej: Chicago, ST "})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Direccion del Trabajo"}),e.jsx("input",{type:"text",name:"address2",onChange:R,placeholder:"ej: Chicago ST, Down Ryder "})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Ciudad"}),e.jsx("input",{type:"text",name:"city",onChange:R,placeholder:"ej: Chicago"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Estado"}),e.jsx("input",{type:"text",name:"province",onChange:R,placeholder:"ej: Chicago"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Pais"}),e.jsx("input",{type:"text",name:"country",onChange:R,placeholder:"ej: Estados Unidos"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Codigo postal"}),e.jsx("input",{type:"text",name:"pcode",onChange:R,placeholder:"ej: (15306)"})]})})]})})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Previsualiza tu QR "}),e.jsx("span",{className:"desc",children:"Este es el QR que has creado, dale click para subirlo."})]}),e.jsx("div",{className:"qr-result",ref:i})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:`next ${v?"await":" "}`,onClick:k,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function Kt({Close:s,callback:t}){const[c,n]=a.useState(!1),[l,i]=a.useState(null),[p,h]=a.useState(null);a.useEffect(()=>(setTimeout(()=>{n(!0)},2e3),()=>{l&&l.getTracks().forEach(o=>o.stop())}),[]);const x=()=>{if(p&&l instanceof MediaStream){const o=l.getVideoTracks()[0],r=document.createElement("video");r.srcObject=new MediaStream([o]),r.onloadedmetadata=()=>{p.getContext("2d").drawImage(r,0,0,p.width,p.height);const v=p.toDataURL("image/jpeg");t&&t(v)},r.play().catch(m=>console.error("Error reproduciendo video: ",m))}};return e.jsx(e.Fragment,{children:c&&e.jsxs("div",{className:"camera",children:[e.jsx("video",{style:{width:"100%",height:"auto"},ref:o=>{o&&!l&&navigator.mediaDevices.getUserMedia({video:!0}).then(r=>{o.srcObject=r,i(r)}).catch(r=>console.error("Error al acceder a la cámara: ",r))},autoPlay:!0,playsInline:!0}),e.jsx("canvas",{ref:o=>{o&&h(o)},style:{display:"none"},width:640,height:480}),e.jsx("button",{className:"capture",onClick:x})]})})}function Gs({Visible:s,Close:t,Return:c=!0}){const{UserInfo:n}=a.useContext(J);a.useRef(null);const[l,i]=a.useState(0);a.useState([be()]);const[p,h]=a.useState({type:""}),[x,o]=a.useState(!1),[r,m]=a.useState(!1);K();async function v(f){var y;if(A(f.target),p.name&&p.image){o(!0);let L=new FormData;L.append("preview",p.image),L.append("id_company",(y=n==null?void 0:n.company)==null?void 0:y.id_company),L.append("type","qr-stand"),L.append("formqr",JSON.stringify(p)),q.post(F+"/api/upload/qr",L,{withCredentials:!0}).then(k=>k.data).then(k=>{o(!1),k.status&&(t(!1),O.success("Se ha subido tu qr correctamente")),k.msg&&O.error(k.msg)}).catch(k=>{o(!1)})}else O.error("Opps hay algo imcompleto")}function j(f){let y=f.target.name,L=f.target.value;h(k=>({...k,[y]:L}))}function d(){A("#file").click()}function u(f){let y=f.target.files,L=A(f.target);if(y.length){let k=new FileReader;k.onload=function(R){if(y[0].type.indexOf("image")>=0){let b=new Image;b.src=R.target.result,b.onload=function(){b.width<=6e3&&b.height<=6e3?h({...p,image:b.src}):O.error(`Opps maximo 600x600 tu imagen es de ${b.width}x${b.height}`)}}else L.val(""),O.error("Opps solo aceptamos imagenes")},k.readAsDataURL(y[0])}}a.useEffect(()=>{A("#wizard2").find(".case").eq(0).addClass("active")},[]);function g(f){h({...p,image:f})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,id:"wizard2",children:[e.jsxs("div",{className:"top-actions",children:[l>0?e.jsxs("button",{className:"return",onClick:f=>{i(y=>y-1)},children:[e.jsx(qe,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:f=>{t(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case ",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Importar QR"}),e.jsx("span",{className:"desc",children:"Guarda la imagen del QR de tu preferencia y subela a la botonera"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre para tu QR"}),e.jsx("input",{type:"text",onChange:j,name:"name",placeholder:"Nombre para tu QR"})]}),e.jsxs("div",{className:"upload-qr",children:[p.image==null?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"upload",onClick:d,children:[e.jsx(te,{icon:"basil:upload-outline"}),e.jsx("p",{className:"upload-desc",children:"Has click aca para buscar tu archivo"})]}),r?e.jsx(Kt,{callback:g,Close:m}):"",e.jsx("br",{}),e.jsx("span",{style:{fontSize:"14px",opacity:"0.8"},children:"Cuando le das activar camara toma la foto al QR de tu preferencia, luego dale click en la opcacion Subir Imagen, busca el QR y agregalo a tu botonera."}),e.jsxs("button",{className:"open-cam",onClick:f=>{m(!0)},children:[e.jsx(te,{icon:"ph:camera"})," Activar Camara"]})]}):e.jsx("div",{className:"preview",children:e.jsx("img",{src:p.image,alt:""})}),e.jsx("input",{type:"file",id:"file",onChange:u,hidden:!0})]})]})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:`next ${x?"await":" "}`,onClick:v,children:["Subir imagen ",e.jsx("div",{className:"loading"})]})})]})]})})}function ns(){const[s,t]=a.useState(!1),[c,n]=a.useState(!1),[l,i]=a.useState(!1),[p,h]=a.useState([{},{}]),{UserInfo:x}=a.useContext(J),[o,r]=a.useState(!1),[m,v]=a.useState(),j=Fe();a.useEffect(()=>{Ce("/add")&&t(!0),Ce("/import")&&n(!0)},[j]);function d(){var y;let f=new FormData;f.append("id_company",(y=x==null?void 0:x.company)==null?void 0:y.id_company),q.post(F+"/api/get/qrs",f,{withCredentials:!0}).then(L=>L.data).then(L=>{h(L)})}function u(f){let y=A(f.target),L=y.parents(".item").find("img")[0].src;y.parents(".item").find(".title").text();let k=document.createElement("a");k.href=L,k.download="",k.rel="noopener noreferrer",k.target="_blank",document.querySelector("#root").appendChild(k),k.click(),document.querySelector("#root").removeChild(k)}a.useEffect(()=>{d()},[]);function g(){var y;let f=new FormData;f.append("id_company",(y=x==null?void 0:x.company)==null?void 0:y.id_company),f.append("id_qr",m),q.post(F+"/api/delete/qr",f,{withCredentials:!0}).then(L=>L.data).then(L=>{})}return e.jsxs(e.Fragment,{children:[e.jsx(Se,{visible:o,callback:r,onClick:g}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"QR"}),e.jsx("span",{children:"Crea qr personalizados con enlaces para tus webs o qr de contacto"})]}),e.jsx(xs,{Visible:s,Close:t,setModalView:t,loadQrs:d}),e.jsx(Gs,{Visible:c,Close:n,setModalView:n,loadQrs:d},c?"x":"a"),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"add",onClick:f=>{t(!0)},children:" Crear nuevo QR"}),e.jsxs("button",{className:"go-wizard",onClick:f=>{n(!0)},children:[e.jsx(ge,{})," Importar QR"]})]})]}),e.jsxs("div",{className:"box box-padding",children:[p.map((f,y)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:Ze(f.qr_preview),alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:f.title}),e.jsxs("span",{className:"desc",children:["Creado el: ",ne(f.time_add)]})]})]}),e.jsx("div",{className:"info",children:e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:"Tipo de QR"}),e.jsx("span",{className:"desc",children:f.type_qr})]})}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(te,{icon:"ion:stats-chart-outline"})}),e.jsx("button",{onClick:u,children:e.jsx(ka,{})}),e.jsx("button",{onClick:L=>{v(f.id_qr),r(!0)},children:e.jsx(ee,{})})]})]})),l?e.jsx(xe,{}):p.length==0?e.jsx("div",{className:"item",children:e.jsx(oe,{name:"Qrs"})}):""]})]})}function Zt({setButtons:s}){function t(c){let n=c.target.value;c.target.name=="background"&&n.indexOf("http")>=0&&(n=`url(${n})`),s(i=>{let p={...i};return p.header[c.target.name]=n,p})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar botonera"}),e.jsx("span",{children:"Personaliza tu botonera, cambiando imagenes, fondo, texto, botones, enlaces."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",defaultValue:"#fff",onChange:t,name:"background"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",onChange:t,defaultValue:0,step:"0.1",max:"10",name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",onChange:t,defaultValue:1,step:"0.1",max:"1",name:"brightness"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border radius"}),e.jsx("input",{type:"range",onChange:t,defaultValue:1,step:"0.1",max:"50",name:"radius"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{name:"colorBox",onClick:t,value:"ligth",children:"Modo Claro"}),e.jsx("button",{name:"colorBox",onClick:t,value:"dark",children:"Modo Oscuro"})]})]})]})}function Ut({buttons:s,setButtons:t,editor:c,setEditor:n}){var R,b,_,M,P,N,w,C,B,H,Z,U;const[l,i]=a.useState(!1),[p,h]=a.useState(!1),[x,o]=a.useState(!1),[r,m]=a.useState(void 0),{UserInfo:v}=a.useContext(J),j=ie();a.useEffect(()=>{console.log(s)},[s]);function d(){t(I=>({...I,buttons:I.buttons.concat({})}))}function u(I){I.preventDefault(),I.stopPropagation();let $=A(I.target);switch(A(".page.buttonsbody .active").removeClass("active"),$.addClass("active"),$.attr("type")){case"buttons":var W=$.attr("id");n({type:"button",key:W});break;case"rs":var W=$.attr("id");n({type:"rs",key:W});break;default:n({type:$.attr("type")});break}return!1}function g(I){t($=>{const W={...$};return W.buttons=W.buttons.filter((S,X)=>X!==I),n({type:"",key:""}),W})}function f(){let I=document.querySelector("#select-rs").value,$=document.querySelector("#input-rs").value;(s==null?void 0:s.rs.length)<=3?t(W=>{const S=[...W.rs];return S.push({type:I,url:$}),{...W,rs:S}}):O.error("Opps ya has agregado muchas redes sociales")}async function y(){var I,$,W;if((($=(I=s.header)==null?void 0:I.titlegl)==null?void 0:$.length)>=1){o(!0);let S=new FormData;S.append("json",JSON.stringify(s)),r==null?S.append("title",s.header.titlegl):S.append("id_buttons",r),S.append("id_company",(W=v==null?void 0:v.company)==null?void 0:W.id_company);let X=await as(document.querySelector(".page .center"),{allowTaint:!1,useCORS:!0}).then(Y=>Y.toDataURL());S.append("preview",X),q.post(F+"/api/upload/buttons",S,{withCredentials:!0}).then(Y=>Y.data).then(Y=>{o(!1),Y.id_buttons&&m(Y.id_buttons),Y.msg&&O.error(Y.msg)}).catch(Y=>{o(!1)})}else h(!0),O.error("Opps no puedes avanzar si tu plantilla no posee un titulo")}function L(I){let $=I.target.value;t(W=>{let S={...W};return S.header.titlegl=$,S})}function k(){s.header.titlegl&&(h(!1),O.success("El titulo se aplico con exito"))}return a.useEffect(()=>{var I;if(j.id){let $=new FormData;$.append("id_buttons",j.id),$.append("id_company",(I=v==null?void 0:v.company)==null?void 0:I.id_company),q.post(F+"/api/get/editbuttons",$,{withCredentials:!0}).then(W=>W.data).then(W=>{W.id_buttons&&(t(JSON.parse(W.json)),m(W.id_buttons))})}},[]),e.jsxs(e.Fragment,{children:[e.jsxs(se,{visible:p,close:h,callback:h,onClick:k,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("span",{children:"Elige un titulo general para esta plantilla"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Titulo general"}),e.jsx("input",{onChange:L,type:"text",placeholder:"ej: plantilla 1"})]})]}),e.jsx(se,{visible:l,callback:i,onClick:f,children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Redes Sociales"}),e.jsx("span",{children:"Selecciona que red social quieres agregar"}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("input",{type:"url",placeholder:"Enlace (URL)",id:"input-rs"}),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("select",{name:"",id:"select-rs",children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"Seleccionar"}),e.jsx("option",{value:"fb",children:"Facebook"}),e.jsx("option",{value:"x",children:"X (Twitter)"}),e.jsx("option",{value:"in",children:"Instagram"}),e.jsx("option",{value:"link",children:"Linkedin"}),e.jsx("option",{value:"disc",children:"Discord"}),e.jsx("option",{value:"tik",children:"TikTok"}),e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"spot",children:"Spotify"}),e.jsx("option",{value:"tele",children:"Telegram"}),e.jsx("option",{value:"ws",children:"Whatsapp"})]}),e.jsx("br",{})]})]})}),e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{children:[e.jsx(ke,{})," Previsualizar"]}),e.jsxs("button",{className:x?"await":"",onClick:y,children:[e.jsx(Je,{})," Guardar ",e.jsx("div",{className:"loading"})]})]})}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(R=s==null?void 0:s.header)==null?void 0:R.blur}px)brightness(${(b=s==null?void 0:s.header)==null?void 0:b.brightness})`,background:(_=s==null?void 0:s.header)==null?void 0:_.background2}}),e.jsxs("div",{className:`${"page buttonsbody "+((M=s==null?void 0:s.header)==null?void 0:M.colorBox)}`,children:[e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",onClick:u,type:"logo",src:(P=s==null?void 0:s.header)!=null&&P.logo?(N=s==null?void 0:s.header)==null?void 0:N.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{onClick:u,type:"title",children:(w=s==null?void 0:s.header)!=null&&w.title?(C=s==null?void 0:s.header)==null?void 0:C.title:"Agregar titulo"}),e.jsx("span",{onClick:u,type:"desc",children:(B=s==null?void 0:s.header)!=null&&B.desc?(H=s==null?void 0:s.header)==null?void 0:H.desc:"Agregar Descripcion"})]}),e.jsx("div",{className:"buttons",children:(Z=s==null?void 0:s.buttons)==null?void 0:Z.map((I,$)=>{var W;return e.jsxs("div",{children:[e.jsx("div",{className:"edit-active",children:e.jsx("button",{onClick:S=>{g($)},children:e.jsx(ee,{})})}),e.jsxs("a",{onClick:u,style:{borderRadius:((W=s==null?void 0:s.header)==null?void 0:W.radius)+"px"},type:"buttons",id:$,href:I.url,children:[" ",I!=null&&I.name?I==null?void 0:I.name:"Elegir nombre..."]},$)]},$)})}),e.jsx("div",{className:"rs",children:(U=s==null?void 0:s.rs)==null?void 0:U.map((I,$)=>e.jsx("div",{className:"r",children:e.jsxs("a",{href:"",onClick:u,id:$,type:"rs",children:[I.type=="in"?e.jsx(qs,{}):"",I.type=="tik"?e.jsx(Ts,{}):"",I.type=="disc"?e.jsx(Ls,{}):"",I.type=="spot"?e.jsx(Rs,{}):"",I.type=="tele"?e.jsx(Ms,{}):"",I.type=="ws"?e.jsx(As,{}):"",I.type=="email"?e.jsx(Os,{}):"",I.type=="fb"?e.jsx($s,{}):"",I.type=="x"?e.jsx(zs,{}):"",I.type=="link"?e.jsx(Bs,{}):""]})},$))}),e.jsxs("div",{className:"add-new",onClick:d,children:[e.jsx(Me,{})," Agregar Boton"]}),e.jsx("br",{}),e.jsxs("div",{className:"add-new",onClick:I=>{i(!0)},children:[e.jsx(Me,{})," Agregar Red Social"]})]})]})}function ei({editor:s,buttons:t,setButtons:c,setEditor:n}){var p;function l(h){let x=h.target.value;c(o=>{let r={...o};return r.rs[s.key].url=x,r})}function i(h){c(x=>{const o={...x};return console.log(s),o.rs=o.rs.filter((r,m)=>m!==Number(s.key)),n({type:"",key:""}),o})}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enlace"}),e.jsx("input",{id:"title-edit",onChange:l,type:"text",value:(p=t==null?void 0:t.rs[s.key])==null?void 0:p.url,placeholder:"https://image.com/jfop2.jpg"})]})}),e.jsx("div",{children:e.jsx("button",{className:"delete",onClick:i,children:"Eliminar"})})]})}function si({editor:s,buttons:t,setButtons:c}){function n(l){const{name:i,value:p}=l.target;c(h=>{let x={...h};return x.buttons[s.key][i]=p,x})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nombre de boton"}),e.jsx("input",{onChange:n,value:t.buttons[s.key].name?t.buttons[s.key].name:"",name:"name",id:"title-edit",type:"text",placeholder:"Ej: Mi tienda virtual"})]}),e.jsx("br",{}),e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enlace"}),e.jsx("input",{onChange:n,value:t.buttons[s.key].url?t.buttons[s.key].url:"",name:"url",id:"title-edit",type:"text",placeholder:"https://example.com"})]})]})})}function ai({setButtons:s,buttons:t}){var n;function c(l){s(i=>{let p={...i};return p.header.desc=l.target.value,p})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descripcion"}),e.jsx("input",{onChange:c,id:"title-edit",type:"text",placeholder:"Ej: Mis redes sociales",value:(n=t==null?void 0:t.header)==null?void 0:n.desc})]})})})}function ti({setButtons:s,buttons:t}){function c(n){let l=n.target.value;s(i=>{let p={...i};return p.header.logo=l,p})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Logo"}),e.jsx("input",{onChange:c,id:"title-edit",type:"text",placeholder:"https://image.com/jfop2.jpg"})]})})})}function ii({setButtons:s,buttons:t}){var n;function c(l){s(i=>{let p={...i};return p.header.title=l.target.value,p})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("input",{onChange:c,id:"title-edit",type:"text",placeholder:"Ej: Mis redes sociales",value:(n=t==null?void 0:t.header)==null?void 0:n.title})]})})})}function ni({editor:s,buttons:t,setButtons:c,setEditor:n}){return e.jsxs(e.Fragment,{children:[s.type=="button"?e.jsx(si,{editor:s,buttons:t,setButtons:c}):"",s.type=="title"?e.jsx(ii,{editor:s,buttons:t,setButtons:c}):"",s.type=="desc"?e.jsx(ai,{editor:s,buttons:t,setButtons:c}):"",s.type=="logo"?e.jsx(ti,{editor:s,buttons:t,setButtons:c}):"",s.type=="rs"?e.jsx(ei,{editor:s,buttons:t,setButtons:c,setEditor:n}):""]})}function _s(){var l;a.useState(!0);const[s,t]=a.useState({header:{title:"",desc:"",img:"",background:""},buttons:[],rs:[]}),[c,n]=a.useState({});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"editor-surveys",children:e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:"left",children:e.jsx(Zt,{editor:c,setButtons:t,buttons:s})}),e.jsx("div",{className:"center",style:{background:(l=s==null?void 0:s.header)==null?void 0:l.background},children:e.jsx(Ut,{editor:c,setEditor:n,buttons:s,setButtons:t})}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"type-editor",children:e.jsx(ni,{editor:c,buttons:s,setButtons:t,setEditor:n})})})]})})})}function li(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"modal-share",children:e.jsx("div",{className:"body",children:e.jsxs("div",{className:"bk",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Compartir desde Radarsystems"})}),e.jsxs("div",{className:"buttons",children:[e.jsx("button",{children:"Compartir en Snapchat"}),e.jsx("button",{children:"Compartir en Facebook"}),e.jsx("button",{children:"Compartir en Tiktok"}),e.jsx("button",{children:"Compartir en Linkedln"}),e.jsx("button",{children:"Compartir en Whatsapp"}),e.jsx("button",{children:"Compartir en Messenger"})]}),e.jsx("div",{className:"url",children:e.jsx("span",{children:window.location.href})}),e.jsxs("div",{className:"register",children:[e.jsx("p",{children:"Create your own Linktree"}),e.jsx("span",{children:"The only link in bio trusted by 35M+ people."}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:"Sign up free"}),e.jsx("button",{children:"Find out more"})]})]})]})})})})}function ci(){var h,x,o,r,m,v,j,d,u,g,f,y,L;const[s,t]=a.useState({}),[c,n]=a.useState(!0),l=ie();function i(){let k=new FormData;k.append("token",l.id),q.post(F+"/api/get/buttons",k).then(R=>R.data).then(R=>{if(t(R),R){let b=new FormData;b.append("type_stat","visit"),b.append("type","buttons"),b.append("token",l.id),q.post(F+"/api/get/capturestatsbuttons",b)}})}a.useEffect(()=>{i()},[]);function p(k){k.preventDefault(),k.stopPropagation();let R=k.target.href;if(c){n(!1);let b=new FormData;b.append("type","buttons"),b.append("type_stat","click"),b.append("data",R),b.append("token",l.id),q.post(F+"/api/get/capturestatsbuttons",b).then(_=>_.data).then(_=>{n(!0),window.open(R)}).catch(_=>{n(!0)})}}return e.jsxs(e.Fragment,{children:[e.jsx(li,{}),e.jsx("div",{className:"editor-surveys btnactive prod-buttons",children:e.jsx("div",{className:"rows",children:e.jsxs("div",{className:"center",style:{background:(h=s==null?void 0:s.header)==null?void 0:h.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(x=s==null?void 0:s.header)==null?void 0:x.blur}px)brightness(${(o=s==null?void 0:s.header)==null?void 0:o.brightness})`,background:(r=s==null?void 0:s.header)==null?void 0:r.background2}}),e.jsxs("div",{className:`${"page buttonsbody "+((m=s==null?void 0:s.header)==null?void 0:m.colorBox)}`,children:[e.jsx("div",{className:"share-now",children:e.jsx("button",{children:e.jsx(Sa,{})})}),e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",type:"logo",src:(v=s==null?void 0:s.header)!=null&&v.logo?(j=s==null?void 0:s.header)==null?void 0:j.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{type:"title",children:(d=s==null?void 0:s.header)!=null&&d.title?(u=s==null?void 0:s.header)==null?void 0:u.title:""}),e.jsx("span",{type:"desc",children:(g=s==null?void 0:s.header)!=null&&g.desc?(f=s==null?void 0:s.header)==null?void 0:f.desc:""})]}),e.jsx("div",{className:"buttons",children:(y=s==null?void 0:s.buttons)==null?void 0:y.map((k,R)=>{var b;return e.jsx("div",{children:e.jsxs("a",{onClick:p,style:{borderRadius:((b=s==null?void 0:s.header)==null?void 0:b.radius)+"px"},type:"buttons",id:R,href:k.url,children:[" ",k!=null&&k.name?k==null?void 0:k.name:"Elegir nombre..."]},R)},R)})}),e.jsx("div",{className:"rs",children:(L=s==null?void 0:s.rs)==null?void 0:L.map((k,R)=>e.jsx("div",{className:"r",children:e.jsxs("a",{href:"",id:R,type:"rs",children:[k.type=="in"?e.jsx(qs,{}):"",k.type=="tik"?e.jsx(Ts,{}):"",k.type=="disc"?e.jsx(Ls,{}):"",k.type=="spot"?e.jsx(Rs,{}):"",k.type=="tele"?e.jsx(Ms,{}):"",k.type=="ws"?e.jsx(As,{}):"",k.type=="email"?e.jsx(Os,{}):"",k.type=="fb"?e.jsx($s,{}):"",k.type=="x"?e.jsx(zs,{}):"",k.type=="link"?e.jsx(Bs,{}):""]})},R))}),e.jsxs("div",{className:"footer",children:[e.jsx("br",{}),e.jsx("hr",{}),e.jsx("p",{children:"Powered by RadarSystems. ​​​​​​​Copyright © 1998 - 2022 Todos los derechos reservados."})]})]})]})})})]})}function ri({onClick:s}){let t=[{color:"#FFDDC1"},{color:"#FFA07A"},{color:"#FFB6C1"},{color:"#87CEEB"},{color:"#B0C4DE"},{color:"#ADD8E6"},{color:"#FFE4E1"},{color:"#F0FFF0"},{color:"#F5F5DC"},{color:"#F0E68C"},{color:"#E0FFFF"},{color:"#FAFAD2"},{color:"#FFEBCD"},{color:"#E6E6FA"},{color:"#F08080"},{color:"#FF6347"},{color:"#FFD700"},{color:"#FFA500"},{color:"#FF4500"},{color:"#E9967A"},{color:"#CD5C5C"},{color:"#FF8C00"},{color:"#FF69B4"},{color:"#FF1493"},{color:"#DB7093"},{color:"#800000"},{color:"#A52A2A"},{color:"#D2691E"},{color:"#8B4513"},{color:"#8B0000"},{color:"#800080"},{color:"#000"},{color:"#fff"}];return e.jsx(e.Fragment,{children:e.jsx("div",{className:"colorPicker-basic",children:t.map((c,n)=>e.jsx("div",{className:"color",style:{background:c.color},"data-value":c.color,onClick:l=>{s(l.target.dataset.value)}}))})})}function di({setButtons:s,Visible:t,VisibleMenu:c}){const[n,l]=a.useState({}),[i,p]=a.useState(!1),[h,x]=a.useState(!1),{UserInfo:o}=a.useContext(J);function r(g){let f=g.target.value;g.target.name=="background"&&f.indexOf("http")>=0&&(f=`url(${f})`),s(L=>{let k={...L};return k.header[g.target.name]=f,console.log(k),k})}function m(g){s(f=>{let y={...f};return y.header.background=g,y})}function v(){document.querySelector("input[name='file-wallpaper']").click()}function j(g){let f=g.target.files[0];Xa(f)&&l(f)}function d(){l({}),document.querySelector("input[name='file-wallpaper']").value=""}function u(){var g;if(n!=null&&n.name){x(!0);let f=new FormData;f.append("id_company",(g=o==null?void 0:o.company)==null?void 0:g.id_company),f.append("file",n),q.post(F+"/api/upload/fileqr",f,{withCredentials:!0}).then(y=>y.data).then(y=>{y.download&&s(L=>{let k={...L};return k.header.background=`url(${y.download})`,k}),p(!1),x(!1)}).catch(y=>{x(!1)})}else de.error("Opps no has seleccionado ningun archivo")}return e.jsxs(e.Fragment,{children:[e.jsxs(se,{visible:i,callback:p,onClick:u,Pending:h,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Subir imagen"}),e.jsx("span",{children:"sube tu imagen que no sea mayor a 5MB"})]}),e.jsx("input",{type:"file",onChange:j,name:"file-wallpaper",accept:".png,.jpg,.jpeg",hidden:!0}),e.jsx("div",{className:"select-file",children:n.name?e.jsxs("div",{className:"file",children:[e.jsx("div",{className:"right",children:e.jsx("button",{onClick:d,children:e.jsx(ee,{})})}),e.jsx("div",{className:"preview",children:e.jsxs("div",{className:"fi",children:[e.jsx("div",{className:"icon",children:e.jsx(fe,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:n==null?void 0:n.name}),e.jsx("span",{children:n==null?void 0:n.type})]})]})})]}):e.jsxs("div",{className:"drop-file",onClick:v,children:[e.jsx("i",{children:e.jsx(ge,{})}),e.jsx("span",{className:"desc",children:"Has click aca para buscar tu archivo"})]})})]}),e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar botonera"}),e.jsx("span",{children:"Personaliza tu botonera, cambiando imagenes, fondo, texto, botones, enlaces."}),e.jsx("button",{className:"close mb",onClick:c,children:e.jsx(te,{icon:"teenyicons:x-outline"})})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",defaultValue:"#fff",onChange:r,name:"background"}),e.jsxs("button",{onClick:g=>{p(!0)},className:"action-complete",children:[e.jsx(te,{icon:"material-symbols:upload-rounded"})," Elegir Imagen"]}),e.jsx("hr",{}),e.jsx("p",{className:"title",children:"Colores"}),e.jsx(ri,{onClick:m}),e.jsx("br",{})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{name:"theme",onClick:r,value:"ligth",children:"Modo Claro"}),e.jsx("button",{name:"theme",onClick:r,value:"dark",children:"Modo Oscuro"})]})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",onChange:r,defaultValue:0,step:"0.1",max:"10",name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",onChange:r,defaultValue:1,step:"0.1",max:"1",name:"brightness"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border radius"}),e.jsx("input",{type:"range",onChange:r,defaultValue:1,step:"0.1",max:"50",name:"radius"})]})]})}function oi({VisibleMenu:s,getMyQrs:t,addNewQr:c,setVisibleQr:n,boxType:l,editor:i,buttons:p,setButtons:h}){const[x,o]=a.useState(!1);a.useState(!1);const[r,m]=a.useState(!1),[v,j]=a.useState(!1),[d,u]=a.useState({});a.useState({});const[g,f]=a.useState(),[y,L]=a.useState(""),[k,R]=a.useState({ssid:"",password:"",encrypt:""}),[b,_]=a.useState({rs:!1,modalFile:!1}),{UserInfo:M}=a.useContext(J),P=a.useRef(null),N={instagram:"https://www.instagram.com/",twitter:"https://x.com/",facebook:"https://m.facebook.com/",tiktok:"https://tiktok.com/",whatsapp:"https://api.whatsapp.com/send/?phone=",websiteurl:""};function w(S,X){if(A(S.target).css("opacity")!=="0.5")switch(f(X),X){case"qrs":t(),n(!0);break;case"vcard":n(!0),t("qr-contact");break;case"vcard-add":document.querySelector(".head-top .right button").click(),setTimeout(()=>{document.querySelectorAll(".wizard-home.open .case.active .selector")[1].click()},20),setTimeout(()=>{A(document.querySelector(".wizard-home.open .next")).click()},20);break;case"instagram":case"facebook":case"tiktok":case"twitter":case"whatsapp":case"websiteurl":j(!0);break;case"wifi":m(!0);break;case"pdf":case"img":o(!0);break}else de.error("Este boton no esta habilitado para este apartado.")}const C=new ds({width:600,height:600,image:"/img/icons/iconsvg.png",dotsOptions:{color:"gradient",type:"extra-rounded",gradient:{colorStops:[{offset:0,color:"#000"},{offset:1,color:"#000"}]}},imageOptions:{crossOrigin:"anonymous",margin:20}});function B(){A("input[name='file']").click()}function H(S){let X=S.target.files;X[0]&&(X[0].type.indexOf("/pdf")>=0||X[0].type.indexOf("imag")>=0?u(X[0]):de.error("El archivo no es una imagen / pdf"))}function Z(S){u({}),A("input[name='file']").val("")}function U(S,X){_({...X,[S]:X})}async function I(S){let X=new FormData,Y=!1;console.log(S);let ue="";v&&(y?Y=!0:ue="Opps no has agregado ningun usuario"),r&&(console.log(k),k.encrypt&&k.password.length&&k.ssid?Y=!0:ue="Has dejado campos vacios en la red wifi"),x&&S&&(Y=!0),Y?(U("rs",!0),C.append(P.current),C.update({data:S}),setTimeout(async()=>{var Ee;let Oe=await new Promise((je,Re)=>{let $e=document.querySelector(".qr-result canvas").toDataURL("image/png");je($e)}),Le=`${g+"-"+(new Date/1e3).toFixed()}`;switch(X.append("preview",Oe),X.append("id_company",(Ee=M==null?void 0:M.company)==null?void 0:Ee.id_company),X.append("formqr",JSON.stringify({name:Le})),g){case"facebook":case"instagram":case"twitter":case"x":case"twitter":case"linkedin":X.append("type","qr-rs");break;case"wifi":X.append("type","qr-wifi");break}q.post(F+"/api/upload/qr",X,{withCredentials:!0}).then(je=>je.data).then(je=>{if(U("rs",!1),je.status){j(!1);try{c(Le,je.img),de.success("QR agregado con exito")}catch(Re){de.error(String(Re))}}}).catch(je=>{U("rs",!1)})},150)):de.error(ue)}a.useEffect(()=>{v||L("")},[v]);function $(S){let X=S.target.name,Y=S.target.value;R({...k,[X]:Y})}async function W(){var X;U("modalFile",!0);let S=new FormData;S.append("file",d),S.append("id_company",(X=M==null?void 0:M.company)==null?void 0:X.id_company),q.post(F+"/api/upload/fileqr",S,{withCredentials:!0}).then(Y=>Y.data).then(async Y=>{Y.status&&(de.success("Se ha subido tu archivo correctamente, se esta procesando el QR"),await I(Y.download),U("modalFile",!1),o(!1))}).catch(Y=>{U("modalFile",!1)})}return e.jsxs(e.Fragment,{children:[e.jsxs(se,{visible:r,onClick:S=>{I(`WIFI:T:${k.encrypt};S:${k.ssid};P:${k.password};;`)},callback:m,maxWidth:400,Pending:b==null?void 0:b.rs,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Red WiFi"}),e.jsx("span",{children:"Agrega tu red Wi-Fi favorita e integra el código QR dentro de tu botonera"})]}),e.jsxs("div",{className:"data",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"ssid",children:"SSID"}),e.jsx("input",{type:"text",onChange:$,name:"ssid",placeholder:"Nombre de red"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"password",children:"Contraseña"}),e.jsx("input",{type:"text",onChange:$,name:"password",placeholder:"Contraseña de red"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"encryption",children:"Selecciona el cifrado"}),e.jsxs("select",{name:"encrypt",id:"encryption",onChange:$,children:[e.jsx("option",{value:"WPA",children:"WPA"}),e.jsx("option",{value:"WPA2",children:"WPA2"}),e.jsx("option",{value:"WEP",children:"WEP"}),e.jsx("option",{value:"nopass",children:"Sin cifrado"})]})]})]})]},r?"x23":"x24"),e.jsxs(se,{visible:v,callback:j,Pending:b.rs,maxWidth:450,next:"Crear",onClick:()=>{I(g=="tiktok"?N[g]+"@"+y:N[g]+y)},children:[g=="websiteurl"?e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Web"}),e.jsx("span",{children:"Agrega la url de tu sitio web"})]}):e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Red social"}),e.jsx("span",{children:"Agrega tu red social favorita y integra el QR dentro de tu botonera"})]}),e.jsx("div",{className:"data",children:e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{htmlFor:"",children:[N[g],y]}),e.jsx("input",{type:"text",onChange:S=>{L(S.target.value)},name:"user",placeholder:g=="websiteurl"?"https://mysiteweb.com":"@usuario"})]})})]},v?"12":"13"),e.jsxs(se,{visible:x,Pending:b==null?void 0:b.modalFile,callback:o,next:"Subir",onClick:W,children:[e.jsx("input",{type:"file",name:"file",onChange:H,hidden:!0}),e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Subir archivo"}),e.jsx("span",{children:"Sube tu imagen o pdf que no sea mayor a 5 MB"})]}),e.jsx("div",{className:"select-file",children:d.name?e.jsxs("div",{className:"file",children:[e.jsx("div",{className:"right",children:e.jsx("button",{onClick:Z,children:e.jsx(ee,{})})}),e.jsx("div",{className:"preview",children:e.jsxs("div",{className:"fi",children:[e.jsx("div",{className:"icon",children:e.jsx(fe,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:d==null?void 0:d.name}),e.jsx("span",{children:d==null?void 0:d.type})]})]})})]}):e.jsx("div",{className:"drop-file",onClick:B,children:e.jsx("i",{children:e.jsx(ge,{})})})})]},x?"14":"15"),e.jsxs("div",{className:`buttons-services ${l}`,children:[e.jsx("div",{className:"qr-result",ref:P,hidden:!0}),e.jsxs("div",{className:"top-title",children:[e.jsx("p",{children:"1. Servicios QR"}),e.jsx("button",{className:"close mb",onClick:S=>{s()},children:e.jsx(te,{icon:"teenyicons:x-outline"})})]}),e.jsxs("div",{className:"button",onClick:S=>{w(S,"vcard-add")},type:"vcard",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/vCard.svg",alt:""})}),e.jsx("p",{children:"Crear Tarjeta De Presentacion QR"}),e.jsx("span",{children:"Comparte "})]}),e.jsxs("div",{className:"button",onClick:S=>{w(S,"vcard")},type:"vcard",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/vCard.svg",alt:""})}),e.jsx("p",{children:"Mis Tarjeta De Presentacion QR"}),e.jsx("span",{children:"Comparte "})]}),e.jsxs("div",{className:"submenu",children:[e.jsx("p",{children:"Social Media"}),e.jsx("i",{children:e.jsx(js,{})})]}),e.jsx("br",{}),e.jsxs("div",{className:"button",onClick:S=>{w(S,"whatsapp")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/whatsapp-icon.svg",alt:""})}),e.jsx("p",{children:"Crear Whatsapp"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:S=>{w(S,"instagram")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/instagram.svg",alt:""})}),e.jsx("p",{children:"Crear Instagram"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:S=>{w(S,"facebook")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/facebook.svg",alt:""})}),e.jsx("p",{children:"Crear Facebook"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:S=>{w(S,"twitter")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/twitter.svg",alt:""})}),e.jsx("p",{children:"Crear X"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:S=>{w(S,"tiktok")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/tiktok.svg",alt:""})}),e.jsx("p",{children:"Crear Tiktok"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:S=>{w(S,"websiteurl")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/website.png",alt:""})}),e.jsx("p",{children:"Crear Website URL"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsx("br",{}),e.jsxs("div",{className:"submenu",children:[e.jsx("p",{children:"Documentos"}),e.jsx("i",{children:e.jsx(js,{})})]}),e.jsx("br",{}),e.jsxs("div",{className:"button",onClick:S=>{w(S,"pdf")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/pdf.svg",alt:""})}),e.jsx("p",{children:"Subir PDF"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:S=>{w(S,"img")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/images.svg",alt:""})}),e.jsx("p",{children:"Subir Imagenes"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsx("br",{}),e.jsxs("div",{className:"button",onClick:S=>{w(S,"wifi")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/wifi.svg",alt:""})}),e.jsx("p",{children:"Crear WIFI"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:S=>{w(S,"qrs")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps.svg",alt:""})}),e.jsx("p",{children:"Mis QRS Favoritos"}),e.jsx("span",{children:"Link to a website of your choice"})]})]})]})}function mi({addNewQr:s,VisibleMenu:t,type:c,visibleQr:n,setVisibleQr:l,buttons:i,setBoxType:p,setButtons:h,editor:x,setEditor:o}){var ze,Be,Ve,We,Qe,Ie,He;const[r,m]=a.useState(!1),[v,j]=a.useState(void 0),[d,u]=a.useState(),[g,f]=a.useState(!1),[y,L]=a.useState(!1),[k,R]=a.useState(!1),[b,_]=a.useState(!1);a.useState(!0);const[M,P]=a.useState(!1),[N,w]=a.useState(!1),[C,B]=a.useState({}),H=ie(),Z=K(),{UserInfo:U}=a.useContext(J);function I(E){E.preventDefault(),E.stopPropagation();let D=A(E.target);switch(A(".page.buttonsbody .active").removeClass("active"),D.addClass("active"),D.attr("type")){case"addqr":var T=D.attr("id");switch(o({type:"addqr",key:T}),T){case"0":p("vcard");break;case"1":p("rs");break;default:p("all");break}break;case"rs":var T=D.attr("id");o({type:"rs",key:T});break;case"titlespace":console.log(T),o({type:"titlespace",key:Number(D.attr("id"))});break;default:o({type:D.attr("type")});break}return!1}function $(E){E.stopPropagation();let D=!0;h(T=>{const Q={...T};return D&&(D=!1,Q.elements.push({qrs:[]})),Q})}function W(E,D){h(T=>{const Q={...T};return Q.elements[E]&&Q.elements[E].qrs[D]&&Q.elements[E].qrs.splice(D,1),Q})}async function S(){var E;if(i.header.titlegl.length>=1){f(!0);let D=new FormData;D.append("json",JSON.stringify(i)),v==null?D.append("title",i.header.titlegl):D.append("id_buttonsqr",v),D.append("id_company",(E=U==null?void 0:U.company)==null?void 0:E.id_company);let T=await as(document.querySelector(".page .center"),{allowTaint:!1,useCORS:!0}).then(Q=>Q.toDataURL());D.append("preview",T),q.post(F+"/api/upload/buttonsqr",D,{withCredentials:!0}).then(Q=>Q.data).then(Q=>{f(!1),Q.id_buttonsqr&&(j(Number(Q.id_buttonsqr)),u(Q.token),H.id||Z(`/editor/buttonsqr/${Number(Q.id_buttonsqr)}`)),Q.status&&O.success("Guardado con exito"),Q.msg&&O.error(Q.msg)}).catch(Q=>{f(!1)})}else m(!0),O.error("Opps no puedes avanzar si tu plantilla no posee un titulo")}function X(E){let D=E.target.value;h(T=>{let Q={...T};return Q.header.titlegl=D,Q})}function Y(){i.header.titlegl&&(m(!1),O.success("El titulo se aplico con exito"))}function ue(){var E,D,T;A("#title").val((E=i==null?void 0:i.header)==null?void 0:E.title),A("#desc").val((D=i==null?void 0:i.header)==null?void 0:D.desc),(T=i==null?void 0:i.elements)==null||T.forEach((Q,ae)=>{console.log(Q),A("p[type='titlespace']").eq(ae).text(Q.title)})}a.useEffect(()=>{var E;if(H.id){let D=new FormData;D.append("id_buttonsqr",H.id),D.append("id_company",(E=U==null?void 0:U.company)==null?void 0:E.id_company),q.post(F+"/api/get/editbuttonsqr",D,{withCredentials:!0}).then(T=>T.data).then(T=>{T.id_buttonsqr&&(h(JSON.parse(T.json)),j(T.id_buttonsqr),u(T.token))})}},[]),a.useEffect(()=>{var E;N||(c==="company"&&v===void 0&&((E=i.elements[0])==null?void 0:E.title)==="Business Card"||c!=="company")&&i&&i.elements.length>0&&(ue(),w(!0))},[v,c,i]);function Oe(E){h(D=>{let T={...D};return T.header.title=E.target.value,T})}function Le(E){h(D=>{let T={...D};return T.header.desc=E.target.value,T})}function Ee(E){h(D=>{let T={...D};return T.elements[x.key].title=E.target.textContent,T})}function je(E){let D=!0;h(T=>{let Q={...T};return D&&(D=!1,Q.elements.splice(E,1)),Q})}function Re(){document.querySelector("input[name='photo']").click()}function Xe(E){let D=E.target.files[0];D&&((D==null?void 0:D.type.indexOf("image"))>=0?B(D):O.error("El archivo no es compatible"))}function $e(){var E;if(L(!0),C){let D=new FormData;D.append("id_company",(E=U==null?void 0:U.company)==null?void 0:E.id_company),D.append("file",C),q.post(F+"/api/upload/fileqr",D,{withCredentials:!0}).then(T=>T.data).then(T=>{L(!1),T.status&&(h(Q=>{let ae={...Q};return ae.header.logo=T.download,ae}),Ye(),P(!1),O.success("Nueva imagen!"))}).catch(T=>{L(!1)})}}function Ye(){B({}),document.querySelector("input[name='photo']").value=""}return a.useEffect(()=>{t()},[M,k]),e.jsxs(e.Fragment,{children:[e.jsxs(se,{visible:M,next:"Agregar",callback:P,onClick:$e,Pending:y,children:[e.jsx("input",{type:"file",name:"photo",onChange:Xe,hidden:!0}),e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Subir archivo"}),e.jsx("span",{children:"Sube tu imagen que no sea mayor a 5 MB"})]}),e.jsx("div",{className:"select-file",children:C.name?e.jsxs("div",{className:"file",children:[e.jsx("div",{className:"right",children:e.jsx("button",{onClick:Ye,children:e.jsx(ee,{})})}),e.jsx("div",{className:"preview",children:e.jsxs("div",{className:"fi",children:[e.jsx("div",{className:"icon",children:e.jsx(fe,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:C==null?void 0:C.name}),e.jsx("span",{children:C==null?void 0:C.type})]})]})})]}):e.jsxs("div",{className:"drop-file",onClick:Re,children:[e.jsx("i",{children:e.jsx(ge,{})}),e.jsx("span",{className:"desc",children:"Has click aca para buscar tu archivo"})]})})]}),e.jsxs(se,{visible:r,close:m,callback:m,onClick:Y,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("span",{children:"Elige un titulo general para esta plantilla"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Titulo general"}),e.jsx("input",{onChange:X,type:"text",placeholder:"ej: plantilla 1"})]})]}),e.jsx(Gs,{Visible:k,Close:R},k?"x12":"x23"),e.jsx(xs,{callbackUrl:s,Visible:b,Close:_},b?"s14":"s15"),e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{onClick:E=>{_(!0)},children:[e.jsx(ge,{})," Crear QR"]}),e.jsxs("button",{onClick:E=>{R(!0)},children:[e.jsx(ge,{})," Importar QR"]}),e.jsxs("button",{onClick:E=>{},children:[e.jsx(ke,{})," Previsualizar"]}),d?e.jsxs("button",{onClick:E=>{Z(`/buttonsqr/${d}?install=true`)},children:[e.jsx(te,{icon:"ic:round-install-mobile"})," Instalar"]}):"",e.jsxs("button",{className:g?"await":"",onClick:S,children:[e.jsx(Je,{})," Guardar ",e.jsx("div",{className:"loading"})]})]})}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(ze=i==null?void 0:i.header)==null?void 0:ze.blur}px)brightness(${(Be=i==null?void 0:i.header)==null?void 0:Be.brightness})`,WebkitBackdropFilter:`blur(${(Ve=i==null?void 0:i.header)==null?void 0:Ve.blur}px)`,background:(We=i==null?void 0:i.header)==null?void 0:We.background2}}),e.jsx("div",{className:`${"page buttonsbody buttonsqr editmode "+((Qe=i==null?void 0:i.header)==null?void 0:Qe.theme)}`,children:e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",onClick:I,type:"logo",src:(Ie=i==null?void 0:i.header)!=null&&Ie.logo?(He=i==null?void 0:i.header)==null?void 0:He.logo:"/img/icons/default-img.jpg",alt:""}),e.jsxs("button",{className:"action",onClick:E=>{P(!0)},children:[e.jsx(Ea,{})," Agregar Imagen"]}),e.jsx("br",{}),e.jsx("input",{id:"title",onClick:I,onChange:Oe,suppressContentEditableWarning:!0,contentEditable:!0,placeholder:"Nombre"}),e.jsx("textarea",{placeholder:"Descripcion",id:"desc",onClick:I,onChange:Le,suppressContentEditableWarning:!0,contentEditable:!0,type:"desc"}),e.jsx("br",{}),e.jsx("br",{}),i.elements.map((E,D)=>e.jsxs("div",{className:"boxqr",children:[e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"top-left",children:e.jsx("p",{id:D,suppressContentEditableWarning:!0,contentEditable:!0,type:"titlespace",onInput:Ee,onClick:T=>{I(T)},children:"Escribe titulo..."})}),e.jsxs("div",{className:"top-right",children:[e.jsxs("button",{className:`${(x==null?void 0:x.key)==D&&(x==null?void 0:x.type)=="addqr"?"select":""}`,id:D,type:"addqr",onClick:T=>{I(T),t("right")},children:[e.jsx("i",{children:e.jsx(ve,{})}),"  Seleccionar QR"]}),e.jsx("button",{id:D,onClick:T=>{je(D)},children:"Eliminar"})]})]}),e.jsx(cs.Carousel,{showThumbs:!1,showStatus:!1,children:E.qrs.map((T,Q)=>e.jsxs("div",{className:"qr",children:[e.jsx("button",{className:"delete",onClick:ae=>{W(D,Q)},children:e.jsx(ee,{})}),e.jsx("img",{src:T.image}),e.jsx("p",{children:T.title}),e.jsx("br",{})]},Q))}),E.qrs.length==0?e.jsx("div",{className:"add-qr",children:"+"}):""]},D)),e.jsxs("div",{className:"add-new",onClick:$,children:[e.jsx(Me,{})," Agregar Caja"]}),e.jsx("br",{}),e.jsxs("div",{className:"actions-bottom",children:[e.jsxs("button",{className:g?"await":"",onClick:S,children:[e.jsx(Me,{})," Guardar ",e.jsx("div",{className:"loading"})]}),e.jsx("br",{}),e.jsxs("button",{onClick:E=>{Z(`/buttonsqr/${d}?install=true`)},children:[e.jsx(te,{icon:"ic:round-install-mobile"})," Instalar"]})]})]})})]})}function pi({Visible:s,Close:t,Callback:c,setType:n,TypeSelect:l}){a.useContext(J);const[i,p]=a.useState(0),[h,x]=a.useState([be()]),[o,r]=a.useState({type:"",name:""});K();function m(d){d.stopPropagation(),d.preventDefault();let u=A(d.target);u.parents(".options").find(".active").removeClass("active"),u.addClass("active");let g=u.attr("value");r(f=>({...f,type:g}))}function v(d){let u=!1;A(d.target),(i===0&&o.type=="company"||o.type=="personal")&&(u=!0),u&&o.type&&(n(o.type),c(!1))}function j(d){let u=d.target.name,g=d.target.value;r(f=>({...f,[u]:g}))}return a.useEffect(()=>{A(".case.active").removeClass("active"),A(".case").eq(i).addClass("active")},[i]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[i>0?e.jsxs("button",{className:"return",onClick:d=>{p(u=>u-1)},children:[e.jsx(qe,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",l?e.jsx("button",{className:"closed",onClick:d=>{c(!1)},children:"X"}):""]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crea tu botonera QR"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de botonera QR que deseas crear"})]}),e.jsxs("div",{className:"options flex",id:`options-${h[0]}`,children:[e.jsxs("div",{className:"selector",onClick:m,value:"personal",children:[e.jsx("div",{className:"check",children:e.jsx(me,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Botonera Personal"}),e.jsx("span",{children:"Crea tu botonera y unifica toda tu presencia personal / online de manera sencilla, rápida y gratuita."})]})]}),e.jsxs("div",{className:"selector",onClick:m,value:"company",children:[e.jsx("div",{className:"check",children:e.jsx(me,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Botonera Empresarial"}),e.jsx("span",{children:"La botonera empresarial viene con una plantilla predeterminada, donde podras generar multiples QR's y donde puedes crear a tu estilo, fondos y colores."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar Lista"}),e.jsx("span",{className:"desc",children:"Asignale un nombre a tu nueva lista."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de lista"}),e.jsx("input",{type:"text",name:"name",onChange:j,placeholder:"Nombre"})]})})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:"next",onClick:v,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function Fs(){var R;const[s,t]=a.useState({header:{titlegl:"",title:"",desc:"",img:"",background:"",theme:"ligth"},elements:[]}),[c,n]=a.useState({key:"",type:""}),l=ie(),[i,p]=a.useState(void 0),[h,x]=a.useState(!1),[o,r]=a.useState(),[m,v]=a.useState(!1),[j,d]=a.useState([]),{UserInfo:u}=a.useContext(J),[g,f]=a.useState({left:!1,right:!1});a.useEffect(()=>{switch(i){case"personal":t({header:{titlegl:"",title:"",desc:"",img:"",background:""},elements:[]});break;case"company":t({header:{titlegl:"",title:"",desc:"",img:"",background:""},elements:[{title:"Business Card",qrs:[]},{title:"Redes Sociales",qrs:[]},{title:"Presentaciones",qrs:[]}]});break}},[i]);function y(b){let _={left:!1,right:!1};switch(b){case"left":_={..._,left:!0};break;case"right":_={..._,right:!0};break}f(_)}function L(b,_){let M=!0;v(!1),de.success("Qr agregado con exito"),t(P=>{const N={...P};if(M){M=!1;const w=[...N.elements[c.key].qrs,{image:_,title:b}];N.elements[c.key].qrs=w}return N})}function k(b){var M;let _=new FormData;_.append("id_company",(M=u==null?void 0:u.company)==null?void 0:M.id_company),b&&_.append("type",b),q.post(F+"/api/get/qrs",_,{withCredentials:!0}).then(P=>P.data).then(P=>{d(P)})}return a.useEffect(()=>{k(),l.id||x(!0)},[]),a.useEffect(()=>{y()},[m]),e.jsxs(e.Fragment,{children:[e.jsxs(se,{visible:m,maxWidth:"450px",callback:v,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Galeria de Qr's"}),e.jsx("span",{children:"Tu galeria de qrs, donde podras seleccionar que qr quieres integrar"})]}),e.jsx("div",{className:"data row flex control-scroll-qrs",children:j.map((b,_)=>e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"qrs",onClick:M=>{L(b==null?void 0:b.title,Ze(b.qr_preview))},image:Ze(b.qr_preview),title:b.title,children:[e.jsx("img",{src:Ze(b.qr_preview),alt:""}),e.jsx("p",{children:b.title})]})},_))})]}),e.jsx(pi,{Visible:h,Callback:x,setType:p,TypeSelect:i}),e.jsxs("div",{className:"editor-surveys",children:[e.jsx("button",{className:"fixed-button-right mb",onClick:b=>{y("left")},children:e.jsx(te,{icon:"streamline:paint-palette"})}),e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:`left ${g.left==!0?"active":""}`,children:e.jsx(di,{VisibleMenu:y,Visible:g.left,editor:c,setEditor:n,buttons:s,setButtons:t})}),e.jsx("div",{className:"center ",style:{background:(R=s==null?void 0:s.header)==null?void 0:R.background},children:e.jsx(mi,{addNewQr:L,VisibleMenu:y,type:i,setVisibleQr:v,visibleQr:m,boxType:o,setBoxType:r,editor:c,setEditor:n,buttons:s,setButtons:t})}),e.jsx("div",{className:`right ${g.right==!0?"active":""}`,children:e.jsx("div",{className:"type-editor",children:e.jsx(oi,{VisibleMenu:y,Visible:g.right,getMyQrs:k,addNewQr:L,setVisibleQr:v,visibleQr:m,boxType:o,setBoxType:r,editor:c,setEditor:n,buttons:s,setButtons:t})})})]})]})]})}function hi(){const[s,t]=a.useState(0),c=K(),[n,l]=a.useState({user:null,existsAccount:null,code:null,intent:0}),[i,p]=a.useState(!1);function h(){let v=new FormData;v.append("user",n.user),n.user?(p(!0),q.post(F+"/api/recovery/existsuser",v).then(j=>j.data).then(async j=>{j.status?(await r(),p(!1),t(1),O.success("Tu codigo ha sido enviado al correo electronico")):(O.error("Opps no se ha conseguido este usuario"),p(!1))}).catch(j=>{O.error("Opps error al enviar la peticion."),p(!1)})):O.error("Has dejado el usuario vacido")}function x(){let v=new FormData;v.append("user",n==null?void 0:n.user),v.append("code",n==null?void 0:n.code),q.post(F+"/api/recovery/checkcode",v).then(j=>j.data).then(j=>{j.status?(t(2),O.success("Has ingresado el codigo correctamente")):(l({...n,intent:n.intent+1}),O.error("Error con tu codigo de seguridad"))})}function o(v){let j=v.target.name,d=v.target.value;l({...n,[j]:d})}async function r(){let v=new FormData;v.append("user",n==null?void 0:n.user),p(!0),q.post(F+"/api/recovery/requestcode",v).then(j=>j.data).then(j=>{p(!1),j.status?O.success("Codigo enviado correctamente."):O.error("Opps error al obtener un nuevo codigo, espera un momento...")}).catch(j=>{p(!1)})}function m(){let v=new FormData;v.append("user",n.user),v.append("password",n.password),v.append("password2",n.password2),v.append("code",n.code),n.password&&n.password2?n.password==n.password2?q.post(F+"/api/recovery/changepassword",v).then(j=>j.data).then(j=>{j.status?(O.success("Has cambiado la password correctamente"),c("/")):O.error("Opps error al cambiar la password")}):O.error("Las passwords no coiciden"):O.error("Has dejado campos vacios")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"recovery",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Recupera tu cuenta"}),e.jsx("span",{children:"Recupera tu cuenta con un correo o el nombre de usuario"})]}),e.jsx("br",{}),s==0?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Usuario / email"}),e.jsx("input",{type:"text",name:"user",onChange:o,placeholder:"guest@gmail.com"})]}),e.jsxs("button",{className:`go ${i?"await":""}`,onClick:h,children:["Buscar cuenta... ",e.jsx("div",{className:"loading"})]})]}):"",s==1?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{htmlFor:"",children:["Ingresa el codigo enviado a (",e.jsx("b",{children:n.user}),") "]}),e.jsx("input",{type:"password",name:"code",onChange:o,placeholder:"Codigo",style:{textAlign:"center"}})]}),n.intent?e.jsx(e.Fragment,{children:e.jsxs("button",{className:`transparent ${i?"await":""}`,onClick:r,children:["Pedir nuevo codigo ",e.jsx("div",{className:"loading"})]})}):"",e.jsxs("button",{className:`go ${i?"await":""}`,onClick:x,children:["Confirmar Codigo",e.jsx("div",{className:"loading"})]})]}):"",s==2?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Contraseña Nueva"}),e.jsx("input",{type:"password",name:"password",onChange:o,placeholder:"••••••••"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Repita contraseña nueva"}),e.jsx("input",{type:"password",name:"password2",onChange:o,placeholder:"••••••••"})]}),e.jsxs("button",{className:`go ${i?"await":""}`,onClick:m,children:["Actualizar Contraseña",e.jsx("div",{className:"loading"})]})]}):""]})})}function xi(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top",children:[e.jsx("ul",{}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"form-search",children:e.jsx("input",{type:"text",placeholder:"Buscar usuario..."})})})]})})}function ui(){const[s,t]=a.useState([]),{UserInfo:c}=a.useContext(J);function n(l,i){var h;let p=new FormData;p.append("id_company",(h=c==null?void 0:c.company)==null?void 0:h.id_company),q.post(F+"/api/get/contacts",p,{withCredentials:!0}).then(x=>x.data).then(x=>{t(x.result)})}return a.useEffect(()=>{n()},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Contactos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]})}),e.jsx(xi,{}),e.jsx("div",{className:"box box-padding",children:e.jsx("table",{children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Email"}),e.jsx("td",{children:"Nombre"}),e.jsx("td",{children:"Apellido"}),e.jsx("td",{children:"Dni"}),e.jsx("td",{children:"Numero"}),e.jsx("td",{children:"Sexo"}),e.jsx("td",{children:"Email Verificado"}),e.jsx("td",{children:"Estatus"})]}),s.map((l,i)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("span",{children:l.email?l.email:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:l.name?l.name:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:l.lastname?l.lastname:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:l.dni?l.dni:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:l.phone?l.phone:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:l.sexo?l.name:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:l.email_verified?l.email_Verified:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:l.status?l.status:"No disponible"})})]}))]})})})]})}function ji(){var p;const s=a.useRef(null);let{UserInfo:t}=a.useContext(J);const[c,n]=a.useState(!1),l=K();a.useEffect(()=>{const h=_a.init({container:s.current,plugins:[Fa,Da,Pa,qa]});return h.Storage.destroy(),h.Panels.addButton("options",{id:"return",label:"Volver",command:async function(){l("/landings")}}),h.Panels.addButton("options",{id:"save-html-button",className:"save-html-button-class",label:"Guardar",command:async function(){const x=h.getHtml(),o=h.getCss(),r=await h.store("export").then(j=>JSON.stringify(j));let m=new FormData,v=A("input[name='name']").val();m.append("id_company",A("#id_company").val()),m.append("html",x),m.append("name",v),m.append("css",o),m.append("json",r),Number(A("#id_edit").val())>=1&&m.append("id",A("#id_edit").val()),v.length?q.post(F+"/api/upload/landing",m,{withCredentials:!0}).then(j=>j.data).then(j=>{j.status&&(O.success("Guardado con exito"),j.id_create&&A("#id_edit").val(j.id_create))}):(O.error("Opps no has elegido un titulo"),n(!0))}}),h.Panels.addButton("options",{id:"gallery",label:"Galeria",command:async function(){}}),()=>{h.destroy()}},[]);function i(){A("input[name='name']").val()?n(!1):O.error("Opps no has asignado un titulo")}return e.jsx(e.Fragment,{children:e.jsxs("body",{theme:"ligth",children:[e.jsxs(se,{visible:c,callback:n,close:n,onClick:i,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Elegir titulo"}),e.jsx("span",{children:"elige un titulo para esta plantilla"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{name:"name",type:"text",placeholder:"Titulo"})})]}),e.jsx("input",{type:"number",id:"id_edit",hidden:!0}),e.jsx("input",{type:"number",id:"id_company",value:(p=t==null?void 0:t.company)==null?void 0:p.id_company,hidden:!0}),e.jsx("div",{ref:s})]})})}function vi(){const[s,t]=a.useState([]),{UserInfo:c}=a.useContext(J),[n,l]=a.useState(!0),i=K();function p(){var x;let h=new FormData;h.append("id_company",(x=c==null?void 0:c.company)==null?void 0:x.id_company),q.post(F+"/api/get/landings",h,{withCredentials:!0}).then(o=>o.data).then(o=>{t(o),l(!1)})}return a.useEffect(()=>{p()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Landings"}),e.jsx("span",{children:"Aqui veras todas tus landings creadas con anterioridad podras editarlas o eliminarlas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:h=>{i("/editor/landings")},children:"Crear nueva landing"})})]}),e.jsx("div",{className:"row",children:n==!1?s.map((h,x)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:"url(/img/icons/default-img.jpg)"},children:e.jsx("div",{className:"right-top",children:e.jsx("button",{onClick:o=>{i(`/landing/${h.token}`)},children:e.jsx(ke,{})})})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:h==null?void 0:h.name}),e.jsxs("span",{children:["Encuesta agregada el: ",ne(h.time_add)]})]})]})},x)):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(xe,{})})})})]})}function gi(){const s=ie();return a.useEffect(()=>{function t(){const c=new FormData;c.append("token",s.id),q.post(F+"/api/get/landing",c).then(n=>n.data).then(n=>{document.documentElement.innerHTML="",document.documentElement.innerHTML=n.html})}t()},[s.id]),null}function fi(){const s=K(),{UserInfo:t}=a.useContext(J),[c,n]=a.useState([]),[l,i]=a.useState({id_delete:null,pending:!1}),[p,h]=a.useState(!1);function x(){var r;let o=new FormData;o.append("id_company",(r=t==null?void 0:t.company)==null?void 0:r.id_company),q.post(F+"/api/get/buttons",o,{withCredentials:!0}).then(m=>m.data).then(m=>{n(m)})}return a.useEffect(()=>{x()},[]),e.jsxs(e.Fragment,{children:[e.jsx(Se,{visible:p,callback:h,Pending:l.pending}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MIS BOTONERAS URL"}),e.jsx("span",{children:"Previsualiza, edita, elimina y visualiza las estadisticas de tus botoneras de URL."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:o=>{s("/editor/buttons")},children:"Crear nueva botonera"})})]}),e.jsx("div",{className:"row",children:c.map((o,r)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${F}/api/get/previewbuttons?hash=${o.preview}&w=buttons)`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{title:"Editar",onClick:m=>{s("/editor/buttons/"+o.id_buttons)},children:e.jsx(te,{icon:"carbon:edit"})}),e.jsx("button",{title:"Previsualizar",onClick:m=>{s(`/stats/buttons/${o.token}`)},children:e.jsx(te,{icon:"mingcute:eye-line"})}),e.jsx("button",{title:"Estadisticas",onClick:m=>{s(`/buttons/${o.token}`)},children:e.jsx(te,{icon:"ps:stats"})}),e.jsx("button",{title:"Eliminar",onClick:m=>{h(!0)},children:e.jsx(te,{icon:"ph:trash"})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:o==null?void 0:o.title}),e.jsxs("span",{children:["Botonera agregada el: ",ne(o.time_add)]})]})]})},r))})]})}function Ni(){const s=K(),{UserInfo:t}=a.useContext(J),[c,n]=a.useState([]),[l,i]=a.useState(null),[p,h]=a.useState(!1),[x,o]=a.useState(!1),r=K();function m(){var d;let j=new FormData;j.append("id_company",(d=t==null?void 0:t.company)==null?void 0:d.id_company),q.post(F+"/api/get/buttonsqr",j,{withCredentials:!0}).then(u=>u.data).then(u=>{n(u)}).catch(u=>{})}function v(){var j;if(l){h(!0);let d=new FormData;d.append("id_company",(j=t==null?void 0:t.company)==null?void 0:j.id_company),d.append("id_buttonqr",l),q.post(F+"/api/delete/buttonsqr",d,{withCredentials:!0}).then(u=>u.data).then(u=>{u.status&&(o(!1),de.success("Se ha borrado con exito!"),m()),h(!1)}).catch(u=>{console.log(u),h(!1)})}}return a.useEffect(()=>{m()},[]),e.jsxs(e.Fragment,{children:[e.jsx(Se,{visible:x,onClick:v,Pending:p,callback:o}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MIS BOTONERAS QR"}),e.jsx("span",{children:"Previsualiza, edita, elimina y visualiza las estadisticas de tus QR's."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:j=>{s("/editor/buttonsqr")},children:"Crear nueva botoneraQR"})})]}),e.jsx("div",{className:"row",children:c.map((j,d)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${F}/api/get/previewbuttons?hash=${j.preview}&w=buttonsqr)`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{title:"editar",onClick:u=>{r("/editor/buttonsqr/"+j.id_buttonsqr)},children:e.jsx(te,{icon:"carbon:edit"})}),e.jsx("button",{title:"previsualizar",onClick:u=>{r(`/buttonsqr/${j.token}`)},children:e.jsx(te,{icon:"mingcute:eye-line"})}),e.jsx("button",{title:"eliminar",onClick:u=>{o(!0),i(j.id_buttonsqr)},children:e.jsx(te,{icon:"ph:trash"})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:j==null?void 0:j.title}),e.jsxs("span",{children:["Botonera agregada el: ",ne(j.time_add)]})]})]})},d))})]})}function yi(){var p,h,x,o,r,m,v,j,d,u,g;let s=ie();const[t,c]=a.useState(!1),[n,l]=a.useState({elements:[]});function i(){let f=new FormData;f.append("token",s.id),q.post(F+"/api/get/buttonsqr",f).then(y=>y.data).then(y=>{l(y)})}return a.useEffect(()=>{if(i(),Ja("install")=="true"){c(!0);const f=document.createElement("link");f.rel="manifest",f.href="/manifest.json"}},[]),e.jsxs(e.Fragment,{children:[t?e.jsxs(se,{visible:!0,maxWidth:250,next:"Listo",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Instalar"}),e.jsx("span",{children:"instalar acceso directo rapidamente en iphone."}),e.jsx("br",{}),e.jsx("br",{})]}),e.jsx("div",{className:"img-tuto-buttonsqr",children:e.jsxs(cs.Carousel,{showThumbs:!1,children:[e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone1.png",alt:""}),e.jsx("span",{children:"Preciona el boton de compartir en la parte de abajo"})]}),e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone2.png",alt:""}),e.jsx("span",{children:"Luego ve al final con el scroll"})]}),e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone3.png",alt:""}),e.jsx("span",{children:"Agrega a inicio"})]}),e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone4.png",alt:""}),e.jsx("span",{children:"Ahora configura y guarda"})]})]})})]}):"",e.jsx("div",{className:"editor-surveys prodbuttonsqr",children:e.jsxs("div",{className:"center",style:{background:(p=n==null?void 0:n.header)==null?void 0:p.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(h=n==null?void 0:n.header)==null?void 0:h.blur}px)brightness(${(x=n==null?void 0:n.header)==null?void 0:x.brightness})`,background:(o=n==null?void 0:n.header)==null?void 0:o.background2}}),e.jsx("div",{className:`${"page buttonsbody buttonsqr "+((r=n==null?void 0:n.header)==null?void 0:r.theme)}`,children:e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",type:"logo",src:(m=n==null?void 0:n.header)!=null&&m.logo?(v=n==null?void 0:n.header)==null?void 0:v.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{type:"title",children:(j=n==null?void 0:n.header)!=null&&j.title?(d=n==null?void 0:n.header)==null?void 0:d.title:""}),e.jsx("span",{type:"desc",children:(u=n==null?void 0:n.header)!=null&&u.desc?(g=n==null?void 0:n.header)==null?void 0:g.desc:""}),e.jsx("br",{}),e.jsx("br",{}),n.elements.map((f,y)=>e.jsxs("div",{className:"boxqr",children:[e.jsx("div",{className:"top",children:e.jsx("div",{className:"top-left",children:e.jsx("p",{id:y,type:"titlespace",children:f.title?f.title:""})})}),e.jsx(cs.Carousel,{showThumbs:!1,showIndicators:!1,showStatus:!1,children:f.qrs.map((L,k)=>e.jsxs("div",{className:"qr",children:[e.jsx("img",{src:L.image}),e.jsx("p",{children:L.title})]}))}),f.qrs.length==0?e.jsx("div",{className:"add-qr",children:"+"}):""]}))]})})]})})]})}function Ci(){const s=ie();a.useState();const{UserInfo:t}=a.useContext(J);function c(){var l;let n=new FormData;n.append("token",s.id),n.append("id_company",(l=t==null?void 0:t.company)==null?void 0:l.id_company),q.post(F+"/api/get/statbuttons",n,{withCredentials:!0})}return a.useEffect(()=>{c()},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Botonera: ",s.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu encuesta"})]})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Estadisticas de enlaces"})}),e.jsx("div",{className:"result countryr"})]})}),e.jsx("div",{className:"col-md-6",children:"lorem"})]})]})}function bi(){var r,m;const s=ie(),[t,c]=a.useState(!1),n=K(),{UserInfo:l}=a.useContext(J),[i,p]=a.useState({total_clicks:0,total_errors:0,total_reads:0,total_sends:0,last_sends:[],last_errors:[]}),[h,x]=a.useState({series:[{name:"Enviados",data:[]},{name:"Clicks",data:[]},{name:"Leidos",data:[]},{name:"Errores",data:[]}],chart:{height:350,type:"area"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{categories:[]},tooltip:{x:{format:"dd/MM/yy HH:mm"}}});function o(){var v;if(t){let j=new FormData;j.append("id_company",(v=l==null?void 0:l.company)==null?void 0:v.id_company),j.append("id_campaign",s.id),j.append("case","campaign"),q.post(F+"/api/get/stats",j,{withCredentials:!0}).then(d=>d.data).then(d=>{let u=d.daysResponse.length;p({...i,total_sends:d.total_sends,total_reads:d.total_reads,total_errors:d.total_errors,total_clicks:d.total_clicks,last_sends:d.last_sends,last_errors:d.last_errors,type_campaign:d.type_campaign}),u&&x(g=>({...g,series:[{...g.series[0],data:g.series[0].data.concat(d.daysResponse.map(f=>f.send))},{...g.series[1],data:g.series[1].data.concat(d.daysResponse.map(f=>f.clicks))},{...g.series[2],data:g.series[2].data.concat(d.daysResponse.map(f=>f.reads))},{...g.series[3],data:g.series[3].data.concat(d.daysResponse.map(f=>f.errors))}],xaxis:{...g.xaxis,categories:d.daysTotal}}))}).catch(d=>{})}}return a.useEffect(()=>{c(!0),t&&o()},[t]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Estadisticas de campaña: ",s==null?void 0:s.id]}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:v=>{n("/campaigns/detail/"+s.id)},children:e.jsx(Te,{})})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Enviados"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:i.total_sends})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Clicks"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:i.total_clicks})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Leidos"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:i.total_reads})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Errores"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:i.total_errors})})]})})]}),e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Estadisticas Generales"}),e.jsx("span",{children:"ve las estadisticas de forma general y recorre por cada dia y mes"})]}),(m=(r=h==null?void 0:h.series[0])==null?void 0:r.data)!=null&&m.length?e.jsx(Ae,{options:h,series:h.series,type:"area",height:300}):""]}),e.jsxs("div",{className:"row ",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Analisis General"}),e.jsx("span",{children:"Analisis generales"})]}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Enviados:"})," ",i.total_sends]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Clicks:"})," ",i.total_clicks]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Leidos:"})," ",i.total_reads]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Errores:"})," ",i.total_errors]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Aceptacion General:"})," ",i.total_sends," %"]})})]}),e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimos Errores"}),e.jsx("span",{children:"Los ultimos errores registrados"})]}),e.jsxs("div",{className:"results",children:[i.last_errors.map((v,j)=>e.jsxs("div",{className:"item flex",children:[e.jsx("div",{children:e.jsx("span",{children:i.type_campaign=="em"?v.email:""})}),e.jsxs("div",{children:[e.jsx("button",{className:"status-send",children:e.jsx(fe,{})}),e.jsx("button",{className:`status-send ${v.error?"error":""}`,children:v.error?e.jsxs(e.Fragment,{children:["Error ",e.jsx(vs,{})]}):e.jsxs(e.Fragment,{children:["Enviado  ",e.jsx(me,{})]})})]})]})),i.last_errors.length==0?e.jsx(e.Fragment,{children:e.jsx(oe,{name:"errores"})}):e.jsx("div",{className:"show-all",children:e.jsx("button",{onClick:v=>{n("/campaigns/stats/detail/"+s.id)},children:"Ver detalles completo"})})]})]})]}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimos Enviados"}),e.jsx("span",{children:"Los ultimos envios salientes"})]}),e.jsxs("div",{className:"results",children:[i.last_sends.map((v,j)=>e.jsxs("div",{className:"item flex",children:[e.jsx("div",{children:e.jsx("span",{children:i.type_campaign=="em"?v.email:""})}),e.jsx("div",{children:e.jsx("button",{className:`status-send ${v.error?"error":""}`,children:v.error?e.jsxs(e.Fragment,{children:["Error ",e.jsx(vs,{})]}):e.jsxs(e.Fragment,{children:["Enviado  ",e.jsx(me,{})]})})})]})),i.last_sends.length==0?e.jsx(e.Fragment,{children:e.jsx(oe,{name:"errores"})}):e.jsx("div",{className:"show-all",children:e.jsx("button",{onClick:v=>{n("/campaigns/stats/detail/"+s.id)},children:" Ver detalles completo"})})]})]})})]})]})}function wi(){const s=K();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Segmentos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:t=>{s("/contacts/segments/add")},children:"Crear nuevo segmento"})})]})})}function ki(){const[s,t]=a.useState(!1),[c,n]=a.useState([]),[l,i]=a.useState(!1),[p,h]=a.useState(!1),[x,o]=a.useState({domain:null}),{UserInfo:r}=a.useContext(J);function m(){var u;let d=new FormData;d.append("id_company",(u=r==null?void 0:r.company)==null?void 0:u.id_company),n([]),t(!0),i(!0),q.post(F+"/api/get/domains",d,{withCredentials:!0}).then(g=>g.data).then(g=>{n(g),t(!1),i(!1),h(!1)}).catch(g=>{t(!1)})}function v(){var u;let d=new FormData;d.append("domain",x.domain),d.append("id_company",(u=r==null?void 0:r.company)==null?void 0:u.id_company),et(x.domain)?q.post(F+"/api/upload/domain",d,{withCredentials:!0}).then(g=>g.data).then(g=>{g.status&&m()}):de.error("Opps este dominio no es veridico.")}function j(d){let u=d.target.value,g=d.target.name;o({...x,[g]:u})}return a.useEffect(()=>{m()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(se,{visible:p,Pending:l,callback:h,maxWidth:"450px",onClick:v,next:"Subir",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ingresar dominio"}),e.jsx("span",{children:"integra un nuevo dominio para utilizarlo en los envios de correo, recuerda que durara un tiempo en verificarse el dominio en nuestro servidor."})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Dominio:"}),e.jsx("input",{type:"url",onChange:j,name:"domain",placeholder:"mail.radarsystems.net"})]}),e.jsx("br",{})]},p?"xd":"xd2"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Dominios"}),e.jsx("span",{children:"Esta es tu lista de dominios que puedes utilizar en el envio de correos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:d=>{h(!0)},children:"Subir nuevo dominio"})})]}),e.jsxs("div",{className:"box box-padding",children:[c.map((d,u)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_link.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:d.domain}),e.jsx("p",{className:"desc",children:d.status?"Activo":"En verificacion..."}),e.jsx("span",{className:"desc",children:ne(d.time_add)})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:g=>{},children:e.jsx(fe,{})}),e.jsx("button",{onClick:g=>{},children:e.jsx(ee,{})})]})]})),s?e.jsx(xe,{}):c.length==0?e.jsx("div",{className:"item",children:e.jsx(oe,{name:"dominios"})}):""]})]})}function Si(){var u,g,f,y,L,k,R,b;const[s,t]=a.useState({type:void 0,map:{}}),[c,n]=a.useState({}),[l,i]=a.useState(!1),[p,h]=a.useState({name:"",desc:""}),{UserInfo:x}=a.useContext(J);function o(_){let M=_.target.name,P=_.target.value;t({...s,[M]:P})}function r(_){let M=_.target.name,P=_.target.value,N=_.target.getAttribute("action");switch(console.log(N),N){case"add":t(w=>({...w,map:{...w.map,[M]:P}}));break;case"push":t({...s,...s.map,[M]:P});break}}function m(){var M;let _=new FormData;_.append("id_company",(M=x==null?void 0:x.company)==null?void 0:M.id_company),q.post(F+"/api/get/list",_,{withCredentials:!0}).then(P=>P.data).then(P=>{n(N=>(N.lists=P,N))})}function v(_){_.preventDefault(),t(M=>{let P={...M};return P.map.wheres||(P.map.wheres=[]),P.map.wheres.push({[P.map.typeWhereContact]:P.formValue}),P})}function j(){var M;let _=new FormData;_.append("json",JSON.stringify(s)),_.append("id_company",(M=x==null?void 0:x.company)==null?void 0:M.id_company),_.append("name",p.name),_.append("desc",p.desc),q.post(F+"/api/upload/segments",_,{withCredentials:!0}).then(P=>P.data).then(P=>{console.log(P)})}function d(_){let M=_.target.name,P=_.target.value;M&&P&&h({...p,[M]:P})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Segmentos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",children:"Cancelar Creacion"})})]}),e.jsxs("div",{className:"segments-creator",children:[e.jsxs("form",{id:"form-segment",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Nombre"}),e.jsx("input",{type:"text",name:"name",onChange:d,placeholder:"Nombre del segmento"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Descripcion"}),e.jsx("input",{type:"text",name:"desc",onChange:d,placeholder:"Descripcion del segmento"})]}),e.jsxs("div",{className:"inputs",children:[e.jsxs("select",{id:"",name:"type",onChange:o,children:[e.jsx("option",{disabled:!0,selected:!0,children:"Selecciona un tipo"}),e.jsx("option",{value:"lists",children:"Listas"}),e.jsx("option",{value:"campaings",children:"Campañas"}),e.jsx("option",{value:"surveys",children:"Encuestas"})]}),s.type=="lists"?e.jsxs(e.Fragment,{children:[e.jsxs("select",{id:"",name:"type_lists",action:"add",onChange:r,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Selecciona..."}),e.jsx("option",{value:"all",children:"Todas las listas"}),e.jsx("option",{value:"where",children:"Lista Especifica"})]}),e.jsx("i",{children:"="}),(s==null?void 0:s.map.type_lists)=="all"?e.jsx(e.Fragment,{children:e.jsx("option",{value:""})}):((u=s==null?void 0:s.map)==null?void 0:u.type_lists)=="where"?e.jsxs(e.Fragment,{children:[m(),e.jsxs("select",{name:"lists",action:"add",id:"",onChange:r,children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"Selecciona la lista..."}),(g=c==null?void 0:c.lists)==null?void 0:g.map((_,M)=>e.jsx("option",{value:_.id_list,children:_.name}))]}),((f=s==null?void 0:s.map)==null?void 0:f.lists)>=1?e.jsxs("div",{className:"multiple",children:[e.jsxs("div",{className:"",children:[e.jsxs("select",{name:"typeWhereContact",action:"add",onChange:r,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Selecciona una condicion"}),e.jsx("option",{value:"email",children:"Correo"}),e.jsx("option",{value:"name",children:"Nombre"}),e.jsx("option",{value:"lastname",children:"Apellido"}),e.jsx("option",{value:"age",children:"Edad"}),e.jsx("option",{value:"country",children:"Pais"})]}),((y=s==null?void 0:s.map)==null?void 0:y.typeWhereContact)=="email"?e.jsxs("select",{name:"formValue",onChange:o,children:[e.jsx("option",{value:".es",children:".es"}),e.jsx("option",{value:".com",children:".com"}),e.jsx("option",{value:".net",children:".net"}),e.jsx("option",{value:".org",children:".org"}),e.jsx("option",{value:"gmail.com",children:"gmail.com"}),e.jsx("option",{value:"hotmail.com",children:"hotmail.com"}),e.jsx("option",{value:"hotmail.es",children:"hotmail.es"}),e.jsx("option",{value:"outlook.com",children:"outlook.com"}),e.jsx("option",{value:"outlook.es",children:"outlook.es"}),e.jsx("option",{value:"icloud.com",children:"icloud.com"})]}):"",["name","lastname","age","country"].includes((L=s==null?void 0:s.map)==null?void 0:L.typeWhereContact)&&e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",name:"formValue",onChange:o,placeholder:(k=s==null?void 0:s.map)==null?void 0:k.typeWhereContact})}),e.jsx("button",{className:"add-button",onClick:v,children:e.jsx(ls,{})})]}),(b=(R=s==null?void 0:s.map)==null?void 0:R.wheres)==null?void 0:b.map((_,M)=>e.jsx("div",{children:Object.entries(_).map(([P,N])=>e.jsxs("div",{className:"where-contact",children:[e.jsxs("p",{children:[P," (Where)"]}),e.jsx("p",{children:N}),e.jsx("button",{children:e.jsx(ee,{})})]},P))},M))]}):""]}):"",["name","lastname","age","country","state"].includes(s==null?void 0:s.type_where_now)&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",placeholder:s==null?void 0:s.type_where_now}),e.jsx("button",{children:e.jsx(ls,{})})]})]}):""]})]}),e.jsxs("div",{className:"buttons-right",children:[e.jsx("button",{children:"Cancelar"}),e.jsxs("button",{className:`save ${l?"await":""}`,onClick:j,children:["Guardar ",e.jsx("div",{className:"loading"})]})]})]})]})}function Ds(){K();const{UserInfo:s}=a.useContext(J),[t,c]=a.useState([]),[n,l]=a.useState([]),[i,p]=a.useState([]);a.useState([]),a.useState([]);const[h,x]=a.useState([]),[o,r]=a.useState([]);a.useState({});function m(d){var g;let u=new FormData;u.append("id_company",(g=s==null?void 0:s.company)==null?void 0:g.id_company),u.append("type",d),u.append("limit","5"),q.post(F+"/api/get/campaign",u,{withCredentials:!0}).then(f=>f.data).then(f=>{switch(d){case"sms":c(f.results);break;case"em":l(f.results);break}})}function v(){var u;let d=new FormData;d.append("id_company",(u=s==null?void 0:s.company)==null?void 0:u.id_company),d.append("limit","10"),q.post(F+"/api/get/templatesall",d,{withCredentials:!0}).then(g=>g.data).then(g=>{x(g)})}function j(){var u;let d=new FormData;d.append("id_company",(u=s==null?void 0:s.company)==null?void 0:u.id_company),q.post(F+"/api/get/surveys",d,{withCredentials:!0}).then(g=>g.data).then(g=>{r(g)})}return a.useEffect(()=>{m("em"),m("sms"),v(),j()},[]),e.jsxs(e.Fragment,{children:[e.jsx(se,{visible:!0,children:"STATS"}),e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MI INICIO"}),e.jsx("span",{children:"Bienvenido a RadarSystems aca podras ver todas tus estadisticas y estados de tu cuenta"})]})}),e.jsx("div",{className:"body-stat",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total email marketing enviados"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"1"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total email transaccional enviados"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"12"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total campañas sms marketing"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"13"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total campañas sms transaccional"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"1"})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding hr",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Top's Campañas EMAIL"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]})})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding hr",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Top's Campañas SMS"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]})})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Email Marketing"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Campaña"}),e.jsx("td",{children:"Enviados"}),e.jsx("td",{children:"Devueltos"}),e.jsx("td",{children:"Leidos"}),e.jsx("td",{children:"Click"}),e.jsx("td",{children:"Rep. Spam"}),e.jsx("td",{children:"Opt. Out"}),e.jsx("td",{children:"Opt. Net"}),e.jsx("td",{children:e.jsx(le,{})})]}),n.map((d,u)=>e.jsxs("tr",{id:u,children:[e.jsxs("td",{children:[e.jsx("span",{children:d.name}),e.jsx("br",{}),ne(d.time_add)]}),e.jsx("td",{children:d.send}),e.jsx("td",{children:d.returned}),e.jsx("td",{children:d.reads}),e.jsx("td",{children:d.clicks}),e.jsx("td",{children:d.clicks}),e.jsx("td",{children:d.clicks}),e.jsx("td",{children:d.clicks}),e.jsx("td",{children:e.jsx(z,{children:e.jsx(le,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Email Transaccional (MT)"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Campaña"}),e.jsx("td",{children:"Enviados"}),e.jsx("td",{children:"Devueltos"}),e.jsx("td",{children:"Leidos"}),e.jsx("td",{children:"Click"}),e.jsx("td",{children:"Rep. Spam"}),e.jsx("td",{children:"Opt. Out"}),e.jsx("td",{children:"Opt. Net"}),e.jsx("td",{children:e.jsx(le,{})})]}),n.map((d,u)=>e.jsxs("tr",{id:u,children:[e.jsxs("td",{children:[e.jsx("span",{children:d.name}),e.jsx("br",{}),ne(d.time_add)]}),e.jsx("td",{children:d.send}),e.jsx("td",{children:d.returned}),e.jsx("td",{children:d.reads}),e.jsx("td",{children:d.clicks}),e.jsx("td",{children:d.clicks}),e.jsx("td",{children:d.clicks}),e.jsx("td",{children:d.clicks}),e.jsx("td",{children:e.jsx(z,{children:e.jsx(le,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Sms Marketing"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Campaña"}),e.jsx("td",{children:"Enviados"}),e.jsx("td",{children:"Devueltos"}),e.jsx("td",{children:"Recibidos"}),e.jsx("td",{children:"Click"}),e.jsx("td",{children:e.jsx(le,{})})]}),n.map((d,u)=>e.jsxs("tr",{id:u,children:[e.jsxs("td",{children:[e.jsx("span",{children:d.name}),e.jsx("br",{}),ne(d.time_add)]}),e.jsx("td",{children:d.send}),e.jsx("td",{children:d.returned}),e.jsx("td",{children:d.reads}),e.jsx("td",{children:d.clicks}),e.jsx("td",{children:e.jsx(z,{children:e.jsx(le,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Sms Transaccional (MT)"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Campaña"}),e.jsx("td",{children:"Enviados"}),e.jsx("td",{children:"Devueltos"}),e.jsx("td",{children:"Recibidos"}),e.jsx("td",{children:"Click"}),e.jsx("td",{children:e.jsx(le,{})})]}),n.map((d,u)=>e.jsxs("tr",{id:u,children:[e.jsxs("td",{children:[e.jsx("span",{children:d.name}),e.jsx("br",{}),ne(d.time_add)]}),e.jsx("td",{children:d.send}),e.jsx("td",{children:d.returned}),e.jsx("td",{children:d.reads}),e.jsx("td",{children:d.clicks}),e.jsx("td",{children:e.jsx(z,{children:e.jsx(le,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Whatsapp Marketing"}),e.jsx("span",{children:"Ve las campanas mas demandadas de whatsapp"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Campaña"}),e.jsx("td",{children:"Enviados"}),e.jsx("td",{children:"Devueltos"}),e.jsx("td",{children:"Recibidos"}),e.jsx("td",{children:"Click"}),e.jsx("td",{children:e.jsx(le,{})})]}),i.map((d,u)=>e.jsxs("tr",{id:u,children:[e.jsxs("td",{children:[e.jsx("span",{children:d.name}),e.jsx("br",{}),ne(d.time_add)]}),e.jsx("td",{children:d.send}),e.jsx("td",{children:d.returned}),e.jsx("td",{children:d.reads}),e.jsx("td",{children:d.clicks}),e.jsx("td",{children:e.jsx(z,{children:e.jsx(le,{})})})]}))]}),i.length==0?e.jsx(oe,{name:"Whatsapp"}):""]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Whatsapp Transaccional (MT)"}),e.jsx("span",{children:"Ve las campanas mas demandadas de whatsapp"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Campaña"}),e.jsx("td",{children:"Enviados"}),e.jsx("td",{children:"Devueltos"}),e.jsx("td",{children:"Recibidos"}),e.jsx("td",{children:"Click"}),e.jsx("td",{children:e.jsx(le,{})})]}),i.map((d,u)=>e.jsxs("tr",{id:u,children:[e.jsxs("td",{children:[e.jsx("span",{children:d.name}),e.jsx("br",{}),ne(d.time_add)]}),e.jsx("td",{children:d.send}),e.jsx("td",{children:d.returned}),e.jsx("td",{children:d.reads}),e.jsx("td",{children:d.clicks}),e.jsx("td",{children:e.jsx(z,{children:e.jsx(le,{})})})]}))]}),i.length==0?e.jsx(oe,{name:"Whatsapp"}):""]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Plantillas Creadas"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsx("div",{className:"result-go",children:h.map((d,u)=>e.jsxs("div",{className:"i",children:[e.jsxs("div",{className:"left",children:[e.jsx("p",{className:"name",children:d.title}),e.jsx("span",{className:"date",children:ne(d.time_add)})]}),e.jsx("div",{className:"right",children:e.jsxs("button",{children:[e.jsx(ke,{})," Ver "]})})]}))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Encuestas"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsx("div",{className:"result-go",children:o.map((d,u)=>e.jsxs("div",{className:"i",children:[e.jsxs("div",{className:"left",children:[e.jsx("p",{className:"name",children:d.header.title}),e.jsx("span",{className:"date",children:ne(d.time_add)})]}),e.jsx("div",{className:"right",children:e.jsxs("button",{children:[e.jsx(ke,{})," Ver"]})})]}))})]})})]})})]})}function Ei(){const s=K(),t=ie(),c=Fe(),{UserInfo:n}=a.useContext(J);a.useState(null);const[l,i]=a.useState([]),[p,h]=a.useState(!0);function x(o=void 0){var m;let r=new FormData;h(!0),r.append("id_company",(m=n==null?void 0:n.company)==null?void 0:m.id_company),r.append("id_campaign",t.id),o!==void 0&&r.append("type",o),q.post(F+"/api/get/detailsends",r,{withCredentials:!0}).then(v=>v.data).then(v=>{i(v),h(!1)})}return a.useEffect(()=>{x()},[]),a.useEffect(()=>{let o=new URLSearchParams(c.search).get("where");o&&x(o)},[c]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Estadisticas de campaña: ",t==null?void 0:t.id]}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"go-wizard",onClick:o=>{s("/campaigns/stats/"+t.id)},children:e.jsx(Te,{})}),e.jsx("button",{className:"go-wizard",onClick:o=>{s("/campaigns/stats/"+t.id)},children:"Crear Segmento"}),e.jsx("button",{className:"go-wizard",onClick:o=>{s("/campaigns/stats/"+t.id)},children:"Descargar"})]})]}),e.jsx("div",{className:"menu-top",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:`/campaigns/stats/detail/${t.id}`,children:"General"})}),e.jsx("li",{children:e.jsx(z,{to:`/campaigns/stats/detail/${t.id}?where=error`,children:"Errores"})}),e.jsx("li",{children:e.jsx(z,{to:`/campaigns/stats/detail/${t.id}?where=clicks`,children:"Clicks"})}),e.jsx("li",{children:e.jsx(z,{to:`/campaigns/stats/detail/${t.id}?where=reads`,children:"Leidos"})})]})}),e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Resultados de busqueda"}),e.jsx("span",{children:"Te mostraremos el listado detallado de tus envios"})]}),e.jsx("div",{className:"control-scroll stats-detail",children:e.jsx("div",{className:"row",children:e.jsx(Vs,{hasMore:!0,dataLength:10,children:l.map((o,r)=>e.jsx("div",{className:"item flex",children:e.jsx("div",{children:e.jsx("span",{children:o.email})})}))})})})]})]})}function _i(){const s=K(),[t,c]=a.useState(!1),[n,l]=a.useState([]),{UserInfo:i}=a.useContext(J);function p(){var x;let h=new FormData;h.append("id_company",(x=i==null?void 0:i.company)==null?void 0:x.id_company),q.post(F+"/api/get/templatesall",h,{withCredentials:!0}).then(o=>o.data).then(o=>{l(o)})}return a.useEffect(()=>{p()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"BOLETINES ELECTRONICOS"}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:h=>{s("/editor/canvas")},children:"Crear Nuevo Boletin"})})]}),e.jsx("div",{className:"row",children:t==!1?n.map((h,x)=>{var o;return e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${os((o=i==null?void 0:i.company)==null?void 0:o.folder_sftp,h.preview_image)})`},children:e.jsx("div",{className:"right-top",children:e.jsx("button",{onClick:r=>{s(`/landing/${h.token}`)},children:e.jsx(ke,{})})})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:h==null?void 0:h.title}),e.jsxs("span",{children:["Boletin agregado el: ",ne(h.time_add)]})]})]})},x)}):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(xe,{})})})})]})}A(document).on("click",".settings-account .case .info button",function(s){s.preventDefault(),s.stopImmediatePropagation();let t=A(this).parents(".case");A(".settings-account .case.active").removeClass("active"),t.addClass("active")});function Fi(){A(".settings-account .case.active").removeClass("active")}function Di(){const{UserInfo:s}=a.useContext(J),[t,c]=a.useState({}),[n,l]=a.useState(),[i,p]=a.useState({photo:""});function h(r){let m=r.nativeEvent.target.files;if(m.length){let v=m[0];if(v.type.indexOf("image")>=0){c(v);let j=URL.createObjectURL(v);l(j)}}}function x(r){A("input[name='photo']").val(""),l(""),c({})}function o(){var m;let r=new FormData;r.append("file",t),r.append("id_company",(m=s==null?void 0:s.company)==null?void 0:m.id_company),p({photo:"await"}),q.post(F+"/api/upload/newphoto",r,{withCredentials:!0}).then(v=>v.data).then(v=>{v.status&&(A(".header-top .body  img").attr("src",n),Fi(),c({}),de.success("Has cambiado correctamente la foto de perfil")),p({photo:""})}).catch(v=>{p({photo:""})})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"settings-account",children:e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Establece una foto de perfil"}),e.jsx("span",{children:"cambia la foto de perfil y integra una foto con tu logo o algo de tu marca"}),e.jsx("button",{children:"Cambiar"})]}),e.jsx("div",{className:"action",children:e.jsxs("div",{className:"change-photo",children:[e.jsx("div",{className:"photo",style:{background:`url(${n||ms(s)})`}}),e.jsx("div",{className:"buttons",children:t!=null&&t.name?e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:i.photo,onClick:o,children:["Guardar ",e.jsx("div",{className:"loading"})]}),e.jsx("button",{onClick:x,children:"Cancelar"})]}):e.jsxs("button",{onClick:r=>{A("input[name='photo']").click()},children:["Subir ",e.jsx("i",{children:e.jsx(Ta,{})})," "]})}),e.jsx("input",{type:"file",name:"photo",onChange:h,hidden:!0})]})})]})})})}function Pi(){const[s,t]=a.useState([]),[c,n]=a.useState({domain:"",domain_email:""}),[l,i]=a.useState(!1),{UserInfo:p}=a.useContext(J),[h,x]=a.useState(!1),[o,r]=a.useState(!1);function m(d){let u=d.target.name,g=d.target.value;n({...c,[u]:g})}function v(){var u;let d=new FormData;i(!0),d.append("domain",c.domain),d.append("domain_email",c.domain_email),d.append("id_company",(u=p==null?void 0:p.company)==null?void 0:u.id_company),q.post(F+"/api/upload/domain",d,{withCredentials:!0}).then(g=>g.data).then(g=>{i(!1),g.status&&x(!1),g.msg&&de.error(g.msg)}).catch(g=>{i(!1)})}function j(){var u;let d=new FormData;d.append("id_company",(u=p==null?void 0:p.company)==null?void 0:u.id_company),q.post(F+"/api/get/domains",d,{withCredentials:!0}).then(g=>g.data).then(g=>{t(g)})}return a.useEffect(()=>{j()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(se,{visible:h,callback:x,maxWidth:"300px",onClick:v,Pending:l,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Agregar"}),e.jsx("span",{children:"agrega un nuevo dominio, el dominio quedara en verificacion para poder ser utilizado"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Dominio destinatario"}),e.jsx("input",{type:"text",name:"domain",onChange:m,placeholder:"dominio.com"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo del dominio"}),e.jsx("input",{type:"text",name:"domain_email",onChange:m,placeholder:"example@dominio.com"})]})]}),e.jsx(Se,{visible:o,callback:r,onClick:"",Pending:""}),e.jsx("div",{className:"settings-account",children:e.jsxs("div",{className:"case active",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Dominios"}),e.jsx("span",{children:"Estos dominios son los que has configurado para ser manejados en tu campanas de envios email"}),e.jsx("button",{onClick:d=>{x(!0)},children:"Agregar Dominio"})]}),e.jsxs("div",{className:"action",children:[e.jsx("div",{className:"row domains",children:s.map((d,u)=>e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"domain",children:[e.jsxs("p",{children:[e.jsx(La,{}),"  ",d.domain]}),e.jsx("span",{children:d.domain_email}),e.jsx("br",{}),e.jsxs("span",{children:["Estatus: ",d.status?e.jsx(Ra,{}):e.jsx(Ma,{})]}),e.jsxs("div",{className:"buttons",children:[e.jsx("button",{children:e.jsx(le,{})}),e.jsx("button",{children:e.jsx(ee,{})})]})]})}))}),s.length==0?e.jsx(oe,{name:"dominios"}):""]})]})})]})}function qi(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading-modal",children:e.jsx("div",{className:"circle"})})})}function Ti(){const s=K(),t=ie(),[c,n]=a.useState([]),[l,i]=a.useState(!1),{UserInfo:p}=a.useContext(J),[h,x]=a.useState(),[o,r]=a.useState([]),[m,v]=a.useState({width:"",left:""}),[j,d]=a.useState("gl"),[u,g]=a.useState(!0),[f,y]=a.useState(),[L,k]=a.useState(!1),[R,b]=a.useState({csv:!1,json:!1});function _(){var w;let N=new FormData;N.append("id_list",t.id),N.append("id_company",(w=p==null?void 0:p.company)==null?void 0:w.id_company),q.post(F+"/api/get/logslists",N,{withCredentials:!0}).then(C=>C.data).then(C=>{C.length&&n(C)}).catch(C=>{})}function M(N,w=!1,C=null,B=!1,H=null){var U;y(!0),w||(g(!1),i(!0),x(N),r([]),C!=="error"&&B!==!0&&(v({width:"70",left:"10"}),d("gl")));let Z=new FormData;Z.append("id_list",t.id),Z.append("id_company",(U=p==null?void 0:p.company)==null?void 0:U.id_company),Z.append("detail",N),o.length&&w&&Z.append("last_id",o.slice(-1)[0].id_log),B&&Z.append("download",H),C!==null&&Z.append("type",C),q.post(F+"/api/get/logslists",Z,{withCredentials:!0}).then(I=>I.data).then(I=>{if(B){b({...R,[H]:!0});const $=new Blob([JSON.stringify(I)],{type:B=="json"?"application/json":"text/csv"}),W=URL.createObjectURL($),S=document.createElement("a");S.href=W,S.setAttribute("download",`upload-${h}-list-${t.id}.json`),document.body.appendChild(S),S.click(),document.body.removeChild(S),setTimeout(()=>{b({...R,[H]:!1})},1e3)}g(!0),y(!1),r(w===!1?I:$=>[...$,...I])}).catch(I=>{y(!1)})}a.useEffect(()=>{_()},[]),a.useEffect(()=>{l&&(j=="error"&&M(h,!1,"error"),j=="gl"&&M(h,!1),j=="dw"?k(!0):k(!1))},[j]);function P(N){let w=N.target.value;d(w),v(C=>({...C,width:N.target.offsetWidth,left:N.target.offsetLeft}))}return e.jsxs(e.Fragment,{children:[e.jsxs(se,{visible:l,callback:i,maxWidth:"500px",minWidth:"500px",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Detalles"}),e.jsxs("span",{children:["detalles de la subida: ",h]})]}),e.jsx("div",{className:"menu-change",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("button",{className:`${j=="gl"?"active":""}`,onClick:P,value:"gl",style:{fontSize:"13px"},children:"Global"})}),e.jsx("li",{children:e.jsx("button",{className:`${j=="error"?"active":""}`,onClick:P,value:"error",style:{fontSize:"13px"},children:"Errores"})}),e.jsx("li",{children:e.jsx("button",{className:`${j=="dw"?"active":""}`,onClick:P,value:"dw",style:{fontSize:"13px"},children:"Descargar"})}),e.jsx("div",{className:"hover",style:{left:m.left+"px",width:m.width+"px"}})]})}),L?e.jsx(e.Fragment,{children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descargar logs"}),e.jsxs("span",{children:["Puedes descargar los logs de esta subida ",h," mediante un archivo csv / json"]}),e.jsxs("div",{className:"actions-item complete",children:[e.jsxs("button",{className:`download ${R.csv?"await":""}`,onClick:N=>{M(h,!1,null,!0,"json")},children:["Descargar CSV ",e.jsx("div",{className:"loading"})]}),e.jsxs("button",{className:`download ${R.json?"await":""}`,onClick:N=>{M(h,!1,null,!0,"json")},children:["Descargar JSON ",e.jsx("div",{className:"loading"})]})]})]})})})})}):e.jsx("div",{className:"data",children:e.jsx(Vs,{scrollableTarget:"scrollableDiv",hasMore:u,next:()=>{M(h,!0)},dataLength:o.length,children:e.jsx("div",{className:"control-scroll lists-detail",id:"scrollableDiv",children:e.jsxs("div",{className:"row",children:[o==null?void 0:o.map((N,w)=>e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"item box box-padding",children:e.jsxs("div",{className:"top",children:[e.jsxs("span",{children:["Correo: ",N.email?N.email:"No aplica"]}),e.jsx("br",{}),e.jsxs("span",{children:["Telefono: ",N.phone?N.phone:"No aplica"]}),e.jsx("br",{}),e.jsxs("span",{children:["Calidad de subida: ",N.error?"error":"success"]})]})})})),f?e.jsx(qi,{}):"",(o==null?void 0:o.length)===0&&f===!1?e.jsx(oe,{name:j=="gl"?"registros":"errores"}):""]})})})})]},l?"Xd":"x"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Logs de lista: ",t.id]}),e.jsx("span",{children:"Ve los detalle de tus listas y ve si estan listas para ser utilizadas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:N=>{s("/contacts/detail/"+t.id)},children:e.jsx(Te,{})})})]}),e.jsx("div",{className:"row",children:c.map((N,w)=>e.jsx("div",{className:"col-md-4  page-lists",children:e.jsx("div",{className:"box box-padding ",children:e.jsxs("div",{className:"item flex-wrap",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/upload_arrow2.webp",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:["Subida: ",e.jsx("b",{children:N.id_upload})]}),e.jsxs("span",{className:"desc",children:["Fecha: ",ne(N.time_add,"full")]}),e.jsx("br",{}),e.jsxs("span",{className:"desc",children:["Fecha de finalización: ",ne(N.time_finish,"full")]}),e.jsx("br",{}),e.jsxs("span",{className:"desc",children:["Contactos Subidos: 1",N==null?void 0:N.contacts_total]}),e.jsx("br",{}),e.jsx("span",{className:"desc",children:"Calidad de subida:"}),N!=null&&N.insert?e.jsxs("span",{className:"quality-upload good",children:[e.jsx(ve,{})," Muy Buena"]}):N!=null&&N.error?e.jsxs("span",{className:"quality-upload error",children:[" ",e.jsx(Aa,{})," Regular / Mala"]}):e.jsxs("span",{className:"quality-upload await",children:[" ",e.jsx(ss,{})," En espera... "]})]})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{onClick:C=>{M(N.id_upload)},children:e.jsx(fe,{})})})]})})},w))})]})}function Li(){return e.jsx("div",{className:"iphone",style:{background:"url(img/devices/iphone.png)"},children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"hour",children:e.jsx("span",{children:"12:45"})}),e.jsxs("div",{className:"battery",children:[e.jsxs("span",{className:"signal",children:[e.jsx("i",{children:e.jsx(te,{icon:"oi:signal"})}),e.jsx("span",{children:"LTE"})]}),e.jsx("i",{className:"battery",children:e.jsx(te,{icon:"ph:battery-high-fill"})})]}),e.jsx("div",{className:"content",children:e.jsx("div",{class:"editor-surveys prodbuttonsqr"})})]})})}function Ri(){return e.jsxs(e.Fragment,{children:[e.jsx(Oa,{}),e.jsx($a,{children:e.jsxs(za,{children:[e.jsx(V,{path:"/",element:e.jsx(Wa,{})}),e.jsx(V,{path:"/register",element:e.jsx(Qa,{})}),e.jsx(V,{path:"/wizard",element:e.jsx(ft,{})}),e.jsx(V,{path:"/settings-account/account",element:e.jsx(G,{CompanyNeed:!0,Element:Di})}),e.jsx(V,{path:"/settings-account/security",element:e.jsx(G,{CompanyNeed:!0,Element:_e})}),e.jsx(V,{path:"/settings-account/footer",element:e.jsx(G,{CompanyNeed:!0,Element:_e})}),e.jsx(V,{path:"/settings-account/domains",element:e.jsx(G,{CompanyNeed:!0,Element:Pi})}),e.jsx(V,{path:"/",element:e.jsx(G,{CompanyNeed:!0,Element:Ds})}),e.jsx(V,{path:"/home",element:e.jsx(G,{CompanyNeed:!0,Element:Ds})}),e.jsx(V,{path:"/campaigns",element:e.jsx(G,{CompanyNeed:!0,Element:_e})}),e.jsx(V,{path:"/campaigns/em",element:e.jsx(G,{CompanyNeed:!0,Element:_e})}),e.jsx(V,{path:"/campaigns/sms",element:e.jsx(G,{CompanyNeed:!0,Element:_e})}),e.jsx(V,{path:"/campaigns/sms-mt",element:e.jsx(G,{CompanyNeed:!0,Element:_e})}),e.jsx(V,{path:"/campaigns/em-mt",element:e.jsx(G,{CompanyNeed:!0,Element:_e})}),e.jsx(V,{path:"/campaigns/new",element:e.jsx(G,{CompanyNeed:!0,Element:_e})}),e.jsx(V,{path:"/campaigns/stats/:id",element:e.jsx(G,{CompanyNeed:!0,Element:bi})}),e.jsx(V,{path:"/campaigns/stats/detail/:id",element:e.jsx(G,{CompanyNeed:!0,Element:Ei})}),e.jsx(V,{path:"/campaigns/detail/:id",element:e.jsx(G,{CompanyNeed:!0,Element:Ft})}),e.jsx(V,{path:"/companys",element:e.jsx(G,{CompanyNeed:!1,Element:Ns})}),e.jsx(V,{path:"/companys/add",element:e.jsx(G,{CompanyNeed:!1,Element:Ns})}),e.jsx(V,{path:"/companys/roles",element:e.jsx(G,{CompanyNeed:!0,Element:wt})}),e.jsx(V,{path:"/companys/users",element:e.jsx(G,{CompanyNeed:!0,Element:kt})}),e.jsx(V,{path:"/contacts/lists",element:e.jsx(G,{CompanyNeed:!0,Element:Cs})}),e.jsx(V,{path:"/contacts/lists/logs/:id",element:e.jsx(G,{CompanyNeed:!0,Element:Ti})}),e.jsx(V,{path:"/contacts/lists/:type",element:e.jsx(G,{CompanyNeed:!0,Element:Cs})}),e.jsx(V,{path:"/contacts/detail/:id",element:e.jsx(G,{CompanyNeed:!0,Element:Lt})}),e.jsx(V,{path:"/contacts/upload/:id",element:e.jsx(G,{CompanyNeed:!0,Element:Mt})}),e.jsx(V,{path:"/contacts/segments",element:e.jsx(G,{CompanyNeed:!0,Element:wi})}),e.jsx(V,{path:"/contacts/segments/add",element:e.jsx(G,{CompanyNeed:!0,Element:Si})}),e.jsx(V,{path:"/contacts",element:e.jsx(G,{CompanyNeed:!0,Element:ui})}),e.jsx(V,{path:"/editor/canvas/:id",element:e.jsx(G,{CompanyNeed:!0,Element:bs})}),e.jsx(V,{path:"/editor/canvas/",element:e.jsx(G,{CompanyNeed:!0,Element:bs})}),e.jsx(V,{path:"/surveys",element:e.jsx(G,{CompanyNeed:!0,Element:At})}),e.jsx(V,{path:"/surveys/editor",element:e.jsx(G,{CompanyNeed:!0,Element:ws})}),e.jsx(V,{path:"/surveys/editor/:idsurvey",element:e.jsx(G,{CompanyNeed:!0,Element:ws})}),e.jsx(V,{path:"/stats/survey/:id",element:e.jsx(G,{CompanyNeed:!0,Element:Ht})}),e.jsx(V,{path:"/stats/survey/:id/detail",element:e.jsx(G,{CompanyNeed:!0,Element:Gt})}),e.jsx(V,{path:"/stats/survey/:id/response",element:e.jsx(G,{CompanyNeed:!0,Element:Jt})}),e.jsx(V,{path:"/surveys/preview",element:e.jsx(ks,{})}),e.jsx(V,{path:"/surveys/preview/:id",element:e.jsx(ks,{})}),e.jsx(V,{path:"/survey/:id",element:e.jsx(It,{})}),e.jsx(V,{path:"/shorturls",element:e.jsx(G,{CompanyNeed:!0,Element:Ss})}),e.jsx(V,{path:"/shorturls/add",element:e.jsx(G,{CompanyNeed:!0,Element:Ss})}),e.jsx(V,{path:"/shorturls/:id",element:e.jsx(G,{CompanyNeed:!0,Element:Xt})}),e.jsx(V,{path:"/shorturls/campaigns",element:e.jsx(G,{CompanyNeed:!0,Element:Es})}),e.jsx(V,{path:"/shorturls/campaigns/add",element:e.jsx(G,{CompanyNeed:!0,Element:Es})}),e.jsx(V,{path:"/shorturls/campaigns/:id",element:e.jsx(G,{CompanyNeed:!0,Element:Yt})}),e.jsx(V,{path:"/qr",element:e.jsx(G,{CompanyNeed:!0,Element:ns})}),e.jsx(V,{path:"/qr/add",element:e.jsx(G,{CompanyNeed:!0,Element:ns})}),e.jsx(V,{path:"/qr/import",element:e.jsx(G,{CompanyNeed:!0,Element:ns})}),e.jsx(V,{path:"/domains",element:e.jsx(G,{CompanyNeed:!0,Element:ki})}),e.jsx(V,{path:"/editor/buttons",element:e.jsx(G,{CompanyNeed:!0,Element:_s})}),e.jsx(V,{path:"/editor/buttons/:id",element:e.jsx(G,{CompanyNeed:!0,Element:_s})}),e.jsx(V,{path:"/buttons/:id",element:e.jsx(ci,{})}),e.jsx(V,{path:"/buttons",element:e.jsx(G,{CompanyNeed:!0,Element:fi})}),e.jsx(V,{path:"/stats/buttons/:id",element:e.jsx(G,{CompanyNeed:!0,Element:Ci})}),e.jsx(V,{path:"/editor/buttonsqr",element:e.jsx(G,{CompanyNeed:!0,Element:Fs})}),e.jsx(V,{path:"/editor/buttonsqr/:id",element:e.jsx(G,{CompanyNeed:!0,Element:Fs})}),e.jsx(V,{path:"/buttonsqr",element:e.jsx(G,{CompanyNeed:!0,Element:Ni})}),e.jsx(V,{path:"/buttonsqr/:id",element:e.jsx(yi,{})}),e.jsx(V,{path:"/test",element:e.jsx(xs,{Visible:!0})}),e.jsx(V,{path:"/testiphone",element:e.jsx(Li,{})}),e.jsx(V,{path:"/recovery",element:e.jsx(hi,{})}),e.jsx(V,{path:"/editor/landings",element:e.jsx(ji,{})}),e.jsx(V,{path:"/landings",element:e.jsx(G,{CompanyNeed:!0,Element:vi})}),e.jsx(V,{path:"/landing/:id",element:e.jsx(gi,{})}),e.jsx(V,{path:"/templates",element:e.jsx(G,{CompanyNeed:!0,Element:_i})})]})})]})}const Mi=a.createContext(),Ai=s=>{const[t,c]=a.useState({});return e.jsx(Mi.Provider,{value:{App:t,setApp:c},...s})},Oi=a.createContext();function $i(s){const[t,c]=a.useState();return a.useEffect(()=>{document.title=t},[t]),a.useEffect(()=>{c("Radarsystems - App")},[]),e.jsx(Oi.Provider,{value:{setTitle:c},...s})}Ba.createRoot(document.getElementById("root")).render(e.jsx(Va.StrictMode,{children:e.jsx(at,{children:e.jsx(tt,{children:e.jsx(Ai,{children:e.jsx($i,{children:e.jsx(Ri,{})})})})})}));
