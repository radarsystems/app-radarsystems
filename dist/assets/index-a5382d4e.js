import{u as J,r as i,j as e,L,$ as O,a as D,n as z,I as rs,b as Fs,c as $e,d as Ds,e as U,f as ye,g as be,h as he,_ as Ie,i as Ps,k as qs,M as se,V as Ge,l as Re,m as Je,o as Fe,p as Oe,q as Ts,s as Xe,A as Os,t as As,v as Ls,w as Rs,x as Ms,y as zs,z as $s,B as Bs,C as re,D as we,E as ge,F as Vs,G as Qe,H as Is,J as Qs,K as _e,N as ee,O as Pe,P as ue,Q as je,R as Ws,S as Hs,T as cs,U as Gs,W as Js,X as Xs,Y as Ks,Z as Ys,a0 as Zs,a1 as Ae,a2 as Us,a3 as ke,a4 as ea,a5 as sa,a6 as aa,a7 as De,a8 as Ce,a9 as ds,aa as ia,ab as os,ac as ms,ad as ps,ae as xs,af as us,ag as hs,ah as js,ai as gs,aj as vs,ak as fs,al as ta,am as Ns,an as na,ao as la,ap as ra,aq as ca,ar as da,as as Ke,at as oa,au as ma,av as pa,aw as xa,ax as B,ay as ua,az as ha}from"./vendor-f6840e7a.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const l of t)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(t){const l={};return t.integrity&&(l.integrity=t.integrity),t.referrerPolicy&&(l.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?l.credentials="include":t.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(t){if(t.ep)return;t.ep=!0;const l=r(t);fetch(t.href,l)}})();const S="https://api.radarsystems.net",Te="https://radarsystems.net";function ja(){let s=J();const[a,r]=i.useState({user:"",password:""});function n(l){l.stopPropagation(),l.preventDefault(),O(l.target).addClass("await"),a.password&&a.user?D.post(S+"/api/auth/login",a,{withCredentials:!0}).then(c=>c.data).then(c=>{c.status&&s("/home"),c.msg&&z.error(c.msg),O(l.target).removeClass("await")}).catch(c=>{z.error(String(c)),O(l.target).removeClass("await")}):O(l.target).removeClass("await")}function t(l){r({...a,[l.target.name]:l.target.value})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"row auth",children:[e.jsxs("div",{className:"col-auth-left",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"img/icons/logo-l1.png",alt:""})}),e.jsxs("div",{className:"align",children:[e.jsxs("span",{className:"title-welcome",children:["Bienvenido de nuevo. ",e.jsx("br",{})," Inicia ahora."]}),e.jsxs("span",{className:"text-register",children:["¿Aun no tienes cuenta?, ",e.jsx(L,{to:"/register",children:"Registrate ahora"})]}),e.jsxs("form",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Usuario"}),e.jsx("input",{type:"text",name:"user",onChange:t})]}),e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{children:["Password",e.jsx(L,{className:"forgot",to:"/recovery",children:"¿Olvidó?"})]}),e.jsx("input",{type:"password",name:"password",onChange:t})]}),e.jsx("span",{}),e.jsxs("button",{className:"sign",onClick:n,children:["INICIAR SESION ",e.jsx("div",{className:"loading"})]})]})]})]}),e.jsx("div",{className:"col-auth-right right",children:e.jsx("div",{className:"align",children:e.jsx("div",{className:"carousel",children:e.jsxs("div",{className:"item",children:[e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestiae perspiciatis nulla commodi accusamus. Reprehenderit, earum quibusdam laboriosam aliquam dolore ullam doloremque ratione possimus ex neque minus velit iste suscipit odit!"}),e.jsx("img",{src:"img/auth/People-welcome.png"})]})})})})]})})}function ga(){const[s,a]=i.useState({user:"",email:"",password:"",rpassword:""});function r(t){t.stopPropagation();let l=t.target.name,c=t.target.value;a({...s,[l]:c})}function n(t){t.stopPropagation(),t.preventDefault(),O(t.target).addClass("await"),D.post(S+"/api/auth/register",s,{withCredentials:!0}).then(l=>l.data).then(l=>{l.msg&&z.error(l.msg),O(t.target).removeClass("await")}).catch(l=>{O(t.target).removeClass("await")})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"row auth",children:[e.jsxs("div",{className:"col-auth-left",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"img/icons/logo-l1.png",alt:""})}),e.jsxs("div",{className:"align",children:[e.jsxs("span",{className:"title-welcome",children:["Bienvenido.",e.jsx("br",{})," Registrate ahora!."]}),e.jsxs("span",{className:"text-register",children:["¿Opps ya tienes una cuenta?, ",e.jsx(L,{to:"/",children:"Ingresar"})]}),e.jsxs("form",{className:"form",onChange:r,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Usuario"}),e.jsx("input",{type:"text",name:"user"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo"}),e.jsx("input",{type:"text",name:"email"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Contraseña"}),e.jsx("input",{type:"password",name:"password"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Repite Contraseña"}),e.jsx("input",{type:"password",name:"rpassword"})]}),e.jsx("span",{}),e.jsxs("button",{className:"sign",onClick:n,children:["REGISTRARSE",e.jsx("div",{className:"loading"})]})]})]})]}),e.jsx("div",{className:"col-auth-right right",children:e.jsx("div",{className:"align",children:e.jsx("div",{className:"carousel",children:e.jsxs("div",{className:"item",children:[e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestiae perspiciatis nulla commodi accusamus. Reprehenderit, earum quibusdam laboriosam aliquam dolore ullam doloremque ratione possimus ex neque minus velit iste suscipit odit!"}),e.jsx("img",{src:"img/auth/People-welcome.png"})]})})})})]})})}async function va(s){return await D.get(S+"/api/get/company?id_company="+s,{withCredentials:!0}).then(r=>r.data)}async function fa(){return await D.post(S+"/api/get/companys",{},{withCredentials:!0}).then(s=>s.data)}function xe(s){return window.location.pathname.includes(s)}function Be(s){let a=document.cookie;a=a.split(";");let r;return a.forEach((n,t)=>{n.indexOf(`${s}=`)>=0&&(r=n.replace(`${s}=`,""))}),r}function Me(s){O(s).addClass("await")}function me(s){O(s).removeClass("await")}function fe(s=15){return Math.random().toString(36).substring(2,s+2)}function Na(s,a){return new Promise((r,n)=>{try{let t=s.target.files[0],l={file:"",analize:""},c=new FileReader;c.onload=async function(p){let m=!0,x=p.currentTarget.result.split(`
`),d=x[0].split(","),h=!1;d.forEach(g=>{(g=="email"||g=="phone")&&(h=!0)}),h?await(async()=>{for(var j=1;j<x.length;j++){let u=d.length,o=x[j].split(",").length;u!==o&&(m=!1);let v=(j+1)/x.length*100;v%5===0&&await new Promise(f=>setTimeout(()=>{a(v),f()},0))}m?(l.analize="good",l.file=t,r(l)):(l.analize="bad",n(l))})():(l.analize="bad",n(l))},c.readAsText(t)}catch{response.analize="bad",n(response)}})}function ys(s,a){return`${S}/api/get/imgtemplate?img=${a}&folder=${s}`}function Ne(s){const a=new Date(s*1e3),r=a.getDate(),n=a.getMonth()+1,t=a.getFullYear();return`${r}/${n}/${t}`}function Cs(s){return s?s=String(s).toLowerCase():s="undefined",s=="undefined"?window.location.origin+"/img/icons/countrys/"+s+".png":window.location.origin+"/img/icons/countrys/"+s+".svg"}function bs(s){let a;switch(s&&(s=String(s).toLocaleLowerCase()),s){case"ve":a="Venezuela";break;case"ca":a="Canada";break;default:a="Undefined";break}return a}function ya(s){return s!==void 0&&(s=String(s).toLowerCase()),(s.indexOf("mac")>=0||s.indexOf("apple")>=0)&&(s="apple"),s.indexOf("windows")>=0&&(s="windows"),s.indexOf("linux")>=0&&(s="linux"),s.indexOf("android")>=0&&(s="android"),s!=="windows"&&s!=="apple"&&s!=="android"&&s!=="linux"&&(s="undefined"),"/img/icons/systems/"+s+".png"}function Ca(s){return"/img/icons/apps/"+s+".png"}function Ve(s){return S+"/api/get/previewqr?url="+s}function ba(s){return{fb:"Facebook",in:"Instagram",x:"X (Twitter)",email:"Correo",sms:"Sms",tik:"Tiktok",linkd:"Linkedin",yt:"Youtube",tele:"Telegram",ws:"Whatsapp",others:"Otros"}[s]||""}function wa(s){return!!/^[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(s)}const H=i.createContext(),ka=s=>{const[a,r]=i.useState({}),[n,t]=i.useState(!1),[l,c]=i.useState(!0);return i.useEffect(()=>{function p(){let m=Be("company"),x=new FormData;x.append("id_company",m),m&&D.post(S+"/api/get/company",x,{withCredentials:!0}).then(d=>d.data).then(d=>{r({...a,company:d[0]})})}(async function(){Be("token")&&await D.get(S+"/api/get/my",{withCredentials:!0}).then(x=>x.data).then(x=>{x.id_admin&&(t(!0),r(x),p(),c(!1))})})()},[]),e.jsx(H.Provider,{value:{UserInfo:a,setUserInfo:r,Auth:n,LoadingAuth:l},...s})},ie=i.createContext(),Sa=s=>{const[a,r]=i.useState(0),{Auth:n,UserInfo:t}=i.useContext(H),[l,c]=i.useState({type:"",company:"",loading:!0,process:{}});function p(h,g){switch(g){case"active":O(h).addClass("await");break;case"remove":O(h).removeClass("await");break}}function m(h,g){h.stopPropagation();let j=O(h.target);j.parents(".selector").find(".active").removeClass("active"),j.addClass("active"),g(h.target.value)}function x(h,g){h.stopPropagation();let j=O(h.target);j.parents(".items-result").find(".active").removeClass("active"),j.addClass("active"),g(O(h.target).attr("value"))}function d(){r(a-1)}return i.useEffect(()=>{n&&async function(){if(t.company_default){let h=await va(t.company_default);c({...l,loading:!1,company:h})}else c({...l,loading:!1})}()},[n]),i.useEffect(()=>{c(h=>({...h,tutorial_wizard:t.tutorial_wizard}))},[t]),e.jsx(ie.Provider,{value:{Prev:d,wizard:l,SelectorItem:x,AwaitButton:p,Selector:m,setWizard:c,position:a,setPosition:r},...s})};function te({Next:s}){const{setPosition:a,position:r}=i.useContext(ie),{wizard:n,setWizard:t}=i.useContext(ie),[l,c]=i.useState({});function p(){a(r-1)}return i.useEffect(()=>{n.company&&c(n.company)},[n]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"buttons-action ",children:[(l==null?void 0:l.name)!==void 0?e.jsx(e.Fragment,{children:e.jsxs("button",{className:"button-company",children:[e.jsx("img",{src:"img/icons/default_profile.png",alt:""}),l.name]})}):"",e.jsx("button",{className:"prev",onClick:p,children:"<"}),e.jsxs("button",{className:"next",onClick:s,children:["Siguiente ",e.jsx("div",{className:"loading"})]})]})})}function Ea(){function s(){}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left"}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Subir contactos"}),e.jsx("span",{className:"desc",children:"Sube tus contactos a la lista."})]}),e.jsx("div",{}),e.jsx(te,{Next:s})]})]})})}function _a(){const{wizard:s,setWizard:a,setPosition:r,AwaitButton:n}=i.useContext(ie),[t,l]=i.useState(!1),[c,p]=i.useState({name:""});function m(d){if(t)r(h=>h+1);else{n(d.target,"active");let h=new FormData;h.append("name",c.name),h.append("id_company",s.company.id_company),s.type=="email"?h.append("type_c","email"):s.type=="sms"&&h.append("type_c","sms"),D.post(S+"/api/upload/list",h,{withCredentials:!0}).then(g=>g.data).then(g=>{g.status&&(z.success("Lista creada existosamente!"),r(j=>j+1),l(!0),g.id_list&&a(j=>({...j,process:{...j.process,id_list:g.id_list}}))),g.msg&&z.error(g.msg),n(d.target,"remove")}).catch(g=>{z.error(""+g),n(d.target,"remove")})}}function x(d){p(h=>({...h,[d.target.name]:d.target.value}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Nueva lista"}),e.jsx("img",{src:"img/icons/lists.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crear lista"}),e.jsx("span",{className:"desc",children:"Crea una nueva lista y luego ingresa los contactos"})]}),e.jsx("div",{className:"form",children:e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",name:"name",placeholder:"Nombre de lista",onChange:x})})}),e.jsx(te,{Next:m})]})]}),t==!0?e.jsx(Ea,{}):""]})}function Fa(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Welcome"}),e.jsx("img",{src:"/img/icons/email-alert.png",alt:""})]})}),e.jsx("div",{className:"right",children:e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"titel",children:"Seleccionar lista"}),e.jsx("span",{className:"desc",children:"Selecciona una lista para integrarla a la campaign que has elegido."})]})})]})})}function Da(){const{Selector:s,setPosition:a}=i.useContext(ie),[r,n]=i.useState();function t(c){n(c)}function l(){(r=="new"||r=="select")&&a(c=>c+1)}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elegir lista"}),e.jsx("img",{src:"img/icons/wizard-contacts.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu lista"}),e.jsx("span",{className:"desc",children:"Desde aqui puedes elegir rapidamente una lista de contactos, subirla o subirlos manualmente."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"select",onClick:c=>{s(c,t)},children:"Seleccionar de una lista"}),e.jsx("button",{value:"new",onClick:c=>{s(c,t)},children:"Crear una nueva lista"})]}),e.jsx(te,{Next:l})]})]}),r=="new"?e.jsx(_a,{}):r=="select"?e.jsx(Fa,{}):""]})}function Pa(){function s(){}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left"}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Hola"}),e.jsx("span",{className:"desc",children:"hola"})]}),e.jsx(te,{Next:s})]})]})})}function qa(){const{wizard:s,setWizard:a,AwaitButton:r}=i.useContext(ie),[n,t]=i.useState(!1),l=J();function c(m){r(m.target,"active");let x=new FormData;t("pending"),x.append("id_campaign",s.process.id_campaign),x.append("email",s.process.email),x.append("str_affair",s.process.affair),x.append("str_body",s.process.body),x.append("id_company",s.company.id_company),D.post(S+"/api/send/mt",x,{withCredentials:!0}).then(d=>d.data).then(d=>{r(m.target,"remove"),d.status&&(t(!0),s.tutorial_wizard&&setTimeout(()=>{D.get("/api/get/tutowizard",{withCredentials:!0}),l("/home")},2e3)),d.msg&&z.error(d.msg)}).catch(d=>{r(m.target,"remove")})}function p(m){c(m)}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option active",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Detalles de envio"}),e.jsx("img",{src:"img/icons/send-email2.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Envio de campaign"}),e.jsx("span",{className:"desc",children:"Enhora buena! Has llegado al ultixmo paso."})]}),e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Previsualizacion del envio"}),e.jsx("div",{className:"structure",children:e.jsxs("ul",{children:[e.jsxs("li",{children:["Correo para: ",e.jsx("b",{children:s.process.email})]}),e.jsxs("li",{children:["Asunto: ",e.jsx("b",{children:s.process.affair})]}),e.jsxs("li",{children:["Bajo la compania: ",e.jsx("b",{children:s.company.name})]}),e.jsxs("li",{children:["Status de envio: ",n==!1?e.jsxs("i",{className:"text-yellow",children:[e.jsx(rs,{})," En espera de confirmacion..."]}):n=="pending"?e.jsxs("i",{children:[e.jsx(Fs,{})," Enviando..."]}):n==!0?e.jsxs("i",{className:"success",children:[e.jsx($e,{})," Enviado"]}):""]})]})})]}),e.jsx(te,{Next:p})]})]})})}function Ta(){const{setWizard:s,setPosition:a}=i.useContext(ie),[r,n]=i.useState(),[t,l]=i.useState(!1);function c(){r?(a(p=>p+1),s(p=>({...p,process:{...p.process,email:r}})),l(!0)):z.error("Opps! No has proporcionado un correo valido")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elegir correo"}),e.jsx("img",{src:"img/icons/email-2.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Asignar el correo"}),e.jsx("span",{className:"info",children:"Elige el correo al cual se le enviara este email."})]}),e.jsx("div",{className:"form",children:e.jsx("div",{className:"form-input",children:e.jsx("input",{placeholder:"Correo electronico",type:"email",onChange:p=>{n(p.target.value)}})})}),e.jsx(te,{Next:c})]})]}),t==!0?e.jsx(qa,{}):""]})}function Oa(){const{setPosition:s,wizard:a,setWizard:r}=i.useContext(ie),[n,t]=i.useState({status:!1,preview:!1,isHtml:!1,file:{},preview_html:"",affair:"",vars:[]});function l(){n.affair?n.preview_html?(r(j=>({...j,process:{...j.process,body:n.preview_html,affair:n.affair,vars:n.vars}})),s(j=>j+1),t(j=>({...j,status:!0}))):z.error("No tienes ningun formato html asignado."):z.error("Opps has dejado el asunto vacio.")}function c(j){let u=j.target.files[0];if(u.type=="text/html"){t(v=>({...n,file:u}));let o=new FileReader;o.onload=function(v){t(f=>({...f,preview_html:v.target.result}))},o.readAsText(u)}}function p(){t(j=>({...j,preview:!0}))}function m(){t(j=>({...j,preview_html:"",preview:!1,file:{}})),document.querySelector(".option.active input[type='file']").value=""}function x(){t(j=>({...j,preview:!1}))}function d(j){t(u=>({...u,affair:j.target.value}))}function h(j){let o=O(j.target).parents(".form-input").find("input"),v=o.val();n.vars.length<8&&(t(f=>({...f,vars:[...f.vars,v]})),o.val(""))}function g(j){let u=j.target.value;t(o=>({...o,vars:o.vars.filter(v=>v!==u)}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[n.preview==!1?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Personaliza tu frontend"}),e.jsx("img",{src:"img/icons/frontend.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Personalizar body"}),e.jsx("span",{className:"desc",children:"Personaliza tu body para tu envio"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"xd",children:"Este campo es especial, dale click al signo de interrogacion para ver sus funcionalidades."}),e.jsx("input",{type:"text",placeholder:"Asunto",onChange:d})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"xd",children:"Estas variables se enviaran en forma organizada, es decir desde el principio al fin. y deben de ser interpretadas en su archivo .html con un $1,$2."}),e.jsxs("div",{className:"special",children:[e.jsx("input",{type:"text",placeholder:"Variables",onChange:d}),e.jsx("button",{className:"action",onClick:h,children:"Agregar"})]}),e.jsx("div",{className:"tags",children:n.vars.map((j,u)=>e.jsx("button",{onClick:g,value:j,children:j},u))})]}),e.jsx("div",{className:"buttons",children:n.file.type=="text/html"?e.jsxs("div",{className:"file-on",children:[e.jsxs("span",{className:"name-file",children:[e.jsx(Ds,{})," ",n.file.name]}),e.jsx("button",{className:"remove",onClick:m,children:e.jsx(U,{})})]}):e.jsxs("button",{onClick:j=>{document.querySelector(".option.active input[type='file']").click()},children:[e.jsx(ye,{})," Subir Archivo"]})})]}),e.jsx("div",{className:"buttons",children:n.file.type!=="text/html"?e.jsx("button",{children:"Editor html"}):e.jsx("button",{onClick:p,children:"Vista previa"})}),e.jsx(te,{Next:l})]})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"preview-html",children:[e.jsxs("div",{className:"actions-preview",children:[e.jsx("button",{className:"left",onClick:x,children:e.jsx(be,{})}),e.jsx("button",{className:"left",onClick:m,children:e.jsx(U,{})}),e.jsx("div",{className:"right-preview",children:e.jsxs("button",{className:"upload-new",onClick:j=>{document.querySelector(".option.active input[type='file']").click()},children:[e.jsx(ye,{})," Subir nuevo archivo"]})})]}),e.jsx("div",{className:"preview",dangerouslySetInnerHTML:{__html:n.preview_html}})]})}),e.jsx("input",{type:"file",accept:".html",onChange:c,hidden:!0})]}),n.status==!0?e.jsx(Ta,{}):""]})}function Aa(){const{Selector:s,setPosition:a}=i.useContext(ie),[r,n]=i.useState();function t(){(r=="new"||r=="select")&&a(c=>c+1)}function l(c){n(c)}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Selecciona la plantilla"}),e.jsx("img",{src:"img/icons/body-html.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Selecciona tu estructura"}),e.jsx("span",{className:"desc",children:"Selecciona la estructura de correo que usaras para enviar esta campaign"})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"new",onClick:c=>{s(c,l)},children:"Crear un body"}),e.jsx("button",{value:"select",onClick:c=>{s(c,l)},children:"Ya tengo uno"})]}),e.jsx(te,{Next:t})]})]}),r=="new"?e.jsx(Oa,{}):r=="select"?e.jsx(Pa,{}):""]})}function ws(){const{Selector:s,setWizard:a,setPosition:r,position:n}=i.useContext(ie),[t,l]=i.useState();function c(){t!==void 0||t!==""?r(n+1):z.error("!Opps no has seleccionado el tipo de envio")}function p(m){l(m),a(x=>({...x,process:{...x.process,type_send:m}}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Selecciona el tipo"}),e.jsx("img",{src:"img/icons/send-type.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige el tipo de envio"}),e.jsx("span",{className:"desc",children:"Aca tienes que elegir que tipo de envio quieres que sea. Es decir, puedes elegir entre un envio "})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"masive",onClick:m=>{s(m,p)},children:"Envíos de campañas masivas"}),e.jsx("button",{value:"ind",onClick:m=>{s(m,p)},children:"Envio Individual"})]}),e.jsx(te,{Next:c})]})]}),t=="ind"?e.jsx(Aa,{}):t=="masive"?e.jsx(Da,{}):""]})}function La(){const[s,a]=i.useState({name:"",ocation:"",id_company:""}),{AwaitButton:r,wizard:n,Prev:t,position:l,setPosition:c}=i.useContext(ie);i.useState(!1);const[p,m]=i.useState(!0);function x(h){r(h.target,"active");let g=new FormData;g.append("name",s.name),g.append("ocation",s.ocation),g.append("id_company",s.id_company),n.type=="email"&&g.append("type_c","em"),n.type=="sms"&&g.append("type_c","sms"),D.post(S+"/api/upload/campaign",g,{withCredentials:!0}).then(j=>j.data).then(j=>{j.msg&&z.error(j.msg),j.status&&c(l+1),r(h.target,"remove")}).catch(j=>{r(h.target,"remove")})}function d(h){a({...s,[h.target.name]:h.target.value})}return i.useEffect(()=>{a({...s,id_company:n.company.id_company})},[n]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Una nueva aventura!"}),e.jsx("img",{src:"img/icons/new-campaign.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crea una nueva campaña"}),e.jsx("span",{className:"desc",children:"Para crear una nueva campaña necesitas informacion basica para darle un nombre y un objetivo a tu campaña."})]}),e.jsxs("div",{className:"form",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",name:"name",placeholder:"Titulo de campaña",onChange:d})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"ocation",id:"",onChange:d,children:[e.jsx("option",{value:"default",children:"Por defecto"}),e.jsx("option",{value:"email",children:"Cumpleaños"})]})})]}),e.jsxs("div",{className:"buttons-action ",children:[e.jsx("button",{className:"prev",onClick:t,children:"<"}),e.jsxs("button",{className:"next",onClick:x,children:["Siguiente ",e.jsx("div",{className:"loading"})]})]})]})]}),p==!0?e.jsx(ws,{}):""]})}function ks({loading:s}){return e.jsx(e.Fragment,{children:s==!0?e.jsx("div",{className:"wizard-loading-circle"}):""})}function Ra(){const{setPosition:s,setWizard:a,wizard:r,SelectorItem:n}=i.useContext(ie),[t,l]=i.useState(!0),[c,p]=i.useState(),[m,x]=i.useState([]);function d(){c>=1?s(g=>g+1):Ie.error("!Opps no has seleccionado una campaign")}function h(g){a(j=>({...j,process:{...j.process,id_campaign:g}})),p(g)}return i.useEffect(()=>{let g=new FormData;g.append("id_company",r.company.id_company),D.post(S+"/api/get/campaign",g,{withCredentials:!0}).then(j=>j.data).then(j=>{x(j.results),l(!1)}).catch(j=>{l(!1)})},[]),i.useEffect(()=>{console.log(r)},[r]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elige tu campaña"}),e.jsx("img",{src:"img/icons/wizard-selectcampaign.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu campaña"}),e.jsx("span",{className:"desc",children:"Selecciona rapidamente una de tus campañas para seguir al siguiente paso."})]}),e.jsxs("div",{className:"items-result",children:[m.map((g,j)=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"item select",value:g.id_campaign,onClick:u=>{n(u,h)},children:[e.jsx("img",{src:"img/icons/campaign_profile.png",alt:""}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:g.name}),e.jsxs("span",{children:["Creada el ",g.time_add]}),e.jsx("div",{className:"circle",children:e.jsx("i",{children:e.jsx(he,{})})})]})]})})),e.jsx(ks,{loading:t})]}),e.jsx(te,{Next:d})]})]}),Number(c)=="NaN"?e.jsx(ws,{}):""]})}function Ye(){const[s,a]=i.useState({campaign:"",campaign_name:"",actions:{campaign:""}}),{Selector:r,Prev:n,position:t,setPosition:l}=i.useContext(ie);function c(){p()}function p(){let x=!1;switch(t){case 2:s.actions.campaign=="new"||s.actions.campaign=="select"?x=!0:z.error("Opps no has seleccionado nada.");break}x&&l(t+1)}function m(x){a({...s,actions:{campaign:x}})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",style:{display:"none"},children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Campañas"}),e.jsx("img",{src:"img/icons/email-alert.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu campana"}),e.jsx("span",{className:"desc",children:"Crea tu campana rapidamente solamente eligiendo un nombre y ajustandola a tus preferencias. Tambien puedes reutilizar alguna campana antigua."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"new",onClick:x=>{r(x,m)},children:"Crear una nueva"}),e.jsx("button",{value:"select",onClick:x=>{r(x,m)},children:"Ya tengo una"})]}),e.jsx(te,{Next:c})]})]}),s.actions.campaign=="new"?e.jsx(La,{}):e.jsx(Ra,{})]})}function le({color:s,fn:a}){function r(n){n.stopPropagation();let t=O(n.target),l=t.parents(".colors");t.parents(".colors").find(".active").removeClass("active"),t.addClass("active"),l.find("button").css({opacity:"0.5"}),t.css({opacity:"1"})}return e.jsx(e.Fragment,{children:e.jsx("button",{className:"option-color",style:{background:s},value:s,onClick:n=>{a(n.target.value),r(n)}})})}function Ma(){const{Prev:s,AwaitButton:a,setPosition:r}=i.useContext(ie),[n,t]=i.useState({name:"",type:"",color:"",default:"false"});function l(m){t({...n,color:m})}function c(m){let x=m.target.value,d=m.target.name;t({...n,[d]:x})}function p(m){n.name&&n.type&&n.color?(a(m.target,"active"),D.post(S+"/api/upload/company",n,{withCredentials:!0}).then(x=>x.data).then(x=>{a(m.target,"remove"),x.status&&(z.success("Company creada con exito"),r(1),O("button.active").removeClass("active")),x.msg&&z.error(x.msg)}).catch(x=>{a(m.target,"remove")})):z.error("Opps no has terminado los campos")}return e.jsx(e.Fragment,{children:status==!1?e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Nuevas ideas!"}),e.jsx("img",{src:"img/icons/cohete-men.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crear empresa"}),e.jsx("span",{className:"desc",children:"Personaliza tu empresa, con colores u imagen para poder identificarla si tienes otras empresas por registrar. Elige un nombre y comienza!"})]}),e.jsxs("div",{className:"form",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de empresa",name:"name",onChange:c})}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{htmlFor:"",children:"Tipo de empresa"}),e.jsx("select",{name:"type",id:"",onChange:c})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{children:"Elige un color"}),e.jsx("span",{className:"desc",children:"El color te ayudara a identificar tu empresa."}),e.jsxs("div",{className:"colors",children:[e.jsx(le,{color:"#2e56ff",fn:l}),e.jsx(le,{color:"#57c583",fn:l}),e.jsx(le,{color:"#3fcae9",fn:l}),e.jsx(le,{color:"#e9d43f",fn:l}),e.jsx(le,{color:"#d77613",fn:l}),e.jsx(le,{color:"#c069cb",fn:l}),e.jsx(le,{color:"#cb6992",fn:l})]})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{children:"Seleccionar como predeterminada"}),e.jsx("span",{className:"desc",children:"Si la eliges como predeterminada automaticamente se usara sin necesidad de seleccionarla."}),e.jsx("br",{}),e.jsxs("select",{name:"default",id:"",onChange:c,children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Si"})]})]})]}),e.jsx(te,{Prev:s,Next:p})]})]}):e.jsx(e.Fragment,{})})}function za(){const{wizard:s,setWizard:a,setPosition:r}=i.useContext(ie),[n,t]=i.useState([]),[l,c]=i.useState(!0);function p(){}i.useEffect(()=>{(async function(){t(await fa()),c(!1)})()},[]),i.useEffect(()=>{s.company},[s]);function m(x,d){x.stopPropagation();let h=n[d];h.id_company&&(r(1),a({...s,company:h}))}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Usa tu empresa"}),e.jsx("img",{src:"img/icons/hot-company.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige una empresa"}),e.jsx("span",{children:"Elige una de las empresar anteriormente creadas."})]}),e.jsxs("div",{className:"companys",children:[n.map((x,d)=>e.jsxs("div",{className:"company",children:[e.jsx("img",{className:"photo-profile",src:"img/icons/default_profile.png",alt:""}),e.jsxs("span",{className:"title",children:[x.name," ",e.jsx("span",{className:"color",style:{background:x.color}})]}),e.jsx("button",{className:"use",onClick:h=>{m(h,d)},children:"Usar"})]},d)),e.jsx(ks,{loading:l})]}),e.jsx(te,{Next:p})]})]})})}function $a(){const[s,a]=i.useState({action:""}),{Selector:r,Prev:n,position:t,setPosition:l}=i.useContext(ie);function c(x){a({...s,action:x})}function p(){m()}function m(){let x=!1;switch(s.action){case"go":x=!0;break;case"new":x=!0;break}x?l(t+1):z.error("No has seleccionado ninguna opcion.")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Tu empresa"}),e.jsx("img",{src:"img/icons/hot-company.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:" Elige tu empresa"}),e.jsx("span",{className:"desc",children:"Debes elegir tu empresa para comenzar, o tambien podrias crear una empresa nueva. Estas empresas tendran (estadisticas,contactos,envios) totalmente autonomos."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{onClick:x=>{r(x,c)},value:"go",children:"Ya tengo una"}),e.jsx("button",{onClick:x=>{r(x,c)},value:"new",children:"Crear una nueva"})]})}),e.jsx(te,{Prev:n,Next:p})]})]}),s.action=="new"?e.jsx(Ma,{}):e.jsx(za,{})]})}function Ba(){return e.jsx(e.Fragment,{children:"xd"})}function Va(){const{position:s,setPosition:a,wizard:r,setWizard:n,Selector:t,Prev:l}=i.useContext(ie);function c(){p()}function p(){let d=!1;switch(s){case 0:d=!0;break;case 1:if(r.type)switch(r.type){case"email":r.company?d=!0:z.error("No tienes una empresa seleccionada.");break;case"sms":r.company?d=!0:z.error("No tienes una empresa seleccionada.");break;default:d=!0;break}else z.error("No has seleccionado ninguna opcion");break}d&&a(s+1)}function m(d){n({...r,type:d})}i.useEffect(()=>{O(".wizard .option.active").removeClass("active"),O(".wizard .option").eq(s).addClass("active")},[s]);const x={email:e.jsx(Ye,{}),sms:e.jsx(Ye,{}),verifiedEmail:e.jsx(Ba,{})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"wizard",children:e.jsxs("div",{className:"body",children:[r.loading?e.jsx("div",{className:"wizard-loading",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{className:"logo-center",src:"img/icons/logo-l1.png",alt:""}),e.jsx("div",{className:"line"})]})}):e.jsx(e.Fragment,{}),e.jsxs("div",{className:"options",children:[e.jsxs("div",{className:"option center active",children:[e.jsxs("div",{className:"center",children:[e.jsx("img",{className:"logo-center",src:"img/icons/logo-l1.png",alt:""}),e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Welcome to RadarSystems"}),e.jsx("span",{className:"desc",children:"Hola este wizard te ayudara a armar tu primera campaign de emails / sms te, te mostraremos paso por paso como hacer lo que necesitas."})]}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"",id:"",children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"Seleccionar Idioma"}),e.jsx("option",{value:"",children:"Espanol"}),e.jsx("option",{value:"",children:"Ingles"})]})})]}),e.jsx("div",{className:"buttons-action ",children:e.jsx("button",{className:"next",onClick:c,children:"Comenzar"})})]}),r.company==""?e.jsx($a,{}):e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Empezemos ahora"}),e.jsx("img",{src:"img/icons/wizard-help.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"¿Qué necesitas?"}),e.jsx("span",{children:"Puedes hacer diferentes acciones en la que podemos ayudarte mediante este wizard. Elige cual es de tu interes, asi podremos ayudarte facilmente."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{onClick:d=>{t(d,m)},value:"ac",children:"Elegir Empresa"}),e.jsx("button",{onClick:d=>{t(d,m)},value:"email",children:"Campañas de Correos"}),e.jsx("button",{onClick:d=>{t(d,m)},value:"sms",children:"Campañas de Sms"}),e.jsx("button",{className:r.tutorial_wizard==!0?"opacity-tutorial":"",onClick:d=>{t(d,m)},value:"vemail",children:"Verificador de Correos"}),e.jsx("button",{className:r.tutorial_wizard==!0?"opacity-tutorial":"",onClick:d=>{t(d,m)},value:"ac",children:"Acortador de Url"})]}),e.jsx(te,{Prev:l,Next:c})]})]}),x[r.type]]})]})})})}function Ia(){const{UserInfo:s}=i.useContext(H),[a,r]=i.useState(),n=J();i.useEffect(()=>{s.company_default==null&&s.company==null&&r(!0),s.company!==void 0&&r(!1)},[s]);function t(l){l.stopPropagation();let c=O(l.target),p=c.parents("li"),m=c.parents("li").find("ul"),x=O(".header-left").find("button.active"),d=O(".header-left").find("ul.active");x.parents("li").index()!==p.index()?(d.slideToggle(),d.removeClass("active"),x.removeClass("active"),c.addClass("active"),m.addClass("active"),m.slideToggle()):(x.removeClass("active"),d.removeClass("active"),d.slideToggle())}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"header-left",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"/img/icons/logo.png",alt:""})}),e.jsxs("ul",{children:[e.jsx("li",{className:a?"opacity":"",children:e.jsxs("button",{onClick:l=>{n("/home")},children:[e.jsx("i",{className:"icon",children:e.jsx(Ps,{})})," Home ",e.jsx("i",{className:"arrow"})]})}),e.jsxs("li",{children:[e.jsxs("button",{onClick:t,children:[e.jsx("i",{className:"icon",children:e.jsx(qs,{})})," Configuracion ",e.jsx("i",{className:"arrow",children:e.jsx(se,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(L,{to:"/settings-account/account",children:"Cuenta"})}),e.jsx("li",{children:e.jsx(L,{to:"/settings-account/security",children:"Seguridad"})}),e.jsx("li",{children:e.jsx(L,{to:"/settings-account/footer",children:"Footer"})}),e.jsx("li",{children:e.jsx(L,{to:"/settings-account/domains",children:"Dominios"})})]})]}),e.jsxs("li",{className:a?"opacity":"",children:[e.jsxs("button",{onClick:t,children:[e.jsx("i",{className:"icon",children:e.jsx(Ge,{})})," Home ",e.jsx("i",{className:"arrow",children:e.jsx(se,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(L,{to:"/editor/canvas",children:"Editor Canvas"})}),e.jsx("li",{children:e.jsx(L,{to:"/editor/buttons",children:"Editor Botonera"})})]})]}),e.jsxs("li",{className:a?"opacity":"",children:[e.jsxs("button",{onClick:t,children:[e.jsx("i",{className:"icon",children:e.jsx(Ge,{})})," Herramientas ",e.jsx("i",{className:"arrow",children:e.jsx(se,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(L,{to:"/editor/canvas",children:"Editor Canvas"})}),e.jsx("li",{children:e.jsx(L,{to:"/editor/buttons",children:"Editor Botonera"})})]})]}),e.jsxs("li",{children:[e.jsxs("button",{onClick:t,children:[e.jsx("i",{className:"icon",children:e.jsx(Re,{})})," Cuentas ",e.jsx("i",{className:"arrow",children:e.jsx(se,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(L,{to:"/companys",children:"Mis Cuentas"})}),e.jsx("li",{children:e.jsx(L,{to:"/companys/add",children:"Crear Cuenta"})})]})]}),e.jsxs("li",{children:[e.jsxs("button",{onClick:t,children:[e.jsx("i",{className:"icon",children:e.jsx(Je,{})})," Administracion ",e.jsx("i",{className:"arrow",children:e.jsx(se,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(L,{to:"/contacts/me",children:"Mis Contactos"})}),e.jsx("li",{children:e.jsx(L,{to:"/contacts/upload",children:"Subir Nuevos"})}),e.jsx("li",{children:e.jsx(L,{to:"/contacts/segments",children:"Segmentos"})})]})]}),e.jsxs("li",{className:a?"opacity":"",children:[e.jsxs("button",{onClick:t,children:[e.jsx("i",{className:"icon",children:e.jsx(Fe,{})})," Recordatorios ",e.jsx("i",{className:"arrow",children:e.jsx(se,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(L,{to:"/campaigns",children:"Email "})}),e.jsx("li",{children:e.jsx(L,{to:"/campaigns",children:"Sms"})}),e.jsx("li",{children:e.jsx(L,{to:"/campaigns/new",children:"Mixto"})})]})]}),e.jsxs("li",{className:a?"opacity":"",children:[e.jsxs("button",{onClick:t,children:[e.jsx("i",{className:"icon",children:e.jsx(Fe,{})})," Campañas ",e.jsx("i",{className:"arrow",children:e.jsx(se,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(L,{to:"/campaigns/em",children:"Email Marketing"})}),e.jsx("li",{children:e.jsx(L,{to:"/campaigns/em-mt",children:"Email MT"})}),e.jsx("li",{children:e.jsx(L,{to:"/campaigns/sms",children:"SMS Marketing"})}),e.jsx("li",{children:e.jsx(L,{to:"/campaigns/sms-mt",children:"SMS MT"})}),e.jsx("li",{children:e.jsx(L,{to:"/campaigns/new",children:"Crear Campana"})})]})]}),e.jsxs("li",{className:a?"opacity":"",children:[e.jsxs("button",{onClick:t,children:[e.jsx("i",{className:"icon",children:e.jsx(Je,{})})," Listas ",e.jsx("i",{className:"arrow",children:e.jsx(se,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(L,{to:"/contacts",children:"Mis Contactos"})}),e.jsx("li",{children:e.jsx(L,{to:"/contacts/lists",children:"Mis Listas"})}),e.jsx("li",{children:e.jsx(L,{to:"/contacts/segments",children:"Segmentos"})})]})]}),e.jsxs("li",{className:a?"opacity":"",children:[e.jsxs("button",{onClick:t,children:[e.jsx("i",{className:"icon",children:e.jsx(rs,{})})," Automatizacion ",e.jsx("i",{className:"arrow",children:e.jsx(se,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(L,{children:"WorkFlow"})}),e.jsx("li",{children:e.jsx(L,{children:"Programacion"})}),e.jsx("li",{children:e.jsx(L,{children:"Auto-Responders"})})]})]}),e.jsxs("li",{className:a?"opacity":"",children:[e.jsxs("button",{onClick:t,children:[e.jsx("i",{className:"icon",children:e.jsx(Oe,{})})," Estadisticas ",e.jsx("i",{className:"arrow",children:e.jsx(se,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{to:"/stats/campaign",children:e.jsx(L,{children:"Email Marketing"})}),e.jsx("li",{to:"/stats/campaign",children:e.jsx(L,{children:"Email MT"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(L,{children:"Sms Marketing"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(L,{children:"Sms MT"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(L,{children:"Encuestas"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(L,{children:"Botonera QR"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(L,{children:"Botonera URL"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(L,{children:"Medusa"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(L,{children:"Landings"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(L,{children:"Google Analytics"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:t,children:[e.jsx("i",{className:"icon",children:e.jsx(Ts,{})})," Encuestas ",e.jsx("i",{className:"arrow",children:e.jsx(se,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(L,{to:"/surveys",children:"Mis Encuestas"})}),e.jsx("li",{children:e.jsx(L,{to:"/surveys/editor",children:"Crear Encuesta"})}),e.jsx("li",{children:e.jsx(L,{to:"/surveys",children:"Plantillas"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:t,children:[e.jsx("i",{className:"icon",children:e.jsx(Xe,{})})," Boletines Electronicos ",e.jsx("i",{className:"arrow",children:e.jsx(se,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(L,{to:"/landings",children:"Mis Boletines"})}),e.jsx("li",{children:e.jsx(L,{to:"/landings",children:"Crear Boletin"})}),e.jsx("li",{children:e.jsx(L,{to:"/landings",children:"Plantillas"})}),e.jsx("li",{children:e.jsx(L,{to:"/landings",children:"Plantillas IA"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:t,children:[e.jsx("i",{className:"icon",children:e.jsx(Xe,{})})," Landings Page ",e.jsx("i",{className:"arrow",children:e.jsx(se,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(L,{to:"/landings",children:"Mis Landings"})}),e.jsx("li",{children:e.jsx(L,{to:"/editor/landings",children:"Crear Landings"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:t,children:[e.jsx("i",{className:"icon",children:e.jsx(Os,{})})," Medusa ",e.jsx("i",{className:"arrow",children:e.jsx(se,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(L,{to:"/shorturls/campaigns",children:"Mis Campañas"})}),e.jsx("li",{children:e.jsx(L,{to:"/shorturls/campaigns/add",children:"Crear Campana"})}),e.jsx("li",{children:e.jsx(L,{to:"/shorturls",children:"Mis Enlaces"})}),e.jsx("li",{children:e.jsx(L,{to:"/shorturls/add",children:"Crear Enlace"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:t,children:[e.jsx("i",{className:"icon",children:e.jsx(As,{})})," Botonera QR ",e.jsx("i",{className:"arrow",children:e.jsx(se,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(L,{to:"/qr",children:"Mis Qr's"})}),e.jsx("li",{children:e.jsx(L,{to:"/qr/add",children:"Crear QR"})}),e.jsx("li",{children:e.jsx(L,{to:"/qr/import",children:"Importar QR"})}),e.jsx("li",{children:e.jsx(L,{to:"/buttonsqr",children:"Botoneras QR"})}),e.jsx("li",{children:e.jsx(L,{to:"/editor/buttonsqr",children:"Crear Botonera QR"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:t,children:[e.jsx("i",{className:"icon",children:e.jsx(Ls,{})})," Botonera URL ",e.jsx("i",{className:"arrow",children:e.jsx(se,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(L,{to:"/buttons",children:"Mis Botoneras URL"})}),e.jsx("li",{children:e.jsx(L,{to:"/editor/buttons",children:"Crear Botonera URL"})})]})]}),e.jsxs("li",{children:[e.jsxs("button",{onClick:t,children:[e.jsx("i",{className:"icon",children:e.jsx(Re,{})})," Validador Email ",e.jsx("i",{className:"arrow",children:e.jsx(se,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(L,{to:"/companys",children:"Mis Validaciones"})}),e.jsx("li",{children:e.jsx(L,{to:"/companys",children:"Crear Validacion"})}),e.jsx("li",{children:e.jsx(L,{to:"/companys",children:"Estadisticas"})})]})]}),e.jsxs("li",{children:[e.jsxs("button",{onClick:t,children:[e.jsx("i",{className:"icon",children:e.jsx(Re,{})}),"  API ",e.jsx("i",{className:"arrow",children:e.jsx(se,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(L,{to:"/companys",children:"Mis Credenciales"})}),e.jsx("li",{children:e.jsx(L,{to:"/companys",children:"Crear Validacion"})}),e.jsx("li",{children:e.jsx(L,{to:"/companys",children:"Estadisticas"})})]})]})]})]})})}function Qa(){var t,l;const{UserInfo:s}=i.useContext(H),[a,r]=i.useState("dark");function n(){switch(a){case"ligth":r("dark");break;case"dark":r("ligth");break;default:r("ligth");break}}return i.useEffect(()=>{O(document.body).attr("theme",a)},[a]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"header-top",children:e.jsxs("div",{className:"right",children:[e.jsx("div",{className:"company",children:(t=s==null?void 0:s.company)!=null&&t.name?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"body",children:[e.jsx("img",{src:"img/icons/default_profile.png",alt:""}),e.jsx("span",{children:(l=s==null?void 0:s.company)==null?void 0:l.name})]})}):e.jsx(L,{to:"/companys",className:"select-company",children:"Seleccionar Empresa"})}),e.jsx("button",{className:"option",children:e.jsx(Rs,{})}),e.jsxs("button",{className:"option",onClick:n,children:[a=="dark"?e.jsx(Ms,{}):"",a=="ligth"?e.jsx(zs,{}):""]}),e.jsx("button",{className:"option",children:e.jsx($s,{})}),e.jsxs("div",{className:"user",children:[e.jsx("img",{src:"img/icons/default-user.jpg",alt:""}),e.jsxs("p",{className:"name",children:[s.user,e.jsx("i",{children:e.jsx(Bs,{})})]})]})]})})})}function V({Element:s,CompanyNeed:a}){var c;const{UserInfo:r}=i.useContext(H),n=J();i.useState(!1);const[t,l]=i.useState("wait");return i.useEffect(()=>{Be("company")||(n("/companys"),l(!1))},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"app",children:[e.jsx(Ia,{}),e.jsx(Qa,{}),e.jsx("div",{className:"page",children:a?(c=r==null?void 0:r.company)!=null&&c.id_company?e.jsx(s,{}):t==!1?e.jsxs("div",{className:"center-loading",children:[e.jsx("img",{src:"/img/icons/oficina.png",alt:""}),e.jsx("p",{children:"No has seleccionado ninguna empresa"})]}):e.jsx("div",{className:"center-loading",children:e.jsx("div",{className:"circle"})}):e.jsx(s,{})})]})})}function de(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading",children:e.jsx("div",{className:"circle"})})})}function Wa({Visible:s,Close:a}){const{UserInfo:r}=i.useContext(H),[n,t]=i.useState(0),[l,c]=i.useState([fe()]),[p,m]=i.useState({type:"",name:"",ocation:""}),x=J();function d(j){j.stopPropagation(),j.preventDefault();let u=O(j.target);u.parents(".options").find(".active").removeClass("active"),u.addClass("active");let o=u.attr("value");m(v=>({...v,type:o}))}function h(j){var v;let u=!1,o=O(j.target);if((n===0&&p.type.includes("em")||p.type.includes("sms"))&&(u=!0),n==1&&p.type!==""&&p.name!==""){o.addClass("await");let f=new FormData;f.append("name",p.name),f.append("ocation",p.ocation),f.append("type_c",p.type),f.append("id_company",(v=r==null?void 0:r.company)==null?void 0:v.id_company),D.post(S+"/api/upload/campaign",f,{withCredentials:!0}).then(b=>b.data).then(b=>{b.status?x("/campaigns/detail/"+b.id_campaign):b.msg&&Ie.error(b.msg),o.removeClass("await")}).catch(b=>{o.removeClass("await")})}u&&t(f=>f+1)}function g(j){let u=j.target.name,o=j.target.value;m(v=>({...v,[u]:o}))}return i.useEffect(()=>{O(".case.active").removeClass("active"),O(".case").eq(n).addClass("active")},[n]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[n>0?e.jsxs("button",{className:"return",onClick:j=>{t(u=>u-1)},children:[e.jsx(be,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:j=>{a(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear una nueva campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"options flex half",id:`options-${l[0]}`,children:[e.jsxs("div",{className:"selector",onClick:d,value:"em",children:[e.jsx("div",{className:"check",children:e.jsx(re,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA EMAIL MARKETING"}),e.jsx("span",{children:"Crea tu campaña de email con uno de nuestros editores para que la envíes inmediatamente o programes para enviar más tarde."})]})]}),e.jsxs("div",{className:"selector",onClick:d,value:"em-mt",children:[e.jsx("div",{className:"check",children:e.jsx(re,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA EMAIL TRANSACCIONAL"}),e.jsx("span",{children:"Crea tu campaña de email transaccional estas seran enviada 1x1 mediante la conexion a la api."})]})]}),e.jsxs("div",{className:"selector",onClick:d,value:"sms",children:[e.jsx("div",{className:"check",children:e.jsx(re,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA SMS MARKETING"}),e.jsx("span",{children:"Envía mensajes de texto rápidos y confiables a cualquier país con nuestras herramientas de campaña de SMS."})]})]}),e.jsxs("div",{className:"selector",onClick:d,value:"sms-mt",children:[e.jsx("div",{className:"check",children:e.jsx(re,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA SMS TRANSACCIONAL"}),e.jsx("span",{children:"Crea tu campaña de sms transaccional estas seran enviada 1x1 mediante la conexion a la api."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de campaña"}),e.jsx("input",{type:"text",name:"name",onChange:g,placeholder:"Nombre"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Selecciona tipo"}),e.jsxs("select",{name:"ocation",id:"",onChange:g,children:[e.jsx("option",{value:"",selected:!0,children:" Por defecto"}),e.jsx("option",{value:"birthday",children:"Cumpleaños"})]})]}),(p.ocation=="birthday","")]})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:"next",onClick:h,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function ce({name:s}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"nofound-items",children:[e.jsx("img",{src:"/img/icons/notfound.png",alt:""}),e.jsxs("p",{children:["No hay ",s??"items","  disponibles"]})]})})}function pe(){const{UserInfo:s}=i.useContext(H),a=J(),[r,n]=i.useState([]),[t,l]=i.useState(!1),[c,p]=i.useState(!0),m=we();i.useEffect(()=>{xe("/new")&&l(!0)},[m]);function x(h){var u;let g=new FormData;p(!0);let j="em";xe("/em")&&(j="em"),xe("/em-mt")&&(j="em-mt"),xe("/sms-mt")&&(j="sms-mt"),xe("/sms")&&(j="sms"),h||n([]),g.append("id_company",(u=s==null?void 0:s.company)==null?void 0:u.id_company),g.append("type",j),D.post(S+"/api/get/campaign",g,{withCredentials:!0}).then(o=>o.data).then(o=>{var v;(v=o==null?void 0:o.results)!=null&&v.length&&n(o.results),p(!1)}).catch(o=>{p(!1)})}i.useEffect(()=>{x(!1)},[m]);function d(h){let g=h.target.value;a("/campaigns/detail/"+g)}return e.jsxs(e.Fragment,{children:[e.jsx(Wa,{Visible:t,Close:l},`${t?"x":"x2"}`),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Campañas"}),e.jsx("span",{children:"Crea y ve tus campañas rapidamente, tambien puedes entrar a nuestro sistema automatizado "})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"add",onClick:h=>{l(!0)},children:"Crear nueva campaña"}),e.jsx("button",{className:"go-wizard",onClick:h=>{l(!0)},children:"Wizard"})]})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[r==null?void 0:r.map((h,g)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:h.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:d,value:h.id_campaign,children:e.jsx(ge,{})}),e.jsx("button",{children:e.jsx(Oe,{})})]})]})),c==!1?(r==null?void 0:r.length)==0?e.jsx(ce,{name:"campanas"}):"":e.jsx(de,{})]})})})]})}function We(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top",children:[e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(L,{to:"/companys",children:"Cuentas"})}),e.jsx("li",{children:e.jsx(L,{to:"/companys/users",children:"Usuarios"})}),e.jsx("li",{children:e.jsx(L,{to:"/companys/roles",children:"Roles"})})]}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"form-search",children:e.jsx("input",{type:"text",placeholder:"Buscar empresa..."})})})]})})}function ae({minWidth:s,maxWidth:a,children:r,width:n,visible:t,buttonSave:l=!0,cancel:c,onClick:p,next:m,callback:x,Pending:d,close:h=function(){}}){const[g,j]=i.useState(t==!1?!1:t),[u,o]=i.useState(fe());function v(f){f.stopPropagation();let b=O(f.target);O(`#modal-${u}`).removeClass("open"),b.parents(".modal-small").addClass("close"),setTimeout(()=>{b.parents(".modal-small").removeClass("close"),j(!1),x(!1)},400)}return i.useEffect(f=>{t==!0?(j(!0),setTimeout(()=>{O(`#modal-${u}`).removeClass("close"),O(`#modal-${u}`).addClass("open")},25)):(O(`#modal-${u}`).addClass("close"),O(`#modal-${u}`).removeClass("open"),h("cerro"))},[t]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"modal-small",id:`modal-${u}`,style:{display:g==!0?"flex":"none"},children:[e.jsx("div",{className:"closed"}),e.jsxs("div",{className:"body",style:{maxWidth:a,minWidth:s,width:n},children:[r,e.jsxs("div",{className:"actions",children:[e.jsx("button",{id:"close",onClick:v,children:c??"Cancelar"}),l?e.jsxs("button",{className:`done ${d==!0?" await":""}`,onClick:p,children:[m??"Guardar"," ",e.jsx("div",{className:"loading"})]}):""]})]})]})})}function Ha({name:s,id:a,valueDefault:r,onChange:n}){const[t,l]=i.useState(fe());i.useEffect(()=>{r&&(document.querySelector(`.select-${t}`).value=r)},[]);function c(p){n&&n(p)}return e.jsxs("select",{name:s,id:a,onChange:c,className:`select-${t}`,children:[e.jsx("option",{value:"def",selected:!0,disabled:!0,children:"Seleccionar"}),e.jsx("option",{value:"md",children:"Marketing Digital"}),e.jsx("option",{value:"tec",children:"Tecnología"}),e.jsx("option",{value:"tele",children:"Telecomunicaciones"}),e.jsx("option",{value:"soft",children:"Software"})]})}function Ze(){const[s,a]=i.useState([]),[r,n]=i.useState(!0),[t,l]=i.useState(!1),[c,p]=i.useState(!1),[m,x]=i.useState({}),[d,h]=i.useState({name:"",color:"",type:""}),{setUserInfo:g,UserInfo:j}=i.useContext(H),[u,o]=i.useState(!1),v=we();i.useEffect(()=>{xe("/add")&&l(!0)},[v]);function f(){a([]),n(!0),D.post(S+"/api/get/companys",{},{withCredentials:!0}).then(P=>P.data).then(P=>{n(!1),a(P)})}i.useEffect(()=>{f()},[]),i.useEffect(()=>{},[m]);function b(){}function A(P){c?x(N=>({...N,color:P})):h(N=>({...N,color:P}))}function _(P){if(c){let N=O(P.target);N.addClass("await");let w=new FormData;w.append("name",m.name),w.append("color",m.color),w.append("type",m.type),w.append("id_company",m.id_company),D.post(S+"/update/editcompany",w,{withCredentials:!0}).then(y=>y.data).then(y=>{y.status&&(l(!1),z.success("Has editado correctamente."),f()),y.msg&&z.error(y.msg),N.removeClass("await")}).catch(y=>{N.removeClass("await")})}else{o(!0);let N=new FormData;N.append("name",d.name),N.append("color",d.color),N.append("type",d.type),D.post(S+"/api/upload/company",N,{withCredentials:!0}).then(w=>w.data).then(w=>{w.status&&(f(),l(!1),z.success("Has creado tu empresa correctamente.")),w.msg&&z.error(w.msg),o(!1)}).catch(w=>{o(!1)})}}i.useEffect(()=>{O(".colors .option-color").css({opacity:"0.5"}),O(`.colors .option-color[value='${m.color}']`).addClass("active").css({opacity:1}),O(".form-input input[name='name']").val(m.name)},[m]);function T(P){l(!0),x(s[P])}function E(P,N){P.stopPropagation();try{g(w=>({...w,company:s[N]})),document.cookie=`company=${s[N].id_company}`,z.success("Empresa asignada correctamente.")}catch{}}function k(P,N){P.stopPropagation()}function R(P){console.log(c),c||h(N=>({...N,[P.target.name]:P.target.value}))}return e.jsxs(e.Fragment,{children:[e.jsxs(ae,{onClick:_,visible:t,callback:l,close:P=>{x({})},Pending:u,next:`${c?"Editar":"Agregar"}`,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:c?"Editar empresa":"Agregar empresa"})}),e.jsxs("div",{className:"content",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre"}),e.jsx("input",{name:"name",type:"text",onChange:R})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Tipo"}),e.jsx(Ha,{name:"type",onChange:R,valueDefault:`${c?m.type:"def"}`,callback:b},t?"modal-open":"modal-closed")]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Elige color de empresa"}),e.jsx("span",{className:"desc",children:"El color te ayudara a identificar tu empresa."}),e.jsxs("div",{className:"colors",children:[e.jsx(le,{color:"#2e56ff",fn:A}),e.jsx(le,{color:"#57c583",fn:A}),e.jsx(le,{color:"#3fcae9",fn:A}),e.jsx(le,{color:"#e9d43f",fn:A}),e.jsx(le,{color:"#d77613",fn:A}),e.jsx(le,{color:"#c069cb",fn:A}),e.jsx(le,{color:"#cb6992",fn:A})]},t?"a":"x")]})]})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MIS CUENTAS"}),e.jsx("span",{children:"Crea y administra tus empresas, agrega nuevos encargados u nuevos cargos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:P=>{l(!0),p(!1)},children:"Crear nueva empresa"})})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx(We,{}),e.jsxs("div",{className:"box box-padding",children:[s.map((P,N)=>{var w;return e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"img/icons/default_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:P.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:y=>{k(y)},children:e.jsx(Vs,{})}),e.jsx("button",{onClick:y=>{T(N),p(!0)},children:e.jsx(Qe,{})}),e.jsxs("button",{onClick:y=>{E(y,N)},children:[" ",((w=j==null?void 0:j.company)==null?void 0:w.id_company)==P.id_company?e.jsx(Is,{}):e.jsx(Qs,{})," "]})]})]},N)}),r==!0?e.jsxs(e.Fragment,{children:["  ",e.jsx(de,{})]}):""]})]})})]})}function Le({visible:s,onClick:a,callback:r,Pending:n,name:t}){const[l,c]=i.useState(s!=!1),[p,m]=i.useState(fe());function x(d){d.stopPropagation();let h=O(d.target);h.parents(".actions").find(".done.await").length?z.error("No puedes salir en este momento..."):(O(`#modal-${p}`).removeClass("open"),h.parents(".modal-small").addClass("close"),setTimeout(()=>{h.parents(".modal-small").removeClass("close"),c(!1),r(!1)},600))}return i.useEffect(d=>{s==!0?(c(!0),setTimeout(()=>{O(`#modal-${p}`).removeClass("close"),O(`#modal-${p}`).addClass("open")},25)):(O(`#modal-${p}`).addClass("close"),O(`#modal-${p}`).removeClass("open"),close("cerro"))},[s]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"modal-small delete",id:`modal-${p}`,style:{display:l==!0?"flex":"none"},children:[e.jsx("div",{className:"closed"}),e.jsxs("div",{className:"body",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Eliminar"})}),e.jsxs("span",{className:"dialog",children:["Estas apunto de eliminar ",t==null?"este objeto":"esta "+t,", estas seguro que quieres eliminarlo?"]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{id:"close",onClick:x,children:"Cancelar"}),e.jsxs("button",{className:`done ${n==!0?"await":""}`,onClick:a,children:["Eliminar ",e.jsx("div",{className:"loading"})]})]})]})]})})}function Ga(){const{UserInfo:s,LoadingAuth:a}=i.useContext(H),[r,n]=i.useState(!1),[t,l]=i.useState(!1),[c,p]=i.useState(["delete","read","send","add"]),[m,x]=i.useState(!1);let d={type_add:"",delete:0,add:0,read:0,send:0,sadmin:0};const[h,g]=i.useState(d),[j,u]=i.useState(),[o,v]=i.useState(!0),f=J(),[b,A]=i.useState([]);async function _(){var w;let N=new FormData;N.append("id_company",(w=s==null?void 0:s.company)==null?void 0:w.id_company),A([]),v(!0),D.post(S+"/api/get/roles",N,{withCredentials:!0}).then(y=>y.data).then(y=>{A(y),v(!1)})}i.useEffect(()=>{a||s.company||(f("/companys"),z.error("Selecciona una empresa ")),o&&_()},[a]);function T(N){let w=N.target.value;O(N.target).is("input[type='checkbox']")?(g(y=>({...y,sadmin:0})),O(N.target).is("input[type='checkbox']:checked")?g(y=>({...y,[N.target.name]:1})):g(y=>({...y,[N.target.name]:0}))):(g(y=>({...y,[N.target.name]:w})),w=="sadmin"&&g(y=>({...y,sadmin:1})))}function E(N){let w=new FormData;h.rol!==void 0&&h.type_add!==void 0&&(w.append("sadmin",h!=null&&h.sadmin?h.sadmin:0),w.append("delete",h!=null&&h.delete?h.delete:0),w.append("read",h!=null&&h.read?h.read:0),w.append("add",h!=null&&h.add?h.add:0),w.append("send",h!=null&&h.send?h.send:0),w.append("rol",h.rol),w.append("id_company",s.company.id_company),m?(Me(N.target),w.append("id_rol",h==null?void 0:h.id_rol),D.post(S+"/api/update/permissions",w,{withCredentials:!0}).then(y=>y.data).then(async y=>{y.status&&(await _(),n(!1),me(N.target)),y.msg&&(z.error("Opps error al aplicar cambios de permisos"),me(N.target))}).catch(y=>{me(N.target)})):(Me(N.target),D.post(S+"/api/upload/rol",w,{withCredentials:!0}).then(y=>y.data).then(y=>{y.status?(w.append("id_rol",y.id_rol),D.post(S+"/api/update/permissions",w,{withCredentials:!0}).then($=>$.data).then(async $=>{$.status&&(await _(),n(!1),me(N.target)),$.msg&&(z.error("Opps error al aplicar cambios de permisos"),me(N.target))}).catch($=>{me(N.target)})):(y.msg&&z.error(y.msg),me(N.target))}).catch(y=>{me(N.target)})))}function k(N){let w=N.target.value;w&&(u(w),l(!0))}function R(N){Me(N.target);let w=new FormData;w.append("id_company",s.company.id_company),w.append("id_rol",j),j?D.post(S+"/api/delete/rol",w,{withCredentials:!0}).then(y=>y.data).then(y=>{y.status&&(l(!1),_()),y.msg&&z.error(y.msg),me(N.target)}).catch(y=>{me(N.target)}):z.error("No has seleccionado ningun id")}function P(N){let w=N.target.value;n(!0),x(!0),g(y=>({...y,id_rol:b[w].id_rol,rol:b[w].rol})),setTimeout(()=>{b[w].permissions.sadmin?(g(y=>({...y,type_add:"sadmin"})),document.querySelector("select").value="sadmin"):(g(y=>({...y,type_add:"pers"})),document.querySelector("select").value="pers",c.forEach((y,$)=>{b[w].permissions[y]&&document.querySelector(`input[name='${y}']`).click()}))},25)}return e.jsxs(e.Fragment,{children:[e.jsx(Le,{visible:t,callback:l,onClick:R},t?"opxen":"clxose"),e.jsxs(ae,{onClick:E,maxWidth:380,visible:r,callback:n,next:m?"Actualizar":"Guardar",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:m?"Editar rol":"Agregar rol"})}),e.jsxs("div",{className:"content",children:[m?"":e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de rol",name:"rol",onChange:T,value:(h==null?void 0:h.rol)==null?"":h==null?void 0:h.rol})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"type_add",id:"",onChange:T,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Seleccionar tipo"}),e.jsx("option",{value:"pers",children:"Personalizado"}),e.jsx("option",{value:"sadmin",children:"Super Admin"})]})}),h.type_add=="pers"?e.jsx("table",{children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Permisos"}),e.jsx("td",{children:"Seleccionar"})]}),c.map(N=>e.jsxs("tr",{children:[e.jsx("td",{children:N}),e.jsx("td",{children:e.jsx("input",{type:"checkbox",onChange:T,name:N})})]}))]})}):h.type_add=="sadmin"?e.jsxs("div",{className:"ad",children:[e.jsx("p",{children:"Advertencia"}),e.jsx("span",{children:"Al asignar un rol con permisos de super administrador, le daras derecho a hacer las mismas acciones que tu cuenta principal, podra manipular empresas o hacer cosas que solamente tu puedes hacer."})]}):e.jsx(e.Fragment,{})]})]},r?"open":"close"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus roles"}),e.jsx("span",{children:"Crea y elimina los roles de tu empresa, da permisos a usuarios para que puedan iniciar sesion y manipular tu empresa"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:N=>{n(!0),g(d),x(!1)},children:"Crear nuevo rol"})})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx(We,{}),e.jsxs("div",{className:"box box-padding",children:[b.map((N,w)=>{var y,$,I,Z,oe,M,C,q;return e.jsxs("div",{className:"item flex",children:[e.jsx("div",{className:"info",children:e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:[N.rol," ",N.permissions.sadmin==!0?e.jsx("span",{className:"super-adm",children:"ADM"}):""," "]}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})}),e.jsxs("div",{children:[e.jsx("p",{children:"Lectura"}),e.jsx("div",{className:"center-roles",children:(y=N==null?void 0:N.permissions)!=null&&y.read?e.jsx("span",{className:"yes",children:e.jsx(he,{})}):(($=N==null?void 0:N.permissions)==null?void 0:$.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(he,{})}):e.jsx("span",{className:"no",children:e.jsx(_e,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Envio"}),e.jsx("div",{className:"center-roles",children:(I=N==null?void 0:N.permissions)!=null&&I.send?e.jsx("span",{className:"yes",children:e.jsx(he,{})}):((Z=N==null?void 0:N.permissions)==null?void 0:Z.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(he,{})}):e.jsx("span",{className:"no",children:e.jsx(_e,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Borrar"}),e.jsx("div",{className:"center-roles",children:(oe=N==null?void 0:N.permissions)!=null&&oe.delete?e.jsx("span",{className:"yes",children:e.jsx(he,{})}):((M=N==null?void 0:N.permissions)==null?void 0:M.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(he,{})}):e.jsx("span",{className:"no",children:e.jsx(_e,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Agregar"}),e.jsx("div",{className:"center-roles",children:(C=N==null?void 0:N.permissions)!=null&&C.add?e.jsx("span",{className:"yes",children:e.jsx(he,{})}):((q=N==null?void 0:N.permissions)==null?void 0:q.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(he,{})}):e.jsx("span",{className:"no",children:e.jsx(_e,{})})})]}),e.jsx("div",{children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:P,value:w,children:e.jsx(Qe,{})}),e.jsx("button",{onClick:k,value:N.id_rol,children:e.jsx(U,{})})]})})]},w)}),o?e.jsx(de,{}):b.length==0?e.jsx(ce,{}):""]})]})})]})}function Ja(){const{UserInfo:s}=i.useContext(H),[a,r]=i.useState([]),[n,t]=i.useState(!1),[l,c]=i.useState({name:"",password:"",email:"",id_rol:""}),[p,m]=i.useState(!1),[x,d]=i.useState([]),[h,g]=i.useState(!1),[j,u]=i.useState(),[o,v]=i.useState(!1),[f,b]=i.useState({id_user:"",id_rol:""}),[A,_]=i.useState(!1);function T(y){let $=y.target.value,I=y.target.name;c(Z=>({...Z,[I]:$}))}function E(){var $;g(!0);let y=new FormData;y.append("id_company",($=s==null?void 0:s.company)==null?void 0:$.id_company),D.post(S+"/api/get/subusers",y,{withCredentials:!0}).then(I=>I.data).then(I=>{g(!1),r(I)}).catch(I=>{g(!1)})}function k(){var y;if(l.name&&l.email&&l.password&&l.id_rol)if(l.password.length>=6){let $=new FormData;m(!0),$.append("name",l.name),$.append("email",l.email),$.append("password",l.password),$.append("id_rol",l.id_rol),$.append("id_company",(y=s.company)==null?void 0:y.id_company),D.post(S+"/api/upload/subuser",$,{withCredentials:!0}).then(I=>I.data).then(I=>{m(!1),I.status&&(t(!1),r([]),E())}).catch(I=>{m(!1)})}else z.error("Tu password no es correcta debe de tener 6 o mas caracteres");else z.error("Opps has dejado campos vacios")}function R(y){b($=>({...$,id_user:a[y].id,id_rol:a[y].id_rol,name:a[y].name})),setTimeout(()=>{document.querySelector("select").value=a[y].id_rol},20),v(!0)}function P(y){let $=a[y].id;$&&(u($),_(!0))}i.useEffect(()=>{var $;let y=new FormData;y.append("id_company",($=s==null?void 0:s.company)==null?void 0:$.id_company),D.post(S+"/api/get/roles",y,{withCredentials:!0}).then(I=>I.data).then(I=>{d(I)}),E()},[]);function N(){var y;if(f.id_rol&&f.id_user){m(!0);let $=new FormData;$.append("id_company",(y=s==null?void 0:s.company)==null?void 0:y.id_company),$.append("id_rol",f.id_rol),$.append("id_user",f.id_user),D.post(S+"/api/update/subuser",$,{withCredentials:!0}).then(I=>I.data).then(I=>{I.status&&(E(),r([]),z.success("Has editato el usuario correctamente."),v(!1)),m(!1)}).catch(I=>{m(!1)})}}function w(){var y;if(j){m(!0);let $=new FormData;$.append("id_user",j),$.append("id_company",(y=s==null?void 0:s.company)==null?void 0:y.id_company),D.post(S+"/api/delete/subuser",$,{withCredentials:!0}).then(I=>I.data).then(I=>{I.status&&(_(!1),m(!1),E(),r([]),z.success("Has borrado el usuario correctamente."))})}else z.error("Opps no has seleccionado nada")}return e.jsxs(e.Fragment,{children:[e.jsx(Le,{visible:A,callback:_,onClick:w,Pending:p}),e.jsxs(ae,{visible:o,callback:v,Pending:p,onClick:N,next:"Editar",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Editar"})}),e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{children:["Editar rol del usuario @",f.name]}),e.jsxs("select",{onChange:y=>{b($=>({...$,id_rol:y.target.value}))},name:"",id:"",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Seleccionar Rol"}),x.map((y,$)=>e.jsx("option",{value:y.id_rol,children:y.rol}))]})]})]}),e.jsx(ae,{visible:n,callback:t,next:"Agregar",onClick:k,Pending:p,children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Agregar"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre",name:"name",onChange:T})}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Email",name:"email",onChange:T})}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"password",placeholder:"Contraseña",name:"password",onChange:T})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"id_rol",id:"",onChange:T,children:[e.jsx("option",{value:"",children:"Seleccionar Rol"}),x.map((y,$)=>e.jsx("option",{value:y.id_rol,children:y.rol}))]})})]})},`${n?"open":"close"}`),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus usuarios"}),e.jsx("span",{children:"Crea y elimina usuarios, estos usuarios son de tu empresa, deben de tener un rol asignado para poder hacer ciertas funciones. Estos usuarios pueden utilizar la api si le das el acceso y podran consumir recursos desde alli."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:y=>{t(!0)},children:"Crear nuevo usuario"})})]}),e.jsx(We,{}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[a.map((y,$)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default-user.jpg",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:y.name}),e.jsxs("span",{className:"desc",children:["Rol - ",y.rol]}),e.jsx("br",{}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:I=>{R($)},value:$,children:e.jsx(Qe,{})}),e.jsx("button",{onClick:I=>{P($)},value:y.id_rol,children:e.jsx(U,{})})]})})]},$)),h==!1?a.length==0?e.jsx(ce,{name:"usuarios"}):"":e.jsx(de,{})]})})})]})}function Xa(){var M,C,q,F,X,K,Se;const s=ee(),{UserInfo:a}=i.useContext(H),r=J();i.useState(!1);let n={lists:!1,body:!1,affair:!1};const[t,l]=i.useState(n),[c,p]=i.useState({lists:[]}),[m,x]=i.useState({lists:!1}),[d,h]=i.useState([]),[g,j]=i.useState({sendCampaign:!1}),[u,o]=i.useState({affair:""}),[v,f]=i.useState(!1),[b,A]=i.useState(!1);function _(Q){var G;T(!0);let W=new FormData;W.append("id_company",(G=a==null?void 0:a.company)==null?void 0:G.id_company),d.lists&&W.append("ignore_id",d.lists),p(Y=>({...Y,lists:[]})),Q&&W.append("search",Q),D.post(S+"/api/get/list",W,{withCredentials:!0}).then(Y=>Y.data).then(Y=>{p(ne=>({...ne,lists:Y})),T(!1)})}function T(Q){x(W=>({...W,lists:Q}))}let E=0;function k(Q){let W=Q.target.value;clearTimeout(E),E=setTimeout(()=>{_(W)},250)}function R(){clearTimeout(E)}i.useEffect(()=>{t.lists&&_()},[t]),i.useEffect(()=>{var W;let Q=new FormData;Q.append("id_company",(W=a==null?void 0:a.company)==null?void 0:W.id_company),Q.append("id_campaign",s.id),D.post(S+"/api/get/campaign",Q,{withCredentials:!0}).then(G=>G.data).then(G=>{h(G)}).catch(G=>{})},[]);function P(Q){var G,Y;let W=Q.target.value;if(W){let ne=new FormData;ne.append("id_list",W),ne.append("id_company",(G=a==null?void 0:a.company)==null?void 0:G.id_company),ne.append("id_campaign",s.id);let Ee=!1;if((Y=d==null?void 0:d.lists)!=null&&Y.length?d.lists.includes(W)||(Ee=!0,h(ve=>({...ve,lists:ve.lists+","+W}))):(h(ve=>({...ve,lists:W})),Ee=!0),Ee){let ve=O(Q.target);ve=ve.parents(".result"),ve.hide("x"),D.post(S+"/api/update/addlistcampaign",ne,{withCredentials:!0}).then(qe=>qe.data).then(qe=>{qe.status}).catch(qe=>{})}}}function N(Q){let W=Q.target.value;if(W){let G=new FormData;G.append("id_campaign",d.id_campaign),G.append("id_list",W),G.append("id_company",a.company.id_company),D.post(S+"/api/delete/listscampaign",G,{withCredentials:!0}),h(Y=>{var ne;return{...Y,lists:(ne=Y==null?void 0:Y.lists)==null?void 0:ne.replace(","+W,"").replace(W,"")}})}}function w(Q){l(n),l(W=>({...W,[Q]:!0}))}function y(Q){var G;Z("sendCampaign",!0);let W=new FormData;W.append("id_company",(G=a==null?void 0:a.company)==null?void 0:G.id_company),W.append("id_campaign",s.id),D.post(S+"/api/send/campaign",W,{withCredentials:!0}).then(Y=>Y.data).then(Y=>{Z("sendCampaign",!1),Y.status&&z.success("Campaña enviada!")}).catch(Y=>{Z("sendCampaign",!1)})}function $(Q){let W=Q.target.name,G=Q.target.value;o(Y=>({...Y,[W]:G}))}function I(Q){var Y;let W=O(Q.target);W.addClass("await");let G=new FormData;G.append("affair",u.affair),G.append("id_company",(Y=a==null?void 0:a.company)==null?void 0:Y.id_company),G.append("id_campaign",d.id_campaign),D.post(S+"/api/update/setaffair",G,{withCredentials:!0}).then(ne=>ne.data).then(ne=>{W.removeClass("await"),ne.status&&(l(n),h(Ee=>({...Ee,affair:u.affair})))}).catch(ne=>{W.removeClass("await")})}function Z(Q,W){j(G=>({...G,[Q]:W}))}function oe(){var W;A(!0);let Q=new FormData;Q.append("id_company",(W=a==null?void 0:a.company)==null?void 0:W.id_company),Q.append("id_campaign",s.id),D.post(S+"/api/delete/campaign",Q,{withCredentials:!0}).then(G=>G.data).then(G=>{A(!1),G.status&&r("/campaigns")}).catch(G=>{A(!1)})}return e.jsxs(e.Fragment,{children:[e.jsx(ae,{visible:!1,width:"30%",maxWidth:"500px",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Programar campaña"}),e.jsxs("div",{className:"flex",children:[e.jsx("select",{name:"",id:"",children:e.jsx("option",{disabled:!0,selected:!0,children:"Hora"})}),e.jsx("select",{name:"",id:"",children:e.jsx("option",{disabled:!0,selected:!0,children:"Dia"})}),e.jsx("select",{name:"",id:"",children:e.jsx("option",{disabled:!0,selected:!0,children:"Mes"})}),e.jsx("select",{name:"",id:"",children:e.jsx("option",{disabled:!0,selected:!0,children:"Ano"})})]}),e.jsxs("div",{className:"flex",children:[e.jsxs("div",{className:"input-form",children:[e.jsx("span",{children:"Lunes"}),e.jsx("input",{type:"radio",name:"day"})]}),e.jsxs("div",{className:"input-form",children:[e.jsx("span",{children:"Martes"}),e.jsx("input",{type:"radio",name:"day"})]}),e.jsxs("div",{className:"input-form",children:[e.jsx("span",{children:"Miercoles"}),e.jsx("input",{type:"radio",name:"day"})]}),e.jsxs("div",{className:"input-form",children:[e.jsx("span",{children:"Jueves"}),e.jsx("input",{type:"radio",name:"day"})]}),e.jsxs("div",{className:"input-form",children:[e.jsx("span",{children:"Viernes"}),e.jsx("input",{type:"radio",name:"day"})]}),e.jsxs("div",{className:"input-form",children:[e.jsx("span",{children:"Sabado"}),e.jsx("input",{type:"radio",name:"day"})]}),e.jsxs("div",{className:"input-form",children:[e.jsx("span",{children:"Domingo"}),e.jsx("input",{type:"radio",name:"day"})]})]})]})}),e.jsx(Le,{visible:v,callback:f,Pending:b,onClick:oe,name:"campana"}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles de campaña"}),e.jsx("span",{children:'Gestiona tus campañas de manera eficiente y optimiza tus estrategias de marketing con nuestra función de "Detalles de Campaña".'})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:Q=>{setModalWizard(!0)},children:e.jsx(Pe,{})})})]}),e.jsxs("div",{className:"menu-top-right",children:[e.jsx("button",{className:"programming",children:"Programar"}),e.jsx("button",{className:"programming",onClick:Q=>r("/campaigns/stats/"+(s==null?void 0:s.id)),children:"Estadisticas"}),e.jsx("button",{className:"programming",onClick:Q=>{f(!0)},children:"Eliminar"}),e.jsxs("button",{className:`send-campaign ${g.sendCampaign?"await":""}`,onClick:y,children:["Enviar Campaña ",e.jsx("div",{className:"loading"})]})]}),e.jsxs("div",{className:"box steps",children:[e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:d.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsx("div",{children:e.jsx("p",{children:"Estatus"})}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(ue,{})}),e.jsxs("button",{children:[e.jsx(Oe,{})," "]})]})]}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top active",children:[e.jsx("div",{className:"check",children:e.jsx(je,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Crear Campaña"}),e.jsx("span",{className:"desc approve",children:"Perfecto!"})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top active",children:[e.jsx("div",{className:"check active",children:e.jsx(je,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Elegir Tipo"}),e.jsx("span",{className:"desc approve",children:"Perfecto!"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{children:"Editar"})})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${d!=null&&d.lists?"active":""}`,children:[e.jsx("div",{className:"check",children:e.jsx(je,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Contactos"}),e.jsx("span",{className:"desc approve",children:"Perfecto!"}),e.jsx("div",{className:"selects",children:((M=d==null?void 0:d.lists)==null?void 0:M.length)>=1?(C=d==null?void 0:d.lists)==null?void 0:C.split(",").map((Q,W)=>e.jsx("div",{className:"select",children:e.jsxs("p",{children:["Lista: ",Q," ",e.jsx("button",{className:"delete",onClick:N,value:Q,children:e.jsx(U,{})})]})})):""})]}),t.lists==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Buscar lista... (Solo obtendras las listas con contactos)"}),e.jsx("input",{type:"search",onKeyUp:k,onKeyDown:R,placeholder:"Buscar"})]}),e.jsxs("div",{className:"search-result",children:[c.lists.map((Q,W)=>e.jsx("div",{className:"result",children:e.jsxs("div",{className:"info",children:[e.jsx("p",{children:Q.name}),e.jsxs("span",{children:["Contactos: ",Q.contacts]}),e.jsx("span",{children:"Agregado: 05/05/2022"}),e.jsx("button",{className:"select",onClick:P,value:Q.id_list,children:e.jsx(Ws,{})})]})},W)),m.lists?e.jsx(de,{}):m.lists==!1&&c.lists.length==0?e.jsx(ce,{name:"listas"}):""]})]})}):e.jsx("div",{className:"right",children:e.jsx("button",{onClick:Q=>{w("lists")},children:"Editar"})})]})}),(d==null?void 0:d.type_c)=="em"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${d!=null&&d.sender?"active":""}`,children:[e.jsx("div",{className:"check",children:e.jsx(je,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Remitente"}),e.jsx("span",{className:"desc approve",children:"Perfecto!"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{onClick:Q=>{w("body")},children:"Editar"})})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${d!=null&&d.affair?"active":""}`,children:[e.jsx("div",{className:"check",children:e.jsx(je,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Asunto"}),e.jsx("span",{className:"desc approve",children:"Perfecto!"})]}),t.affair==!0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"form-input flex",children:[e.jsx("input",{type:"search",onChange:$,name:"affair",placeholder:"Asunto..."}),e.jsx("button",{onClick:I,className:"save",children:"Guardar"})]})})}):e.jsx("div",{className:"right",children:e.jsx("button",{onClick:Q=>{w("affair")},children:"Editar"})})]})})]}):"",e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${d!=null&&d.template?"active":""}`,children:[e.jsx("div",{className:"check",children:e.jsx(je,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Plantilla"}),e.jsx("span",{className:"desc approve",children:"Perfecto!"})]}),t.body==!0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:d!=null&&d.template?e.jsxs("div",{className:"preview-template",children:[e.jsx("p",{children:(q=d==null?void 0:d.template)==null?void 0:q.title}),e.jsxs("span",{children:["Plantilla creada:  ",Ne((F=d==null?void 0:d.template)==null?void 0:F.time_add)]}),e.jsx("img",{src:ys((X=a==null?void 0:a.company)==null?void 0:X.folder_sftp,(K=d==null?void 0:d.template)==null?void 0:K.preview_image),alt:""}),e.jsx("br",{}),e.jsx(L,{to:`/editor/canvas/${(Se=d==null?void 0:d.template)==null?void 0:Se.id_template}?campaign=`+s.id,children:"Editar plantilla"})]}):e.jsx(L,{to:"/editor/canvas/?campaign="+s.id,children:"Crear una plantilla"})})}):"",e.jsx("div",{className:"right",children:e.jsx("button",{onClick:Q=>{w("body")},children:"Editar"})})]})})]})]})}function Ka({Visible:s,Close:a,Callback:r}){const{UserInfo:n}=i.useContext(H),[t,l]=i.useState(0),[c,p]=i.useState([fe()]),[m,x]=i.useState({type:"",name:""});J();function d(j){j.stopPropagation(),j.preventDefault();let u=O(j.target);u.parents(".options").find(".active").removeClass("active"),u.addClass("active");let o=u.attr("value");x(v=>({...v,type:o}))}function h(j){var v;let u=!1,o=O(j.target);if((t===0&&m.type=="em"||m.type=="sms")&&(u=!0),t==1&&m.type!==""&&m.name!==""){o.addClass("await");let f=new FormData;f.append("name",m.name),f.append("type_c",m.type),f.append("id_company",(v=n==null?void 0:n.company)==null?void 0:v.id_company),D.post(S+"/api/upload/list",f,{withCredentials:!0}).then(b=>b.data).then(b=>{b.status&&(a(!1),r(!0)),o.removeClass("await")}).catch(b=>{o.removeClass("await")})}u&&l(f=>f+1)}function g(j){let u=j.target.name,o=j.target.value;x(v=>({...v,[u]:o}))}return i.useEffect(()=>{O(".case.active").removeClass("active"),O(".case").eq(t).addClass("active")},[t]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[t>0?e.jsxs("button",{className:"return",onClick:j=>{l(u=>u-1)},children:[e.jsx(be,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:j=>{a(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear una nueva lista"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de lista que te gustaría crear"})]}),e.jsxs("div",{className:"options flex",id:`options-${c[0]}`,children:[e.jsxs("div",{className:"selector",onClick:d,value:"em",children:[e.jsx("div",{className:"check",children:e.jsx(re,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"LISTA DE EMAIL"}),e.jsx("span",{children:"La lista de email es una herramienta que te permite administrar tus contactos de manera eficiente. Aquí podrás subir tus contactos para realizar envíos de correo electrónico de forma conveniente y efectiva."})]})]}),e.jsxs("div",{className:"selector",onClick:d,value:"sms",children:[e.jsx("div",{className:"check",children:e.jsx(re,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"LISTA TELEFONICA"}),e.jsx("span",{children:"Una lista de números es una herramienta que te permite gestionar y organizar de manera efectiva tus contactos telefónicos. Con ella, podrás enviar mensajes de texto rápidos y confiables a cualquier número, sin importar el país."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar Lista"}),e.jsx("span",{className:"desc",children:"Asignale un nombre a tu nueva lista."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de lista"}),e.jsx("input",{type:"text",name:"name",onChange:g,placeholder:"Nombre"})]})})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:"next",onClick:h,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function Ya(){const[s,a]=i.useState(),[r,n]=i.useState([]),[t,l]=i.useState(!1),{UserInfo:c}=i.useContext(H),p=J();function m(d){d&&a(!1)}function x(){var h;let d=new FormData;d.append("id_company",(h=c==null?void 0:c.company)==null?void 0:h.id_company),l(!0),n([]),D.post(S+"/api/get/list",d,{withCredentials:!0}).then(g=>g.data).then(g=>{n(g),l(!1)})}return i.useEffect(()=>{x()},[]),e.jsxs(e.Fragment,{children:[e.jsx(Ka,{Visible:s,Close:a,Callback:m}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Listas"}),e.jsx("span",{children:"Estas son tus listas de contactos, puedes subir contactos rapidamente creando una lista y seleccionando tu archivo csv"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:d=>{a(!0)},children:"Crear nueva lista"})})]}),e.jsxs("div",{className:"box box-padding",children:[r.map((d,h)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:d.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{onClick:g=>{p("/contacts/detail/"+d.id_list)},children:e.jsx(ge,{})})})]})),t?e.jsx(de,{}):r.length==0?e.jsx("div",{className:"item",children:e.jsx(ce,{name:"listas"})}):""]})]})}function Za({Status:s}){return e.jsx(e.Fragment,{children:s=="wait"?e.jsxs("span",{className:"wait-list",children:[e.jsx(Hs,{})," Subiendo..."]}):s=="ready"?e.jsxs("span",{className:"ready-list",children:[e.jsx(re,{}),"  Activa"]}):e.jsxs("span",{className:"setting-list",children:[e.jsx(cs,{})," En espera..."]})})}function Ua(){const{UserInfo:s}=i.useContext(H),a=ee(),[r,n]=i.useState({}),t=J();return i.useState(!1),i.useState(!0),i.useEffect(()=>{var c;let l=new FormData;l.append("id_list",a.id),l.append("id_company",(c=s==null?void 0:s.company)==null?void 0:c.id_company),D.post(S+"/api/get/list",l,{withCredentials:!0}).then(p=>p.data).then(p=>{n(p)})},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles de lista"}),e.jsx("span",{children:"Ve los detalle de tus listas y ve si estan listas para ser utilizadas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:l=>{t("/contacts/lists")},children:e.jsx(Pe,{})})})]}),e.jsxs("div",{className:"box steps",children:[e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:r.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Contactos"}),e.jsx("span",{children:r.contacts})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Estatus"}),e.jsx(Za,{Status:r.status})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(ue,{})}),e.jsx("button",{onClick:l=>{t("/contacts/upload/"+a.id)},children:e.jsx(ye,{})})]})]}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"check active",children:e.jsx(je,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Crear Lista"}),e.jsx("span",{className:"desc approve",children:e.jsx("span",{className:"ready-list",children:"Completado !"})})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"check active",children:e.jsx(je,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Elegir Tipo"}),e.jsx("span",{className:"desc approve",children:e.jsx("span",{className:"ready-list",children:"Completado !"})})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:`check ${r.contacts>0?"active":""}`,children:e.jsx(je,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Subir Contactos"}),e.jsx("span",{className:"desc",children:r.contacts==0?e.jsx("span",{className:"wait-list",children:"Pendiente"}):e.jsx("span",{className:"ready-list",children:"Completado !"})})]}),e.jsx("div",{className:"right",children:e.jsx("button",{onClick:l=>{t("/contacts/upload/"+a.id)},children:"Subir"})})]})})]})]})}function ei({Visible:s,Close:a,Callback:r}){var P;const{UserInfo:n}=i.useContext(H),[t,l]=i.useState(0),[c,p]=i.useState([fe()]),[m,x]=i.useState({type:"",file:{}}),d={analize:!1,percentAnalize:"0",approve:!1},[h,g]=i.useState(d),[j,u]=i.useState(!1);let o=O("input[type='file']");const v=J(),f=ee();function b(N){N.stopPropagation(),N.preventDefault();let w=O(N.target);w.parents(".options").find(".active").removeClass("active"),w.addClass("active");let y=w.attr("value");x($=>({...$,type:y}))}function A(N){var y;let w=!1;switch(O(N.target),(t===0&&m.type=="auto"||m.type=="manu")&&(w=!0),m.type){case"auto":t==1&&((y=m==null?void 0:m.file)==null?void 0:y.name)!==void 0&&k();break}w&&l($=>$+1)}i.useEffect(()=>{O(".case.active").removeClass("active"),O(".case").eq(t).addClass("active")},[t]);function _(){document.querySelector("input[type='file']").click()}function T(N){g(w=>({...w,percentAnalize:N}))}function E(N){g(w=>({...w,analize:!0})),Na(N,T).then(w=>{console.log(w),w.analize=="good"&&(g(y=>({...y,approve:!0})),x(y=>({...y,file:w.file})))}).catch(w=>{console.log(w),z.error("Opps! el archivo que intentastes subir no es compatible o tiene algun error."),g(y=>({...y,analize:!1,percentAnalize:0}))})}function k(){var w;u(!0);let N=new FormData;N.append("id_list",f.id),N.append("contacts",m.file),N.append("id_company",(w=n==null?void 0:n.company)==null?void 0:w.id_company),D.post(S+"/api/upload/contacts",N,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}).then(y=>y.data).then(y=>{u(!1),y.status&&v("/contacts/detail/"+f.id)}).catch(y=>{u(!1)})}function R(){x(N=>({...N,file:{}})),g(d),o.val("")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[t>0?e.jsxs("button",{className:"return",onClick:N=>{l(w=>w-1)},children:[e.jsx(be,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:N=>{a(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Subir nuevos contactos"}),e.jsx("span",{className:"desc",children:"Selecciona de que manera quieres subir los contactos"})]}),e.jsxs("div",{className:"options flex",id:`options-${c[0]}`,children:[e.jsxs("div",{className:"selector",onClick:b,value:"manu",children:[e.jsx("div",{className:"check",children:e.jsx(re,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"SUBIR MANUALMENTE"}),e.jsx("span",{children:"Agrega tus contactos de forma rápida y sencilla, uno por uno, rellenando los campos de manera dinámica. Con solo unos pocos clics, podrás tener tus contactos listos para comunicarte con ellos de manera personalizada."})]})]}),e.jsxs("div",{className:"selector",onClick:b,value:"auto",children:[e.jsx("div",{className:"check",children:e.jsx(re,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"SUBIR MEDIANTE ARCHIVO"}),e.jsx("span",{children:"Importa tus contactos de manera rápida y eficiente mediante un archivo. Solo necesitas preparar un archivo en formato (.csv o .txt) con los detalles de tus contactos y nuestro sistema se encargará de procesarlo y añadirlos a tu lista en un instante."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Subir Archivo"}),e.jsx("span",{className:"desc",children:"Sube tu archivo rapidamente para procesarlo en tu lista de contactos."})]}),h.approve==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"file-adjunt",children:[e.jsx("i",{className:"icon",children:e.jsx(Gs,{})}),e.jsxs("div",{className:"file",children:[e.jsx("p",{children:(P=m==null?void 0:m.file)==null?void 0:P.name}),e.jsxs("div",{className:"info",children:[e.jsxs("span",{children:["Tipo de archivo: ",m.file.type]}),e.jsxs("span",{children:["Peso: ",m.file.size," kb"]})]}),e.jsx("button",{className:"delete",onClick:R,children:e.jsx(U,{})})]})]})}):e.jsxs("div",{className:"upload-contact",children:[e.jsx("input",{type:"file",accept:".csv,.txt",onChange:E,hidden:!0}),h.analize==!0?e.jsx(e.Fragment,{children:e.jsxs("p",{children:["Estamos analizando tu archivo... ",h.percentAnalize,"%"]})}):e.jsx("center",{children:e.jsxs("div",{className:"select-upload",onClick:_,children:[e.jsx("i",{className:"icon",children:e.jsx(Js,{})}),e.jsx("p",{children:"Selecciona tu archivo de contactos"})]})})]})]}),e.jsx("div",{className:"actions center",children:e.jsxs("button",{className:`next ${j==!0?"await":""}`,onClick:A,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function si(){return e.jsx(e.Fragment,{children:e.jsx(ei,{Visible:!0})})}function Ue(){const[s,a]=i.useState(!0),[r,n]=i.useState(!1),[t,l]=i.useState({save:!1,campaign:!1}),[c,p]=i.useState({results:[],loadingTemplate:!1}),[m,x]=i.useState(!1),[d,h]=i.useState({}),[g,j]=i.useState(""),[u,o]=i.useState(!1),{UserInfo:v}=i.useContext(H),f=ee(),[b,A]=i.useState();let _=["Cargando editor...","Nos tardaremos un poco","Que tal tu dia?","Vamos! con mucha imaginacion.","Ahora es un buen momento!","Un poco mas...","Ya casi!","Había una vez!"];const T=J();function E(C,q){var F=document.createElement("script");F.src=C,F.onload=q,document.head.appendChild(F)}i.useEffect(()=>{n(!0),r&&(E("//editor.unlayer.com/embed.js",function(C){console.log(C)}),E("/draganddrop/dist/js/body.js",function(C){console.log(C),setTimeout(()=>{a(!1)},3500)}))},[r]);function k(){unlayer.exportHtml(async function(C){var q;if(g==""||g==null)z.error("Opps debes definir un titulo primero"),x(!0);else{P("save",!0);let F=new FormData,X=await N().then(K=>K);F.append("preview",X),F.append("title",g),F.append("html",C.html),F.append("json",JSON.stringify(C.design)),F.append("id_company",(q=v==null?void 0:v.company)==null?void 0:q.id_company),F.append("type","email"),f.id&&F.append("id_template",f.id),D.post(S+"/api/upload/bodycampaign",F,{withCredentials:!0}).then(K=>K.data).then(K=>{K.status&&f.id==null&&T(`/editor/canvas/${K.id_body}`),P("save",!1)}).catch(K=>{P("save",!1)})}})}function R(){n(!0),O("#editor").html(""),T("/editor/canvas")}function P(C,q){l(F=>({...F,[C]:q}))}async function N(){return new Promise((C,q)=>{let F=document.querySelector(".preview-template");try{unlayer.exportHtml(X=>{F.innerHTML=X.html,F.innerHTML&&Ae(F,{allowTaint:!1,useCORS:!0}).then(K=>{let Se=K.toDataURL("image/png");C(Se)})})}catch(X){q(X)}})}function w(){var q;let C=new FormData;C.append("id_company",(q=v==null?void 0:v.company)==null?void 0:q.id_company),D.post(S+"/api/get/templatesall",C,{withCredentials:!0}).then(F=>F.data).then(F=>{p(X=>({...X,results:F}))}).catch(F=>{})}function y(){o(!0)}function $(C){var F;let q=new FormData;q.append("id_company",(F=v==null?void 0:v.company)==null?void 0:F.id_company),q.append("id_campaign",C),D.post(S+"/api/get/campaign",q,{withCredentials:!0}).then(X=>X.data).then(X=>{X&&h(X)})}i.useEffect(()=>{let q=new URLSearchParams(window.location.search).get("campaign");q&&$(q),w();let F=0;A(_[0]),setInterval(()=>{let X=_.length;F=F+1,A(_[F-1]),F>=X&&(F=0)},4500)},[]),i.useEffect(()=>{var C;if(f.id){let q=new FormData;a(!0),q.append("id_template",f.id),q.append("id_company",(C=v==null?void 0:v.company)==null?void 0:C.id_company),D.post(S+"/api/get/templatejson",q,{withCredentials:!0}).then(F=>F.data).then(F=>{a(!1),F.json?unlayer.loadDesign(JSON.parse(F.json)):z.error("Error al cargar la template")}).catch(F=>{a(!1)})}},[f==null?void 0:f.id]);function I(C){j(C.target.value)}function Z(C){T(`/editor/canvas/${C}${d!=null&&d.id_campaign?"?campaign="+d.id_campaign:""}`)}function oe(){var q;P("campaign",!0);let C=new FormData;C.append("id_campaign",d.id_campaign),C.append("id_company",(q=v==null?void 0:v.company)==null?void 0:q.id_company),C.append("id_template",f.id),D.post(S+"/api/update/settemplate",C,{withCredentials:!0}).then(F=>F.data).then(F=>{P("campaign",!1),F.status&&(z.success(F.msg),h(X=>({...X,id_template:f.id})))}).catch(F=>{P("campaign",!1)})}function M(){var q;let C=new FormData;C.append("id_campaign",d.id_campaign),C.append("id_company",(q=v==null?void 0:v.company)==null?void 0:q.id_company),h(F=>({...F,id_template:""})),D.post(S+"/api/delete/settemplate",C,{withCredentials:!0}).then(F=>F.data).then(F=>{})}return e.jsxs(e.Fragment,{children:[s?e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:[b," ",e.jsx("div",{className:"loading"})]})]})})}):"",e.jsxs(ae,{visible:m,onClick:C=>{x(!1)},next:"Asignar",callback:x,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Elige un titulo"})}),e.jsx("br",{}),e.jsx("div",{className:"content",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Esto te ayudara a identificar tu plantilla"}),e.jsx("input",{type:"text",placeholder:"Titulo de template",onChange:I})]})}),e.jsx("br",{})]}),e.jsxs(ae,{visible:u,minWidth:"50%",buttonSave:!1,maxWidth:"150px",callback:o,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Mis Plantillas"})}),e.jsx("br",{}),e.jsxs("div",{className:"content row",children:[c.results.map((C,q)=>{var F;return e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"template",onClick:X=>{Z(C.id_template)},children:[e.jsx("p",{children:C.title}),e.jsxs("span",{children:["Agregada: ",Ne(C.time_add)]}),e.jsx("img",{src:ys((F=v==null?void 0:v.company)==null?void 0:F.folder_sftp,C.preview_image)})]})},q)}),c.loadingTemplate==!1&&c.results.length==0?e.jsx(ce,{name:"plantillas"}):""]})]}),e.jsxs("div",{className:"editor-canvas",children:[e.jsx("header",{children:e.jsx("link",{href:"/draganddrop/dist/css/style.css",rel:"stylesheet",type:"text/css"})}),e.jsxs("div",{className:"topnav1",children:[e.jsxs("div",{className:"buttons",children:[e.jsxs("button",{style:{background:"transparent"},onClick:C=>{T("/home")},children:[e.jsx(Pe,{})," Volver"]}),d.name?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"campaign",children:[e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""}),e.jsx("p",{children:d==null?void 0:d.name}),e.jsx("span",{children:"Campaña seleccionada"})]}),d.id_template!==f.id?e.jsxs("button",{className:`${t.campaign==!0?"await":""}`,onClick:oe,children:[e.jsx(Xs,{})," Usar Plantilla",e.jsx("div",{className:"loading"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"use",children:"Utilizando plantilla"}),e.jsx("button",{onClick:M,children:e.jsx(U,{})})]})]}):""]}),e.jsxs("div",{className:"buttons right",children:[e.jsxs("button",{className:`${t.save==!0?"await":""}`,onClick:k,children:[f.id?e.jsxs(e.Fragment,{children:[e.jsx(ue,{})," Editar"]}):e.jsxs(e.Fragment,{children:[" ",e.jsx(Ks,{})," Guardar"]}),e.jsx("div",{className:"loading"})]}),e.jsxs("button",{onClick:y,children:[e.jsx(ye,{})," Cargar plantilla"]}),e.jsxs("button",{onClick:R,children:[e.jsx(Ys,{})," Nuevo"]}),e.jsx("button",{onClick:y,children:e.jsx(Zs,{})})]})]}),e.jsx("div",{className:"preview-template"}),e.jsx("div",{id:"editor"})]})]})}function ai(){const s=J(),[a,r]=i.useState([]),[n,t]=i.useState(!0),[l,c]=i.useState({id_delete:void 0,pending:!1}),[p,m]=i.useState(!1);we();const{UserInfo:x}=i.useContext(H);function d(){var j;t(!0);let g=new FormData;g.append("id_company",(j=x==null?void 0:x.company)==null?void 0:j.id_company),D.post(S+"/api/get/surveys",g,{withCredentials:!0}).then(u=>u.data).then(u=>{r(u),t(!1)}).catch(u=>{t(!1),z.error(String(u))})}i.useEffect(()=>{n&&d()},[]);function h(){var j;c(u=>({...u,pending:!0}));let g=new FormData;g.append("id_company",(j=x==null?void 0:x.company)==null?void 0:j.id_company),g.append("id_survey",l.id_delete),D.post(S+"/api/delete/survey",g,{withCredentials:!0}).then(u=>u.data).then(u=>{m(!1),u.status&&d(),c(o=>({...o,pending:!1}))}).catch(u=>{c(o=>({...o,pending:!1}))})}return e.jsxs(e.Fragment,{children:[e.jsx(Le,{visible:p,Pending:l.pending,onClick:h,callback:m}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis encuestas"}),e.jsx("span",{children:"Gestiona tus encuestas rapidamente y optimiza tus estrategias"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:g=>{s("/surveys/editor")},children:"Crear nueva encuesta"})})]}),e.jsxs("div",{className:"row",children:[n==!1?a.map((g,j)=>{var u;return e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${S}/api/get/previewsurvey?miniature=${g.miniature})`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{onClick:o=>{m(!0),c(v=>({...v,id_delete:g.id_survey}))},children:e.jsx(U,{})}),e.jsx("button",{onClick:o=>{s("/surveys/editor/"+g.id_survey)},children:e.jsx(ue,{})}),e.jsx("button",{onClick:o=>{s(`/stats/survey/${g.id_survey}`)},children:e.jsx(ge,{})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:(u=g==null?void 0:g.header)==null?void 0:u.title}),e.jsxs("span",{children:["Encuesta agregada el: ",Ne(g.time_add)]})]})]})},j)}):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(de,{})})}),n==!1&&a.length==0?e.jsx(ce,{name:"encuestas"}):""]})]})}function ii({header:s,value:a,keyid:r,setModalImage:n,page:t,setEdit:l,setJson:c}){var j;function p(u,o,v){m(v),l({type:u,key:o,page:t})}function m(u){let o=O(u.target).parents(".question");O(".question.active").removeClass("active"),o.addClass("active")}function x(u){let o=u.target.value;c(v=>{let f=[...v];return f[t].quests[r].type=o,f})}function d(u){m(u),u.stopPropagation(),l({});let o=!0;c(v=>{const f=[...v];return o&&(f[t].quests[r].questions.push({}),o=!1),f})}function h(u,o){u.stopPropagation();let v=!0;c(f=>{var A;let b=[...f];if(v&&(A=b[t])!=null&&A.quests[r]){let _=[];b[t].quests[r].questions.forEach((T,E)=>{E!==o?_.push(T):v=!1}),b[t].quests[r].questions=_}return b})}function g(u){u.stopPropagation();let o=!0;c(v=>{let f=[...v],b=[];return f[t].quests.forEach((A,_)=>{_!==r&&b.push(A)}),o&&(f[t].quests=b,o=!1),f})}return O(document).on("click",".options button",function(u){u.stopImmediatePropagation(),O(".edit-active").removeClass("edit-active"),O(this).parents(".options").parents(".quest").addClass("edit-active")}),O(document).on("click",".top p, .top span",function(u){u.stopImmediatePropagation(),O(".edit-active").removeClass("edit-active"),O(this).addClass("edit-active")}),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"question edit",colorBox:s.colorBox,style:{borderRadius:s.borderRadius+"px"},children:[e.jsx("button",{className:"delete-question",onClick:u=>{g(u),l({})},children:e.jsx(U,{})}),e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",onClick:u=>{p("title",r,u)},children:a!=null&&a.title?a.title:"Elige un titulo..."}),e.jsx("span",{onClick:u=>{p("desc",r,u)},children:a!=null&&a.desc?a.desc:"Elige una descripcion... (opcional)"})]}),a!=null&&a.img?e.jsx("img",{className:"img-quest",src:a.img}):"",e.jsxs("div",{className:"select-types",children:[e.jsx("button",{onClick:d,className:"add-quest",children:"Agregar pregunta"}),e.jsx("button",{onClick:u=>{n(!0),l({key:r,type:"add-image",page:t})},children:e.jsx(Us,{})}),e.jsxs("select",{onChange:x,children:[e.jsx("option",{value:"input",children:"Respuesta corta"}),e.jsx("option",{value:"input-large",children:"Respuesta larga"}),e.jsx("option",{value:"radio",children:"Opcion multiple"}),e.jsx("option",{value:"check",children:"Casillas de verificacion"})]})]}),(j=a==null?void 0:a.questions)==null?void 0:j.map((u,o)=>e.jsxs("div",{className:"quest",children:[a.type=="input"?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",disabled:!0,placeholder:`${u.title?u.title:"Elige una descripcion"}`}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:v=>{h(v,o)},children:e.jsx(U,{})}),e.jsx("button",{onClick:v=>{l({key:r,type:"title-quest",quest_key:o,page:t})},children:e.jsx(ue,{})})]})]}):"",a.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:r})," ",e.jsx("span",{children:u.title?u.title:"Elige una descripcion..."}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:v=>{h(v,o)},children:e.jsx(U,{})}),e.jsx("button",{onClick:v=>{l({key:r,type:"title-quest",quest_key:o,page:t})},children:e.jsx(ue,{})})]})]}):"",a.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:r})," ",e.jsx("span",{children:u.title?u.title:"Elige una descripcion..."}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:v=>{h(v,o)},children:e.jsx(U,{})}),e.jsx("button",{onClick:v=>{l({key:r,type:"title-quest",quest_key:o,page:t})},children:e.jsx(ue,{})})]})]}):"",a.type=="input-large"?e.jsxs(e.Fragment,{children:[e.jsx("textarea",{type:"checkbox",name:r,placeholder:u.title,style:{width:"100%"}}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:v=>{h(v,o)},children:e.jsx(U,{})}),e.jsx("button",{onClick:v=>{l({key:r,type:"title-quest",quest_key:o,page:t})},children:e.jsx(ue,{})})]})]}):""]},o))]})})}function ti({json:s=[],header:a={},setJson:r,setEdit:n,edit:t}){var A,_;const[l,c]=i.useState(!1),[p,m]=i.useState(!1);i.useState([]);const[x,d]=i.useState("email"),[h,g]=i.useState({width:"",left:""});J();function j(){r(T=>[...T,{quests:[{title:"",desc:"",type:"radio",questions:[]}]}])}function u(T){let E=!0;r(k=>{var N;let R=[...k],P=(N=R[T])==null?void 0:N.quests;return E&&(R[T].quests=[...P,{title:"",desc:"",type:"radio",img:"",questions:[]}],E=!1),R})}function o(T){r(E=>{let k=[...E],R=[];return k.forEach((P,N)=>{N!==T&&(console.log(T===N),R.push(P))}),k=R,k})}function v(){let T=document.querySelector("#image-edit").value;r(E=>{let k=[...E];return k[t.page].quests[t.key].img=T,k}),c(!1)}function f(){window.localStorage.setItem("surveyPreview",JSON.stringify(s)),window.localStorage.setItem("surveyPreviewHead",JSON.stringify(a)),window.open("/surveys/preview","_blank")}function b(T){let E=T.target.value;d(E),g(k=>({...k,width:T.target.offsetWidth,left:T.target.offsetLeft}))}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{onClick:f,children:[e.jsx(ke,{})," Previsualizar"]}),e.jsxs("button",{onClick:T=>{m(!0)},children:[e.jsx(Fe,{})," Enviar"]})]})}),e.jsxs(ae,{visible:p,minWidth:"35%",callback:m,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enviar"}),e.jsx("span",{children:"Tienes distintas opciones para enviar esta encuesta"})]}),a.short_link==null?e.jsx("span",{className:"alert-save",children:"Opps! aun no puedes usar esta funcion no has guardado la encuesta."}):"",e.jsx("div",{className:"menu-change",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("span",{children:"Enviar por"})}),e.jsx("li",{children:e.jsx("button",{className:`${x=="email"?"active":""}`,onClick:b,value:"email",children:e.jsx(ea,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${x=="link"?"active":""}`,onClick:b,value:"link",children:e.jsx(sa,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${x=="embed"?"active":""}`,onClick:b,value:"embed",children:e.jsx(aa,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${x=="settings"?"active":""}`,onClick:b,value:"settings",children:e.jsx(cs,{})})}),e.jsx("div",{className:"hover",style:{left:h.left+"px",width:h.width+"px"}})]})}),e.jsxs("div",{className:`result-menu ${a.short_link==null?"disabled":""} ${x=="email"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo electronico"}),e.jsx("input",{type:"text",placeholder:"contactos"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Asunto"}),e.jsx("input",{type:"text",placeholder:"informacion de contacto"})]})]}),e.jsxs("div",{className:`result-menu ${a.short_link==null?"disabled":""} ${x=="link"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Enlace"}),e.jsx("input",{type:"text",placeholder:"contactos",value:`${Te}/survey/${a.token}`,disabled:!0})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Enlace Corto"}),e.jsx("input",{type:"text",placeholder:"url corta",value:a.short_link,disabled:!0})]})]}),e.jsx("div",{className:`result-menu ${a.short_link==null?"disabled":""} ${x=="embed"?"show":""}`,children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Incorporar HTML"}),e.jsx("input",{type:"text",placeholder:"contactos"})]})}),e.jsxs("div",{className:`result-menu ${a.short_link==null?"disabled":""} ${x=="settings"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Condicion de respuesta "}),e.jsxs("select",{name:"",id:"",children:[e.jsx("option",{value:"",children:"Responder varias veces"}),e.jsx("option",{value:"",children:"Responder solo una vez"})]})]}),e.jsx("div",{className:"form-input"})]})]}),e.jsxs(ae,{visible:l,callback:c,onClick:v,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Url de imagen"}),e.jsx("span",{children:"Ingresa la url de la imagen que quieres integrar en tu pregunta"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",id:"image-edit",placeholder:"https://image.com/image.png"})})]}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${a.blur}px)brightness(${a.brightness})`,background:a.background2}}),e.jsxs("div",{className:"survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(A=a==null?void 0:a.logo)!=null&&A.length?e.jsx("img",{className:"logo",src:a==null?void 0:a.logo}):"",(_=a==null?void 0:a.title)!=null&&_.length?e.jsx("p",{className:"",children:a.title}):""]})}),s==null?void 0:s.map((T,E)=>{var k;return e.jsxs("div",{className:"page",children:[e.jsxs("div",{className:"info-page",children:[e.jsxs("p",{children:["Pagina ",E+1]}),e.jsx("button",{className:"delete",onClick:R=>{o(E)},children:e.jsx(U,{})})]}),(k=T.quests)==null?void 0:k.map((R,P)=>e.jsx(ii,{header:a,setModalImage:c,value:R,page:E,keyid:P,setEdit:n,setJson:r},P)),e.jsxs("button",{className:"add-new",onClick:R=>{u(E)},children:[e.jsx(De,{})," Nueva pregunta"]})]},E)}),e.jsxs("div",{className:"add-new",onClick:j,children:[e.jsx(De,{})," Nueva pagina"]})]})]})}function ni({setHeader:s,header:a,json:r}){const[n,t]=i.useState(!1),{UserInfo:l}=i.useContext(H);i.useState();function c(m){let x=m.target.value,d=m.target.name;d=="background"&&(x.indexOf("http")>=0||x.indexOf("www")>=0)&&(x=`url(${x})`),s(h=>({...h,[d]:x}))}async function p(){var x;let m=new FormData;if(a.id_survey&&m.append("id_survey",a.id_survey),m.append("header",JSON.stringify(a)),m.append("id_company",(x=l==null?void 0:l.company)==null?void 0:x.id_company),m.append("json",JSON.stringify(r)),a.title)if(r.length>=1){let d=await new Promise((h,g)=>{Ae(document.querySelector(".center"),{allowTaint:!1,useCORS:!0}).then(j=>{let u=j.toDataURL("image/png");h(u)})});d&&m.append("miniature",d.replace("data:image/png;base64,","")),t(!0),D.post(S+"/api/upload/survey",m,{withCredentials:!0}).then(h=>h.data).then(h=>{h.status&&(h.id_survey&&(a.id_survey||s(g=>({...g,id_survey:h.id_survey}))),h.token&&s(g=>({...g,token:h.token})),h.short_link&&s(g=>({...g,short_link:h.short_link}))),t(!1)}).catch(h=>{t(!1)})}else z.error("Opps no has agregado una pregunta.");else z.error("Opps no has elegido un titulo")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar encuesta"}),e.jsx("span",{children:"Personaliza tu encuesta, imagen, fondo, titulo y logo."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Titulo"}),e.jsx("input",{type:"text",onChange:c,defaultValue:a.title,name:"title",placeholder:"Ej: Encuesta de fidelidad"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Ingresa url de tu logo"}),e.jsx("input",{type:"text",onChange:c,defaultValue:a.logo,name:"logo"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",onChange:c,defaultValue:a.background,name:"background"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",defaultValue:0,step:"0.1",max:"10",value:a.blur,onChange:c,name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",defaultValue:1,step:"0.0",max:"1",value:a.brightness,onChange:c,name:"brightness"})]}),e.jsx("br",{}),e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar Cajas"}),e.jsx("span",{children:"Personaliza de tu manera preferida tus cajas."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border Radius"}),e.jsx("input",{type:"range",defaultValue:.1,step:"0.1",max:"20",onChange:c,name:"borderRadius"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{onClick:m=>{c(m)},name:"colorBox",value:"ligth",children:"Modo Claro"}),e.jsx("button",{onClick:m=>{c(m)},name:"colorBox",value:"dark",children:"Modo Oscuro"}),e.jsx("button",{onClick:m=>{c(m)},name:"colorBox",value:"transparent",children:"Transparente"})]})]}),e.jsx("div",{className:"option",children:e.jsxs("button",{className:`save ${n?"await":""}`,onClick:p,children:["Guardar ",e.jsx("div",{className:"loading"})]})})]})}function li({value:s,page:a,setJson:r,keyid:n}){function t(l){let c=l.target.value;r(p=>{const m=[...p];return m[a].quests[n].title=c,m[a].quests[n].response=0,m})}return i.useEffect(()=>{s!=null&&s.title&&(console.log("ok"),document.querySelector("#title-edit").value=s.title)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo de pregunta"}),e.jsx("input",{id:"title-edit",onChange:t,type:"text",placeholder:"Ej: Como te llamas?"})]})})})}function ri({page:s,value:a,setJson:r,keyid:n}){function t(l){let c=l.target.value;r(p=>{const m=[...p];return m[s].quests[n].desc=c,m})}return i.useEffect(()=>{a!=null&&a.desc&&(console.log("ok"),document.querySelector("#title-edit").value=a.desc)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descripcion de pregunta"}),e.jsx("input",{id:"title-edit",onChange:t,type:"text",placeholder:"Ej: Tu nombre es importante por que..."})]})})})}function ci({quest_key:s,page:a,value:r,setJson:n,keyid:t}){function l(c){c.stopPropagation();let p=c.target.value;n(m=>{let x=[...m];return x[a].quests[t].questions[s].title=p,x})}return i.useEffect(()=>{console.log(r)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo de pregunta"}),e.jsx("input",{id:"title-edit",onChange:l,type:"text",placeholder:"Ej: Como te llamas?"})]})})})}function di({edit:s,json:a,setJson:r}){var n;return e.jsxs(e.Fragment,{children:[s.type=="title"?e.jsx(li,{page:s.page,value:a[s.key],setJson:r,keyid:s.key},s.key):"",s.type=="desc"?e.jsx(ri,{page:s.page,value:a[s.key],setJson:r,keyid:s.key},s.key):"",s.type=="title-quest"?e.jsx(ci,{page:s.page,quest_key:s.quest_key,value:(n=a[s.page].quests[s.key])==null?void 0:n.questions[s.quest_key],setJson:r,keyid:s.key},s.key):""]})}function es(){const[s,a]=i.useState({title:"",logo:"",background:"",blur:"0.5",brightness:""}),[r,n]=i.useState([]),[t,l]=i.useState({type:"",key:"",quest_key:"",page:""}),{UserInfo:c}=i.useContext(H),p=ee(),[m,x]=i.useState(!0);function d(){var g;x(!0);let h=new FormData;h.append("id_survey",p.idsurvey),h.append("id_company",(g=c==null?void 0:c.company)==null?void 0:g.id_company),D.post(S+"/api/get/surveys",h,{withCredentials:!0}).then(j=>j.data).then(j=>{x(!1),j.header&&a(JSON.parse(j.header)),j.json&&n(JSON.parse(j.json))}).catch(j=>{x(!1),z.error(String(j))})}return i.useEffect(()=>{p.idsurvey?d():setTimeout(()=>{x(!1)},1e3)},[]),e.jsxs(e.Fragment,{children:[m?e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:["Cargando... ",e.jsx("div",{className:"loading"})]})]})}):"",e.jsx("div",{className:"editor-surveys",children:e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:"left",children:e.jsx(ni,{setHeader:a,header:s,json:r})}),e.jsx("div",{className:"center",style:{background:s.background},children:e.jsx(ti,{json:r,header:s,edit:t,setJson:n,setEdit:l})}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"type-editor",children:e.jsx(di,{edit:t,setJson:n,json:r,header:s})})})]})})]})}function ss(){var d,h,g,j;const[s,a]=i.useState([]),[r,n]=i.useState(0),[t,l]=i.useState({}),[c,p]=i.useState(0);i.useEffect(()=>{a(JSON.parse(window.localStorage.getItem("surveyPreview"))),l(JSON.parse(window.localStorage.getItem("surveyPreviewHead")))},[]),i.useEffect(()=>{s.length&&n(s.length)},[s]);function m(){p(u=>u+1)}function x(){p(u=>u-1)}return e.jsxs("div",{className:"survey real",colorBox:t==null?void 0:t.colorBox,style:{background:t==null?void 0:t.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${t.blur}px)brightness(${t.brightness})`}}),e.jsxs("div",{className:"margin-survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(d=t==null?void 0:t.logo)!=null&&d.length?e.jsx("img",{className:"logo",src:t==null?void 0:t.logo}):"",(h=t==null?void 0:t.title)!=null&&h.length?e.jsx("p",{className:"",children:t.title}):""]})}),(j=(g=s[c])==null?void 0:g.quests)==null?void 0:j.map((u,o)=>{var v;return e.jsxs("div",{className:"question",style:{borderRadius:(t==null?void 0:t.borderRadius)+"px"},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:u.title}),e.jsx("span",{children:u.desc})]}),u!=null&&u.img?e.jsx("img",{className:"img-quest",src:u.img}):"",(v=u==null?void 0:u.questions)==null?void 0:v.map((f,b)=>e.jsxs("div",{className:"quest",children:[u.type=="input"?e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",disabled:!0,placeholder:`${f.title}`})}):"",u.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:0})," ",e.jsx("span",{children:f.title})]}):"",u.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:0})," ",e.jsx("span",{children:f.title})]}):"",u.type=="input-large"?e.jsx(e.Fragment,{children:e.jsx("textarea",{name:0,placeholder:f.title,style:{width:"100%"}})}):""]},b))]},o)}),e.jsx("div",{className:"buttons-bottom",children:c==r-1?e.jsxs(e.Fragment,{children:[c?e.jsx("button",{onClick:x,children:"Volver"}):"",e.jsx("button",{children:"Terminar"})]}):c<r-1?e.jsxs(e.Fragment,{children:[c?e.jsx("button",{onClick:x,children:"Volver"}):"",e.jsx("button",{onClick:m,children:"Siguiente"})]}):""})]})]})}function oi(){var o,v;const s=ee(),[a,r]=i.useState([]),[n,t]=i.useState(!0),[l,c]=i.useState([]),[p,m]=i.useState(),[x,d]=i.useState(0);function h(){let f=new FormData;f.append("key",s.id),D.post(S+"/api/get/survey",f,{withCredentials:!0}).then(b=>b.data).then(b=>{t(!1),r(b)}).catch(b=>{t(!1)})}function g(f){f.preventDefault(),d(b=>b+1)}function j(f){f.preventDefault(),d(b=>b-1)}i.useEffect(()=>{s.id&&n==!0&&h()},[]),i.useEffect(()=>{a.header&&(m(JSON==null?void 0:JSON.parse(a==null?void 0:a.header)),c(JSON.parse(a.json)))},[a]);function u(f){f.preventDefault();let b=document.querySelector("#form"),A=new FormData(b);A.append("key",s.id),D.post(S+"/api/upload/responseSurvey",A,{withCredentials:!0})}return e.jsx(e.Fragment,{children:n?e.jsx("div",{className:"app",children:e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:["Cargando encuesta... ",e.jsx("div",{className:"loading"})]})]})})}):e.jsxs("div",{className:"survey real",colorBox:p==null?void 0:p.colorBox,style:{background:p==null?void 0:p.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${p==null?void 0:p.blur}px)brightness(${p==null?void 0:p.brightness})`}}),e.jsxs("div",{className:"margin-survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(o=p==null?void 0:p.logo)!=null&&o.length?e.jsx("img",{className:"logo",src:p==null?void 0:p.logo}):"",(v=p==null?void 0:p.title)!=null&&v.length?e.jsx("p",{className:"",children:p.title}):""]})}),e.jsx("form",{method:"POST",encType:"multipart/form-data",id:"form",children:l.map((f,b)=>{var A;return e.jsx("div",{className:`page ${b==x?"active":""}`,children:(A=f==null?void 0:f.quests)==null?void 0:A.map((_,T)=>{var E;return e.jsxs("div",{className:"question",style:{borderRadius:(p==null?void 0:p.borderRadius)+"px"},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:_.title}),e.jsx("span",{children:_.desc})]}),_!=null&&_.img?e.jsx("img",{className:"img-quest",src:_.img}):"",(E=_==null?void 0:_.questions)==null?void 0:E.map((k,R)=>e.jsxs("div",{className:"quest",children:[_.type=="input"?e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",name:`${b}-${T}-${R}`,placeholder:`${k.title}`})}):"",_.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:`${b}-${T}`,value:k.title})," ",e.jsx("span",{children:k.title})]}):"",_.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:`${b}-${T}-${R}`})," ",e.jsx("span",{children:k.title})]}):"",_.type=="input-large"?e.jsx(e.Fragment,{children:e.jsx("textarea",{name:`${b}-${T}-${R}`,placeholder:k.title,style:{width:"100%"}})}):""]},R))]},T)})})})}),e.jsx("div",{className:"buttons-bottom",children:x==l.length-1?e.jsxs(e.Fragment,{children:[x?e.jsx("button",{onClick:j,children:"Volver"}):"",e.jsxs("button",{onClick:u,className:"pending",children:["Terminar ",e.jsx("div",{className:"loading"})]})]}):e.jsxs(e.Fragment,{children:[x?e.jsx("button",{onClick:j,children:"Volver"}):"",e.jsx("button",{onClick:g,children:"Siguiente"})]})})]})]})})}function He(){const s=ee();return e.jsx(e.Fragment,{children:e.jsx("div",{className:"menu-top",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(L,{to:`/stats/survey/${s.id}`,children:"Estadisticas"})}),e.jsx("li",{children:e.jsx(L,{to:`/stats/survey/${s.id}/detail`,children:"Detalles de respuestas"})}),e.jsx("li",{children:e.jsx(L,{to:`/stats/survey/${s.id}/response`,children:"Respuestas"})})]})})})}function mi(){const{UserInfo:s}=i.useContext(H),[a,r]=i.useState(!1);i.useState({});const[n,t]=i.useState([]),[l,c]=i.useState([]),[p,m]=i.useState([]),[x,d]=i.useState({}),[h,g]=i.useState({options:{chart:{id:"basic-bar"},xaxis:{categories:[]}},series:[{name:"series-1",data:[]}]}),j=ee();function u(){var v;let o=new FormData;o.append("id_company",(v=s==null?void 0:s.company)==null?void 0:v.id_company),o.append("id_survey",j.id),D.post(S+"/api/get/statsurvey",o,{withCredentials:!0}).then(f=>f.data).then(f=>{c(f.days),d(f),m(f.daysResponse),t(f.countrys)})}return i.useEffect(()=>{u(),r(!0)},[a]),i.useEffect(()=>{g(o=>({...o,options:{...o.options,xaxis:{categories:l}},series:[{name:"serie 1",data:p}]}))},[p]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Encuesta: ",j.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu encuesta"})]})}),e.jsx(He,{}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Respuestas este mes"})}),e.jsx(Ce,{options:h.options,series:h.series,type:"area",height:300})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Preguntas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:x==null?void 0:x.totalQuestions})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Paginas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:x==null?void 0:x.pageTotal})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Respuestas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:x.totalResponse})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Visitas"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"100"})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{className:"title",children:"Tops Paises"})}),e.jsx("div",{className:"result countryr",children:n.map((o,v)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:Cs(o.country),alt:""}),e.jsx("p",{className:"",children:o.country==""?"Undefined":bs(String(o.country).toLocaleLowerCase())}),e.jsxs("span",{children:["(",o.amount,")"]})]},v))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding",children:e.jsx("div",{className:"top",children:e.jsx("p",{className:"title",children:"Tops Respuestas"})})})})]})})]})}function pi(){const s=ee(),a=J(),{UserInfo:r}=i.useContext(H),[n,t]=i.useState([]),[l,c]=i.useState(!1),[p,m]=i.useState({series:[{name:"Respuestas",data:[]}],chart:{type:"area",height:350,stacked:!0},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:[]}}),[x,d]=i.useState({series:[],theme:{palette:"palette3"},labels:[],chart:{type:"donut"}}),h=()=>{let u=new FormData;u.append("key",s.id),D.post(S+"/api/get/survey",u,{withCredentials:!0}).then(o=>o.data).then(o=>{t(JSON.parse(o.json)),g(o)})};function g(u){let o=JSON.parse(u.json),v=[],f=[],b=[],A=[];o.map((_,T)=>{_.quests.map((E,k)=>{E.type=="radio"&&E.questions.map((R,P)=>{v.push(`${R.title} (${T+1})`),f.push(R.response),b.push(`${E.title} - ${R.title}`),A.push(R.response),m(N=>({...N,xaxis:{...N,categories:v}})),m(N=>(N.series=[{name:"Respuesta",data:f}],N)),d(N=>(N.labels=b,N.series=A,N))})})})}function j(u){var v;let o=new FormData;o.append("id_company",(v=r==null?void 0:r.company)==null?void 0:v.id_company),o.append("id_survey",s.id),o.append("case",u),D.post(S+"/api/get/downloadsurvey",o,{withCredentials:!0}).then(f=>f.data).then(f=>{console.log(f)})}return i.useEffect(()=>{h()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"modal-map",style:{display:l?"block":"none"},children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Mapa completo"}),e.jsx("span",{children:"Puedes ver el mapa completamente de las respuestas de los usuarios."}),e.jsx("button",{className:"close",onClick:u=>{c(!1)},children:e.jsx(_e,{})})]}),e.jsx("div",{className:"map-suv complete",children:n==null?void 0:n.map((u,o)=>e.jsxs("div",{className:"pg",children:[e.jsx("div",{className:"info",children:e.jsxs("p",{children:["Pagina ",o+1]})}),e.jsx("div",{className:"separate"}),u.quests.map((v,f)=>e.jsxs("div",{className:"quests",children:[e.jsx("div",{className:"info",children:e.jsx("p",{children:v.title})}),e.jsx("div",{className:"separate"}),e.jsx("div",{className:"questions-type",children:v.questions.map((b,A)=>e.jsxs("div",{className:"question",children:[e.jsx("div",{className:"separate quest"}),e.jsxs("span",{className:"value",children:[b.title,v.type=="radio"?e.jsxs(e.Fragment,{children:[" (",b.response,") "]}):""]})]}))})]},f))]}))})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles De Encuesta "}),e.jsx("span",{children:"Estas son los detalles de las respuestas"})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"go-wizard",children:"Descargar (CSV)"}),e.jsx("button",{className:"go-wizard",onClick:u=>{j("json")},children:"Descargar (JSON)"}),e.jsx("button",{className:"go-wizard",onClick:u=>{a(`/stats/survey/${s.id}/response`)},children:"Respuestas"})]})]}),e.jsx(He,{}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Estadisticas de respuestas"}),e.jsx("span",{children:"Estadisticas de las respuestas, veras cuantas veces respondieron a algo."})]}),e.jsx(Ce,{options:p,series:p.series,type:"bar",height:300})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top ",children:[e.jsx("p",{children:"Porcentaje de respuesta"}),e.jsx("span",{children:"Este es el porcentaje de respuesta por cada pregunta."})]}),x.labels.length?e.jsx(Ce,{options:x,series:x.series,type:"donut",height:300}):""]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top ",children:[e.jsx("p",{children:"Mapa de encuesta"}),e.jsx("span",{children:"Este es mapa de tu encuesta, donde veras un mapa sobre la encuesta ejecutada."})]}),e.jsx("div",{className:"map-suv maxheight",children:n==null?void 0:n.map((u,o)=>e.jsxs("div",{className:"pg",children:[e.jsx("div",{className:"info",children:e.jsxs("p",{children:["Pagina ",o+1]})}),e.jsx("div",{className:"separate"}),u.quests.map((v,f)=>e.jsxs("div",{className:"quests",children:[e.jsx("div",{className:"info",children:e.jsx("p",{children:v.title})}),e.jsx("div",{className:"separate"}),e.jsx("div",{className:"questions-type",children:v.questions.map((b,A)=>e.jsxs("div",{className:"question",children:[e.jsx("div",{className:"separate quest"}),e.jsxs("span",{className:"value",children:[b.title,v.type=="radio"?e.jsxs(e.Fragment,{children:[" (",b.response,") "]}):""]})]}))})]},f))]}))}),e.jsx("button",{className:"action-complete",onClick:u=>{c(!0)},children:"Ver mapa completo"})]})})]})]})}function xi(){let s=ee();const[a,r]=i.useState([]),[n,t]=i.useState([]),[l,c]=i.useState(!1),{UserInfo:p}=i.useContext(H);function m(){var d;let x=new FormData;x.append("id_survey",s.id),x.append("id_company",(d=p==null?void 0:p.company)==null?void 0:d.id_company),D.post(S+"/api/get/responsesurvey",x,{withCredentials:!0}).then(h=>h.data).then(h=>{h.length&&(r(h),h.forEach((g,j)=>{t(u=>[...u,JSON.parse(g.json_response)])}))})}return i.useEffect(()=>{c(!0),l&&m()},[l]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Respuestas"}),e.jsx("span",{children:"Ver todas las respuestas hechas en tu encuesta"})]}),e.jsx("div",{className:"right"})]}),e.jsx(He,{}),e.jsx("div",{className:"row",children:n.map((x,d)=>e.jsx("div",{className:"col-6",children:e.jsx("div",{className:"box box-padding",children:e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"top",children:e.jsx("div",{className:"top",children:e.jsxs("p",{children:["Respuesta #",d+1]})})}),e.jsx("div",{className:"response",children:Object.entries(x).map(([h,g])=>e.jsx("div",{children:e.jsxs("span",{children:[h,": ",g]})},h))})]})})},d))})]})}function as(){const s=J(),[a,r]=i.useState([]),[n,t]=i.useState(!0),{UserInfo:l}=i.useContext(H),[c,p]=i.useState(!1),[m,x]=i.useState(!1),[d,h]=i.useState({url:""}),g=we();i.useEffect(()=>{xe("/add")&&x(!0)},[g]);function j(o=!1){var f;let v=new FormData;v.append("id_company",(f=l==null?void 0:l.company)==null?void 0:f.id_company),t(!0),o||r([]),D.post(S+"/api/get/myurls",v,{withCredentials:!0}).then(b=>b.data).then(b=>{t(!1),r(b)})}function u(){var v;let o=new FormData;o.append("url",d.url),o.append("id_company",(v=l==null?void 0:l.company)==null?void 0:v.id_company),p(!0),D.post(S+"/api/upload/shortlink",o,{withCredentials:!0}).then(f=>f.data).then(f=>{p(!1),f.status&&(j(),x(!1))}).catch(f=>{p(!1)})}return i.useEffect(()=>{j()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(ae,{visible:m,onClick:u,callback:x,Pending:c,next:"Crear",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nuevo enlace"}),e.jsx("span",{children:"Crea tu nuevo enlace rapidamente con esta herramienta"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"url",placeholder:"Enlace",onChange:o=>{h({url:o.target.value})}})})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus urls "}),e.jsx("span",{children:"Estas son tus urls cortas que has creado donde podras llevar las estadisticas de cada una."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:o=>{x(!0)},children:"Crear nueva URL"})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[a.map((o,v)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:"URL CORTA"}),e.jsxs("span",{className:"desc",children:[Te,"/",o.token]}),e.jsx("br",{}),e.jsxs("span",{className:"desc",children:[Te,"/",o.token]})]})]}),e.jsxs("div",{children:[e.jsx("p",{children:"URL"}),e.jsx("span",{children:o.real_link})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:f=>{s("")},children:e.jsx(U,{})}),e.jsxs("button",{onClick:f=>{s("/shorturls/"+o.id_shortlink)},children:[e.jsx(Oe,{})," "]})]})]},v)),n==!0?e.jsx(de,{}):n==!1&&a.length==0?e.jsx(ce,{name:"urls"}):""]})})})]})}function ui(){var j,u;const s=ee(),{UserInfo:a}=i.useContext(H),[r,n]=i.useState([]);i.useState([]);const[t,l]=i.useState(),[c,p]=i.useState([]),m=i.useRef(null),[x,d]=i.useState({series:[{name:"Respuestas",data:[]}],chart:{type:"area",height:350,stacked:!0},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:[]}}),h=new ds({width:600,height:600,image:"/img/icons/iconsvg.png",dotsOptions:{color:"gradient",type:"extra-rounded",gradient:{colorStops:[{offset:0,color:"#000"},{offset:1,color:"#000"}]}},imageOptions:{crossOrigin:"anonymous",margin:20}});function g(o){var f;let v=new FormData;v.append("id_company",(f=a==null?void 0:a.company)==null?void 0:f.id_company),v.append("month",o.month),v.append("year",o.year),v.append("id_shortlink",s.id),D.post(S+"/api/get/statshortlink",v,{withCredentials:!0}).then(b=>b.data).then(b=>{n(b.countrys),p(b.devices),d(A=>(A.series[0].data=b.dayResponse,A.xaxis.categories=b.days,A)),l(b.token)})}return i.useEffect(()=>{g({month:new Date().getMonth()+1})},[]),i.useEffect(()=>{t&&(h.append(m.current),h.update({data:Te+"/"+t+"?qr=true"}))},[t]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Detalle de enlace: ",s.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu enlace corto"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:"",children:"Volver"})})]}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Clicks este mes"}),e.jsx("span",{children:"Aca podras evaluar los clicks hecho por el mes actual y anteriores."})]}),(u=(j=x==null?void 0:x.series[0])==null?void 0:j.data)!=null&&u.length?e.jsx(Ce,{options:x,series:x.series,type:"area",height:300}):""]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Visitas"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"20"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"QR Code"})}),e.jsx("div",{className:"resp-number",children:e.jsx("div",{className:"qr-code",children:e.jsx("div",{ref:m})})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Tops Paises"}),e.jsx("span",{children:"Tops de los paises que mas visitaron el enlace"})]}),e.jsx("div",{className:"result countryr",children:r.map((o,v)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:Cs(o.country),alt:""}),e.jsx("p",{className:"",children:o.country==""?"Undefined":bs(o.country)}),e.jsxs("span",{children:["(",o.count,")"]})]},v))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Tops Os"}),e.jsx("span",{children:"Top de los sistemas operativos mas usado por los usuarios"})]}),e.jsx("div",{className:"result countryr",children:c.map((o,v)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:ya(o.device),alt:""}),e.jsx("p",{className:"",children:o.device}),e.jsxs("span",{children:["(",o.count,")"]})]},v))})]})})]})})]})}function hi(){}function is(){const[s,a]=i.useState(),r=J(),[n,t]=i.useState(!1),[l,c]=i.useState([]),[p,m]=i.useState(!1),[x,d]=i.useState({name:""}),{UserInfo:h}=i.useContext(H),g=we();i.useEffect(()=>{xe("/add")&&t(!0)},[g]);function j(){var v;let o=new FormData;o.append("id_company",(v=h==null?void 0:h.company)==null?void 0:v.id_company),a(!0),D.post(S+"/api/get/shortlinkcampaigns",o,{withCredentials:!0}).then(f=>f.data).then(f=>{a(!1),c(f)}).catch(f=>{a(!1)})}function u(){var v;const o=new FormData;m(!0),o.append("name",x.name),o.append("id_company",(v=h==null?void 0:h.company)==null?void 0:v.id_company),D.post(S+"/api/upload/shortlinkcampaign",o,{withCredentials:!0}).then(f=>f.data).then(f=>{m(!1),f.status&&(j(),t(!1))}).catch(f=>{m(!1)})}return i.useEffect(()=>{j()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(ae,{visible:n,onClick:u,callback:t,maxWidth:"250px",Pending:p,next:"Agregar",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nueva campaña"}),e.jsx("span",{children:"Crea tu nueva campaña rapidamente para analizar tus multiples enlaces"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de campaña",name:"name",onChange:o=>{d({...x,name:o.target.value})}})})]},n),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Campañas"}),e.jsx("span",{children:"Aca puedes visualizar o crear campañas para enlaces multiples sobre una campaña"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:o=>{t(!0)},children:"Crear nueva campaña"})})]}),e.jsx("div",{className:"body-stats",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[l.map((o,v)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:o.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(U,{})}),e.jsx("button",{onClick:f=>{r("/shorturls/campaigns/"+o.id_campaign)},children:e.jsx(ge,{})})]})]})),s?e.jsx(de,{}):l.length==0?e.jsx(ce,{name:"campañas"}):""]})})})})]})}function ji(){var _,T;const s=ee(),[a,r]=i.useState(!1),[n,t]=i.useState(!1),{UserInfo:l}=i.useContext(H),[c,p]=i.useState(!0),[m,x]=i.useState(!1),[d,h]=i.useState({});let g={url:"",app:"others"};const[j,u]=i.useState(g),[o,v]=i.useState({series:[{name:"Funnel Series",data:[]}],chart:{type:"bar",height:350},plotOptions:{bar:{borderRadius:0,horizontal:!0,distributed:!0,barHeight:"80%",isFunnel:!0}},dataLabels:{enabled:!0,formatter:function(E,k){return k.w.globals.labels[k.dataPointIndex]+":  "+E}},colors:["#F44F5E","#E55A89","#D863B1","#CA6CD8","#B57BED","#8D95EB","#62ACEA","#4BC3E6"],xaxis:{categories:[]},legend:{show:!0}});function f(E){E.stopPropagation(),u({...j,[E.target.name]:E.target.value})}function b(){var k;let E=new FormData;p(!0),h({}),E.append("id_company",(k=l==null?void 0:l.company)==null?void 0:k.id_company),E.append("id_campaign",s.id),D.post(S+"/api/get/shortlinkcampaign",E,{withCredentials:!0}).then(R=>R.data).then(R=>{var y,$;p(!1),h(R);const P=[];let N=[],w=0;(y=R==null?void 0:R.stats)==null||y.forEach((I,Z)=>{w=w+I.count}),($=R==null?void 0:R.stats)==null||$.forEach((I,Z)=>{console.log(w),P.push(I.count),N.push(ba(I.app)+" ("+(I.count*100/w).toFixed(0)+"%)")}),v(I=>{const Z={...I};return Z.series[0].data=P,Z.xaxis.categories=N,Z})}).catch(R=>{})}function A(){var k;t(!0);let E=new FormData;E.append("id_company",(k=l==null?void 0:l.company)==null?void 0:k.id_company),E.append("id_campaign",s==null?void 0:s.id),E.append("url",j.url),E.append("app",j.app),D.post(S+"/api/upload/shortlink",E,{withCredentials:!0}).then(R=>R.data).then(R=>{t(!1),R.status&&(r(!1),b()),R.msg&&z.error(R.msg)}).catch(R=>{t(!1)})}return i.useEffect(()=>{m||(v(E=>{const k={...E};return k.series[0].data=[],k.xaxis.categories=[],k}),b())},[m]),e.jsxs(e.Fragment,{children:[e.jsxs(ae,{next:"Agregar",visible:a,callback:r,onClick:A,Pending:n,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nuevo enlace"}),e.jsx("span",{children:"Agrega un nuevo enlace a tu campana"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"URL destino",onChange:f,name:"url"})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"app",id:"",onChange:f,children:[e.jsx("option",{value:"",children:"Selecciona la aplicacion"}),e.jsx("option",{value:"fb",children:"Facebook"}),e.jsx("option",{value:"in",children:"Instagram"}),e.jsx("option",{value:"x",children:"X (Twitter)"}),e.jsx("option",{value:"email",children:"Correo"}),e.jsx("option",{value:"sms",children:"Sms"}),e.jsx("option",{value:"tik",children:"Tiktok"}),e.jsx("option",{value:"linkd",children:"Linkedin"}),e.jsx("option",{value:"yt",children:"Youtube"}),e.jsx("option",{value:"tele",children:"Telegram"}),e.jsx("option",{value:"ws",children:"Whatsapp"}),e.jsx("option",{value:"others",children:"Otros"})]})})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Campaña de enlace: ",s.id]}),e.jsx("span",{children:"Agrega nuevos enlaces para tu campana general de urls"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{onClick:E=>{r(!0)},className:"add",children:"Agregar nuevo enlace"})})]}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Clicks este mes"}),e.jsx("span",{children:"Aca podras evaluar los clicks hecho por el mes actual y anteriores."})]}),c==!1?e.jsx(Ce,{options:o,series:o.series,type:"bar",height:300}):""]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[(_=d==null?void 0:d.links)==null?void 0:_.map((E,k)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_link.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:E.real_link}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"title",children:"App"}),e.jsx("span",{children:e.jsx("img",{className:"icon-app",src:Ca(E.app),alt:""})})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{children:e.jsx(ge,{})})})]},k)),c?e.jsx(de,{}):((T=d==null?void 0:d.links)!=null&&T.length,"")]})})]})})]})}function gi({Visible:s,Close:a,loadQrs:r}){const{UserInfo:n}=i.useContext(H),t=i.useRef(null),[l,c]=i.useState(0),[p,m]=i.useState([fe()]),[x,d]=i.useState({type:""});i.useState({});const[h,g]=i.useState(!1),j=new ds({width:600,height:600,image:"/img/icons/iconsvg.png",dotsOptions:{color:"gradient",type:"extra-rounded",gradient:{colorStops:[{offset:0,color:"#000"},{offset:1,color:"#000"}]}},imageOptions:{crossOrigin:"anonymous",margin:20}});let u={url:""};const[o,v]=i.useState(u);J();function f(_){_.stopPropagation(),_.preventDefault();let T=O(_.target);T.parents(".options").find(".active").removeClass("active"),T.addClass("active");let E=T.attr("value");d(k=>({...k,type:E}))}async function b(_){var E;let T=!1;if(O(_.target),(l===0&&x.type=="qr-stand"||x.type=="qr-contact")&&(T=!0),l===1&&(j.append(t.current),x.type=="qr-contact"?j.update({data:"BEGIN:VCARD                 VERSION:3.0                 N:"+o.lname+";"+o.fname+`;;;
FN:`+o.fname+" "+o.lname+`
ORG:`+o.company+`;
TITLE:`+o.jobtitle+`
TEL;type=CELL:`+o.number+`
TEL;type=WORK:`+o.officenum+`
EMAIL;type=INTERNET;type=WORK;type=pref:`+o.email+`
URL%3A`+o.web+`%0A
ADR;TYPE=work:;;`+o.address1+";"+o.address2+";"+o.city+";"+o.province+";"+o.country+";"+o.pcode+`
REV:`+new Date+`
END:VCARD`}):j.update({data:o.url}),T=!0),l===2)if(o.name){g(!0);let k=new FormData;k.append("formqr",JSON.stringify(o)),k.append("id_company",(E=n==null?void 0:n.company)==null?void 0:E.id_company),k.append("type",x.type);let R=await new Promise((P,N)=>{let y=document.querySelector(".qr-result canvas").toDataURL("image/png");P(y)});k.append("preview",R),D.post(S+"/api/upload/qr",k,{withCredentials:!0}).then(P=>P.data).then(P=>{a(!1),P.status&&r(),g(!1)}).catch(P=>{g(!1)})}else T=!1,z.error("Opps no has elegido un nombre para tu qr");T&&c(k=>k+1)}function A(_){let T=_.target.name,E=_.target.value;v(k=>({...k,[T]:E}))}return i.useEffect(()=>{O(".case.active").removeClass("active"),O(".case").eq(l).addClass("active")},[l]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[l>0?e.jsxs("button",{className:"return",onClick:_=>{c(T=>T-1)},children:[e.jsx(be,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:_=>{a(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear un nuevo QR"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de qr que quieres crear"})]}),e.jsxs("div",{className:"options flex",id:`options-${p[0]}`,children:[e.jsxs("div",{className:"selector",onClick:f,value:"qr-stand",children:[e.jsx("div",{className:"check",children:e.jsx(re,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"QR Estandar"}),e.jsx("span",{children:"Qr Estandar es un qr basico donde podras almacenar enlaces de tus webs"})]})]}),e.jsxs("div",{className:"selector",onClick:f,value:"qr-contact",children:[e.jsx("div",{className:"check",children:e.jsx(re,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"QR Contacto"}),e.jsx("span",{children:"Qr Contacto, este es un qr donde podras escanearlo y almacenar un contacto con informacion importante"})]})]})]})]}),x.type=="qr-stand"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Enlace del qr"}),e.jsx("input",{type:"url",name:"url",onChange:A,placeholder:"Enlace"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre del qr"}),e.jsx("input",{type:"text",onChange:A,name:"name",placeholder:"Nombre para tu QR"})]})]})]})}):e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personaliza tu QR"}),e.jsx("span",{className:"desc",children:"Este es un qr para agregar contactos a un dispositivo movil, puedes personalizarlo con tu informacion necesaria"})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre"}),e.jsx("input",{type:"text",name:"fname",onChange:A,placeholder:"ej: Roberto"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Apellido"}),e.jsx("input",{type:"text",name:"lname",onChange:A,placeholder:"ej: Martinez"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Empresa"}),e.jsx("input",{type:"text",name:"company",onChange:A,placeholder:"ej: Cocacola"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Cargo"}),e.jsx("input",{type:"text",name:"jobtitle",onChange:A,placeholder:"ej: Director"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Celular"}),e.jsx("input",{type:"text",name:"number",onChange:A,placeholder:"ej: +58412000000"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Numero de Oficina"}),e.jsx("input",{type:"text",name:"officenum",onChange:A,placeholder:"ej: (12)"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo Electronico"}),e.jsx("input",{type:"text",name:"email",onChange:A,placeholder:"ej: example@example.com"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Pagina Web"}),e.jsx("input",{type:"text",name:"web",onChange:A,placeholder:"ej: www.example.com"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Direccion"}),e.jsx("input",{type:"text",name:"address1",onChange:A,placeholder:"ej: Chicago, ST "})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Direccion del Trabajo"}),e.jsx("input",{type:"text",name:"address2",onChange:A,placeholder:"ej: Chicago ST, Down Ryder "})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Ciudad"}),e.jsx("input",{type:"text",name:"city",onChange:A,placeholder:"ej: Chicago"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Estado"}),e.jsx("input",{type:"text",name:"province",onChange:A,placeholder:"ej: Chicago"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Pais"}),e.jsx("input",{type:"text",name:"country",onChange:A,placeholder:"ej: Estados Unidos"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Codigo postal"}),e.jsx("input",{type:"text",name:"pcode",onChange:A,placeholder:"ej: (15306)"})]})})]})})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Elige un nombre"}),e.jsx("span",{className:"desc",children:"Elige un nombre a tu qr para poder identificarlo"})]}),e.jsx("div",{className:"qr-result",ref:t})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:`next ${h?"await":" "}`,onClick:b,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function vi({Visible:s,Close:a,loadQrs:r}){const{UserInfo:n}=i.useContext(H);i.useRef(null);const[t,l]=i.useState(0);i.useState([fe()]);const[c,p]=i.useState({type:""}),[m,x]=i.useState(!1);J();async function d(u){var o;if(O(u.target),c.name&&c.image){let v=new FormData;v.append("preview",c.image),v.append("id_company",(o=n==null?void 0:n.company)==null?void 0:o.id_company),v.append("type","qr-stand"),v.append("formqr",JSON.stringify(c)),D.post(S+"/api/upload/qr",v,{withCredentials:!0}).then(f=>f.data).then(f=>{console.log(f)})}else z.error("Opps hay algo imcompleto")}function h(u){let o=u.target.name,v=u.target.value;p(f=>({...f,[o]:v}))}function g(){O("#file").click()}function j(u){let o=u.target.files,v=O(u.target);if(o.length){let f=new FileReader;f.onload=function(b){if(o[0].type.indexOf("image")>=0){let A=new Image;A.src=b.target.result,A.onload=function(){A.width<=6e3&&A.height<=6e3?p({...c,image:A.src}):z.error(`Opps maximo 600x600 tu imagen es de ${A.width}x${A.height}`)}}else v.val(""),z.error("Opps solo aceptamos imagenes")},f.readAsDataURL(o[0])}}return i.useEffect(()=>{O("#wizard2").find(".case").eq(0).addClass("active")},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,id:"wizard2",children:[e.jsxs("div",{className:"top-actions",children:[t>0?e.jsxs("button",{className:"return",onClick:u=>{l(o=>o-1)},children:[e.jsx(be,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:u=>{a(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case ",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Subir nuevo QR"}),e.jsx("span",{className:"desc",children:"Importa la imagen del nuevo qr que quieres integrar"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre del qr"}),e.jsx("input",{type:"text",onChange:h,name:"name",placeholder:"Nombre para tu QR"})]}),e.jsxs("div",{className:"upload-qr",children:[c.image==null?e.jsx("div",{className:"upload",onClick:g,children:e.jsx(ye,{})}):e.jsx("div",{className:"preview",children:e.jsx("img",{src:c.image,alt:""})}),e.jsx("input",{type:"file",id:"file",onChange:j,hidden:!0})]})]})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:`next ${m?"await":" "}`,onClick:d,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function ze(){const[s,a]=i.useState(!1),[r,n]=i.useState(!1),[t,l]=i.useState(!1),[c,p]=i.useState([{},{}]),{UserInfo:m}=i.useContext(H),x=we();i.useEffect(()=>{xe("/add")&&a(!0),xe("/import")&&n(!0)},[x]);function d(){var j;let g=new FormData;g.append("id_company",(j=m==null?void 0:m.company)==null?void 0:j.id_company),D.post(S+"/api/get/qrs",g,{withCredentials:!0}).then(u=>u.data).then(u=>{p(u)})}function h(g){let j=O(g.target),u=j.parents(".item").find("img")[0].src;j.parents(".item").find(".title").text();let o=document.createElement("a");o.href=u,o.download="",o.rel="noopener noreferrer",o.target="_blank",document.querySelector("#root").appendChild(o),o.click(),document.querySelector("#root").removeChild(o)}return i.useEffect(()=>{d()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Qr"}),e.jsx("span",{children:"Crea qr personalizados con enlaces para tus webs o qr de contacto"})]}),e.jsx(gi,{Visible:s,Close:a,setModalView:a,loadQrs:d}),e.jsx(vi,{Visible:r,Close:n,setModalView:n,loadQrs:d},r?"x":"a"),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"add",onClick:g=>{a(!0)},children:" Crear nuevo QR"}),e.jsxs("button",{className:"go-wizard",onClick:g=>{n(!0)},children:[e.jsx(ye,{})," Importar QR"]})]})]}),e.jsxs("div",{className:"box box-padding",children:[c.map((g,j)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:Ve(g.qr_preview),alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:g.title}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsx("div",{className:"info",children:e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:"Tipo de QR"}),e.jsx("span",{className:"desc",children:g.type_qr})]})}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:h,children:e.jsx(ia,{})}),e.jsx("button",{children:e.jsx(U,{})})]})]})),t?e.jsx(de,{}):c.length==0?e.jsx("div",{className:"item",children:e.jsx(ce,{name:"Qrs"})}):""]})]})}function fi({setButtons:s}){function a(r){let n=r.target.value;r.target.name=="background"&&n.indexOf("http")>=0&&(n=`url(${n})`),s(l=>{let c={...l};return c.header[r.target.name]=n,c})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar botonera"}),e.jsx("span",{children:"Personaliza tu botonera, cambiando imagenes, fondo, texto, botones, enlaces."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",defaultValue:"#fff",onChange:a,name:"background"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",onChange:a,defaultValue:0,step:"0.1",max:"10",name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",onChange:a,defaultValue:1,step:"0.1",max:"1",name:"brightness"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border radius"}),e.jsx("input",{type:"range",onChange:a,defaultValue:1,step:"0.1",max:"50",name:"radius"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{name:"colorBox",onClick:a,value:"ligth",children:"Modo Claro"}),e.jsx("button",{name:"colorBox",onClick:a,value:"dark",children:"Modo Oscuro"})]})]})]})}function Ni({buttons:s,setButtons:a,editor:r,setEditor:n}){var T,E,k,R,P,N,w,y,$,I,Z,oe;const[t,l]=i.useState(!1),[c,p]=i.useState(!1),[m,x]=i.useState(!1),[d,h]=i.useState(void 0),{UserInfo:g}=i.useContext(H),j=ee();i.useEffect(()=>{console.log(s)},[s]);function u(){a(M=>({...M,buttons:M.buttons.concat({})}))}function o(M){M.preventDefault(),M.stopPropagation();let C=O(M.target);switch(O(".page.buttonsbody .active").removeClass("active"),C.addClass("active"),C.attr("type")){case"buttons":var q=C.attr("id");n({type:"button",key:q});break;case"rs":var q=C.attr("id");n({type:"rs",key:q});break;default:n({type:C.attr("type")});break}return!1}function v(M){a(C=>{const q={...C};return q.buttons=q.buttons.filter((F,X)=>X!==M),n({type:"",key:""}),q})}function f(){let M=document.querySelector("#select-rs").value,C=document.querySelector("#input-rs").value;(s==null?void 0:s.rs.length)<=3?a(q=>{const F=[...q.rs];return F.push({type:M,url:C}),{...q,rs:F}}):z.error("Opps ya has agregado muchas redes sociales")}async function b(){var M,C,q;if(((C=(M=s.header)==null?void 0:M.titlegl)==null?void 0:C.length)>=1){x(!0);let F=new FormData;F.append("json",JSON.stringify(s)),d==null?F.append("title",s.header.titlegl):F.append("id_buttons",d),F.append("id_company",(q=g==null?void 0:g.company)==null?void 0:q.id_company);let X=await Ae(document.querySelector(".page .center"),{allowTaint:!1,useCORS:!0}).then(K=>K.toDataURL());F.append("preview",X),D.post(S+"/api/upload/buttons",F,{withCredentials:!0}).then(K=>K.data).then(K=>{x(!1),K.id_buttons&&h(K.id_buttons),K.msg&&z.error(K.msg)}).catch(K=>{x(!1)})}else p(!0),z.error("Opps no puedes avanzar si tu plantilla no posee un titulo")}function A(M){let C=M.target.value;a(q=>{let F={...q};return F.header.titlegl=C,F})}function _(){s.header.titlegl&&(p(!1),z.success("El titulo se aplico con exito"))}return i.useEffect(()=>{var M;if(j.id){let C=new FormData;C.append("id_buttons",j.id),C.append("id_company",(M=g==null?void 0:g.company)==null?void 0:M.id_company),D.post(S+"/api/get/editbuttons",C,{withCredentials:!0}).then(q=>q.data).then(q=>{q.id_buttons&&(a(JSON.parse(q.json)),h(q.id_buttons))})}},[]),e.jsxs(e.Fragment,{children:[e.jsxs(ae,{visible:c,close:p,callback:p,onClick:_,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("span",{children:"Elige un titulo general para esta plantilla"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Titulo general"}),e.jsx("input",{onChange:A,type:"text",placeholder:"ej: plantilla 1"})]})]}),e.jsx(ae,{visible:t,callback:l,onClick:f,children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Redes Sociales"}),e.jsx("span",{children:"Selecciona que red social quieres agregar"}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("input",{type:"url",placeholder:"Enlace (URL)",id:"input-rs"}),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("select",{name:"",id:"select-rs",children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"Seleccionar"}),e.jsx("option",{value:"fb",children:"Facebook"}),e.jsx("option",{value:"x",children:"X (Twitter)"}),e.jsx("option",{value:"in",children:"Instagram"}),e.jsx("option",{value:"link",children:"Linkedin"}),e.jsx("option",{value:"disc",children:"Discord"}),e.jsx("option",{value:"tik",children:"TikTok"}),e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"spot",children:"Spotify"}),e.jsx("option",{value:"tele",children:"Telegram"}),e.jsx("option",{value:"ws",children:"Whatsapp"})]}),e.jsx("br",{})]})]})}),e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{children:[e.jsx(ke,{})," Previsualizar"]}),e.jsxs("button",{className:m?"await":"",onClick:b,children:[e.jsx(Fe,{})," Guardar ",e.jsx("div",{className:"loading"})]})]})}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(T=s==null?void 0:s.header)==null?void 0:T.blur}px)brightness(${(E=s==null?void 0:s.header)==null?void 0:E.brightness})`,background:(k=s==null?void 0:s.header)==null?void 0:k.background2}}),e.jsxs("div",{className:`${"page buttonsbody "+((R=s==null?void 0:s.header)==null?void 0:R.colorBox)}`,children:[e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",onClick:o,type:"logo",src:(P=s==null?void 0:s.header)!=null&&P.logo?(N=s==null?void 0:s.header)==null?void 0:N.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{onClick:o,type:"title",children:(w=s==null?void 0:s.header)!=null&&w.title?(y=s==null?void 0:s.header)==null?void 0:y.title:"Agregar titulo"}),e.jsx("span",{onClick:o,type:"desc",children:($=s==null?void 0:s.header)!=null&&$.desc?(I=s==null?void 0:s.header)==null?void 0:I.desc:"Agregar Descripcion"})]}),e.jsx("div",{className:"buttons",children:(Z=s==null?void 0:s.buttons)==null?void 0:Z.map((M,C)=>{var q;return e.jsxs("div",{children:[e.jsx("div",{className:"edit-active",children:e.jsx("button",{onClick:F=>{v(C)},children:e.jsx(U,{})})}),e.jsxs("a",{onClick:o,style:{borderRadius:((q=s==null?void 0:s.header)==null?void 0:q.radius)+"px"},type:"buttons",id:C,href:M.url,children:[" ",M!=null&&M.name?M==null?void 0:M.name:"Elegir nombre..."]},C)]},C)})}),e.jsx("div",{className:"rs",children:(oe=s==null?void 0:s.rs)==null?void 0:oe.map((M,C)=>e.jsx("div",{className:"r",children:e.jsxs("a",{href:"",onClick:o,id:C,type:"rs",children:[M.type=="in"?e.jsx(os,{}):"",M.type=="tik"?e.jsx(ms,{}):"",M.type=="disc"?e.jsx(ps,{}):"",M.type=="spot"?e.jsx(xs,{}):"",M.type=="tele"?e.jsx(us,{}):"",M.type=="ws"?e.jsx(hs,{}):"",M.type=="email"?e.jsx(js,{}):"",M.type=="fb"?e.jsx(gs,{}):"",M.type=="x"?e.jsx(vs,{}):"",M.type=="link"?e.jsx(fs,{}):""]})},C))}),e.jsxs("div",{className:"add-new",onClick:u,children:[e.jsx(De,{})," Agregar Boton"]}),e.jsx("br",{}),e.jsxs("div",{className:"add-new",onClick:M=>{l(!0)},children:[e.jsx(De,{})," Agregar Red Social"]})]})]})}function yi({editor:s,buttons:a,setButtons:r,setEditor:n}){var c;function t(p){let m=p.target.value;r(x=>{let d={...x};return d.rs[s.key].url=m,d})}function l(p){r(m=>{const x={...m};return console.log(s),x.rs=x.rs.filter((d,h)=>h!==Number(s.key)),n({type:"",key:""}),x})}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enlace"}),e.jsx("input",{id:"title-edit",onChange:t,type:"text",value:(c=a==null?void 0:a.rs[s.key])==null?void 0:c.url,placeholder:"https://image.com/jfop2.jpg"})]})}),e.jsx("div",{children:e.jsx("button",{className:"delete",onClick:l,children:"Eliminar"})})]})}function Ci({editor:s,buttons:a,setButtons:r}){function n(t){const{name:l,value:c}=t.target;r(p=>{let m={...p};return m.buttons[s.key][l]=c,m})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nombre de boton"}),e.jsx("input",{onChange:n,value:a.buttons[s.key].name?a.buttons[s.key].name:"",name:"name",id:"title-edit",type:"text",placeholder:"Ej: Mi tienda virtual"})]}),e.jsx("br",{}),e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enlace"}),e.jsx("input",{onChange:n,value:a.buttons[s.key].url?a.buttons[s.key].url:"",name:"url",id:"title-edit",type:"text",placeholder:"https://example.com"})]})]})})}function Ss({setButtons:s}){function a(r){s(n=>{let t={...n};return t.header.desc=r.target.value,t})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descripcion"}),e.jsx("input",{onChange:a,id:"title-edit",type:"text",placeholder:"Ej: Mis redes sociales"})]})})})}function Es({setButtons:s,buttons:a}){function r(n){let t=n.target.value;s(l=>{let c={...l};return c.header.logo=t,c})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Logo"}),e.jsx("input",{onChange:r,id:"title-edit",type:"text",placeholder:"https://image.com/jfop2.jpg"})]})})})}function _s({setButtons:s,buttons:a}){function r(n){s(t=>{let l={...t};return l.header.title=n.target.value,l})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("input",{onChange:r,id:"title-edit",type:"text",placeholder:"Ej: Mis redes sociales"})]})})})}function bi({editor:s,buttons:a,setButtons:r,setEditor:n}){return e.jsxs(e.Fragment,{children:[s.type=="button"?e.jsx(Ci,{editor:s,buttons:a,setButtons:r}):"",s.type=="title"?e.jsx(_s,{editor:s,buttons:a,setButtons:r}):"",s.type=="desc"?e.jsx(Ss,{editor:s,buttons:a,setButtons:r}):"",s.type=="logo"?e.jsx(Es,{editor:s,buttons:a,setButtons:r}):"",s.type=="rs"?e.jsx(yi,{editor:s,buttons:a,setButtons:r,setEditor:n}):""]})}function ts(){var t;i.useState(!0);const[s,a]=i.useState({header:{title:"",desc:"",img:"",background:""},buttons:[],rs:[]}),[r,n]=i.useState({});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"editor-surveys",children:e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:"left",children:e.jsx(fi,{editor:r,setButtons:a,buttons:s})}),e.jsx("div",{className:"center",style:{background:(t=s==null?void 0:s.header)==null?void 0:t.background},children:e.jsx(Ni,{editor:r,setEditor:n,buttons:s,setButtons:a})}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"type-editor",children:e.jsx(bi,{editor:r,buttons:s,setButtons:a,setEditor:n})})})]})})})}function wi(){var p,m,x,d,h,g,j,u,o,v,f,b,A;const[s,a]=i.useState({}),[r,n]=i.useState(!0),t=ee();function l(){let _=new FormData;_.append("token",t.id),D.post(S+"/api/get/buttons",_).then(T=>T.data).then(T=>{if(a(T),T){let E=new FormData;E.append("type_stat","visit"),E.append("type","buttons"),E.append("token",t.id),D.post(S+"/api/get/capturestatsbuttons",E)}})}i.useEffect(()=>{l()},[]);function c(_){_.preventDefault(),_.stopPropagation();let T=_.target.href;if(r){n(!1);let E=new FormData;E.append("type","buttons"),E.append("type_stat","click"),E.append("data",T),E.append("token",t.id),D.post(S+"/api/get/capturestatsbuttons",E).then(k=>k.data).then(k=>{n(!0),window.open(T)}).catch(k=>{n(!0)})}}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"editor-surveys btnactive prod-buttons",children:e.jsx("div",{className:"rows",children:e.jsxs("div",{className:"center",style:{background:(p=s==null?void 0:s.header)==null?void 0:p.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(m=s==null?void 0:s.header)==null?void 0:m.blur}px)brightness(${(x=s==null?void 0:s.header)==null?void 0:x.brightness})`,background:(d=s==null?void 0:s.header)==null?void 0:d.background2}}),e.jsxs("div",{className:`${"page buttonsbody "+((h=s==null?void 0:s.header)==null?void 0:h.colorBox)}`,children:[e.jsx("div",{className:"share-now",children:e.jsx("button",{children:e.jsx(ta,{})})}),e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",type:"logo",src:(g=s==null?void 0:s.header)!=null&&g.logo?(j=s==null?void 0:s.header)==null?void 0:j.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{type:"title",children:(u=s==null?void 0:s.header)!=null&&u.title?(o=s==null?void 0:s.header)==null?void 0:o.title:""}),e.jsx("span",{type:"desc",children:(v=s==null?void 0:s.header)!=null&&v.desc?(f=s==null?void 0:s.header)==null?void 0:f.desc:""})]}),e.jsx("div",{className:"buttons",children:(b=s==null?void 0:s.buttons)==null?void 0:b.map((_,T)=>{var E;return e.jsx("div",{children:e.jsxs("a",{onClick:c,style:{borderRadius:((E=s==null?void 0:s.header)==null?void 0:E.radius)+"px"},type:"buttons",id:T,href:_.url,children:[" ",_!=null&&_.name?_==null?void 0:_.name:"Elegir nombre..."]},T)},T)})}),e.jsx("div",{className:"rs",children:(A=s==null?void 0:s.rs)==null?void 0:A.map((_,T)=>e.jsx("div",{className:"r",children:e.jsxs("a",{href:"",id:T,type:"rs",children:[_.type=="in"?e.jsx(os,{}):"",_.type=="tik"?e.jsx(ms,{}):"",_.type=="disc"?e.jsx(ps,{}):"",_.type=="spot"?e.jsx(xs,{}):"",_.type=="tele"?e.jsx(us,{}):"",_.type=="ws"?e.jsx(hs,{}):"",_.type=="email"?e.jsx(js,{}):"",_.type=="fb"?e.jsx(gs,{}):"",_.type=="x"?e.jsx(vs,{}):"",_.type=="link"?e.jsx(fs,{}):""]})},T))}),e.jsxs("div",{className:"footer",children:[e.jsx("br",{}),e.jsx("hr",{}),e.jsx("p",{children:"Powered by RadarSystems. ​​​​​​​Copyright © 1998 - 2022 Todos los derechos reservados."})]})]})]})})})})}function ki({setButtons:s}){function a(r){let n=r.target.value;r.target.name=="background"&&n.indexOf("http")>=0&&(n=`url(${n})`),s(l=>{let c={...l};return c.header[r.target.name]=n,c})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar botonera"}),e.jsx("span",{children:"Personaliza tu botonera, cambiando imagenes, fondo, texto, botones, enlaces."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",defaultValue:"#fff",onChange:a,name:"background"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",onChange:a,defaultValue:0,step:"0.1",max:"10",name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",onChange:a,defaultValue:1,step:"0.1",max:"1",name:"brightness"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border radius"}),e.jsx("input",{type:"range",onChange:a,defaultValue:1,step:"0.1",max:"50",name:"radius"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{name:"colorBox",onClick:a,value:"ligth",children:"Modo Claro"}),e.jsx("button",{name:"colorBox",onClick:a,value:"dark",children:"Modo Oscuro"})]})]})]})}function Si({editor:s,buttons:a,setButtons:r}){function n(t){r(l=>{let c={...l};return c.elements[s.key].title=t.target.value,c})}return i.useEffect(()=>{a.elements[s.key].title!==void 0&&(O("#title-edit").val(a.elements[s.key].title),console.log("op"))},[s]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsxs("p",{children:["Titulo de espacio: #",s.key+1]}),e.jsx("input",{onChange:n,id:"title-edit",type:"text",placeholder:"Ej: Mis redes sociales"})]})})})}function Ei({editor:s,buttons:a,setButtons:r}){return e.jsxs(e.Fragment,{children:[s.type=="title"?e.jsx(_s,{editor:s,buttons:a,setButtons:r}):"",s.type=="desc"?e.jsx(Ss,{editor:s,buttons:a,setButtons:r}):"",s.type=="logo"?e.jsx(Es,{editor:s,buttons:a,setButtons:r}):"",s.type=="titlespace"?e.jsx(Si,{editor:s,buttons:a,setButtons:r}):""]})}function _i({buttons:s,setButtons:a,editor:r,setEditor:n}){var k,R,P,N,w,y,$,I,Z,oe;const[t,l]=i.useState(!1),[c,p]=i.useState(!1),[m,x]=i.useState(void 0),[d,h]=i.useState(!1),g=ee(),[j,u]=i.useState([]),{UserInfo:o}=i.useContext(H);function v(M){M.preventDefault(),M.stopPropagation();let C=O(M.target);switch(O(".page.buttonsbody .active").removeClass("active"),C.addClass("active"),C.attr("type")){case"addqr":var q=C.attr("id");n({type:"addqr",key:q});break;case"rs":var q=C.attr("id");n({type:"rs",key:q});break;case"titlespace":console.log(q),n({type:"titlespace",key:Number(C.attr("id"))});break;default:n({type:C.attr("type")});break}return!1}function f(M){var q;let C=new FormData;C.append("id_company",(q=o==null?void 0:o.company)==null?void 0:q.id_company),D.post(S+"/api/get/qrs",C,{withCredentials:!0}).then(F=>F.data).then(F=>{u(F)})}function b(){a(M=>{let C={...M};return C.elements.push({qrs:[]}),C})}function A(M){let C=O(M.target),q=C.attr("image"),F=C.attr("title");a(X=>{let K={...X};return K.elements[r.key].qrs.push({image:q,title:F}),K})}async function _(){var M;if(s.header.titlegl.length>=1){h(!0);let C=new FormData;C.append("json",JSON.stringify(s)),m==null?C.append("title",s.header.titlegl):C.append("id_buttonsqr",m),C.append("id_company",(M=o==null?void 0:o.company)==null?void 0:M.id_company);let q=await Ae(document.querySelector(".page .center"),{allowTaint:!1,useCORS:!0}).then(F=>F.toDataURL());C.append("preview",q),D.post(S+"/api/upload/buttonsqr",C,{withCredentials:!0}).then(F=>F.data).then(F=>{h(!1),F.id_buttonsqr&&x(F.id_buttonsqr),F.msg&&z.error(F.msg)}).catch(F=>{h(!1)})}else p(!0),z.error("Opps no puedes avanzar si tu plantilla no posee un titulo")}function T(M){let C=M.target.value;a(q=>{let F={...q};return F.header.titlegl=C,F})}function E(){s.header.titlegl&&(p(!1),z.success("El titulo se aplico con exito"))}return i.useEffect(()=>{var M;if(f(),g.id){let C=new FormData;C.append("id_buttonsqr",g.id),C.append("id_company",(M=o==null?void 0:o.company)==null?void 0:M.id_company),D.post(S+"/api/get/editbuttonsqr",C,{withCredentials:!0}).then(q=>q.data).then(q=>{q.id_buttonsqr&&(a(JSON.parse(q.json)),x(q.id_buttonsqr))})}},[]),e.jsxs(e.Fragment,{children:[e.jsxs(ae,{visible:t,maxWidth:"450px",callback:l,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Galeria de Qr's"}),e.jsx("span",{children:"Tu galeria de qrs, donde podras seleccionar que qr quieres integrar"})]}),e.jsx("div",{className:"data row",children:j.map((M,C)=>e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"qrs",onClick:A,image:Ve(M.qr_preview),title:M.title,children:[e.jsx("img",{src:Ve(M.qr_preview),alt:""}),e.jsx("p",{children:M.title})]})}))})]}),e.jsxs(ae,{visible:c,close:p,callback:p,onClick:E,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("span",{children:"Elige un titulo general para esta plantilla"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Titulo general"}),e.jsx("input",{onChange:T,type:"text",placeholder:"ej: plantilla 1"})]})]}),e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{children:[e.jsx(ke,{})," Previsualizar"]}),e.jsxs("button",{className:d?"await":"",onClick:_,children:[e.jsx(Fe,{})," Guardar ",e.jsx("div",{className:"loading"})]})]})}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(k=s==null?void 0:s.header)==null?void 0:k.blur}px)brightness(${(R=s==null?void 0:s.header)==null?void 0:R.brightness})`,background:(P=s==null?void 0:s.header)==null?void 0:P.background2}}),e.jsx("div",{className:`${"page buttonsbody buttonsqr "+((N=s==null?void 0:s.header)==null?void 0:N.colorBox)}`,children:e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",onClick:v,type:"logo",src:(w=s==null?void 0:s.header)!=null&&w.logo?(y=s==null?void 0:s.header)==null?void 0:y.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{onClick:v,type:"title",children:($=s==null?void 0:s.header)!=null&&$.title?(I=s==null?void 0:s.header)==null?void 0:I.title:"Agregar titulo"}),e.jsx("span",{onClick:v,type:"desc",children:(Z=s==null?void 0:s.header)!=null&&Z.desc?(oe=s==null?void 0:s.header)==null?void 0:oe.desc:"Agregar Descripcion"}),e.jsx("br",{}),e.jsx("br",{}),s.elements.map((M,C)=>e.jsxs("div",{className:"boxqr",children:[e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"top-left",children:e.jsx("p",{id:C,type:"titlespace",onClick:q=>{v(q)},children:M.title?M.title:"Escribe un titulo..."})}),e.jsx("div",{className:"top-right",children:e.jsx("button",{id:C,type:"addqr",onClick:q=>{l(!0,v(q))},children:"Agregar QR"})})]}),e.jsx(Ns.Carousel,{showThumbs:!1,showIndicators:!1,showStatus:!1,children:M.qrs.map((q,F)=>e.jsxs("div",{className:"qr",children:[e.jsx("button",{className:"delete",onClick:X=>{},children:e.jsx(U,{})}),e.jsx("img",{src:q.image}),e.jsx("p",{children:q.title})]}))}),M.qrs.length==0?e.jsx("div",{className:"add-qr",children:"+"}):""]})),e.jsxs("div",{className:"add-new",onClick:b,children:[e.jsx(De,{})," Agregar Caja"]})]})})]})}function ns(){var t;const[s,a]=i.useState({header:{titlegl:"",title:"",desc:"",img:"",background:""},elements:[]}),[r,n]=i.useState({key:"",type:""});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"editor-surveys",children:e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:"left",children:e.jsx(ki,{editor:r,setEditor:n,buttons:s,setButtons:a})}),e.jsx("div",{className:"center",style:{background:(t=s==null?void 0:s.header)==null?void 0:t.background},children:e.jsx(_i,{editor:r,setEditor:n,buttons:s,setButtons:a})}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"type-editor",children:e.jsx(Ei,{editor:r,setEditor:n,buttons:s,setButtons:a})})})]})})})}function Fi(){const[s,a]=i.useState(0),r=J(),[n,t]=i.useState({user:null,existsAccount:null,code:null,intent:0}),[l,c]=i.useState(!1);function p(){let g=new FormData;g.append("user",n.user),n.user?(c(!0),D.post(S+"/api/recovery/existsuser",g).then(j=>j.data).then(async j=>{j.status?(await d(),c(!1),a(1),z.success("Tu codigo ha sido enviado al correo electronico")):(z.error("Opps no se ha conseguido este usuario"),c(!1))}).catch(j=>{z.error("Opps error al enviar la peticion."),c(!1)})):z.error("Has dejado el usuario vacido")}function m(){let g=new FormData;g.append("user",n==null?void 0:n.user),g.append("code",n==null?void 0:n.code),D.post(S+"/api/recovery/checkcode",g).then(j=>j.data).then(j=>{j.status?(a(2),z.success("Has ingresado el codigo correctamente")):(t({...n,intent:n.intent+1}),z.error("Error con tu codigo de seguridad"))})}function x(g){let j=g.target.name,u=g.target.value;t({...n,[j]:u})}async function d(){let g=new FormData;g.append("user",n==null?void 0:n.user),c(!0),D.post(S+"/api/recovery/requestcode",g).then(j=>j.data).then(j=>{c(!1),j.status?z.success("Codigo enviado correctamente."):z.error("Opps error al obtener un nuevo codigo, espera un momento...")}).catch(j=>{c(!1)})}function h(){let g=new FormData;g.append("user",n.user),g.append("password",n.password),g.append("password2",n.password2),g.append("code",n.code),n.password&&n.password2?n.password==n.password2?D.post(S+"/api/recovery/changepassword",g).then(j=>j.data).then(j=>{j.status?(z.success("Has cambiado la password correctamente"),r("/")):z.error("Opps error al cambiar la password")}):z.error("Las passwords no coiciden"):z.error("Has dejado campos vacios")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"recovery",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Recupera tu cuenta"}),e.jsx("span",{children:"Recupera tu cuenta con un correo o el nombre de usuario"})]}),e.jsx("br",{}),s==0?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Usuario / email"}),e.jsx("input",{type:"text",name:"user",onChange:x,placeholder:"guest@gmail.com"})]}),e.jsxs("button",{className:`go ${l?"await":""}`,onClick:p,children:["Buscar cuenta... ",e.jsx("div",{className:"loading"})]})]}):"",s==1?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{htmlFor:"",children:["Ingresa el codigo enviado a (",e.jsx("b",{children:n.user}),") "]}),e.jsx("input",{type:"password",name:"code",onChange:x,placeholder:"Codigo",style:{textAlign:"center"}})]}),n.intent?e.jsx(e.Fragment,{children:e.jsxs("button",{className:`transparent ${l?"await":""}`,onClick:d,children:["Pedir nuevo codigo ",e.jsx("div",{className:"loading"})]})}):"",e.jsxs("button",{className:`go ${l?"await":""}`,onClick:m,children:["Confirmar Codigo",e.jsx("div",{className:"loading"})]})]}):"",s==2?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Contraseña Nueva"}),e.jsx("input",{type:"password",name:"password",onChange:x,placeholder:"••••••••"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Repita contraseña nueva"}),e.jsx("input",{type:"password",name:"password2",onChange:x,placeholder:"••••••••"})]}),e.jsxs("button",{className:`go ${l?"await":""}`,onClick:h,children:["Actualizar Contraseña",e.jsx("div",{className:"loading"})]})]}):""]})})}function Di(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top",children:[e.jsx("ul",{}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"form-search",children:e.jsx("input",{type:"text",placeholder:"Buscar usuario..."})})})]})})}function Pi(){const[s,a]=i.useState([]),{UserInfo:r}=i.useContext(H);function n(t,l){var p;let c=new FormData;c.append("id_company",(p=r==null?void 0:r.company)==null?void 0:p.id_company),D.post(S+"/api/get/contacts",c,{withCredentials:!0}).then(m=>m.data).then(m=>{a(m.result)})}return i.useEffect(()=>{n()},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Contactos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]})}),e.jsx(Di,{}),e.jsx("div",{className:"box box-padding",children:e.jsx("table",{children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Email"}),e.jsx("td",{children:"Nombre"}),e.jsx("td",{children:"Apellido"}),e.jsx("td",{children:"Dni"}),e.jsx("td",{children:"Numero"}),e.jsx("td",{children:"Sexo"}),e.jsx("td",{children:"Email Verificado"}),e.jsx("td",{children:"Estatus"})]}),s.map((t,l)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("span",{children:t.email?t.email:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:t.name?t.name:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:t.lastname?t.lastname:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:t.dni?t.dni:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:t.number?t.number:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:t.sexo?t.name:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:t.email_verified?t.email_Verified:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:t.status?t.status:"No disponible"})})]}))]})})})]})}function qi(){var c;const s=i.useRef(null);let{UserInfo:a}=i.useContext(H);const[r,n]=i.useState(!1),t=J();i.useEffect(()=>{const p=na.init({container:s.current,plugins:[la,ra,ca,da]});return p.Storage.destroy(),p.Panels.addButton("options",{id:"return",label:"Volver",command:async function(){t("/landings")}}),p.Panels.addButton("options",{id:"save-html-button",className:"save-html-button-class",label:"Guardar",command:async function(){const m=p.getHtml(),x=p.getCss(),d=await p.store("export").then(j=>JSON.stringify(j));let h=new FormData,g=O("input[name='name']").val();h.append("id_company",O("#id_company").val()),h.append("html",m),h.append("name",g),h.append("css",x),h.append("json",d),Number(O("#id_edit").val())>=1&&h.append("id",O("#id_edit").val()),g.length?D.post(S+"/api/upload/landing",h,{withCredentials:!0}).then(j=>j.data).then(j=>{j.status&&(z.success("Guardado con exito"),j.id_create&&O("#id_edit").val(j.id_create))}):(z.error("Opps no has elegido un titulo"),n(!0))}}),p.Panels.addButton("options",{id:"gallery",label:"Galeria",command:async function(){}}),()=>{p.destroy()}},[]);function l(){O("input[name='name']").val()?n(!1):z.error("Opps no has asignado un titulo")}return e.jsx(e.Fragment,{children:e.jsxs("body",{theme:"ligth",children:[e.jsxs(ae,{visible:r,callback:n,close:n,onClick:l,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Elegir titulo"}),e.jsx("span",{children:"elige un titulo para esta plantilla"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{name:"name",type:"text",placeholder:"Titulo"})})]}),e.jsx("input",{type:"number",id:"id_edit",hidden:!0}),e.jsx("input",{type:"number",id:"id_company",value:(c=a==null?void 0:a.company)==null?void 0:c.id_company,hidden:!0}),e.jsx("div",{ref:s})]})})}function Ti(){const[s,a]=i.useState([]),{UserInfo:r}=i.useContext(H),[n,t]=i.useState(!0),l=J();function c(){var m;let p=new FormData;p.append("id_company",(m=r==null?void 0:r.company)==null?void 0:m.id_company),D.post(S+"/api/get/landings",p,{withCredentials:!0}).then(x=>x.data).then(x=>{a(x),t(!1)})}return i.useEffect(()=>{c()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Landings"}),e.jsx("span",{children:"Aqui veras todas tus landings creadas con anterioridad podras editarlas o eliminarlas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:p=>{l("/editor/landings")},children:"Crear nueva landing"})})]}),e.jsx("div",{className:"row",children:n==!1?s.map((p,m)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:"url(/img/icons/default-img.jpg)"},children:e.jsx("div",{className:"right-top",children:e.jsx("button",{onClick:x=>{l(`/landing/${p.token}`)},children:e.jsx(ke,{})})})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:p==null?void 0:p.name}),e.jsxs("span",{children:["Encuesta agregada el: ",Ne(p.time_add)]})]})]})},m)):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(de,{})})})})]})}function Oi(){const s=ee();return i.useEffect(()=>{function a(){const r=new FormData;r.append("token",s.id),D.post(S+"/api/get/landing",r).then(n=>n.data).then(n=>{document.documentElement.innerHTML="",document.documentElement.innerHTML=n.html})}a()},[s.id]),null}function Ai(){const s=J(),{UserInfo:a}=i.useContext(H),[r,n]=i.useState([]);function t(){var c;let l=new FormData;l.append("id_company",(c=a==null?void 0:a.company)==null?void 0:c.id_company),D.post(S+"/api/get/buttons",l,{withCredentials:!0}).then(p=>p.data).then(p=>{n(p)})}return i.useEffect(()=>{t()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"BOTONERAS URL"}),e.jsx("span",{children:"Gestiona tus botoneras estandares"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:l=>{Navigate("/editor/buttons")},children:"Crear nueva botonera"})})]}),e.jsx("div",{className:"row",children:r.map((l,c)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${S}/api/get/previewbuttons?hash=${l.preview}&w=buttons)`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{onClick:p=>{s("/editor/buttons/"+l.id_buttons)},children:e.jsx(ue,{})}),e.jsx("button",{onClick:p=>{s(`/stats/buttons/${l.token}`)},children:e.jsx(ge,{})}),e.jsx("button",{onClick:p=>{s(`/buttons/${l.token}`)},children:e.jsx(ke,{})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:l==null?void 0:l.title}),e.jsxs("span",{children:["Encuesta agregada el: ",Ne(l.time_add)]})]})]})},c))})]})}function Li(){const s=J(),{UserInfo:a}=i.useContext(H),[r,n]=i.useState([]),t=J();function l(){var p;let c=new FormData;c.append("id_company",(p=a==null?void 0:a.company)==null?void 0:p.id_company),D.post(S+"/api/get/buttonsqr",c,{withCredentials:!0}).then(m=>m.data).then(m=>{n(m)}).catch(m=>{})}return i.useEffect(()=>{l()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"BOTONERAS QR"}),e.jsx("span",{children:"Gestiona tus botoneras estandares"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:c=>{s("/editor/buttonsqr")},children:"Crear nueva botoneraQR"})})]}),e.jsx("div",{className:"row",children:r.map((c,p)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${S}/api/get/previewbuttons?hash=${c.preview}&w=buttonsqr)`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{onClick:m=>{t("/editor/buttonsqr/"+c.id_buttonsqr)},children:e.jsx(ue,{})}),e.jsx("button",{onClick:m=>{t(`/stats/survey/${c.id_survey}`)},children:e.jsx(ge,{})}),e.jsx("button",{onClick:m=>{t(`/buttonsqr/${c.token}`)},children:e.jsx(ke,{})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:c==null?void 0:c.title}),e.jsxs("span",{children:["Encuesta agregada el: ",Ne(c.time_add)]})]})]})},p))})]})}function Ri(){var t,l,c,p,m,x,d,h,g,j,u;let s=ee();const[a,r]=i.useState({elements:[]});function n(){let o=new FormData;o.append("token",s.id),D.post(S+"/api/get/buttonsqr",o).then(v=>v.data).then(v=>{r(v)})}return i.useEffect(()=>{n()},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"editor-surveys prodbuttonsqr",children:e.jsxs("div",{className:"center",style:{background:(t=a==null?void 0:a.header)==null?void 0:t.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(l=a==null?void 0:a.header)==null?void 0:l.blur}px)brightness(${(c=a==null?void 0:a.header)==null?void 0:c.brightness})`,background:(p=a==null?void 0:a.header)==null?void 0:p.background2}}),e.jsx("div",{className:`${"page buttonsbody buttonsqr "+((m=a==null?void 0:a.header)==null?void 0:m.colorBox)}`,children:e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",type:"logo",src:(x=a==null?void 0:a.header)!=null&&x.logo?(d=a==null?void 0:a.header)==null?void 0:d.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{type:"title",children:(h=a==null?void 0:a.header)!=null&&h.title?(g=a==null?void 0:a.header)==null?void 0:g.title:""}),e.jsx("span",{type:"desc",children:(j=a==null?void 0:a.header)!=null&&j.desc?(u=a==null?void 0:a.header)==null?void 0:u.desc:""}),e.jsx("br",{}),e.jsx("br",{}),a.elements.map((o,v)=>e.jsxs("div",{className:"boxqr",children:[e.jsx("div",{className:"top",children:e.jsx("div",{className:"top-left",children:e.jsx("p",{id:v,type:"titlespace",children:o.title?o.title:""})})}),e.jsx(Ns.Carousel,{showThumbs:!1,showIndicators:!1,showStatus:!1,children:o.qrs.map((f,b)=>e.jsxs("div",{className:"qr",children:[e.jsx("img",{src:f.image}),e.jsx("p",{children:f.title})]}))}),o.qrs.length==0?e.jsx("div",{className:"add-qr",children:"+"}):""]}))]})})]})})})}function Mi(){const s=ee();i.useState();const{UserInfo:a}=i.useContext(H);function r(){var t;let n=new FormData;n.append("token",s.id),n.append("id_company",(t=a==null?void 0:a.company)==null?void 0:t.id_company),D.post(S+"/api/get/statbuttons",n,{withCredentials:!0})}return i.useEffect(()=>{r()},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Botonera: ",s.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu encuesta"})]})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Estadisticas de enlaces"})}),e.jsx("div",{className:"result countryr"})]})}),e.jsx("div",{className:"col-md-6",children:"lorem"})]})]})}function zi(){var d,h;const s=ee(),[a,r]=i.useState(!1),n=J(),{UserInfo:t}=i.useContext(H),[l,c]=i.useState({total_clicks:0,total_errors:0,total_reads:0,total_sends:0,last_sends:[],last_errors:[]}),[p,m]=i.useState({series:[{name:"Enviados",data:[]},{name:"Clicks",data:[]},{name:"Leidos",data:[]},{name:"Errores",data:[]}],chart:{height:350,type:"area"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{categories:[]},tooltip:{x:{format:"dd/MM/yy HH:mm"}}});function x(){var g;if(a){let j=new FormData;j.append("id_company",(g=t==null?void 0:t.company)==null?void 0:g.id_company),j.append("id_campaign",s.id),j.append("case","campaign"),D.post(S+"/api/get/stats",j,{withCredentials:!0}).then(u=>u.data).then(u=>{let o=u.daysResponse.length;c({...l,total_sends:u.total_sends,total_reads:u.total_reads,total_errors:u.total_errors,total_clicks:u.total_clicks,last_sends:u.last_sends,last_errors:u.last_errors,type_campaign:u.type_campaign}),o&&m(v=>({...v,series:[{...v.series[0],data:v.series[0].data.concat(u.daysResponse.map(f=>f.send))},{...v.series[1],data:v.series[1].data.concat(u.daysResponse.map(f=>f.clicks))},{...v.series[2],data:v.series[2].data.concat(u.daysResponse.map(f=>f.reads))},{...v.series[3],data:v.series[3].data.concat(u.daysResponse.map(f=>f.errors))}],xaxis:{...v.xaxis,categories:u.daysTotal}}))}).catch(u=>{})}}return i.useEffect(()=>{r(!0),a&&x()},[a]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Estadisticas de campaña: ",s==null?void 0:s.id]}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:g=>{n("/campaigns/detail/"+s.id)},children:e.jsx(Pe,{})})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Enviados"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:l.total_sends})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Clicks"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:l.total_clicks})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Leidos"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:l.total_reads})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Errores"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:l.total_errors})})]})})]}),e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Estadisticas Generales"}),e.jsx("span",{children:"ve las estadisticas de forma general y recorre por cada dia y mes"})]}),(h=(d=p==null?void 0:p.series[0])==null?void 0:d.data)!=null&&h.length?e.jsx(Ce,{options:p,series:p.series,type:"area",height:300}):""]}),e.jsxs("div",{className:"row container",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Analisis General"}),e.jsx("span",{children:"Analisis generales"})]}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Enviados:"})," ",l.total_sends]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Clicks:"})," ",l.total_clicks]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Leidos:"})," ",l.total_reads]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Errores:"})," ",l.total_errors]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Aceptacion General:"})," ",l.total_sends," %"]})})]}),e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimos Errores"}),e.jsx("span",{children:"Los ultimos errores registrados"})]}),e.jsxs("div",{className:"results",children:[l.last_errors.map((g,j)=>e.jsxs("div",{className:"item flex",children:[e.jsx("div",{children:e.jsx("span",{children:l.type_campaign=="em"?g.email:""})}),e.jsxs("div",{children:[e.jsx("button",{className:"status-send",children:e.jsx(ge,{})}),e.jsx("button",{className:`status-send ${g.error?"error":""}`,children:g.error?e.jsxs(e.Fragment,{children:["Error ",e.jsx(Ke,{})]}):e.jsxs(e.Fragment,{children:["Enviado  ",e.jsx(re,{})]})})]})]})),l.last_errors.length==0?e.jsx(e.Fragment,{children:e.jsx(ce,{name:"errores"})}):e.jsx("div",{className:"show-all",children:e.jsx("button",{onClick:g=>{n("/campaigns/stats/detail/"+s.id)},children:"Ver detalles completo"})})]})]})]}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimos Enviados"}),e.jsx("span",{children:"Los ultimos envios salientes"})]}),e.jsxs("div",{className:"results",children:[l.last_sends.map((g,j)=>e.jsxs("div",{className:"item flex",children:[e.jsx("div",{children:e.jsx("span",{children:l.type_campaign=="em"?g.email:""})}),e.jsx("div",{children:e.jsx("button",{className:`status-send ${g.error?"error":""}`,children:g.error?e.jsxs(e.Fragment,{children:["Error ",e.jsx(Ke,{})]}):e.jsxs(e.Fragment,{children:["Enviado  ",e.jsx(re,{})]})})})]})),l.last_sends.length==0?e.jsx(e.Fragment,{children:e.jsx(ce,{name:"errores"})}):e.jsx("div",{className:"show-all",children:e.jsx("button",{onClick:g=>{n("/campaigns/stats/detail/"+s.id)},children:" Ver detalles completo"})})]})]})})]})]})}function $i(){const s=J();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Segmentos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:a=>{s("/contacts/segments/add")},children:"Crear nuevo segmento"})})]})})}function Bi(){const[s,a]=i.useState(!1),[r,n]=i.useState([]),[t,l]=i.useState(!1),[c,p]=i.useState(!1),[m,x]=i.useState({domain:null}),{UserInfo:d}=i.useContext(H);function h(){var o;let u=new FormData;u.append("id_company",(o=d==null?void 0:d.company)==null?void 0:o.id_company),n([]),a(!0),l(!0),D.post(S+"/api/get/domains",u,{withCredentials:!0}).then(v=>v.data).then(v=>{n(v),a(!1),l(!1),p(!1)}).catch(v=>{a(!1)})}function g(){var o;let u=new FormData;u.append("domain",m.domain),u.append("id_company",(o=d==null?void 0:d.company)==null?void 0:o.id_company),wa(m.domain)?D.post(S+"/api/upload/domain",u,{withCredentials:!0}).then(v=>v.data).then(v=>{v.status&&h()}):Ie.error("Opps este dominio no es veridico.")}function j(u){let o=u.target.value,v=u.target.name;x({...m,[v]:o})}return i.useEffect(()=>{h()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(ae,{visible:c,Pending:t,callback:p,maxWidth:"450px",onClick:g,next:"Subir",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ingresar dominio"}),e.jsx("span",{children:"integra un nuevo dominio para utilizarlo en los envios de correo, recuerda que durara un tiempo en verificarse el dominio en nuestro servidor."})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Dominio:"}),e.jsx("input",{type:"url",onChange:j,name:"domain",placeholder:"mail.radarsystems.net"})]}),e.jsx("br",{})]},c?"xd":"xd2"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Dominios"}),e.jsx("span",{children:"Esta es tu lista de dominios que puedes utilizar en el envio de correos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:u=>{p(!0)},children:"Subir nuevo dominio"})})]}),e.jsxs("div",{className:"box box-padding",children:[r.map((u,o)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_link.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:u.domain}),e.jsx("p",{className:"desc",children:u.status?"Activo":"En verificacion..."}),e.jsx("span",{className:"desc",children:Ne(u.time_add)})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:v=>{},children:e.jsx(ge,{})}),e.jsx("button",{onClick:v=>{},children:e.jsx(U,{})})]})]})),s?e.jsx(de,{}):r.length==0?e.jsx("div",{className:"item",children:e.jsx(ce,{name:"dominios"})}):""]})]})}function Vi(){var o,v,f,b,A,_,T,E;const[s,a]=i.useState({type:void 0,map:{}}),[r,n]=i.useState({}),[t,l]=i.useState(!1),[c,p]=i.useState({name:"",desc:""}),{UserInfo:m}=i.useContext(H);function x(k){let R=k.target.name,P=k.target.value;a({...s,[R]:P})}function d(k){let R=k.target.name,P=k.target.value,N=k.target.getAttribute("action");switch(console.log(N),N){case"add":a(w=>({...w,map:{...w.map,[R]:P}}));break;case"push":a({...s,...s.map,[R]:P});break}}function h(){var R;let k=new FormData;k.append("id_company",(R=m==null?void 0:m.company)==null?void 0:R.id_company),D.post(S+"/api/get/list",k,{withCredentials:!0}).then(P=>P.data).then(P=>{n(N=>(N.lists=P,N))})}function g(k){k.preventDefault(),a(R=>{let P={...R};return P.map.wheres||(P.map.wheres=[]),P.map.wheres.push({[P.map.typeWhereContact]:P.formValue}),P})}function j(){var R;let k=new FormData;k.append("json",JSON.stringify(s)),k.append("id_company",(R=m==null?void 0:m.company)==null?void 0:R.id_company),k.append("name",c.name),k.append("desc",c.desc),D.post(S+"/api/upload/segments",k,{withCredentials:!0}).then(P=>P.data).then(P=>{console.log(P)})}function u(k){let R=k.target.name,P=k.target.value;R&&P&&p({...c,[R]:P})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Segmentos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",children:"Cancelar Creacion"})})]}),e.jsxs("div",{className:"segments-creator",children:[e.jsxs("form",{id:"form-segment",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Nombre"}),e.jsx("input",{type:"text",name:"name",onChange:u,placeholder:"Nombre del segmento"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Descripcion"}),e.jsx("input",{type:"text",name:"desc",onChange:u,placeholder:"Descripcion del segmento"})]}),e.jsxs("div",{className:"inputs",children:[e.jsxs("select",{id:"",name:"type",onChange:x,children:[e.jsx("option",{disabled:!0,selected:!0,children:"Selecciona un tipo"}),e.jsx("option",{value:"lists",children:"Listas"}),e.jsx("option",{value:"campaings",children:"Campañas"}),e.jsx("option",{value:"surveys",children:"Encuestas"})]}),s.type=="lists"?e.jsxs(e.Fragment,{children:[e.jsxs("select",{id:"",name:"type_lists",action:"add",onChange:d,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Selecciona..."}),e.jsx("option",{value:"all",children:"Todas las listas"}),e.jsx("option",{value:"where",children:"Lista Especifica"})]}),e.jsx("i",{children:"="}),(s==null?void 0:s.map.type_lists)=="all"?e.jsx(e.Fragment,{children:e.jsx("option",{value:""})}):((o=s==null?void 0:s.map)==null?void 0:o.type_lists)=="where"?e.jsxs(e.Fragment,{children:[h(),e.jsxs("select",{name:"lists",action:"add",id:"",onChange:d,children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"Selecciona la lista..."}),(v=r==null?void 0:r.lists)==null?void 0:v.map((k,R)=>e.jsx("option",{value:k.id_list,children:k.name}))]}),((f=s==null?void 0:s.map)==null?void 0:f.lists)>=1?e.jsxs("div",{className:"multiple",children:[e.jsxs("div",{className:"",children:[e.jsxs("select",{name:"typeWhereContact",action:"add",onChange:d,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Selecciona una condicion"}),e.jsx("option",{value:"email",children:"Correo"}),e.jsx("option",{value:"name",children:"Nombre"}),e.jsx("option",{value:"lastname",children:"Apellido"}),e.jsx("option",{value:"age",children:"Edad"}),e.jsx("option",{value:"country",children:"Pais"})]}),((b=s==null?void 0:s.map)==null?void 0:b.typeWhereContact)=="email"?e.jsxs("select",{name:"formValue",onChange:x,children:[e.jsx("option",{value:".es",children:".es"}),e.jsx("option",{value:".com",children:".com"}),e.jsx("option",{value:".net",children:".net"}),e.jsx("option",{value:".org",children:".org"}),e.jsx("option",{value:"gmail.com",children:"gmail.com"}),e.jsx("option",{value:"hotmail.com",children:"hotmail.com"}),e.jsx("option",{value:"hotmail.es",children:"hotmail.es"}),e.jsx("option",{value:"outlook.com",children:"outlook.com"}),e.jsx("option",{value:"outlook.es",children:"outlook.es"}),e.jsx("option",{value:"icloud.com",children:"icloud.com"})]}):"",["name","lastname","age","country"].includes((A=s==null?void 0:s.map)==null?void 0:A.typeWhereContact)&&e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",name:"formValue",onChange:x,placeholder:(_=s==null?void 0:s.map)==null?void 0:_.typeWhereContact})}),e.jsx("button",{className:"add-button",onClick:g,children:e.jsx($e,{})})]}),(E=(T=s==null?void 0:s.map)==null?void 0:T.wheres)==null?void 0:E.map((k,R)=>e.jsx("div",{children:Object.entries(k).map(([P,N])=>e.jsxs("div",{className:"where-contact",children:[e.jsxs("p",{children:[P," (Where)"]}),e.jsx("p",{children:N}),e.jsx("button",{children:e.jsx(U,{})})]},P))},R))]}):""]}):"",["name","lastname","age","country","state"].includes(s==null?void 0:s.type_where_now)&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",placeholder:s==null?void 0:s.type_where_now}),e.jsx("button",{children:e.jsx($e,{})})]})]}):""]})]}),e.jsxs("div",{className:"buttons-right",children:[e.jsx("button",{children:"Cancelar"}),e.jsxs("button",{className:`save ${t?"await":""}`,onClick:j,children:["Guardar ",e.jsx("div",{className:"loading"})]})]})]})]})}function ls(){return J(),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mi Home"}),e.jsx("span",{children:"Bienvenido a RadarSystems aca podras ver todas tus estadisticas y estados de tu cuenta"})]})}),e.jsx("div",{className:"body-stat",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Correos Enviados"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"1"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"SMS Enviados"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"12"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Campaigns Email"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"13"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Campaigns Sms"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"1"})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Top's Campaigns SMS"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]})})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Top's Campaigns SMS"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]})})})]})})]})}function Ii(){const s=J(),a=ee(),{UserInfo:r}=i.useContext(H);i.useState(null);const[n,t]=i.useState([]);function l(){var p;let c=new FormData;c.append("id_company",(p=r==null?void 0:r.company)==null?void 0:p.id_company),c.append("id_campaign",a.id),D.post(S+"/api/get/detailsends",c,{withCredentials:!0}).then(m=>m.data).then(m=>{t(m)})}return i.useEffect(()=>{l()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Estadisticas de campaña: ",a==null?void 0:a.id]}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"go-wizard",onClick:c=>{s("/campaigns/stats/"+a.id)},children:e.jsx(Pe,{})}),e.jsx("button",{className:"go-wizard",onClick:c=>{s("/campaigns/stats/"+a.id)},children:"Descargar CSV"}),e.jsx("button",{className:"go-wizard",onClick:c=>{s("/campaigns/stats/"+a.id)},children:"Descargar JSON"})]})]}),e.jsx("div",{className:"menu-top",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(L,{to:`/campaigns/stats/detail/${a.id}`,children:"General"})}),e.jsx("li",{children:e.jsx(L,{to:`/campaigns/stats/detail/${a.id}?where=error`,children:"Errores"})}),e.jsx("li",{children:e.jsx(L,{to:`/campaigns/stats/detail/${a.id}?where=clicks`,children:"Clicks"})}),e.jsx("li",{children:e.jsx(L,{to:`/campaigns/stats/detail/${a.id}?where=reads`,children:"Leidos"})})]})}),e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Resultados de busqueda"}),e.jsx("span",{children:"Te mostraremos el listado detallado de tus envios"})]}),e.jsx("div",{className:"control-scroll stats-detail",children:e.jsx("div",{className:"row",children:e.jsx(oa,{hasMore:!0,dataLength:10,children:n.map((c,p)=>e.jsx("div",{className:"item flex",children:e.jsx("div",{children:e.jsx("span",{children:c.email})})}))})})})]})]})}function Qi(){return e.jsxs(e.Fragment,{children:[e.jsx(ma,{}),e.jsx(pa,{children:e.jsxs(xa,{children:[e.jsx(B,{path:"/",element:e.jsx(ja,{})}),e.jsx(B,{path:"/register",element:e.jsx(ga,{})}),e.jsx(B,{path:"/wizard",element:e.jsx(Va,{})}),e.jsx(B,{path:"/settings-account/account",element:e.jsx(V,{CompanyNeed:!0,Element:pe})}),e.jsx(B,{path:"/settings-account/security",element:e.jsx(V,{CompanyNeed:!0,Element:pe})}),e.jsx(B,{path:"/settings-account/footer",element:e.jsx(V,{CompanyNeed:!0,Element:pe})}),e.jsx(B,{path:"/settings-account/domains",element:e.jsx(V,{CompanyNeed:!0,Element:pe})}),e.jsx(B,{path:"/",element:e.jsx(V,{CompanyNeed:!0,Element:ls})}),e.jsx(B,{path:"/home",element:e.jsx(V,{CompanyNeed:!0,Element:ls})}),e.jsx(B,{path:"/campaigns",element:e.jsx(V,{CompanyNeed:!0,Element:pe})}),e.jsx(B,{path:"/campaigns/em",element:e.jsx(V,{CompanyNeed:!0,Element:pe})}),e.jsx(B,{path:"/campaigns/sms",element:e.jsx(V,{CompanyNeed:!0,Element:pe})}),e.jsx(B,{path:"/campaigns/sms-mt",element:e.jsx(V,{CompanyNeed:!0,Element:pe})}),e.jsx(B,{path:"/campaigns/em-mt",element:e.jsx(V,{CompanyNeed:!0,Element:pe})}),e.jsx(B,{path:"/campaigns/new",element:e.jsx(V,{CompanyNeed:!0,Element:pe})}),e.jsx(B,{path:"/campaigns/stats/:id",element:e.jsx(V,{CompanyNeed:!0,Element:zi})}),e.jsx(B,{path:"/campaigns/stats/detail/:id",element:e.jsx(V,{CompanyNeed:!0,Element:Ii})}),e.jsx(B,{path:"/campaigns/detail/:id",element:e.jsx(V,{CompanyNeed:!0,Element:Xa})}),e.jsx(B,{path:"/companys",element:e.jsx(V,{CompanyNeed:!1,Element:Ze})}),e.jsx(B,{path:"/companys/add",element:e.jsx(V,{CompanyNeed:!1,Element:Ze})}),e.jsx(B,{path:"/companys/roles",element:e.jsx(V,{CompanyNeed:!0,Element:Ga})}),e.jsx(B,{path:"/companys/users",element:e.jsx(V,{CompanyNeed:!0,Element:Ja})}),e.jsx(B,{path:"/contacts/lists",element:e.jsx(V,{CompanyNeed:!0,Element:Ya})}),e.jsx(B,{path:"/contacts/detail/:id",element:e.jsx(V,{CompanyNeed:!0,Element:Ua})}),e.jsx(B,{path:"/contacts/upload/:id",element:e.jsx(V,{CompanyNeed:!0,Element:si})}),e.jsx(B,{path:"/contacts/segments",element:e.jsx(V,{CompanyNeed:!0,Element:$i})}),e.jsx(B,{path:"/contacts/segments/add",element:e.jsx(V,{CompanyNeed:!0,Element:Vi})}),e.jsx(B,{path:"/contacts",element:e.jsx(V,{CompanyNeed:!0,Element:Pi})}),e.jsx(B,{path:"/editor/canvas/:id",element:e.jsx(V,{CompanyNeed:!0,Element:Ue})}),e.jsx(B,{path:"/editor/canvas/",element:e.jsx(V,{CompanyNeed:!0,Element:Ue})}),e.jsx(B,{path:"/surveys",element:e.jsx(V,{CompanyNeed:!0,Element:ai})}),e.jsx(B,{path:"/surveys/editor",element:e.jsx(V,{CompanyNeed:!0,Element:es})}),e.jsx(B,{path:"/surveys/editor/:idsurvey",element:e.jsx(V,{CompanyNeed:!0,Element:es})}),e.jsx(B,{path:"/stats/survey/:id",element:e.jsx(V,{CompanyNeed:!0,Element:mi})}),e.jsx(B,{path:"/stats/survey/:id/detail",element:e.jsx(V,{CompanyNeed:!0,Element:pi})}),e.jsx(B,{path:"/stats/survey/:id/response",element:e.jsx(V,{CompanyNeed:!0,Element:xi})}),e.jsx(B,{path:"/surveys/preview",element:e.jsx(ss,{})}),e.jsx(B,{path:"/surveys/preview/:id",element:e.jsx(ss,{})}),e.jsx(B,{path:"/survey/:id",element:e.jsx(oi,{})}),e.jsx(B,{path:"/shorturls",element:e.jsx(V,{CompanyNeed:!0,Element:as})}),e.jsx(B,{path:"/shorturls/add",element:e.jsx(V,{CompanyNeed:!0,Element:as})}),e.jsx(B,{path:"/shorturls/:id",element:e.jsx(V,{CompanyNeed:!0,Element:ui})}),e.jsx(B,{path:"/shorturls/campaigns",element:e.jsx(V,{CompanyNeed:!0,Element:is})}),e.jsx(B,{path:"/shorturls/campaigns/add",element:e.jsx(V,{CompanyNeed:!0,Element:is})}),e.jsx(B,{path:"/shorturls/campaigns/:id",element:e.jsx(V,{CompanyNeed:!0,Element:ji})}),e.jsx(B,{path:"/qr",element:e.jsx(V,{CompanyNeed:!0,Element:ze})}),e.jsx(B,{path:"/qr/add",element:e.jsx(V,{CompanyNeed:!0,Element:ze})}),e.jsx(B,{path:"/qr/import",element:e.jsx(V,{CompanyNeed:!0,Element:ze})}),e.jsx(B,{path:"/domains",element:e.jsx(V,{CompanyNeed:!0,Element:Bi})}),e.jsx(B,{path:"/editor/buttons",element:e.jsx(V,{CompanyNeed:!0,Element:ts})}),e.jsx(B,{path:"/editor/buttons/:id",element:e.jsx(V,{CompanyNeed:!0,Element:ts})}),e.jsx(B,{path:"/buttons/:id",element:e.jsx(wi,{})}),e.jsx(B,{path:"/buttons",element:e.jsx(V,{CompanyNeed:!0,Element:Ai})}),e.jsx(B,{path:"/stats/buttons/:id",element:e.jsx(V,{CompanyNeed:!0,Element:Mi})}),e.jsx(B,{path:"/editor/buttonsqr",element:e.jsx(V,{CompanyNeed:!0,Element:ns})}),e.jsx(B,{path:"/editor/buttonsqr/:id",element:e.jsx(V,{CompanyNeed:!0,Element:ns})}),e.jsx(B,{path:"/buttonsqr",element:e.jsx(V,{CompanyNeed:!0,Element:Li})}),e.jsx(B,{path:"/buttonsqr/:id",element:e.jsx(Ri,{})}),e.jsx(B,{path:"/test",element:e.jsx(hi,{})}),e.jsx(B,{path:"/recovery",element:e.jsx(Fi,{})}),e.jsx(B,{path:"/editor/landings",element:e.jsx(qi,{})}),e.jsx(B,{path:"/landings",element:e.jsx(V,{CompanyNeed:!0,Element:Ti})}),e.jsx(B,{path:"/landing/:id",element:e.jsx(Oi,{})})]})})]})}const Wi=i.createContext(),Hi=s=>{const[a,r]=i.useState({});return e.jsx(Wi.Provider,{value:{App:a,setApp:r},...s})},Gi=i.createContext();function Ji(s){const[a,r]=i.useState();return i.useEffect(()=>{document.title=a},[a]),i.useEffect(()=>{r("Radarsystems - App")},[]),e.jsx(Gi.Provider,{value:{setTitle:r},...s})}ua.createRoot(document.getElementById("root")).render(e.jsx(ha.StrictMode,{children:e.jsx(ka,{children:e.jsx(Sa,{children:e.jsx(Hi,{children:e.jsx(Ji,{children:e.jsx(Qi,{})})})})})}));
