import{u as J,r as t,j as e,L as A,$ as E,a as k,n as M,I as js,b as Bs,c as We,d as Vs,e as Z,f as _e,g as we,h as ge,_ as Fe,i as Ws,k as Qs,M as le,V as Is,l as ze,m as Te,o as Hs,p as te,q as Gs,s as ts,A as Js,t as Xs,v as Ys,w as Ks,x as Zs,y as Us,z as ea,B as sa,C as ce,D as ke,E as Ne,F as aa,G as Ie,H as ta,J as ia,K as Pe,N as De,O as na,P as xe,Q as U,R as fe,S as ve,T as la,U as ca,W as ra,X as da,Y as gs,Z as oa,a0 as ma,a1 as pa,a2 as xa,a3 as ha,a4 as ua,a5 as Me,a6 as ja,a7 as ga,a8 as va,a9 as fa,aa as Le,ab as Ee,ac as vs,ad as Na,ae as fs,af as Ns,ag as ys,ah as Cs,ai as bs,aj as ws,ak as ks,al as Ss,am as _s,an as Es,ao as ya,ap as Fs,aq as Ca,ar as ba,as as wa,at as ka,au as Sa,av as is,aw as _a,ax as Ea,ay as Fa,az as Da,aA as Pa,aB as Ta,aC as La,aD as qa,aE as V,aF as Oa,aG as Aa}from"./vendor-607be3ef.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const d of n.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function c(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(i){if(i.ep)return;i.ep=!0;const n=c(i);fetch(i.href,n)}})();const w="https://api.radarsystems.net",Ae="https://radarsystems.net";function Ra(){let s=J();const[a,c]=t.useState({user:"",password:""});function l(n){n.stopPropagation(),n.preventDefault(),E(n.target).addClass("await"),a.password&&a.user?k.post(w+"/api/auth/login",a,{withCredentials:!0}).then(d=>d.data).then(d=>{d.status&&s("/home"),d.msg&&M.error(d.msg),E(n.target).removeClass("await")}).catch(d=>{M.error(String(d)),E(n.target).removeClass("await")}):E(n.target).removeClass("await")}function i(n){c({...a,[n.target.name]:n.target.value})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"row auth",children:[e.jsxs("div",{className:"col-auth-left",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"img/icons/logo-l1.png",alt:""})}),e.jsxs("div",{className:"align",children:[e.jsxs("span",{className:"title-welcome",children:["Bienvenido de nuevo. ",e.jsx("br",{})," Inicia ahora."]}),e.jsxs("span",{className:"text-register",children:["¿Aun no tienes cuenta?, ",e.jsx(A,{to:"/register",children:"Registrate ahora"})]}),e.jsxs("form",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Usuario"}),e.jsx("input",{type:"text",name:"user",onChange:i})]}),e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{children:["Password",e.jsx(A,{className:"forgot",to:"/recovery",children:"¿Olvidó?"})]}),e.jsx("input",{type:"password",name:"password",onChange:i})]}),e.jsx("span",{}),e.jsxs("button",{className:"sign",onClick:l,children:["INICIAR SESION ",e.jsx("div",{className:"loading"})]})]})]})]}),e.jsx("div",{className:"col-auth-right right",children:e.jsx("div",{className:"align",children:e.jsx("div",{className:"carousel",children:e.jsxs("div",{className:"item",children:[e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestiae perspiciatis nulla commodi accusamus. Reprehenderit, earum quibusdam laboriosam aliquam dolore ullam doloremque ratione possimus ex neque minus velit iste suscipit odit!"}),e.jsx("img",{src:"img/auth/People-welcome.png"})]})})})})]})})}function Ma(){const[s,a]=t.useState({user:"",email:"",password:"",rpassword:""});function c(i){i.stopPropagation();let n=i.target.name,d=i.target.value;a({...s,[n]:d})}function l(i){i.stopPropagation(),i.preventDefault(),E(i.target).addClass("await"),k.post(w+"/api/auth/register",s,{withCredentials:!0}).then(n=>n.data).then(n=>{n.msg&&M.error(n.msg),E(i.target).removeClass("await")}).catch(n=>{E(i.target).removeClass("await")})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"row auth",children:[e.jsxs("div",{className:"col-auth-left",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"img/icons/logo-l1.png",alt:""})}),e.jsxs("div",{className:"align",children:[e.jsxs("span",{className:"title-welcome",children:["Bienvenido.",e.jsx("br",{})," Registrate ahora!."]}),e.jsxs("span",{className:"text-register",children:["¿Opps ya tienes una cuenta?, ",e.jsx(A,{to:"/",children:"Ingresar"})]}),e.jsxs("form",{className:"form",onChange:c,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Usuario"}),e.jsx("input",{type:"text",name:"user"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo"}),e.jsx("input",{type:"text",name:"email"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Contraseña"}),e.jsx("input",{type:"password",name:"password"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Repite Contraseña"}),e.jsx("input",{type:"password",name:"rpassword"})]}),e.jsx("span",{}),e.jsxs("button",{className:"sign",onClick:l,children:["REGISTRARSE",e.jsx("div",{className:"loading"})]})]})]})]}),e.jsx("div",{className:"col-auth-right right",children:e.jsx("div",{className:"align",children:e.jsx("div",{className:"carousel",children:e.jsxs("div",{className:"item",children:[e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestiae perspiciatis nulla commodi accusamus. Reprehenderit, earum quibusdam laboriosam aliquam dolore ullam doloremque ratione possimus ex neque minus velit iste suscipit odit!"}),e.jsx("img",{src:"img/auth/People-welcome.png"})]})})})})]})})}async function $a(s){return await k.get(w+"/api/get/company?id_company="+s,{withCredentials:!0}).then(c=>c.data)}async function za(){return await k.post(w+"/api/get/companys",{},{withCredentials:!0}).then(s=>s.data)}function je(s){return window.location.pathname.includes(s)}function Re(s){let a=document.cookie;a=a.split(";");let c;return a.forEach((l,i)=>{l.indexOf(`${s}=`)>=0&&(c=l.replace(`${s}=`,""))}),c}function Be(s){E(s).addClass("await")}function ue(s){E(s).removeClass("await")}function ye(s=15){return Math.random().toString(36).substring(2,s+2)}function Ba(s,a){return new Promise((c,l)=>{try{let i=s.target.files[0],n={file:"",analize:""},d=new FileReader;d.onload=async function(x){let h=!0,p=x.currentTarget.result.split(`
`),o=p[0].split(","),u=!1;o.forEach(g=>{(g=="email"||g=="phone")&&(u=!0)}),u?await(async()=>{for(var v=1;v<p.length;v++){let r=o.length,m=p[v].split(",").length;r!==m&&(h=!1);let j=(v+1)/p.length*100;j%5===0&&await new Promise(f=>setTimeout(()=>{a(j),f()},0))}h?(n.analize="good",n.file=i,c(n)):(n.analize="bad",l(n))})():(n.analize="bad",l(n))},d.readAsText(i)}catch{response.analize="bad",l(response)}})}function He(s,a){return`${w}/api/get/imgtemplate?img=${a}&folder=${s}`}function ae(s){const a=new Date(s*1e3),c=a.getDate(),l=a.getMonth()+1,i=a.getFullYear();return`${c}/${l}/${i}`}function Ds(s){return s?s=String(s).toLowerCase():s="undefined",s=="undefined"?window.location.origin+"/img/icons/countrys/"+s+".png":window.location.origin+"/img/icons/countrys/"+s+".svg"}function Ps(s){let a;switch(s&&(s=String(s).toLocaleLowerCase()),s){case"ve":a="Venezuela";break;case"ca":a="Canada";break;default:a="Undefined";break}return a}function Va(s){return s!==void 0&&(s=String(s).toLowerCase()),(s.indexOf("mac")>=0||s.indexOf("apple")>=0)&&(s="apple"),s.indexOf("windows")>=0&&(s="windows"),s.indexOf("linux")>=0&&(s="linux"),s.indexOf("android")>=0&&(s="android"),s!=="windows"&&s!=="apple"&&s!=="android"&&s!=="linux"&&(s="undefined"),"/img/icons/systems/"+s+".png"}function Wa(s){return"/img/icons/apps/"+s+".png"}function Qe(s){return w+"/api/get/previewqr?url="+s}function Qa(s){return{fb:"Facebook",in:"Instagram",x:"X (Twitter)",email:"Correo",sms:"Sms",tik:"Tiktok",linkd:"Linkedin",yt:"Youtube",tele:"Telegram",ws:"Whatsapp",others:"Otros"}[s]||""}function Ia(s){return!!/^[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(s)}function Ge(s){var c,l;let a;return(c=s==null?void 0:s.company)!=null&&c.photo?a=w+"/api/get/photoprofile?hash="+((l=s==null?void 0:s.company)==null?void 0:l.photo):a="img/icons/default_profile.png",a}function Ha(s){return s>=1&&s<=9?"0"+s:s.toString()}function Ga(s,a){return s.length>a?s.substring(0,a)+"...":s}const G=t.createContext(),Ja=s=>{const[a,c]=t.useState({}),[l,i]=t.useState(!1),[n,d]=t.useState(!0);return t.useEffect(()=>{function x(){let h=Re("company"),p=new FormData;p.append("id_company",h),h&&k.post(w+"/api/get/company",p,{withCredentials:!0}).then(o=>o.data).then(o=>{c({...a,company:o[0]})})}(async function(){Re("token")&&await k.get(w+"/api/get/my",{withCredentials:!0}).then(p=>p.data).then(p=>{p.id_admin&&(i(!0),c(p),x(),d(!1))})})()},[]),e.jsx(G.Provider,{value:{UserInfo:a,setUserInfo:c,Auth:l,LoadingAuth:n},...s})},ie=t.createContext(),Xa=s=>{const[a,c]=t.useState(0),{Auth:l,UserInfo:i}=t.useContext(G),[n,d]=t.useState({type:"",company:"",loading:!0,process:{}});function x(u,g){switch(g){case"active":E(u).addClass("await");break;case"remove":E(u).removeClass("await");break}}function h(u,g){u.stopPropagation();let v=E(u.target);v.parents(".selector").find(".active").removeClass("active"),v.addClass("active"),g(u.target.value)}function p(u,g){u.stopPropagation();let v=E(u.target);v.parents(".items-result").find(".active").removeClass("active"),v.addClass("active"),g(E(u.target).attr("value"))}function o(){c(a-1)}return t.useEffect(()=>{l&&async function(){if(i.company_default){let u=await $a(i.company_default);d({...n,loading:!1,company:u})}else d({...n,loading:!1})}()},[l]),t.useEffect(()=>{d(u=>({...u,tutorial_wizard:i.tutorial_wizard}))},[i]),e.jsx(ie.Provider,{value:{Prev:o,wizard:n,SelectorItem:p,AwaitButton:x,Selector:h,setWizard:d,position:a,setPosition:c},...s})};function de({Next:s}){const{setPosition:a,position:c}=t.useContext(ie),{wizard:l,setWizard:i}=t.useContext(ie),[n,d]=t.useState({});function x(){a(c-1)}return t.useEffect(()=>{l.company&&d(l.company)},[l]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"buttons-action ",children:[(n==null?void 0:n.name)!==void 0?e.jsx(e.Fragment,{children:e.jsxs("button",{className:"button-company",children:[e.jsx("img",{src:"img/icons/default_profile.png",alt:""}),n.name]})}):"",e.jsx("button",{className:"prev",onClick:x,children:"<"}),e.jsxs("button",{className:"next",onClick:s,children:["Siguiente ",e.jsx("div",{className:"loading"})]})]})})}function Ya(){function s(){}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left"}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Subir contactos"}),e.jsx("span",{className:"desc",children:"Sube tus contactos a la lista."})]}),e.jsx("div",{}),e.jsx(de,{Next:s})]})]})})}function Ka(){const{wizard:s,setWizard:a,setPosition:c,AwaitButton:l}=t.useContext(ie),[i,n]=t.useState(!1),[d,x]=t.useState({name:""});function h(o){if(i)c(u=>u+1);else{l(o.target,"active");let u=new FormData;u.append("name",d.name),u.append("id_company",s.company.id_company),s.type=="email"?u.append("type_c","email"):s.type=="sms"&&u.append("type_c","sms"),k.post(w+"/api/upload/list",u,{withCredentials:!0}).then(g=>g.data).then(g=>{g.status&&(M.success("Lista creada existosamente!"),c(v=>v+1),n(!0),g.id_list&&a(v=>({...v,process:{...v.process,id_list:g.id_list}}))),g.msg&&M.error(g.msg),l(o.target,"remove")}).catch(g=>{M.error(""+g),l(o.target,"remove")})}}function p(o){x(u=>({...u,[o.target.name]:o.target.value}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Nueva lista"}),e.jsx("img",{src:"img/icons/lists.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crear lista"}),e.jsx("span",{className:"desc",children:"Crea una nueva lista y luego ingresa los contactos"})]}),e.jsx("div",{className:"form",children:e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",name:"name",placeholder:"Nombre de lista",onChange:p})})}),e.jsx(de,{Next:h})]})]}),i==!0?e.jsx(Ya,{}):""]})}function Za(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Welcome"}),e.jsx("img",{src:"/img/icons/email-alert.png",alt:""})]})}),e.jsx("div",{className:"right",children:e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"titel",children:"Seleccionar lista"}),e.jsx("span",{className:"desc",children:"Selecciona una lista para integrarla a la campaign que has elegido."})]})})]})})}function Ua(){const{Selector:s,setPosition:a}=t.useContext(ie),[c,l]=t.useState();function i(d){l(d)}function n(){(c=="new"||c=="select")&&a(d=>d+1)}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elegir lista"}),e.jsx("img",{src:"img/icons/wizard-contacts.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu lista"}),e.jsx("span",{className:"desc",children:"Desde aqui puedes elegir rapidamente una lista de contactos, subirla o subirlos manualmente."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"select",onClick:d=>{s(d,i)},children:"Seleccionar de una lista"}),e.jsx("button",{value:"new",onClick:d=>{s(d,i)},children:"Crear una nueva lista"})]}),e.jsx(de,{Next:n})]})]}),c=="new"?e.jsx(Ka,{}):c=="select"?e.jsx(Za,{}):""]})}function et(){function s(){}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left"}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Hola"}),e.jsx("span",{className:"desc",children:"hola"})]}),e.jsx(de,{Next:s})]})]})})}function st(){const{wizard:s,setWizard:a,AwaitButton:c}=t.useContext(ie),[l,i]=t.useState(!1),n=J();function d(h){c(h.target,"active");let p=new FormData;i("pending"),p.append("id_campaign",s.process.id_campaign),p.append("email",s.process.email),p.append("str_affair",s.process.affair),p.append("str_body",s.process.body),p.append("id_company",s.company.id_company),k.post(w+"/api/send/mt",p,{withCredentials:!0}).then(o=>o.data).then(o=>{c(h.target,"remove"),o.status&&(i(!0),s.tutorial_wizard&&setTimeout(()=>{k.get("/api/get/tutowizard",{withCredentials:!0}),n("/home")},2e3)),o.msg&&M.error(o.msg)}).catch(o=>{c(h.target,"remove")})}function x(h){d(h)}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option active",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Detalles de envio"}),e.jsx("img",{src:"img/icons/send-email2.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Envio de campaign"}),e.jsx("span",{className:"desc",children:"Enhora buena! Has llegado al ultixmo paso."})]}),e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Previsualizacion del envio"}),e.jsx("div",{className:"structure",children:e.jsxs("ul",{children:[e.jsxs("li",{children:["Correo para: ",e.jsx("b",{children:s.process.email})]}),e.jsxs("li",{children:["Asunto: ",e.jsx("b",{children:s.process.affair})]}),e.jsxs("li",{children:["Bajo la compania: ",e.jsx("b",{children:s.company.name})]}),e.jsxs("li",{children:["Status de envio: ",l==!1?e.jsxs("i",{className:"text-yellow",children:[e.jsx(js,{})," En espera de confirmacion..."]}):l=="pending"?e.jsxs("i",{children:[e.jsx(Bs,{})," Enviando..."]}):l==!0?e.jsxs("i",{className:"success",children:[e.jsx(We,{})," Enviado"]}):""]})]})})]}),e.jsx(de,{Next:x})]})]})})}function at(){const{setWizard:s,setPosition:a}=t.useContext(ie),[c,l]=t.useState(),[i,n]=t.useState(!1);function d(){c?(a(x=>x+1),s(x=>({...x,process:{...x.process,email:c}})),n(!0)):M.error("Opps! No has proporcionado un correo valido")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elegir correo"}),e.jsx("img",{src:"img/icons/email-2.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Asignar el correo"}),e.jsx("span",{className:"info",children:"Elige el correo al cual se le enviara este email."})]}),e.jsx("div",{className:"form",children:e.jsx("div",{className:"form-input",children:e.jsx("input",{placeholder:"Correo electronico",type:"email",onChange:x=>{l(x.target.value)}})})}),e.jsx(de,{Next:d})]})]}),i==!0?e.jsx(st,{}):""]})}function tt(){const{setPosition:s,wizard:a,setWizard:c}=t.useContext(ie),[l,i]=t.useState({status:!1,preview:!1,isHtml:!1,file:{},preview_html:"",affair:"",vars:[]});function n(){l.affair?l.preview_html?(c(v=>({...v,process:{...v.process,body:l.preview_html,affair:l.affair,vars:l.vars}})),s(v=>v+1),i(v=>({...v,status:!0}))):M.error("No tienes ningun formato html asignado."):M.error("Opps has dejado el asunto vacio.")}function d(v){let r=v.target.files[0];if(r.type=="text/html"){i(j=>({...l,file:r}));let m=new FileReader;m.onload=function(j){i(f=>({...f,preview_html:j.target.result}))},m.readAsText(r)}}function x(){i(v=>({...v,preview:!0}))}function h(){i(v=>({...v,preview_html:"",preview:!1,file:{}})),document.querySelector(".option.active input[type='file']").value=""}function p(){i(v=>({...v,preview:!1}))}function o(v){i(r=>({...r,affair:v.target.value}))}function u(v){let m=E(v.target).parents(".form-input").find("input"),j=m.val();l.vars.length<8&&(i(f=>({...f,vars:[...f.vars,j]})),m.val(""))}function g(v){let r=v.target.value;i(m=>({...m,vars:m.vars.filter(j=>j!==r)}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[l.preview==!1?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Personaliza tu frontend"}),e.jsx("img",{src:"img/icons/frontend.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Personalizar body"}),e.jsx("span",{className:"desc",children:"Personaliza tu body para tu envio"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"xd",children:"Este campo es especial, dale click al signo de interrogacion para ver sus funcionalidades."}),e.jsx("input",{type:"text",placeholder:"Asunto",onChange:o})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"xd",children:"Estas variables se enviaran en forma organizada, es decir desde el principio al fin. y deben de ser interpretadas en su archivo .html con un $1,$2."}),e.jsxs("div",{className:"special",children:[e.jsx("input",{type:"text",placeholder:"Variables",onChange:o}),e.jsx("button",{className:"action",onClick:u,children:"Agregar"})]}),e.jsx("div",{className:"tags",children:l.vars.map((v,r)=>e.jsx("button",{onClick:g,value:v,children:v},r))})]}),e.jsx("div",{className:"buttons",children:l.file.type=="text/html"?e.jsxs("div",{className:"file-on",children:[e.jsxs("span",{className:"name-file",children:[e.jsx(Vs,{})," ",l.file.name]}),e.jsx("button",{className:"remove",onClick:h,children:e.jsx(Z,{})})]}):e.jsxs("button",{onClick:v=>{document.querySelector(".option.active input[type='file']").click()},children:[e.jsx(_e,{})," Subir Archivo"]})})]}),e.jsx("div",{className:"buttons",children:l.file.type!=="text/html"?e.jsx("button",{children:"Editor html"}):e.jsx("button",{onClick:x,children:"Vista previa"})}),e.jsx(de,{Next:n})]})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"preview-html",children:[e.jsxs("div",{className:"actions-preview",children:[e.jsx("button",{className:"left",onClick:p,children:e.jsx(we,{})}),e.jsx("button",{className:"left",onClick:h,children:e.jsx(Z,{})}),e.jsx("div",{className:"right-preview",children:e.jsxs("button",{className:"upload-new",onClick:v=>{document.querySelector(".option.active input[type='file']").click()},children:[e.jsx(_e,{})," Subir nuevo archivo"]})})]}),e.jsx("div",{className:"preview",dangerouslySetInnerHTML:{__html:l.preview_html}})]})}),e.jsx("input",{type:"file",accept:".html",onChange:d,hidden:!0})]}),l.status==!0?e.jsx(at,{}):""]})}function it(){const{Selector:s,setPosition:a}=t.useContext(ie),[c,l]=t.useState();function i(){(c=="new"||c=="select")&&a(d=>d+1)}function n(d){l(d)}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Selecciona la plantilla"}),e.jsx("img",{src:"img/icons/body-html.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Selecciona tu estructura"}),e.jsx("span",{className:"desc",children:"Selecciona la estructura de correo que usaras para enviar esta campaign"})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"new",onClick:d=>{s(d,n)},children:"Crear un body"}),e.jsx("button",{value:"select",onClick:d=>{s(d,n)},children:"Ya tengo uno"})]}),e.jsx(de,{Next:i})]})]}),c=="new"?e.jsx(tt,{}):c=="select"?e.jsx(et,{}):""]})}function Ts(){const{Selector:s,setWizard:a,setPosition:c,position:l}=t.useContext(ie),[i,n]=t.useState();function d(){i!==void 0||i!==""?c(l+1):M.error("!Opps no has seleccionado el tipo de envio")}function x(h){n(h),a(p=>({...p,process:{...p.process,type_send:h}}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Selecciona el tipo"}),e.jsx("img",{src:"img/icons/send-type.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige el tipo de envio"}),e.jsx("span",{className:"desc",children:"Aca tienes que elegir que tipo de envio quieres que sea. Es decir, puedes elegir entre un envio "})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"masive",onClick:h=>{s(h,x)},children:"Envíos de campañas masivas"}),e.jsx("button",{value:"ind",onClick:h=>{s(h,x)},children:"Envio Individual"})]}),e.jsx(de,{Next:d})]})]}),i=="ind"?e.jsx(it,{}):i=="masive"?e.jsx(Ua,{}):""]})}function nt(){const[s,a]=t.useState({name:"",ocation:"",id_company:""}),{AwaitButton:c,wizard:l,Prev:i,position:n,setPosition:d}=t.useContext(ie);t.useState(!1);const[x,h]=t.useState(!0);function p(u){c(u.target,"active");let g=new FormData;g.append("name",s.name),g.append("ocation",s.ocation),g.append("id_company",s.id_company),l.type=="email"&&g.append("type_c","em"),l.type=="sms"&&g.append("type_c","sms"),k.post(w+"/api/upload/campaign",g,{withCredentials:!0}).then(v=>v.data).then(v=>{v.msg&&M.error(v.msg),v.status&&d(n+1),c(u.target,"remove")}).catch(v=>{c(u.target,"remove")})}function o(u){a({...s,[u.target.name]:u.target.value})}return t.useEffect(()=>{a({...s,id_company:l.company.id_company})},[l]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Una nueva aventura!"}),e.jsx("img",{src:"img/icons/new-campaign.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crea una nueva campaña"}),e.jsx("span",{className:"desc",children:"Para crear una nueva campaña necesitas informacion basica para darle un nombre y un objetivo a tu campaña."})]}),e.jsxs("div",{className:"form",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",name:"name",placeholder:"Titulo de campaña",onChange:o})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"ocation",id:"",onChange:o,children:[e.jsx("option",{value:"default",children:"Por defecto"}),e.jsx("option",{value:"email",children:"Cumpleaños"})]})})]}),e.jsxs("div",{className:"buttons-action ",children:[e.jsx("button",{className:"prev",onClick:i,children:"<"}),e.jsxs("button",{className:"next",onClick:p,children:["Siguiente ",e.jsx("div",{className:"loading"})]})]})]})]}),x==!0?e.jsx(Ts,{}):""]})}function Ls({loading:s}){return e.jsx(e.Fragment,{children:s==!0?e.jsx("div",{className:"wizard-loading-circle"}):""})}function lt(){const{setPosition:s,setWizard:a,wizard:c,SelectorItem:l}=t.useContext(ie),[i,n]=t.useState(!0),[d,x]=t.useState(),[h,p]=t.useState([]);function o(){d>=1?s(g=>g+1):Fe.error("!Opps no has seleccionado una campaign")}function u(g){a(v=>({...v,process:{...v.process,id_campaign:g}})),x(g)}return t.useEffect(()=>{let g=new FormData;g.append("id_company",c.company.id_company),k.post(w+"/api/get/campaign",g,{withCredentials:!0}).then(v=>v.data).then(v=>{p(v.results),n(!1)}).catch(v=>{n(!1)})},[]),t.useEffect(()=>{console.log(c)},[c]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elige tu campaña"}),e.jsx("img",{src:"img/icons/wizard-selectcampaign.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu campaña"}),e.jsx("span",{className:"desc",children:"Selecciona rapidamente una de tus campañas para seguir al siguiente paso."})]}),e.jsxs("div",{className:"items-result",children:[h.map((g,v)=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"item select",value:g.id_campaign,onClick:r=>{l(r,u)},children:[e.jsx("img",{src:"img/icons/campaign_profile.png",alt:""}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:g.name}),e.jsxs("span",{children:["Creada el ",g.time_add]}),e.jsx("div",{className:"circle",children:e.jsx("i",{children:e.jsx(ge,{})})})]})]})})),e.jsx(Ls,{loading:i})]}),e.jsx(de,{Next:o})]})]}),Number(d)=="NaN"?e.jsx(Ts,{}):""]})}function ns(){const[s,a]=t.useState({campaign:"",campaign_name:"",actions:{campaign:""}}),{Selector:c,Prev:l,position:i,setPosition:n}=t.useContext(ie);function d(){x()}function x(){let p=!1;switch(i){case 2:s.actions.campaign=="new"||s.actions.campaign=="select"?p=!0:M.error("Opps no has seleccionado nada.");break}p&&n(i+1)}function h(p){a({...s,actions:{campaign:p}})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",style:{display:"none"},children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Campañas"}),e.jsx("img",{src:"img/icons/email-alert.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu campana"}),e.jsx("span",{className:"desc",children:"Crea tu campana rapidamente solamente eligiendo un nombre y ajustandola a tus preferencias. Tambien puedes reutilizar alguna campana antigua."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"new",onClick:p=>{c(p,h)},children:"Crear una nueva"}),e.jsx("button",{value:"select",onClick:p=>{c(p,h)},children:"Ya tengo una"})]}),e.jsx(de,{Next:d})]})]}),s.actions.campaign=="new"?e.jsx(nt,{}):e.jsx(lt,{})]})}function oe({color:s,fn:a}){function c(l){l.stopPropagation();let i=E(l.target),n=i.parents(".colors");i.parents(".colors").find(".active").removeClass("active"),i.addClass("active"),n.find("button").css({opacity:"0.5"}),i.css({opacity:"1"})}return e.jsx(e.Fragment,{children:e.jsx("button",{className:"option-color",style:{background:s},value:s,onClick:l=>{a(l.target.value),c(l)}})})}function ct(){const{Prev:s,AwaitButton:a,setPosition:c}=t.useContext(ie),[l,i]=t.useState({name:"",type:"",color:"",default:"false"});function n(h){i({...l,color:h})}function d(h){let p=h.target.value,o=h.target.name;i({...l,[o]:p})}function x(h){l.name&&l.type&&l.color?(a(h.target,"active"),k.post(w+"/api/upload/company",l,{withCredentials:!0}).then(p=>p.data).then(p=>{a(h.target,"remove"),p.status&&(M.success("Company creada con exito"),c(1),E("button.active").removeClass("active")),p.msg&&M.error(p.msg)}).catch(p=>{a(h.target,"remove")})):M.error("Opps no has terminado los campos")}return e.jsx(e.Fragment,{children:status==!1?e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Nuevas ideas!"}),e.jsx("img",{src:"img/icons/cohete-men.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crear empresa"}),e.jsx("span",{className:"desc",children:"Personaliza tu empresa, con colores u imagen para poder identificarla si tienes otras empresas por registrar. Elige un nombre y comienza!"})]}),e.jsxs("div",{className:"form",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de empresa",name:"name",onChange:d})}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{htmlFor:"",children:"Tipo de empresa"}),e.jsx("select",{name:"type",id:"",onChange:d})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{children:"Elige un color"}),e.jsx("span",{className:"desc",children:"El color te ayudara a identificar tu empresa."}),e.jsxs("div",{className:"colors",children:[e.jsx(oe,{color:"#2e56ff",fn:n}),e.jsx(oe,{color:"#57c583",fn:n}),e.jsx(oe,{color:"#3fcae9",fn:n}),e.jsx(oe,{color:"#e9d43f",fn:n}),e.jsx(oe,{color:"#d77613",fn:n}),e.jsx(oe,{color:"#c069cb",fn:n}),e.jsx(oe,{color:"#cb6992",fn:n})]})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{children:"Seleccionar como predeterminada"}),e.jsx("span",{className:"desc",children:"Si la eliges como predeterminada automaticamente se usara sin necesidad de seleccionarla."}),e.jsx("br",{}),e.jsxs("select",{name:"default",id:"",onChange:d,children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Si"})]})]})]}),e.jsx(de,{Prev:s,Next:x})]})]}):e.jsx(e.Fragment,{})})}function rt(){const{wizard:s,setWizard:a,setPosition:c}=t.useContext(ie),[l,i]=t.useState([]),[n,d]=t.useState(!0);function x(){}t.useEffect(()=>{(async function(){i(await za()),d(!1)})()},[]),t.useEffect(()=>{s.company},[s]);function h(p,o){p.stopPropagation();let u=l[o];u.id_company&&(c(1),a({...s,company:u}))}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Usa tu empresa"}),e.jsx("img",{src:"img/icons/hot-company.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige una empresa"}),e.jsx("span",{children:"Elige una de las empresar anteriormente creadas."})]}),e.jsxs("div",{className:"companys",children:[l.map((p,o)=>e.jsxs("div",{className:"company",children:[e.jsx("img",{className:"photo-profile",src:"img/icons/default_profile.png",alt:""}),e.jsxs("span",{className:"title",children:[p.name," ",e.jsx("span",{className:"color",style:{background:p.color}})]}),e.jsx("button",{className:"use",onClick:u=>{h(u,o)},children:"Usar"})]},o)),e.jsx(Ls,{loading:n})]}),e.jsx(de,{Next:x})]})]})})}function dt(){const[s,a]=t.useState({action:""}),{Selector:c,Prev:l,position:i,setPosition:n}=t.useContext(ie);function d(p){a({...s,action:p})}function x(){h()}function h(){let p=!1;switch(s.action){case"go":p=!0;break;case"new":p=!0;break}p?n(i+1):M.error("No has seleccionado ninguna opcion.")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Tu empresa"}),e.jsx("img",{src:"img/icons/hot-company.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:" Elige tu empresa"}),e.jsx("span",{className:"desc",children:"Debes elegir tu empresa para comenzar, o tambien podrias crear una empresa nueva. Estas empresas tendran (estadisticas,contactos,envios) totalmente autonomos."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{onClick:p=>{c(p,d)},value:"go",children:"Ya tengo una"}),e.jsx("button",{onClick:p=>{c(p,d)},value:"new",children:"Crear una nueva"})]})}),e.jsx(de,{Prev:l,Next:x})]})]}),s.action=="new"?e.jsx(ct,{}):e.jsx(rt,{})]})}function ot(){return e.jsx(e.Fragment,{children:"xd"})}function mt(){const{position:s,setPosition:a,wizard:c,setWizard:l,Selector:i,Prev:n}=t.useContext(ie);function d(){x()}function x(){let o=!1;switch(s){case 0:o=!0;break;case 1:if(c.type)switch(c.type){case"email":c.company?o=!0:M.error("No tienes una empresa seleccionada.");break;case"sms":c.company?o=!0:M.error("No tienes una empresa seleccionada.");break;default:o=!0;break}else M.error("No has seleccionado ninguna opcion");break}o&&a(s+1)}function h(o){l({...c,type:o})}t.useEffect(()=>{E(".wizard .option.active").removeClass("active"),E(".wizard .option").eq(s).addClass("active")},[s]);const p={email:e.jsx(ns,{}),sms:e.jsx(ns,{}),verifiedEmail:e.jsx(ot,{})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"wizard",children:e.jsxs("div",{className:"body",children:[c.loading?e.jsx("div",{className:"wizard-loading",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{className:"logo-center",src:"img/icons/logo-l1.png",alt:""}),e.jsx("div",{className:"line"})]})}):e.jsx(e.Fragment,{}),e.jsxs("div",{className:"options",children:[e.jsxs("div",{className:"option center active",children:[e.jsxs("div",{className:"center",children:[e.jsx("img",{className:"logo-center",src:"img/icons/logo-l1.png",alt:""}),e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Welcome to RadarSystems"}),e.jsx("span",{className:"desc",children:"Hola este wizard te ayudara a armar tu primera campaign de emails / sms te, te mostraremos paso por paso como hacer lo que necesitas."})]}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"",id:"",children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"Seleccionar Idioma"}),e.jsx("option",{value:"",children:"Espanol"}),e.jsx("option",{value:"",children:"Ingles"})]})})]}),e.jsx("div",{className:"buttons-action ",children:e.jsx("button",{className:"next",onClick:d,children:"Comenzar"})})]}),c.company==""?e.jsx(dt,{}):e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Empezemos ahora"}),e.jsx("img",{src:"img/icons/wizard-help.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"¿Qué necesitas?"}),e.jsx("span",{children:"Puedes hacer diferentes acciones en la que podemos ayudarte mediante este wizard. Elige cual es de tu interes, asi podremos ayudarte facilmente."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{onClick:o=>{i(o,h)},value:"ac",children:"Elegir Empresa"}),e.jsx("button",{onClick:o=>{i(o,h)},value:"email",children:"Campañas de Correos"}),e.jsx("button",{onClick:o=>{i(o,h)},value:"sms",children:"Campañas de Sms"}),e.jsx("button",{className:c.tutorial_wizard==!0?"opacity-tutorial":"",onClick:o=>{i(o,h)},value:"vemail",children:"Verificador de Correos"}),e.jsx("button",{className:c.tutorial_wizard==!0?"opacity-tutorial":"",onClick:o=>{i(o,h)},value:"ac",children:"Acortador de Url"})]}),e.jsx(de,{Prev:n,Next:d})]})]}),p[c.type]]})]})})})}function pt(){const{UserInfo:s}=t.useContext(G),[a,c]=t.useState(),l=J();t.useEffect(()=>{s.company_default==null&&s.company==null&&c(!0),s.company!==void 0&&c(!1)},[s]);function i(n){n.stopPropagation();let d=E(n.target),x=d.parents("li"),h=d.parents("li").find("ul"),p=E(".header-left").find("button.active"),o=E(".header-left").find("ul.active");p.parents("li").index()!==x.index()?(o.slideToggle(),o.removeClass("active"),p.removeClass("active"),d.addClass("active"),h.addClass("active"),h.slideToggle()):(p.removeClass("active"),o.removeClass("active"),o.slideToggle())}return Re("token")||l("/"),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"header-left",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"/img/icons/logo.png",alt:""})}),e.jsxs("ul",{children:[e.jsx("li",{className:a?"opacity":"",children:e.jsxs("button",{onClick:n=>{l("/home")},children:[e.jsx("i",{className:"icon",children:e.jsx(Ws,{})})," Home ",e.jsx("i",{className:"arrow"})]})}),e.jsxs("li",{children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(Qs,{})})," Configuracion ",e.jsx("i",{className:"arrow",children:e.jsx(le,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(A,{to:"/settings-account/account",children:"Cuenta"})}),e.jsx("li",{children:e.jsx(A,{to:"/settings-account/security",children:"Seguridad"})}),e.jsx("li",{children:e.jsx(A,{to:"/settings-account/footer",children:"Footer"})}),e.jsx("li",{children:e.jsx(A,{to:"/settings-account/domains",children:"Dominios"})})]})]}),e.jsxs("li",{className:a?"opacity":"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(Is,{})})," Herramientas ",e.jsx("i",{className:"arrow",children:e.jsx(le,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(A,{to:"/editor/canvas",children:"Editor Canvas"})}),e.jsx("li",{children:e.jsx(A,{to:"/editor/buttons",children:"Editor Botonera"})})]})]}),e.jsxs("li",{children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(ze,{})})," Cuentas ",e.jsx("i",{className:"arrow",children:e.jsx(le,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(A,{to:"/companys",children:"Mis Cuentas"})}),e.jsx("li",{children:e.jsx(A,{to:"/companys/add",children:"Crear Cuenta"})})]})]}),e.jsxs("li",{className:a?"opacity":"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(Te,{})})," Recordatorios ",e.jsx("i",{className:"arrow",children:e.jsx(le,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(A,{to:"/campaigns",children:"Email "})}),e.jsx("li",{children:e.jsx(A,{to:"/campaigns",children:"Sms"})}),e.jsx("li",{children:e.jsx(A,{to:"/campaigns/new",children:"Mixto"})})]})]}),e.jsxs("li",{className:a?"opacity":"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(Te,{})})," Campañas ",e.jsx("i",{className:"arrow",children:e.jsx(le,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(A,{to:"/campaigns/em",children:"Email Marketing"})}),e.jsx("li",{children:e.jsx(A,{to:"/campaigns/em-mt",children:"Email MT"})}),e.jsx("li",{children:e.jsx(A,{to:"/campaigns/sms",children:"SMS Marketing"})}),e.jsx("li",{children:e.jsx(A,{to:"/campaigns/sms-mt",children:"SMS MT"})}),e.jsx("li",{children:e.jsx(A,{to:"/campaigns/new",children:"Crear Campana"})})]})]}),e.jsxs("li",{className:a?"opacity":"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(Hs,{})})," Listas ",e.jsx("i",{className:"arrow",children:e.jsx(le,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(A,{to:"/contacts",children:"Mis Contactos"})}),e.jsx("li",{children:e.jsx(A,{to:"/contacts/lists",children:"Mis Listas"})}),e.jsx("li",{children:e.jsx(A,{to:"/contacts/lists/email",children:"Listas Correo"})}),e.jsx("li",{children:e.jsx(A,{to:"/contacts/lists/sms",children:"Listas Mensajeria"})}),e.jsx("li",{children:e.jsx(A,{to:"/contacts/lists/ws",children:"Listas Whatsapp"})}),e.jsx("li",{children:e.jsx(A,{to:"/contacts/segments",children:"Segmentos"})})]})]}),e.jsxs("li",{className:a?"opacity":"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(js,{})})," Automatizacion ",e.jsx("i",{className:"arrow",children:e.jsx(le,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(A,{children:"WorkFlow"})}),e.jsx("li",{children:e.jsx(A,{children:"Programacion"})}),e.jsx("li",{children:e.jsx(A,{children:"Auto-Responders"})})]})]}),e.jsxs("li",{className:a?"opacity":"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(te,{})})," Estadisticas ",e.jsx("i",{className:"arrow",children:e.jsx(le,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{to:"/stats/campaign",children:e.jsx(A,{children:"Email Marketing"})}),e.jsx("li",{to:"/stats/campaign",children:e.jsx(A,{children:"Email MT"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(A,{children:"Sms Marketing"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(A,{children:"Sms MT"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(A,{children:"Encuestas"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(A,{children:"Botonera QR"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(A,{children:"Botonera URL"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(A,{children:"Medusa"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(A,{children:"Landings"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(A,{children:"Google Analytics"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(Gs,{})})," Encuestas ",e.jsx("i",{className:"arrow",children:e.jsx(le,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(A,{to:"/surveys",children:"Mis Encuestas"})}),e.jsx("li",{children:e.jsx(A,{to:"/surveys/editor",children:"Crear Encuesta"})}),e.jsx("li",{children:e.jsx(A,{to:"/surveys",children:"Plantillas"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(ts,{})})," Boletines Electronicos ",e.jsx("i",{className:"arrow",children:e.jsx(le,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(A,{to:"/templates",children:"Mis Boletines"})}),e.jsx("li",{children:e.jsx(A,{to:"/editor/canvas",children:"Crear Boletin"})}),e.jsx("li",{children:e.jsx(A,{to:"/landings",children:"Plantillas"})}),e.jsx("li",{children:e.jsx(A,{to:"/landings",children:"Plantillas IA"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(ts,{})})," Landings Page ",e.jsx("i",{className:"arrow",children:e.jsx(le,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(A,{to:"/landings",children:"Mis Landings"})}),e.jsx("li",{children:e.jsx(A,{to:"/editor/landings",children:"Crear Landings"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(Js,{})})," Medusa ",e.jsx("i",{className:"arrow",children:e.jsx(le,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(A,{to:"/shorturls/campaigns",children:"Mis Campañas"})}),e.jsx("li",{children:e.jsx(A,{to:"/shorturls/campaigns/add",children:"Crear Campana"})}),e.jsx("li",{children:e.jsx(A,{to:"/shorturls",children:"Mis Enlaces"})}),e.jsx("li",{children:e.jsx(A,{to:"/shorturls/add",children:"Crear Enlace"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(Xs,{})})," Botonera QR ",e.jsx("i",{className:"arrow",children:e.jsx(le,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(A,{to:"/qr",children:"Mis Qr's"})}),e.jsx("li",{children:e.jsx(A,{to:"/qr/add",children:"Crear QR"})}),e.jsx("li",{children:e.jsx(A,{to:"/qr/import",children:"Importar QR"})}),e.jsx("li",{children:e.jsx(A,{to:"/buttonsqr",children:"Botoneras QR"})}),e.jsx("li",{children:e.jsx(A,{to:"/editor/buttonsqr",children:"Crear Botonera QR"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(Ys,{})})," Botonera URL ",e.jsx("i",{className:"arrow",children:e.jsx(le,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(A,{to:"/buttons",children:"Mis Botoneras URL"})}),e.jsx("li",{children:e.jsx(A,{to:"/editor/buttons",children:"Crear Botonera URL"})})]})]}),e.jsxs("li",{children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(ze,{})})," Validador Email ",e.jsx("i",{className:"arrow",children:e.jsx(le,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(A,{to:"/companys",children:"Mis Validaciones"})}),e.jsx("li",{children:e.jsx(A,{to:"/companys",children:"Crear Validacion"})}),e.jsx("li",{children:e.jsx(A,{to:"/companys",children:"Estadisticas"})})]})]}),e.jsxs("li",{children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(ze,{})}),"  API ",e.jsx("i",{className:"arrow",children:e.jsx(le,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(A,{to:"/companys",children:"Mis Credenciales"})}),e.jsx("li",{children:e.jsx(A,{to:"/companys",children:"Crear Validacion"})}),e.jsx("li",{children:e.jsx(A,{to:"/companys",children:"Estadisticas"})})]})]})]})]})})}function xt(){var i,n,d;const{UserInfo:s}=t.useContext(G),[a,c]=t.useState("dark");function l(){switch(a){case"ligth":c("dark");break;case"dark":c("ligth");break;default:c("ligth");break}}return t.useEffect(()=>{E(document.body).attr("theme",a)},[a]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"header-top",children:e.jsxs("div",{className:"right",children:[e.jsx("div",{className:"company",children:(i=s==null?void 0:s.company)!=null&&i.name?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"body",children:[e.jsx("img",{src:((n=s==null?void 0:s.company)==null?void 0:n.photo)!==void 0?Ge(s):"img/icons/default_profile.png",alt:""}),e.jsx("span",{children:(d=s==null?void 0:s.company)==null?void 0:d.name})]})}):e.jsx(A,{to:"/companys",className:"select-company",children:"Seleccionar Empresa"})}),e.jsx("button",{className:"option",children:e.jsx(Ks,{})}),e.jsxs("button",{className:"option",onClick:l,children:[a=="dark"?e.jsx(Zs,{}):"",a=="ligth"?e.jsx(Us,{}):""]}),e.jsx("button",{className:"option",children:e.jsx(ea,{})}),e.jsxs("div",{className:"user",children:[e.jsx("img",{src:"img/icons/default-user.jpg",alt:""}),e.jsxs("p",{className:"name",children:[s.user,e.jsx("i",{children:e.jsx(sa,{})})]})]})]})})})}function I({Element:s,CompanyNeed:a}){var d;const{UserInfo:c}=t.useContext(G),l=J();t.useState(!1);const[i,n]=t.useState("wait");return t.useEffect(()=>{Re("company")||(l("/companys"),n(!1))},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"app",children:[e.jsx(pt,{}),e.jsx(xt,{}),e.jsx("div",{className:"page",children:a?(d=c==null?void 0:c.company)!=null&&d.id_company?e.jsx(s,{}):i==!1?e.jsxs("div",{className:"center-loading",children:[e.jsx("img",{src:"/img/icons/oficina.png",alt:""}),e.jsx("p",{children:"No has seleccionado ninguna empresa"})]}):e.jsx("div",{className:"center-loading",children:e.jsx("div",{className:"circle"})}):e.jsx(s,{})})]})})}function me(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading",children:e.jsx("div",{className:"circle"})})})}function ht({Visible:s,Close:a}){const{UserInfo:c}=t.useContext(G),[l,i]=t.useState(0),[n,d]=t.useState([ye()]),[x,h]=t.useState({type:"",name:"",ocation:""}),p=J();function o(v){v.stopPropagation(),v.preventDefault();let r=E(v.target);r.parents(".options").find(".active").removeClass("active"),r.addClass("active");let m=r.attr("value");h(j=>({...j,type:m}))}function u(v){var j;let r=!1,m=E(v.target);if((l===0&&x.type.includes("em")||x.type.includes("sms"))&&(r=!0),l==1&&x.type!==""&&x.name!==""){m.addClass("await");let f=new FormData;f.append("name",x.name),f.append("ocation",x.ocation),f.append("type_c",x.type),f.append("id_company",(j=c==null?void 0:c.company)==null?void 0:j.id_company),k.post(w+"/api/upload/campaign",f,{withCredentials:!0}).then(C=>C.data).then(C=>{C.status?p("/campaigns/detail/"+C.id_campaign):C.msg&&Fe.error(C.msg),m.removeClass("await")}).catch(C=>{m.removeClass("await")})}r&&i(f=>f+1)}function g(v){let r=v.target.name,m=v.target.value;h(j=>({...j,[r]:m}))}return t.useEffect(()=>{E(".case.active").removeClass("active"),E(".case").eq(l).addClass("active")},[l]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[l>0?e.jsxs("button",{className:"return",onClick:v=>{i(r=>r-1)},children:[e.jsx(we,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:v=>{a(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear una nueva campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"options flex half",id:`options-${n[0]}`,children:[e.jsxs("div",{className:"selector",onClick:o,value:"em",children:[e.jsx("div",{className:"check",children:e.jsx(ce,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA EMAIL MARKETING"}),e.jsx("span",{children:"Crea tu campaña de email con uno de nuestros editores para que la envíes inmediatamente o programes para enviar más tarde."})]})]}),e.jsxs("div",{className:"selector",onClick:o,value:"em-mt",children:[e.jsx("div",{className:"check",children:e.jsx(ce,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA EMAIL TRANSACCIONAL"}),e.jsx("span",{children:"Crea tu campaña de email transaccional estas seran enviada 1x1 mediante la conexion a la api."})]})]}),e.jsxs("div",{className:"selector",onClick:o,value:"sms",children:[e.jsx("div",{className:"check",children:e.jsx(ce,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA SMS MARKETING"}),e.jsx("span",{children:"Envía mensajes de texto rápidos y confiables a cualquier país con nuestras herramientas de campaña de SMS."})]})]}),e.jsxs("div",{className:"selector",onClick:o,value:"sms-mt",children:[e.jsx("div",{className:"check",children:e.jsx(ce,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA SMS TRANSACCIONAL"}),e.jsx("span",{children:"Crea tu campaña de sms transaccional estas seran enviada 1x1 mediante la conexion a la api."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de campaña"}),e.jsx("input",{type:"text",name:"name",onChange:g,placeholder:"Nombre"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Selecciona tipo"}),e.jsxs("select",{name:"ocation",id:"",onChange:g,children:[e.jsx("option",{value:"",selected:!0,children:" Por defecto"}),e.jsx("option",{value:"birthday",children:"Cumpleaños"})]})]}),(x.ocation=="birthday","")]})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:"next",onClick:u,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function re({name:s}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"nofound-items",children:[e.jsx("img",{src:"/img/icons/notfound.png",alt:""}),e.jsxs("p",{children:["No hay ",s??"items","  disponibles"]})]})})}function Ce(){const{UserInfo:s}=t.useContext(G),a=J(),[c,l]=t.useState([]),[i,n]=t.useState(!1),[d,x]=t.useState(!0),h=ke();t.useEffect(()=>{je("/new")&&n(!0)},[h]);function p(u){var r;let g=new FormData;x(!0);let v="em";je("/em")&&(v="em"),je("/em-mt")&&(v="em-mt"),je("/sms-mt")&&(v="sms-mt"),je("/sms")&&(v="sms"),u||l([]),g.append("id_company",(r=s==null?void 0:s.company)==null?void 0:r.id_company),g.append("type",v),k.post(w+"/api/get/campaign",g,{withCredentials:!0}).then(m=>m.data).then(m=>{var j;(j=m==null?void 0:m.results)!=null&&j.length&&l(m.results),x(!1)}).catch(m=>{x(!1)})}t.useEffect(()=>{p(!1)},[h]);function o(u){let g=u.target.value;a("/campaigns/detail/"+g)}return e.jsxs(e.Fragment,{children:[e.jsx(ht,{Visible:i,Close:n},`${i?"x":"x2"}`),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Campañas"}),e.jsx("span",{children:"Crea y ve tus campañas rapidamente, tambien puedes entrar a nuestro sistema automatizado "})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"add",onClick:u=>{n(!0)},children:"Crear nueva campaña"}),e.jsx("button",{className:"go-wizard",onClick:u=>{n(!0)},children:"Wizard"})]})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[c==null?void 0:c.map((u,g)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:u.name}),e.jsxs("span",{className:"desc",children:["Creado el: ",ae(u.time_add)]})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:o,value:u.id_campaign,children:e.jsx(Ne,{})}),e.jsx("button",{children:e.jsx(te,{})})]})]})),d==!1?(c==null?void 0:c.length)==0?e.jsx(re,{name:"campanas"}):"":e.jsx(me,{})]})})})]})}function Je(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top",children:[e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(A,{to:"/companys",children:"Cuentas"})}),e.jsx("li",{children:e.jsx(A,{to:"/companys/users",children:"Usuarios"})}),e.jsx("li",{children:e.jsx(A,{to:"/companys/roles",children:"Roles"})})]}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"form-search",children:e.jsx("input",{type:"text",placeholder:"Buscar empresa..."})})})]})})}function se({minWidth:s,maxWidth:a,children:c,width:l,visible:i,buttonSave:n=!0,cancel:d,onClick:x,next:h,callback:p,Pending:o,close:u=function(){}}){const[g,v]=t.useState(i==!1?!1:i),[r,m]=t.useState(ye());function j(f){f.stopPropagation();let C=E(f.target);E(`#modal-${r}`).removeClass("open"),C.parents(".modal-small").addClass("close"),setTimeout(()=>{C.parents(".modal-small").removeClass("close"),v(!1),p(!1)},400)}return t.useEffect(f=>{i==!0?(v(!0),setTimeout(()=>{E(`#modal-${r}`).removeClass("close"),E(`#modal-${r}`).addClass("open")},25)):(E(`#modal-${r}`).addClass("close"),E(`#modal-${r}`).removeClass("open"),u("cerro"))},[i]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"modal-small",id:`modal-${r}`,style:{display:g==!0?"flex":"none"},children:[e.jsx("div",{className:"closed"}),e.jsxs("div",{className:"body",style:{maxWidth:a,minWidth:s,width:l},children:[c,e.jsxs("div",{className:"actions",children:[e.jsx("button",{id:"close",onClick:j,children:d??"Cancelar"}),n?e.jsxs("button",{className:`done ${o==!0?" await":""}`,onClick:x,children:[h??"Guardar"," ",e.jsx("div",{className:"loading"})]}):""]})]})]})})}function ut({name:s,id:a,valueDefault:c,onChange:l}){const[i,n]=t.useState(ye());t.useEffect(()=>{c&&(document.querySelector(`.select-${i}`).value=c)},[]);function d(x){l&&l(x)}return e.jsxs("select",{name:s,id:a,onChange:d,className:`select-${i}`,children:[e.jsx("option",{value:"def",selected:!0,disabled:!0,children:"Seleccionar"}),e.jsx("option",{value:"md",children:"Marketing Digital"}),e.jsx("option",{value:"tec",children:"Tecnología"}),e.jsx("option",{value:"tele",children:"Telecomunicaciones"}),e.jsx("option",{value:"soft",children:"Software"})]})}function ls(){const[s,a]=t.useState([]),[c,l]=t.useState(!0),[i,n]=t.useState(!1),[d,x]=t.useState(!1),[h,p]=t.useState({}),[o,u]=t.useState({name:"",color:"",type:""}),{setUserInfo:g,UserInfo:v}=t.useContext(G),[r,m]=t.useState(!1),j=ke();t.useEffect(()=>{je("/add")&&n(!0)},[j]);function f(){a([]),l(!0),k.post(w+"/api/get/companys",{},{withCredentials:!0}).then(T=>T.data).then(T=>{l(!1),a(T)})}t.useEffect(()=>{f()},[]),t.useEffect(()=>{},[h]);function C(){}function D(T){d?p(N=>({...N,color:T})):u(N=>({...N,color:T}))}function _(T){if(d){let N=E(T.target);N.addClass("await");let P=new FormData;P.append("name",h.name),P.append("color",h.color),P.append("type",h.type),P.append("id_company",h.id_company),k.post(w+"/update/editcompany",P,{withCredentials:!0}).then(y=>y.data).then(y=>{y.status&&(n(!1),M.success("Has editado correctamente."),f()),y.msg&&M.error(y.msg),N.removeClass("await")}).catch(y=>{N.removeClass("await")})}else{m(!0);let N=new FormData;N.append("name",o.name),N.append("color",o.color),N.append("type",o.type),k.post(w+"/api/upload/company",N,{withCredentials:!0}).then(P=>P.data).then(P=>{P.status&&(f(),n(!1),M.success("Has creado tu empresa correctamente.")),P.msg&&M.error(P.msg),m(!1)}).catch(P=>{m(!1)})}}t.useEffect(()=>{E(".colors .option-color").css({opacity:"0.5"}),E(`.colors .option-color[value='${h.color}']`).addClass("active").css({opacity:1}),E(".form-input input[name='name']").val(h.name)},[h]);function q(T){n(!0),p(s[T])}function S(T,N){T.stopPropagation();try{g(P=>({...P,company:s[N]})),document.cookie=`company=${s[N].id_company}`,M.success("Empresa asignada correctamente.")}catch{}}function F(T,N){T.stopPropagation()}function R(T){console.log(d),d||u(N=>({...N,[T.target.name]:T.target.value}))}return e.jsxs(e.Fragment,{children:[e.jsxs(se,{onClick:_,visible:i,callback:n,close:T=>{p({})},Pending:r,next:`${d?"Editar":"Agregar"}`,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:d?"Editar empresa":"Agregar empresa"})}),e.jsxs("div",{className:"content",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre"}),e.jsx("input",{name:"name",type:"text",onChange:R})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Tipo"}),e.jsx(ut,{name:"type",onChange:R,valueDefault:`${d?h.type:"def"}`,callback:C},i?"modal-open":"modal-closed")]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Elige color de empresa"}),e.jsx("span",{className:"desc",children:"El color te ayudara a identificar tu empresa."}),e.jsxs("div",{className:"colors",children:[e.jsx(oe,{color:"#2e56ff",fn:D}),e.jsx(oe,{color:"#57c583",fn:D}),e.jsx(oe,{color:"#3fcae9",fn:D}),e.jsx(oe,{color:"#e9d43f",fn:D}),e.jsx(oe,{color:"#d77613",fn:D}),e.jsx(oe,{color:"#c069cb",fn:D}),e.jsx(oe,{color:"#cb6992",fn:D})]},i?"a":"x")]})]})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MIS CUENTAS"}),e.jsx("span",{children:"Crea y administra tus empresas, agrega nuevos encargados u nuevos cargos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:T=>{n(!0),x(!1)},children:"Crear nueva empresa"})})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx(Je,{}),e.jsxs("div",{className:"box box-padding",children:[s.map((T,N)=>{var P;return e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:T.photo?Ge({company:{photo:T.photo}}):"img/icons/default_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:T.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:y=>{F(y)},children:e.jsx(aa,{})}),e.jsx("button",{onClick:y=>{q(N),x(!0)},children:e.jsx(Ie,{})}),e.jsxs("button",{onClick:y=>{S(y,N)},children:[" ",((P=v==null?void 0:v.company)==null?void 0:P.id_company)==T.id_company?e.jsx(ta,{}):e.jsx(ia,{})," "]})]})]},N)}),c==!0?e.jsxs(e.Fragment,{children:["  ",e.jsx(me,{})]}):""]})]})})]})}function Se({visible:s,onClick:a,callback:c,Pending:l,name:i}){const[n,d]=t.useState(s!=!1),[x,h]=t.useState(ye());function p(o){o.stopPropagation();let u=E(o.target);u.parents(".actions").find(".done.await").length?M.error("No puedes salir en este momento..."):(E(`#modal-${x}`).removeClass("open"),u.parents(".modal-small").addClass("close"),setTimeout(()=>{u.parents(".modal-small").removeClass("close"),d(!1),c(!1)},600))}return t.useEffect(o=>{s==!0?(d(!0),setTimeout(()=>{E(`#modal-${x}`).removeClass("close"),E(`#modal-${x}`).addClass("open")},25)):(E(`#modal-${x}`).addClass("close"),E(`#modal-${x}`).removeClass("open"),close("cerro"))},[s]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"modal-small delete",id:`modal-${x}`,style:{display:n==!0?"flex":"none"},children:[e.jsx("div",{className:"closed"}),e.jsxs("div",{className:"body",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Eliminar"})}),e.jsxs("span",{className:"dialog",children:["Estas apunto de eliminar ",i==null?"este objeto":"esta "+i,", estas seguro que quieres eliminarlo?"]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{id:"close",onClick:p,children:"Cancelar"}),e.jsxs("button",{className:`done ${l==!0?"await":""}`,onClick:a,children:["Eliminar ",e.jsx("div",{className:"loading"})]})]})]})]})})}function jt(){const{UserInfo:s,LoadingAuth:a}=t.useContext(G),[c,l]=t.useState(!1),[i,n]=t.useState(!1),[d,x]=t.useState(["delete","read","send","add"]),[h,p]=t.useState(!1);let o={type_add:"",delete:0,add:0,read:0,send:0,sadmin:0};const[u,g]=t.useState(o),[v,r]=t.useState(),[m,j]=t.useState(!0),f=J(),[C,D]=t.useState([]);async function _(){var P;let N=new FormData;N.append("id_company",(P=s==null?void 0:s.company)==null?void 0:P.id_company),D([]),j(!0),k.post(w+"/api/get/roles",N,{withCredentials:!0}).then(y=>y.data).then(y=>{D(y),j(!1)})}t.useEffect(()=>{a||s.company||(f("/companys"),M.error("Selecciona una empresa ")),m&&_()},[a]);function q(N){let P=N.target.value;E(N.target).is("input[type='checkbox']")?(g(y=>({...y,sadmin:0})),E(N.target).is("input[type='checkbox']:checked")?g(y=>({...y,[N.target.name]:1})):g(y=>({...y,[N.target.name]:0}))):(g(y=>({...y,[N.target.name]:P})),P=="sadmin"&&g(y=>({...y,sadmin:1})))}function S(N){let P=new FormData;u.rol!==void 0&&u.type_add!==void 0&&(P.append("sadmin",u!=null&&u.sadmin?u.sadmin:0),P.append("delete",u!=null&&u.delete?u.delete:0),P.append("read",u!=null&&u.read?u.read:0),P.append("add",u!=null&&u.add?u.add:0),P.append("send",u!=null&&u.send?u.send:0),P.append("rol",u.rol),P.append("id_company",s.company.id_company),h?(Be(N.target),P.append("id_rol",u==null?void 0:u.id_rol),k.post(w+"/api/update/permissions",P,{withCredentials:!0}).then(y=>y.data).then(async y=>{y.status&&(await _(),l(!1),ue(N.target)),y.msg&&(M.error("Opps error al aplicar cambios de permisos"),ue(N.target))}).catch(y=>{ue(N.target)})):(Be(N.target),k.post(w+"/api/upload/rol",P,{withCredentials:!0}).then(y=>y.data).then(y=>{y.status?(P.append("id_rol",y.id_rol),k.post(w+"/api/update/permissions",P,{withCredentials:!0}).then(B=>B.data).then(async B=>{B.status&&(await _(),l(!1),ue(N.target)),B.msg&&(M.error("Opps error al aplicar cambios de permisos"),ue(N.target))}).catch(B=>{ue(N.target)})):(y.msg&&M.error(y.msg),ue(N.target))}).catch(y=>{ue(N.target)})))}function F(N){let P=N.target.value;P&&(r(P),n(!0))}function R(N){Be(N.target);let P=new FormData;P.append("id_company",s.company.id_company),P.append("id_rol",v),v?k.post(w+"/api/delete/rol",P,{withCredentials:!0}).then(y=>y.data).then(y=>{y.status&&(n(!1),_()),y.msg&&M.error(y.msg),ue(N.target)}).catch(y=>{ue(N.target)}):M.error("No has seleccionado ningun id")}function T(N){let P=N.target.value;l(!0),p(!0),g(y=>({...y,id_rol:C[P].id_rol,rol:C[P].rol})),setTimeout(()=>{C[P].permissions.sadmin?(g(y=>({...y,type_add:"sadmin"})),document.querySelector("select").value="sadmin"):(g(y=>({...y,type_add:"pers"})),document.querySelector("select").value="pers",d.forEach((y,B)=>{C[P].permissions[y]&&document.querySelector(`input[name='${y}']`).click()}))},25)}return e.jsxs(e.Fragment,{children:[e.jsx(Se,{visible:i,callback:n,onClick:R},i?"opxen":"clxose"),e.jsxs(se,{onClick:S,maxWidth:380,visible:c,callback:l,next:h?"Actualizar":"Guardar",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:h?"Editar rol":"Agregar rol"})}),e.jsxs("div",{className:"content",children:[h?"":e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de rol",name:"rol",onChange:q,value:(u==null?void 0:u.rol)==null?"":u==null?void 0:u.rol})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"type_add",id:"",onChange:q,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Seleccionar tipo"}),e.jsx("option",{value:"pers",children:"Personalizado"}),e.jsx("option",{value:"sadmin",children:"Super Admin"})]})}),u.type_add=="pers"?e.jsx("table",{children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Permisos"}),e.jsx("td",{children:"Seleccionar"})]}),d.map(N=>e.jsxs("tr",{children:[e.jsx("td",{children:N}),e.jsx("td",{children:e.jsx("input",{type:"checkbox",onChange:q,name:N})})]}))]})}):u.type_add=="sadmin"?e.jsxs("div",{className:"ad",children:[e.jsx("p",{children:"Advertencia"}),e.jsx("span",{children:"Al asignar un rol con permisos de super administrador, le daras derecho a hacer las mismas acciones que tu cuenta principal, podra manipular empresas o hacer cosas que solamente tu puedes hacer."})]}):e.jsx(e.Fragment,{})]})]},c?"open":"close"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus roles"}),e.jsx("span",{children:"Crea y elimina los roles de tu empresa, da permisos a usuarios para que puedan iniciar sesion y manipular tu empresa"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:N=>{l(!0),g(o),p(!1)},children:"Crear nuevo rol"})})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx(Je,{}),e.jsxs("div",{className:"box box-padding",children:[C.map((N,P)=>{var y,B,H,ee,pe,$,b,O;return e.jsxs("div",{className:"item flex",children:[e.jsx("div",{className:"info",children:e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:[N.rol," ",N.permissions.sadmin==!0?e.jsx("span",{className:"super-adm",children:"ADM"}):""," "]}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})}),e.jsxs("div",{children:[e.jsx("p",{children:"Lectura"}),e.jsx("div",{className:"center-roles",children:(y=N==null?void 0:N.permissions)!=null&&y.read?e.jsx("span",{className:"yes",children:e.jsx(ge,{})}):((B=N==null?void 0:N.permissions)==null?void 0:B.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(ge,{})}):e.jsx("span",{className:"no",children:e.jsx(Pe,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Envio"}),e.jsx("div",{className:"center-roles",children:(H=N==null?void 0:N.permissions)!=null&&H.send?e.jsx("span",{className:"yes",children:e.jsx(ge,{})}):((ee=N==null?void 0:N.permissions)==null?void 0:ee.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(ge,{})}):e.jsx("span",{className:"no",children:e.jsx(Pe,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Borrar"}),e.jsx("div",{className:"center-roles",children:(pe=N==null?void 0:N.permissions)!=null&&pe.delete?e.jsx("span",{className:"yes",children:e.jsx(ge,{})}):(($=N==null?void 0:N.permissions)==null?void 0:$.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(ge,{})}):e.jsx("span",{className:"no",children:e.jsx(Pe,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Agregar"}),e.jsx("div",{className:"center-roles",children:(b=N==null?void 0:N.permissions)!=null&&b.add?e.jsx("span",{className:"yes",children:e.jsx(ge,{})}):((O=N==null?void 0:N.permissions)==null?void 0:O.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(ge,{})}):e.jsx("span",{className:"no",children:e.jsx(Pe,{})})})]}),e.jsx("div",{children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:T,value:P,children:e.jsx(Ie,{})}),e.jsx("button",{onClick:F,value:N.id_rol,children:e.jsx(Z,{})})]})})]},P)}),m?e.jsx(me,{}):C.length==0?e.jsx(re,{}):""]})]})})]})}function gt(){const{UserInfo:s}=t.useContext(G),[a,c]=t.useState([]),[l,i]=t.useState(!1),[n,d]=t.useState({name:"",password:"",email:"",id_rol:""}),[x,h]=t.useState(!1),[p,o]=t.useState([]),[u,g]=t.useState(!1),[v,r]=t.useState(),[m,j]=t.useState(!1),[f,C]=t.useState({id_user:"",id_rol:""}),[D,_]=t.useState(!1);function q(y){let B=y.target.value,H=y.target.name;d(ee=>({...ee,[H]:B}))}function S(){var B;g(!0);let y=new FormData;y.append("id_company",(B=s==null?void 0:s.company)==null?void 0:B.id_company),k.post(w+"/api/get/subusers",y,{withCredentials:!0}).then(H=>H.data).then(H=>{g(!1),c(H)}).catch(H=>{g(!1)})}function F(){var y;if(n.name&&n.email&&n.password&&n.id_rol)if(n.password.length>=6){let B=new FormData;h(!0),B.append("name",n.name),B.append("email",n.email),B.append("password",n.password),B.append("id_rol",n.id_rol),B.append("id_company",(y=s.company)==null?void 0:y.id_company),k.post(w+"/api/upload/subuser",B,{withCredentials:!0}).then(H=>H.data).then(H=>{h(!1),H.status&&(i(!1),c([]),S())}).catch(H=>{h(!1)})}else M.error("Tu password no es correcta debe de tener 6 o mas caracteres");else M.error("Opps has dejado campos vacios")}function R(y){C(B=>({...B,id_user:a[y].id,id_rol:a[y].id_rol,name:a[y].name})),setTimeout(()=>{document.querySelector("select").value=a[y].id_rol},20),j(!0)}function T(y){let B=a[y].id;B&&(r(B),_(!0))}t.useEffect(()=>{var B;let y=new FormData;y.append("id_company",(B=s==null?void 0:s.company)==null?void 0:B.id_company),k.post(w+"/api/get/roles",y,{withCredentials:!0}).then(H=>H.data).then(H=>{o(H)}),S()},[]);function N(){var y;if(f.id_rol&&f.id_user){h(!0);let B=new FormData;B.append("id_company",(y=s==null?void 0:s.company)==null?void 0:y.id_company),B.append("id_rol",f.id_rol),B.append("id_user",f.id_user),k.post(w+"/api/update/subuser",B,{withCredentials:!0}).then(H=>H.data).then(H=>{H.status&&(S(),c([]),M.success("Has editato el usuario correctamente."),j(!1)),h(!1)}).catch(H=>{h(!1)})}}function P(){var y;if(v){h(!0);let B=new FormData;B.append("id_user",v),B.append("id_company",(y=s==null?void 0:s.company)==null?void 0:y.id_company),k.post(w+"/api/delete/subuser",B,{withCredentials:!0}).then(H=>H.data).then(H=>{H.status&&(_(!1),h(!1),S(),c([]),M.success("Has borrado el usuario correctamente."))})}else M.error("Opps no has seleccionado nada")}return e.jsxs(e.Fragment,{children:[e.jsx(Se,{visible:D,callback:_,onClick:P,Pending:x}),e.jsxs(se,{visible:m,callback:j,Pending:x,onClick:N,next:"Editar",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Editar"})}),e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{children:["Editar rol del usuario @",f.name]}),e.jsxs("select",{onChange:y=>{C(B=>({...B,id_rol:y.target.value}))},name:"",id:"",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Seleccionar Rol"}),p.map((y,B)=>e.jsx("option",{value:y.id_rol,children:y.rol}))]})]})]}),e.jsx(se,{visible:l,callback:i,next:"Agregar",onClick:F,Pending:x,children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Agregar"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre",name:"name",onChange:q})}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Email",name:"email",onChange:q})}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"password",placeholder:"Contraseña",name:"password",onChange:q})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"id_rol",id:"",onChange:q,children:[e.jsx("option",{value:"",children:"Seleccionar Rol"}),p.map((y,B)=>e.jsx("option",{value:y.id_rol,children:y.rol}))]})})]})},`${l?"open":"close"}`),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus usuarios"}),e.jsx("span",{children:"Crea y elimina usuarios, estos usuarios son de tu empresa, deben de tener un rol asignado para poder hacer ciertas funciones. Estos usuarios pueden utilizar la api si le das el acceso y podran consumir recursos desde alli."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:y=>{i(!0)},children:"Crear nuevo usuario"})})]}),e.jsx(Je,{}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[a.map((y,B)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default-user.jpg",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:y.name}),e.jsxs("span",{className:"desc",children:["Rol - ",y.rol]}),e.jsx("br",{}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:H=>{R(B)},value:B,children:e.jsx(Ie,{})}),e.jsx("button",{onClick:H=>{T(B)},value:y.id_rol,children:e.jsx(Z,{})})]})})]},B)),u==!1?a.length==0?e.jsx(re,{name:"usuarios"}):"":e.jsx(me,{})]})})})]})}function vt({campaign:s,setFormProgamming:a}){const[c,l]=t.useState("default");function i(x){let h=x.target.value;l(h)}function n(){l("default")}function d(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"return-top",children:e.jsx("button",{onClick:n,children:e.jsx(De,{})})})})}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Programar campaña"})}),e.jsxs("div",{className:"data",children:[c=="default"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"select-buttons",children:[e.jsx("button",{onClick:i,value:"date",children:"Fecha especifica"}),e.jsx("button",{onClick:i,value:"daysname",children:"Dias especificos"}),e.jsx("button",{onClick:i,value:"daysnumber",children:"Recordatorios"})]})}):"",c=="date"?e.jsxs(e.Fragment,{children:[e.jsx(d,{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"date",name:"date",onChange:a})}),e.jsxs("div",{className:"form-input flex",children:[e.jsx("input",{type:"text",placeholder:"hora",name:"hh",onChange:a}),e.jsx("input",{type:"text",placeholder:"minuto",name:"ii",onChange:a}),e.jsxs("select",{name:"x",id:"",children:[e.jsx("option",{value:"pm",children:"p.m."}),e.jsx("option",{value:"am",children:"a.m."})]})]})]}):""]})]})}function ft({value:s,onChange:a,onSave:c}){const l=t.useRef(null),[i,n]=t.useState(""),[d,x]=t.useState(!0),[h,p]=t.useState(0),o=u=>{const g=l.current,v=window.getSelection().toString(),r=g.selectionStart,m=i.substring(0,r),j=i.substring(r),f=m+u+v+j;n(f),g.focus()};return t.useEffect(()=>{a(i),p(i.length)},[i]),t.useEffect(()=>{s&&d&&(x(!1),n(s))},[s]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"textarea-sms",children:[e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:()=>o("$name"),children:"Nombre"}),e.jsx("button",{onClick:()=>o("$lastname"),children:"Apellido"}),e.jsx("button",{onClick:()=>o("$dni"),children:"Dni"}),e.jsx("button",{onClick:()=>o("$code"),children:"Codigo"}),e.jsx("button",{onClick:()=>o("$city"),children:"Ciudad"}),e.jsx("button",{onClick:()=>o("$country"),children:"Pais"}),e.jsx("button",{onClick:()=>o("$birthday"),children:"Nacimiento"}),e.jsx("button",{onClick:()=>o("$address"),children:"Direccion"}),e.jsx("button",{onClick:()=>o("$occupation"),children:"Ocupacion"}),e.jsx("button",{onClick:()=>o("$gender"),children:"Sexo"}),e.jsx("button",{onClick:()=>o("$phone"),children:"Telefono"}),e.jsx("button",{onClick:()=>o("$email"),children:"Correo Electronico"}),e.jsx("button",{onClick:()=>o("$1"),children:"Extra (1)"}),e.jsx("button",{onClick:()=>o("$2"),children:"Extra (2)"}),e.jsx("button",{onClick:()=>o("$3"),children:"Extra (3)"}),e.jsx("button",{onClick:()=>o("$4"),children:"Extra (4)"}),e.jsx("button",{onClick:()=>o("$5"),children:"Extra (5)"}),e.jsx("button",{onClick:()=>o("$6"),children:"Extra (6)"}),e.jsx("button",{onClick:()=>o("$7"),children:"Extra (7)"}),e.jsx("div",{className:"count",children:e.jsxs("i",{children:["166/",h]})})]}),e.jsx("textarea",{ref:l,className:"text",value:s,onChange:u=>n(u.target.value)}),e.jsxs("div",{className:"bottom-actions",children:[e.jsxs("button",{children:[e.jsx(na,{})," Borrar"]}),e.jsxs("button",{children:[e.jsx(xe,{})," Previsualizar SMS"]}),e.jsx("button",{className:"preview",onClick:c,children:"Guardar "})]})]})})}function Nt(){var Ye,Ke,Ze,Ue,es,ss,as;const s=U(),{UserInfo:a}=t.useContext(G),c=J();t.useState(!1);let l={lists:!1,body:!1,affair:!1};const[i,n]=t.useState(l),[d,x]=t.useState({lists:[]}),[h,p]=t.useState({lists:!1}),[o,u]=t.useState([]),[g,v]=t.useState({sendCampaign:!1}),[r,m]=t.useState({affair:""}),[j,f]=t.useState(!1),[C,D]=t.useState(),[_,q]=t.useState(!1),[S,F]=t.useState({hh:"",mm:"",dd:"",ii:"",yy:""}),[R,T]=t.useState(!1);t.useState({});const[N,P]=t.useState();function y(z){var Q;B(!0);let W=new FormData;W.append("id_company",(Q=a==null?void 0:a.company)==null?void 0:Q.id_company),o.lists&&W.append("ignore_id",o.lists),x(X=>({...X,lists:[]})),z&&W.append("search",z),k.post(w+"/api/get/list",W,{withCredentials:!0}).then(X=>X.data).then(X=>{x(ne=>({...ne,lists:X})),B(!1)})}function B(z){p(W=>({...W,lists:z}))}let H=0;function ee(z){let W=z.target.value;clearTimeout(H),H=setTimeout(()=>{y(W)},250)}function pe(){clearTimeout(H)}t.useEffect(()=>{i.lists&&y()},[i]),t.useEffect(()=>{var W;let z=new FormData;z.append("id_company",(W=a==null?void 0:a.company)==null?void 0:W.id_company),z.append("id_campaign",s.id),k.post(w+"/api/get/campaign",z,{withCredentials:!0}).then(Q=>Q.data).then(Q=>{u(Q)}).catch(Q=>{})},[]),t.useEffect(()=>{o!=null&&o.id_template&&$()},[o]);function $(){var W;let z=new FormData;z.append("id_company",(W=a==null?void 0:a.company)==null?void 0:W.id_company),z.append("id_template",o==null?void 0:o.id_template),z.append("type","all"),k.post(w+"/api/get/templatejson",z,{withCredentials:!0}).then(Q=>Q.data).then(Q=>{var X;P((X=Q==null?void 0:Q.json)==null?void 0:X.msg)}).catch(Q=>{M.error(String(Q))})}function b(z){var Q,X;let W=z.target.value;if(W){let ne=new FormData;ne.append("id_list",W),ne.append("id_company",(Q=a==null?void 0:a.company)==null?void 0:Q.id_company),ne.append("id_campaign",s.id);let be=!1;if((X=o==null?void 0:o.lists)!=null&&X.length?o.lists.includes(W)||(be=!0,u(he=>({...he,lists:he.lists+","+W}))):(u(he=>({...he,lists:W})),be=!0),be){let he=E(z.target);he=he.parents(".result"),he.hide("x"),k.post(w+"/api/update/addlistcampaign",ne,{withCredentials:!0}).then(Oe=>Oe.data).then(Oe=>{Oe.status}).catch(Oe=>{})}}}function O(z){let W=z.target.value;if(W){let Q=new FormData;Q.append("id_campaign",o.id_campaign),Q.append("id_list",W),Q.append("id_company",a.company.id_company),k.post(w+"/api/delete/listscampaign",Q,{withCredentials:!0}),u(X=>{var ne;return{...X,lists:(ne=X==null?void 0:X.lists)==null?void 0:ne.replace(","+W,"").replace(W,"")}})}}function L(z){n(l),n(W=>({...W,[z]:!0}))}function Y(z){var Q;$e("sendCampaign",!0);let W=new FormData;W.append("id_company",(Q=a==null?void 0:a.company)==null?void 0:Q.id_company),W.append("id_campaign",s.id),k.post(w+"/api/send/campaign",W,{withCredentials:!0}).then(X=>X.data).then(X=>{$e("sendCampaign",!1),X.status&&M.success("Campaña enviada!")}).catch(X=>{$e("sendCampaign",!1)})}function K(z){let W=z.target.name,Q=z.target.value;m(X=>({...X,[W]:Q}))}function qe(z){var X;let W=E(z.target);W.addClass("await");let Q=new FormData;Q.append("affair",r.affair),Q.append("id_company",(X=a==null?void 0:a.company)==null?void 0:X.id_company),Q.append("id_campaign",o.id_campaign),k.post(w+"/api/update/setaffair",Q,{withCredentials:!0}).then(ne=>ne.data).then(ne=>{W.removeClass("await"),ne.status&&(n(l),u(be=>({...be,affair:r.affair})))}).catch(ne=>{W.removeClass("await")})}function $e(z,W){v(Q=>({...Q,[z]:W}))}function Rs(){var W;q(!0);let z=new FormData;z.append("id_company",(W=a==null?void 0:a.company)==null?void 0:W.id_company),z.append("id_campaign",s.id),k.post(w+"/api/delete/campaign",z,{withCredentials:!0}).then(Q=>Q.data).then(Q=>{q(!1),Q.status&&c("/campaigns")}).catch(Q=>{q(!1)})}function Ms(z){let W=z.target.value,Q=z.target.name;if(Q=="date"){const X=new Date(W),ne=X.getDate(),be=X.getFullYear(),he=X.getMonth()+1;F({...S,dd:ne,yy:be,mm:he})}else F({...S,[Q]:W})}function $s(){var W;let z=new FormData;T(!0),z.append("id_company",(W=a==null?void 0:a.company)==null?void 0:W.id_company),z.append("hh",S.hh),z.append("dd",Ha(S.dd)),z.append("yy",S.yy),z.append("mm",S.mm),z.append("ii",S.ii),z.append("id_campaign",s.id),z.append("p_type","default"),z.append("type","campaign"),k.post(w+"/api/update/programming",z,{withCredentials:!0}).then(Q=>Q.data),T(!1).catch(Q=>{T(!1)})}function zs(){var W;let z=new FormData;z.append("msg",N),z.append("id_campaign",s.id),z.append("id_company",(W=a==null?void 0:a.company)==null?void 0:W.id_company),z.append("type","sms"),z.append("id_template",o==null?void 0:o.id_template),k.post(w+"/api/upload/bodycampaign",z,{withCredentials:!0}).then(Q=>Q.data).then(Q=>{console.log(Q),Q.status&&M.success("Guardado con exito")}).catch(Q=>{M.error(String(Q))})}return t.useEffect(()=>{console.log(S)},[S]),e.jsxs(e.Fragment,{children:[e.jsx(se,{visible:C,callback:D,width:"30%",onClick:$s,maxWidth:"500px",next:"Programar",Pending:R,children:e.jsx(vt,{setFormProgamming:Ms,campaign:o})}),e.jsx(Se,{visible:j,callback:f,Pending:_,onClick:Rs,name:"campana"}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles de campaña"}),e.jsx("span",{children:'Gestiona tus campañas de manera eficiente y optimiza tus estrategias de marketing con nuestra función de "Detalles de Campaña".'})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:z=>{setModalWizard(!0)},children:e.jsx(De,{})})})]}),e.jsxs("div",{className:"menu-top-right",children:[e.jsx("button",{className:"programming",onClick:z=>{D(!0)},children:"Programar"}),e.jsx("button",{className:"programming",onClick:z=>c("/campaigns/stats/"+(s==null?void 0:s.id)),children:"Estadisticas"}),e.jsx("button",{className:"programming",onClick:z=>{f(!0)},children:"Eliminar"}),e.jsxs("button",{className:`send-campaign ${g.sendCampaign?"await":""}`,onClick:Y,children:["Enviar Campaña ",e.jsx("div",{className:"loading"})]})]}),e.jsxs("div",{className:"box steps",children:[e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:o.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsx("div",{children:e.jsx("p",{children:"Estatus"})}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(fe,{})}),e.jsxs("button",{children:[e.jsx(te,{})," "]})]})]}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top active",children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Crear Campaña"}),e.jsx("span",{className:"desc approve",children:"Perfecto!"})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top active",children:[e.jsx("div",{className:"check active",children:e.jsx(ve,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Elegir Tipo"}),e.jsx("span",{className:"desc approve",children:"Perfecto!"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{children:"Editar"})})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${o!=null&&o.lists?"active":""}`,children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Contactos"}),e.jsx("span",{className:"desc approve",children:"Perfecto!"}),e.jsx("div",{className:"selects",children:((Ye=o==null?void 0:o.lists)==null?void 0:Ye.length)>=1?(Ke=o==null?void 0:o.lists)==null?void 0:Ke.split(",").map((z,W)=>e.jsx("div",{className:"select",children:e.jsxs("p",{children:["Lista: ",z," ",e.jsx("button",{className:"delete",onClick:O,value:z,children:e.jsx(Z,{})})]})})):""})]}),i.lists==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Buscar lista... (Solo obtendras las listas con contactos)"}),e.jsx("input",{type:"search",onKeyUp:ee,onKeyDown:pe,placeholder:"Buscar"})]}),e.jsxs("div",{className:"search-result",children:[d.lists.map((z,W)=>e.jsx("div",{className:"result",children:e.jsxs("div",{className:"info",children:[e.jsx("p",{children:z.name}),e.jsxs("span",{children:["Contactos: ",z.contacts]}),e.jsx("span",{children:"Agregado: 05/05/2022"}),e.jsx("button",{className:"select",onClick:b,value:z.id_list,children:e.jsx(la,{})})]})},W)),h.lists?e.jsx(me,{}):h.lists==!1&&d.lists.length==0?e.jsx(re,{name:"listas"}):""]})]})}):e.jsx("div",{className:"right",children:e.jsx("button",{onClick:z=>{L("lists")},children:"Editar"})})]})}),(o==null?void 0:o.type_c)=="em"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${o!=null&&o.sender?"active":""}`,children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Remitente"}),e.jsx("span",{className:"desc approve",children:"Perfecto!"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{onClick:z=>{L("body")},children:"Editar"})})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${o!=null&&o.affair?"active":""}`,children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Asunto"}),e.jsx("span",{className:"desc approve",children:"Perfecto!"})]}),i.affair==!0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"form-input flex",children:[e.jsx("input",{type:"search",onChange:K,name:"affair",placeholder:"Asunto..."}),e.jsx("button",{onClick:qe,className:"save",children:"Guardar"})]})})}):e.jsx("div",{className:"right",children:e.jsx("button",{onClick:z=>{L("affair")},children:"Editar"})})]})})]}):"",e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${o!=null&&o.template?"active":""}`,children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Plantilla"}),e.jsx("span",{className:"desc approve",children:"Perfecto!"})]}),i.body==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[(o==null?void 0:o.type_c)=="em"?e.jsx(e.Fragment,{children:o!=null&&o.template?e.jsxs("div",{className:"preview-template",children:[e.jsx("p",{children:(Ze=o==null?void 0:o.template)==null?void 0:Ze.title}),e.jsxs("span",{children:["Plantilla creada:  ",ae((Ue=o==null?void 0:o.template)==null?void 0:Ue.time_add)]}),e.jsx("img",{src:He((es=a==null?void 0:a.company)==null?void 0:es.folder_sftp,(ss=o==null?void 0:o.template)==null?void 0:ss.preview_image),alt:""}),e.jsx("br",{}),e.jsx(A,{to:`/editor/canvas/${(as=o==null?void 0:o.template)==null?void 0:as.id_template}?campaign=`+s.id,children:"Editar plantilla"})]}):e.jsx(A,{to:"/editor/canvas/?campaign="+s.id,children:"Crear una plantilla"})}):"",(o==null?void 0:o.type_c)=="sms"?e.jsx(e.Fragment,{children:i.body==!0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsx("div",{className:"form-input flex",children:e.jsx(ft,{value:N,onChange:P,onSave:zs})})})}):""}):""]})}):"",i.body==!1?e.jsx("div",{className:"right",children:e.jsx("button",{onClick:z=>{L("body")},children:"Editar"})}):""]})})]})]})}function yt({Visible:s,Close:a,Callback:c,loadLists:l}){const{UserInfo:i}=t.useContext(G),[n,d]=t.useState(0),[x,h]=t.useState([ye()]),[p,o]=t.useState({type:"",name:""});J();function u(r){r.stopPropagation(),r.preventDefault();let m=E(r.target);m.parents(".options").find(".active").removeClass("active"),m.addClass("active");let j=m.attr("value");o(f=>({...f,type:j}))}function g(r){var f;let m=!1,j=E(r.target);if((n===0&&p.type=="em"||p.type=="sms")&&(m=!0),n==1&&p.type!==""&&p.name!==""){j.addClass("await");let C=new FormData;C.append("name",p.name),C.append("type_c",p.type),C.append("id_company",(f=i==null?void 0:i.company)==null?void 0:f.id_company),k.post(w+"/api/upload/list",C,{withCredentials:!0}).then(D=>D.data).then(D=>{D.status&&(a(!1),c(!0),l()),j.removeClass("await")}).catch(D=>{j.removeClass("await")})}m&&d(C=>C+1)}function v(r){let m=r.target.name,j=r.target.value;o(f=>({...f,[m]:j}))}return t.useEffect(()=>{E(".case.active").removeClass("active"),E(".case").eq(n).addClass("active")},[n]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[n>0?e.jsxs("button",{className:"return",onClick:r=>{d(m=>m-1)},children:[e.jsx(we,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:r=>{a(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear una nueva lista"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de lista que te gustaría crear"})]}),e.jsxs("div",{className:"options flex",id:`options-${x[0]}`,children:[e.jsxs("div",{className:"selector",onClick:u,value:"em",children:[e.jsx("div",{className:"check",children:e.jsx(ce,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"LISTA DE EMAIL"}),e.jsx("span",{children:"La lista de email es una herramienta que te permite administrar tus contactos de manera eficiente. Aquí podrás subir tus contactos para realizar envíos de correo electrónico de forma conveniente y efectiva."})]})]}),e.jsxs("div",{className:"selector",onClick:u,value:"sms",children:[e.jsx("div",{className:"check",children:e.jsx(ce,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"LISTA TELEFONICA"}),e.jsx("span",{children:"Una lista de números es una herramienta que te permite gestionar y organizar de manera efectiva tus contactos telefónicos. Con ella, podrás enviar mensajes de texto rápidos y confiables a cualquier número, sin importar el país."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar Lista"}),e.jsx("span",{className:"desc",children:"Asignale un nombre a tu nueva lista."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de lista"}),e.jsx("input",{type:"text",name:"name",onChange:v,placeholder:"Nombre"})]})})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:"next",onClick:g,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function Ct({functions:s}){let{setSelectMultiple:a,selects:c,resetSelection:l,selectMultiple:i}=s;const n=J();function d(){c.length?n("/contacts/upload/"+JSON.stringify(c)):Fe.error("No has seleccionado ninguna lista")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top gl",children:[i?e.jsxs(e.Fragment,{children:[e.jsxs("button",{children:["Seleccionando (",c==null?void 0:c.length,")"]}),e.jsx("button",{onClick:d,children:"Subir Contactos"}),e.jsx("button",{onClick:l,children:"Cancelar"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:x=>{a(!0)},children:"Seleccionar Multiple"}),e.jsx("button",{children:"Listas Email"}),e.jsx("button",{children:"Listas Mensajeria"}),e.jsx("button",{children:"Listas Whatsapp"})]}),e.jsxs("div",{className:"search",children:[e.jsx("i",{children:e.jsx(ca,{})}),e.jsx("input",{type:"text",placeholder:"Buscar..."})]})]})})}function bt({type:s,lists:a}){const[c,l]=t.useState(!1),[i,n]=t.useState([]),[d,x]=t.useState(!1),h=J(),p=u=>{n(g=>g.includes(u)?g.filter(v=>v!==u):[...g,u])},o=()=>{n([]),l(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(Ct,{functions:{resetSelection:o,selects:i,selectMultiple:c,setSelectMultiple:l}}),e.jsx(Se,{visible:d,callback:x}),e.jsx("div",{className:"row",children:a.map((u,g)=>e.jsx("div",{className:"col-md-3 page-lists",children:e.jsx("div",{className:"box box-padding",children:e.jsxs("div",{className:"item flex-wrap",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/lists.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",title:u.name,children:Ga(u.name,15)}),e.jsxs("span",{className:"desc",children:["Creado el: ",ae(u.time_add)]}),e.jsx("br",{}),c&&e.jsx("input",{type:"checkbox",onChange:()=>p(u.id_list),checked:i.includes(u.id_list)})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:v=>{h("/contacts/detail/"+u.id_list)},children:e.jsx(xe,{})}),e.jsx("button",{onClick:v=>{x(!0)},children:e.jsx(Z,{})})]})]})})},g))})]})}function cs(){const[s,a]=t.useState(),[c,l]=t.useState([]),[i,n]=t.useState(!1),{UserInfo:d}=t.useContext(G),x=U();J();function h(o){o&&a(!1)}function p(){var u;let o=new FormData;o.append("id_company",(u=d==null?void 0:d.company)==null?void 0:u.id_company),n(!0),l([]),k.post(w+"/api/get/list",o,{withCredentials:!0}).then(g=>g.data).then(g=>{l(g),n(!1)})}return t.useEffect(()=>{p()},[]),e.jsxs(e.Fragment,{children:[e.jsx(yt,{Visible:s,Close:a,Callback:h,loadLists:p}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Listas"}),e.jsx("span",{children:"Estas son tus listas de contactos, puedes subir contactos rapidamente creando una lista y seleccionando tu archivo csv"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:o=>{a(!0)},children:"Crear nueva lista"})})]}),x.type==null?e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsx("div",{className:"box select-list",children:e.jsxs("div",{className:"top",children:[e.jsx("img",{src:"/img/icons/email_list.png",alt:""}),e.jsx("span",{children:"Listas Correos"}),e.jsx("button",{children:"Ir"})]})})}),e.jsx("div",{className:"col-md-3",children:e.jsx("div",{className:"box select-list",children:e.jsxs("div",{className:"top",children:[e.jsx("img",{src:"/img/icons/message_list.png",alt:""}),e.jsx("span",{children:"Listas Mensajeria"}),e.jsx("button",{children:"Ir"})]})})}),e.jsx("div",{className:"col-md-3",children:e.jsx("div",{className:"box select-list",children:e.jsxs("div",{className:"top",children:[e.jsx("img",{src:"/img/icons/whatsapp_list.png",alt:""}),e.jsx("span",{children:"Listas Whatsapp"}),e.jsx("button",{children:"Ir"})]})})})]}):e.jsx(bt,{lists:c,type:x==null?void 0:x.type})]})}function wt({Status:s}){return e.jsx(e.Fragment,{children:s=="wait"?e.jsxs("span",{className:"wait-list",children:[e.jsx(ra,{})," Subiendo..."]}):s=="ready"?e.jsxs("span",{className:"ready-list",children:[e.jsx(ce,{}),"  Activa"]}):s=="error"?e.jsxs("span",{className:"error-list",children:[e.jsx(da,{})," Error"]}):e.jsxs("span",{className:"setting-list",children:[e.jsx(gs,{})," En espera..."]})})}function kt(){const{UserInfo:s}=t.useContext(G),a=U(),[c,l]=t.useState({}),i=J();return t.useState(!1),t.useState(!0),t.useEffect(()=>{var d;let n=new FormData;n.append("id_list",a.id),n.append("id_company",(d=s==null?void 0:s.company)==null?void 0:d.id_company),k.post(w+"/api/get/list",n,{withCredentials:!0}).then(x=>x.data).then(x=>{l(x)})},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles de lista"}),e.jsx("span",{children:"Ve los detalle de tus listas y ve si estan listas para ser utilizadas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:n=>{i("/contacts/lists")},children:e.jsx(De,{})})})]}),e.jsx("div",{className:"menu-top-right",children:e.jsx("button",{className:"programming",onClick:n=>{},children:"Logs"})}),e.jsxs("div",{className:"box steps",children:[e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:c.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Contactos"}),e.jsx("span",{children:c.contacts})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Estatus"}),e.jsx(wt,{Status:c.status})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(Ne,{})}),e.jsx("button",{onClick:n=>{i("/contacts/upload/"+a.id)},children:e.jsx(_e,{})}),e.jsx("button",{children:e.jsx(Z,{})})]})]}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"check active",children:e.jsx(ve,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Crear Lista"}),e.jsx("span",{className:"desc approve",children:e.jsx("span",{className:"ready-list",children:"Completado !"})})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"check active",children:e.jsx(ve,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Elegir Tipo"}),e.jsx("span",{className:"desc approve",children:e.jsx("span",{className:"ready-list",children:"Completado !"})})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:`check ${c.contacts>0?"active":""}`,children:e.jsx(ve,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Subir Contactos"}),e.jsx("span",{className:"desc",children:c.contacts==0?e.jsx("span",{className:"wait-list",children:"Pendiente"}):e.jsx("span",{className:"ready-list",children:"Completado !"})})]}),e.jsx("div",{className:"right",children:e.jsx("button",{onClick:n=>{i("/contacts/upload/"+a.id)},children:"Subir"})})]})})]})]})}function St({Visible:s,Close:a,Callback:c}){var T;const{UserInfo:l}=t.useContext(G),[i,n]=t.useState(0),[d,x]=t.useState([ye()]),[h,p]=t.useState({type:"",file:{}}),o={analize:!1,percentAnalize:"0",approve:!1},[u,g]=t.useState(o),[v,r]=t.useState(!1);let m=E("input[type='file']");const j=J(),f=U();function C(N){N.stopPropagation(),N.preventDefault();let P=E(N.target);P.parents(".options").find(".active").removeClass("active"),P.addClass("active");let y=P.attr("value");p(B=>({...B,type:y}))}function D(N){var y;let P=!1;switch(E(N.target),(i===0&&h.type=="auto"||h.type=="manu")&&(P=!0),h.type){case"auto":i==1&&((y=h==null?void 0:h.file)==null?void 0:y.name)!==void 0&&F();break}P&&n(B=>B+1)}t.useEffect(()=>{E(".case.active").removeClass("active"),E(".case").eq(i).addClass("active")},[i]);function _(){document.querySelector("input[type='file']").click()}function q(N){g(P=>({...P,percentAnalize:N}))}function S(N){g(P=>({...P,analize:!0})),Ba(N,q).then(P=>{console.log(P),P.analize=="good"&&(g(y=>({...y,approve:!0})),p(y=>({...y,file:P.file})))}).catch(P=>{R(),M.error("Opps! el archivo que intentastes subir no es compatible o tiene algun error."),g(y=>({...y,analize:!1,percentAnalize:0}))})}function F(){var P;r(!0);let N=new FormData;N.append("id_list",f.id),N.append("contacts",h.file),N.append("id_company",(P=l==null?void 0:l.company)==null?void 0:P.id_company),k.post(w+"/api/upload/contacts",N,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}).then(y=>y.data).then(y=>{r(!1),y.status?j("/contacts/detail/"+f.id):M.error(y.msg)}).catch(y=>{r(!1)})}function R(){p(N=>({...N,file:{}})),g(o),m.val("")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[i>0?e.jsxs("button",{className:"return",onClick:N=>{n(P=>P-1)},children:[e.jsx(we,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:N=>{j("/contacts/detail/"+f.id)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Subir nuevos contactos"}),e.jsx("span",{className:"desc",children:"Selecciona de que manera quieres subir los contactos"})]}),e.jsxs("div",{className:"options flex",id:`options-${d[0]}`,children:[e.jsxs("div",{className:"selector",onClick:C,value:"manu",children:[e.jsx("div",{className:"check",children:e.jsx(ce,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"SUBIR MANUALMENTE"}),e.jsx("span",{children:"Agrega tus contactos de forma rápida y sencilla, uno por uno, rellenando los campos de manera dinámica. Con solo unos pocos clics, podrás tener tus contactos listos para comunicarte con ellos de manera personalizada."})]})]}),e.jsxs("div",{className:"selector",onClick:C,value:"auto",children:[e.jsx("div",{className:"check",children:e.jsx(ce,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"SUBIR MEDIANTE ARCHIVO"}),e.jsx("span",{children:"Importa tus contactos de manera rápida y eficiente mediante un archivo. Solo necesitas preparar un archivo en formato (.csv o .txt) con los detalles de tus contactos y nuestro sistema se encargará de procesarlo y añadirlos a tu lista en un instante."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Subir Archivo"}),e.jsx("span",{className:"desc",children:"Sube tu archivo rapidamente para procesarlo en tu lista de contactos."})]}),u.approve==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"file-adjunt",children:[e.jsx("i",{className:"icon",children:e.jsx(oa,{})}),e.jsxs("div",{className:"file",children:[e.jsx("p",{children:(T=h==null?void 0:h.file)==null?void 0:T.name}),e.jsxs("div",{className:"info",children:[e.jsxs("span",{children:["Tipo de archivo: ",h.file.type]}),e.jsxs("span",{children:["Peso: ",h.file.size," kb"]})]}),e.jsx("button",{className:"delete",onClick:R,children:e.jsx(Z,{})})]})]})}):e.jsxs("div",{className:"upload-contact",children:[e.jsx("input",{type:"file",accept:".csv,.txt",onChange:S,hidden:!0}),u.analize==!0?e.jsx(e.Fragment,{children:e.jsxs("p",{children:["Estamos analizando tu archivo... ",u.percentAnalize,"%"]})}):e.jsx("center",{children:e.jsxs("div",{className:"select-upload",onClick:_,children:[e.jsx("i",{className:"icon",children:e.jsx(ma,{})}),e.jsx("p",{children:"Selecciona tu archivo de contactos"})]})})]})]}),e.jsx("div",{className:"actions center",children:e.jsxs("button",{className:`next ${v==!0?"await":""}`,onClick:D,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function _t(){return e.jsx(e.Fragment,{children:e.jsx(St,{Visible:!0})})}function rs(){const[s,a]=t.useState(!0),[c,l]=t.useState(!1),[i,n]=t.useState({save:!1,campaign:!1}),[d,x]=t.useState({results:[],loadingTemplate:!1}),[h,p]=t.useState(!1),[o,u]=t.useState({}),[g,v]=t.useState(""),[r,m]=t.useState(!1),{UserInfo:j}=t.useContext(G),f=U(),[C,D]=t.useState();let _=["Cargando editor...","Nos tardaremos un poco","Que tal tu dia?","Vamos! con mucha imaginacion.","Ahora es un buen momento!","Un poco mas...","Ya casi!","Había una vez!"];const q=J();function S(b,O){var L=document.createElement("script");L.src=b,L.onload=O,document.head.appendChild(L)}t.useEffect(()=>{l(!0),c&&(S("//editor.unlayer.com/embed.js",function(b){console.log(b)}),S("/draganddrop/dist/js/body.js",function(b){console.log(b),setTimeout(()=>{a(!1)},3500)}))},[c]);function F(){unlayer.exportHtml(async function(b){var O;if(g==""||g==null)M.error("Opps debes definir un titulo primero"),p(!0);else{T("save",!0);let L=new FormData,Y=await N().then(K=>K);L.append("preview",Y),L.append("title",g),L.append("html",b.html),L.append("json",JSON.stringify(b.design)),L.append("id_company",(O=j==null?void 0:j.company)==null?void 0:O.id_company),L.append("type","email"),f.id&&L.append("id_template",f.id),k.post(w+"/api/upload/bodycampaign",L,{withCredentials:!0}).then(K=>K.data).then(K=>{K.status&&f.id==null&&q(`/editor/canvas/${K.id_body}`),T("save",!1)}).catch(K=>{T("save",!1)})}})}function R(){l(!0),E("#editor").html(""),q("/editor/canvas")}function T(b,O){n(L=>({...L,[b]:O}))}async function N(){return new Promise((b,O)=>{let L=document.querySelector(".preview-template");try{unlayer.exportHtml(Y=>{L.innerHTML=Y.html,L.innerHTML&&Me(L,{allowTaint:!1,useCORS:!0}).then(K=>{let qe=K.toDataURL("image/png");b(qe)})})}catch(Y){O(Y)}})}function P(){var O;let b=new FormData;b.append("id_company",(O=j==null?void 0:j.company)==null?void 0:O.id_company),k.post(w+"/api/get/templatesall",b,{withCredentials:!0}).then(L=>L.data).then(L=>{x(Y=>({...Y,results:L}))}).catch(L=>{})}function y(){m(!0)}function B(b){var L;let O=new FormData;O.append("id_company",(L=j==null?void 0:j.company)==null?void 0:L.id_company),O.append("id_campaign",b),k.post(w+"/api/get/campaign",O,{withCredentials:!0}).then(Y=>Y.data).then(Y=>{Y&&u(Y)})}t.useEffect(()=>{let O=new URLSearchParams(window.location.search).get("campaign");O&&B(O),P();let L=0;D(_[0]),setInterval(()=>{let Y=_.length;L=L+1,D(_[L-1]),L>=Y&&(L=0)},4500)},[]),t.useEffect(()=>{var b;if(f.id){let O=new FormData;a(!0),O.append("id_template",f.id),O.append("id_company",(b=j==null?void 0:j.company)==null?void 0:b.id_company),k.post(w+"/api/get/templatejson",O,{withCredentials:!0}).then(L=>L.data).then(L=>{a(!1),L.json?unlayer.loadDesign(JSON.parse(L.json)):M.error("Error al cargar la template")}).catch(L=>{a(!1)})}},[f==null?void 0:f.id]);function H(b){v(b.target.value)}function ee(b){q(`/editor/canvas/${b}${o!=null&&o.id_campaign?"?campaign="+o.id_campaign:""}`)}function pe(){var O;T("campaign",!0);let b=new FormData;b.append("id_campaign",o.id_campaign),b.append("id_company",(O=j==null?void 0:j.company)==null?void 0:O.id_company),b.append("id_template",f.id),k.post(w+"/api/update/settemplate",b,{withCredentials:!0}).then(L=>L.data).then(L=>{T("campaign",!1),L.status&&(M.success(L.msg),u(Y=>({...Y,id_template:f.id})))}).catch(L=>{T("campaign",!1)})}function $(){var O;let b=new FormData;b.append("id_campaign",o.id_campaign),b.append("id_company",(O=j==null?void 0:j.company)==null?void 0:O.id_company),u(L=>({...L,id_template:""})),k.post(w+"/api/delete/settemplate",b,{withCredentials:!0}).then(L=>L.data).then(L=>{})}return e.jsxs(e.Fragment,{children:[s?e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:[C," ",e.jsx("div",{className:"loading"})]})]})})}):"",e.jsxs(se,{visible:h,onClick:b=>{p(!1)},next:"Asignar",callback:p,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Elige un titulo"})}),e.jsx("br",{}),e.jsx("div",{className:"content",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Esto te ayudara a identificar tu plantilla"}),e.jsx("input",{type:"text",placeholder:"Titulo de template",onChange:H})]})}),e.jsx("br",{})]}),e.jsxs(se,{visible:r,minWidth:"50%",buttonSave:!1,maxWidth:"150px",callback:m,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Mis Plantillas"})}),e.jsx("br",{}),e.jsxs("div",{className:"content row",children:[d.results.map((b,O)=>{var L;return e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"template",onClick:Y=>{ee(b.id_template)},children:[e.jsx("p",{children:b.title}),e.jsxs("span",{children:["Agregada: ",ae(b.time_add)]}),e.jsx("img",{src:He((L=j==null?void 0:j.company)==null?void 0:L.folder_sftp,b.preview_image)})]})},O)}),d.loadingTemplate==!1&&d.results.length==0?e.jsx(re,{name:"plantillas"}):""]})]}),e.jsxs("div",{className:"editor-canvas",children:[e.jsx("header",{children:e.jsx("link",{href:"/draganddrop/dist/css/style.css",rel:"stylesheet",type:"text/css"})}),e.jsxs("div",{className:"topnav1",children:[e.jsxs("div",{className:"buttons",children:[e.jsxs("button",{style:{background:"transparent"},onClick:b=>{q("/home")},children:[e.jsx(De,{})," Volver"]}),o.name?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"campaign",children:[e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""}),e.jsx("p",{children:o==null?void 0:o.name}),e.jsx("span",{children:"Campaña seleccionada"})]}),o.id_template!==f.id?e.jsxs("button",{className:`${i.campaign==!0?"await":""}`,onClick:pe,children:[e.jsx(pa,{})," Usar Plantilla",e.jsx("div",{className:"loading"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"use",children:"Utilizando plantilla"}),e.jsx("button",{onClick:$,children:e.jsx(Z,{})})]})]}):""]}),e.jsxs("div",{className:"buttons right",children:[e.jsxs("button",{className:`${i.save==!0?"await":""}`,onClick:F,children:[f.id?e.jsxs(e.Fragment,{children:[e.jsx(fe,{})," Editar"]}):e.jsxs(e.Fragment,{children:[" ",e.jsx(xa,{})," Guardar"]}),e.jsx("div",{className:"loading"})]}),e.jsxs("button",{onClick:y,children:[e.jsx(_e,{})," Cargar plantilla"]}),e.jsxs("button",{onClick:R,children:[e.jsx(ha,{})," Nuevo"]}),e.jsx("button",{onClick:y,children:e.jsx(ua,{})})]})]}),e.jsx("div",{className:"preview-template"}),e.jsx("div",{id:"editor"})]})]})}function Et(){const s=J(),[a,c]=t.useState([]),[l,i]=t.useState(!0),[n,d]=t.useState({id_delete:void 0,pending:!1}),[x,h]=t.useState(!1);ke();const{UserInfo:p}=t.useContext(G);function o(){var v;i(!0);let g=new FormData;g.append("id_company",(v=p==null?void 0:p.company)==null?void 0:v.id_company),k.post(w+"/api/get/surveys",g,{withCredentials:!0}).then(r=>r.data).then(r=>{c(r),i(!1)}).catch(r=>{i(!1),M.error(String(r))})}t.useEffect(()=>{l&&o()},[]);function u(){var v;d(r=>({...r,pending:!0}));let g=new FormData;g.append("id_company",(v=p==null?void 0:p.company)==null?void 0:v.id_company),g.append("id_survey",n.id_delete),k.post(w+"/api/delete/survey",g,{withCredentials:!0}).then(r=>r.data).then(r=>{h(!1),r.status&&o(),d(m=>({...m,pending:!1}))}).catch(r=>{d(m=>({...m,pending:!1}))})}return e.jsxs(e.Fragment,{children:[e.jsx(Se,{visible:x,Pending:n.pending,onClick:u,callback:h}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis encuestas"}),e.jsx("span",{children:"Gestiona tus encuestas rapidamente y optimiza tus estrategias"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:g=>{s("/surveys/editor")},children:"Crear nueva encuesta"})})]}),e.jsxs("div",{className:"row",children:[l==!1?a.map((g,v)=>{var r;return e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${w}/api/get/previewsurvey?miniature=${g.miniature})`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{onClick:m=>{h(!0),d(j=>({...j,id_delete:g.id_survey}))},children:e.jsx(Z,{})}),e.jsx("button",{onClick:m=>{s("/surveys/editor/"+g.id_survey)},children:e.jsx(fe,{})}),e.jsx("button",{onClick:m=>{s(`/stats/survey/${g.id_survey}`)},children:e.jsx(Ne,{})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:(r=g==null?void 0:g.header)==null?void 0:r.title}),e.jsxs("span",{children:["Encuesta agregada el: ",ae(g.time_add)]})]})]})},v)}):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(me,{})})}),l==!1&&a.length==0?e.jsx(re,{name:"encuestas"}):""]})]})}function Ft({header:s,value:a,keyid:c,setModalImage:l,page:i,setEdit:n,setJson:d}){var v;function x(r,m,j){h(j),n({type:r,key:m,page:i})}function h(r){let m=E(r.target).parents(".question");E(".question.active").removeClass("active"),m.addClass("active")}function p(r){let m=r.target.value;d(j=>{let f=[...j];return f[i].quests[c].type=m,f})}function o(r){h(r),r.stopPropagation(),n({});let m=!0;d(j=>{const f=[...j];return m&&(f[i].quests[c].questions.push({}),m=!1),f})}function u(r,m){r.stopPropagation();let j=!0;d(f=>{var D;let C=[...f];if(j&&(D=C[i])!=null&&D.quests[c]){let _=[];C[i].quests[c].questions.forEach((q,S)=>{S!==m?_.push(q):j=!1}),C[i].quests[c].questions=_}return C})}function g(r){r.stopPropagation();let m=!0;d(j=>{let f=[...j],C=[];return f[i].quests.forEach((D,_)=>{_!==c&&C.push(D)}),m&&(f[i].quests=C,m=!1),f})}return E(document).on("click",".options button",function(r){r.stopImmediatePropagation(),E(".edit-active").removeClass("edit-active"),E(this).parents(".options").parents(".quest").addClass("edit-active")}),E(document).on("click",".top p, .top span",function(r){r.stopImmediatePropagation(),E(".edit-active").removeClass("edit-active"),E(this).addClass("edit-active")}),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"question edit",colorBox:s.colorBox,style:{borderRadius:s.borderRadius+"px"},children:[e.jsx("button",{className:"delete-question",onClick:r=>{g(r),n({})},children:e.jsx(Z,{})}),e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",onClick:r=>{x("title",c,r)},children:a!=null&&a.title?a.title:"Elige un titulo..."}),e.jsx("span",{onClick:r=>{x("desc",c,r)},children:a!=null&&a.desc?a.desc:"Elige una descripcion... (opcional)"})]}),a!=null&&a.img?e.jsx("img",{className:"img-quest",src:a.img}):"",e.jsxs("div",{className:"select-types",children:[e.jsx("button",{onClick:o,className:"add-quest",children:"Agregar pregunta"}),e.jsx("button",{onClick:r=>{l(!0),n({key:c,type:"add-image",page:i})},children:e.jsx(ja,{})}),e.jsxs("select",{onChange:p,children:[e.jsx("option",{value:"input",children:"Respuesta corta"}),e.jsx("option",{value:"input-large",children:"Respuesta larga"}),e.jsx("option",{value:"radio",children:"Opcion multiple"}),e.jsx("option",{value:"check",children:"Casillas de verificacion"})]})]}),(v=a==null?void 0:a.questions)==null?void 0:v.map((r,m)=>e.jsxs("div",{className:"quest",children:[a.type=="input"?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",disabled:!0,placeholder:`${r.title?r.title:"Elige una descripcion"}`}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:j=>{u(j,m)},children:e.jsx(Z,{})}),e.jsx("button",{onClick:j=>{n({key:c,type:"title-quest",quest_key:m,page:i})},children:e.jsx(fe,{})})]})]}):"",a.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:c})," ",e.jsx("span",{children:r.title?r.title:"Elige una descripcion..."}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:j=>{u(j,m)},children:e.jsx(Z,{})}),e.jsx("button",{onClick:j=>{n({key:c,type:"title-quest",quest_key:m,page:i})},children:e.jsx(fe,{})})]})]}):"",a.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:c})," ",e.jsx("span",{children:r.title?r.title:"Elige una descripcion..."}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:j=>{u(j,m)},children:e.jsx(Z,{})}),e.jsx("button",{onClick:j=>{n({key:c,type:"title-quest",quest_key:m,page:i})},children:e.jsx(fe,{})})]})]}):"",a.type=="input-large"?e.jsxs(e.Fragment,{children:[e.jsx("textarea",{type:"checkbox",name:c,placeholder:r.title,style:{width:"100%"}}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:j=>{u(j,m)},children:e.jsx(Z,{})}),e.jsx("button",{onClick:j=>{n({key:c,type:"title-quest",quest_key:m,page:i})},children:e.jsx(fe,{})})]})]}):""]},m))]})})}function Dt({json:s=[],header:a={},setJson:c,setEdit:l,edit:i}){var D,_;const[n,d]=t.useState(!1),[x,h]=t.useState(!1);t.useState([]);const[p,o]=t.useState("email"),[u,g]=t.useState({width:"",left:""});J();function v(){c(q=>[...q,{quests:[{title:"",desc:"",type:"radio",questions:[]}]}])}function r(q){let S=!0;c(F=>{var N;let R=[...F],T=(N=R[q])==null?void 0:N.quests;return S&&(R[q].quests=[...T,{title:"",desc:"",type:"radio",img:"",questions:[]}],S=!1),R})}function m(q){c(S=>{let F=[...S],R=[];return F.forEach((T,N)=>{N!==q&&(console.log(q===N),R.push(T))}),F=R,F})}function j(){let q=document.querySelector("#image-edit").value;c(S=>{let F=[...S];return F[i.page].quests[i.key].img=q,F}),d(!1)}function f(){window.localStorage.setItem("surveyPreview",JSON.stringify(s)),window.localStorage.setItem("surveyPreviewHead",JSON.stringify(a)),window.open("/surveys/preview","_blank")}function C(q){let S=q.target.value;o(S),g(F=>({...F,width:q.target.offsetWidth,left:q.target.offsetLeft}))}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{onClick:f,children:[e.jsx(xe,{})," Previsualizar"]}),e.jsxs("button",{onClick:q=>{h(!0)},children:[e.jsx(Te,{})," Enviar"]})]})}),e.jsxs(se,{visible:x,minWidth:"35%",callback:h,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enviar"}),e.jsx("span",{children:"Tienes distintas opciones para enviar esta encuesta"})]}),a.short_link==null?e.jsx("span",{className:"alert-save",children:"Opps! aun no puedes usar esta funcion no has guardado la encuesta."}):"",e.jsx("div",{className:"menu-change",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("span",{children:"Enviar por"})}),e.jsx("li",{children:e.jsx("button",{className:`${p=="email"?"active":""}`,onClick:C,value:"email",children:e.jsx(ga,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${p=="link"?"active":""}`,onClick:C,value:"link",children:e.jsx(va,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${p=="embed"?"active":""}`,onClick:C,value:"embed",children:e.jsx(fa,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${p=="settings"?"active":""}`,onClick:C,value:"settings",children:e.jsx(gs,{})})}),e.jsx("div",{className:"hover",style:{left:u.left+"px",width:u.width+"px"}})]})}),e.jsxs("div",{className:`result-menu ${a.short_link==null?"disabled":""} ${p=="email"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo electronico"}),e.jsx("input",{type:"text",placeholder:"contactos"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Asunto"}),e.jsx("input",{type:"text",placeholder:"informacion de contacto"})]})]}),e.jsxs("div",{className:`result-menu ${a.short_link==null?"disabled":""} ${p=="link"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Enlace"}),e.jsx("input",{type:"text",placeholder:"contactos",value:`${Ae}/survey/${a.token}`,disabled:!0})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Enlace Corto"}),e.jsx("input",{type:"text",placeholder:"url corta",value:a.short_link,disabled:!0})]})]}),e.jsx("div",{className:`result-menu ${a.short_link==null?"disabled":""} ${p=="embed"?"show":""}`,children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Incorporar HTML"}),e.jsx("input",{type:"text",placeholder:"contactos"})]})}),e.jsxs("div",{className:`result-menu ${a.short_link==null?"disabled":""} ${p=="settings"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Condicion de respuesta "}),e.jsxs("select",{name:"",id:"",children:[e.jsx("option",{value:"",children:"Responder varias veces"}),e.jsx("option",{value:"",children:"Responder solo una vez"})]})]}),e.jsx("div",{className:"form-input"})]})]}),e.jsxs(se,{visible:n,callback:d,onClick:j,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Url de imagen"}),e.jsx("span",{children:"Ingresa la url de la imagen que quieres integrar en tu pregunta"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",id:"image-edit",placeholder:"https://image.com/image.png"})})]}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${a.blur}px)brightness(${a.brightness})`,background:a.background2}}),e.jsxs("div",{className:"survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(D=a==null?void 0:a.logo)!=null&&D.length?e.jsx("img",{className:"logo",src:a==null?void 0:a.logo}):"",(_=a==null?void 0:a.title)!=null&&_.length?e.jsx("p",{className:"",children:a.title}):""]})}),s==null?void 0:s.map((q,S)=>{var F;return e.jsxs("div",{className:"page",children:[e.jsxs("div",{className:"info-page",children:[e.jsxs("p",{children:["Pagina ",S+1]}),e.jsx("button",{className:"delete",onClick:R=>{m(S)},children:e.jsx(Z,{})})]}),(F=q.quests)==null?void 0:F.map((R,T)=>e.jsx(Ft,{header:a,setModalImage:d,value:R,page:S,keyid:T,setEdit:l,setJson:c},T)),e.jsxs("button",{className:"add-new",onClick:R=>{r(S)},children:[e.jsx(Le,{})," Nueva pregunta"]})]},S)}),e.jsxs("div",{className:"add-new",onClick:v,children:[e.jsx(Le,{})," Nueva pagina"]})]})]})}function Pt({setHeader:s,header:a,json:c}){const[l,i]=t.useState(!1),{UserInfo:n}=t.useContext(G);t.useState();function d(h){let p=h.target.value,o=h.target.name;o=="background"&&(p.indexOf("http")>=0||p.indexOf("www")>=0)&&(p=`url(${p})`),s(u=>({...u,[o]:p}))}async function x(){var p;let h=new FormData;if(a.id_survey&&h.append("id_survey",a.id_survey),h.append("header",JSON.stringify(a)),h.append("id_company",(p=n==null?void 0:n.company)==null?void 0:p.id_company),h.append("json",JSON.stringify(c)),a.title)if(c.length>=1){let o=await new Promise((u,g)=>{Me(document.querySelector(".center"),{allowTaint:!1,useCORS:!0}).then(v=>{let r=v.toDataURL("image/png");u(r)})});o&&h.append("miniature",o.replace("data:image/png;base64,","")),i(!0),k.post(w+"/api/upload/survey",h,{withCredentials:!0}).then(u=>u.data).then(u=>{u.status&&(u.id_survey&&(a.id_survey||s(g=>({...g,id_survey:u.id_survey}))),u.token&&s(g=>({...g,token:u.token})),u.short_link&&s(g=>({...g,short_link:u.short_link}))),i(!1)}).catch(u=>{i(!1)})}else M.error("Opps no has agregado una pregunta.");else M.error("Opps no has elegido un titulo")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar encuesta"}),e.jsx("span",{children:"Personaliza tu encuesta, imagen, fondo, titulo y logo."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Titulo"}),e.jsx("input",{type:"text",onChange:d,defaultValue:a.title,name:"title",placeholder:"Ej: Encuesta de fidelidad"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Ingresa url de tu logo"}),e.jsx("input",{type:"text",onChange:d,defaultValue:a.logo,name:"logo"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",onChange:d,defaultValue:a.background,name:"background"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",defaultValue:0,step:"0.1",max:"10",value:a.blur,onChange:d,name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",defaultValue:1,step:"0.0",max:"1",value:a.brightness,onChange:d,name:"brightness"})]}),e.jsx("br",{}),e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar Cajas"}),e.jsx("span",{children:"Personaliza de tu manera preferida tus cajas."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border Radius"}),e.jsx("input",{type:"range",defaultValue:.1,step:"0.1",max:"20",onChange:d,name:"borderRadius"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{onClick:h=>{d(h)},name:"colorBox",value:"ligth",children:"Modo Claro"}),e.jsx("button",{onClick:h=>{d(h)},name:"colorBox",value:"dark",children:"Modo Oscuro"}),e.jsx("button",{onClick:h=>{d(h)},name:"colorBox",value:"transparent",children:"Transparente"})]})]}),e.jsx("div",{className:"option",children:e.jsxs("button",{className:`save ${l?"await":""}`,onClick:x,children:["Guardar ",e.jsx("div",{className:"loading"})]})})]})}function Tt({value:s,page:a,setJson:c,keyid:l}){function i(n){let d=n.target.value;c(x=>{const h=[...x];return h[a].quests[l].title=d,h[a].quests[l].response=0,h})}return t.useEffect(()=>{s!=null&&s.title&&(console.log("ok"),document.querySelector("#title-edit").value=s.title)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo de pregunta"}),e.jsx("input",{id:"title-edit",onChange:i,type:"text",placeholder:"Ej: Como te llamas?"})]})})})}function Lt({page:s,value:a,setJson:c,keyid:l}){function i(n){let d=n.target.value;c(x=>{const h=[...x];return h[s].quests[l].desc=d,h})}return t.useEffect(()=>{a!=null&&a.desc&&(console.log("ok"),document.querySelector("#title-edit").value=a.desc)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descripcion de pregunta"}),e.jsx("input",{id:"title-edit",onChange:i,type:"text",placeholder:"Ej: Tu nombre es importante por que..."})]})})})}function qt({quest_key:s,page:a,value:c,setJson:l,keyid:i}){function n(d){d.stopPropagation();let x=d.target.value;l(h=>{let p=[...h];return p[a].quests[i].questions[s].title=x,p})}return t.useEffect(()=>{console.log(c)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo de pregunta"}),e.jsx("input",{id:"title-edit",onChange:n,type:"text",placeholder:"Ej: Como te llamas?"})]})})})}function Ot({edit:s,json:a,setJson:c}){var l;return e.jsxs(e.Fragment,{children:[s.type=="title"?e.jsx(Tt,{page:s.page,value:a[s.key],setJson:c,keyid:s.key},s.key):"",s.type=="desc"?e.jsx(Lt,{page:s.page,value:a[s.key],setJson:c,keyid:s.key},s.key):"",s.type=="title-quest"?e.jsx(qt,{page:s.page,quest_key:s.quest_key,value:(l=a[s.page].quests[s.key])==null?void 0:l.questions[s.quest_key],setJson:c,keyid:s.key},s.key):""]})}function ds(){const[s,a]=t.useState({title:"",logo:"",background:"",blur:"0.5",brightness:""}),[c,l]=t.useState([]),[i,n]=t.useState({type:"",key:"",quest_key:"",page:""}),{UserInfo:d}=t.useContext(G),x=U(),[h,p]=t.useState(!0);function o(){var g;p(!0);let u=new FormData;u.append("id_survey",x.idsurvey),u.append("id_company",(g=d==null?void 0:d.company)==null?void 0:g.id_company),k.post(w+"/api/get/surveys",u,{withCredentials:!0}).then(v=>v.data).then(v=>{p(!1),v.header&&a(JSON.parse(v.header)),v.json&&l(JSON.parse(v.json))}).catch(v=>{p(!1),M.error(String(v))})}return t.useEffect(()=>{x.idsurvey?o():setTimeout(()=>{p(!1)},1e3)},[]),e.jsxs(e.Fragment,{children:[h?e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:["Cargando... ",e.jsx("div",{className:"loading"})]})]})}):"",e.jsx("div",{className:"editor-surveys",children:e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:"left",children:e.jsx(Pt,{setHeader:a,header:s,json:c})}),e.jsx("div",{className:"center",style:{background:s.background},children:e.jsx(Dt,{json:c,header:s,edit:i,setJson:l,setEdit:n})}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"type-editor",children:e.jsx(Ot,{edit:i,setJson:l,json:c,header:s})})})]})})]})}function os(){var o,u,g,v;const[s,a]=t.useState([]),[c,l]=t.useState(0),[i,n]=t.useState({}),[d,x]=t.useState(0);t.useEffect(()=>{a(JSON.parse(window.localStorage.getItem("surveyPreview"))),n(JSON.parse(window.localStorage.getItem("surveyPreviewHead")))},[]),t.useEffect(()=>{s.length&&l(s.length)},[s]);function h(){x(r=>r+1)}function p(){x(r=>r-1)}return e.jsxs("div",{className:"survey real",colorBox:i==null?void 0:i.colorBox,style:{background:i==null?void 0:i.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${i.blur}px)brightness(${i.brightness})`}}),e.jsxs("div",{className:"margin-survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(o=i==null?void 0:i.logo)!=null&&o.length?e.jsx("img",{className:"logo",src:i==null?void 0:i.logo}):"",(u=i==null?void 0:i.title)!=null&&u.length?e.jsx("p",{className:"",children:i.title}):""]})}),(v=(g=s[d])==null?void 0:g.quests)==null?void 0:v.map((r,m)=>{var j;return e.jsxs("div",{className:"question",style:{borderRadius:(i==null?void 0:i.borderRadius)+"px"},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:r.title}),e.jsx("span",{children:r.desc})]}),r!=null&&r.img?e.jsx("img",{className:"img-quest",src:r.img}):"",(j=r==null?void 0:r.questions)==null?void 0:j.map((f,C)=>e.jsxs("div",{className:"quest",children:[r.type=="input"?e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",disabled:!0,placeholder:`${f.title}`})}):"",r.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:0})," ",e.jsx("span",{children:f.title})]}):"",r.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:0})," ",e.jsx("span",{children:f.title})]}):"",r.type=="input-large"?e.jsx(e.Fragment,{children:e.jsx("textarea",{name:0,placeholder:f.title,style:{width:"100%"}})}):""]},C))]},m)}),e.jsx("div",{className:"buttons-bottom",children:d==c-1?e.jsxs(e.Fragment,{children:[d?e.jsx("button",{onClick:p,children:"Volver"}):"",e.jsx("button",{children:"Terminar"})]}):d<c-1?e.jsxs(e.Fragment,{children:[d?e.jsx("button",{onClick:p,children:"Volver"}):"",e.jsx("button",{onClick:h,children:"Siguiente"})]}):""})]})]})}function At(){var m,j;const s=U(),[a,c]=t.useState([]),[l,i]=t.useState(!0),[n,d]=t.useState([]),[x,h]=t.useState(),[p,o]=t.useState(0);function u(){let f=new FormData;f.append("key",s.id),k.post(w+"/api/get/survey",f,{withCredentials:!0}).then(C=>C.data).then(C=>{i(!1),c(C)}).catch(C=>{i(!1)})}function g(f){f.preventDefault(),o(C=>C+1)}function v(f){f.preventDefault(),o(C=>C-1)}t.useEffect(()=>{s.id&&l==!0&&u()},[]),t.useEffect(()=>{a.header&&(h(JSON==null?void 0:JSON.parse(a==null?void 0:a.header)),d(JSON.parse(a.json)))},[a]);function r(f){f.preventDefault();let C=document.querySelector("#form"),D=new FormData(C);D.append("key",s.id),k.post(w+"/api/upload/responseSurvey",D,{withCredentials:!0})}return e.jsx(e.Fragment,{children:l?e.jsx("div",{className:"app",children:e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:["Cargando encuesta... ",e.jsx("div",{className:"loading"})]})]})})}):e.jsxs("div",{className:"survey real",colorBox:x==null?void 0:x.colorBox,style:{background:x==null?void 0:x.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${x==null?void 0:x.blur}px)brightness(${x==null?void 0:x.brightness})`}}),e.jsxs("div",{className:"margin-survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(m=x==null?void 0:x.logo)!=null&&m.length?e.jsx("img",{className:"logo",src:x==null?void 0:x.logo}):"",(j=x==null?void 0:x.title)!=null&&j.length?e.jsx("p",{className:"",children:x.title}):""]})}),e.jsx("form",{method:"POST",encType:"multipart/form-data",id:"form",children:n.map((f,C)=>{var D;return e.jsx("div",{className:`page ${C==p?"active":""}`,children:(D=f==null?void 0:f.quests)==null?void 0:D.map((_,q)=>{var S;return e.jsxs("div",{className:"question",style:{borderRadius:(x==null?void 0:x.borderRadius)+"px"},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:_.title}),e.jsx("span",{children:_.desc})]}),_!=null&&_.img?e.jsx("img",{className:"img-quest",src:_.img}):"",(S=_==null?void 0:_.questions)==null?void 0:S.map((F,R)=>e.jsxs("div",{className:"quest",children:[_.type=="input"?e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",name:`${C}-${q}-${R}`,placeholder:`${F.title}`})}):"",_.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:`${C}-${q}`,value:F.title})," ",e.jsx("span",{children:F.title})]}):"",_.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:`${C}-${q}-${R}`})," ",e.jsx("span",{children:F.title})]}):"",_.type=="input-large"?e.jsx(e.Fragment,{children:e.jsx("textarea",{name:`${C}-${q}-${R}`,placeholder:F.title,style:{width:"100%"}})}):""]},R))]},q)})})})}),e.jsx("div",{className:"buttons-bottom",children:p==n.length-1?e.jsxs(e.Fragment,{children:[p?e.jsx("button",{onClick:v,children:"Volver"}):"",e.jsxs("button",{onClick:r,className:"pending",children:["Terminar ",e.jsx("div",{className:"loading"})]})]}):e.jsxs(e.Fragment,{children:[p?e.jsx("button",{onClick:v,children:"Volver"}):"",e.jsx("button",{onClick:g,children:"Siguiente"})]})})]})]})})}function Xe(){const s=U();return e.jsx(e.Fragment,{children:e.jsx("div",{className:"menu-top",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(A,{to:`/stats/survey/${s.id}`,children:"Estadisticas"})}),e.jsx("li",{children:e.jsx(A,{to:`/stats/survey/${s.id}/detail`,children:"Detalles de respuestas"})}),e.jsx("li",{children:e.jsx(A,{to:`/stats/survey/${s.id}/response`,children:"Respuestas"})})]})})})}function Rt(){const{UserInfo:s}=t.useContext(G),[a,c]=t.useState(!1);t.useState({});const[l,i]=t.useState([]),[n,d]=t.useState([]),[x,h]=t.useState([]),[p,o]=t.useState({}),[u,g]=t.useState({options:{chart:{id:"basic-bar"},xaxis:{categories:[]}},series:[{name:"series-1",data:[]}]}),v=U();function r(){var j;let m=new FormData;m.append("id_company",(j=s==null?void 0:s.company)==null?void 0:j.id_company),m.append("id_survey",v.id),k.post(w+"/api/get/statsurvey",m,{withCredentials:!0}).then(f=>f.data).then(f=>{d(f.days),o(f),h(f.daysResponse),i(f.countrys)})}return t.useEffect(()=>{r(),c(!0)},[a]),t.useEffect(()=>{g(m=>({...m,options:{...m.options,xaxis:{categories:n}},series:[{name:"serie 1",data:x}]}))},[x]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Encuesta: ",v.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu encuesta"})]})}),e.jsx(Xe,{}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Respuestas este mes"})}),e.jsx(Ee,{options:u.options,series:u.series,type:"area",height:300})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Preguntas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:p==null?void 0:p.totalQuestions})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Paginas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:p==null?void 0:p.pageTotal})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Respuestas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:p.totalResponse})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Visitas"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"100"})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{className:"title",children:"Tops Paises"})}),e.jsx("div",{className:"result countryr",children:l.map((m,j)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:Ds(m.country),alt:""}),e.jsx("p",{className:"",children:m.country==""?"Undefined":Ps(String(m.country).toLocaleLowerCase())}),e.jsxs("span",{children:["(",m.amount,")"]})]},j))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding",children:e.jsx("div",{className:"top",children:e.jsx("p",{className:"title",children:"Tops Respuestas"})})})})]})})]})}function Mt(){const s=U(),a=J(),{UserInfo:c}=t.useContext(G),[l,i]=t.useState([]),[n,d]=t.useState(!1),[x,h]=t.useState({series:[{name:"Respuestas",data:[]}],chart:{type:"area",height:350,stacked:!0},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:[]}}),[p,o]=t.useState({series:[],theme:{palette:"palette3"},labels:[],chart:{type:"donut"}}),u=()=>{let r=new FormData;r.append("key",s.id),k.post(w+"/api/get/survey",r,{withCredentials:!0}).then(m=>m.data).then(m=>{i(JSON.parse(m.json)),g(m)})};function g(r){let m=JSON.parse(r.json),j=[],f=[],C=[],D=[];m.map((_,q)=>{_.quests.map((S,F)=>{S.type=="radio"&&S.questions.map((R,T)=>{j.push(`${R.title} (${q+1})`),f.push(R.response),C.push(`${S.title} - ${R.title}`),D.push(R.response),h(N=>({...N,xaxis:{...N,categories:j}})),h(N=>(N.series=[{name:"Respuesta",data:f}],N)),o(N=>(N.labels=C,N.series=D,N))})})})}function v(r){var j;let m=new FormData;m.append("id_company",(j=c==null?void 0:c.company)==null?void 0:j.id_company),m.append("id_survey",s.id),m.append("case",r),k.post(w+"/api/get/downloadsurvey",m,{withCredentials:!0}).then(f=>f.data).then(f=>{console.log(f)})}return t.useEffect(()=>{u()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"modal-map",style:{display:n?"block":"none"},children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Mapa completo"}),e.jsx("span",{children:"Puedes ver el mapa completamente de las respuestas de los usuarios."}),e.jsx("button",{className:"close",onClick:r=>{d(!1)},children:e.jsx(Pe,{})})]}),e.jsx("div",{className:"map-suv complete",children:l==null?void 0:l.map((r,m)=>e.jsxs("div",{className:"pg",children:[e.jsx("div",{className:"info",children:e.jsxs("p",{children:["Pagina ",m+1]})}),e.jsx("div",{className:"separate"}),r.quests.map((j,f)=>e.jsxs("div",{className:"quests",children:[e.jsx("div",{className:"info",children:e.jsx("p",{children:j.title})}),e.jsx("div",{className:"separate"}),e.jsx("div",{className:"questions-type",children:j.questions.map((C,D)=>e.jsxs("div",{className:"question",children:[e.jsx("div",{className:"separate quest"}),e.jsxs("span",{className:"value",children:[C.title,j.type=="radio"?e.jsxs(e.Fragment,{children:[" (",C.response,") "]}):""]})]}))})]},f))]}))})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles De Encuesta "}),e.jsx("span",{children:"Estas son los detalles de las respuestas"})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"go-wizard",children:"Descargar (CSV)"}),e.jsx("button",{className:"go-wizard",onClick:r=>{v("json")},children:"Descargar (JSON)"}),e.jsx("button",{className:"go-wizard",onClick:r=>{a(`/stats/survey/${s.id}/response`)},children:"Respuestas"})]})]}),e.jsx(Xe,{}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Estadisticas de respuestas"}),e.jsx("span",{children:"Estadisticas de las respuestas, veras cuantas veces respondieron a algo."})]}),e.jsx(Ee,{options:x,series:x.series,type:"bar",height:300})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top ",children:[e.jsx("p",{children:"Porcentaje de respuesta"}),e.jsx("span",{children:"Este es el porcentaje de respuesta por cada pregunta."})]}),p.labels.length?e.jsx(Ee,{options:p,series:p.series,type:"donut",height:300}):""]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top ",children:[e.jsx("p",{children:"Mapa de encuesta"}),e.jsx("span",{children:"Este es mapa de tu encuesta, donde veras un mapa sobre la encuesta ejecutada."})]}),e.jsx("div",{className:"map-suv maxheight",children:l==null?void 0:l.map((r,m)=>e.jsxs("div",{className:"pg",children:[e.jsx("div",{className:"info",children:e.jsxs("p",{children:["Pagina ",m+1]})}),e.jsx("div",{className:"separate"}),r.quests.map((j,f)=>e.jsxs("div",{className:"quests",children:[e.jsx("div",{className:"info",children:e.jsx("p",{children:j.title})}),e.jsx("div",{className:"separate"}),e.jsx("div",{className:"questions-type",children:j.questions.map((C,D)=>e.jsxs("div",{className:"question",children:[e.jsx("div",{className:"separate quest"}),e.jsxs("span",{className:"value",children:[C.title,j.type=="radio"?e.jsxs(e.Fragment,{children:[" (",C.response,") "]}):""]})]}))})]},f))]}))}),e.jsx("button",{className:"action-complete",onClick:r=>{d(!0)},children:"Ver mapa completo"})]})})]})]})}function $t(){let s=U();const[a,c]=t.useState([]),[l,i]=t.useState([]),[n,d]=t.useState(!1),{UserInfo:x}=t.useContext(G);function h(){var o;let p=new FormData;p.append("id_survey",s.id),p.append("id_company",(o=x==null?void 0:x.company)==null?void 0:o.id_company),k.post(w+"/api/get/responsesurvey",p,{withCredentials:!0}).then(u=>u.data).then(u=>{u.length&&(c(u),u.forEach((g,v)=>{i(r=>[...r,JSON.parse(g.json_response)])}))})}return t.useEffect(()=>{d(!0),n&&h()},[n]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Respuestas"}),e.jsx("span",{children:"Ver todas las respuestas hechas en tu encuesta"})]}),e.jsx("div",{className:"right"})]}),e.jsx(Xe,{}),e.jsx("div",{className:"row",children:l.map((p,o)=>e.jsx("div",{className:"col-6",children:e.jsx("div",{className:"box box-padding",children:e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"top",children:e.jsx("div",{className:"top",children:e.jsxs("p",{children:["Respuesta #",o+1]})})}),e.jsx("div",{className:"response",children:Object.entries(p).map(([u,g])=>e.jsx("div",{children:e.jsxs("span",{children:[u,": ",g]})},u))})]})})},o))})]})}function ms(){const s=J(),[a,c]=t.useState([]),[l,i]=t.useState(!0),{UserInfo:n}=t.useContext(G),[d,x]=t.useState(!1),[h,p]=t.useState(!1),[o,u]=t.useState({url:""}),g=ke();t.useEffect(()=>{je("/add")&&p(!0)},[g]);function v(m=!1){var f;let j=new FormData;j.append("id_company",(f=n==null?void 0:n.company)==null?void 0:f.id_company),i(!0),m||c([]),k.post(w+"/api/get/myurls",j,{withCredentials:!0}).then(C=>C.data).then(C=>{i(!1),c(C)})}function r(){var j;let m=new FormData;m.append("url",o.url),m.append("id_company",(j=n==null?void 0:n.company)==null?void 0:j.id_company),x(!0),k.post(w+"/api/upload/shortlink",m,{withCredentials:!0}).then(f=>f.data).then(f=>{x(!1),f.status&&(v(),p(!1))}).catch(f=>{x(!1)})}return t.useEffect(()=>{v()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(se,{visible:h,onClick:r,callback:p,Pending:d,next:"Crear",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nuevo enlace"}),e.jsx("span",{children:"Crea tu nuevo enlace rapidamente con esta herramienta"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"url",placeholder:"Enlace",onChange:m=>{u({url:m.target.value})}})})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus urls "}),e.jsx("span",{children:"Estas son tus urls cortas que has creado donde podras llevar las estadisticas de cada una."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:m=>{p(!0)},children:"Crear nueva URL"})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[a.map((m,j)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:"URL CORTA"}),e.jsxs("span",{className:"desc",children:[Ae,"/",m.token]}),e.jsx("br",{}),e.jsxs("span",{className:"desc",children:[Ae,"/",m.token]})]})]}),e.jsxs("div",{children:[e.jsx("p",{children:"URL"}),e.jsx("span",{children:m.real_link})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:f=>{s("")},children:e.jsx(Z,{})}),e.jsxs("button",{onClick:f=>{s("/shorturls/"+m.id_shortlink)},children:[e.jsx(te,{})," "]})]})]},j)),l==!0?e.jsx(me,{}):l==!1&&a.length==0?e.jsx(re,{name:"urls"}):""]})})})]})}function zt(){var v,r;const s=U(),{UserInfo:a}=t.useContext(G),[c,l]=t.useState([]);t.useState([]);const[i,n]=t.useState(),[d,x]=t.useState([]),h=t.useRef(null),[p,o]=t.useState({series:[{name:"Respuestas",data:[]}],chart:{type:"area",height:350,stacked:!0},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:[]}}),u=new vs({width:600,height:600,image:"/img/icons/iconsvg.png",dotsOptions:{color:"gradient",type:"extra-rounded",gradient:{colorStops:[{offset:0,color:"#000"},{offset:1,color:"#000"}]}},imageOptions:{crossOrigin:"anonymous",margin:20}});function g(m){var f;let j=new FormData;j.append("id_company",(f=a==null?void 0:a.company)==null?void 0:f.id_company),j.append("month",m.month),j.append("year",m.year),j.append("id_shortlink",s.id),k.post(w+"/api/get/statshortlink",j,{withCredentials:!0}).then(C=>C.data).then(C=>{l(C.countrys),x(C.devices),o(D=>(D.series[0].data=C.dayResponse,D.xaxis.categories=C.days,D)),n(C.token)})}return t.useEffect(()=>{g({month:new Date().getMonth()+1})},[]),t.useEffect(()=>{i&&(u.append(h.current),u.update({data:Ae+"/"+i+"?qr=true"}))},[i]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Detalle de enlace: ",s.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu enlace corto"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:"",children:"Volver"})})]}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Clicks este mes"}),e.jsx("span",{children:"Aca podras evaluar los clicks hecho por el mes actual y anteriores."})]}),(r=(v=p==null?void 0:p.series[0])==null?void 0:v.data)!=null&&r.length?e.jsx(Ee,{options:p,series:p.series,type:"area",height:300}):""]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Visitas"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"20"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"QR Code"})}),e.jsx("div",{className:"resp-number",children:e.jsx("div",{className:"qr-code",children:e.jsx("div",{ref:h})})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Tops Paises"}),e.jsx("span",{children:"Tops de los paises que mas visitaron el enlace"})]}),e.jsx("div",{className:"result countryr",children:c.map((m,j)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:Ds(m.country),alt:""}),e.jsx("p",{className:"",children:m.country==""?"Undefined":Ps(m.country)}),e.jsxs("span",{children:["(",m.count,")"]})]},j))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Tops Os"}),e.jsx("span",{children:"Top de los sistemas operativos mas usado por los usuarios"})]}),e.jsx("div",{className:"result countryr",children:d.map((m,j)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:Va(m.device),alt:""}),e.jsx("p",{className:"",children:m.device}),e.jsxs("span",{children:["(",m.count,")"]})]},j))})]})})]})})]})}function Bt(){}function ps(){const[s,a]=t.useState(),c=J(),[l,i]=t.useState(!1),[n,d]=t.useState([]),[x,h]=t.useState(!1),[p,o]=t.useState({name:""}),{UserInfo:u}=t.useContext(G),g=ke();t.useEffect(()=>{je("/add")&&i(!0)},[g]);function v(){var j;let m=new FormData;m.append("id_company",(j=u==null?void 0:u.company)==null?void 0:j.id_company),a(!0),k.post(w+"/api/get/shortlinkcampaigns",m,{withCredentials:!0}).then(f=>f.data).then(f=>{a(!1),d(f)}).catch(f=>{a(!1)})}function r(){var j;const m=new FormData;h(!0),m.append("name",p.name),m.append("id_company",(j=u==null?void 0:u.company)==null?void 0:j.id_company),k.post(w+"/api/upload/shortlinkcampaign",m,{withCredentials:!0}).then(f=>f.data).then(f=>{h(!1),f.status&&(v(),i(!1))}).catch(f=>{h(!1)})}return t.useEffect(()=>{v()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(se,{visible:l,onClick:r,callback:i,maxWidth:"250px",Pending:x,next:"Agregar",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nueva campaña"}),e.jsx("span",{children:"Crea tu nueva campaña rapidamente para analizar tus multiples enlaces"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de campaña",name:"name",onChange:m=>{o({...p,name:m.target.value})}})})]},l),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Campañas"}),e.jsx("span",{children:"Aca puedes visualizar o crear campañas para enlaces multiples sobre una campaña"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:m=>{i(!0)},children:"Crear nueva campaña"})})]}),e.jsx("div",{className:"body-stats",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[n.map((m,j)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:m.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(Z,{})}),e.jsx("button",{onClick:f=>{c("/shorturls/campaigns/"+m.id_campaign)},children:e.jsx(Ne,{})})]})]})),s?e.jsx(me,{}):n.length==0?e.jsx(re,{name:"campañas"}):""]})})})})]})}function Vt(){var _,q;const s=U(),[a,c]=t.useState(!1),[l,i]=t.useState(!1),{UserInfo:n}=t.useContext(G),[d,x]=t.useState(!0),[h,p]=t.useState(!1),[o,u]=t.useState({});let g={url:"",app:"others"};const[v,r]=t.useState(g),[m,j]=t.useState({series:[{name:"Funnel Series",data:[]}],chart:{type:"bar",height:350},plotOptions:{bar:{borderRadius:0,horizontal:!0,distributed:!0,barHeight:"80%",isFunnel:!0}},dataLabels:{enabled:!0,formatter:function(S,F){return F.w.globals.labels[F.dataPointIndex]+":  "+S}},colors:["#F44F5E","#E55A89","#D863B1","#CA6CD8","#B57BED","#8D95EB","#62ACEA","#4BC3E6"],xaxis:{categories:[]},legend:{show:!0}});function f(S){S.stopPropagation(),r({...v,[S.target.name]:S.target.value})}function C(){var F;let S=new FormData;x(!0),u({}),S.append("id_company",(F=n==null?void 0:n.company)==null?void 0:F.id_company),S.append("id_campaign",s.id),k.post(w+"/api/get/shortlinkcampaign",S,{withCredentials:!0}).then(R=>R.data).then(R=>{var y,B;x(!1),u(R);const T=[];let N=[],P=0;(y=R==null?void 0:R.stats)==null||y.forEach((H,ee)=>{P=P+H.count}),(B=R==null?void 0:R.stats)==null||B.forEach((H,ee)=>{console.log(P),T.push(H.count),N.push(Qa(H.app)+" ("+(H.count*100/P).toFixed(0)+"%)")}),j(H=>{const ee={...H};return ee.series[0].data=T,ee.xaxis.categories=N,ee})}).catch(R=>{})}function D(){var F;i(!0);let S=new FormData;S.append("id_company",(F=n==null?void 0:n.company)==null?void 0:F.id_company),S.append("id_campaign",s==null?void 0:s.id),S.append("url",v.url),S.append("app",v.app),k.post(w+"/api/upload/shortlink",S,{withCredentials:!0}).then(R=>R.data).then(R=>{i(!1),R.status&&(c(!1),C()),R.msg&&M.error(R.msg)}).catch(R=>{i(!1)})}return t.useEffect(()=>{h||(j(S=>{const F={...S};return F.series[0].data=[],F.xaxis.categories=[],F}),C())},[h]),e.jsxs(e.Fragment,{children:[e.jsxs(se,{next:"Agregar",visible:a,callback:c,onClick:D,Pending:l,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nuevo enlace"}),e.jsx("span",{children:"Agrega un nuevo enlace a tu campana"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"URL destino",onChange:f,name:"url"})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"app",id:"",onChange:f,children:[e.jsx("option",{value:"",children:"Selecciona la aplicacion"}),e.jsx("option",{value:"fb",children:"Facebook"}),e.jsx("option",{value:"in",children:"Instagram"}),e.jsx("option",{value:"x",children:"X (Twitter)"}),e.jsx("option",{value:"email",children:"Correo"}),e.jsx("option",{value:"sms",children:"Sms"}),e.jsx("option",{value:"tik",children:"Tiktok"}),e.jsx("option",{value:"linkd",children:"Linkedin"}),e.jsx("option",{value:"yt",children:"Youtube"}),e.jsx("option",{value:"tele",children:"Telegram"}),e.jsx("option",{value:"ws",children:"Whatsapp"}),e.jsx("option",{value:"others",children:"Otros"})]})})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Campaña de enlace: ",s.id]}),e.jsx("span",{children:"Agrega nuevos enlaces para tu campana general de urls"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{onClick:S=>{c(!0)},className:"add",children:"Agregar nuevo enlace"})})]}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Clicks este mes"}),e.jsx("span",{children:"Aca podras evaluar los clicks hecho por el mes actual y anteriores."})]}),d==!1?e.jsx(Ee,{options:m,series:m.series,type:"bar",height:300}):""]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[(_=o==null?void 0:o.links)==null?void 0:_.map((S,F)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_link.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:S.real_link}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"title",children:"App"}),e.jsx("span",{children:e.jsx("img",{className:"icon-app",src:Wa(S.app),alt:""})})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{children:e.jsx(Ne,{})})})]},F)),d?e.jsx(me,{}):((q=o==null?void 0:o.links)!=null&&q.length,"")]})})]})})]})}function Wt({Visible:s,Close:a,loadQrs:c}){const{UserInfo:l}=t.useContext(G),i=t.useRef(null),[n,d]=t.useState(0),[x,h]=t.useState([ye()]),[p,o]=t.useState({type:""});t.useState({});const[u,g]=t.useState(!1),v=new vs({width:600,height:600,image:"/img/icons/iconsvg.png",dotsOptions:{color:"gradient",type:"extra-rounded",gradient:{colorStops:[{offset:0,color:"#000"},{offset:1,color:"#000"}]}},imageOptions:{crossOrigin:"anonymous",margin:20}});let r={url:""};const[m,j]=t.useState(r);J();function f(_){_.stopPropagation(),_.preventDefault();let q=E(_.target);q.parents(".options").find(".active").removeClass("active"),q.addClass("active");let S=q.attr("value");o(F=>({...F,type:S}))}async function C(_){var S;let q=!1;if(E(_.target),(n===0&&p.type=="qr-stand"||p.type=="qr-contact")&&(q=!0),n===1&&(v.append(i.current),p.type=="qr-contact"?v.update({data:"BEGIN:VCARD                 VERSION:3.0                 N:"+m.lname+";"+m.fname+`;;;
FN:`+m.fname+" "+m.lname+`
ORG:`+m.company+`;
TITLE:`+m.jobtitle+`
TEL;type=CELL:`+m.number+`
TEL;type=WORK:`+m.officenum+`
EMAIL;type=INTERNET;type=WORK;type=pref:`+m.email+`
URL%3A`+m.web+`%0A
ADR;TYPE=work:;;`+m.address1+";"+m.address2+";"+m.city+";"+m.province+";"+m.country+";"+m.pcode+`
REV:`+new Date+`
END:VCARD`}):v.update({data:m.url}),q=!0),n===2)if(m.name){g(!0);let F=new FormData;F.append("formqr",JSON.stringify(m)),F.append("id_company",(S=l==null?void 0:l.company)==null?void 0:S.id_company),F.append("type",p.type);let R=await new Promise((T,N)=>{let y=document.querySelector(".qr-result canvas").toDataURL("image/png");T(y)});F.append("preview",R),k.post(w+"/api/upload/qr",F,{withCredentials:!0}).then(T=>T.data).then(T=>{a(!1),T.status&&c(),g(!1)}).catch(T=>{g(!1)})}else q=!1,M.error("Opps no has elegido un nombre para tu qr");q&&d(F=>F+1)}function D(_){let q=_.target.name,S=_.target.value;j(F=>({...F,[q]:S}))}return t.useEffect(()=>{E(".case.active").removeClass("active"),E(".case").eq(n).addClass("active")},[n]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[n>0?e.jsxs("button",{className:"return",onClick:_=>{d(q=>q-1)},children:[e.jsx(we,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:_=>{a(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear un nuevo QR"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de qr que quieres crear"})]}),e.jsxs("div",{className:"options flex",id:`options-${x[0]}`,children:[e.jsxs("div",{className:"selector",onClick:f,value:"qr-stand",children:[e.jsx("div",{className:"check",children:e.jsx(ce,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"QR Estandar"}),e.jsx("span",{children:"Qr Estandar es un qr basico donde podras almacenar enlaces de tus webs"})]})]}),e.jsxs("div",{className:"selector",onClick:f,value:"qr-contact",children:[e.jsx("div",{className:"check",children:e.jsx(ce,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"QR Contacto"}),e.jsx("span",{children:"Qr Contacto, este es un qr donde podras escanearlo y almacenar un contacto con informacion importante"})]})]})]})]}),p.type=="qr-stand"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Enlace del qr"}),e.jsx("input",{type:"url",name:"url",onChange:D,placeholder:"Enlace"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre del qr"}),e.jsx("input",{type:"text",onChange:D,name:"name",placeholder:"Nombre para tu QR"})]})]})]})}):e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personaliza tu QR"}),e.jsx("span",{className:"desc",children:"Este es un qr para agregar contactos a un dispositivo movil, puedes personalizarlo con tu informacion necesaria"})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre"}),e.jsx("input",{type:"text",name:"fname",onChange:D,placeholder:"ej: Roberto"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Apellido"}),e.jsx("input",{type:"text",name:"lname",onChange:D,placeholder:"ej: Martinez"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Empresa"}),e.jsx("input",{type:"text",name:"company",onChange:D,placeholder:"ej: Cocacola"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Cargo"}),e.jsx("input",{type:"text",name:"jobtitle",onChange:D,placeholder:"ej: Director"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Celular"}),e.jsx("input",{type:"text",name:"number",onChange:D,placeholder:"ej: +58412000000"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Numero de Oficina"}),e.jsx("input",{type:"text",name:"officenum",onChange:D,placeholder:"ej: (12)"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo Electronico"}),e.jsx("input",{type:"text",name:"email",onChange:D,placeholder:"ej: example@example.com"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Pagina Web"}),e.jsx("input",{type:"text",name:"web",onChange:D,placeholder:"ej: www.example.com"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Direccion"}),e.jsx("input",{type:"text",name:"address1",onChange:D,placeholder:"ej: Chicago, ST "})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Direccion del Trabajo"}),e.jsx("input",{type:"text",name:"address2",onChange:D,placeholder:"ej: Chicago ST, Down Ryder "})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Ciudad"}),e.jsx("input",{type:"text",name:"city",onChange:D,placeholder:"ej: Chicago"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Estado"}),e.jsx("input",{type:"text",name:"province",onChange:D,placeholder:"ej: Chicago"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Pais"}),e.jsx("input",{type:"text",name:"country",onChange:D,placeholder:"ej: Estados Unidos"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Codigo postal"}),e.jsx("input",{type:"text",name:"pcode",onChange:D,placeholder:"ej: (15306)"})]})})]})})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Elige un nombre"}),e.jsx("span",{className:"desc",children:"Elige un nombre a tu qr para poder identificarlo"})]}),e.jsx("div",{className:"qr-result",ref:i})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:`next ${u?"await":" "}`,onClick:C,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function Qt({Visible:s,Close:a,loadQrs:c}){const{UserInfo:l}=t.useContext(G);t.useRef(null);const[i,n]=t.useState(0);t.useState([ye()]);const[d,x]=t.useState({type:""}),[h,p]=t.useState(!1);J();async function o(r){var m;if(E(r.target),d.name&&d.image){let j=new FormData;j.append("preview",d.image),j.append("id_company",(m=l==null?void 0:l.company)==null?void 0:m.id_company),j.append("type","qr-stand"),j.append("formqr",JSON.stringify(d)),k.post(w+"/api/upload/qr",j,{withCredentials:!0}).then(f=>f.data).then(f=>{console.log(f)})}else M.error("Opps hay algo imcompleto")}function u(r){let m=r.target.name,j=r.target.value;x(f=>({...f,[m]:j}))}function g(){E("#file").click()}function v(r){let m=r.target.files,j=E(r.target);if(m.length){let f=new FileReader;f.onload=function(C){if(m[0].type.indexOf("image")>=0){let D=new Image;D.src=C.target.result,D.onload=function(){D.width<=6e3&&D.height<=6e3?x({...d,image:D.src}):M.error(`Opps maximo 600x600 tu imagen es de ${D.width}x${D.height}`)}}else j.val(""),M.error("Opps solo aceptamos imagenes")},f.readAsDataURL(m[0])}}return t.useEffect(()=>{E("#wizard2").find(".case").eq(0).addClass("active")},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,id:"wizard2",children:[e.jsxs("div",{className:"top-actions",children:[i>0?e.jsxs("button",{className:"return",onClick:r=>{n(m=>m-1)},children:[e.jsx(we,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:r=>{a(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case ",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Subir nuevo QR"}),e.jsx("span",{className:"desc",children:"Importa la imagen del nuevo qr que quieres integrar"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre del qr"}),e.jsx("input",{type:"text",onChange:u,name:"name",placeholder:"Nombre para tu QR"})]}),e.jsxs("div",{className:"upload-qr",children:[d.image==null?e.jsx("div",{className:"upload",onClick:g,children:e.jsx(_e,{})}):e.jsx("div",{className:"preview",children:e.jsx("img",{src:d.image,alt:""})}),e.jsx("input",{type:"file",id:"file",onChange:v,hidden:!0})]})]})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:`next ${h?"await":" "}`,onClick:o,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function Ve(){const[s,a]=t.useState(!1),[c,l]=t.useState(!1),[i,n]=t.useState(!1),[d,x]=t.useState([{},{}]),{UserInfo:h}=t.useContext(G),[p,o]=t.useState(!1),[u,g]=t.useState(),v=ke();t.useEffect(()=>{je("/add")&&a(!0),je("/import")&&l(!0)},[v]);function r(){var C;let f=new FormData;f.append("id_company",(C=h==null?void 0:h.company)==null?void 0:C.id_company),k.post(w+"/api/get/qrs",f,{withCredentials:!0}).then(D=>D.data).then(D=>{x(D)})}function m(f){let C=E(f.target),D=C.parents(".item").find("img")[0].src;C.parents(".item").find(".title").text();let _=document.createElement("a");_.href=D,_.download="",_.rel="noopener noreferrer",_.target="_blank",document.querySelector("#root").appendChild(_),_.click(),document.querySelector("#root").removeChild(_)}t.useEffect(()=>{r()},[]);function j(){var C;let f=new FormData;f.append("id_company",(C=h==null?void 0:h.company)==null?void 0:C.id_company),f.append("id_qr",u),k.post(w+"/api/delete/qr",f,{withCredentials:!0}).then(D=>D.data).then(D=>{})}return e.jsxs(e.Fragment,{children:[e.jsx(Se,{visible:p,callback:o,onClick:j}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"QR"}),e.jsx("span",{children:"Crea qr personalizados con enlaces para tus webs o qr de contacto"})]}),e.jsx(Wt,{Visible:s,Close:a,setModalView:a,loadQrs:r}),e.jsx(Qt,{Visible:c,Close:l,setModalView:l,loadQrs:r},c?"x":"a"),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"add",onClick:f=>{a(!0)},children:" Crear nuevo QR"}),e.jsxs("button",{className:"go-wizard",onClick:f=>{l(!0)},children:[e.jsx(_e,{})," Importar QR"]})]})]}),e.jsxs("div",{className:"box box-padding",children:[d.map((f,C)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:Qe(f.qr_preview),alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:f.title}),e.jsxs("span",{className:"desc",children:["Creado el: ",ae(f.time_add)]})]})]}),e.jsx("div",{className:"info",children:e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:"Tipo de QR"}),e.jsx("span",{className:"desc",children:f.type_qr})]})}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:m,children:e.jsx(Na,{})}),e.jsx("button",{onClick:D=>{g(f.id_qr),o(!0)},children:e.jsx(Z,{})})]})]})),i?e.jsx(me,{}):d.length==0?e.jsx("div",{className:"item",children:e.jsx(re,{name:"Qrs"})}):""]})]})}function It({setButtons:s}){function a(c){let l=c.target.value;c.target.name=="background"&&l.indexOf("http")>=0&&(l=`url(${l})`),s(n=>{let d={...n};return d.header[c.target.name]=l,d})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar botonera"}),e.jsx("span",{children:"Personaliza tu botonera, cambiando imagenes, fondo, texto, botones, enlaces."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",defaultValue:"#fff",onChange:a,name:"background"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",onChange:a,defaultValue:0,step:"0.1",max:"10",name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",onChange:a,defaultValue:1,step:"0.1",max:"1",name:"brightness"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border radius"}),e.jsx("input",{type:"range",onChange:a,defaultValue:1,step:"0.1",max:"50",name:"radius"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{name:"colorBox",onClick:a,value:"ligth",children:"Modo Claro"}),e.jsx("button",{name:"colorBox",onClick:a,value:"dark",children:"Modo Oscuro"})]})]})]})}function Ht({buttons:s,setButtons:a,editor:c,setEditor:l}){var q,S,F,R,T,N,P,y,B,H,ee,pe;const[i,n]=t.useState(!1),[d,x]=t.useState(!1),[h,p]=t.useState(!1),[o,u]=t.useState(void 0),{UserInfo:g}=t.useContext(G),v=U();t.useEffect(()=>{console.log(s)},[s]);function r(){a($=>({...$,buttons:$.buttons.concat({})}))}function m($){$.preventDefault(),$.stopPropagation();let b=E($.target);switch(E(".page.buttonsbody .active").removeClass("active"),b.addClass("active"),b.attr("type")){case"buttons":var O=b.attr("id");l({type:"button",key:O});break;case"rs":var O=b.attr("id");l({type:"rs",key:O});break;default:l({type:b.attr("type")});break}return!1}function j($){a(b=>{const O={...b};return O.buttons=O.buttons.filter((L,Y)=>Y!==$),l({type:"",key:""}),O})}function f(){let $=document.querySelector("#select-rs").value,b=document.querySelector("#input-rs").value;(s==null?void 0:s.rs.length)<=3?a(O=>{const L=[...O.rs];return L.push({type:$,url:b}),{...O,rs:L}}):M.error("Opps ya has agregado muchas redes sociales")}async function C(){var $,b,O;if(((b=($=s.header)==null?void 0:$.titlegl)==null?void 0:b.length)>=1){p(!0);let L=new FormData;L.append("json",JSON.stringify(s)),o==null?L.append("title",s.header.titlegl):L.append("id_buttons",o),L.append("id_company",(O=g==null?void 0:g.company)==null?void 0:O.id_company);let Y=await Me(document.querySelector(".page .center"),{allowTaint:!1,useCORS:!0}).then(K=>K.toDataURL());L.append("preview",Y),k.post(w+"/api/upload/buttons",L,{withCredentials:!0}).then(K=>K.data).then(K=>{p(!1),K.id_buttons&&u(K.id_buttons),K.msg&&M.error(K.msg)}).catch(K=>{p(!1)})}else x(!0),M.error("Opps no puedes avanzar si tu plantilla no posee un titulo")}function D($){let b=$.target.value;a(O=>{let L={...O};return L.header.titlegl=b,L})}function _(){s.header.titlegl&&(x(!1),M.success("El titulo se aplico con exito"))}return t.useEffect(()=>{var $;if(v.id){let b=new FormData;b.append("id_buttons",v.id),b.append("id_company",($=g==null?void 0:g.company)==null?void 0:$.id_company),k.post(w+"/api/get/editbuttons",b,{withCredentials:!0}).then(O=>O.data).then(O=>{O.id_buttons&&(a(JSON.parse(O.json)),u(O.id_buttons))})}},[]),e.jsxs(e.Fragment,{children:[e.jsxs(se,{visible:d,close:x,callback:x,onClick:_,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("span",{children:"Elige un titulo general para esta plantilla"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Titulo general"}),e.jsx("input",{onChange:D,type:"text",placeholder:"ej: plantilla 1"})]})]}),e.jsx(se,{visible:i,callback:n,onClick:f,children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Redes Sociales"}),e.jsx("span",{children:"Selecciona que red social quieres agregar"}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("input",{type:"url",placeholder:"Enlace (URL)",id:"input-rs"}),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("select",{name:"",id:"select-rs",children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"Seleccionar"}),e.jsx("option",{value:"fb",children:"Facebook"}),e.jsx("option",{value:"x",children:"X (Twitter)"}),e.jsx("option",{value:"in",children:"Instagram"}),e.jsx("option",{value:"link",children:"Linkedin"}),e.jsx("option",{value:"disc",children:"Discord"}),e.jsx("option",{value:"tik",children:"TikTok"}),e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"spot",children:"Spotify"}),e.jsx("option",{value:"tele",children:"Telegram"}),e.jsx("option",{value:"ws",children:"Whatsapp"})]}),e.jsx("br",{})]})]})}),e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{children:[e.jsx(xe,{})," Previsualizar"]}),e.jsxs("button",{className:h?"await":"",onClick:C,children:[e.jsx(Te,{})," Guardar ",e.jsx("div",{className:"loading"})]})]})}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(q=s==null?void 0:s.header)==null?void 0:q.blur}px)brightness(${(S=s==null?void 0:s.header)==null?void 0:S.brightness})`,background:(F=s==null?void 0:s.header)==null?void 0:F.background2}}),e.jsxs("div",{className:`${"page buttonsbody "+((R=s==null?void 0:s.header)==null?void 0:R.colorBox)}`,children:[e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",onClick:m,type:"logo",src:(T=s==null?void 0:s.header)!=null&&T.logo?(N=s==null?void 0:s.header)==null?void 0:N.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{onClick:m,type:"title",children:(P=s==null?void 0:s.header)!=null&&P.title?(y=s==null?void 0:s.header)==null?void 0:y.title:"Agregar titulo"}),e.jsx("span",{onClick:m,type:"desc",children:(B=s==null?void 0:s.header)!=null&&B.desc?(H=s==null?void 0:s.header)==null?void 0:H.desc:"Agregar Descripcion"})]}),e.jsx("div",{className:"buttons",children:(ee=s==null?void 0:s.buttons)==null?void 0:ee.map(($,b)=>{var O;return e.jsxs("div",{children:[e.jsx("div",{className:"edit-active",children:e.jsx("button",{onClick:L=>{j(b)},children:e.jsx(Z,{})})}),e.jsxs("a",{onClick:m,style:{borderRadius:((O=s==null?void 0:s.header)==null?void 0:O.radius)+"px"},type:"buttons",id:b,href:$.url,children:[" ",$!=null&&$.name?$==null?void 0:$.name:"Elegir nombre..."]},b)]},b)})}),e.jsx("div",{className:"rs",children:(pe=s==null?void 0:s.rs)==null?void 0:pe.map(($,b)=>e.jsx("div",{className:"r",children:e.jsxs("a",{href:"",onClick:m,id:b,type:"rs",children:[$.type=="in"?e.jsx(fs,{}):"",$.type=="tik"?e.jsx(Ns,{}):"",$.type=="disc"?e.jsx(ys,{}):"",$.type=="spot"?e.jsx(Cs,{}):"",$.type=="tele"?e.jsx(bs,{}):"",$.type=="ws"?e.jsx(ws,{}):"",$.type=="email"?e.jsx(ks,{}):"",$.type=="fb"?e.jsx(Ss,{}):"",$.type=="x"?e.jsx(_s,{}):"",$.type=="link"?e.jsx(Es,{}):""]})},b))}),e.jsxs("div",{className:"add-new",onClick:r,children:[e.jsx(Le,{})," Agregar Boton"]}),e.jsx("br",{}),e.jsxs("div",{className:"add-new",onClick:$=>{n(!0)},children:[e.jsx(Le,{})," Agregar Red Social"]})]})]})}function Gt({editor:s,buttons:a,setButtons:c,setEditor:l}){var d;function i(x){let h=x.target.value;c(p=>{let o={...p};return o.rs[s.key].url=h,o})}function n(x){c(h=>{const p={...h};return console.log(s),p.rs=p.rs.filter((o,u)=>u!==Number(s.key)),l({type:"",key:""}),p})}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enlace"}),e.jsx("input",{id:"title-edit",onChange:i,type:"text",value:(d=a==null?void 0:a.rs[s.key])==null?void 0:d.url,placeholder:"https://image.com/jfop2.jpg"})]})}),e.jsx("div",{children:e.jsx("button",{className:"delete",onClick:n,children:"Eliminar"})})]})}function Jt({editor:s,buttons:a,setButtons:c}){function l(i){const{name:n,value:d}=i.target;c(x=>{let h={...x};return h.buttons[s.key][n]=d,h})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nombre de boton"}),e.jsx("input",{onChange:l,value:a.buttons[s.key].name?a.buttons[s.key].name:"",name:"name",id:"title-edit",type:"text",placeholder:"Ej: Mi tienda virtual"})]}),e.jsx("br",{}),e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enlace"}),e.jsx("input",{onChange:l,value:a.buttons[s.key].url?a.buttons[s.key].url:"",name:"url",id:"title-edit",type:"text",placeholder:"https://example.com"})]})]})})}function qs({setButtons:s,buttons:a}){var l;function c(i){s(n=>{let d={...n};return d.header.desc=i.target.value,d})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descripcion"}),e.jsx("input",{onChange:c,id:"title-edit",type:"text",placeholder:"Ej: Mis redes sociales",value:(l=a==null?void 0:a.header)==null?void 0:l.desc})]})})})}function Os({setButtons:s,buttons:a}){function c(l){let i=l.target.value;s(n=>{let d={...n};return d.header.logo=i,d})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Logo"}),e.jsx("input",{onChange:c,id:"title-edit",type:"text",placeholder:"https://image.com/jfop2.jpg"})]})})})}function As({setButtons:s,buttons:a}){var l;function c(i){s(n=>{let d={...n};return d.header.title=i.target.value,d})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("input",{onChange:c,id:"title-edit",type:"text",placeholder:"Ej: Mis redes sociales",value:(l=a==null?void 0:a.header)==null?void 0:l.title})]})})})}function Xt({editor:s,buttons:a,setButtons:c,setEditor:l}){return e.jsxs(e.Fragment,{children:[s.type=="button"?e.jsx(Jt,{editor:s,buttons:a,setButtons:c}):"",s.type=="title"?e.jsx(As,{editor:s,buttons:a,setButtons:c}):"",s.type=="desc"?e.jsx(qs,{editor:s,buttons:a,setButtons:c}):"",s.type=="logo"?e.jsx(Os,{editor:s,buttons:a,setButtons:c}):"",s.type=="rs"?e.jsx(Gt,{editor:s,buttons:a,setButtons:c,setEditor:l}):""]})}function xs(){var i;t.useState(!0);const[s,a]=t.useState({header:{title:"",desc:"",img:"",background:""},buttons:[],rs:[]}),[c,l]=t.useState({});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"editor-surveys",children:e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:"left",children:e.jsx(It,{editor:c,setButtons:a,buttons:s})}),e.jsx("div",{className:"center",style:{background:(i=s==null?void 0:s.header)==null?void 0:i.background},children:e.jsx(Ht,{editor:c,setEditor:l,buttons:s,setButtons:a})}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"type-editor",children:e.jsx(Xt,{editor:c,buttons:s,setButtons:a,setEditor:l})})})]})})})}function Yt(){var x,h,p,o,u,g,v,r,m,j,f,C,D;const[s,a]=t.useState({}),[c,l]=t.useState(!0),i=U();function n(){let _=new FormData;_.append("token",i.id),k.post(w+"/api/get/buttons",_).then(q=>q.data).then(q=>{if(a(q),q){let S=new FormData;S.append("type_stat","visit"),S.append("type","buttons"),S.append("token",i.id),k.post(w+"/api/get/capturestatsbuttons",S)}})}t.useEffect(()=>{n()},[]);function d(_){_.preventDefault(),_.stopPropagation();let q=_.target.href;if(c){l(!1);let S=new FormData;S.append("type","buttons"),S.append("type_stat","click"),S.append("data",q),S.append("token",i.id),k.post(w+"/api/get/capturestatsbuttons",S).then(F=>F.data).then(F=>{l(!0),window.open(q)}).catch(F=>{l(!0)})}}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"editor-surveys btnactive prod-buttons",children:e.jsx("div",{className:"rows",children:e.jsxs("div",{className:"center",style:{background:(x=s==null?void 0:s.header)==null?void 0:x.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(h=s==null?void 0:s.header)==null?void 0:h.blur}px)brightness(${(p=s==null?void 0:s.header)==null?void 0:p.brightness})`,background:(o=s==null?void 0:s.header)==null?void 0:o.background2}}),e.jsxs("div",{className:`${"page buttonsbody "+((u=s==null?void 0:s.header)==null?void 0:u.colorBox)}`,children:[e.jsx("div",{className:"share-now",children:e.jsx("button",{children:e.jsx(ya,{})})}),e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",type:"logo",src:(g=s==null?void 0:s.header)!=null&&g.logo?(v=s==null?void 0:s.header)==null?void 0:v.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{type:"title",children:(r=s==null?void 0:s.header)!=null&&r.title?(m=s==null?void 0:s.header)==null?void 0:m.title:""}),e.jsx("span",{type:"desc",children:(j=s==null?void 0:s.header)!=null&&j.desc?(f=s==null?void 0:s.header)==null?void 0:f.desc:""})]}),e.jsx("div",{className:"buttons",children:(C=s==null?void 0:s.buttons)==null?void 0:C.map((_,q)=>{var S;return e.jsx("div",{children:e.jsxs("a",{onClick:d,style:{borderRadius:((S=s==null?void 0:s.header)==null?void 0:S.radius)+"px"},type:"buttons",id:q,href:_.url,children:[" ",_!=null&&_.name?_==null?void 0:_.name:"Elegir nombre..."]},q)},q)})}),e.jsx("div",{className:"rs",children:(D=s==null?void 0:s.rs)==null?void 0:D.map((_,q)=>e.jsx("div",{className:"r",children:e.jsxs("a",{href:"",id:q,type:"rs",children:[_.type=="in"?e.jsx(fs,{}):"",_.type=="tik"?e.jsx(Ns,{}):"",_.type=="disc"?e.jsx(ys,{}):"",_.type=="spot"?e.jsx(Cs,{}):"",_.type=="tele"?e.jsx(bs,{}):"",_.type=="ws"?e.jsx(ws,{}):"",_.type=="email"?e.jsx(ks,{}):"",_.type=="fb"?e.jsx(Ss,{}):"",_.type=="x"?e.jsx(_s,{}):"",_.type=="link"?e.jsx(Es,{}):""]})},q))}),e.jsxs("div",{className:"footer",children:[e.jsx("br",{}),e.jsx("hr",{}),e.jsx("p",{children:"Powered by RadarSystems. ​​​​​​​Copyright © 1998 - 2022 Todos los derechos reservados."})]})]})]})})})})}function Kt({setButtons:s}){function a(c){let l=c.target.value;c.target.name=="background"&&l.indexOf("http")>=0&&(l=`url(${l})`),s(n=>{let d={...n};return d.header[c.target.name]=l,d})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar botonera"}),e.jsx("span",{children:"Personaliza tu botonera, cambiando imagenes, fondo, texto, botones, enlaces."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",defaultValue:"#fff",onChange:a,name:"background"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",onChange:a,defaultValue:0,step:"0.1",max:"10",name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",onChange:a,defaultValue:1,step:"0.1",max:"1",name:"brightness"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border radius"}),e.jsx("input",{type:"range",onChange:a,defaultValue:1,step:"0.1",max:"50",name:"radius"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{name:"colorBox",onClick:a,value:"ligth",children:"Modo Claro"}),e.jsx("button",{name:"colorBox",onClick:a,value:"dark",children:"Modo Oscuro"})]})]})]})}function Zt({editor:s,buttons:a,setButtons:c}){function l(i){c(n=>{let d={...n};return d.elements[s.key].title=i.target.value,d})}return t.useEffect(()=>{a.elements[s.key].title!==void 0&&(E("#title-edit").val(a.elements[s.key].title),console.log("op"))},[s]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsxs("p",{children:["Titulo de espacio: #",s.key+1]}),e.jsx("input",{onChange:l,id:"title-edit",type:"text",placeholder:"Ej: Mis redes sociales"})]})})})}function Ut({editor:s,buttons:a,setButtons:c}){return e.jsxs(e.Fragment,{children:[s.type=="title"?e.jsx(As,{editor:s,buttons:a,setButtons:c}):"",s.type=="desc"?e.jsx(qs,{editor:s,buttons:a,setButtons:c}):"",s.type=="logo"?e.jsx(Os,{editor:s,buttons:a,setButtons:c}):"",s.type=="titlespace"?e.jsx(Zt,{editor:s,buttons:a,setButtons:c}):""]})}function ei({buttons:s,setButtons:a,editor:c,setEditor:l}){var F,R,T,N,P,y,B,H,ee,pe;const[i,n]=t.useState(!1),[d,x]=t.useState(!1),[h,p]=t.useState(void 0),[o,u]=t.useState(!1),g=U(),[v,r]=t.useState([]),{UserInfo:m}=t.useContext(G);function j($){$.preventDefault(),$.stopPropagation();let b=E($.target);switch(E(".page.buttonsbody .active").removeClass("active"),b.addClass("active"),b.attr("type")){case"addqr":var O=b.attr("id");l({type:"addqr",key:O});break;case"rs":var O=b.attr("id");l({type:"rs",key:O});break;case"titlespace":console.log(O),l({type:"titlespace",key:Number(b.attr("id"))});break;default:l({type:b.attr("type")});break}return!1}function f($){var O;let b=new FormData;b.append("id_company",(O=m==null?void 0:m.company)==null?void 0:O.id_company),k.post(w+"/api/get/qrs",b,{withCredentials:!0}).then(L=>L.data).then(L=>{r(L)})}function C(){a($=>{let b={...$};return b.elements.push({qrs:[]}),b})}function D($){let b=E($.target),O=b.attr("image"),L=b.attr("title");n(!1),M.success("Has seleccionado correctamente el QR"),a(Y=>{let K={...Y};return K.elements[c.key].qrs.push({image:O,title:L}),K})}async function _(){var $;if(s.header.titlegl.length>=1){u(!0);let b=new FormData;b.append("json",JSON.stringify(s)),h==null?b.append("title",s.header.titlegl):b.append("id_buttonsqr",h),b.append("id_company",($=m==null?void 0:m.company)==null?void 0:$.id_company);let O=await Me(document.querySelector(".page .center"),{allowTaint:!1,useCORS:!0}).then(L=>L.toDataURL());b.append("preview",O),k.post(w+"/api/upload/buttonsqr",b,{withCredentials:!0}).then(L=>L.data).then(L=>{u(!1),L.id_buttonsqr&&p(L.id_buttonsqr),L.msg&&M.error(L.msg)}).catch(L=>{u(!1)})}else x(!0),M.error("Opps no puedes avanzar si tu plantilla no posee un titulo")}function q($){let b=$.target.value;a(O=>{let L={...O};return L.header.titlegl=b,L})}function S(){s.header.titlegl&&(x(!1),M.success("El titulo se aplico con exito"))}return t.useEffect(()=>{var $;if(f(),g.id){let b=new FormData;b.append("id_buttonsqr",g.id),b.append("id_company",($=m==null?void 0:m.company)==null?void 0:$.id_company),k.post(w+"/api/get/editbuttonsqr",b,{withCredentials:!0}).then(O=>O.data).then(O=>{O.id_buttonsqr&&(a(JSON.parse(O.json)),p(O.id_buttonsqr))})}},[]),e.jsxs(e.Fragment,{children:[e.jsxs(se,{visible:i,maxWidth:"450px",callback:n,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Galeria de Qr's"}),e.jsx("span",{children:"Tu galeria de qrs, donde podras seleccionar que qr quieres integrar"})]}),e.jsx("div",{className:"data row flex",children:v.map(($,b)=>e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"qrs",onClick:D,image:Qe($.qr_preview),title:$.title,children:[e.jsx("img",{src:Qe($.qr_preview),alt:""}),e.jsx("p",{children:$.title})]})}))})]}),e.jsxs(se,{visible:d,close:x,callback:x,onClick:S,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("span",{children:"Elige un titulo general para esta plantilla"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Titulo general"}),e.jsx("input",{onChange:q,type:"text",placeholder:"ej: plantilla 1"})]})]}),e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{children:[e.jsx(xe,{})," Previsualizar"]}),e.jsxs("button",{className:o?"await":"",onClick:_,children:[e.jsx(Te,{})," Guardar ",e.jsx("div",{className:"loading"})]})]})}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(F=s==null?void 0:s.header)==null?void 0:F.blur}px)brightness(${(R=s==null?void 0:s.header)==null?void 0:R.brightness})`,background:(T=s==null?void 0:s.header)==null?void 0:T.background2}}),e.jsx("div",{className:`${"page buttonsbody buttonsqr editmode "+((N=s==null?void 0:s.header)==null?void 0:N.colorBox)}`,children:e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",onClick:j,type:"logo",src:(P=s==null?void 0:s.header)!=null&&P.logo?(y=s==null?void 0:s.header)==null?void 0:y.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{onClick:j,type:"title",children:(B=s==null?void 0:s.header)!=null&&B.title?(H=s==null?void 0:s.header)==null?void 0:H.title:"Agregar titulo"}),e.jsx("span",{onClick:j,type:"desc",children:(ee=s==null?void 0:s.header)!=null&&ee.desc?(pe=s==null?void 0:s.header)==null?void 0:pe.desc:"Agregar Descripcion"}),e.jsx("br",{}),e.jsx("br",{}),s.elements.map(($,b)=>e.jsxs("div",{className:"boxqr",children:[e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"top-left",children:e.jsx("p",{id:b,type:"titlespace",onClick:O=>{j(O)},children:$.title?$.title:"Escribe un titulo..."})}),e.jsx("div",{className:"top-right",children:e.jsx("button",{id:b,type:"addqr",onClick:O=>{n(!0,j(O))},children:"Agregar QR"})})]}),e.jsx(Fs.Carousel,{showThumbs:!1,showIndicators:!1,showStatus:!1,children:$.qrs.map((O,L)=>e.jsxs("div",{className:"qr",children:[e.jsx("button",{className:"delete",onClick:Y=>{},children:e.jsx(Z,{})}),e.jsx("img",{src:O.image}),e.jsx("p",{children:O.title})]}))}),$.qrs.length==0?e.jsx("div",{className:"add-qr",children:"+"}):""]})),e.jsxs("div",{className:"add-new",onClick:C,children:[e.jsx(Le,{})," Agregar Caja"]})]})})]})}function si({Visible:s,Close:a,Callback:c,setType:l,TypeSelect:i}){t.useContext(G);const[n,d]=t.useState(0),[x,h]=t.useState([ye()]),[p,o]=t.useState({type:"",name:""});J();function u(r){r.stopPropagation(),r.preventDefault();let m=E(r.target);m.parents(".options").find(".active").removeClass("active"),m.addClass("active");let j=m.attr("value");o(f=>({...f,type:j}))}function g(r){let m=!1;E(r.target),(n===0&&p.type=="company"||p.type=="personal")&&(m=!0),m&&p.type&&(l(p.type),c(!1))}function v(r){let m=r.target.name,j=r.target.value;o(f=>({...f,[m]:j}))}return t.useEffect(()=>{E(".case.active").removeClass("active"),E(".case").eq(n).addClass("active")},[n]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[n>0?e.jsxs("button",{className:"return",onClick:r=>{d(m=>m-1)},children:[e.jsx(we,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",i?e.jsx("button",{className:"closed",onClick:r=>{c(!1)},children:"X"}):""]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear una nueva botonera QR"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de lista que te gustaría crear"})]}),e.jsxs("div",{className:"options flex",id:`options-${x[0]}`,children:[e.jsxs("div",{className:"selector",onClick:u,value:"personal",children:[e.jsx("div",{className:"check",children:e.jsx(ce,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Botonera Personal"}),e.jsx("span",{children:"La botonera personal, es totalmente vacia y modificable a tu manera"})]})]}),e.jsxs("div",{className:"selector",onClick:u,value:"company",children:[e.jsx("div",{className:"check",children:e.jsx(ce,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Botonera Empresarial"}),e.jsx("span",{children:"La botonera empresarial viene con una plantilla predeterminada para ingresar qrs referente al tema"})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar Lista"}),e.jsx("span",{className:"desc",children:"Asignale un nombre a tu nueva lista."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de lista"}),e.jsx("input",{type:"text",name:"name",onChange:v,placeholder:"Nombre"})]})})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:"next",onClick:g,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function hs(){var p;const[s,a]=t.useState({header:{titlegl:"",title:"",desc:"",img:"",background:""},elements:[]}),[c,l]=t.useState({key:"",type:""}),i=U(),[n,d]=t.useState(void 0),[x,h]=t.useState(!1);return t.useEffect(()=>{switch(n){case"personal":a({header:{titlegl:"",title:"",desc:"",img:"",background:""},elements:[]});break;case"company":a({header:{titlegl:"",title:"",desc:"",img:"",background:""},elements:[{title:"Business Card",qrs:[]},{title:"Redes Sociales",qrs:[]},{title:"Presentaciones",qrs:[]}]});break}},[n]),t.useEffect(()=>{i.id||h(!0)},[]),e.jsxs(e.Fragment,{children:[e.jsx(si,{Visible:x,Callback:h,setType:d,TypeSelect:n}),e.jsx("div",{className:"editor-surveys",children:e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:"left",children:e.jsx(Kt,{editor:c,setEditor:l,buttons:s,setButtons:a})}),e.jsx("div",{className:"center ",style:{background:(p=s==null?void 0:s.header)==null?void 0:p.background},children:e.jsx(ei,{editor:c,setEditor:l,buttons:s,setButtons:a})}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"type-editor",children:e.jsx(Ut,{editor:c,setEditor:l,buttons:s,setButtons:a})})})]})})]})}function ai(){const[s,a]=t.useState(0),c=J(),[l,i]=t.useState({user:null,existsAccount:null,code:null,intent:0}),[n,d]=t.useState(!1);function x(){let g=new FormData;g.append("user",l.user),l.user?(d(!0),k.post(w+"/api/recovery/existsuser",g).then(v=>v.data).then(async v=>{v.status?(await o(),d(!1),a(1),M.success("Tu codigo ha sido enviado al correo electronico")):(M.error("Opps no se ha conseguido este usuario"),d(!1))}).catch(v=>{M.error("Opps error al enviar la peticion."),d(!1)})):M.error("Has dejado el usuario vacido")}function h(){let g=new FormData;g.append("user",l==null?void 0:l.user),g.append("code",l==null?void 0:l.code),k.post(w+"/api/recovery/checkcode",g).then(v=>v.data).then(v=>{v.status?(a(2),M.success("Has ingresado el codigo correctamente")):(i({...l,intent:l.intent+1}),M.error("Error con tu codigo de seguridad"))})}function p(g){let v=g.target.name,r=g.target.value;i({...l,[v]:r})}async function o(){let g=new FormData;g.append("user",l==null?void 0:l.user),d(!0),k.post(w+"/api/recovery/requestcode",g).then(v=>v.data).then(v=>{d(!1),v.status?M.success("Codigo enviado correctamente."):M.error("Opps error al obtener un nuevo codigo, espera un momento...")}).catch(v=>{d(!1)})}function u(){let g=new FormData;g.append("user",l.user),g.append("password",l.password),g.append("password2",l.password2),g.append("code",l.code),l.password&&l.password2?l.password==l.password2?k.post(w+"/api/recovery/changepassword",g).then(v=>v.data).then(v=>{v.status?(M.success("Has cambiado la password correctamente"),c("/")):M.error("Opps error al cambiar la password")}):M.error("Las passwords no coiciden"):M.error("Has dejado campos vacios")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"recovery",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Recupera tu cuenta"}),e.jsx("span",{children:"Recupera tu cuenta con un correo o el nombre de usuario"})]}),e.jsx("br",{}),s==0?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Usuario / email"}),e.jsx("input",{type:"text",name:"user",onChange:p,placeholder:"guest@gmail.com"})]}),e.jsxs("button",{className:`go ${n?"await":""}`,onClick:x,children:["Buscar cuenta... ",e.jsx("div",{className:"loading"})]})]}):"",s==1?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{htmlFor:"",children:["Ingresa el codigo enviado a (",e.jsx("b",{children:l.user}),") "]}),e.jsx("input",{type:"password",name:"code",onChange:p,placeholder:"Codigo",style:{textAlign:"center"}})]}),l.intent?e.jsx(e.Fragment,{children:e.jsxs("button",{className:`transparent ${n?"await":""}`,onClick:o,children:["Pedir nuevo codigo ",e.jsx("div",{className:"loading"})]})}):"",e.jsxs("button",{className:`go ${n?"await":""}`,onClick:h,children:["Confirmar Codigo",e.jsx("div",{className:"loading"})]})]}):"",s==2?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Contraseña Nueva"}),e.jsx("input",{type:"password",name:"password",onChange:p,placeholder:"••••••••"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Repita contraseña nueva"}),e.jsx("input",{type:"password",name:"password2",onChange:p,placeholder:"••••••••"})]}),e.jsxs("button",{className:`go ${n?"await":""}`,onClick:u,children:["Actualizar Contraseña",e.jsx("div",{className:"loading"})]})]}):""]})})}function ti(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top",children:[e.jsx("ul",{}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"form-search",children:e.jsx("input",{type:"text",placeholder:"Buscar usuario..."})})})]})})}function ii(){const[s,a]=t.useState([]),{UserInfo:c}=t.useContext(G);function l(i,n){var x;let d=new FormData;d.append("id_company",(x=c==null?void 0:c.company)==null?void 0:x.id_company),k.post(w+"/api/get/contacts",d,{withCredentials:!0}).then(h=>h.data).then(h=>{a(h.result)})}return t.useEffect(()=>{l()},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Contactos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]})}),e.jsx(ti,{}),e.jsx("div",{className:"box box-padding",children:e.jsx("table",{children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Email"}),e.jsx("td",{children:"Nombre"}),e.jsx("td",{children:"Apellido"}),e.jsx("td",{children:"Dni"}),e.jsx("td",{children:"Numero"}),e.jsx("td",{children:"Sexo"}),e.jsx("td",{children:"Email Verificado"}),e.jsx("td",{children:"Estatus"})]}),s.map((i,n)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("span",{children:i.email?i.email:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:i.name?i.name:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:i.lastname?i.lastname:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:i.dni?i.dni:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:i.phone?i.phone:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:i.sexo?i.name:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:i.email_verified?i.email_Verified:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:i.status?i.status:"No disponible"})})]}))]})})})]})}function ni(){var d;const s=t.useRef(null);let{UserInfo:a}=t.useContext(G);const[c,l]=t.useState(!1),i=J();t.useEffect(()=>{const x=Ca.init({container:s.current,plugins:[ba,wa,ka,Sa]});return x.Storage.destroy(),x.Panels.addButton("options",{id:"return",label:"Volver",command:async function(){i("/landings")}}),x.Panels.addButton("options",{id:"save-html-button",className:"save-html-button-class",label:"Guardar",command:async function(){const h=x.getHtml(),p=x.getCss(),o=await x.store("export").then(v=>JSON.stringify(v));let u=new FormData,g=E("input[name='name']").val();u.append("id_company",E("#id_company").val()),u.append("html",h),u.append("name",g),u.append("css",p),u.append("json",o),Number(E("#id_edit").val())>=1&&u.append("id",E("#id_edit").val()),g.length?k.post(w+"/api/upload/landing",u,{withCredentials:!0}).then(v=>v.data).then(v=>{v.status&&(M.success("Guardado con exito"),v.id_create&&E("#id_edit").val(v.id_create))}):(M.error("Opps no has elegido un titulo"),l(!0))}}),x.Panels.addButton("options",{id:"gallery",label:"Galeria",command:async function(){}}),()=>{x.destroy()}},[]);function n(){E("input[name='name']").val()?l(!1):M.error("Opps no has asignado un titulo")}return e.jsx(e.Fragment,{children:e.jsxs("body",{theme:"ligth",children:[e.jsxs(se,{visible:c,callback:l,close:l,onClick:n,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Elegir titulo"}),e.jsx("span",{children:"elige un titulo para esta plantilla"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{name:"name",type:"text",placeholder:"Titulo"})})]}),e.jsx("input",{type:"number",id:"id_edit",hidden:!0}),e.jsx("input",{type:"number",id:"id_company",value:(d=a==null?void 0:a.company)==null?void 0:d.id_company,hidden:!0}),e.jsx("div",{ref:s})]})})}function li(){const[s,a]=t.useState([]),{UserInfo:c}=t.useContext(G),[l,i]=t.useState(!0),n=J();function d(){var h;let x=new FormData;x.append("id_company",(h=c==null?void 0:c.company)==null?void 0:h.id_company),k.post(w+"/api/get/landings",x,{withCredentials:!0}).then(p=>p.data).then(p=>{a(p),i(!1)})}return t.useEffect(()=>{d()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Landings"}),e.jsx("span",{children:"Aqui veras todas tus landings creadas con anterioridad podras editarlas o eliminarlas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:x=>{n("/editor/landings")},children:"Crear nueva landing"})})]}),e.jsx("div",{className:"row",children:l==!1?s.map((x,h)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:"url(/img/icons/default-img.jpg)"},children:e.jsx("div",{className:"right-top",children:e.jsx("button",{onClick:p=>{n(`/landing/${x.token}`)},children:e.jsx(xe,{})})})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:x==null?void 0:x.name}),e.jsxs("span",{children:["Encuesta agregada el: ",ae(x.time_add)]})]})]})},h)):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(me,{})})})})]})}function ci(){const s=U();return t.useEffect(()=>{function a(){const c=new FormData;c.append("token",s.id),k.post(w+"/api/get/landing",c).then(l=>l.data).then(l=>{document.documentElement.innerHTML="",document.documentElement.innerHTML=l.html})}a()},[s.id]),null}function ri(){const s=J(),{UserInfo:a}=t.useContext(G),[c,l]=t.useState([]);function i(){var d;let n=new FormData;n.append("id_company",(d=a==null?void 0:a.company)==null?void 0:d.id_company),k.post(w+"/api/get/buttons",n,{withCredentials:!0}).then(x=>x.data).then(x=>{l(x)})}return t.useEffect(()=>{i()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"BOTONERAS URL"}),e.jsx("span",{children:"Gestiona tus botoneras estandares"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:n=>{s("/editor/buttons")},children:"Crear nueva botonera"})})]}),e.jsx("div",{className:"row",children:c.map((n,d)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${w}/api/get/previewbuttons?hash=${n.preview}&w=buttons)`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{onClick:x=>{s("/editor/buttons/"+n.id_buttons)},children:e.jsx(fe,{})}),e.jsx("button",{onClick:x=>{s(`/stats/buttons/${n.token}`)},children:e.jsx(Ne,{})}),e.jsx("button",{onClick:x=>{s(`/buttons/${n.token}`)},children:e.jsx(xe,{})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:n==null?void 0:n.title}),e.jsxs("span",{children:["Encuesta agregada el: ",ae(n.time_add)]})]})]})},d))})]})}function di(){const s=J(),{UserInfo:a}=t.useContext(G),[c,l]=t.useState([]),i=J();function n(){var x;let d=new FormData;d.append("id_company",(x=a==null?void 0:a.company)==null?void 0:x.id_company),k.post(w+"/api/get/buttonsqr",d,{withCredentials:!0}).then(h=>h.data).then(h=>{l(h)}).catch(h=>{})}return t.useEffect(()=>{n()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"BOTONERAS QR"}),e.jsx("span",{children:"Gestiona tus botoneras estandares"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:d=>{s("/editor/buttonsqr")},children:"Crear nueva botoneraQR"})})]}),e.jsx("div",{className:"row",children:c.map((d,x)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${w}/api/get/previewbuttons?hash=${d.preview}&w=buttonsqr)`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{onClick:h=>{i("/editor/buttonsqr/"+d.id_buttonsqr)},children:e.jsx(fe,{})}),e.jsx("button",{onClick:h=>{i(`/stats/survey/${d.id_survey}`)},children:e.jsx(Ne,{})}),e.jsx("button",{onClick:h=>{i(`/buttonsqr/${d.token}`)},children:e.jsx(xe,{})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:d==null?void 0:d.title}),e.jsxs("span",{children:["Encuesta agregada el: ",ae(d.time_add)]})]})]})},x))})]})}function oi(){var i,n,d,x,h,p,o,u,g,v,r;let s=U();const[a,c]=t.useState({elements:[]});function l(){let m=new FormData;m.append("token",s.id),k.post(w+"/api/get/buttonsqr",m).then(j=>j.data).then(j=>{c(j)})}return t.useEffect(()=>{l()},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"editor-surveys prodbuttonsqr",children:e.jsxs("div",{className:"center",style:{background:(i=a==null?void 0:a.header)==null?void 0:i.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(n=a==null?void 0:a.header)==null?void 0:n.blur}px)brightness(${(d=a==null?void 0:a.header)==null?void 0:d.brightness})`,background:(x=a==null?void 0:a.header)==null?void 0:x.background2}}),e.jsx("div",{className:`${"page buttonsbody buttonsqr "+((h=a==null?void 0:a.header)==null?void 0:h.colorBox)}`,children:e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",type:"logo",src:(p=a==null?void 0:a.header)!=null&&p.logo?(o=a==null?void 0:a.header)==null?void 0:o.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{type:"title",children:(u=a==null?void 0:a.header)!=null&&u.title?(g=a==null?void 0:a.header)==null?void 0:g.title:""}),e.jsx("span",{type:"desc",children:(v=a==null?void 0:a.header)!=null&&v.desc?(r=a==null?void 0:a.header)==null?void 0:r.desc:""}),e.jsx("br",{}),e.jsx("br",{}),a.elements.map((m,j)=>e.jsxs("div",{className:"boxqr",children:[e.jsx("div",{className:"top",children:e.jsx("div",{className:"top-left",children:e.jsx("p",{id:j,type:"titlespace",children:m.title?m.title:""})})}),e.jsx(Fs.Carousel,{showThumbs:!1,showIndicators:!1,showStatus:!1,children:m.qrs.map((f,C)=>e.jsxs("div",{className:"qr",children:[e.jsx("img",{src:f.image}),e.jsx("p",{children:f.title})]}))}),m.qrs.length==0?e.jsx("div",{className:"add-qr",children:"+"}):""]}))]})})]})})})}function mi(){const s=U();t.useState();const{UserInfo:a}=t.useContext(G);function c(){var i;let l=new FormData;l.append("token",s.id),l.append("id_company",(i=a==null?void 0:a.company)==null?void 0:i.id_company),k.post(w+"/api/get/statbuttons",l,{withCredentials:!0})}return t.useEffect(()=>{c()},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Botonera: ",s.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu encuesta"})]})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Estadisticas de enlaces"})}),e.jsx("div",{className:"result countryr"})]})}),e.jsx("div",{className:"col-md-6",children:"lorem"})]})]})}function pi(){var o,u;const s=U(),[a,c]=t.useState(!1),l=J(),{UserInfo:i}=t.useContext(G),[n,d]=t.useState({total_clicks:0,total_errors:0,total_reads:0,total_sends:0,last_sends:[],last_errors:[]}),[x,h]=t.useState({series:[{name:"Enviados",data:[]},{name:"Clicks",data:[]},{name:"Leidos",data:[]},{name:"Errores",data:[]}],chart:{height:350,type:"area"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{categories:[]},tooltip:{x:{format:"dd/MM/yy HH:mm"}}});function p(){var g;if(a){let v=new FormData;v.append("id_company",(g=i==null?void 0:i.company)==null?void 0:g.id_company),v.append("id_campaign",s.id),v.append("case","campaign"),k.post(w+"/api/get/stats",v,{withCredentials:!0}).then(r=>r.data).then(r=>{let m=r.daysResponse.length;d({...n,total_sends:r.total_sends,total_reads:r.total_reads,total_errors:r.total_errors,total_clicks:r.total_clicks,last_sends:r.last_sends,last_errors:r.last_errors,type_campaign:r.type_campaign}),m&&h(j=>({...j,series:[{...j.series[0],data:j.series[0].data.concat(r.daysResponse.map(f=>f.send))},{...j.series[1],data:j.series[1].data.concat(r.daysResponse.map(f=>f.clicks))},{...j.series[2],data:j.series[2].data.concat(r.daysResponse.map(f=>f.reads))},{...j.series[3],data:j.series[3].data.concat(r.daysResponse.map(f=>f.errors))}],xaxis:{...j.xaxis,categories:r.daysTotal}}))}).catch(r=>{})}}return t.useEffect(()=>{c(!0),a&&p()},[a]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Estadisticas de campaña: ",s==null?void 0:s.id]}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:g=>{l("/campaigns/detail/"+s.id)},children:e.jsx(De,{})})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Enviados"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:n.total_sends})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Clicks"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:n.total_clicks})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Leidos"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:n.total_reads})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Errores"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:n.total_errors})})]})})]}),e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Estadisticas Generales"}),e.jsx("span",{children:"ve las estadisticas de forma general y recorre por cada dia y mes"})]}),(u=(o=x==null?void 0:x.series[0])==null?void 0:o.data)!=null&&u.length?e.jsx(Ee,{options:x,series:x.series,type:"area",height:300}):""]}),e.jsxs("div",{className:"row ",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Analisis General"}),e.jsx("span",{children:"Analisis generales"})]}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Enviados:"})," ",n.total_sends]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Clicks:"})," ",n.total_clicks]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Leidos:"})," ",n.total_reads]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Errores:"})," ",n.total_errors]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Aceptacion General:"})," ",n.total_sends," %"]})})]}),e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimos Errores"}),e.jsx("span",{children:"Los ultimos errores registrados"})]}),e.jsxs("div",{className:"results",children:[n.last_errors.map((g,v)=>e.jsxs("div",{className:"item flex",children:[e.jsx("div",{children:e.jsx("span",{children:n.type_campaign=="em"?g.email:""})}),e.jsxs("div",{children:[e.jsx("button",{className:"status-send",children:e.jsx(Ne,{})}),e.jsx("button",{className:`status-send ${g.error?"error":""}`,children:g.error?e.jsxs(e.Fragment,{children:["Error ",e.jsx(is,{})]}):e.jsxs(e.Fragment,{children:["Enviado  ",e.jsx(ce,{})]})})]})]})),n.last_errors.length==0?e.jsx(e.Fragment,{children:e.jsx(re,{name:"errores"})}):e.jsx("div",{className:"show-all",children:e.jsx("button",{onClick:g=>{l("/campaigns/stats/detail/"+s.id)},children:"Ver detalles completo"})})]})]})]}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimos Enviados"}),e.jsx("span",{children:"Los ultimos envios salientes"})]}),e.jsxs("div",{className:"results",children:[n.last_sends.map((g,v)=>e.jsxs("div",{className:"item flex",children:[e.jsx("div",{children:e.jsx("span",{children:n.type_campaign=="em"?g.email:""})}),e.jsx("div",{children:e.jsx("button",{className:`status-send ${g.error?"error":""}`,children:g.error?e.jsxs(e.Fragment,{children:["Error ",e.jsx(is,{})]}):e.jsxs(e.Fragment,{children:["Enviado  ",e.jsx(ce,{})]})})})]})),n.last_sends.length==0?e.jsx(e.Fragment,{children:e.jsx(re,{name:"errores"})}):e.jsx("div",{className:"show-all",children:e.jsx("button",{onClick:g=>{l("/campaigns/stats/detail/"+s.id)},children:" Ver detalles completo"})})]})]})})]})]})}function xi(){const s=J();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Segmentos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:a=>{s("/contacts/segments/add")},children:"Crear nuevo segmento"})})]})})}function hi(){const[s,a]=t.useState(!1),[c,l]=t.useState([]),[i,n]=t.useState(!1),[d,x]=t.useState(!1),[h,p]=t.useState({domain:null}),{UserInfo:o}=t.useContext(G);function u(){var m;let r=new FormData;r.append("id_company",(m=o==null?void 0:o.company)==null?void 0:m.id_company),l([]),a(!0),n(!0),k.post(w+"/api/get/domains",r,{withCredentials:!0}).then(j=>j.data).then(j=>{l(j),a(!1),n(!1),x(!1)}).catch(j=>{a(!1)})}function g(){var m;let r=new FormData;r.append("domain",h.domain),r.append("id_company",(m=o==null?void 0:o.company)==null?void 0:m.id_company),Ia(h.domain)?k.post(w+"/api/upload/domain",r,{withCredentials:!0}).then(j=>j.data).then(j=>{j.status&&u()}):Fe.error("Opps este dominio no es veridico.")}function v(r){let m=r.target.value,j=r.target.name;p({...h,[j]:m})}return t.useEffect(()=>{u()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(se,{visible:d,Pending:i,callback:x,maxWidth:"450px",onClick:g,next:"Subir",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ingresar dominio"}),e.jsx("span",{children:"integra un nuevo dominio para utilizarlo en los envios de correo, recuerda que durara un tiempo en verificarse el dominio en nuestro servidor."})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Dominio:"}),e.jsx("input",{type:"url",onChange:v,name:"domain",placeholder:"mail.radarsystems.net"})]}),e.jsx("br",{})]},d?"xd":"xd2"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Dominios"}),e.jsx("span",{children:"Esta es tu lista de dominios que puedes utilizar en el envio de correos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:r=>{x(!0)},children:"Subir nuevo dominio"})})]}),e.jsxs("div",{className:"box box-padding",children:[c.map((r,m)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_link.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:r.domain}),e.jsx("p",{className:"desc",children:r.status?"Activo":"En verificacion..."}),e.jsx("span",{className:"desc",children:ae(r.time_add)})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:j=>{},children:e.jsx(Ne,{})}),e.jsx("button",{onClick:j=>{},children:e.jsx(Z,{})})]})]})),s?e.jsx(me,{}):c.length==0?e.jsx("div",{className:"item",children:e.jsx(re,{name:"dominios"})}):""]})]})}function ui(){var m,j,f,C,D,_,q,S;const[s,a]=t.useState({type:void 0,map:{}}),[c,l]=t.useState({}),[i,n]=t.useState(!1),[d,x]=t.useState({name:"",desc:""}),{UserInfo:h}=t.useContext(G);function p(F){let R=F.target.name,T=F.target.value;a({...s,[R]:T})}function o(F){let R=F.target.name,T=F.target.value,N=F.target.getAttribute("action");switch(console.log(N),N){case"add":a(P=>({...P,map:{...P.map,[R]:T}}));break;case"push":a({...s,...s.map,[R]:T});break}}function u(){var R;let F=new FormData;F.append("id_company",(R=h==null?void 0:h.company)==null?void 0:R.id_company),k.post(w+"/api/get/list",F,{withCredentials:!0}).then(T=>T.data).then(T=>{l(N=>(N.lists=T,N))})}function g(F){F.preventDefault(),a(R=>{let T={...R};return T.map.wheres||(T.map.wheres=[]),T.map.wheres.push({[T.map.typeWhereContact]:T.formValue}),T})}function v(){var R;let F=new FormData;F.append("json",JSON.stringify(s)),F.append("id_company",(R=h==null?void 0:h.company)==null?void 0:R.id_company),F.append("name",d.name),F.append("desc",d.desc),k.post(w+"/api/upload/segments",F,{withCredentials:!0}).then(T=>T.data).then(T=>{console.log(T)})}function r(F){let R=F.target.name,T=F.target.value;R&&T&&x({...d,[R]:T})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Segmentos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",children:"Cancelar Creacion"})})]}),e.jsxs("div",{className:"segments-creator",children:[e.jsxs("form",{id:"form-segment",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Nombre"}),e.jsx("input",{type:"text",name:"name",onChange:r,placeholder:"Nombre del segmento"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Descripcion"}),e.jsx("input",{type:"text",name:"desc",onChange:r,placeholder:"Descripcion del segmento"})]}),e.jsxs("div",{className:"inputs",children:[e.jsxs("select",{id:"",name:"type",onChange:p,children:[e.jsx("option",{disabled:!0,selected:!0,children:"Selecciona un tipo"}),e.jsx("option",{value:"lists",children:"Listas"}),e.jsx("option",{value:"campaings",children:"Campañas"}),e.jsx("option",{value:"surveys",children:"Encuestas"})]}),s.type=="lists"?e.jsxs(e.Fragment,{children:[e.jsxs("select",{id:"",name:"type_lists",action:"add",onChange:o,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Selecciona..."}),e.jsx("option",{value:"all",children:"Todas las listas"}),e.jsx("option",{value:"where",children:"Lista Especifica"})]}),e.jsx("i",{children:"="}),(s==null?void 0:s.map.type_lists)=="all"?e.jsx(e.Fragment,{children:e.jsx("option",{value:""})}):((m=s==null?void 0:s.map)==null?void 0:m.type_lists)=="where"?e.jsxs(e.Fragment,{children:[u(),e.jsxs("select",{name:"lists",action:"add",id:"",onChange:o,children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"Selecciona la lista..."}),(j=c==null?void 0:c.lists)==null?void 0:j.map((F,R)=>e.jsx("option",{value:F.id_list,children:F.name}))]}),((f=s==null?void 0:s.map)==null?void 0:f.lists)>=1?e.jsxs("div",{className:"multiple",children:[e.jsxs("div",{className:"",children:[e.jsxs("select",{name:"typeWhereContact",action:"add",onChange:o,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Selecciona una condicion"}),e.jsx("option",{value:"email",children:"Correo"}),e.jsx("option",{value:"name",children:"Nombre"}),e.jsx("option",{value:"lastname",children:"Apellido"}),e.jsx("option",{value:"age",children:"Edad"}),e.jsx("option",{value:"country",children:"Pais"})]}),((C=s==null?void 0:s.map)==null?void 0:C.typeWhereContact)=="email"?e.jsxs("select",{name:"formValue",onChange:p,children:[e.jsx("option",{value:".es",children:".es"}),e.jsx("option",{value:".com",children:".com"}),e.jsx("option",{value:".net",children:".net"}),e.jsx("option",{value:".org",children:".org"}),e.jsx("option",{value:"gmail.com",children:"gmail.com"}),e.jsx("option",{value:"hotmail.com",children:"hotmail.com"}),e.jsx("option",{value:"hotmail.es",children:"hotmail.es"}),e.jsx("option",{value:"outlook.com",children:"outlook.com"}),e.jsx("option",{value:"outlook.es",children:"outlook.es"}),e.jsx("option",{value:"icloud.com",children:"icloud.com"})]}):"",["name","lastname","age","country"].includes((D=s==null?void 0:s.map)==null?void 0:D.typeWhereContact)&&e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",name:"formValue",onChange:p,placeholder:(_=s==null?void 0:s.map)==null?void 0:_.typeWhereContact})}),e.jsx("button",{className:"add-button",onClick:g,children:e.jsx(We,{})})]}),(S=(q=s==null?void 0:s.map)==null?void 0:q.wheres)==null?void 0:S.map((F,R)=>e.jsx("div",{children:Object.entries(F).map(([T,N])=>e.jsxs("div",{className:"where-contact",children:[e.jsxs("p",{children:[T," (Where)"]}),e.jsx("p",{children:N}),e.jsx("button",{children:e.jsx(Z,{})})]},T))},R))]}):""]}):"",["name","lastname","age","country","state"].includes(s==null?void 0:s.type_where_now)&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",placeholder:s==null?void 0:s.type_where_now}),e.jsx("button",{children:e.jsx(We,{})})]})]}):""]})]}),e.jsxs("div",{className:"buttons-right",children:[e.jsx("button",{children:"Cancelar"}),e.jsxs("button",{className:`save ${i?"await":""}`,onClick:v,children:["Guardar ",e.jsx("div",{className:"loading"})]})]})]})]})}function us(){J();const{UserInfo:s}=t.useContext(G),[a,c]=t.useState([]),[l,i]=t.useState([]),[n,d]=t.useState([]);t.useState([]),t.useState([]);const[x,h]=t.useState([]),[p,o]=t.useState([]);t.useState({});function u(r){var j;let m=new FormData;m.append("id_company",(j=s==null?void 0:s.company)==null?void 0:j.id_company),m.append("type",r),m.append("limit","5"),k.post(w+"/api/get/campaign",m,{withCredentials:!0}).then(f=>f.data).then(f=>{switch(r){case"sms":c(f.results);break;case"em":i(f.results);break}})}function g(){var m;let r=new FormData;r.append("id_company",(m=s==null?void 0:s.company)==null?void 0:m.id_company),r.append("limit","10"),k.post(w+"/api/get/templatesall",r,{withCredentials:!0}).then(j=>j.data).then(j=>{h(j)})}function v(){var m;let r=new FormData;r.append("id_company",(m=s==null?void 0:s.company)==null?void 0:m.id_company),k.post(w+"/api/get/surveys",r,{withCredentials:!0}).then(j=>j.data).then(j=>{o(j)})}return t.useEffect(()=>{u("em"),u("sms"),g(),v()},[]),e.jsxs(e.Fragment,{children:[e.jsx(se,{visible:!0,children:"STATS"}),e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MI INICIO"}),e.jsx("span",{children:"Bienvenido a RadarSystems aca podras ver todas tus estadisticas y estados de tu cuenta"})]})}),e.jsx("div",{className:"body-stat",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total email marketing enviados"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"1"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total email transaccional enviados"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"12"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total campañas sms marketing"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"13"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total campañas sms transaccional"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"1"})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding hr",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Top's Campañas EMAIL"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]})})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding hr",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Top's Campañas SMS"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]})})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Email Marketing"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Campaña"}),e.jsx("td",{children:"Enviados"}),e.jsx("td",{children:"Devueltos"}),e.jsx("td",{children:"Leidos"}),e.jsx("td",{children:"Click"}),e.jsx("td",{children:"Rep. Spam"}),e.jsx("td",{children:"Opt. Out"}),e.jsx("td",{children:"Opt. Net"}),e.jsx("td",{children:e.jsx(te,{})})]}),l.map((r,m)=>e.jsxs("tr",{id:m,children:[e.jsxs("td",{children:[e.jsx("span",{children:r.name}),e.jsx("br",{}),ae(r.time_add)]}),e.jsx("td",{children:r.send}),e.jsx("td",{children:r.returned}),e.jsx("td",{children:r.reads}),e.jsx("td",{children:r.clicks}),e.jsx("td",{children:r.clicks}),e.jsx("td",{children:r.clicks}),e.jsx("td",{children:r.clicks}),e.jsx("td",{children:e.jsx(A,{children:e.jsx(te,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Email Transaccional (MT)"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Campaña"}),e.jsx("td",{children:"Enviados"}),e.jsx("td",{children:"Devueltos"}),e.jsx("td",{children:"Leidos"}),e.jsx("td",{children:"Click"}),e.jsx("td",{children:"Rep. Spam"}),e.jsx("td",{children:"Opt. Out"}),e.jsx("td",{children:"Opt. Net"}),e.jsx("td",{children:e.jsx(te,{})})]}),l.map((r,m)=>e.jsxs("tr",{id:m,children:[e.jsxs("td",{children:[e.jsx("span",{children:r.name}),e.jsx("br",{}),ae(r.time_add)]}),e.jsx("td",{children:r.send}),e.jsx("td",{children:r.returned}),e.jsx("td",{children:r.reads}),e.jsx("td",{children:r.clicks}),e.jsx("td",{children:r.clicks}),e.jsx("td",{children:r.clicks}),e.jsx("td",{children:r.clicks}),e.jsx("td",{children:e.jsx(A,{children:e.jsx(te,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Sms Marketing"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Campaña"}),e.jsx("td",{children:"Enviados"}),e.jsx("td",{children:"Devueltos"}),e.jsx("td",{children:"Recibidos"}),e.jsx("td",{children:"Click"}),e.jsx("td",{children:e.jsx(te,{})})]}),l.map((r,m)=>e.jsxs("tr",{id:m,children:[e.jsxs("td",{children:[e.jsx("span",{children:r.name}),e.jsx("br",{}),ae(r.time_add)]}),e.jsx("td",{children:r.send}),e.jsx("td",{children:r.returned}),e.jsx("td",{children:r.reads}),e.jsx("td",{children:r.clicks}),e.jsx("td",{children:e.jsx(A,{children:e.jsx(te,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Sms Transaccional (MT)"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Campaña"}),e.jsx("td",{children:"Enviados"}),e.jsx("td",{children:"Devueltos"}),e.jsx("td",{children:"Recibidos"}),e.jsx("td",{children:"Click"}),e.jsx("td",{children:e.jsx(te,{})})]}),l.map((r,m)=>e.jsxs("tr",{id:m,children:[e.jsxs("td",{children:[e.jsx("span",{children:r.name}),e.jsx("br",{}),ae(r.time_add)]}),e.jsx("td",{children:r.send}),e.jsx("td",{children:r.returned}),e.jsx("td",{children:r.reads}),e.jsx("td",{children:r.clicks}),e.jsx("td",{children:e.jsx(A,{children:e.jsx(te,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Whatsapp Marketing"}),e.jsx("span",{children:"Ve las campanas mas demandadas de whatsapp"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Campaña"}),e.jsx("td",{children:"Enviados"}),e.jsx("td",{children:"Devueltos"}),e.jsx("td",{children:"Recibidos"}),e.jsx("td",{children:"Click"}),e.jsx("td",{children:e.jsx(te,{})})]}),n.map((r,m)=>e.jsxs("tr",{id:m,children:[e.jsxs("td",{children:[e.jsx("span",{children:r.name}),e.jsx("br",{}),ae(r.time_add)]}),e.jsx("td",{children:r.send}),e.jsx("td",{children:r.returned}),e.jsx("td",{children:r.reads}),e.jsx("td",{children:r.clicks}),e.jsx("td",{children:e.jsx(A,{children:e.jsx(te,{})})})]}))]}),n.length==0?e.jsx(re,{name:"Whatsapp"}):""]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Whatsapp Transaccional (MT)"}),e.jsx("span",{children:"Ve las campanas mas demandadas de whatsapp"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Campaña"}),e.jsx("td",{children:"Enviados"}),e.jsx("td",{children:"Devueltos"}),e.jsx("td",{children:"Recibidos"}),e.jsx("td",{children:"Click"}),e.jsx("td",{children:e.jsx(te,{})})]}),n.map((r,m)=>e.jsxs("tr",{id:m,children:[e.jsxs("td",{children:[e.jsx("span",{children:r.name}),e.jsx("br",{}),ae(r.time_add)]}),e.jsx("td",{children:r.send}),e.jsx("td",{children:r.returned}),e.jsx("td",{children:r.reads}),e.jsx("td",{children:r.clicks}),e.jsx("td",{children:e.jsx(A,{children:e.jsx(te,{})})})]}))]}),n.length==0?e.jsx(re,{name:"Whatsapp"}):""]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Plantillas Creadas"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsx("div",{className:"result-go",children:x.map((r,m)=>e.jsxs("div",{className:"i",children:[e.jsxs("div",{className:"left",children:[e.jsx("p",{className:"name",children:r.title}),e.jsx("span",{className:"date",children:ae(r.time_add)})]}),e.jsx("div",{className:"right",children:e.jsxs("button",{children:[e.jsx(xe,{})," Ver "]})})]}))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Encuestas"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsx("div",{className:"result-go",children:p.map((r,m)=>e.jsxs("div",{className:"i",children:[e.jsxs("div",{className:"left",children:[e.jsx("p",{className:"name",children:r.header.title}),e.jsx("span",{className:"date",children:ae(r.time_add)})]}),e.jsx("div",{className:"right",children:e.jsxs("button",{children:[e.jsx(xe,{})," Ver"]})})]}))})]})})]})})]})}function ji(){const s=J(),a=U(),c=ke(),{UserInfo:l}=t.useContext(G);t.useState(null);const[i,n]=t.useState([]),[d,x]=t.useState(!0);function h(p=void 0){var u;let o=new FormData;x(!0),o.append("id_company",(u=l==null?void 0:l.company)==null?void 0:u.id_company),o.append("id_campaign",a.id),p!==void 0&&o.append("type",p),k.post(w+"/api/get/detailsends",o,{withCredentials:!0}).then(g=>g.data).then(g=>{n(g),x(!1)})}return t.useEffect(()=>{h()},[]),t.useEffect(()=>{let p=new URLSearchParams(c.search).get("where");p&&h(p)},[c]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Estadisticas de campaña: ",a==null?void 0:a.id]}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"go-wizard",onClick:p=>{s("/campaigns/stats/"+a.id)},children:e.jsx(De,{})}),e.jsx("button",{className:"go-wizard",onClick:p=>{s("/campaigns/stats/"+a.id)},children:"Crear Segmento"}),e.jsx("button",{className:"go-wizard",onClick:p=>{s("/campaigns/stats/"+a.id)},children:"Descargar"})]})]}),e.jsx("div",{className:"menu-top",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(A,{to:`/campaigns/stats/detail/${a.id}`,children:"General"})}),e.jsx("li",{children:e.jsx(A,{to:`/campaigns/stats/detail/${a.id}?where=error`,children:"Errores"})}),e.jsx("li",{children:e.jsx(A,{to:`/campaigns/stats/detail/${a.id}?where=clicks`,children:"Clicks"})}),e.jsx("li",{children:e.jsx(A,{to:`/campaigns/stats/detail/${a.id}?where=reads`,children:"Leidos"})})]})}),e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Resultados de busqueda"}),e.jsx("span",{children:"Te mostraremos el listado detallado de tus envios"})]}),e.jsx("div",{className:"control-scroll stats-detail",children:e.jsx("div",{className:"row",children:e.jsx(_a,{hasMore:!0,dataLength:10,children:i.map((p,o)=>e.jsx("div",{className:"item flex",children:e.jsx("div",{children:e.jsx("span",{children:p.email})})}))})})})]})]})}function gi(){const s=J(),[a,c]=t.useState(!1),[l,i]=t.useState([]),{UserInfo:n}=t.useContext(G);function d(){var h;let x=new FormData;x.append("id_company",(h=n==null?void 0:n.company)==null?void 0:h.id_company),k.post(w+"/api/get/templatesall",x,{withCredentials:!0}).then(p=>p.data).then(p=>{i(p)})}return t.useEffect(()=>{d()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"BOLETINES ELECTRONICOS"}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:x=>{s("/editor/canvas")},children:"Crear Nuevo Boletin"})})]}),e.jsx("div",{className:"row",children:a==!1?l.map((x,h)=>{var p;return e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${He((p=n==null?void 0:n.company)==null?void 0:p.folder_sftp,x.preview_image)})`},children:e.jsx("div",{className:"right-top",children:e.jsx("button",{onClick:o=>{s(`/landing/${x.token}`)},children:e.jsx(xe,{})})})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:x==null?void 0:x.title}),e.jsxs("span",{children:["Boletin agregado el: ",ae(x.time_add)]})]})]})},h)}):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(me,{})})})})]})}E(document).on("click",".settings-account .case .info button",function(s){s.preventDefault(),s.stopImmediatePropagation();let a=E(this).parents(".case");E(".settings-account .case.active").removeClass("active"),a.addClass("active")});function vi(){E(".settings-account .case.active").removeClass("active")}function fi(){const{UserInfo:s}=t.useContext(G),[a,c]=t.useState({}),[l,i]=t.useState(),[n,d]=t.useState({photo:""});function x(o){let u=o.nativeEvent.target.files;if(u.length){let g=u[0];if(g.type.indexOf("image")>=0){c(g);let v=URL.createObjectURL(g);i(v)}}}function h(o){E("input[name='photo']").val(""),i(""),c({})}function p(){var u;let o=new FormData;o.append("file",a),o.append("id_company",(u=s==null?void 0:s.company)==null?void 0:u.id_company),d({photo:"await"}),k.post(w+"/api/upload/newphoto",o,{withCredentials:!0}).then(g=>g.data).then(g=>{g.status&&(E(".header-top .body  img").attr("src",l),vi(),c({}),Fe.success("Has cambiado correctamente la foto de perfil")),d({photo:""})}).catch(g=>{d({photo:""})})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"settings-account",children:e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Establece una foto de perfil"}),e.jsx("span",{children:"cambia la foto de perfil y integra una foto con tu logo o algo de tu marca"}),e.jsx("button",{children:"Cambiar"})]}),e.jsx("div",{className:"action",children:e.jsxs("div",{className:"change-photo",children:[e.jsx("div",{className:"photo",style:{background:`url(${l||Ge(s)})`}}),e.jsx("div",{className:"buttons",children:a!=null&&a.name?e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:n.photo,onClick:p,children:["Guardar ",e.jsx("div",{className:"loading"})]}),e.jsx("button",{onClick:h,children:"Cancelar"})]}):e.jsxs("button",{onClick:o=>{E("input[name='photo']").click()},children:["Subir ",e.jsx("i",{children:e.jsx(Ea,{})})," "]})}),e.jsx("input",{type:"file",name:"photo",onChange:x,hidden:!0})]})})]})})})}function Ni(){const[s,a]=t.useState([]),[c,l]=t.useState({domain:"",domain_email:""}),[i,n]=t.useState(!1),{UserInfo:d}=t.useContext(G),[x,h]=t.useState(!1),[p,o]=t.useState(!1);function u(r){let m=r.target.name,j=r.target.value;l({...c,[m]:j})}function g(){var m;let r=new FormData;n(!0),r.append("domain",c.domain),r.append("domain_email",c.domain_email),r.append("id_company",(m=d==null?void 0:d.company)==null?void 0:m.id_company),k.post(w+"/api/upload/domain",r,{withCredentials:!0}).then(j=>j.data).then(j=>{n(!1),j.status&&h(!1),j.msg&&Fe.error(j.msg)}).catch(j=>{n(!1)})}function v(){var m;let r=new FormData;r.append("id_company",(m=d==null?void 0:d.company)==null?void 0:m.id_company),k.post(w+"/api/get/domains",r,{withCredentials:!0}).then(j=>j.data).then(j=>{a(j)})}return t.useEffect(()=>{v()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(se,{visible:x,callback:h,maxWidth:"300px",onClick:g,Pending:i,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Agregar"}),e.jsx("span",{children:"agrega un nuevo dominio, el dominio quedara en verificacion para poder ser utilizado"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Dominio destinatario"}),e.jsx("input",{type:"text",name:"domain",onChange:u,placeholder:"dominio.com"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo del dominio"}),e.jsx("input",{type:"text",name:"domain_email",onChange:u,placeholder:"example@dominio.com"})]})]}),e.jsx(Se,{visible:p,callback:o,onClick:"",Pending:""}),e.jsx("div",{className:"settings-account",children:e.jsxs("div",{className:"case active",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Dominios"}),e.jsx("span",{children:"Estos dominios son los que has configurado para ser manejados en tu campanas de envios email"}),e.jsx("button",{onClick:r=>{h(!0)},children:"Agregar Dominio"})]}),e.jsxs("div",{className:"action",children:[e.jsx("div",{className:"row domains",children:s.map((r,m)=>e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"domain",children:[e.jsxs("p",{children:[e.jsx(Fa,{}),"  ",r.domain]}),e.jsx("span",{children:r.domain_email}),e.jsx("br",{}),e.jsxs("span",{children:["Estatus: ",r.status?e.jsx(Da,{}):e.jsx(Pa,{})]}),e.jsxs("div",{className:"buttons",children:[e.jsx("button",{children:e.jsx(te,{})}),e.jsx("button",{children:e.jsx(Z,{})})]})]})}))}),s.length==0?e.jsx(re,{name:"dominios"}):""]})]})})]})}function yi(){return e.jsxs(e.Fragment,{children:[e.jsx(Ta,{}),e.jsx(La,{children:e.jsxs(qa,{children:[e.jsx(V,{path:"/",element:e.jsx(Ra,{})}),e.jsx(V,{path:"/register",element:e.jsx(Ma,{})}),e.jsx(V,{path:"/wizard",element:e.jsx(mt,{})}),e.jsx(V,{path:"/settings-account/account",element:e.jsx(I,{CompanyNeed:!0,Element:fi})}),e.jsx(V,{path:"/settings-account/security",element:e.jsx(I,{CompanyNeed:!0,Element:Ce})}),e.jsx(V,{path:"/settings-account/footer",element:e.jsx(I,{CompanyNeed:!0,Element:Ce})}),e.jsx(V,{path:"/settings-account/domains",element:e.jsx(I,{CompanyNeed:!0,Element:Ni})}),e.jsx(V,{path:"/",element:e.jsx(I,{CompanyNeed:!0,Element:us})}),e.jsx(V,{path:"/home",element:e.jsx(I,{CompanyNeed:!0,Element:us})}),e.jsx(V,{path:"/campaigns",element:e.jsx(I,{CompanyNeed:!0,Element:Ce})}),e.jsx(V,{path:"/campaigns/em",element:e.jsx(I,{CompanyNeed:!0,Element:Ce})}),e.jsx(V,{path:"/campaigns/sms",element:e.jsx(I,{CompanyNeed:!0,Element:Ce})}),e.jsx(V,{path:"/campaigns/sms-mt",element:e.jsx(I,{CompanyNeed:!0,Element:Ce})}),e.jsx(V,{path:"/campaigns/em-mt",element:e.jsx(I,{CompanyNeed:!0,Element:Ce})}),e.jsx(V,{path:"/campaigns/new",element:e.jsx(I,{CompanyNeed:!0,Element:Ce})}),e.jsx(V,{path:"/campaigns/stats/:id",element:e.jsx(I,{CompanyNeed:!0,Element:pi})}),e.jsx(V,{path:"/campaigns/stats/detail/:id",element:e.jsx(I,{CompanyNeed:!0,Element:ji})}),e.jsx(V,{path:"/campaigns/detail/:id",element:e.jsx(I,{CompanyNeed:!0,Element:Nt})}),e.jsx(V,{path:"/companys",element:e.jsx(I,{CompanyNeed:!1,Element:ls})}),e.jsx(V,{path:"/companys/add",element:e.jsx(I,{CompanyNeed:!1,Element:ls})}),e.jsx(V,{path:"/companys/roles",element:e.jsx(I,{CompanyNeed:!0,Element:jt})}),e.jsx(V,{path:"/companys/users",element:e.jsx(I,{CompanyNeed:!0,Element:gt})}),e.jsx(V,{path:"/contacts/lists",element:e.jsx(I,{CompanyNeed:!0,Element:cs})}),e.jsx(V,{path:"/contacts/lists/:type",element:e.jsx(I,{CompanyNeed:!0,Element:cs})}),e.jsx(V,{path:"/contacts/detail/:id",element:e.jsx(I,{CompanyNeed:!0,Element:kt})}),e.jsx(V,{path:"/contacts/upload/:id",element:e.jsx(I,{CompanyNeed:!0,Element:_t})}),e.jsx(V,{path:"/contacts/segments",element:e.jsx(I,{CompanyNeed:!0,Element:xi})}),e.jsx(V,{path:"/contacts/segments/add",element:e.jsx(I,{CompanyNeed:!0,Element:ui})}),e.jsx(V,{path:"/contacts",element:e.jsx(I,{CompanyNeed:!0,Element:ii})}),e.jsx(V,{path:"/editor/canvas/:id",element:e.jsx(I,{CompanyNeed:!0,Element:rs})}),e.jsx(V,{path:"/editor/canvas/",element:e.jsx(I,{CompanyNeed:!0,Element:rs})}),e.jsx(V,{path:"/surveys",element:e.jsx(I,{CompanyNeed:!0,Element:Et})}),e.jsx(V,{path:"/surveys/editor",element:e.jsx(I,{CompanyNeed:!0,Element:ds})}),e.jsx(V,{path:"/surveys/editor/:idsurvey",element:e.jsx(I,{CompanyNeed:!0,Element:ds})}),e.jsx(V,{path:"/stats/survey/:id",element:e.jsx(I,{CompanyNeed:!0,Element:Rt})}),e.jsx(V,{path:"/stats/survey/:id/detail",element:e.jsx(I,{CompanyNeed:!0,Element:Mt})}),e.jsx(V,{path:"/stats/survey/:id/response",element:e.jsx(I,{CompanyNeed:!0,Element:$t})}),e.jsx(V,{path:"/surveys/preview",element:e.jsx(os,{})}),e.jsx(V,{path:"/surveys/preview/:id",element:e.jsx(os,{})}),e.jsx(V,{path:"/survey/:id",element:e.jsx(At,{})}),e.jsx(V,{path:"/shorturls",element:e.jsx(I,{CompanyNeed:!0,Element:ms})}),e.jsx(V,{path:"/shorturls/add",element:e.jsx(I,{CompanyNeed:!0,Element:ms})}),e.jsx(V,{path:"/shorturls/:id",element:e.jsx(I,{CompanyNeed:!0,Element:zt})}),e.jsx(V,{path:"/shorturls/campaigns",element:e.jsx(I,{CompanyNeed:!0,Element:ps})}),e.jsx(V,{path:"/shorturls/campaigns/add",element:e.jsx(I,{CompanyNeed:!0,Element:ps})}),e.jsx(V,{path:"/shorturls/campaigns/:id",element:e.jsx(I,{CompanyNeed:!0,Element:Vt})}),e.jsx(V,{path:"/qr",element:e.jsx(I,{CompanyNeed:!0,Element:Ve})}),e.jsx(V,{path:"/qr/add",element:e.jsx(I,{CompanyNeed:!0,Element:Ve})}),e.jsx(V,{path:"/qr/import",element:e.jsx(I,{CompanyNeed:!0,Element:Ve})}),e.jsx(V,{path:"/domains",element:e.jsx(I,{CompanyNeed:!0,Element:hi})}),e.jsx(V,{path:"/editor/buttons",element:e.jsx(I,{CompanyNeed:!0,Element:xs})}),e.jsx(V,{path:"/editor/buttons/:id",element:e.jsx(I,{CompanyNeed:!0,Element:xs})}),e.jsx(V,{path:"/buttons/:id",element:e.jsx(Yt,{})}),e.jsx(V,{path:"/buttons",element:e.jsx(I,{CompanyNeed:!0,Element:ri})}),e.jsx(V,{path:"/stats/buttons/:id",element:e.jsx(I,{CompanyNeed:!0,Element:mi})}),e.jsx(V,{path:"/editor/buttonsqr",element:e.jsx(I,{CompanyNeed:!0,Element:hs})}),e.jsx(V,{path:"/editor/buttonsqr/:id",element:e.jsx(I,{CompanyNeed:!0,Element:hs})}),e.jsx(V,{path:"/buttonsqr",element:e.jsx(I,{CompanyNeed:!0,Element:di})}),e.jsx(V,{path:"/buttonsqr/:id",element:e.jsx(oi,{})}),e.jsx(V,{path:"/test",element:e.jsx(Bt,{})}),e.jsx(V,{path:"/recovery",element:e.jsx(ai,{})}),e.jsx(V,{path:"/editor/landings",element:e.jsx(ni,{})}),e.jsx(V,{path:"/landings",element:e.jsx(I,{CompanyNeed:!0,Element:li})}),e.jsx(V,{path:"/landing/:id",element:e.jsx(ci,{})}),e.jsx(V,{path:"/templates",element:e.jsx(I,{CompanyNeed:!0,Element:gi})})]})})]})}const Ci=t.createContext(),bi=s=>{const[a,c]=t.useState({});return e.jsx(Ci.Provider,{value:{App:a,setApp:c},...s})},wi=t.createContext();function ki(s){const[a,c]=t.useState();return t.useEffect(()=>{document.title=a},[a]),t.useEffect(()=>{c("Radarsystems - App")},[]),e.jsx(wi.Provider,{value:{setTitle:c},...s})}Oa.createRoot(document.getElementById("root")).render(e.jsx(Aa.StrictMode,{children:e.jsx(Ja,{children:e.jsx(Xa,{children:e.jsx(bi,{children:e.jsx(ki,{children:e.jsx(yi,{})})})})})}));
