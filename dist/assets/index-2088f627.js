import{a as D,$ as R,r as a,j as e,u as se,L as $,n as A,I as ds,b as oa,c as js,d as ma,e as ne,f as Fe,g as He,h as Ee,_ as me,i as pa,k as ha,M as xe,V as xa,l as ms,m as Ke,o as L,p as ua,q as fe,s as ja,t as Es,v as ga,w as va,x as fa,y as Na,z as Oe,A as Ne,B as De,C as ya,D as fs,E as ba,F as Ca,G as Xe,H as Ie,J as wa,K as Ae,N as ka,O as Sa,P as de,Q as We,R as Me,S as Fs,T as _a,U as Ea,W as Fa,X as Is,Y as Da,Z as Pa,a0 as qa,a1 as Ta,a2 as La,a3 as Ra,a4 as Ma,a5 as Ns,a6 as Aa,a7 as Oa,a8 as $a,a9 as za,aa as Ge,ab as Je,ac as ys,ad as Va,ae as Gs,af as Js,ag as Xs,ah as Ks,ai as Ys,aj as Zs,ak as Us,al as ea,am as sa,an as aa,ao as Ba,ap as Ds,aq as Qa,ar as gs,as as Wa,at as Ha,au as Ia,av as Ga,aw as Ja,ax as Ps,ay as ia,az as Xa,aA as Ka,aB as Ya,aC as Za,aD as Ua,aE as ei,aF as si,aG as ai,aH as B,aI as ii,aJ as ti}from"./vendor-8477d0e4.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))t(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();const E="https://api.radarsystems.net",rs="https://rar.bio";function ps(s){if(s<1e3)return s.toString();const i=["","k","M","G","T","P","E","Z","Y"],n=Math.floor((""+s).length/3);let t=parseFloat((n!==0?s/Math.pow(1e3,n):s).toPrecision(2));return t%1===0&&(t=t.toFixed(1)),t+i[n]}function ni(s){let i;switch(s){case"sms":i="sms";break;case"em":case"em-mt":i="em";break}return i}async function li(s){return await D.get(E+"/api/get/company?id_company="+s,{withCredentials:!0}).then(n=>n.data)}async function ci(){return await D.post(E+"/api/get/companys",{},{withCredentials:!0}).then(s=>s.data)}function Te(s){return window.location.pathname.includes(s)}function vs(s){let i=document.cookie;i=i.split(";");let n;return i.forEach((t,o)=>{t.indexOf(`${s}=`)>=0&&(n=t.replace(`${s}=`,""))}),n}function ri(s){const i=new URLSearchParams(window.location.search);return i.has(s)?i.get(s):null}function ls(s,i,n=!1){var t=new Date;n?t.setTime(t.getTime()-1):t.setDate(t.getDate()+10);var o=s+"="+encodeURIComponent(i)+"; expires="+t.toUTCString()+"; path=/";document.cookie=o}function hs(s){R(s).addClass("await")}function qe(s){R(s).removeClass("await")}function Le(s=15){return Math.random().toString(36).substring(2,s+2)}function di(s){let i=!1;return s.type.indexOf("image")>=0&&(i=!0),i}function oi(s,i){return new Promise((n,t)=>{try{let o=s.target.files[0],r={file:"",analize:""},l=new FileReader;l.onload=async function(m){let h=!0,p=m.currentTarget.result.split(`
`),g=p[0].split(","),x=!1;x=["email"].every(u=>g.includes(u)),x?await(async()=>{for(var d=1;d<p.length;d++){let j=p[d].split(",");if(j.length!==g.length){h=!1;break}if(p[d].trim()===""||j.some(v=>v.trim()==="")){h=!1;break}let f=(d+1)/p.length*100;f%5===0&&await new Promise(v=>setTimeout(()=>{i(f),v()},0))}r.analize="good",r.file=o,n(r)})():(r.analize="good",r.file=o,n(r))},l.readAsText(o)}catch{response.analize="bad",t(response)}})}function bs(s,i){return`${E}/api/get/imgtemplate?img=${i}&folder=${s}`}function pe(s,i=void 0){const n=new Date(s*1e3),t=n.getDate(),o=n.getMonth()+1,r=n.getFullYear(),l=n.getHours(),m=n.getMinutes();switch(i){case"full":var h=`${t}/${o}/${r} ${l}:${m}`;break;default:var h=`${t}/${o}/${r}`;break}return h}function ta(s){return s?s=String(s).toLowerCase():s="undefined",s=="undefined"?window.location.origin+"/img/icons/countrys/"+s+".png":window.location.origin+"/img/icons/countrys/"+s+".svg"}function na(s){let i;switch(s&&(s=String(s).toLocaleLowerCase()),s){case"ve":i="Venezuela";break;case"ca":i="Canada";break;default:i="Undefined";break}return i}function mi(s){return s!==void 0&&(s=String(s).toLowerCase()),(s.indexOf("mac")>=0||s.indexOf("apple")>=0)&&(s="apple"),s.indexOf("windows")>=0&&(s="windows"),s.indexOf("linux")>=0&&(s="linux"),s.indexOf("android")>=0&&(s="android"),s!=="windows"&&s!=="apple"&&s!=="android"&&s!=="linux"&&(s="undefined"),"/img/icons/systems/"+s+".png"}function pi(s){return"/img/icons/apps/"+s+".png"}function cs(s){return E+"/api/get/previewqr?url="+s}function hi(s){return{fb:"Facebook",in:"Instagram",x:"X (Twitter)",email:"Correo",sms:"Sms",tik:"Tiktok",linkd:"Linkedin",yt:"Youtube",tele:"Telegram",ws:"Whatsapp",others:"Otros"}[s]||""}function xi(s){return!!/^[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(s)}function Cs(s){var n,t;let i;return(n=s==null?void 0:s.company)!=null&&n.photo?i=E+"/api/get/photoprofile?hash="+((t=s==null?void 0:s.company)==null?void 0:t.photo):i="img/icons/default_profile.png",i}function qs(s){return s>=1&&s<=9?"0"+s:s.toString()}function ui(s,i){return s.length>i?s.substring(0,i)+"...":s}function ji(){const s=navigator.userAgent;return s.match(/Android/i)?"Android":s.match(/iPhone|iPad|iPod/i)?"iPhone":"Desktop"}const K=a.createContext(),gi=s=>{const[i,n]=a.useState({}),[t,o]=a.useState(!1),[r,l]=a.useState(!0);return a.useEffect(()=>{function m(h){if(h){let p=new FormData;p.append("id_company",h),D.post(E+"/api/get/company",p,{withCredentials:!0}).then(g=>g.data).then(g=>{n(x=>({...x,company:g}))}).finally(()=>{l(!1)})}else l(!1),window.location.href="/companys"}(async function(){vs("token");let h=window.location.pathname,p=vs("company");await D.get(E+"/api/get/my",{withCredentials:!0}).then(g=>g.data).then(g=>{g.id_admin?(o(!0),n(g),m(p??(g==null?void 0:g.company_default)??null)):(h!=="/"&&h!=="/auth"&&!h.startsWith("/buttonsqr/")&&(window.location.href="/"),setTimeout(()=>{l(!1)},500))})})()},[]),e.jsx(K.Provider,{value:{UserInfo:i,setUserInfo:n,Auth:t,LoadingAuth:r},...s})};function vi(){let s=se();const[i,n]=a.useState({user:"",password:""}),{UserInfo:t}=a.useContext(K);function o(l){l.stopPropagation(),l.preventDefault(),R(l.target).addClass("await"),i.password&&i.user?D.post(E+"/api/auth/login",i,{withCredentials:!0}).then(m=>m.data).then(m=>{m.status&&(window.location.href="/home"),m.msg&&A.error(m.msg)}).catch(m=>{A.error(String(m))}).finally(m=>{R(l.target).removeClass("await")}):R(l.target).removeClass("await")}function r(l){n({...i,[l.target.name]:l.target.value})}return a.useEffect(()=>{t!=null&&t.id_admin&&s("/home")},[t]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"row auth",children:[e.jsxs("div",{className:"col-auth-left",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"img/icons/logo-l1.png",alt:""})}),e.jsxs("div",{className:"align",children:[e.jsxs("span",{className:"title-welcome",children:["Bienvenido de nuevo. ",e.jsx("br",{})," Inicia ahora."]}),e.jsxs("span",{className:"text-register",children:["¿Aun no tienes cuenta?, ",e.jsx($,{to:"/register",children:"Registrate ahora"})]}),e.jsxs("form",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Usuario"}),e.jsx("input",{type:"text",name:"user",onChange:r})]}),e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{children:["Password",e.jsx($,{className:"forgot",to:"/recovery",children:"¿Olvidó?"})]}),e.jsx("input",{type:"password",name:"password",onChange:r})]}),e.jsx("span",{}),e.jsxs("button",{className:"sign",onClick:o,children:["INICIAR SESION ",e.jsx("div",{className:"loading"})]})]})]})]}),e.jsx("div",{className:"col-auth-right right",children:e.jsx("div",{className:"align",children:e.jsx("div",{className:"carousel",children:e.jsxs("div",{className:"item",children:[e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestiae perspiciatis nulla commodi accusamus. Reprehenderit, earum quibusdam laboriosam aliquam dolore ullam doloremque ratione possimus ex neque minus velit iste suscipit odit!"}),e.jsx("img",{src:"img/auth/People-welcome.png"})]})})})})]})})}function fi(){const[s,i]=a.useState({user:"",email:"",password:"",rpassword:""}),{UserInfo:n}=a.useContext(K),t=se();function o(l){l.stopPropagation();let m=l.target.name,h=l.target.value;i({...s,[m]:h})}function r(l){l.stopPropagation(),l.preventDefault(),R(l.target).addClass("await"),D.post(E+"/api/auth/register",s,{withCredentials:!0}).then(m=>m.data).then(m=>{m.msg&&A.error(m.msg),m.status&&A.success("Cuenta registrada inicia sesion."),t("/"),R(l.target).removeClass("await")}).catch(m=>{R(l.target).removeClass("await")})}return a.useEffect(()=>{n!=null&&n.id_admin&&t("/home")},[n]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"row auth",children:[e.jsxs("div",{className:"col-auth-left",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"img/icons/logo-l1.png",alt:""})}),e.jsxs("div",{className:"align",children:[e.jsxs("span",{className:"title-welcome",children:["Bienvenido.",e.jsx("br",{})," Registrate ahora!."]}),e.jsxs("span",{className:"text-register",children:["¿Opps ya tienes una cuenta?, ",e.jsx($,{to:"/",children:"Ingresar"})]}),e.jsxs("form",{className:"form",onChange:o,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Usuario"}),e.jsx("input",{type:"text",name:"user"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo"}),e.jsx("input",{type:"text",name:"email"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Contraseña"}),e.jsx("input",{type:"password",name:"password"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Repite Contraseña"}),e.jsx("input",{type:"password",name:"rpassword"})]}),e.jsx("span",{}),e.jsxs("button",{className:"sign",onClick:r,children:["REGISTRARSE",e.jsx("div",{className:"loading"})]})]})]})]}),e.jsx("div",{className:"col-auth-right right",children:e.jsx("div",{className:"align",children:e.jsx("div",{className:"carousel",children:e.jsxs("div",{className:"item",children:[e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestiae perspiciatis nulla commodi accusamus. Reprehenderit, earum quibusdam laboriosam aliquam dolore ullam doloremque ratione possimus ex neque minus velit iste suscipit odit!"}),e.jsx("img",{src:"img/auth/People-welcome.png"})]})})})})]})})}const je=a.createContext(),Ni=s=>{const[i,n]=a.useState(0),{Auth:t,UserInfo:o}=a.useContext(K),[r,l]=a.useState({type:"",company:"",loading:!0,process:{}});function m(x,c){switch(c){case"active":R(x).addClass("await");break;case"remove":R(x).removeClass("await");break}}function h(x,c){x.stopPropagation();let u=R(x.target);u.parents(".selector").find(".active").removeClass("active"),u.addClass("active"),c(x.target.value)}function p(x,c){x.stopPropagation();let u=R(x.target);u.parents(".items-result").find(".active").removeClass("active"),u.addClass("active"),c(R(x.target).attr("value"))}function g(){n(i-1)}return a.useEffect(()=>{t&&async function(){if(o.company_default){let x=await li(o.company_default);l({...r,loading:!1,company:x})}else l({...r,loading:!1})}()},[t]),a.useEffect(()=>{l(x=>({...x,tutorial_wizard:o.tutorial_wizard}))},[o]),e.jsx(je.Provider,{value:{Prev:g,wizard:r,SelectorItem:p,AwaitButton:m,Selector:h,setWizard:l,position:i,setPosition:n},...s})};function Ce({Next:s}){const{setPosition:i,position:n}=a.useContext(je),{wizard:t,setWizard:o}=a.useContext(je),[r,l]=a.useState({});function m(){i(n-1)}return a.useEffect(()=>{t.company&&l(t.company)},[t]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"buttons-action ",children:[(r==null?void 0:r.name)!==void 0?e.jsx(e.Fragment,{children:e.jsxs("button",{className:"button-company",children:[e.jsx("img",{src:"img/icons/default_profile.png",alt:""}),r.name]})}):"",e.jsx("button",{className:"prev",onClick:m,children:"<"}),e.jsxs("button",{className:"next",onClick:s,children:["Siguiente ",e.jsx("div",{className:"loading"})]})]})})}function yi(){function s(){}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left"}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Subir contactos"}),e.jsx("span",{className:"desc",children:"Sube tus contactos a la lista."})]}),e.jsx("div",{}),e.jsx(Ce,{Next:s})]})]})})}function bi(){const{wizard:s,setWizard:i,setPosition:n,AwaitButton:t}=a.useContext(je),[o,r]=a.useState(!1),[l,m]=a.useState({name:""});function h(g){if(o)n(x=>x+1);else{t(g.target,"active");let x=new FormData;x.append("name",l.name),x.append("id_company",s.company.id_company),s.type=="email"?x.append("type_c","email"):s.type=="sms"&&x.append("type_c","sms"),D.post(E+"/api/upload/list",x,{withCredentials:!0}).then(c=>c.data).then(c=>{c.status&&(A.success("Lista creada existosamente!"),n(u=>u+1),r(!0),c.id_list&&i(u=>({...u,process:{...u.process,id_list:c.id_list}}))),c.msg&&A.error(c.msg),t(g.target,"remove")}).catch(c=>{A.error(""+c),t(g.target,"remove")})}}function p(g){m(x=>({...x,[g.target.name]:g.target.value}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Nueva lista"}),e.jsx("img",{src:"img/icons/lists.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crear lista"}),e.jsx("span",{className:"desc",children:"Crea una nueva lista y luego ingresa los contactos"})]}),e.jsx("div",{className:"form",children:e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",name:"name",placeholder:"Nombre de lista",onChange:p})})}),e.jsx(Ce,{Next:h})]})]}),o==!0?e.jsx(yi,{}):""]})}function Ci(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Welcome"}),e.jsx("img",{src:"/img/icons/email-alert.png",alt:""})]})}),e.jsx("div",{className:"right",children:e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"titel",children:"Seleccionar lista"}),e.jsx("span",{className:"desc",children:"Selecciona una lista para integrarla a la campaign que has elegido."})]})})]})})}function wi(){const{Selector:s,setPosition:i}=a.useContext(je),[n,t]=a.useState();function o(l){t(l)}function r(){(n=="new"||n=="select")&&i(l=>l+1)}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elegir lista"}),e.jsx("img",{src:"img/icons/wizard-contacts.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu lista"}),e.jsx("span",{className:"desc",children:"Desde aqui puedes elegir rapidamente una lista de contactos, subirla o subirlos manualmente."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"select",onClick:l=>{s(l,o)},children:"Seleccionar de una lista"}),e.jsx("button",{value:"new",onClick:l=>{s(l,o)},children:"Crear una nueva lista"})]}),e.jsx(Ce,{Next:r})]})]}),n=="new"?e.jsx(bi,{}):n=="select"?e.jsx(Ci,{}):""]})}function ki(){function s(){}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left"}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Hola"}),e.jsx("span",{className:"desc",children:"hola"})]}),e.jsx(Ce,{Next:s})]})]})})}function Si(){const{wizard:s,setWizard:i,AwaitButton:n}=a.useContext(je),[t,o]=a.useState(!1),r=se();function l(h){n(h.target,"active");let p=new FormData;o("pending"),p.append("id_campaign",s.process.id_campaign),p.append("email",s.process.email),p.append("str_affair",s.process.affair),p.append("str_body",s.process.body),p.append("id_company",s.company.id_company),D.post(E+"/api/send/mt",p,{withCredentials:!0}).then(g=>g.data).then(g=>{n(h.target,"remove"),g.status&&(o(!0),s.tutorial_wizard&&setTimeout(()=>{D.get("/api/get/tutowizard",{withCredentials:!0}),r("/home")},2e3)),g.msg&&A.error(g.msg)}).catch(g=>{n(h.target,"remove")})}function m(h){l(h)}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option active",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Detalles de envio"}),e.jsx("img",{src:"img/icons/send-email2.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Envio de campaign"}),e.jsx("span",{className:"desc",children:"Enhora buena! Has llegado al ultixmo paso."})]}),e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Previsualizacion del envio"}),e.jsx("div",{className:"structure",children:e.jsxs("ul",{children:[e.jsxs("li",{children:["Correo para: ",e.jsx("b",{children:s.process.email})]}),e.jsxs("li",{children:["Asunto: ",e.jsx("b",{children:s.process.affair})]}),e.jsxs("li",{children:["Bajo la compania: ",e.jsx("b",{children:s.company.name})]}),e.jsxs("li",{children:["Status de envio: ",t==!1?e.jsxs("i",{className:"text-yellow",children:[e.jsx(ds,{})," En espera de confirmacion..."]}):t=="pending"?e.jsxs("i",{children:[e.jsx(oa,{})," Enviando..."]}):t==!0?e.jsxs("i",{className:"success",children:[e.jsx(js,{})," Enviado"]}):""]})]})})]}),e.jsx(Ce,{Next:m})]})]})})}function _i(){const{setWizard:s,setPosition:i}=a.useContext(je),[n,t]=a.useState(),[o,r]=a.useState(!1);function l(){n?(i(m=>m+1),s(m=>({...m,process:{...m.process,email:n}})),r(!0)):A.error("Opps! No has proporcionado un correo valido")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elegir correo"}),e.jsx("img",{src:"img/icons/email-2.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Asignar el correo"}),e.jsx("span",{className:"info",children:"Elige el correo al cual se le enviara este email."})]}),e.jsx("div",{className:"form",children:e.jsx("div",{className:"form-input",children:e.jsx("input",{placeholder:"Correo electronico",type:"email",onChange:m=>{t(m.target.value)}})})}),e.jsx(Ce,{Next:l})]})]}),o==!0?e.jsx(Si,{}):""]})}function Ei(){const{setPosition:s,wizard:i,setWizard:n}=a.useContext(je),[t,o]=a.useState({status:!1,preview:!1,isHtml:!1,file:{},preview_html:"",affair:"",vars:[]});function r(){t.affair?t.preview_html?(n(u=>({...u,process:{...u.process,body:t.preview_html,affair:t.affair,vars:t.vars}})),s(u=>u+1),o(u=>({...u,status:!0}))):A.error("No tienes ningun formato html asignado."):A.error("Opps has dejado el asunto vacio.")}function l(u){let d=u.target.files[0];if(d.type=="text/html"){o(f=>({...t,file:d}));let j=new FileReader;j.onload=function(f){o(v=>({...v,preview_html:f.target.result}))},j.readAsText(d)}}function m(){o(u=>({...u,preview:!0}))}function h(){o(u=>({...u,preview_html:"",preview:!1,file:{}})),document.querySelector(".option.active input[type='file']").value=""}function p(){o(u=>({...u,preview:!1}))}function g(u){o(d=>({...d,affair:u.target.value}))}function x(u){let j=R(u.target).parents(".form-input").find("input"),f=j.val();t.vars.length<8&&(o(v=>({...v,vars:[...v.vars,f]})),j.val(""))}function c(u){let d=u.target.value;o(j=>({...j,vars:j.vars.filter(f=>f!==d)}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[t.preview==!1?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Personaliza tu frontend"}),e.jsx("img",{src:"img/icons/frontend.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Personalizar body"}),e.jsx("span",{className:"desc",children:"Personaliza tu body para tu envio"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"xd",children:"Este campo es especial, dale click al signo de interrogacion para ver sus funcionalidades."}),e.jsx("input",{type:"text",placeholder:"Asunto",onChange:g})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"xd",children:"Estas variables se enviaran en forma organizada, es decir desde el principio al fin. y deben de ser interpretadas en su archivo .html con un $1,$2."}),e.jsxs("div",{className:"special",children:[e.jsx("input",{type:"text",placeholder:"Variables",onChange:g}),e.jsx("button",{className:"action",onClick:x,children:"Agregar"})]}),e.jsx("div",{className:"tags",children:t.vars.map((u,d)=>e.jsx("button",{onClick:c,value:u,children:u},d))})]}),e.jsx("div",{className:"buttons",children:t.file.type=="text/html"?e.jsxs("div",{className:"file-on",children:[e.jsxs("span",{className:"name-file",children:[e.jsx(ma,{})," ",t.file.name]}),e.jsx("button",{className:"remove",onClick:h,children:e.jsx(ne,{})})]}):e.jsxs("button",{onClick:u=>{document.querySelector(".option.active input[type='file']").click()},children:[e.jsx(Fe,{})," Subir Archivo"]})})]}),e.jsx("div",{className:"buttons",children:t.file.type!=="text/html"?e.jsx("button",{children:"Editor html"}):e.jsx("button",{onClick:m,children:"Vista previa"})}),e.jsx(Ce,{Next:r})]})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"preview-html",children:[e.jsxs("div",{className:"actions-preview",children:[e.jsx("button",{className:"left",onClick:p,children:e.jsx(He,{})}),e.jsx("button",{className:"left",onClick:h,children:e.jsx(ne,{})}),e.jsx("div",{className:"right-preview",children:e.jsxs("button",{className:"upload-new",onClick:u=>{document.querySelector(".option.active input[type='file']").click()},children:[e.jsx(Fe,{})," Subir nuevo archivo"]})})]}),e.jsx("div",{className:"preview",dangerouslySetInnerHTML:{__html:t.preview_html}})]})}),e.jsx("input",{type:"file",accept:".html",onChange:l,hidden:!0})]}),t.status==!0?e.jsx(_i,{}):""]})}function Fi(){const{Selector:s,setPosition:i}=a.useContext(je),[n,t]=a.useState();function o(){(n=="new"||n=="select")&&i(l=>l+1)}function r(l){t(l)}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Selecciona la plantilla"}),e.jsx("img",{src:"img/icons/body-html.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Selecciona tu estructura"}),e.jsx("span",{className:"desc",children:"Selecciona la estructura de correo que usaras para enviar esta campaign"})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"new",onClick:l=>{s(l,r)},children:"Crear un body"}),e.jsx("button",{value:"select",onClick:l=>{s(l,r)},children:"Ya tengo uno"})]}),e.jsx(Ce,{Next:o})]})]}),n=="new"?e.jsx(Ei,{}):n=="select"?e.jsx(ki,{}):""]})}function la(){const{Selector:s,setWizard:i,setPosition:n,position:t}=a.useContext(je),[o,r]=a.useState();function l(){o!==void 0||o!==""?n(t+1):A.error("!Opps no has seleccionado el tipo de envio")}function m(h){r(h),i(p=>({...p,process:{...p.process,type_send:h}}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Selecciona el tipo"}),e.jsx("img",{src:"img/icons/send-type.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige el tipo de envio"}),e.jsx("span",{className:"desc",children:"Aca tienes que elegir que tipo de envio quieres que sea. Es decir, puedes elegir entre un envio "})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"masive",onClick:h=>{s(h,m)},children:"Envíos de campañas masivas"}),e.jsx("button",{value:"ind",onClick:h=>{s(h,m)},children:"Envio Individual"})]}),e.jsx(Ce,{Next:l})]})]}),o=="ind"?e.jsx(Fi,{}):o=="masive"?e.jsx(wi,{}):""]})}function Di(){const[s,i]=a.useState({name:"",ocation:"",id_company:""}),{AwaitButton:n,wizard:t,Prev:o,position:r,setPosition:l}=a.useContext(je);a.useState(!1);const[m,h]=a.useState(!0);function p(x){n(x.target,"active");let c=new FormData;c.append("name",s.name),c.append("ocation",s.ocation),c.append("id_company",s.id_company),t.type=="email"&&c.append("type_c","em"),t.type=="sms"&&c.append("type_c","sms"),D.post(E+"/api/upload/campaign",c,{withCredentials:!0}).then(u=>u.data).then(u=>{u.msg&&A.error(u.msg),u.status&&l(r+1),n(x.target,"remove")}).catch(u=>{n(x.target,"remove")})}function g(x){i({...s,[x.target.name]:x.target.value})}return a.useEffect(()=>{i({...s,id_company:t.company.id_company})},[t]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Una nueva aventura!"}),e.jsx("img",{src:"img/icons/new-campaign.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crea una nueva campaña"}),e.jsx("span",{className:"desc",children:"Para crear una nueva campaña necesitas informacion basica para darle un nombre y un objetivo a tu campaña."})]}),e.jsxs("div",{className:"form",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",name:"name",placeholder:"Titulo de campaña",onChange:g})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"ocation",id:"",onChange:g,children:[e.jsx("option",{value:"default",children:"Por defecto"}),e.jsx("option",{value:"email",children:"Cumpleaños"})]})})]}),e.jsxs("div",{className:"buttons-action ",children:[e.jsx("button",{className:"prev",onClick:o,children:"<"}),e.jsxs("button",{className:"next",onClick:p,children:["Siguiente ",e.jsx("div",{className:"loading"})]})]})]})]}),m==!0?e.jsx(la,{}):""]})}function ca({loading:s}){return e.jsx(e.Fragment,{children:s==!0?e.jsx("div",{className:"wizard-loading-circle"}):""})}function Pi(){const{setPosition:s,setWizard:i,wizard:n,SelectorItem:t}=a.useContext(je),[o,r]=a.useState(!0),[l,m]=a.useState(),[h,p]=a.useState([]);function g(){l>=1?s(c=>c+1):me.error("!Opps no has seleccionado una campaign")}function x(c){i(u=>({...u,process:{...u.process,id_campaign:c}})),m(c)}return a.useEffect(()=>{let c=new FormData;c.append("id_company",n.company.id_company),D.post(E+"/api/get/campaign",c,{withCredentials:!0}).then(u=>u.data).then(u=>{p(u.results),r(!1)}).catch(u=>{r(!1)})},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elige tu campaña"}),e.jsx("img",{src:"img/icons/wizard-selectcampaign.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu campaña"}),e.jsx("span",{className:"desc",children:"Selecciona rapidamente una de tus campañas para seguir al siguiente paso."})]}),e.jsxs("div",{className:"items-result",children:[h.map((c,u)=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"item select",value:c.id_campaign,onClick:d=>{t(d,x)},children:[e.jsx("img",{src:"img/icons/campaign_profile.png",alt:""}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:c.name}),e.jsxs("span",{children:["Creada el ",c.time_add]}),e.jsx("div",{className:"circle",children:e.jsx("i",{children:e.jsx(Ee,{})})})]})]})})),e.jsx(ca,{loading:o})]}),e.jsx(Ce,{Next:g})]})]}),Number(l)=="NaN"?e.jsx(la,{}):""]})}function Ts(){const[s,i]=a.useState({campaign:"",campaign_name:"",actions:{campaign:""}}),{Selector:n,Prev:t,position:o,setPosition:r}=a.useContext(je);function l(){m()}function m(){let p=!1;switch(o){case 2:s.actions.campaign=="new"||s.actions.campaign=="select"?p=!0:A.error("Opps no has seleccionado nada.");break}p&&r(o+1)}function h(p){i({...s,actions:{campaign:p}})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",style:{display:"none"},children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Campañas"}),e.jsx("img",{src:"img/icons/email-alert.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu campana"}),e.jsx("span",{className:"desc",children:"Crea tu campana rapidamente solamente eligiendo un nombre y ajustandola a tus preferencias. Tambien puedes reutilizar alguna campana antigua."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"new",onClick:p=>{n(p,h)},children:"Crear una nueva"}),e.jsx("button",{value:"select",onClick:p=>{n(p,h)},children:"Ya tengo una"})]}),e.jsx(Ce,{Next:l})]})]}),s.actions.campaign=="new"?e.jsx(Di,{}):e.jsx(Pi,{})]})}function ke({color:s,fn:i}){function n(t){t.stopPropagation();let o=R(t.target),r=o.parents(".colors");o.parents(".colors").find(".active").removeClass("active"),o.addClass("active"),r.find("button").css({opacity:"0.5"}),o.css({opacity:"1"})}return e.jsx(e.Fragment,{children:e.jsx("button",{className:"option-color",style:{background:s},value:s,onClick:t=>{i(t.target.value),n(t)}})})}function qi(){const{Prev:s,AwaitButton:i,setPosition:n}=a.useContext(je),[t,o]=a.useState({name:"",type:"",color:"",default:"false"});function r(h){o({...t,color:h})}function l(h){let p=h.target.value,g=h.target.name;o({...t,[g]:p})}function m(h){t.name&&t.type&&t.color?(i(h.target,"active"),D.post(E+"/api/upload/company",t,{withCredentials:!0}).then(p=>p.data).then(p=>{i(h.target,"remove"),p.status&&(A.success("Company creada con exito"),n(1),R("button.active").removeClass("active")),p.msg&&A.error(p.msg)}).catch(p=>{i(h.target,"remove")})):A.error("Opps no has terminado los campos")}return e.jsx(e.Fragment,{children:status==!1?e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Nuevas ideas!"}),e.jsx("img",{src:"img/icons/cohete-men.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crear empresa"}),e.jsx("span",{className:"desc",children:"Personaliza tu empresa, con colores u imagen para poder identificarla si tienes otras empresas por registrar. Elige un nombre y comienza!"})]}),e.jsxs("div",{className:"form",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de empresa",name:"name",onChange:l})}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{htmlFor:"",children:"Tipo de empresa"}),e.jsx("select",{name:"type",id:"",onChange:l})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{children:"Elige un color"}),e.jsx("span",{className:"desc",children:"El color te ayudara a identificar tu empresa."}),e.jsxs("div",{className:"colors",children:[e.jsx(ke,{color:"#2e56ff",fn:r}),e.jsx(ke,{color:"#57c583",fn:r}),e.jsx(ke,{color:"#3fcae9",fn:r}),e.jsx(ke,{color:"#e9d43f",fn:r}),e.jsx(ke,{color:"#d77613",fn:r}),e.jsx(ke,{color:"#c069cb",fn:r}),e.jsx(ke,{color:"#cb6992",fn:r})]})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{children:"Seleccionar como predeterminada"}),e.jsx("span",{className:"desc",children:"Si la eliges como predeterminada automaticamente se usara sin necesidad de seleccionarla."}),e.jsx("br",{}),e.jsxs("select",{name:"default",id:"",onChange:l,children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Si"})]})]})]}),e.jsx(Ce,{Prev:s,Next:m})]})]}):e.jsx(e.Fragment,{})})}function Ti(){const{wizard:s,setWizard:i,setPosition:n}=a.useContext(je),[t,o]=a.useState([]),[r,l]=a.useState(!0);function m(){}a.useEffect(()=>{(async function(){o(await ci()),l(!1)})()},[]),a.useEffect(()=>{s.company},[s]);function h(p,g){p.stopPropagation();let x=t[g];x.id_company&&(n(1),i({...s,company:x}))}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Usa tu empresa"}),e.jsx("img",{src:"img/icons/hot-company.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige una empresa"}),e.jsx("span",{children:"Elige una de las empresar anteriormente creadas."})]}),e.jsxs("div",{className:"companys",children:[t.map((p,g)=>e.jsxs("div",{className:"company",children:[e.jsx("img",{className:"photo-profile",src:"img/icons/default_profile.png",alt:""}),e.jsxs("span",{className:"title",children:[p.name," ",e.jsx("span",{className:"color",style:{background:p.color}})]}),e.jsx("button",{className:"use",onClick:x=>{h(x,g)},children:"Usar"})]},g)),e.jsx(ca,{loading:r})]}),e.jsx(Ce,{Next:m})]})]})})}function Li(){const[s,i]=a.useState({action:""}),{Selector:n,Prev:t,position:o,setPosition:r}=a.useContext(je);function l(p){i({...s,action:p})}function m(){h()}function h(){let p=!1;switch(s.action){case"go":p=!0;break;case"new":p=!0;break}p?r(o+1):A.error("No has seleccionado ninguna opcion.")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Tu empresa"}),e.jsx("img",{src:"img/icons/hot-company.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:" Elige tu empresa"}),e.jsx("span",{className:"desc",children:"Debes elegir tu empresa para comenzar, o tambien podrias crear una empresa nueva. Estas empresas tendran (estadisticas,contactos,envios) totalmente autonomos."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{onClick:p=>{n(p,l)},value:"go",children:"Ya tengo una"}),e.jsx("button",{onClick:p=>{n(p,l)},value:"new",children:"Crear una nueva"})]})}),e.jsx(Ce,{Prev:t,Next:m})]})]}),s.action=="new"?e.jsx(qi,{}):e.jsx(Ti,{})]})}function Ri(){return e.jsx(e.Fragment,{children:"xd"})}function Mi(){const{position:s,setPosition:i,wizard:n,setWizard:t,Selector:o,Prev:r}=a.useContext(je);function l(){m()}function m(){let g=!1;switch(s){case 0:g=!0;break;case 1:if(n.type)switch(n.type){case"email":n.company?g=!0:A.error("No tienes una empresa seleccionada.");break;case"sms":n.company?g=!0:A.error("No tienes una empresa seleccionada.");break;default:g=!0;break}else A.error("No has seleccionado ninguna opcion");break}g&&i(s+1)}function h(g){t({...n,type:g})}a.useEffect(()=>{R(".wizard .option.active").removeClass("active"),R(".wizard .option").eq(s).addClass("active")},[s]);const p={email:e.jsx(Ts,{}),sms:e.jsx(Ts,{}),verifiedEmail:e.jsx(Ri,{})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"wizard",children:e.jsxs("div",{className:"body",children:[n.loading?e.jsx("div",{className:"wizard-loading",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{className:"logo-center",src:"img/icons/logo-l1.png",alt:""}),e.jsx("div",{className:"line"})]})}):e.jsx(e.Fragment,{}),e.jsxs("div",{className:"options",children:[e.jsxs("div",{className:"option center active",children:[e.jsxs("div",{className:"center",children:[e.jsx("img",{className:"logo-center",src:"img/icons/logo-l1.png",alt:""}),e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Welcome to RadarSystems"}),e.jsx("span",{className:"desc",children:"Hola este wizard te ayudara a armar tu primera campaign de emails / sms te, te mostraremos paso por paso como hacer lo que necesitas."})]}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"",id:"",children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"Seleccionar Idioma"}),e.jsx("option",{value:"",children:"Espanol"}),e.jsx("option",{value:"",children:"Ingles"})]})})]}),e.jsx("div",{className:"buttons-action ",children:e.jsx("button",{className:"next",onClick:l,children:"Comenzar"})})]}),n.company==""?e.jsx(Li,{}):e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Empezemos ahora"}),e.jsx("img",{src:"img/icons/wizard-help.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"¿Qué necesitas?"}),e.jsx("span",{children:"Puedes hacer diferentes acciones en la que podemos ayudarte mediante este wizard. Elige cual es de tu interes, asi podremos ayudarte facilmente."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{onClick:g=>{o(g,h)},value:"ac",children:"Elegir Empresa"}),e.jsx("button",{onClick:g=>{o(g,h)},value:"email",children:"Campañas de Correos"}),e.jsx("button",{onClick:g=>{o(g,h)},value:"sms",children:"Campañas de Sms"}),e.jsx("button",{className:n.tutorial_wizard==!0?"opacity-tutorial":"",onClick:g=>{o(g,h)},value:"vemail",children:"Verificador de Correos"}),e.jsx("button",{className:n.tutorial_wizard==!0?"opacity-tutorial":"",onClick:g=>{o(g,h)},value:"ac",children:"Acortador de Url"})]}),e.jsx(Ce,{Prev:r,Next:l})]})]}),p[n.type]]})]})})})}function Ai({MenuLeft:s}){const{UserInfo:i}=a.useContext(K),[n,t]=a.useState(),o=se(),[r,l]=a.useState(!0);a.useEffect(()=>{i.company_default==null&&i.company==null&&t(!0),i.company!==void 0&&t(!1)},[i]);function m(h){h.stopPropagation();let p=R(h.target),g=p.parents("li"),x=p.parents("li").find("ul"),c=R(".header-left").find("button.active"),u=R(".header-left").find("ul.active");c.parents("li").index()!==g.index()?(u.slideToggle(),u.removeClass("active"),c.removeClass("active"),p.addClass("active"),x.addClass("active"),x.slideToggle()):(c.removeClass("active"),u.removeClass("active"),u.slideToggle())}return vs("token"),a.useEffect(()=>{l("none")},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`header-left ${s?"active":""}`,children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"/img/icons/logo.png",alt:""})}),e.jsxs("ul",{children:[e.jsx("li",{className:n?"opacity":"",children:e.jsxs("button",{onClick:h=>{o("/home")},children:[e.jsx("i",{className:"icon",children:e.jsx(pa,{})})," Home ",e.jsx("i",{className:"arrow"})]})}),e.jsxs("li",{children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(ha,{})})," Configuracion ",e.jsx("i",{className:"arrow",children:e.jsx(xe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/settings-account/account",children:"Cuenta"})}),e.jsx("li",{children:e.jsx($,{to:"/settings-account/security",children:"Seguridad"})}),e.jsx("li",{children:e.jsx($,{to:"/settings-account/footer",children:"Footer"})}),e.jsx("li",{children:e.jsx($,{to:"/settings-account/domains",children:"Dominios"})})]})]}),e.jsxs("li",{className:n?"opacity":"",children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(xa,{})})," Herramientas ",e.jsx("i",{className:"arrow",children:e.jsx(xe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/buttonsqr",children:"Botonera QR"})}),e.jsx("li",{children:e.jsx($,{to:"/buttons",children:"Botonera URL"})}),e.jsx("li",{children:e.jsx($,{to:"/templates",children:"Boletines"})}),e.jsx("li",{children:e.jsx($,{to:"/surveys",children:"Formulario"})}),e.jsx("li",{children:e.jsx($,{to:"/landings",children:"Landings"})}),e.jsx("li",{children:e.jsx($,{to:"/editor/canvas",children:"Editor Canvas"})}),e.jsx("li",{children:e.jsx($,{to:"/editor/buttons",children:"Editor Botonera"})})]})]}),e.jsxs("li",{children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(ms,{})})," Cuentas ",e.jsx("i",{className:"arrow",children:e.jsx(xe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/companys",children:"Mis Cuentas"})}),e.jsx("li",{children:e.jsx($,{to:"/companys/add",children:"Crear Cuenta"})})]})]}),e.jsxs("li",{className:n?"opacity":""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(Ke,{})})," Recordatorios ",e.jsx("i",{className:"arrow",children:e.jsx(xe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/campaigns",children:"Email "})}),e.jsx("li",{children:e.jsx($,{to:"/campaigns",children:"Sms"})}),e.jsx("li",{children:e.jsx($,{to:"/campaigns/new",children:"Mixto"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:h=>{m(h)},children:[e.jsx("i",{className:"icon",children:e.jsx(Ke,{})})," Campañas ",e.jsx("i",{className:"arrow",children:e.jsx(xe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/campaigns/em",children:"Email Marketing"})}),e.jsx("li",{children:e.jsx($,{to:"/campaigns/em-mt",children:"Email MT"})}),e.jsx("li",{children:e.jsx($,{to:"/campaigns/sms",children:"SMS Marketing"})}),e.jsx("li",{children:e.jsx($,{to:"/campaigns/sms-mt",children:"SMS MT"})}),e.jsx("li",{children:e.jsx($,{to:"/campaigns/new",children:"Crear Campana"})})]})]}),e.jsx("li",{className:"",children:e.jsxs("button",{onClick:h=>{window.location.href="https://workflows.radarsystems.net/"},children:[e.jsxs("i",{className:"icon",children:[e.jsx(L,{icon:"octicon:workflow-16"})," "]})," Workflow ",e.jsx("i",{className:"arrow",children:e.jsx(xe,{})})]})}),e.jsx("li",{className:"",children:e.jsxs("button",{onClick:h=>{window.location.href="https://tools.radarsystems.net/"},children:[e.jsxs("i",{className:"icon",children:[e.jsx(L,{icon:"octicon:workflow-16"})," "]})," Herramientas ",e.jsx("i",{className:"arrow",children:e.jsx(xe,{})})]})}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(ua,{})})," Listas ",e.jsx("i",{className:"arrow",children:e.jsx(xe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/contacts",children:"Mis Contactos"})}),e.jsx("li",{children:e.jsx($,{to:"/contacts/lists",children:"Mis Listas"})}),e.jsx("li",{children:e.jsx($,{to:"/contacts/lists/email",children:"Listas Correo"})}),e.jsx("li",{children:e.jsx($,{to:"/contacts/lists/sms",children:"Listas Mensajeria"})}),e.jsx("li",{children:e.jsx($,{to:"/contacts/lists/ws",children:"Listas Whatsapp"})}),e.jsx("li",{children:e.jsx($,{to:"/contacts/segments",children:"Segmentos"})})]})]}),e.jsxs("li",{className:n?"opacity":""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(ds,{})})," Automatizacion ",e.jsx("i",{className:"arrow",children:e.jsx(xe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{children:"WorkFlow"})}),e.jsx("li",{children:e.jsx($,{children:"Programacion"})}),e.jsx("li",{children:e.jsx($,{children:"Auto-Responders"})})]})]}),e.jsxs("li",{className:n?"opacity":""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(fe,{})})," Estadisticas ",e.jsx("i",{className:"arrow",children:e.jsx(xe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{to:"/stats/campaign",children:e.jsx($,{children:"Email Marketing"})}),e.jsx("li",{to:"/stats/campaign",children:e.jsx($,{children:"Email MT"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx($,{children:"Sms Marketing"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx($,{children:"Sms MT"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx($,{children:"Encuestas"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx($,{children:"Botonera QR"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx($,{children:"Botonera URL"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx($,{children:"Medusa"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx($,{children:"Landings"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx($,{children:"Google Analytics"})})]})]}),e.jsxs("li",{className:""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(ja,{})})," Formulario ",e.jsx("i",{className:"arrow",children:e.jsx(xe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/surveys/editor",children:"Crear Formulario"})}),e.jsx("li",{children:e.jsx($,{to:"/surveys",children:"Mis Formularios"})}),e.jsx("li",{children:e.jsx($,{to:"/surveys",children:"Plantillas"})})]})]}),e.jsxs("li",{className:""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(Es,{})})," Boletines Electronicos ",e.jsx("i",{className:"arrow",children:e.jsx(xe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/templates",children:"Mis Boletines"})}),e.jsx("li",{children:e.jsx($,{to:"/editor/canvas",children:"Crear Boletin"})}),e.jsx("li",{children:e.jsx($,{to:"/landings",children:"Plantillas"})}),e.jsx("li",{children:e.jsx($,{to:"/landings",children:"Plantillas IA"})})]})]}),e.jsxs("li",{className:""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(Es,{})})," Landings Page ",e.jsx("i",{className:"arrow",children:e.jsx(xe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/landings",children:"Mis Landings"})}),e.jsx("li",{children:e.jsx($,{to:"/editor/landings",children:"Crear Landings"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(L,{icon:"ri:links-fill"})})," Acortador ",e.jsx("i",{className:"arrow",children:e.jsx(xe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/shorturls/campaigns",children:"Mis Campañas"})}),e.jsx("li",{children:e.jsx($,{to:"/shorturls/campaigns/add",children:"Crear Campana"})}),e.jsx("li",{children:e.jsx($,{to:"/shorturls",children:"Mis Enlaces"})}),e.jsx("li",{children:e.jsx($,{to:"/shorturls/add",children:"Crear Enlace"})})]})]}),e.jsxs("li",{className:""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(ga,{})})," Botonera QR ",e.jsx("i",{className:"arrow",children:e.jsx(xe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/editor/buttonsqr",children:"Crear Botonera QR"})}),e.jsx("li",{children:e.jsx($,{to:"/buttonsqr",children:"Mis Botoneras QR"})}),e.jsx("li",{children:e.jsx($,{to:"/qr/add",children:"Crear QR individual"})}),e.jsx("li",{children:e.jsx($,{to:"/qr/import",children:"Importar QR"})}),e.jsx("li",{children:e.jsx($,{to:"/qr",children:"Mis Qr's"})})]})]}),e.jsxs("li",{className:""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(L,{icon:"ri:links-fill"})})," Botonera URL ",e.jsx("i",{className:"arrow",children:e.jsx(xe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/editor/buttons",children:"Crear Botonera URL"})}),e.jsx("li",{children:e.jsx($,{to:"/buttons",children:"Mis Botoneras URL"})})]})]}),e.jsxs("li",{className:""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(ms,{})})," Validador Email ",e.jsx("i",{className:"arrow",children:e.jsx(xe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/companys",children:"Mis Validaciones"})}),e.jsx("li",{children:e.jsx($,{to:"/companys",children:"Crear Validacion"})}),e.jsx("li",{children:e.jsx($,{to:"/companys",children:"Estadisticas"})})]})]}),e.jsxs("li",{className:""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(ms,{})}),"  API ",e.jsx("i",{className:"arrow",children:e.jsx(xe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/companys",children:"Mis Credenciales"})}),e.jsx("li",{children:e.jsx($,{to:"/companys",children:"Crear Validacion"})}),e.jsx("li",{children:e.jsx($,{to:"/companys",children:"Estadisticas"})})]})]})]})]})})}function Oi({MenuLeft:s,MenuLeftAction:i}){var g,x,c;const{UserInfo:n}=a.useContext(K),[t,o]=a.useState("ligth"),r=se(),[l,m]=a.useState(!1);function h(){switch(t){case"ligth":o("dark");break;case"dark":o("ligth");break;default:o("ligth");break}}function p(){m(!l)}return a.useEffect(()=>{R(document.body).attr("theme",t)},[t]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"header-top",children:[e.jsx("div",{className:"left mb",children:e.jsx("button",{className:"open",onClick:u=>{i()},children:e.jsx(L,{icon:"iconoir:nav-arrow-right"})})}),e.jsxs("div",{className:"right",children:[e.jsx("div",{className:"company",children:(g=n==null?void 0:n.company)!=null&&g.name?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"body",children:[e.jsx("img",{src:((x=n==null?void 0:n.company)==null?void 0:x.photo)!==void 0?Cs(n):"img/icons/default_profile.png",alt:""}),e.jsx("span",{children:(c=n==null?void 0:n.company)==null?void 0:c.name})]})}):e.jsx($,{to:"/companys",className:"select-company",children:"Seleccionar Cuenta"})}),e.jsxs("button",{className:"option",onClick:h,children:[t=="dark"?e.jsx(va,{}):"",t=="ligth"?e.jsx(fa,{}):""]}),e.jsx("button",{className:"option",children:e.jsx(Na,{})}),e.jsxs("div",{className:"user",onClick:p,children:[e.jsx("span",{className:"name",children:n==null?void 0:n.user}),e.jsx("img",{src:"/img/icons/default-user.jpg",alt:""})]})]})]}),l?e.jsx("div",{className:"menu-top-user",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsxs("button",{onClick:u=>{r("")},children:[e.jsx(L,{icon:"material-symbols:report-outline"})," Reportar"]})}),e.jsx("li",{children:e.jsxs("button",{onClick:u=>{r("/logout")},children:[e.jsx(L,{icon:"ic:outline-no-meeting-room"})," Cerrar sesión"]})})]})}):""]})}function X({Element:s,CompanyNeed:i}){var p;const{UserInfo:n}=a.useContext(K);se(),a.useState(!1);const[t,o]=a.useState("wait"),[r,l]=a.useState(!1),m=Oe();function h(g){g==null?r==!0?l(!1):l(!0):l(!1)}return a.useEffect(()=>{h("x")},[m]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"app",children:[e.jsx(Ai,{MenuLeftAction:h,MenuLeft:r}),e.jsx(Oi,{MenuLeftAction:h,MenuLeft:r}),e.jsx("div",{className:"page",onClick:g=>{h("x")},children:i?(p=n==null?void 0:n.company)!=null&&p.id_company?e.jsx(s,{}):t==!1?e.jsxs("div",{className:"center-loading",children:[e.jsx("img",{src:"/img/icons/oficina.png",alt:""}),e.jsx("p",{children:"No has seleccionado ninguna empresa"})]}):e.jsx("div",{className:"center-loading",children:e.jsx("div",{className:"circle"})}):e.jsx(s,{})})]})})}function we(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"loding-box",children:e.jsx("div",{className:"loading",children:e.jsx("div",{className:"circle"})})})})}function $i({Visible:s,Close:i}){const{UserInfo:n}=a.useContext(K),[t,o]=a.useState(0),[r,l]=a.useState([Le()]),[m,h]=a.useState({type:"",name:"",ocation:""}),p=se();function g(u){u.stopPropagation(),u.preventDefault();let d=R(u.target);d.parents(".options").find(".active").removeClass("active"),d.addClass("active");let j=d.attr("value");h(f=>({...f,type:j}))}function x(u){var f;let d=!1,j=R(u.target);if((t===0&&m.type.includes("em")||m.type.includes("sms"))&&(d=!0),t==1&&m.type!==""&&m.name!==""){j.addClass("await");let v=new FormData;v.append("name",m.name),v.append("ocation",m.ocation),v.append("type_c",m.type),v.append("id_company",(f=n==null?void 0:n.company)==null?void 0:f.id_company),D.post(E+"/api/upload/campaign",v,{withCredentials:!0}).then(w=>w.data).then(w=>{w.status?p("/campaigns/detail/"+w.id_campaign):w.msg&&me.error(w.msg),j.removeClass("await")}).catch(w=>{j.removeClass("await")})}d&&o(v=>v+1)}function c(u){let d=u.target.name,j=u.target.value;h(f=>({...f,[d]:j}))}return a.useEffect(()=>{R(".case.active").removeClass("active"),R(".case").eq(t).addClass("active")},[t]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[t>0?e.jsxs("button",{className:"return",onClick:u=>{o(d=>d-1)},children:[e.jsx(He,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:u=>{i(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear una nueva campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"options flex half",id:`options-${r[0]}`,children:[e.jsxs("div",{className:"selector",onClick:g,value:"em",children:[e.jsx("div",{className:"check",children:e.jsx(Ne,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA EMAIL MARKETING"}),e.jsx("span",{children:"Crea tu campaña de email con uno de nuestros editores para que la envíes inmediatamente o programes para enviar más tarde."})]})]}),e.jsxs("div",{className:"selector",onClick:g,value:"em-mt",children:[e.jsx("div",{className:"check",children:e.jsx(Ne,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA EMAIL TRANSACCIONAL"}),e.jsx("span",{children:"Crea tu campaña de email transaccional estas seran enviada 1x1 mediante la conexion a la api."})]})]}),e.jsxs("div",{className:"selector",onClick:g,value:"sms",children:[e.jsx("div",{className:"check",children:e.jsx(Ne,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA SMS MARKETING"}),e.jsx("span",{children:"Envía mensajes de texto rápidos y confiables a cualquier país con nuestras herramientas de campaña de SMS."})]})]}),e.jsxs("div",{className:"selector",onClick:g,value:"sms-mt",children:[e.jsx("div",{className:"check",children:e.jsx(Ne,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA SMS TRANSACCIONAL"}),e.jsx("span",{children:"Crea tu campaña de sms transaccional estas seran enviada 1x1 mediante la conexion a la api."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de campaña"}),e.jsx("input",{type:"text",name:"name",onChange:c,placeholder:"Nombre"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Selecciona tipo"}),e.jsxs("select",{name:"ocation",id:"",onChange:c,children:[e.jsx("option",{value:"",selected:!0,children:" Por defecto"}),e.jsx("option",{value:"birthday",children:"Cumpleaños"})]})]}),(m.ocation=="birthday","")]})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:"next",onClick:x,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function ge({name:s,buttonName:i,addNew:n=!1,callback:t}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"nofound-items",children:[e.jsx("img",{src:"/img/icons/notfound.png",alt:""}),e.jsxs("p",{children:["No hay ",s??"items","  disponibles"]}),e.jsx("br",{}),n?e.jsxs("button",{onClick:o=>{t()},children:["Crear ",i]}):""]})})}function ze(){const{UserInfo:s}=a.useContext(K),i=se(),[n,t]=a.useState([]),[o,r]=a.useState(!1),[l,m]=a.useState(!0),h=Oe();a.useEffect(()=>{Te("/new")&&r(!0)},[h]);function p(x){var d;let c=new FormData;m(!0);let u="em";Te("/em")&&(u="em"),Te("/em-mt")&&(u="em-mt"),Te("/sms")&&(u="sms"),Te("/sms-mt")&&(u="sms-mt"),x||t([]),c.append("id_company",(d=s==null?void 0:s.company)==null?void 0:d.id_company),c.append("type",u),D.post(E+"/api/get/campaign",c,{withCredentials:!0}).then(j=>j.data).then(j=>{var f;(f=j==null?void 0:j.results)!=null&&f.length&&t(j.results),m(!1)}).catch(j=>{m(!1)})}a.useEffect(()=>{p(!1)},[h]);function g(x){let c=x.target.value;i("/campaigns/detail/"+c)}return e.jsxs(e.Fragment,{children:[e.jsx($i,{Visible:o,Close:r},`${o?"x":"x2"}`),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Campañas"}),e.jsx("span",{children:"Crea y ve tus campañas rapidamente, tambien puedes entrar a nuestro sistema automatizado "})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"add",onClick:x=>{r(!0)},children:"Crear nueva campaña"}),e.jsx("button",{className:"go-wizard",onClick:x=>{r(!0)},children:"Wizard"})]})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[n==null?void 0:n.map((x,c)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:x.name}),e.jsxs("span",{className:"desc",children:["Creado el: ",pe(x.time_add)]})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:g,value:x.id_campaign,children:e.jsx(De,{})}),e.jsx("button",{children:e.jsx(fe,{})})]})]})),l==!1?(n==null?void 0:n.length)==0?e.jsx(ge,{name:"campanas"}):"":e.jsx(we,{})]})})})]})}function os(){var i;const{UserInfo:s}=a.useContext(K);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top",children:[e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/companys",children:"Cuentas"})}),((i=s==null?void 0:s.company)==null?void 0:i.id_company)&&e.jsx("li",{children:e.jsx($,{to:"/companys/plans",children:"Planes"})}),e.jsx("li",{children:e.jsx($,{to:"/companys/roles",children:"Roles"})}),e.jsx("li",{children:e.jsx($,{to:"/companys/users",children:"Perfiles"})})]}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"form-search",children:e.jsx("input",{type:"text",placeholder:"Buscar cuenta..."})})})]})})}function le({buttonsActions:s=!0,minWidth:i,maxWidth:n,children:t,width:o,visible:r,buttonSave:l=!0,cancel:m,onClick:h,next:p,callback:g,Pending:x,close:c=function(){}}){const[u,d]=a.useState(r==!1?!1:r),[j,f]=a.useState(Le());function v(w){w.stopPropagation();let q=R(w.target);R(`#modal-${j}`).removeClass("open"),q.parents(".modal-small").addClass("close"),setTimeout(()=>{q.parents(".modal-small").removeClass("close"),d(!1),g(!1)},400)}return a.useEffect(w=>{r==!0?(d(!0),setTimeout(()=>{R(`#modal-${j}`).removeClass("close"),R(`#modal-${j}`).addClass("open")},25)):(R(`#modal-${j}`).addClass("close"),R(`#modal-${j}`).removeClass("open"),c("cerro"))},[r]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"modal-small",id:`modal-${j}`,style:{display:u==!0?"flex":"none",overflow:"auto"},children:[e.jsx("div",{className:"closed"}),e.jsxs("div",{className:"body",style:{maxWidth:n,minWidth:i,width:o},children:[t,s?e.jsxs("div",{className:"actions",children:[e.jsx("button",{id:"close",onClick:v,children:m??"Cancelar"}),l?e.jsxs("button",{className:`done ${x==!0?" await":""}`,onClick:h,children:[p??"Guardar"," ",e.jsx("div",{className:"loading"})]}):""]}):""]})]})})}function zi({name:s,id:i,valueDefault:n,onChange:t}){const[o,r]=a.useState(Le());a.useEffect(()=>{n&&(document.querySelector(`.select-${o}`).value=n)},[]);function l(m){t&&t(m)}return e.jsxs("select",{name:s,id:i,onChange:l,className:`select-${o}`,children:[e.jsx("option",{value:"def",selected:!0,disabled:!0,children:"Seleccionar"}),e.jsx("option",{value:"md",children:"Marketing Digital"}),e.jsx("option",{value:"tec",children:"Tecnología"}),e.jsx("option",{value:"tele",children:"Telecomunicaciones"}),e.jsx("option",{value:"soft",children:"Software"})]})}function Ls(){const[s,i]=a.useState([]),[n,t]=a.useState(!0),[o,r]=a.useState(!1),[l,m]=a.useState(!1),[h,p]=a.useState({}),[g,x]=a.useState({name:"",color:"",type:""}),{setUserInfo:c,UserInfo:u}=a.useContext(K),[d,j]=a.useState(!1),f=Oe();a.useEffect(()=>{Te("/add")&&r(!0)},[f]);function v(){i([]),t(!0),D.post(E+"/api/get/companys",{},{withCredentials:!0}).then(C=>C.data).then(C=>{t(!1),i(C)})}a.useEffect(()=>{v()},[]),a.useEffect(()=>{},[h]);function w(){}function q(C){l?p(N=>({...N,color:C})):x(N=>({...N,color:C}))}function _(C){if(l){let N=R(C.target);N.addClass("await");let F=new FormData;F.append("name",h.name),F.append("color",h.color),F.append("type",h.type),F.append("id_company",h.id_company),D.post(E+"/update/editcompany",F,{withCredentials:!0}).then(k=>k.data).then(k=>{k.status&&(r(!1),A.success("Has editado correctamente."),v()),k.msg&&A.error(k.msg),N.removeClass("await")}).catch(k=>{N.removeClass("await")})}else{j(!0);let N=new FormData;N.append("name",g.name),N.append("color",g.color),N.append("type",g.type),D.post(E+"/api/upload/company",N,{withCredentials:!0}).then(F=>F.data).then(F=>{F.status&&(v(),r(!1),A.success("Has creado tu cuenta correctamente.")),F.msg&&A.error(F.msg),j(!1)}).catch(F=>{j(!1)})}}a.useEffect(()=>{R(".colors .option-color").css({opacity:"0.5"}),R(`.colors .option-color[value='${h.color}']`).addClass("active").css({opacity:1}),R(".form-input input[name='name']").val(h.name)},[h]);function P(C){r(!0),p(s[C])}function S(C,N){C.stopPropagation();try{c(F=>({...F,company:s[N]})),document.cookie=`company=${s[N].id_company}`,A.success("Empresa asignada correctamente.")}catch{}}function b(C,N){C.stopPropagation()}function y(C){l||x(N=>({...N,[C.target.name]:C.target.value}))}return e.jsxs(e.Fragment,{children:[e.jsxs(le,{onClick:_,visible:o,callback:r,close:C=>{p({})},Pending:d,next:`${l?"Editar":"Agregar"}`,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:l?"Editar cuenta":"Agregar cuenta"})}),e.jsxs("div",{className:"content",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre"}),e.jsx("input",{name:"name",type:"text",onChange:y})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Tipo"}),e.jsx(zi,{name:"type",onChange:y,valueDefault:`${l?h.type:"def"}`,callback:w},o?"modal-open":"modal-closed")]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Elige color de tu cuenta"}),e.jsx("span",{className:"desc",children:"El color te ayudara a identificar tu tipo de cuenta."}),e.jsxs("div",{className:"colors",children:[e.jsx(ke,{color:"#2e56ff",fn:q}),e.jsx(ke,{color:"#57c583",fn:q}),e.jsx(ke,{color:"#3fcae9",fn:q}),e.jsx(ke,{color:"#e9d43f",fn:q}),e.jsx(ke,{color:"#d77613",fn:q}),e.jsx(ke,{color:"#c069cb",fn:q}),e.jsx(ke,{color:"#cb6992",fn:q})]},o?"a":"x")]})]})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MIS CUENTAS"}),e.jsx("span",{children:"Crea y administra tus cuentas, agrega Roles y Perfiles"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:C=>{r(!0),m(!1)},children:"Crear nueva cuenta"})})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx(os,{}),e.jsxs("div",{className:"box box-padding",children:[s.map((C,N)=>{var F;return e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:C.photo?Cs({company:{photo:C.photo}}):"img/icons/default_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:C.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:k=>{b(k)},children:e.jsx(ya,{})}),e.jsx("button",{onClick:k=>{P(N),m(!0)},children:e.jsx(fs,{})}),e.jsxs("button",{onClick:k=>{S(k,N)},children:[" ",((F=u==null?void 0:u.company)==null?void 0:F.id_company)==C.id_company?e.jsx(ba,{}):e.jsx(Ca,{})," "]})]})]},N)}),n==!0?e.jsxs(e.Fragment,{children:["  ",e.jsx(we,{})]}):""]})]})})]})}function Re({visible:s,onClick:i,callback:n,Pending:t,name:o}){const[r,l]=a.useState(s!=!1),[m,h]=a.useState(Le());function p(g){g.stopPropagation();let x=R(g.target);x.parents(".actions").find(".done.await").length?A.error("No puedes salir en este momento..."):(R(`#modal-${m}`).removeClass("open"),x.parents(".modal-small").addClass("close"),setTimeout(()=>{x.parents(".modal-small").removeClass("close"),l(!1),n(!1)},600))}return a.useEffect(g=>{s==!0?(l(!0),setTimeout(()=>{R(`#modal-${m}`).removeClass("close"),R(`#modal-${m}`).addClass("open")},25)):(R(`#modal-${m}`).addClass("close"),R(`#modal-${m}`).removeClass("open"),close("cerro"))},[s]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"modal-small delete",id:`modal-${m}`,style:{display:r==!0?"flex":"none"},children:[e.jsx("div",{className:"closed"}),e.jsxs("div",{className:"body",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Eliminar"})}),e.jsxs("span",{className:"dialog",children:["Estas apunto de eliminar ",o==null?"este objeto":"esta "+o,". ¿Estas seguro de querer eliminarlo?"]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{id:"close",onClick:p,children:"Cancelar"}),e.jsxs("button",{className:`done ${t==!0?"await":""}`,onClick:i,children:["Eliminar ",e.jsx("div",{className:"loading"})]})]})]})]})})}function Vi(){const{UserInfo:s,LoadingAuth:i}=a.useContext(K),[n,t]=a.useState(!1),[o,r]=a.useState(!1),[l,m]=a.useState(["delete","read","send","add"]),[h,p]=a.useState(!1);let g={type_add:"",delete:0,add:0,read:0,send:0,sadmin:0};const[x,c]=a.useState(g),[u,d]=a.useState(),[j,f]=a.useState(!0),v=se(),[w,q]=a.useState([]);async function _(){var F;let N=new FormData;N.append("id_company",(F=s==null?void 0:s.company)==null?void 0:F.id_company),q([]),f(!0),D.post(E+"/api/get/roles",N,{withCredentials:!0}).then(k=>k.data).then(k=>{q(k),f(!1)})}a.useEffect(()=>{i||s.company||(v("/companys"),A.error("Selecciona una empresa ")),j&&_()},[i]);function P(N){let F=N.target.value;R(N.target).is("input[type='checkbox']")?(c(k=>({...k,sadmin:0})),R(N.target).is("input[type='checkbox']:checked")?c(k=>({...k,[N.target.name]:1})):c(k=>({...k,[N.target.name]:0}))):(c(k=>({...k,[N.target.name]:F})),F=="sadmin"&&c(k=>({...k,sadmin:1})))}function S(N){let F=new FormData;x.rol!==void 0&&x.type_add!==void 0&&(F.append("sadmin",x!=null&&x.sadmin?x.sadmin:0),F.append("delete",x!=null&&x.delete?x.delete:0),F.append("read",x!=null&&x.read?x.read:0),F.append("add",x!=null&&x.add?x.add:0),F.append("send",x!=null&&x.send?x.send:0),F.append("rol",x.rol),F.append("id_company",s.company.id_company),h?(hs(N.target),F.append("id_rol",x==null?void 0:x.id_rol),D.post(E+"/api/update/permissions",F,{withCredentials:!0}).then(k=>k.data).then(async k=>{k.status&&(await _(),t(!1),qe(N.target)),k.msg&&(A.error("Opps error al aplicar cambios de permisos"),qe(N.target))}).catch(k=>{qe(N.target)})):(hs(N.target),D.post(E+"/api/upload/rol",F,{withCredentials:!0}).then(k=>k.data).then(k=>{k.status?(F.append("id_rol",k.id_rol),D.post(E+"/api/update/permissions",F,{withCredentials:!0}).then(T=>T.data).then(async T=>{T.status&&(await _(),t(!1),qe(N.target)),T.msg&&(A.error("Opps error al aplicar cambios de permisos"),qe(N.target))}).catch(T=>{qe(N.target)})):(k.msg&&A.error(k.msg),qe(N.target))}).catch(k=>{qe(N.target)})))}function b(N){let F=N.target.value;F&&(d(F),r(!0))}function y(N){hs(N.target);let F=new FormData;F.append("id_company",s.company.id_company),F.append("id_rol",u),u?D.post(E+"/api/delete/rol",F,{withCredentials:!0}).then(k=>k.data).then(k=>{k.status&&(r(!1),_()),k.msg&&A.error(k.msg),qe(N.target)}).catch(k=>{qe(N.target)}):A.error("No has seleccionado ningun id")}function C(N){let F=N.target.value;t(!0),p(!0),c(k=>({...k,id_rol:w[F].id_rol,rol:w[F].rol})),setTimeout(()=>{w[F].permissions.sadmin?(c(k=>({...k,type_add:"sadmin"})),document.querySelector("select").value="sadmin"):(c(k=>({...k,type_add:"pers"})),document.querySelector("select").value="pers",l.forEach((k,T)=>{w[F].permissions[k]&&document.querySelector(`input[name='${k}']`).click()}))},25)}return e.jsxs(e.Fragment,{children:[e.jsx(Re,{visible:o,callback:r,onClick:y},o?"opxen":"clxose"),e.jsxs(le,{onClick:S,maxWidth:380,visible:n,callback:t,next:h?"Actualizar":"Guardar",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:h?"Editar rol":"Agregar rol"})}),e.jsxs("div",{className:"content",children:[h?"":e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de rol",name:"rol",onChange:P,value:(x==null?void 0:x.rol)==null?"":x==null?void 0:x.rol})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"type_add",id:"",onChange:P,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Seleccionar tipo"}),e.jsx("option",{value:"pers",children:"Personalizado"}),e.jsx("option",{value:"sadmin",children:"Super Admin"})]})}),x.type_add=="pers"?e.jsx("table",{children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Permisos"}),e.jsx("td",{children:"Seleccionar"})]}),l.map(N=>e.jsxs("tr",{children:[e.jsx("td",{children:N}),e.jsx("td",{children:e.jsx("input",{type:"checkbox",onChange:P,name:N})})]}))]})}):x.type_add=="sadmin"?e.jsxs("div",{className:"ad",children:[e.jsx("p",{children:"Advertencia"}),e.jsx("span",{children:"Al asignar un rol con permisos de super administrador, le daras derecho a hacer las mismas acciones que tu cuenta principal, podra manipular empresas o hacer cosas que solamente tu puedes hacer."})]}):e.jsx(e.Fragment,{})]})]},n?"open":"close"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus roles"}),e.jsx("span",{children:"Crea y elimina los roles de tu empresa, da permisos a usuarios para que puedan iniciar sesion y manipular tu empresa"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:N=>{t(!0),c(g),p(!1)},children:"Crear nuevo rol"})})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx(os,{}),e.jsxs("div",{className:"box box-padding",children:[w.map((N,F)=>{var k,T,W,Y,ee,z,O,H;return e.jsxs("div",{className:"item flex",children:[e.jsx("div",{className:"info",children:e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:[N.rol," ",N.permissions.sadmin==!0?e.jsx("span",{className:"super-adm",children:"ADM"}):""," "]}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})}),e.jsxs("div",{children:[e.jsx("p",{children:"Lectura"}),e.jsx("div",{className:"center-roles",children:(k=N==null?void 0:N.permissions)!=null&&k.read?e.jsx("span",{className:"yes",children:e.jsx(Ee,{})}):((T=N==null?void 0:N.permissions)==null?void 0:T.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(Ee,{})}):e.jsx("span",{className:"no",children:e.jsx(Xe,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Envio"}),e.jsx("div",{className:"center-roles",children:(W=N==null?void 0:N.permissions)!=null&&W.send?e.jsx("span",{className:"yes",children:e.jsx(Ee,{})}):((Y=N==null?void 0:N.permissions)==null?void 0:Y.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(Ee,{})}):e.jsx("span",{className:"no",children:e.jsx(Xe,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Borrar"}),e.jsx("div",{className:"center-roles",children:(ee=N==null?void 0:N.permissions)!=null&&ee.delete?e.jsx("span",{className:"yes",children:e.jsx(Ee,{})}):((z=N==null?void 0:N.permissions)==null?void 0:z.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(Ee,{})}):e.jsx("span",{className:"no",children:e.jsx(Xe,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Agregar"}),e.jsx("div",{className:"center-roles",children:(O=N==null?void 0:N.permissions)!=null&&O.add?e.jsx("span",{className:"yes",children:e.jsx(Ee,{})}):((H=N==null?void 0:N.permissions)==null?void 0:H.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(Ee,{})}):e.jsx("span",{className:"no",children:e.jsx(Xe,{})})})]}),e.jsx("div",{children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:C,value:F,children:e.jsx(fs,{})}),e.jsx("button",{onClick:b,value:N.id_rol,children:e.jsx(ne,{})})]})})]},F)}),j?e.jsx(we,{}):w.length==0?e.jsx(ge,{}):""]})]})})]})}function Bi(){const{UserInfo:s}=a.useContext(K),[i,n]=a.useState([]),[t,o]=a.useState(!1),[r,l]=a.useState({name:"",password:"",email:"",id_rol:""}),[m,h]=a.useState(!1),[p,g]=a.useState([]),[x,c]=a.useState(!1),[u,d]=a.useState(),[j,f]=a.useState(!1),[v,w]=a.useState({id_user:"",id_rol:""}),[q,_]=a.useState(!1);function P(k){let T=k.target.value,W=k.target.name;l(Y=>({...Y,[W]:T}))}function S(){var T;c(!0);let k=new FormData;k.append("id_company",(T=s==null?void 0:s.company)==null?void 0:T.id_company),D.post(E+"/api/get/subusers",k,{withCredentials:!0}).then(W=>W.data).then(W=>{c(!1),n(W)}).catch(W=>{c(!1)})}function b(){var k;if(r.name&&r.email&&r.password&&r.id_rol)if(r.password.length>=6){let T=new FormData;h(!0),T.append("name",r.name),T.append("email",r.email),T.append("password",r.password),T.append("id_rol",r.id_rol),T.append("id_company",(k=s.company)==null?void 0:k.id_company),D.post(E+"/api/upload/subuser",T,{withCredentials:!0}).then(W=>W.data).then(W=>{h(!1),W.status&&(o(!1),n([]),S())}).catch(W=>{h(!1)})}else A.error("Tu password no es correcta debe de tener 6 o mas caracteres");else A.error("Opps has dejado campos vacios")}function y(k){w(T=>({...T,id_user:i[k].id,id_rol:i[k].id_rol,name:i[k].name})),setTimeout(()=>{document.querySelector("select").value=i[k].id_rol},20),f(!0)}function C(k){let T=i[k].id;T&&(d(T),_(!0))}a.useEffect(()=>{var T;let k=new FormData;k.append("id_company",(T=s==null?void 0:s.company)==null?void 0:T.id_company),D.post(E+"/api/get/roles",k,{withCredentials:!0}).then(W=>W.data).then(W=>{g(W)}),S()},[]);function N(){var k;if(v.id_rol&&v.id_user){h(!0);let T=new FormData;T.append("id_company",(k=s==null?void 0:s.company)==null?void 0:k.id_company),T.append("id_rol",v.id_rol),T.append("id_user",v.id_user),D.post(E+"/api/update/subuser",T,{withCredentials:!0}).then(W=>W.data).then(W=>{W.status&&(S(),n([]),A.success("Has editato el usuario correctamente."),f(!1)),h(!1)}).catch(W=>{h(!1)})}}function F(){var k;if(u){h(!0);let T=new FormData;T.append("id_user",u),T.append("id_company",(k=s==null?void 0:s.company)==null?void 0:k.id_company),D.post(E+"/api/delete/subuser",T,{withCredentials:!0}).then(W=>W.data).then(W=>{W.status&&(_(!1),h(!1),S(),n([]),A.success("Has borrado el usuario correctamente."))})}else A.error("Opps no has seleccionado nada")}return e.jsxs(e.Fragment,{children:[e.jsx(Re,{visible:q,callback:_,onClick:F,Pending:m}),e.jsxs(le,{visible:j,callback:f,Pending:m,onClick:N,next:"Editar",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Editar"})}),e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{children:["Editar rol del usuario @",v.name]}),e.jsxs("select",{onChange:k=>{w(T=>({...T,id_rol:k.target.value}))},name:"",id:"",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Seleccionar Rol"}),p.map((k,T)=>e.jsx("option",{value:k.id_rol,children:k.rol}))]})]})]}),e.jsx(le,{visible:t,callback:o,next:"Agregar",onClick:b,Pending:m,children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Agregar"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre",name:"name",onChange:P})}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Email",name:"email",onChange:P})}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"password",placeholder:"Contraseña",name:"password",onChange:P})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"id_rol",id:"",onChange:P,children:[e.jsx("option",{value:"",children:"Seleccionar Rol"}),p.map((k,T)=>e.jsx("option",{value:k.id_rol,children:k.rol}))]})})]})},`${t?"open":"close"}`),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus usuarios"}),e.jsx("span",{children:"Crea y elimina usuarios, estos usuarios son de tu empresa, deben de tener un rol asignado para poder hacer ciertas funciones. Estos usuarios pueden utilizar la api si le das el acceso y podran consumir recursos desde alli."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:k=>{o(!0)},children:"Crear nuevo usuario"})})]}),e.jsx(os,{}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[i.map((k,T)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default-user.jpg",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:k.name}),e.jsxs("span",{className:"desc",children:["Rol - ",k.rol]}),e.jsx("br",{}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:W=>{y(T)},value:T,children:e.jsx(fs,{})}),e.jsx("button",{onClick:W=>{C(T)},value:k.id_rol,children:e.jsx(ne,{})})]})})]},T)),x==!1?i.length==0?e.jsx(ge,{name:"usuarios"}):"":e.jsx(we,{})]})})})]})}function Rs({campaign:s,setFormProgamming:i}){const[n,t]=a.useState("default");function o(m){let h=m.target.value;t(h)}function r(){t("default")}function l(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"return-top",children:e.jsx("button",{onClick:r,children:e.jsx(Ie,{})})})})}return a.useEffect(()=>{switch(n){case"daysname":i({target:{value:"bucle",name:"p_type"}});break}},[n]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Programar campaña"})}),e.jsxs("div",{className:"data",children:[n=="default"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"select-buttons",children:[e.jsx("button",{onClick:o,value:"date",children:"Fecha especifica"}),e.jsx("button",{onClick:o,value:"daysname",children:"Dias especificos"}),e.jsx("button",{onClick:o,value:"daysnumber",children:"Recordatorios"}),e.jsx("button",{onClick:o,value:"fidelizacion",children:"Fidelizacion"})]})}):"",n=="date"?e.jsxs(e.Fragment,{children:[e.jsx(l,{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"date",name:"date",onChange:i})}),e.jsxs("div",{className:"form-input flex",children:[e.jsx("input",{type:"text",placeholder:"hora",name:"hh",onChange:i}),e.jsx("input",{type:"text",placeholder:"minuto",name:"ii",onChange:i}),e.jsxs("select",{name:"x",id:"",children:[e.jsx("option",{value:"pm",children:"p.m."}),e.jsx("option",{value:"am",children:"a.m."})]})]})]}):"",n=="daysname"?e.jsxs(e.Fragment,{children:[e.jsx(l,{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Que dia de la semana quieres que se envie"}),e.jsxs("select",{name:"dd",onChange:i,id:"",children:[e.jsx("option",{value:"Sun",children:"Domingo"}),e.jsx("option",{value:"Mon",children:"Lunes"}),e.jsx("option",{value:"Tues",children:"Martes"}),e.jsx("option",{value:"Wed",children:"Miércoles"}),e.jsx("option",{value:"Thurs",children:"Jueves"}),e.jsx("option",{value:"Fri",children:"Viernes"}),e.jsx("option",{value:"Sat",children:"Sábado"})]})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("button",{children:"Cada 1 mes"}),e.jsx("br",{}),e.jsx("button",{children:"Cada 2 meses"}),e.jsx("br",{}),e.jsx("button",{children:"Cada 3 meses"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Cuando expira"}),e.jsx("input",{type:"date",onChange:i,name:"timeExpire"})]})]}):"",n=="daysnumber"?e.jsxs(e.Fragment,{children:[e.jsx(l,{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Que dia quieres que se envie (Esto enviara el numero elegio cada mes, es decir ejemplo: 01 es igual a los 01 de cada mes)"}),e.jsx("select",{name:"dd",onChange:i,children:Array.from({length:31},(m,h)=>e.jsx("option",{value:String(h+1).padStart(2,"0"),children:String(h+1).padStart(2,"0")},h+1))})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Cuando expira (Si no pones fecha es indefinido)"}),e.jsx("input",{type:"date",onChange:i,name:"timeExpire"})]})]}):"",n=="fidelizacion"?e.jsxs(e.Fragment,{children:[e.jsx(l,{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Que campo validador quieres utilizar (estas campañas funcionan de forma que verifican si en el campo validador elegido esta una fecha en caso de ser asi se enviara un correo al usuario, con los parametros configurados)"}),e.jsxs("select",{name:"dd",onChange:i,children:[e.jsx("option",{value:"",children:"Selecciona el campo"}),e.jsx("option",{value:"",children:"Birthday"}),e.jsx("option",{value:"",children:"Extra 1"}),e.jsx("option",{value:"",children:"Extra 2"}),e.jsx("option",{value:"",children:"Extra 3"}),e.jsx("option",{value:"",children:"Extra 4"}),e.jsx("option",{value:"",children:"Extra 5"})]})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Cuando expira (Si no pones fecha es indefinido)"}),e.jsx("input",{type:"date",onChange:i,name:"timeExpire"})]})]}):""]})]})}function Ms({value:s,defaultValue:i,onChange:n,onSave:t,Send:o=!0,Preview:r=!0}){const l=a.useRef(null),[m,h]=a.useState(""),[p,g]=a.useState(!0),[x,c]=a.useState(0),u=d=>{const j=l.current,f=window.getSelection().toString(),v=j.selectionStart,w=m.substring(0,v),q=m.substring(v),_=w+d+f+q;h(_),j.focus()};return a.useEffect(()=>{n(m),c(m.length)},[m]),a.useEffect(()=>{s&&p&&(g(!1),h(s))},[s]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"textarea-sms",children:[e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:()=>u("$name"),children:"Nombre"}),e.jsx("button",{onClick:()=>u("$lastname"),children:"Apellido"}),e.jsx("button",{onClick:()=>u("$dni"),children:"Dni"}),e.jsx("button",{onClick:()=>u("$code"),children:"Codigo"}),e.jsx("button",{onClick:()=>u("$city"),children:"Ciudad"}),e.jsx("button",{onClick:()=>u("$country"),children:"Pais"}),e.jsx("button",{onClick:()=>u("$birthday"),children:"Nacimiento"}),e.jsx("button",{onClick:()=>u("$address"),children:"Direccion"}),e.jsx("button",{onClick:()=>u("$occupation"),children:"Ocupacion"}),e.jsx("button",{onClick:()=>u("$gender"),children:"Sexo"}),e.jsx("button",{onClick:()=>u("$phone"),children:"Telefono"}),e.jsx("button",{onClick:()=>u("$email"),children:"Correo Electronico"}),e.jsx("button",{onClick:()=>u("$1"),children:"Extra (1)"}),e.jsx("button",{onClick:()=>u("$2"),children:"Extra (2)"}),e.jsx("button",{onClick:()=>u("$3"),children:"Extra (3)"}),e.jsx("button",{onClick:()=>u("$4"),children:"Extra (4)"}),e.jsx("button",{onClick:()=>u("$5"),children:"Extra (5)"}),e.jsx("button",{onClick:()=>u("$6"),children:"Extra (6)"}),e.jsx("button",{onClick:()=>u("$7"),children:"Extra (7)"}),e.jsx("div",{className:"count",children:e.jsxs("i",{children:["166/",x]})})]}),e.jsx("textarea",{ref:l,className:"text",value:s,defaultValue:i,onChange:d=>h(d.target.value)}),e.jsxs("div",{className:"bottom-actions",children:[e.jsxs("button",{children:[e.jsx(wa,{})," Borrar"]}),r?e.jsxs("button",{children:[e.jsx(Ae,{})," Previsualizar SMS"]}):"",o?e.jsx("button",{className:"preview",onClick:t,children:"Enviar Campaña"}):"",e.jsx("button",{className:"preview",onClick:t,children:"Guardar "})]})]})})}function Qi({status:s,PauseCampaign:i,style:n}){return e.jsxs(e.Fragment,{children:[s=="prepare"?e.jsx(e.Fragment,{children:e.jsxs("span",{style:n,children:["En espera... ",e.jsx(L,{icon:"mdi:check"})]})}):"",s=="programmed"?e.jsx(e.Fragment,{children:e.jsxs("span",{style:n,className:"wait-list",children:[" Programada ",e.jsx(ds,{})]})}):"",s=="sent"?e.jsx(e.Fragment,{children:e.jsxs("span",{style:n,className:"ready-list",children:["Enviado ",e.jsx(L,{icon:"mdi:check-all"})," "]})}):"",s=="sending"?e.jsxs(e.Fragment,{children:[e.jsxs("span",{style:n,className:"ready-list",children:[" Enviando... ",e.jsx(ka,{})]}),e.jsx("button",{onClick:i,children:e.jsx(Sa,{})})]}):""]})}function Wi({Close:s,campaign:i,setCampaign:n}){const[t,o]=a.useState([]),{UserInfo:r}=a.useContext(K),[l,m]=a.useState(!1);function h(){var u;let c=new FormData;c.append("id_company",(u=r==null?void 0:r.company)==null?void 0:u.id_company),c.append("type",ni(i.type_c)),D.post(E+"/api/get/list",c,{withCredentials:!0}).then(d=>d.data).then(d=>{o(d)})}function p(c){var u;if(c.contacts>1&&c.contacts<5){n(j=>{let f={...j};return f.lists_test=c.id_list,f});let d=new FormData;d.append("id_company",(u=r==null?void 0:r.company)==null?void 0:u.id_company),d.append("id_campaign",i.id_campaign),d.append("id_list_test",c.id_list),D.post(E+"/api/update/campaign/idlistest",d,{withCredentials:!0})}else me.error("Tu lista no cumple los requisitos")}function g(){n({...i,lists_test:""})}function x(){var u;m(!0);let c=new FormData;c.append("id_campaign",i.id_campaign),c.append("id_company",(u=r==null?void 0:r.company)==null?void 0:u.id_company),c.append("id_list_test",i.lists_test),D.post(E+"/api/send/campaign",c,{withCredentials:!0}).then(d=>d.data).then(d=>{d.status&&(me.success("Se ha enviado el envio de pruebas."),s(!1))}).finally(()=>{m(!1)})}return a.useEffect(()=>{i.lists_test||h()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Envio de prueba"}),i!=null&&i.lists_test?e.jsx("span",{children:"envia una prueba a tu lista preferida"}):e.jsx("span",{children:"Selecciona una lista para usar en este envio de pruebas no puede exceder los 5 usuarios"})]}),i!=null&&i.lists_test?e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx("div",{className:"box",children:e.jsxs("div",{className:"item flex-wrap",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/lists.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:["Lista ",i==null?void 0:i.lists_test]}),e.jsx("span",{className:"desc",children:"Esta es la lista seleccionada para el envio de pruebas"})]})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{onClick:g,children:e.jsx(ne,{})})})]})}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:c=>{s(!1)},children:"Cerrar"}),e.jsxs("button",{className:l?"await":"",onClick:x,children:[" ",e.jsx("div",{className:"loading"})," Enviar"]})]})]}):e.jsx("div",{className:"data",children:e.jsx("div",{className:"row",children:t.map((c,u)=>e.jsx("div",{className:"col-md-12 page-lists",children:e.jsx("div",{className:"box",children:e.jsxs("div",{className:"item flex-wrap select",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/lists.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:c.name}),e.jsxs("span",{className:"desc",children:["Contactos: ",c.contacts]})]})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{onClick:d=>{p(c)},children:e.jsx(Fe,{})})})]})})}))})})]})}function Hi(){var U,J,Z,ie,$e,Ss,_s;const s=de(),{UserInfo:i}=a.useContext(K),n=se();a.useState(!1);const[t,o]=a.useState({});let r={lists:!1,body:!1,affair:!1};const[l,m]=a.useState(r),[h,p]=a.useState({lists:[]}),[g,x]=a.useState({lists:!1}),[c,u]=a.useState([]),[d,j]=a.useState({sendCampaign:!1,updateHtml:!1}),[f,v]=a.useState({affair:""}),[w,q]=a.useState(!1),[_,P]=a.useState(),[S,b]=a.useState(!1),[y,C]=a.useState({hh:"",mm:"",dd:"",ii:"",yy:"",timeExpire:"",p_type:"default"}),[N,F]=a.useState(!1);a.useState({});const[k,T]=a.useState(),[W,Y]=a.useState(!1),[ee,z]=a.useState([]);function O(M){var Q;H(!0);let I=new FormData;I.append("id_company",(Q=i==null?void 0:i.company)==null?void 0:Q.id_company),c.lists&&I.append("ignore_id",c.lists),p(ae=>({...ae,lists:[]})),M&&I.append("search",M),D.post(E+"/api/get/list",I,{withCredentials:!0}).then(ae=>ae.data).then(ae=>{p(oe=>({...oe,lists:ae})),H(!1)})}function H(M){x(I=>({...I,lists:M}))}let V=0;function te(M){let I=M.target.value;clearTimeout(V),V=setTimeout(()=>{O(I)},250)}function re(){clearTimeout(V)}a.useEffect(()=>{l.lists&&O()},[l]),a.useEffect(()=>{var I;let M=new FormData;M.append("id_company",(I=i==null?void 0:i.company)==null?void 0:I.id_company),M.append("id_campaign",s.id),D.post(E+"/api/get/campaign",M,{withCredentials:!0}).then(Q=>Q.data).then(Q=>{u(Q)}).catch(Q=>{})},[]),a.useEffect(()=>{c!=null&&c.id_template&&G()},[c]);function G(){var I;let M=new FormData;M.append("id_company",(I=i==null?void 0:i.company)==null?void 0:I.id_company),M.append("id_template",c==null?void 0:c.id_template),M.append("type","all"),D.post(E+"/api/get/templatejson",M,{withCredentials:!0}).then(Q=>Q.data).then(Q=>{var ae;T((ae=Q==null?void 0:Q.json)==null?void 0:ae.msg)}).catch(Q=>{A.error(String(Q))})}function ce(M){var Q,ae;let I=M.target.value;if(I){let oe=new FormData;oe.append("id_list",I),oe.append("id_company",(Q=i==null?void 0:i.company)==null?void 0:Q.id_company),oe.append("id_campaign",s.id);let be=!1;if((ae=c==null?void 0:c.lists)!=null&&ae.length?c.lists.includes(I)||(be=!0,u(Se=>({...Se,lists:Se.lists+","+I}))):(u(Se=>({...Se,lists:I})),be=!0),be){let Se=R(M.target);Se=Se.parents(".result"),Se.hide("x"),D.post(E+"/api/update/addlistcampaign",oe,{withCredentials:!0}).then(Qe=>Qe.data).then(Qe=>{Qe.status}).catch(Qe=>{})}}}function ue(M){var Q;let I=M.target.value;if(I){u(oe=>{let be={...oe};return be.id_domain=I,be}),A.success("Excelente"),m({...l,domain:!1});let ae=new FormData;ae.append("id_company",(Q=i==null?void 0:i.company)==null?void 0:Q.id_company),ae.append("id_campaign",c==null?void 0:c.id_campaign),ae.append("id_domain",I),D.post(E+"/api/update/campaign/domain",ae,{withCredentials:!0}).then(oe=>oe.data).then(oe=>{})}}function he(M){let I=M.target.value;if(I){let Q=new FormData;Q.append("id_campaign",c.id_campaign),Q.append("id_list",I),Q.append("id_company",i.company.id_company),D.post(E+"/api/delete/listscampaign",Q,{withCredentials:!0}),u(ae=>{var Se;let oe={...ae},be=oe.lists;if(ae!=null&&ae.lists){be=(Se=ae==null?void 0:ae.lists)==null?void 0:Se.replace(","+I,"").replace(I,"");let Qe=be.split(",");Qe[0]||(be=Qe[1])}return oe.lists=be,oe})}}function _e(M){m(r),m(I=>({...I,[M]:!0}))}function ve(){var Q,ae;let M=(Q=document.querySelectorAll(".item .top"))==null?void 0:Q.length,I=(ae=document.querySelectorAll(".item .top.active"))==null?void 0:ae.length;return M!==I&&A.error("Opps tienes campos que terminar."),M==I}function ye(M){var I;if(ve()){Be("sendCampaign",!0);let Q=new FormData;Q.append("id_company",(I=i==null?void 0:i.company)==null?void 0:I.id_company),Q.append("id_campaign",s.id),D.post(E+"/api/send/campaign",Q,{withCredentials:!0}).then(ae=>ae.data).then(ae=>{Be("sendCampaign",!1),ae.status&&!ae.msg?A.success("Campaña enviada!"):A.error(ae.msg)}).catch(ae=>{Be("sendCampaign",!1)})}}function Pe(M){var ae;let I=R(M.target);I.addClass("await");let Q=new FormData;Q.append("affair",f.affair),Q.append("id_company",(ae=i==null?void 0:i.company)==null?void 0:ae.id_company),Q.append("id_campaign",c.id_campaign),D.post(E+"/api/update/setaffair",Q,{withCredentials:!0}).then(oe=>oe.data).then(oe=>{I.removeClass("await"),oe.status?(m(r),u(be=>({...be,affair:f.affair}))):A.error(oe.msg)}).catch(oe=>{I.removeClass("await")})}function Be(M,I){j(Q=>({...Q,[M]:I}))}function Ye(){var I;b(!0);let M=new FormData;M.append("id_company",(I=i==null?void 0:i.company)==null?void 0:I.id_company),M.append("id_campaign",s.id),D.post(E+"/api/delete/campaign",M,{withCredentials:!0}).then(Q=>Q.data).then(Q=>{b(!1),Q.status&&n("/campaigns")}).catch(Q=>{b(!1)})}function Ze(M){let I=M.target.value,Q=M.target.name;if(Q=="date"){const ae=new Date(I),oe=ae.getDate(),be=ae.getFullYear(),Se=ae.getMonth()+1;C({...y,dd:oe,yy:be,mm:Se})}else C({...y,[Q]:I})}function Ue(){var I;let M=new FormData;F(!0),M.append("id_company",(I=i==null?void 0:i.company)==null?void 0:I.id_company),M.append("hh",y.hh?y.hh:"?"),M.append("dd",qs(y.dd)?qs(y.dd):"?"),M.append("yy",y.yy?y.yy:"?"),M.append("mm",y.mm?y.mm:"?"),M.append("ii",y.ii?y.ii:"?"),M.append("id_campaign",s.id),M.append("timeExpire",y==null?void 0:y.timeExpire),M.append("p_type",y==null?void 0:y.p_type),M.append("type","campaign"),D.post(E+"/api/update/programming",M,{withCredentials:!0}).then(Q=>Q.data).then(Q=>{F(!1),Q.status&&(P(!1),A.success("Campana programada con exito"))}).catch(Q=>{F(!1)})}function es(){var I;let M=new FormData;M.append("msg",k),M.append("id_campaign",s.id),M.append("id_company",(I=i==null?void 0:i.company)==null?void 0:I.id_company),M.append("type","sms"),c!=null&&c.id_template&&M.append("id_template",c==null?void 0:c.id_template),D.post(E+"/api/upload/bodycampaign",M,{withCredentials:!0}).then(Q=>Q.data).then(Q=>{Q.status&&A.success("Guardado con exito")}).catch(Q=>{A.error(String(Q))})}function ss(){var I;let M=new FormData;M.append("id_campaign",c==null?void 0:c.id_campaign),M.append("id_company",(I=i==null?void 0:i.company)==null?void 0:I.id_company),D.post(E+"/api/update/pausecampaign",M,{withCredentials:!0}).then(Q=>Q.data).then(Q=>{Q.status&&u({...c,status:"prepare"})})}function as(){var I;let M=new FormData;M.append("id_company",(I=i==null?void 0:i.company)==null?void 0:I.id_company),M.append("status",!0),D.post(E+"/api/get/domains",M,{withCredentials:!0}).then(Q=>Q.data).then(Q=>{z(Q)})}function is(){document.querySelector("input[name='body_file']").click()}function ts(M){M.target.files[0].name.indexOf(".html")>=0?o(M.target.files[0]):A.error("Opps no es un archivo HTML")}function ns(){var I;j({...d,updateHtml:!0});let M=new FormData;M.append("id_campaign",s.id),M.append("id_company",(I=i==null?void 0:i.company)==null?void 0:I.id_company),M.append("file",t),M.append("title",t==null?void 0:t.name),M.append("type","email"),D.post(E+"/api/upload/bodycampaign",M,{withCredentials:!0}).then(Q=>Q.data).then(Q=>{}).finally(()=>{j({...d,updateHtml:!1})})}return e.jsxs(e.Fragment,{children:[e.jsx(le,{maxWidth:400,minWidth:400,visible:W,callback:Y,buttonsActions:!1,children:e.jsx(Wi,{Close:Y,setCampaign:u,campaign:c})}),e.jsx(le,{visible:_,callback:P,width:"30%",onClick:Ue,maxWidth:"500px",next:"Programar",Pending:N,children:e.jsx(Rs,{setFormProgamming:Ze,campaign:c})},Rs?"XD":"xd"),e.jsx(Re,{visible:w,callback:q,Pending:S,onClick:Ye,name:"campana"}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles de campaña"}),e.jsx("span",{children:'Gestiona tus campañas de manera eficiente y optimiza tus estrategias de marketing con nuestra función de "Detalles de Campaña".'})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:M=>{setModalWizard(!0)},children:e.jsx(Ie,{})})})]}),e.jsxs("div",{className:"menu-top-right",children:[e.jsx("button",{className:"programming",onClick:M=>{ve()&&P(!0)},children:"Programar"}),e.jsx("button",{className:"programming",onClick:M=>n("/campaigns/stats/"+(s==null?void 0:s.id)),children:"Estadisticas"}),e.jsx("button",{className:"programming",onClick:M=>{q(!0)},children:"Eliminar"}),e.jsxs("button",{className:`programming ${d.sendCampaign?"await":""} `,onClick:M=>{Y(!0)},children:["Enviar Prueba ",e.jsx("div",{className:"loading"})]}),e.jsxs("button",{className:`send - campaign ${d.sendCampaign?"await":""} `,onClick:ye,children:["Enviar Campaña ",e.jsx("div",{className:"loading"})]})]}),e.jsxs("div",{className:"box steps",children:[e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:c.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{style:{position:"relative",top:"21px"},children:[e.jsx("p",{style:{display:"inline"},children:"Estatus:"}),e.jsx(Qi,{style:{marginLeft:"9px",fontSize:"13px",position:"relative",top:"-1px"},PauseCampaign:ss,status:c==null?void 0:c.status})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(We,{})}),e.jsxs("button",{children:[e.jsx(fe,{})," "]})]})]}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top active",children:[e.jsx("div",{className:"check",children:e.jsx(Me,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Crear Campaña"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top active",children:[e.jsx("div",{className:"check active",children:e.jsx(Me,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Elegir Tipo"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{children:"Editar"})})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${c!=null&&c.lists?"active":""} `,children:[e.jsx("div",{className:"check",children:e.jsx(Me,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Contactos"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"}),e.jsx("div",{className:"selects",children:((U=c==null?void 0:c.lists)==null?void 0:U.length)>=1?(J=c==null?void 0:c.lists)==null?void 0:J.split(",").map((M,I)=>e.jsx("div",{className:"select",children:e.jsxs("p",{children:["Lista: ",M," ",e.jsx("button",{className:"delete",onClick:he,value:M,children:e.jsx(ne,{})})]})})):""})]}),l.lists==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsxs("div",{className:"form-input small",children:[e.jsx("label",{children:"Buscar lista... (Solo obtendras las listas con contactos)"}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"search",onKeyUp:te,onKeyDown:re,placeholder:"Buscar"}),e.jsx("button",{onClick:M=>{n("/contacts/lists/add")},children:"Crear "})]})]}),e.jsxs("div",{className:"search-result",children:[h.lists.map((M,I)=>e.jsx("div",{className:"result",children:e.jsxs("div",{className:"info",children:[e.jsx("p",{children:M.name}),e.jsxs("span",{children:["Contactos: ",M.contacts]}),e.jsx("span",{children:"Agregado: 05/05/2022"}),e.jsx("button",{className:"select",onClick:ce,value:M.id_list,children:e.jsx(Fs,{})})]})},I)),g.lists?e.jsx(we,{}):g.lists==!1&&h.lists.length==0?e.jsx(ge,{name:"listas"}):""]})]})}):e.jsx("div",{className:"right",children:e.jsx("button",{onClick:M=>{_e("lists")},children:"Editar"})})]})}),(c==null?void 0:c.type_c)=="em"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${c!=null&&c.id_domain?"active":""} `,children:[e.jsx("div",{className:"check",children:e.jsx(Me,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Remitente"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),l.domain==!0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsx("div",{className:"search-result",children:ee==null?void 0:ee.map((M,I)=>e.jsx("div",{className:"result",children:e.jsxs("div",{className:"info",children:[e.jsx("p",{children:M.domain}),e.jsxs("span",{children:["Correo: ",M.domain_email]}),e.jsx("button",{className:"select",onClick:ue,value:M.id_domain,children:e.jsx(Fs,{})})]})},54))})})}):e.jsx("div",{className:"right",children:e.jsx("button",{onClick:M=>{_e("domain"),as()},children:"Editar"})})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${c!=null&&c.affair?"active":""} `,children:[e.jsx("div",{className:"check",children:e.jsx(Me,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Asunto"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),l.affair==!0?e.jsx(e.Fragment,{children:e.jsx(Ms,{Preview:!1,Send:!1,onSave:Pe,defaultValue:c==null?void 0:c.affair,onChange:M=>{v({...f,affair:M})}})}):e.jsx("div",{className:"right",children:e.jsx("button",{onClick:M=>{_e("affair")},children:"Editar"})})]})})]}):"",e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${c!=null&&c.template?"active":""} `,children:[e.jsx("div",{className:"check",children:e.jsx(Me,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Plantilla"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),l.body==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[(c==null?void 0:c.type_c)=="em"?e.jsx(e.Fragment,{children:t!=null&&t.name?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"upload-fast",children:[e.jsx("p",{children:t.name}),e.jsx("span",{children:"Actualiza tu plantilla"}),e.jsxs("div",{className:"actions",children:[e.jsxs("button",{children:[e.jsx(L,{icon:"material-symbols:preview"})," Previsualizar"]}),e.jsxs("button",{className:d!=null&&d.updateHtml?"await":"",onClick:ns,children:[e.jsx(L,{icon:"fluent:document-multiple-sync-20-regular"})," Actualizar ",e.jsx("div",{className:"loading"})]})]})]})}):e.jsx(e.Fragment,{children:c!=null&&c.template?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"preview-template",children:[e.jsx("p",{children:(Z=c==null?void 0:c.template)==null?void 0:Z.title}),e.jsxs("span",{children:["Plantilla creada:  ",pe((ie=c==null?void 0:c.template)==null?void 0:ie.time_add)]}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("input",{onChange:ts,type:"file",name:"body_file",accept:".html",hidden:!0}),e.jsxs("button",{onClick:is,className:"action",children:[e.jsx(L,{icon:"material-symbols:upload"})," Subir Html"]}),e.jsx("img",{src:bs(($e=i==null?void 0:i.company)==null?void 0:$e.folder_sftp,(Ss=c==null?void 0:c.template)==null?void 0:Ss.preview_image),alt:""}),e.jsx("br",{}),e.jsx($,{to:`/editor/canvas/${(_s=c==null?void 0:c.template)==null?void 0:_s.id_template}?campaign=`+s.id,children:"Editar plantilla"})]})}):e.jsx($,{to:"/editor/canvas/?campaign="+s.id,children:"Crear una plantilla"})})}):"",(c==null?void 0:c.type_c)=="sms"?e.jsx(e.Fragment,{children:l.body==!0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsx("div",{className:"form-input flex",children:e.jsx(Ms,{value:k,onChange:T,onSave:es})})})}):""}):""]})}):"",l.body==!1?e.jsx("div",{className:"right",children:e.jsx("button",{onClick:M=>{_e("body")},children:"Editar"})}):""]})})]})]})}function Ii({Visible:s,Close:i,Callback:n,loadLists:t}){const{UserInfo:o}=a.useContext(K),[r,l]=a.useState(0),[m,h]=a.useState([Le()]),[p,g]=a.useState({type:"",name:""});se();function x(d){d.stopPropagation(),d.preventDefault();let j=R(d.target);j.parents(".options").find(".active").removeClass("active"),j.addClass("active");let f=j.attr("value");g(v=>({...v,type:f}))}function c(d){var v;let j=!1,f=R(d.target);if((r===0&&p.type=="em"||p.type=="sms")&&(j=!0),r==1&&p.type!==""&&p.name!==""){f.addClass("await");let w=new FormData;w.append("name",p.name),w.append("type_c",p.type),w.append("id_company",(v=o==null?void 0:o.company)==null?void 0:v.id_company),D.post(E+"/api/upload/list",w,{withCredentials:!0}).then(q=>q.data).then(q=>{q.status&&(i(!1),n(!0),t()),f.removeClass("await")}).catch(q=>{f.removeClass("await")})}j&&l(w=>w+1)}function u(d){let j=d.target.name,f=d.target.value;g(v=>({...v,[j]:f}))}return a.useEffect(()=>{R(".case.active").removeClass("active"),R(".case").eq(r).addClass("active")},[r]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[r>0?e.jsxs("button",{className:"return",onClick:d=>{l(j=>j-1)},children:[e.jsx(He,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:d=>{i(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear una nueva lista"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de lista que te gustaría crear"})]}),e.jsxs("div",{className:"options flex",id:`options-${m[0]}`,children:[e.jsxs("div",{className:"selector",onClick:x,value:"em",children:[e.jsx("div",{className:"check",children:e.jsx(Ne,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"LISTA DE EMAIL"}),e.jsx("span",{children:"La lista de email es una herramienta que te permite administrar tus contactos de manera eficiente. Aquí podrás subir tus contactos para realizar envíos de correo electrónico de forma conveniente y efectiva."})]})]}),e.jsxs("div",{className:"selector",onClick:x,value:"sms",children:[e.jsx("div",{className:"check",children:e.jsx(Ne,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"LISTA TELEFONICA"}),e.jsx("span",{children:"Una lista de números es una herramienta que te permite gestionar y organizar de manera efectiva tus contactos telefónicos. Con ella, podrás enviar mensajes de texto rápidos y confiables a cualquier número, sin importar el país."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar Lista"}),e.jsx("span",{className:"desc",children:"Asignale un nombre a tu nueva lista."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de lista"}),e.jsx("input",{type:"text",name:"name",onChange:u,placeholder:"Nombre"})]})})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:"next",onClick:c,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function Gi({functions:s}){let{setSelectMultiple:i,selects:n,resetSelection:t,selectMultiple:o}=s;const r=se();function l(){n.length?r("/contacts/upload/"+JSON.stringify(n)):me.error("No has seleccionado ninguna lista")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top gl",children:[o?e.jsxs(e.Fragment,{children:[e.jsxs("button",{children:["Seleccionando (",n==null?void 0:n.length,")"]}),e.jsx("button",{onClick:l,children:"Subir Contactos"}),e.jsx("button",{onClick:t,children:"Cancelar"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:m=>{i(!0)},children:"Seleccionar Multiple"}),e.jsx("button",{onClick:m=>{r("/contacts/lists/email")},children:"Listas Email"}),e.jsx("button",{onClick:m=>{r("/contacts/lists/sms")},children:"Listas Mensajeria"}),e.jsx("button",{onClick:m=>{r("/contacts/lists/whatsapp")},children:"Listas Whatsapp"})]}),e.jsxs("div",{className:"search",children:[e.jsx("i",{children:e.jsx(_a,{})}),e.jsx("input",{type:"text",placeholder:"Buscar..."})]})]})})}function Ji({type:s,lists:i}){const[n,t]=a.useState(!1),[o,r]=a.useState([]),[l,m]=a.useState(!1),h=se(),p=x=>{r(c=>c.includes(x)?c.filter(u=>u!==x):[...c,x])},g=()=>{r([]),t(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(Gi,{functions:{resetSelection:g,selects:o,selectMultiple:n,setSelectMultiple:t}}),e.jsx(Re,{visible:l,callback:m}),e.jsx("div",{className:"row",children:i.map((x,c)=>e.jsx("div",{className:"col-md-3 page-lists",children:e.jsx("div",{className:"box box-padding",children:e.jsxs("div",{className:"item flex-wrap",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/lists.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",title:x.name,children:ui(x.name,15)}),e.jsxs("span",{className:"desc",children:["Creado el: ",pe(x.time_add)]}),e.jsx("br",{}),n&&e.jsx("input",{type:"checkbox",onChange:()=>p(x.id_list),checked:o.includes(x.id_list)})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:u=>{h("/contacts/detail/"+x.id_list)},children:e.jsx(Ae,{})}),e.jsx("button",{onClick:u=>{m(!0)},children:e.jsx(ne,{})})]})]})})},c))})]})}function xs(){const[s,i]=a.useState(),[n,t]=a.useState([]),[o,r]=a.useState(!1),{UserInfo:l}=a.useContext(K),m=de(),h=se(),p=Oe();function g(c){c&&i(!1)}function x(){var u;let c=new FormData;c.append("id_company",(u=l==null?void 0:l.company)==null?void 0:u.id_company),c.append("type",m==null?void 0:m.type),r(!0),t([]),D.post(E+"/api/get/list",c,{withCredentials:!0}).then(d=>d.data).then(d=>{t(d),r(!1)})}return a.useEffect(()=>{x(),p.pathname=="/contacts/lists/add"&&i(!0)},[m==null?void 0:m.type]),e.jsxs(e.Fragment,{children:[e.jsx(Ii,{Visible:s,Close:i,Callback:g,loadLists:x}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Listas"}),e.jsx("span",{children:"Estas son tus listas de contactos, puedes subir contactos rapidamente creando una lista y seleccionando tu archivo csv"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:c=>{i(!0)},children:"Crear nueva lista"})})]}),m.type==null?e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsx("div",{className:"box select-list",children:e.jsxs("div",{className:"top",children:[e.jsx("img",{src:"/img/icons/email_list.png",alt:""}),e.jsx("span",{children:"Listas Correos"}),e.jsx("button",{onClick:c=>{h("/contacts/lists/em")},children:"Ir"})]})})}),e.jsx("div",{className:"col-md-3",children:e.jsx("div",{className:"box select-list",children:e.jsxs("div",{className:"top",children:[e.jsx("img",{src:"/img/icons/message_list.png",alt:""}),e.jsx("span",{children:"Listas Telefonicas"}),e.jsx("button",{onClick:c=>{h("/contacts/lists/sms")},children:"Ir"})]})})})]}):e.jsx(Ji,{lists:n,type:m==null?void 0:m.type})]})}function Xi({Status:s}){return e.jsx(e.Fragment,{children:s=="wait"?e.jsxs("span",{className:"wait-list",children:[e.jsx(Ea,{})," Subiendo..."]}):s=="ready"?e.jsxs("span",{className:"ready-list",children:[e.jsx(Ne,{}),"  Activa"]}):s=="error"?e.jsxs("span",{className:"error-list",children:[e.jsx(Fa,{})," Error"]}):e.jsxs("span",{className:"setting-list",children:[e.jsx(Is,{})," En espera..."]})})}function Ki(){const{UserInfo:s}=a.useContext(K),i=de(),[n,t]=a.useState({}),o=se();return a.useState(!1),a.useState(!0),a.useEffect(()=>{var l;let r=new FormData;r.append("id_list",i.id),r.append("id_company",(l=s==null?void 0:s.company)==null?void 0:l.id_company),D.post(E+"/api/get/list",r,{withCredentials:!0}).then(m=>m.data).then(m=>{t(m)})},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles de lista"}),e.jsx("span",{children:"Ve los detalle de tus listas y ve si estan listas para ser utilizadas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:r=>{o("/contacts/lists")},children:e.jsx(Ie,{})})})]}),e.jsx("div",{className:"menu-top-right",children:e.jsx("button",{className:"programming",onClick:r=>{o("/contacts/lists/logs/"+i.id)},children:"Logs"})}),e.jsxs("div",{className:"box steps",children:[e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:n.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Contactos"}),e.jsx("span",{children:n.contacts})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Tipo"}),e.jsx("span",{children:n.type})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Estatus"}),e.jsx(Xi,{Status:n.status})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(De,{})}),e.jsx("button",{onClick:r=>{o("/contacts/upload/"+i.id)},children:e.jsx(Fe,{})}),e.jsx("button",{children:e.jsx(ne,{})})]})]}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"check active",children:e.jsx(Me,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Crear Lista"}),e.jsx("span",{className:"desc approve",children:e.jsx("span",{className:"ready-list",children:"Completado !"})})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"check active",children:e.jsx(Me,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Elegir Tipo"}),e.jsx("span",{className:"desc approve",children:e.jsx("span",{className:"ready-list",children:"Completado !"})})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:`check ${n.contacts>0?"active":""}`,children:e.jsx(Me,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Subir Contactos"}),e.jsx("span",{className:"desc",children:n.contacts==0?e.jsx("span",{className:"wait-list",children:"Pendiente"}):e.jsx("span",{className:"ready-list",children:"Completado !"})})]}),e.jsx("div",{className:"right",children:e.jsx("button",{onClick:r=>{o("/contacts/upload/"+i.id)},children:"Subir"})})]})})]})]})}function Yi({update:s}){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"form",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre"}),e.jsx("input",{type:"text",name:"name",placeholder:"Ej: Pablito"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Apellido"}),e.jsx("input",{type:"text",name:"lastname",placeholder:"Ej: Montana"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo"}),e.jsx("input",{type:"text",name:"email",placeholder:"Ej: pablitomontana@gmail.com"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Telefono"}),e.jsx("input",{type:"text",name:"phone",placeholder:"Ej: +58412000000"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Documento Identidad"}),e.jsx("input",{type:"text",name:"dni",placeholder:"Ej: 29000000"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Sexo"}),e.jsxs("select",{name:"sex",id:"",children:[e.jsx("option",{value:"",children:"Seleccionar Sexo"}),e.jsx("option",{value:"M",children:"Masculino"}),e.jsx("option",{value:"F",children:"Femenino"}),e.jsx("option",{value:"O",children:"Otros"})]})]})}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Pais"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",name:"country",placeholder:"Ej: Venezuela"})})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Estado"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",name:"state",placeholder:"Ej: Miranda"})})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Ciudad"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",name:"city",placeholder:"Ej: Miranda"})})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Direccion"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",name:"direction",placeholder:"Ej: Miranda"})})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Cumpleaños"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"date",name:"birthday",placeholder:"Ej: Miranda"})})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Ocupacion"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",name:"occupation",placeholder:"Ej: Abogado"})})]})]})})})}function Zi({Visible:s,Close:i,Callback:n}){var W;const{UserInfo:t}=a.useContext(K),[o,r]=a.useState(0),[l,m]=a.useState([Le()]),[h,p]=a.useState({type:"",file:{}}),g={analize:!1,percentAnalize:"0",approve:!1},[x,c]=a.useState(g),[u,d]=a.useState([]),[j,f]=a.useState(!1),[v,w]=a.useState(!1);a.useState({});let q=R("input[type='file']");const _=se(),P=de();function S(){}function b(Y){Y.stopPropagation(),Y.preventDefault();let ee=R(Y.target);ee.parents(".options").find(".active").removeClass("active"),ee.addClass("active");let z=ee.attr("value");p(O=>({...O,type:z}))}function y(Y){var z;let ee=!1;switch(R(Y.target),(o===0&&h.type=="auto"||h.type=="manu")&&(ee=!0),h.type){case"auto":o==1&&((z=h==null?void 0:h.file)==null?void 0:z.name)!==void 0&&k();break}ee&&r(O=>O+1)}a.useEffect(()=>{R(".case.active").removeClass("active"),R(".case").eq(o).addClass("active")},[o]);function C(){document.querySelector("input[type='file']").click()}function N(Y){c(ee=>({...ee,percentAnalize:Y}))}function F(Y){c(ee=>({...ee,analize:!0})),oi(Y,N).then(ee=>{ee.analize=="good"&&(c(z=>({...z,approve:!0})),p(z=>({...z,file:ee.file})))}).catch(ee=>{T(),A.error("Opps! el archivo que intentastes subir no es compatible o tiene algun error."),c(z=>({...z,analize:!1,percentAnalize:0}))})}function k(){var ee;w(!0);let Y=new FormData;Y.append("id_list",P.id),Y.append("contacts",h.file),Y.append("id_company",(ee=t==null?void 0:t.company)==null?void 0:ee.id_company),D.post(E+"/api/upload/contacts",Y,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}).then(z=>z.data).then(z=>{w(!1),z.status?_("/contacts/detail/"+P.id):A.error(z.msg)}).catch(z=>{w(!1)})}function T(){p(Y=>({...Y,file:{}})),c(g),q.val("")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[o>0?e.jsxs("button",{className:"return",onClick:Y=>{r(ee=>ee-1)},children:[e.jsx(He,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:Y=>{_("/contacts/detail/"+P.id)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Subir nuevos contactos"}),e.jsx("span",{className:"desc",children:"Selecciona de que manera quieres subir los contactos"})]}),e.jsxs("div",{className:"options flex",id:`options-${l[0]}`,children:[e.jsxs("div",{className:"selector",onClick:b,value:"manu",children:[e.jsx("div",{className:"check",children:e.jsx(Ne,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"SUBIR MANUALMENTE"}),e.jsx("span",{children:"Agrega tus contactos de forma rápida y sencilla, uno por uno, rellenando los campos de manera dinámica. Con solo unos pocos clics, podrás tener tus contactos listos para comunicarte con ellos de manera personalizada."})]})]}),e.jsxs("div",{className:"selector",onClick:b,value:"auto",children:[e.jsx("div",{className:"check",children:e.jsx(Ne,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"SUBIR MEDIANTE ARCHIVO"}),e.jsx("span",{children:"Importa tus contactos de manera rápida y eficiente mediante un archivo. Solo necesitas preparar un archivo en formato (.csv o .txt) con los detalles de tus contactos y nuestro sistema se encargará de procesarlo y añadirlos a tu lista en un instante."})]})]})]})]}),h.type=="manu"&&e.jsx(e.Fragment,{children:j==!1?e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Contactos Manuales"}),e.jsx("span",{className:"desc",children:"Crea tu contacto manualmente"})]}),e.jsx("div",{className:"contacts",children:e.jsxs("div",{className:"row",children:[u.map((Y,ee)=>e.jsx("div",{className:"col-md-4",children:e.jsx("div",{className:"contact"})})),u.length==0&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"box box-padding stat",onClick:Y=>{f(!0)},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"No hay contactos!"}),e.jsx("span",{children:"Crea uno rapidamente"})]}),e.jsx("button",{className:"add-button",children:e.jsx(Da,{icon:"solar:add-circle-line-duotone"})})]})})})]})})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"case",children:[e.jsx("div",{className:"top",children:e.jsx("p",{className:"title",children:"Crear Contacto"})}),e.jsx(Yi,{update:S})]})})}),h.type=="auto"&&e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Subir Archivo"}),e.jsx("span",{className:"desc",children:"Sube tu archivo rapidamente para procesarlo en tu lista de contactos."})]}),x.approve==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"file-adjunt",children:[e.jsx("i",{className:"icon",children:e.jsx(Pa,{})}),e.jsxs("div",{className:"file",children:[e.jsx("p",{children:(W=h==null?void 0:h.file)==null?void 0:W.name}),e.jsxs("div",{className:"info",children:[e.jsxs("span",{children:["Tipo de archivo: ",h.file.type]}),e.jsxs("span",{children:["Peso: ",h.file.size," kb"]})]}),e.jsx("button",{className:"delete",onClick:T,children:e.jsx(ne,{})})]})]})}):e.jsxs("div",{className:"upload-contact",children:[e.jsx("input",{type:"file",accept:".csv,.txt",onChange:F,hidden:!0}),x.analize==!0?e.jsx(e.Fragment,{children:e.jsxs("p",{children:["Estamos analizando tu archivo... ",x.percentAnalize,"%"]})}):e.jsx("center",{children:e.jsxs("div",{className:"select-upload",onClick:C,children:[e.jsx("i",{className:"icon",children:e.jsx(qa,{})}),e.jsx("p",{children:"Selecciona tu archivo de contactos"})]})})]})]}),e.jsx("div",{className:"actions center",children:e.jsxs("button",{className:`next ${v==!0?"await":""}`,onClick:y,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function Ui(){return e.jsx(e.Fragment,{children:e.jsx(Zi,{Visible:!0})})}function As(){const[s,i]=a.useState(!0),[n,t]=a.useState(!1),[o,r]=a.useState({save:!1,campaign:!1}),[l,m]=a.useState({results:[],loadingTemplate:!1}),[h,p]=a.useState(!1),[g,x]=a.useState({}),[c,u]=a.useState(""),[d,j]=a.useState(!1),{UserInfo:f}=a.useContext(K),v=de(),[w,q]=a.useState();let _=["Cargando editor...","Nos tardaremos un poco","Que tal tu dia?","Vamos! con mucha imaginacion.","Ahora es un buen momento!","Un poco mas...","Ya casi!","Había una vez!"];const P=se();function S(O,H){var V=document.createElement("script");V.src=O,V.onload=H,document.head.appendChild(V)}a.useEffect(()=>{t(!0),n&&(S("//editor.unlayer.com/embed.js",function(O){}),S("/draganddrop/dist/js/body.js",function(O){setTimeout(()=>{i(!1)},3500)}))},[n]);function b(){unlayer.exportHtml(async function(O){var H;if(c==""||c==null)A.error("Opps debes definir un titulo primero"),p(!0);else{C("save",!0);let V=new FormData,te=await N().then(re=>re);V.append("preview",te),V.append("title",c),V.append("html",O.html),V.append("json",JSON.stringify(O.design)),V.append("id_company",(H=f==null?void 0:f.company)==null?void 0:H.id_company),V.append("type","email"),v.id&&V.append("id_template",v.id),D.post(E+"/api/upload/bodycampaign",V,{withCredentials:!0}).then(re=>re.data).then(re=>{re.status&&v.id==null&&P(`/editor/canvas/${re.id_body}`),C("save",!1)}).catch(re=>{C("save",!1)})}})}function y(){t(!0),R("#editor").html(""),P("/editor/canvas")}function C(O,H){r(V=>({...V,[O]:H}))}async function N(){return new Promise((O,H)=>{let V=document.querySelector(".preview-template");try{unlayer.exportHtml(te=>{V.innerHTML=te.html,V.innerHTML&&Ns(V,{allowTaint:!1,useCORS:!0}).then(re=>{let G=re.toDataURL("image/png");O(G)})})}catch(te){H(te)}})}function F(){var H;let O=new FormData;O.append("id_company",(H=f==null?void 0:f.company)==null?void 0:H.id_company),D.post(E+"/api/get/templatesall",O,{withCredentials:!0}).then(V=>V.data).then(V=>{m(te=>({...te,results:V}))}).catch(V=>{})}function k(){j(!0)}function T(O){var V;let H=new FormData;H.append("id_company",(V=f==null?void 0:f.company)==null?void 0:V.id_company),H.append("id_campaign",O),D.post(E+"/api/get/campaign",H,{withCredentials:!0}).then(te=>te.data).then(te=>{te&&x(te)})}a.useEffect(()=>{let H=new URLSearchParams(window.location.search).get("campaign");H&&T(H),F();let V=0;q(_[0]),setInterval(()=>{let te=_.length;V=V+1,q(_[V-1]),V>=te&&(V=0)},4500)},[]),a.useEffect(()=>{var O;if(v.id){let H=new FormData;i(!0),H.append("id_template",v.id),H.append("id_company",(O=f==null?void 0:f.company)==null?void 0:O.id_company),D.post(E+"/api/get/templatejson",H,{withCredentials:!0}).then(V=>V.data).then(V=>{i(!1),V.json?unlayer.loadDesign(JSON.parse(V.json)):A.error("Error al cargar la template")}).catch(V=>{i(!1)})}},[v==null?void 0:v.id]);function W(O){u(O.target.value)}function Y(O){P(`/editor/canvas/${O}${g!=null&&g.id_campaign?"?campaign="+g.id_campaign:""}`)}function ee(){var H;C("campaign",!0);let O=new FormData;O.append("id_campaign",g.id_campaign),O.append("id_company",(H=f==null?void 0:f.company)==null?void 0:H.id_company),O.append("id_template",v.id),D.post(E+"/api/update/settemplate",O,{withCredentials:!0}).then(V=>V.data).then(V=>{C("campaign",!1),V.status&&(A.success(V.msg),x(te=>({...te,id_template:v.id})))}).catch(V=>{C("campaign",!1)})}function z(){var H;let O=new FormData;O.append("id_campaign",g.id_campaign),O.append("id_company",(H=f==null?void 0:f.company)==null?void 0:H.id_company),x(V=>({...V,id_template:""})),D.post(E+"/api/delete/settemplate",O,{withCredentials:!0}).then(V=>V.data).then(V=>{})}return e.jsxs(e.Fragment,{children:[s?e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:[w," ",e.jsx("div",{className:"loading"})]})]})})}):"",e.jsxs(le,{visible:h,onClick:O=>{p(!1)},next:"Asignar",callback:p,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Elige un titulo"})}),e.jsx("br",{}),e.jsx("div",{className:"content",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Esto te ayudara a identificar tu plantilla"}),e.jsx("input",{type:"text",placeholder:"Titulo de template",onChange:W})]})}),e.jsx("br",{})]}),e.jsxs(le,{visible:d,minWidth:"50%",buttonSave:!1,maxWidth:"150px",callback:j,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Mis Plantillas"})}),e.jsx("br",{}),e.jsxs("div",{className:"content row",children:[l.results.map((O,H)=>{var V;return e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"template",onClick:te=>{Y(O.id_template)},children:[e.jsx("p",{children:O.title}),e.jsxs("span",{children:["Agregada: ",pe(O.time_add)]}),e.jsx("img",{src:bs((V=f==null?void 0:f.company)==null?void 0:V.folder_sftp,O.preview_image)})]})},H)}),l.loadingTemplate==!1&&l.results.length==0?e.jsx(ge,{name:"plantillas"}):""]})]}),e.jsxs("div",{className:"editor-canvas",children:[e.jsx("header",{children:e.jsx("link",{href:"/draganddrop/dist/css/style.css",rel:"stylesheet",type:"text/css"})}),e.jsxs("div",{className:"topnav1",children:[e.jsxs("div",{className:"buttons",children:[e.jsxs("button",{style:{background:"transparent"},onClick:O=>{P("/home")},children:[e.jsx(Ie,{})," Volver"]}),g.name?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"campaign",children:[e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""}),e.jsx("p",{children:g==null?void 0:g.name}),e.jsx("span",{children:"Campaña seleccionada"})]}),g.id_template!==v.id?e.jsxs("button",{className:`${o.campaign==!0?"await":""}`,onClick:ee,children:[e.jsx(Ta,{})," Usar Plantilla",e.jsx("div",{className:"loading"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"use",children:"Utilizando plantilla"}),e.jsx("button",{onClick:z,children:e.jsx(ne,{})})]})]}):""]}),e.jsxs("div",{className:"buttons right",children:[e.jsxs("button",{className:`${o.save==!0?"await":""}`,onClick:b,children:[v.id?e.jsxs(e.Fragment,{children:[e.jsx(We,{})," Editar"]}):e.jsxs(e.Fragment,{children:[" ",e.jsx(La,{})," Guardar"]}),e.jsx("div",{className:"loading"})]}),e.jsxs("button",{onClick:k,children:[e.jsx(Fe,{})," Cargar plantilla"]}),e.jsxs("button",{onClick:y,children:[e.jsx(Ra,{})," Nuevo"]}),e.jsx("button",{onClick:k,children:e.jsx(Ma,{})})]})]}),e.jsx("div",{className:"preview-template"}),e.jsx("div",{id:"editor"})]})]})}function et(){const s=se(),[i,n]=a.useState([]),[t,o]=a.useState(!0),[r,l]=a.useState({id_delete:void 0,pending:!1}),[m,h]=a.useState(!1);Oe();const{UserInfo:p}=a.useContext(K);function g(){var u;o(!0);let c=new FormData;c.append("id_company",(u=p==null?void 0:p.company)==null?void 0:u.id_company),D.post(E+"/api/get/surveys",c,{withCredentials:!0}).then(d=>d.data).then(d=>{n(d),o(!1)}).catch(d=>{o(!1),A.error(String(d))})}a.useEffect(()=>{t&&g()},[]);function x(){var u;l(d=>({...d,pending:!0}));let c=new FormData;c.append("id_company",(u=p==null?void 0:p.company)==null?void 0:u.id_company),c.append("id_survey",r.id_delete),D.post(E+"/api/delete/survey",c,{withCredentials:!0}).then(d=>d.data).then(d=>{h(!1),d.status&&g(),l(j=>({...j,pending:!1}))}).catch(d=>{l(j=>({...j,pending:!1}))})}return e.jsxs(e.Fragment,{children:[e.jsx(Re,{visible:m,Pending:r.pending,onClick:x,callback:h}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis encuestas"}),e.jsx("span",{children:"Gestiona tus encuestas rapidamente y optimiza tus estrategias"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:c=>{s("/surveys/editor")},children:"Crear nueva encuesta"})})]}),e.jsxs("div",{className:"row",children:[t==!1?i.map((c,u)=>{var d;return e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${E}/api/get/previewsurvey?miniature=${c.miniature})`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{onClick:j=>{h(!0),l(f=>({...f,id_delete:c.id_survey}))},children:e.jsx(ne,{})}),e.jsx("button",{onClick:j=>{s("/surveys/editor/"+c.id_survey)},children:e.jsx(We,{})}),e.jsx("button",{onClick:j=>{s(`/stats/survey/${c.id_survey}`)},children:e.jsx(De,{})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:(d=c==null?void 0:c.header)==null?void 0:d.title}),e.jsxs("span",{children:["Encuesta agregada el: ",pe(c.time_add)]})]})]})},u)}):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(we,{})})}),t==!1&&i.length==0?e.jsx(ge,{name:"encuestas"}):""]})]})}function st({header:s,value:i,keyid:n,setModalImage:t,page:o,setEdit:r,setJson:l}){var u;function m(d,j,f){h(f),r({type:d,key:j,page:o})}function h(d){let j=R(d.target).parents(".question");R(".question.active").removeClass("active"),j.addClass("active")}function p(d){let j=d.target.value;l(f=>{let v=[...f];return v[o].quests[n].type=j,v})}function g(d){h(d),d.stopPropagation(),r({});let j=!0;l(f=>{const v=[...f];return j&&(v[o].quests[n].questions.push({}),j=!1),v})}function x(d,j){d.stopPropagation();let f=!0;l(v=>{var q;let w=[...v];if(f&&(q=w[o])!=null&&q.quests[n]){let _=[];w[o].quests[n].questions.forEach((P,S)=>{S!==j?_.push(P):f=!1}),w[o].quests[n].questions=_}return w})}function c(d){d.stopPropagation();let j=!0;l(f=>{let v=[...f],w=[];return v[o].quests.forEach((q,_)=>{_!==n&&w.push(q)}),j&&(v[o].quests=w,j=!1),v})}return R(document).on("click",".options button",function(d){d.stopImmediatePropagation(),R(".edit-active").removeClass("edit-active"),R(this).parents(".options").parents(".quest").addClass("edit-active")}),R(document).on("click",".top p, .top span",function(d){d.stopImmediatePropagation(),R(".edit-active").removeClass("edit-active"),R(this).addClass("edit-active")}),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"question edit",colorBox:s.colorBox,style:{borderRadius:s.borderRadius+"px"},children:[e.jsx("button",{className:"delete-question",onClick:d=>{c(d),r({})},children:e.jsx(ne,{})}),e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",onClick:d=>{m("title",n,d)},children:i!=null&&i.title?i.title:"Elige un titulo..."}),e.jsx("span",{onClick:d=>{m("desc",n,d)},children:i!=null&&i.desc?i.desc:"Elige una descripcion... (opcional)"})]}),i!=null&&i.img?e.jsx("img",{className:"img-quest",src:i.img}):"",e.jsxs("div",{className:"select-types",children:[e.jsx("button",{onClick:g,className:"add-quest",children:"Agregar pregunta"}),e.jsx("button",{onClick:d=>{t(!0),r({key:n,type:"add-image",page:o})},children:e.jsx(Aa,{})}),e.jsxs("select",{onChange:p,children:[e.jsx("option",{value:"input",children:"Respuesta corta"}),e.jsx("option",{value:"input-large",children:"Respuesta larga"}),e.jsx("option",{value:"radio",children:"Opcion multiple"}),e.jsx("option",{value:"check",children:"Casillas de verificacion"})]})]}),(u=i==null?void 0:i.questions)==null?void 0:u.map((d,j)=>e.jsxs("div",{className:"quest",children:[i.type=="input"?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",disabled:!0,placeholder:`${d.title?d.title:"Elige una descripcion"}`}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:f=>{x(f,j)},children:e.jsx(ne,{})}),e.jsx("button",{onClick:f=>{r({key:n,type:"title-quest",quest_key:j,page:o})},children:e.jsx(We,{})})]})]}):"",i.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:n})," ",e.jsx("span",{children:d.title?d.title:"Elige una descripcion..."}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:f=>{x(f,j)},children:e.jsx(ne,{})}),e.jsx("button",{onClick:f=>{r({key:n,type:"title-quest",quest_key:j,page:o})},children:e.jsx(We,{})})]})]}):"",i.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:n})," ",e.jsx("span",{children:d.title?d.title:"Elige una descripcion..."}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:f=>{x(f,j)},children:e.jsx(ne,{})}),e.jsx("button",{onClick:f=>{r({key:n,type:"title-quest",quest_key:j,page:o})},children:e.jsx(We,{})})]})]}):"",i.type=="input-large"?e.jsxs(e.Fragment,{children:[e.jsx("textarea",{type:"checkbox",name:n,placeholder:d.title,style:{width:"100%"}}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:f=>{x(f,j)},children:e.jsx(ne,{})}),e.jsx("button",{onClick:f=>{r({key:n,type:"title-quest",quest_key:j,page:o})},children:e.jsx(We,{})})]})]}):""]},j))]})})}function at({json:s=[],header:i={},setJson:n,setEdit:t,edit:o}){var q,_;const[r,l]=a.useState(!1),[m,h]=a.useState(!1);a.useState([]);const[p,g]=a.useState("email"),[x,c]=a.useState({width:"",left:""});se();function u(){n(P=>[...P,{quests:[{title:"",desc:"",type:"radio",questions:[]}]}])}function d(P){let S=!0;n(b=>{var N;let y=[...b],C=(N=y[P])==null?void 0:N.quests;return S&&(y[P].quests=[...C,{title:"",desc:"",type:"radio",img:"",questions:[]}],S=!1),y})}function j(P){n(S=>{let b=[...S],y=[];return b.forEach((C,N)=>{N!==P&&y.push(C)}),b=y,b})}function f(){let P=document.querySelector("#image-edit").value;n(S=>{let b=[...S];return b[o.page].quests[o.key].img=P,b}),l(!1)}function v(){window.localStorage.setItem("surveyPreview",JSON.stringify(s)),window.localStorage.setItem("surveyPreviewHead",JSON.stringify(i)),window.open("/surveys/preview","_blank")}function w(P){let S=P.target.value;g(S),c(b=>({...b,width:P.target.offsetWidth,left:P.target.offsetLeft}))}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{onClick:v,children:[e.jsx(Ae,{})," Previsualizar"]}),e.jsxs("button",{onClick:P=>{h(!0)},children:[e.jsx(Ke,{})," Enviar"]})]})}),e.jsxs(le,{visible:m,minWidth:"35%",callback:h,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enviar"}),e.jsx("span",{children:"Tienes distintas opciones para enviar esta encuesta"})]}),i.short_link==null?e.jsx("span",{className:"alert-save",children:"Opps! aun no puedes usar esta funcion no has guardado la encuesta."}):"",e.jsx("div",{className:"menu-change",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("span",{children:"Enviar por"})}),e.jsx("li",{children:e.jsx("button",{className:`${p=="email"?"active":""}`,onClick:w,value:"email",children:e.jsx(Oa,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${p=="link"?"active":""}`,onClick:w,value:"link",children:e.jsx($a,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${p=="embed"?"active":""}`,onClick:w,value:"embed",children:e.jsx(za,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${p=="settings"?"active":""}`,onClick:w,value:"settings",children:e.jsx(Is,{})})}),e.jsx("div",{className:"hover",style:{left:x.left+"px",width:x.width+"px"}})]})}),e.jsxs("div",{className:`result-menu ${i.short_link==null?"disabled":""} ${p=="email"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo electronico"}),e.jsx("input",{type:"text",placeholder:"contactos"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Asunto"}),e.jsx("input",{type:"text",placeholder:"informacion de contacto"})]})]}),e.jsxs("div",{className:`result-menu ${i.short_link==null?"disabled":""} ${p=="link"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Enlace"}),e.jsx("input",{type:"text",placeholder:"contactos",value:`${rs}/survey/${i.token}`,disabled:!0})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Enlace Corto"}),e.jsx("input",{type:"text",placeholder:"url corta",value:i.short_link,disabled:!0})]})]}),e.jsx("div",{className:`result-menu ${i.short_link==null?"disabled":""} ${p=="embed"?"show":""}`,children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Incorporar HTML"}),e.jsx("input",{type:"text",placeholder:"contactos"})]})}),e.jsxs("div",{className:`result-menu ${i.short_link==null?"disabled":""} ${p=="settings"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Condicion de respuesta "}),e.jsxs("select",{name:"",id:"",children:[e.jsx("option",{value:"",children:"Responder varias veces"}),e.jsx("option",{value:"",children:"Responder solo una vez"})]})]}),e.jsx("div",{className:"form-input"})]})]}),e.jsxs(le,{visible:r,callback:l,onClick:f,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Url de imagen"}),e.jsx("span",{children:"Ingresa la url de la imagen que quieres integrar en tu pregunta"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",id:"image-edit",placeholder:"https://image.com/image.png"})})]}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${i.blur}px)brightness(${i.brightness})`,background:i.background2}}),e.jsxs("div",{className:"survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(q=i==null?void 0:i.logo)!=null&&q.length?e.jsx("img",{className:"logo",src:i==null?void 0:i.logo}):"",(_=i==null?void 0:i.title)!=null&&_.length?e.jsx("p",{className:"",children:i.title}):""]})}),s==null?void 0:s.map((P,S)=>{var b;return e.jsxs("div",{className:"page",children:[e.jsxs("div",{className:"info-page",children:[e.jsxs("p",{children:["Pagina ",S+1]}),e.jsx("button",{className:"delete",onClick:y=>{j(S)},children:e.jsx(ne,{})})]}),(b=P.quests)==null?void 0:b.map((y,C)=>e.jsx(st,{header:i,setModalImage:l,value:y,page:S,keyid:C,setEdit:t,setJson:n},C)),e.jsxs("button",{className:"add-new",onClick:y=>{d(S)},children:[e.jsx(Ge,{})," Nueva pregunta"]})]},S)}),e.jsxs("div",{className:"add-new",onClick:u,children:[e.jsx(Ge,{})," Nueva pagina"]})]})]})}function it({setHeader:s,header:i,json:n}){const[t,o]=a.useState(!1),{UserInfo:r}=a.useContext(K);a.useState();function l(h){let p=h.target.value,g=h.target.name;g=="background"&&(p.indexOf("http")>=0||p.indexOf("www")>=0)&&(p=`url(${p})`),s(x=>({...x,[g]:p}))}async function m(){var p;let h=new FormData;if(i.id_survey&&h.append("id_survey",i.id_survey),h.append("header",JSON.stringify(i)),h.append("id_company",(p=r==null?void 0:r.company)==null?void 0:p.id_company),h.append("json",JSON.stringify(n)),i.title)if(n.length>=1){let g=await new Promise((x,c)=>{Ns(document.querySelector(".center"),{allowTaint:!1,useCORS:!0}).then(u=>{let d=u.toDataURL("image/png");x(d)})});g&&h.append("miniature",g.replace("data:image/png;base64,","")),o(!0),D.post(E+"/api/upload/survey",h,{withCredentials:!0}).then(x=>x.data).then(x=>{x.status&&(x.id_survey&&(i.id_survey||s(c=>({...c,id_survey:x.id_survey}))),x.token&&s(c=>({...c,token:x.token})),x.short_link&&s(c=>({...c,short_link:x.short_link}))),o(!1)}).catch(x=>{o(!1)})}else A.error("Opps no has agregado una pregunta.");else A.error("Opps no has elegido un titulo")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar encuesta"}),e.jsx("span",{children:"Personaliza tu encuesta, imagen, fondo, titulo y logo."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Titulo"}),e.jsx("input",{type:"text",onChange:l,defaultValue:i.title,name:"title",placeholder:"Ej: Encuesta de fidelidad"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Ingresa url de tu logo"}),e.jsx("input",{type:"text",onChange:l,defaultValue:i.logo,name:"logo"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",onChange:l,defaultValue:i.background,name:"background"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",defaultValue:0,step:"0.1",max:"10",value:i.blur,onChange:l,name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",defaultValue:1,step:"0.0",max:"1",value:i.brightness,onChange:l,name:"brightness"})]}),e.jsx("br",{}),e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar Cajas"}),e.jsx("span",{children:"Personaliza de tu manera preferida tus cajas."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border Radius"}),e.jsx("input",{type:"range",defaultValue:.1,step:"0.1",max:"20",onChange:l,name:"borderRadius"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{onClick:h=>{l(h)},name:"colorBox",value:"ligth",children:"Modo Claro"}),e.jsx("button",{onClick:h=>{l(h)},name:"colorBox",value:"dark",children:"Modo Oscuro"}),e.jsx("button",{onClick:h=>{l(h)},name:"colorBox",value:"transparent",children:"Transparente"})]})]}),e.jsx("div",{className:"option",children:e.jsxs("button",{className:`save ${t?"await":""}`,onClick:m,children:["Guardar ",e.jsx("div",{className:"loading"})]})})]})}function tt({value:s,page:i,setJson:n,keyid:t}){function o(r){let l=r.target.value;n(m=>{const h=[...m];return h[i].quests[t].title=l,h[i].quests[t].response=0,h})}return a.useEffect(()=>{s!=null&&s.title&&(document.querySelector("#title-edit").value=s.title)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo de pregunta"}),e.jsx("input",{id:"title-edit",onChange:o,type:"text",placeholder:"Ej: Como te llamas?"})]})})})}function nt({page:s,value:i,setJson:n,keyid:t}){function o(r){let l=r.target.value;n(m=>{const h=[...m];return h[s].quests[t].desc=l,h})}return a.useEffect(()=>{i!=null&&i.desc&&(document.querySelector("#title-edit").value=i.desc)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descripcion de pregunta"}),e.jsx("input",{id:"title-edit",onChange:o,type:"text",placeholder:"Ej: Tu nombre es importante por que..."})]})})})}function lt({quest_key:s,page:i,value:n,setJson:t,keyid:o}){function r(l){l.stopPropagation();let m=l.target.value;t(h=>{let p=[...h];return p[i].quests[o].questions[s].title=m,p})}return a.useEffect(()=>{},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo de pregunta"}),e.jsx("input",{id:"title-edit",onChange:r,type:"text",placeholder:"Ej: Como te llamas?"})]})})})}function ct({edit:s,json:i,setJson:n}){var t;return e.jsxs(e.Fragment,{children:[s.type=="title"?e.jsx(tt,{page:s.page,value:i[s.key],setJson:n,keyid:s.key},s.key):"",s.type=="desc"?e.jsx(nt,{page:s.page,value:i[s.key],setJson:n,keyid:s.key},s.key):"",s.type=="title-quest"?e.jsx(lt,{page:s.page,quest_key:s.quest_key,value:(t=i[s.page].quests[s.key])==null?void 0:t.questions[s.quest_key],setJson:n,keyid:s.key},s.key):""]})}function Os(){const[s,i]=a.useState({title:"",logo:"",background:"",blur:"0.5",brightness:""}),[n,t]=a.useState([]),[o,r]=a.useState({type:"",key:"",quest_key:"",page:""}),{UserInfo:l}=a.useContext(K),m=de(),[h,p]=a.useState(!0);function g(){var c;p(!0);let x=new FormData;x.append("id_survey",m.idsurvey),x.append("id_company",(c=l==null?void 0:l.company)==null?void 0:c.id_company),D.post(E+"/api/get/surveys",x,{withCredentials:!0}).then(u=>u.data).then(u=>{p(!1),u.header&&i(JSON.parse(u.header)),u.json&&t(JSON.parse(u.json))}).catch(u=>{p(!1),A.error(String(u))})}return a.useEffect(()=>{m.idsurvey?g():setTimeout(()=>{p(!1)},1e3)},[]),e.jsxs(e.Fragment,{children:[h?e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:["Cargando... ",e.jsx("div",{className:"loading"})]})]})}):"",e.jsx("div",{className:"editor-surveys",children:e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:"left",children:e.jsx(it,{setHeader:i,header:s,json:n})}),e.jsx("div",{className:"center",style:{background:s.background},children:e.jsx(at,{json:n,header:s,edit:o,setJson:t,setEdit:r})}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"type-editor",children:e.jsx(ct,{edit:o,setJson:t,json:n,header:s})})})]})})]})}function $s(){var g,x,c,u;const[s,i]=a.useState([]),[n,t]=a.useState(0),[o,r]=a.useState({}),[l,m]=a.useState(0);a.useEffect(()=>{i(JSON.parse(window.localStorage.getItem("surveyPreview"))),r(JSON.parse(window.localStorage.getItem("surveyPreviewHead")))},[]),a.useEffect(()=>{s.length&&t(s.length)},[s]);function h(){m(d=>d+1)}function p(){m(d=>d-1)}return e.jsxs("div",{className:"survey real",colorBox:o==null?void 0:o.colorBox,style:{background:o==null?void 0:o.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${o.blur}px)brightness(${o.brightness})`}}),e.jsxs("div",{className:"margin-survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(g=o==null?void 0:o.logo)!=null&&g.length?e.jsx("img",{className:"logo",src:o==null?void 0:o.logo}):"",(x=o==null?void 0:o.title)!=null&&x.length?e.jsx("p",{className:"",children:o.title}):""]})}),(u=(c=s[l])==null?void 0:c.quests)==null?void 0:u.map((d,j)=>{var f;return e.jsxs("div",{className:"question",style:{borderRadius:(o==null?void 0:o.borderRadius)+"px"},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:d.title}),e.jsx("span",{children:d.desc})]}),d!=null&&d.img?e.jsx("img",{className:"img-quest",src:d.img}):"",(f=d==null?void 0:d.questions)==null?void 0:f.map((v,w)=>e.jsxs("div",{className:"quest",children:[d.type=="input"?e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",disabled:!0,placeholder:`${v.title}`})}):"",d.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:0})," ",e.jsx("span",{children:v.title})]}):"",d.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:0})," ",e.jsx("span",{children:v.title})]}):"",d.type=="input-large"?e.jsx(e.Fragment,{children:e.jsx("textarea",{name:0,placeholder:v.title,style:{width:"100%"}})}):""]},w))]},j)}),e.jsx("div",{className:"buttons-bottom",children:l==n-1?e.jsxs(e.Fragment,{children:[l?e.jsx("button",{onClick:p,children:"Volver"}):"",e.jsx("button",{children:"Terminar"})]}):l<n-1?e.jsxs(e.Fragment,{children:[l?e.jsx("button",{onClick:p,children:"Volver"}):"",e.jsx("button",{onClick:h,children:"Siguiente"})]}):""})]})]})}function rt(){var j,f;const s=de(),[i,n]=a.useState([]),[t,o]=a.useState(!0),[r,l]=a.useState([]),[m,h]=a.useState(),[p,g]=a.useState(0);function x(){let v=new FormData;v.append("key",s.id),D.post(E+"/api/get/survey",v,{withCredentials:!0}).then(w=>w.data).then(w=>{o(!1),n(w)}).catch(w=>{o(!1)})}function c(v){v.preventDefault(),g(w=>w+1)}function u(v){v.preventDefault(),g(w=>w-1)}a.useEffect(()=>{s.id&&t==!0&&x()},[]),a.useEffect(()=>{i.header&&(h(JSON==null?void 0:JSON.parse(i==null?void 0:i.header)),l(JSON.parse(i.json)))},[i]);function d(v){v.preventDefault();let w=document.querySelector("#form"),q=new FormData(w);q.append("key",s.id),D.post(E+"/api/upload/responseSurvey",q,{withCredentials:!0})}return e.jsx(e.Fragment,{children:t?e.jsx("div",{className:"app",children:e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:["Cargando encuesta... ",e.jsx("div",{className:"loading"})]})]})})}):e.jsxs("div",{className:"survey real",colorBox:m==null?void 0:m.colorBox,style:{background:m==null?void 0:m.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${m==null?void 0:m.blur}px)brightness(${m==null?void 0:m.brightness})`}}),e.jsxs("div",{className:"margin-survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(j=m==null?void 0:m.logo)!=null&&j.length?e.jsx("img",{className:"logo",src:m==null?void 0:m.logo}):"",(f=m==null?void 0:m.title)!=null&&f.length?e.jsx("p",{className:"",children:m.title}):""]})}),e.jsx("form",{method:"POST",encType:"multipart/form-data",id:"form",children:r.map((v,w)=>{var q;return e.jsx("div",{className:`page ${w==p?"active":""}`,children:(q=v==null?void 0:v.quests)==null?void 0:q.map((_,P)=>{var S;return e.jsxs("div",{className:"question",style:{borderRadius:(m==null?void 0:m.borderRadius)+"px"},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:_.title}),e.jsx("span",{children:_.desc})]}),_!=null&&_.img?e.jsx("img",{className:"img-quest",src:_.img}):"",(S=_==null?void 0:_.questions)==null?void 0:S.map((b,y)=>e.jsxs("div",{className:"quest",children:[_.type=="input"?e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",name:`${w}-${P}-${y}`,placeholder:`${b.title}`})}):"",_.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:`${w}-${P}`,value:b.title})," ",e.jsx("span",{children:b.title})]}):"",_.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:`${w}-${P}-${y}`})," ",e.jsx("span",{children:b.title})]}):"",_.type=="input-large"?e.jsx(e.Fragment,{children:e.jsx("textarea",{name:`${w}-${P}-${y}`,placeholder:b.title,style:{width:"100%"}})}):""]},y))]},P)})})})}),e.jsx("div",{className:"buttons-bottom",children:p==r.length-1?e.jsxs(e.Fragment,{children:[p?e.jsx("button",{onClick:u,children:"Volver"}):"",e.jsxs("button",{onClick:d,className:"pending",children:["Terminar ",e.jsx("div",{className:"loading"})]})]}):e.jsxs(e.Fragment,{children:[p?e.jsx("button",{onClick:u,children:"Volver"}):"",e.jsx("button",{onClick:c,children:"Siguiente"})]})})]})]})})}function ws(){const s=de();return e.jsx(e.Fragment,{children:e.jsx("div",{className:"menu-top",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:`/stats/survey/${s.id}`,children:"Estadisticas"})}),e.jsx("li",{children:e.jsx($,{to:`/stats/survey/${s.id}/detail`,children:"Detalles de respuestas"})}),e.jsx("li",{children:e.jsx($,{to:`/stats/survey/${s.id}/response`,children:"Respuestas"})})]})})})}function dt(){const{UserInfo:s}=a.useContext(K),[i,n]=a.useState(!1);a.useState({});const[t,o]=a.useState([]),[r,l]=a.useState([]),[m,h]=a.useState([]),[p,g]=a.useState({}),[x,c]=a.useState({options:{chart:{id:"basic-bar"},xaxis:{categories:[]}},series:[{name:"series-1",data:[]}]}),u=de();function d(){var f;let j=new FormData;j.append("id_company",(f=s==null?void 0:s.company)==null?void 0:f.id_company),j.append("id_survey",u.id),D.post(E+"/api/get/statsurvey",j,{withCredentials:!0}).then(v=>v.data).then(v=>{l(v.days),g(v),h(v.daysResponse),o(v.countrys)})}return a.useEffect(()=>{d(),n(!0)},[i]),a.useEffect(()=>{c(j=>({...j,options:{...j.options,xaxis:{categories:r}},series:[{name:"serie 1",data:m}]}))},[m]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Encuesta: ",u.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu encuesta"})]})}),e.jsx(ws,{}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Respuestas este mes"})}),e.jsx(Je,{options:x.options,series:x.series,type:"area",height:300})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Preguntas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:p==null?void 0:p.totalQuestions})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Paginas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:p==null?void 0:p.pageTotal})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Respuestas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:p.totalResponse})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Visitas"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"100"})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{className:"title",children:"Tops Paises"})}),e.jsx("div",{className:"result countryr",children:t.map((j,f)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:ta(j.country),alt:""}),e.jsx("p",{className:"",children:j.country==""?"Undefined":na(String(j.country).toLocaleLowerCase())}),e.jsxs("span",{children:["(",j.amount,")"]})]},f))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding",children:e.jsx("div",{className:"top",children:e.jsx("p",{className:"title",children:"Tops Respuestas"})})})})]})})]})}function ot(){const s=de(),i=se(),{UserInfo:n}=a.useContext(K),[t,o]=a.useState([]),[r,l]=a.useState(!1),[m,h]=a.useState({series:[{name:"Respuestas",data:[]}],chart:{type:"area",height:350,stacked:!0},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:[]}}),[p,g]=a.useState({series:[],theme:{palette:"palette3"},labels:[],chart:{type:"donut"}}),x=()=>{let d=new FormData;d.append("key",s.id),D.post(E+"/api/get/survey",d,{withCredentials:!0}).then(j=>j.data).then(j=>{o(JSON.parse(j.json)),c(j)})};function c(d){let j=JSON.parse(d.json),f=[],v=[],w=[],q=[];j.map((_,P)=>{_.quests.map((S,b)=>{S.type=="radio"&&S.questions.map((y,C)=>{f.push(`${y.title} (${P+1})`),v.push(y.response),w.push(`${S.title} - ${y.title}`),q.push(y.response),h(N=>({...N,xaxis:{...N,categories:f}})),h(N=>(N.series=[{name:"Respuesta",data:v}],N)),g(N=>(N.labels=w,N.series=q,N))})})})}function u(d){var f;let j=new FormData;j.append("id_company",(f=n==null?void 0:n.company)==null?void 0:f.id_company),j.append("id_survey",s.id),j.append("case",d),D.post(E+"/api/get/downloadsurvey",j,{withCredentials:!0}).then(v=>v.data).then(v=>{})}return a.useEffect(()=>{x()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"modal-map",style:{display:r?"block":"none"},children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Mapa completo"}),e.jsx("span",{children:"Puedes ver el mapa completamente de las respuestas de los usuarios."}),e.jsx("button",{className:"close",onClick:d=>{l(!1)},children:e.jsx(Xe,{})})]}),e.jsx("div",{className:"map-suv complete",children:t==null?void 0:t.map((d,j)=>e.jsxs("div",{className:"pg",children:[e.jsx("div",{className:"info",children:e.jsxs("p",{children:["Pagina ",j+1]})}),e.jsx("div",{className:"separate"}),d.quests.map((f,v)=>e.jsxs("div",{className:"quests",children:[e.jsx("div",{className:"info",children:e.jsx("p",{children:f.title})}),e.jsx("div",{className:"separate"}),e.jsx("div",{className:"questions-type",children:f.questions.map((w,q)=>e.jsxs("div",{className:"question",children:[e.jsx("div",{className:"separate quest"}),e.jsxs("span",{className:"value",children:[w.title,f.type=="radio"?e.jsxs(e.Fragment,{children:[" (",w.response,") "]}):""]})]}))})]},v))]}))})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles De Encuesta "}),e.jsx("span",{children:"Estas son los detalles de las respuestas"})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"go-wizard",children:"Descargar (CSV)"}),e.jsx("button",{className:"go-wizard",onClick:d=>{u("json")},children:"Descargar (JSON)"}),e.jsx("button",{className:"go-wizard",onClick:d=>{i(`/stats/survey/${s.id}/response`)},children:"Respuestas"})]})]}),e.jsx(ws,{}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Estadisticas de respuestas"}),e.jsx("span",{children:"Estadisticas de las respuestas, veras cuantas veces respondieron a algo."})]}),e.jsx(Je,{options:m,series:m.series,type:"bar",height:300})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top ",children:[e.jsx("p",{children:"Porcentaje de respuesta"}),e.jsx("span",{children:"Este es el porcentaje de respuesta por cada pregunta."})]}),p.labels.length?e.jsx(Je,{options:p,series:p.series,type:"donut",height:300}):""]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top ",children:[e.jsx("p",{children:"Mapa de encuesta"}),e.jsx("span",{children:"Este es mapa de tu encuesta, donde veras un mapa sobre la encuesta ejecutada."})]}),e.jsx("div",{className:"map-suv maxheight",children:t==null?void 0:t.map((d,j)=>e.jsxs("div",{className:"pg",children:[e.jsx("div",{className:"info",children:e.jsxs("p",{children:["Pagina ",j+1]})}),e.jsx("div",{className:"separate"}),d.quests.map((f,v)=>e.jsxs("div",{className:"quests",children:[e.jsx("div",{className:"info",children:e.jsx("p",{children:f.title})}),e.jsx("div",{className:"separate"}),e.jsx("div",{className:"questions-type",children:f.questions.map((w,q)=>e.jsxs("div",{className:"question",children:[e.jsx("div",{className:"separate quest"}),e.jsxs("span",{className:"value",children:[w.title,f.type=="radio"?e.jsxs(e.Fragment,{children:[" (",w.response,") "]}):""]})]}))})]},v))]}))}),e.jsx("button",{className:"action-complete",onClick:d=>{l(!0)},children:"Ver mapa completo"})]})})]})]})}function mt(){let s=de();const[i,n]=a.useState([]),[t,o]=a.useState([]),[r,l]=a.useState(!1),{UserInfo:m}=a.useContext(K);function h(){var g;let p=new FormData;p.append("id_survey",s.id),p.append("id_company",(g=m==null?void 0:m.company)==null?void 0:g.id_company),D.post(E+"/api/get/responsesurvey",p,{withCredentials:!0}).then(x=>x.data).then(x=>{x.length&&(n(x),x.forEach((c,u)=>{o(d=>[...d,JSON.parse(c.json_response)])}))})}return a.useEffect(()=>{l(!0),r&&h()},[r]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Respuestas"}),e.jsx("span",{children:"Ver todas las respuestas hechas en tu encuesta"})]}),e.jsx("div",{className:"right"})]}),e.jsx(ws,{}),e.jsx("div",{className:"row",children:t.map((p,g)=>e.jsx("div",{className:"col-6",children:e.jsx("div",{className:"box box-padding",children:e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"top",children:e.jsx("div",{className:"top",children:e.jsxs("p",{children:["Respuesta #",g+1]})})}),e.jsx("div",{className:"response",children:Object.entries(p).map(([x,c])=>e.jsx("div",{children:e.jsxs("span",{children:[x,": ",c]})},x))})]})})},g))})]})}function zs(){const s=se(),[i,n]=a.useState([]),[t,o]=a.useState(!0),{UserInfo:r}=a.useContext(K),[l,m]=a.useState(!1),[h,p]=a.useState(!1),[g,x]=a.useState({url:""}),c=Oe();a.useEffect(()=>{Te("/add")&&p(!0)},[c]);function u(j=!1){var v;let f=new FormData;f.append("id_company",(v=r==null?void 0:r.company)==null?void 0:v.id_company),o(!0),j||n([]),D.post(E+"/api/get/myurls",f,{withCredentials:!0}).then(w=>w.data).then(w=>{o(!1),n(w)})}function d(){var f;let j=new FormData;j.append("url",g.url),j.append("id_company",(f=r==null?void 0:r.company)==null?void 0:f.id_company),m(!0),D.post(E+"/api/upload/shortlink",j,{withCredentials:!0}).then(v=>v.data).then(v=>{m(!1),v.status&&(u(),p(!1))}).catch(v=>{m(!1)})}return a.useEffect(()=>{u()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(le,{visible:h,onClick:d,callback:p,Pending:l,next:"Crear",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nuevo enlace"}),e.jsx("span",{children:"Crea tu nuevo enlace rapidamente con esta herramienta"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"url",placeholder:"Enlace",onChange:j=>{x({url:j.target.value})}})})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus urls "}),e.jsx("span",{children:"Estas son tus urls cortas que has creado donde podras llevar las estadisticas de cada una."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:j=>{p(!0)},children:"Crear nueva URL"})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[i.map((j,f)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:"URL CORTA"}),e.jsxs("span",{className:"desc",children:[rs,"/",j.token]}),e.jsx("br",{}),e.jsxs("span",{className:"desc",children:[rs,"/",j.token]})]})]}),e.jsxs("div",{children:[e.jsx("p",{children:"URL"}),e.jsx("span",{children:j.real_link})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:v=>{s("")},children:e.jsx(ne,{})}),e.jsxs("button",{onClick:v=>{s("/shorturls/"+j.id_shortlink)},children:[e.jsx(fe,{})," "]})]})]},f)),t==!0?e.jsx(we,{}):t==!1&&i.length==0?e.jsx(ge,{name:"urls"}):""]})})})]})}function pt(){var j,f;const s=de(),{UserInfo:i}=a.useContext(K),[n,t]=a.useState([]);a.useState([]);const[o,r]=a.useState(),[l,m]=a.useState([]),[h,p]=a.useState(0),g=a.useRef(null),[x,c]=a.useState({series:[{name:"Respuestas",data:[]}],chart:{type:"area",height:350,stacked:!0},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:[]}}),u=new ys({width:600,height:600,image:"/img/icons/iconsvg.png",dotsOptions:{color:"gradient",type:"extra-rounded",gradient:{colorStops:[{offset:0,color:"#000"},{offset:1,color:"#000"}]}},imageOptions:{crossOrigin:"anonymous",margin:20}});function d(v){var q;let w=new FormData;w.append("id_company",(q=i==null?void 0:i.company)==null?void 0:q.id_company),w.append("month",v.month),w.append("year",v.year),w.append("id_shortlink",s.id),D.post(E+"/api/get/statshortlink",w,{withCredentials:!0}).then(_=>_.data).then(_=>{t(_.countrys),m(_.devices),p(_.total),c(P=>(P.series[0].data=_.dayResponse,P.xaxis.categories=_.days,P)),r(_.token)})}return a.useEffect(()=>{d({month:new Date().getMonth()+1})},[]),a.useEffect(()=>{o&&(u.append(g.current),u.update({data:rs+"/"+o+"?qr=true"}))},[o]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Detalle de enlace: ",s.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu enlace corto"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:"",children:"Volver"})})]}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Clicks este mes"}),e.jsx("span",{children:"Aca podras evaluar los clicks hecho por el mes actual y anteriores."})]}),(f=(j=x==null?void 0:x.series[0])==null?void 0:j.data)!=null&&f.length?e.jsx(Je,{options:x,series:x.series,type:"area",height:300}):""]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Visitas"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:h})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"QR Code"})}),e.jsx("div",{className:"resp-number",children:e.jsx("div",{className:"qr-code",children:e.jsx("div",{ref:g})})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Tops Paises"}),e.jsx("span",{children:"Tops de los paises que mas visitaron el enlace"})]}),e.jsx("div",{className:"result countryr",children:n.map((v,w)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:ta(v.country),alt:""}),e.jsx("p",{className:"",children:v.country==""?"Undefined":na(v.country)}),e.jsxs("span",{children:["(",v.count,")"]})]},w))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Tops Os"}),e.jsx("span",{children:"Top de los sistemas operativos mas usado por los usuarios"})]}),e.jsx("div",{className:"result countryr",children:l.map((v,w)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:mi(v.device),alt:""}),e.jsx("p",{className:"",children:v.device}),e.jsxs("span",{children:["(",v.count,")"]})]},w))})]})})]})})]})}function Vs(){const[s,i]=a.useState(),n=se(),[t,o]=a.useState(!1),[r,l]=a.useState([]),[m,h]=a.useState(!1),[p,g]=a.useState({name:""}),{UserInfo:x}=a.useContext(K),c=Oe();a.useEffect(()=>{Te("/add")&&o(!0)},[c]);function u(){var f;let j=new FormData;j.append("id_company",(f=x==null?void 0:x.company)==null?void 0:f.id_company),i(!0),D.post(E+"/api/get/shortlinkcampaigns",j,{withCredentials:!0}).then(v=>v.data).then(v=>{i(!1),l(v)}).catch(v=>{i(!1)})}function d(){var f;const j=new FormData;h(!0),j.append("name",p.name),j.append("id_company",(f=x==null?void 0:x.company)==null?void 0:f.id_company),D.post(E+"/api/upload/shortlinkcampaign",j,{withCredentials:!0}).then(v=>v.data).then(v=>{h(!1),v.status&&(u(),o(!1))}).catch(v=>{h(!1)})}return a.useEffect(()=>{u()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(le,{visible:t,onClick:d,callback:o,maxWidth:"250px",Pending:m,next:"Agregar",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nueva campaña"}),e.jsx("span",{children:"Crea tu nueva campaña rapidamente para analizar tus multiples enlaces"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de campaña",name:"name",onChange:j=>{g({...p,name:j.target.value})}})})]},t),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Campañas"}),e.jsx("span",{children:"Aca puedes visualizar o crear campañas para enlaces multiples sobre una campaña"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:j=>{o(!0)},children:"Crear nueva campaña"})})]}),e.jsx("div",{className:"body-stats",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[r.map((j,f)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:j.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(ne,{})}),e.jsx("button",{onClick:v=>{n("/shorturls/campaigns/"+j.id_campaign)},children:e.jsx(De,{})})]})]})),s?e.jsx(we,{}):r.length==0?e.jsx(ge,{name:"campañas"}):""]})})})})]})}function ht(){var _,P;const s=de(),[i,n]=a.useState(!1),[t,o]=a.useState(!1),{UserInfo:r}=a.useContext(K),[l,m]=a.useState(!0),[h,p]=a.useState(!1),[g,x]=a.useState({});let c={url:"",app:"others"};const[u,d]=a.useState(c),[j,f]=a.useState({series:[{name:"Funnel Series",data:[]}],chart:{type:"bar",height:350},plotOptions:{bar:{borderRadius:0,horizontal:!0,distributed:!0,barHeight:"80%",isFunnel:!0}},dataLabels:{enabled:!0,formatter:function(S,b){return b.w.globals.labels[b.dataPointIndex]+":  "+S}},colors:["#F44F5E","#E55A89","#D863B1","#CA6CD8","#B57BED","#8D95EB","#62ACEA","#4BC3E6"],xaxis:{categories:[]},legend:{show:!0}});function v(S){S.stopPropagation(),d({...u,[S.target.name]:S.target.value})}function w(){var b;let S=new FormData;m(!0),x({}),S.append("id_company",(b=r==null?void 0:r.company)==null?void 0:b.id_company),S.append("id_campaign",s.id),D.post(E+"/api/get/shortlinkcampaign",S,{withCredentials:!0}).then(y=>y.data).then(y=>{var k,T;m(!1),x(y);const C=[];let N=[],F=0;(k=y==null?void 0:y.stats)==null||k.forEach((W,Y)=>{F=F+W.count}),(T=y==null?void 0:y.stats)==null||T.forEach((W,Y)=>{C.push(W.count),N.push(hi(W.app)+" ("+(W.count*100/F).toFixed(0)+"%)")}),f(W=>{const Y={...W};return Y.series[0].data=C,Y.xaxis.categories=N,Y})}).catch(y=>{})}function q(){var b;o(!0);let S=new FormData;S.append("id_company",(b=r==null?void 0:r.company)==null?void 0:b.id_company),S.append("id_campaign",s==null?void 0:s.id),S.append("url",u.url),S.append("app",u.app),D.post(E+"/api/upload/shortlink",S,{withCredentials:!0}).then(y=>y.data).then(y=>{o(!1),y.status&&(n(!1),w()),y.msg&&A.error(y.msg)}).catch(y=>{o(!1)})}return a.useEffect(()=>{h||(f(S=>{const b={...S};return b.series[0].data=[],b.xaxis.categories=[],b}),w())},[h]),e.jsxs(e.Fragment,{children:[e.jsxs(le,{next:"Agregar",visible:i,callback:n,onClick:q,Pending:t,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nuevo enlace"}),e.jsx("span",{children:"Agrega un nuevo enlace a tu campana"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"URL destino",onChange:v,name:"url"})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"app",id:"",onChange:v,children:[e.jsx("option",{value:"",children:"Selecciona la aplicacion"}),e.jsx("option",{value:"fb",children:"Facebook"}),e.jsx("option",{value:"in",children:"Instagram"}),e.jsx("option",{value:"x",children:"X (Twitter)"}),e.jsx("option",{value:"email",children:"Correo"}),e.jsx("option",{value:"sms",children:"Sms"}),e.jsx("option",{value:"tik",children:"Tiktok"}),e.jsx("option",{value:"linkd",children:"Linkedin"}),e.jsx("option",{value:"yt",children:"Youtube"}),e.jsx("option",{value:"tele",children:"Telegram"}),e.jsx("option",{value:"ws",children:"Whatsapp"}),e.jsx("option",{value:"others",children:"Otros"})]})})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Campaña de enlace: ",s.id]}),e.jsx("span",{children:"Agrega nuevos enlaces para tu campana general de urls"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{onClick:S=>{n(!0)},className:"add",children:"Agregar nuevo enlace"})})]}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Clicks este mes"}),e.jsx("span",{children:"Aca podras evaluar los clicks hecho por el mes actual y anteriores."})]}),l==!1?e.jsx(Je,{options:j,series:j.series,type:"bar",height:300}):""]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[(_=g==null?void 0:g.links)==null?void 0:_.map((S,b)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_link.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:S.real_link}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"title",children:"App"}),e.jsx("span",{children:e.jsx("img",{className:"icon-app",src:pi(S.app),alt:""})})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{children:e.jsx(De,{})})})]},b)),l?e.jsx(we,{}):((P=g==null?void 0:g.links)!=null&&P.length,"")]})})]})})]})}function ks({Visible:s,Close:i,loadQrs:n=()=>{},callbackUrl:t=(o,r)=>{}}){const{UserInfo:o}=a.useContext(K);a.useRef(null);const[r,l]=a.useState(0),[m,h]=a.useState([Le()]),[p,g]=a.useState({type:""});a.useState({});const[x,c]=a.useState(!1),u=Le(),d=new ys({width:600,height:600,margin:0,qrOptions:{typeNumber:"0",mode:"Byte",errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,margin:10},dotsOptions:{type:"dots",color:"#000000"},backgroundOptions:{color:"#ffffff",gradient:null},image:"/img/icons/logo_color_1.png",dotsOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#6a1a4c",color2:"#6a1a4c",rotation:"0"}},cornersSquareOptions:{type:"extra-rounded",color:"#000000"},cornersSquareOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},cornersDotOptions:{type:"dot",color:"#000000"},cornersDotOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},backgroundOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#ffffff",color2:"#ffffff",rotation:"0"}}});function j(y){let C=y.target.files;C[0]&&(C[0].type.indexOf("/pdf")>=0||C[0].type.indexOf("imag")>=0?g({...p,file:C[0]}):(A.error("El archivo no es una imagen / pdf"),y.target.value=""))}let f={url:""};const[v,w]=a.useState(f);se();function q(y){y.stopPropagation(),y.preventDefault();let C=R(y.target);C.parents(".options").find(".active").removeClass("active"),C.addClass("active");let N=C.attr("value");g(F=>({...F,type:N}))}async function _(){return new Promise((y,C)=>{var F;let N=new FormData;N.append("id_company",(F=o==null?void 0:o.company)==null?void 0:F.id_company),N.append("file",p.file),D.post(E+"/api/upload/fileqr",N,{withCredentials:!0}).then(k=>k.data).then(k=>{y(k)}).catch(()=>{C({})}).finally(()=>{})})}async function P(y){let C=!1;if(R(y.target),(r===0&&p.type=="qr-stand"||p.type=="qr-contact"||p.type=="qr-file")&&(C=!0),r===1){const N=document.querySelector(".qr-result");p.type=="qr-contact"?d.update({data:`BEGIN:VCARD
VERSION:3.0
`+(v.lname?"N:"+v.lname+";"+(v.fname||"")+`;;;
`:"")+(v.fname?"FN:"+v.fname+" "+(v.lname||"")+`
`:"")+(v.company?"ORG:"+v.company+`;
`:"")+(v.jobtitle?"TITLE:"+v.jobtitle+`
`:"")+(v.number?"TEL;type=CELL:"+v.number+`
`:"")+(v.officenum?"TEL;type=WORK:"+v.officenum+`
`:"")+(v.email?"EMAIL;type=INTERNET;type=WORK;type=pref:"+v.email+`
`:"")+(v.web?"URL:"+v.web+`
`:"")+(v.address1?"ADR;TYPE=work:;;"+v.address1+";"+(v.address2||"")+";"+(v.city||"")+";"+(v.province||"")+";"+(v.country||"")+";"+(v.pcode||"")+`
`:"")+"REV:"+new Date+`
END:VCARD`}):(p.type=="qr-stand"&&d.update({data:v.url}),p.type=="qr-file"&&(c(!0),await _().then(F=>{d.update({data:F.download})}).catch(F=>{A.error("Opps error al subir archivo")}).finally(()=>{c(!1)}))),N.innerHTML="",d.append(N),await d.getRawData().then(F=>{let k=new FileReader;k.onload=function(T){const W=T.target.result;g({...p,base64:W})},k.readAsDataURL(F)}),C=!0}if(r===2)if(v.name){let N=new FormData;c(!0),p.type=="qr-stand"?await new Promise((F,k)=>{var T;N.append("url",v.url),N.append("id_company",(T=o==null?void 0:o.company)==null?void 0:T.id_company),D.post(E+"/api/upload/shortlink",N,{withCredentials:!0}).then(W=>W.data).then(W=>{d.update({data:W.shortlink}),d.getRawData().then(Y=>{let ee=new FileReader;ee.onload=function(z){const O=z.target.result;S(O,W.id_shortlink,v.url)},ee.readAsDataURL(Y)})})}):S(p.base64)}else C=!1,A.error("Opps no has elegido un nombre para tu qr");C&&l(N=>N+1)}function S(y,C=void 0,N){var k;let F=new FormData;F.append("formqr",JSON.stringify(v)),F.append("id_company",(k=o==null?void 0:o.company)==null?void 0:k.id_company),F.append("type",p.type),F.append("preview",y),F.append("dataQr",N),C&&F.append("id_concat",C),D.post(E+"/api/upload/qr",F,{withCredentials:!0}).then(T=>T.data).then(T=>{if(T.status){try{n(),t(v.name,T.img)}catch{}A.success("Has subido tu qr con exito")}i(!1),c(!1)}).catch(T=>{c(!1)})}function b(y){let C=y.target.name,N=y.target.value;w(F=>({...F,[C]:N}))}return a.useEffect(()=>{R(`#modal-${u} .case.active`).removeClass("active"),R(`#modal-${u} .case`).eq(r).addClass("active")},[r]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,id:`modal-${u}`,children:[e.jsxs("div",{className:"top-actions",children:[r>0?e.jsxs("button",{className:"return",onClick:y=>{l(C=>C-1)},children:[e.jsx(He,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:y=>{i(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case active",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear un nuevo QR individual"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de qr que quieres crear"})]}),e.jsxs("div",{className:"options ",id:`options-${m[0]}`,children:[e.jsxs("div",{className:"selector",style:{marginBottom:"10px"},onClick:q,value:"qr-stand",children:[e.jsx("div",{className:"check",children:e.jsx(Ne,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"QR Estandar"}),e.jsx("span",{children:"Qr Estandar es un qr basico donde podras almacenar enlaces de tus webs"})]})]}),e.jsxs("div",{className:"selector",style:{marginBottom:"10px"},onClick:q,value:"qr-contact",children:[e.jsx("div",{className:"check",children:e.jsx(Ne,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"QR Contacto"}),e.jsx("span",{children:"Qr Contacto, este es un qr donde podras escanearlo y almacenar un contacto con informacion importante"})]})]}),e.jsxs("div",{className:"selector",style:{marginBottom:"10px"},onClick:q,value:"qr-file",children:[e.jsx("div",{className:"check",children:e.jsx(Ne,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"QR Archivo"}),e.jsx("span",{children:"Qr Archivo, este es un qr donde podras guardar un archivo de tu preferencia"})]})]})]})]}),p.type=="qr-stand"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Enlace del qr"}),e.jsx("input",{type:"url",name:"url",onChange:b,placeholder:"Enlace"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre del qr"}),e.jsx("input",{type:"text",onChange:b,name:"name",placeholder:"Nombre para tu QR"})]})]})]})}),p.type=="qr-file"&&e.jsx("div",{className:"case",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Qr archivo"}),e.jsx("span",{className:"desc",children:"Sube tu archivo de tu preferencia para crear tu qr y luego utilizarlo en la nube"}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"file",onChange:j})}),e.jsx("br",{})]})}),p.type=="qr-contact"&&e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personaliza tu QR"}),e.jsx("span",{className:"desc",children:"Este es un QR de contacto para generar tu tarjeta de presentacion, puedes personalizarlo con tu informacion necesaria."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre del QR"}),e.jsx("input",{type:"text",onChange:b,name:"name",placeholder:"Nombre para tu QR"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre"}),e.jsx("input",{type:"text",name:"fname",onChange:b,placeholder:"ej: Roberto"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Apellido"}),e.jsx("input",{type:"text",name:"lname",onChange:b,placeholder:"ej: Martinez"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Empresa"}),e.jsx("input",{type:"text",name:"company",onChange:b,placeholder:"ej: Cocacola"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Cargo"}),e.jsx("input",{type:"text",name:"jobtitle",onChange:b,placeholder:"ej: Director"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Celular"}),e.jsx("input",{type:"text",name:"number",onChange:b,placeholder:"ej: +58412000000"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Numero de Oficina"}),e.jsx("input",{type:"text",name:"officenum",onChange:b,placeholder:"ej: (12)"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo Electronico"}),e.jsx("input",{type:"text",name:"email",onChange:b,placeholder:"ej: example@example.com"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Pagina Web"}),e.jsx("input",{type:"text",name:"web",onChange:b,placeholder:"ej: www.example.com"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Direccion"}),e.jsx("input",{type:"text",name:"address1",onChange:b,placeholder:"ej: Chicago, ST "})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Direccion del Trabajo"}),e.jsx("input",{type:"text",name:"address2",onChange:b,placeholder:"ej: Chicago ST, Down Ryder "})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Ciudad"}),e.jsx("input",{type:"text",name:"city",onChange:b,placeholder:"ej: Chicago"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Estado"}),e.jsx("input",{type:"text",name:"province",onChange:b,placeholder:"ej: Chicago"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Pais"}),e.jsx("input",{type:"text",name:"country",onChange:b,placeholder:"ej: Estados Unidos"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Codigo postal"}),e.jsx("input",{type:"text",name:"pcode",onChange:b,placeholder:"ej: (15306)"})]})})]})})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Previsualiza tu QR "}),e.jsx("span",{className:"desc",children:"Este es el QR que has creado, dale click para subirlo."})]}),e.jsx("div",{className:"qr-result",children:e.jsx("canvas",{})})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:`next ${x?"await":" "}`,onClick:P,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function xt({Close:s,callback:i}){const[n,t]=a.useState(!1),[o,r]=a.useState(null),[l,m]=a.useState(null);a.useEffect(()=>(setTimeout(()=>{t(!0)},2e3),()=>{o&&o.getTracks().forEach(p=>p.stop())}),[]);const h=()=>{if(l&&o instanceof MediaStream){const p=o.getVideoTracks()[0],g=document.createElement("video");g.srcObject=new MediaStream([p]),g.onloadedmetadata=()=>{l.getContext("2d").drawImage(g,0,0,l.width,l.height);const c=l.toDataURL("image/jpeg");i&&i(c)},g.play().catch(x=>console.error("Error reproduciendo video: ",x))}};return e.jsx(e.Fragment,{children:n&&e.jsxs("div",{className:"camera",children:[e.jsx("video",{style:{width:"100%",height:"auto"},ref:p=>{p&&!o&&navigator.mediaDevices.getUserMedia({video:!0}).then(g=>{p.srcObject=g,r(g)}).catch(g=>console.error("Error al acceder a la cámara: ",g))},autoPlay:!0,playsInline:!0}),e.jsx("canvas",{ref:p=>{p&&m(p)},style:{display:"none"},width:640,height:480}),e.jsx("button",{className:"capture",onClick:h})]})})}function ra({Visible:s,Close:i,Return:n=!0}){const{UserInfo:t}=a.useContext(K);a.useRef(null);const[o,r]=a.useState(0);a.useState([Le()]);const[l,m]=a.useState({type:""}),[h,p]=a.useState(!1),[g,x]=a.useState(!1);se();async function c(v){var w;if(R(v.target),l.name&&l.image){p(!0);let q=new FormData;q.append("preview",l.image),q.append("id_company",(w=t==null?void 0:t.company)==null?void 0:w.id_company),q.append("type","qr-stand"),q.append("formqr",JSON.stringify(l)),D.post(E+"/api/upload/qr",q,{withCredentials:!0}).then(_=>_.data).then(_=>{p(!1),_.status&&(i(!1),A.success("Se ha subido tu qr correctamente")),_.msg&&A.error(_.msg)}).catch(_=>{p(!1)})}else A.error("Opps hay algo imcompleto")}function u(v){let w=v.target.name,q=v.target.value;m(_=>({..._,[w]:q}))}function d(){R("#file").click()}function j(v){let w=v.target.files,q=R(v.target);if(w.length){let _=new FileReader;_.onload=function(P){if(w[0].type.indexOf("image")>=0){let S=new Image;S.src=P.target.result,S.onload=function(){S.width<=6e3&&S.height<=6e3?m({...l,image:S.src}):A.error(`Opps maximo 600x600 tu imagen es de ${S.width}x${S.height}`)}}else q.val(""),A.error("Opps solo aceptamos imagenes")},_.readAsDataURL(w[0])}}a.useEffect(()=>{R("#wizard2").find(".case").eq(0).addClass("active")},[]);function f(v){m({...l,image:v})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,id:"wizard2",children:[e.jsxs("div",{className:"top-actions",children:[o>0?e.jsxs("button",{className:"return",onClick:v=>{r(w=>w-1)},children:[e.jsx(He,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:v=>{i(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case ",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Importar QR"}),e.jsx("span",{className:"desc",children:"Guarda la imagen del QR de tu preferencia y subela a la botonera"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre para tu QR"}),e.jsx("input",{type:"text",onChange:u,name:"name",placeholder:"Nombre para tu QR"})]}),e.jsxs("div",{className:"upload-qr",children:[l.image==null?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"upload",onClick:d,children:[e.jsx(L,{icon:"basil:upload-outline"}),e.jsx("p",{className:"upload-desc",children:"Has click aca para buscar tu archivo"})]}),g?e.jsx(xt,{callback:f,Close:x}):"",e.jsx("br",{}),e.jsx("span",{style:{fontSize:"14px",opacity:"0.8"},children:"Cuando le das activar camara toma la foto al QR de tu preferencia, luego dale click en la opcacion Subir Imagen, busca el QR y agregalo a tu botonera."}),e.jsxs("button",{className:"open-cam",onClick:v=>{x(!0)},children:[e.jsx(L,{icon:"ph:camera"})," Activar Camara"]})]}):e.jsx("div",{className:"preview",children:e.jsx("img",{src:l.image,alt:""})}),e.jsx("input",{type:"file",id:"file",onChange:j,hidden:!0})]})]})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:`next ${h?"await":" "}`,onClick:c,children:["Subir imagen ",e.jsx("div",{className:"loading"})]})})]})]})})}function us(){const[s,i]=a.useState(!1),[n,t]=a.useState(!1),[o,r]=a.useState(!1),[l,m]=a.useState([{},{}]),{UserInfo:h}=a.useContext(K),[p,g]=a.useState(!1),[x,c]=a.useState(),u=Oe(),d=se(),[j,f]=a.useState(!1);a.useEffect(()=>{Te("/add")&&i(!0),Te("/import")&&t(!0)},[u]);function v(){var P;let _=new FormData;_.append("id_company",(P=h==null?void 0:h.company)==null?void 0:P.id_company),D.post(E+"/api/get/qrs",_,{withCredentials:!0}).then(S=>S.data).then(S=>{m(S)})}function w(_){let P=R(_.target),S=P.parents(".item").find("img")[0].src;P.parents(".item").find(".title").text();let b=document.createElement("a");b.href=S,b.download="",b.rel="noopener noreferrer",b.target="_blank",document.querySelector("#root").appendChild(b),b.click(),document.querySelector("#root").removeChild(b)}a.useEffect(()=>{v()},[]);function q(){var P;f(!0);let _=new FormData;_.append("id_company",(P=h==null?void 0:h.company)==null?void 0:P.id_company),_.append("id_qr",x),D.post(E+"/api/delete/qr",_,{withCredentials:!0}).then(S=>S.data).then(S=>{S.status&&(g(!1),A.success("Has borrado el qr con exito"),m(b=>b.filter(C=>C.id_qr!==x)))}).finally(()=>{f(!1)})}return e.jsxs(e.Fragment,{children:[e.jsx(Re,{visible:p,callback:g,Pending:j,onClick:q}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"QR"}),e.jsx("span",{children:"Crea qr personalizados con enlaces para tus webs o qr de contacto"})]}),e.jsx(ks,{Visible:s,Close:i,setModalView:i,loadQrs:v},s?"x1":"x2"),e.jsx(ra,{Visible:n,Close:t,setModalView:t,loadQrs:v},n?"x":"a"),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"add",onClick:_=>{i(!0)},children:" Crear nuevo QR"}),e.jsxs("button",{className:"go-wizard",onClick:_=>{t(!0)},children:[e.jsx(Fe,{})," Importar QR"]})]})]}),e.jsxs("div",{className:"box box-padding",children:[l.map((_,P)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:cs(_.qr_preview),alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:_.title}),e.jsxs("span",{className:"desc",children:["Creado el: ",pe(_.time_add)]})]})]}),e.jsx("div",{className:"info",children:e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:"Tipo de QR"}),e.jsx("span",{className:"desc",children:_.type_qr})]})}),e.jsxs("div",{className:"actions",children:[_!=null&&_.id_concat?e.jsx("button",{onClick:S=>{d("/shorturls/"+_.id_concat)},children:e.jsx(L,{icon:"ion:stats-chart-outline"})}):"",e.jsx("button",{onClick:w,children:e.jsx(Va,{})}),e.jsx("button",{onClick:S=>{c(_.id_qr),g(!0)},children:e.jsx(ne,{})})]})]})),o?e.jsx(we,{}):l.length==0?e.jsx("div",{className:"item",children:e.jsx(ge,{name:"Qrs"})}):""]})]})}function ut({setButtons:s}){function i(n){let t=n.target.value;n.target.name=="background"&&t.indexOf("http")>=0&&(t=`url(${t})`),s(r=>{let l={...r};return l.header[n.target.name]=t,l})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar botonera"}),e.jsx("span",{children:"Personaliza tu botonera, cambiando imagenes, fondo, texto, botones, enlaces."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",defaultValue:"#fff",onChange:i,name:"background"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",onChange:i,defaultValue:0,step:"0.1",max:"10",name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",onChange:i,defaultValue:1,step:"0.1",max:"1",name:"brightness"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border radius"}),e.jsx("input",{type:"range",onChange:i,defaultValue:1,step:"0.1",max:"50",name:"radius"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{name:"colorBox",onClick:i,value:"ligth",children:"Modo Claro"}),e.jsx("button",{name:"colorBox",onClick:i,value:"dark",children:"Modo Oscuro"})]})]})]})}function jt({buttons:s,setButtons:i,editor:n,setEditor:t}){var P,S,b,y,C,N,F,k,T,W,Y,ee;const[o,r]=a.useState(!1),[l,m]=a.useState(!1),[h,p]=a.useState(!1),[g,x]=a.useState(void 0),{UserInfo:c}=a.useContext(K),u=de();function d(){i(z=>({...z,buttons:z.buttons.concat({})}))}function j(z){z.preventDefault(),z.stopPropagation();let O=R(z.target);switch(R(".page.buttonsbody .active").removeClass("active"),O.addClass("active"),O.attr("type")){case"buttons":var H=O.attr("id");t({type:"button",key:H});break;case"rs":var H=O.attr("id");t({type:"rs",key:H});break;default:t({type:O.attr("type")});break}return!1}function f(z){i(O=>{const H={...O};return H.buttons=H.buttons.filter((V,te)=>te!==z),t({type:"",key:""}),H})}function v(){let z=document.querySelector("#select-rs").value,O=document.querySelector("#input-rs").value;(s==null?void 0:s.rs.length)<=3?i(H=>{const V=[...H.rs];return V.push({type:z,url:O}),{...H,rs:V}}):A.error("Opps ya has agregado muchas redes sociales")}async function w(){var z,O,H;if(((O=(z=s.header)==null?void 0:z.titlegl)==null?void 0:O.length)>=1){p(!0);let V=new FormData;V.append("json",JSON.stringify(s)),g==null?V.append("title",s.header.titlegl):V.append("id_buttons",g),V.append("id_company",(H=c==null?void 0:c.company)==null?void 0:H.id_company);let te=await Ns(document.querySelector(".page .center"),{allowTaint:!1,useCORS:!0}).then(re=>re.toDataURL());V.append("preview",te),D.post(E+"/api/upload/buttons",V,{withCredentials:!0}).then(re=>re.data).then(re=>{p(!1),re.id_buttons&&x(re.id_buttons),re.msg&&A.error(re.msg)}).catch(re=>{p(!1)})}else m(!0),A.error("Opps no puedes avanzar si tu plantilla no posee un titulo")}function q(z){let O=z.target.value;i(H=>{let V={...H};return V.header.titlegl=O,V})}function _(){s.header.titlegl&&(m(!1),A.success("El titulo se aplico con exito"))}return a.useEffect(()=>{var z;if(u.id){let O=new FormData;O.append("id_buttons",u.id),O.append("id_company",(z=c==null?void 0:c.company)==null?void 0:z.id_company),D.post(E+"/api/get/editbuttons",O,{withCredentials:!0}).then(H=>H.data).then(H=>{H.id_buttons&&(i(JSON.parse(H.json)),x(H.id_buttons))})}},[]),e.jsxs(e.Fragment,{children:[e.jsxs(le,{visible:l,close:m,callback:m,onClick:_,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("span",{children:"Elige un titulo general para esta plantilla"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Titulo general"}),e.jsx("input",{onChange:q,type:"text",placeholder:"ej: plantilla 1"})]})]}),e.jsx(le,{visible:o,callback:r,onClick:v,children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Redes Sociales"}),e.jsx("span",{children:"Selecciona que red social quieres agregar"}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("input",{type:"url",placeholder:"Enlace (URL)",id:"input-rs"}),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("select",{name:"",id:"select-rs",children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"Seleccionar"}),e.jsx("option",{value:"fb",children:"Facebook"}),e.jsx("option",{value:"x",children:"X (Twitter)"}),e.jsx("option",{value:"in",children:"Instagram"}),e.jsx("option",{value:"link",children:"Linkedin"}),e.jsx("option",{value:"disc",children:"Discord"}),e.jsx("option",{value:"tik",children:"TikTok"}),e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"spot",children:"Spotify"}),e.jsx("option",{value:"tele",children:"Telegram"}),e.jsx("option",{value:"ws",children:"Whatsapp"})]}),e.jsx("br",{})]})]})}),e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{children:[e.jsx(Ae,{})," Previsualizar"]}),e.jsxs("button",{className:h?"await":"",onClick:w,children:[e.jsx(Ke,{})," Guardar ",e.jsx("div",{className:"loading"})]})]})}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(P=s==null?void 0:s.header)==null?void 0:P.blur}px)brightness(${(S=s==null?void 0:s.header)==null?void 0:S.brightness})`,background:(b=s==null?void 0:s.header)==null?void 0:b.background2}}),e.jsxs("div",{className:`${"page buttonsbody "+((y=s==null?void 0:s.header)==null?void 0:y.colorBox)}`,children:[e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",onClick:j,type:"logo",src:(C=s==null?void 0:s.header)!=null&&C.logo?(N=s==null?void 0:s.header)==null?void 0:N.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{onClick:j,type:"title",children:(F=s==null?void 0:s.header)!=null&&F.title?(k=s==null?void 0:s.header)==null?void 0:k.title:"Agregar titulo"}),e.jsx("span",{onClick:j,type:"desc",children:(T=s==null?void 0:s.header)!=null&&T.desc?(W=s==null?void 0:s.header)==null?void 0:W.desc:"Agregar Descripcion"})]}),e.jsx("div",{className:"buttons",children:(Y=s==null?void 0:s.buttons)==null?void 0:Y.map((z,O)=>{var H;return e.jsxs("div",{children:[e.jsx("div",{className:"edit-active",children:e.jsx("button",{onClick:V=>{f(O)},children:e.jsx(ne,{})})}),e.jsxs("a",{onClick:j,style:{borderRadius:((H=s==null?void 0:s.header)==null?void 0:H.radius)+"px"},type:"buttons",id:O,href:z.url,children:[" ",z!=null&&z.name?z==null?void 0:z.name:"Elegir nombre..."]},O)]},O)})}),e.jsx("div",{className:"rs",children:(ee=s==null?void 0:s.rs)==null?void 0:ee.map((z,O)=>e.jsx("div",{className:"r",children:e.jsxs("a",{href:"",onClick:j,id:O,type:"rs",children:[z.type=="in"?e.jsx(Gs,{}):"",z.type=="tik"?e.jsx(Js,{}):"",z.type=="disc"?e.jsx(Xs,{}):"",z.type=="spot"?e.jsx(Ks,{}):"",z.type=="tele"?e.jsx(Ys,{}):"",z.type=="ws"?e.jsx(Zs,{}):"",z.type=="email"?e.jsx(Us,{}):"",z.type=="fb"?e.jsx(ea,{}):"",z.type=="x"?e.jsx(sa,{}):"",z.type=="link"?e.jsx(aa,{}):""]})},O))}),e.jsxs("div",{className:"add-new",onClick:d,children:[e.jsx(Ge,{})," Agregar Boton"]}),e.jsx("br",{}),e.jsxs("div",{className:"add-new",onClick:z=>{r(!0)},children:[e.jsx(Ge,{})," Agregar Red Social"]})]})]})}function gt({editor:s,buttons:i,setButtons:n,setEditor:t}){var l;function o(m){let h=m.target.value;n(p=>{let g={...p};return g.rs[s.key].url=h,g})}function r(m){n(h=>{const p={...h};return p.rs=p.rs.filter((g,x)=>x!==Number(s.key)),t({type:"",key:""}),p})}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enlace"}),e.jsx("input",{id:"title-edit",onChange:o,type:"text",value:(l=i==null?void 0:i.rs[s.key])==null?void 0:l.url,placeholder:"https://image.com/jfop2.jpg"})]})}),e.jsx("div",{children:e.jsx("button",{className:"delete",onClick:r,children:"Eliminar"})})]})}function vt({editor:s,buttons:i,setButtons:n}){function t(o){const{name:r,value:l}=o.target;n(m=>{let h={...m};return h.buttons[s.key][r]=l,h})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nombre de boton"}),e.jsx("input",{onChange:t,value:i.buttons[s.key].name?i.buttons[s.key].name:"",name:"name",id:"title-edit",type:"text",placeholder:"Ej: Mi tienda virtual"})]}),e.jsx("br",{}),e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enlace"}),e.jsx("input",{onChange:t,value:i.buttons[s.key].url?i.buttons[s.key].url:"",name:"url",id:"title-edit",type:"text",placeholder:"https://example.com"})]})]})})}function ft({setButtons:s,buttons:i}){var t;function n(o){s(r=>{let l={...r};return l.header.desc=o.target.value,l})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descripcion"}),e.jsx("input",{onChange:n,id:"title-edit",type:"text",placeholder:"Ej: Mis redes sociales",value:(t=i==null?void 0:i.header)==null?void 0:t.desc})]})})})}function Nt({setButtons:s,buttons:i}){function n(t){let o=t.target.value;s(r=>{let l={...r};return l.header.logo=o,l})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Logo"}),e.jsx("input",{onChange:n,id:"title-edit",type:"text",placeholder:"https://image.com/jfop2.jpg"})]})})})}function yt({setButtons:s,buttons:i}){var t;function n(o){s(r=>{let l={...r};return l.header.title=o.target.value,l})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("input",{onChange:n,id:"title-edit",type:"text",placeholder:"Ej: Mis redes sociales",value:(t=i==null?void 0:i.header)==null?void 0:t.title})]})})})}function bt({editor:s,buttons:i,setButtons:n,setEditor:t}){return e.jsxs(e.Fragment,{children:[s.type=="button"?e.jsx(vt,{editor:s,buttons:i,setButtons:n}):"",s.type=="title"?e.jsx(yt,{editor:s,buttons:i,setButtons:n}):"",s.type=="desc"?e.jsx(ft,{editor:s,buttons:i,setButtons:n}):"",s.type=="logo"?e.jsx(Nt,{editor:s,buttons:i,setButtons:n}):"",s.type=="rs"?e.jsx(gt,{editor:s,buttons:i,setButtons:n,setEditor:t}):""]})}function Bs(){var o;a.useState(!0);const[s,i]=a.useState({header:{title:"",desc:"",img:"",background:""},buttons:[],rs:[]}),[n,t]=a.useState({});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"editor-surveys",children:e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:"left",children:e.jsx(ut,{editor:n,setButtons:i,buttons:s})}),e.jsx("div",{className:"center",style:{background:(o=s==null?void 0:s.header)==null?void 0:o.background},children:e.jsx(jt,{editor:n,setEditor:t,buttons:s,setButtons:i})}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"type-editor",children:e.jsx(bt,{editor:n,buttons:s,setButtons:i,setEditor:t})})})]})})})}function da({Visible:s,CallbackVisible:i,value:n}){const t=se();let o={facebook:"https://www.facebook.com/sharer.php?u="+(n||window.location.href),whatsapp:"https://api.whatsapp.com/send/?text=Mira esta nueva botonera de enlace "+(n||window.location.href),linkedin:"https://www.linkedin.com/sharing/share-offsite/?url="+(n||window.location.href),messenger:"https://www.messenger.com/new",instagram:"https://instagram.com/share",tiktok:"",x:"https://x.com/intent/tweet?text=Entra ahora con este link compartido "+(n||window.location.href),email:"mailto:?subject= Check out this Radarsystems! &body= Mira esta nueva botonera de enlace "+(n||window.location.href)};function r(l){let m=l.target.dataset.type,h=o[m];window.open(h,"_blank")}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"modal-share",style:{display:`${s?"flex":"none"}`},children:e.jsx("div",{className:"body",children:e.jsxs("div",{className:"bk",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Compartir desde Radarsystems"}),e.jsx("button",{onClick:l=>{i(!1)},className:"closed",children:e.jsx(L,{icon:"carbon:close-large"})})]}),e.jsxs("div",{className:"buttons",children:[e.jsxs("button",{onClick:r,"data-type":"facebook",children:[e.jsx("i",{className:"left",children:e.jsx(L,{icon:"logos:facebook"})})," Compartir en Facebook ",e.jsx("i",{className:"right",children:e.jsx(L,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:r,"data-type":"linkedin",children:[e.jsx("i",{className:"left",children:e.jsx(L,{icon:"logos:linkedin-icon"})})," Compartir en Linkedln ",e.jsx("i",{className:"right",children:e.jsx(L,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:r,"data-type":"whatsapp",children:[e.jsx("i",{className:"left",children:e.jsx(L,{icon:"logos:whatsapp-icon"})})," Compartir en Whatsapp ",e.jsx("i",{className:"right",children:e.jsx(L,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:r,"data-type":"messenger",children:[e.jsx("i",{className:"left",children:e.jsx(L,{icon:"logos:messenger"})})," Compartir en Messenger ",e.jsx("i",{className:"right",children:e.jsx(L,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:r,"data-type":"instagram",children:[e.jsx("i",{className:"left",children:e.jsx(L,{icon:"skill-icons:instagram"})})," Compartir en Instagram ",e.jsx("i",{className:"right",children:e.jsx(L,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:r,"data-type":"x",children:[e.jsx("i",{className:"left",children:e.jsx(L,{icon:"devicon:twitter"})})," Compartir en X ",e.jsx("i",{className:"right",children:e.jsx(L,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:r,"data-type":"email",children:[e.jsx("i",{className:"left",children:e.jsx(L,{icon:"logos:mailgun-icon"})})," Compartir en Correo Electronico ",e.jsx("i",{className:"right",children:e.jsx(L,{icon:"uiw:right"})})]})]}),e.jsx("div",{className:"url",children:e.jsx("span",{children:n??window.location.href})}),e.jsxs("div",{className:"register",children:[e.jsx("p",{children:"Crear tu cuenta en rar.bio"}),e.jsx("span",{children:"Comparte tu enlace con mas de 6 Billons de personas"}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:l=>{t("/register")},children:"Crear cuenta"}),e.jsx("button",{onClick:l=>{t("/auth")},children:"Inicia sesión"})]})]})]})})})})}function Ct(){var p,g,x,c,u,d,j,f,v,w,q,_,P;const[s,i]=a.useState({}),[n,t]=a.useState(!1),[o,r]=a.useState(!0),l=de();function m(){let S=new FormData;S.append("token",l.id),D.post(E+"/api/get/buttons",S).then(b=>b.data).then(b=>{if(i(b),b){let y=new FormData;y.append("type_stat","visit"),y.append("type","buttons"),y.append("token",l.id),D.post(E+"/api/get/capturestatsbuttons",y)}})}a.useEffect(()=>{m()},[]);function h(S){S.preventDefault(),S.stopPropagation();let b=S.target.href;if(o){r(!1);let y=new FormData;y.append("type","buttons"),y.append("type_stat","click"),y.append("data",b),y.append("token",l.id),D.post(E+"/api/get/capturestatsbuttons",y).then(C=>C.data).then(C=>{r(!0),window.open(b)}).catch(C=>{r(!0)})}}return e.jsxs(e.Fragment,{children:[e.jsx(da,{Visible:n,CallbackVisible:t}),e.jsx("div",{className:"editor-surveys btnactive prod-buttons",children:e.jsx("div",{className:"rows",children:e.jsxs("div",{className:"center",style:{background:(p=s==null?void 0:s.header)==null?void 0:p.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(g=s==null?void 0:s.header)==null?void 0:g.blur}px)brightness(${(x=s==null?void 0:s.header)==null?void 0:x.brightness})`,background:(c=s==null?void 0:s.header)==null?void 0:c.background2}}),e.jsxs("div",{className:`${"page buttonsbody "+((u=s==null?void 0:s.header)==null?void 0:u.colorBox)}`,children:[e.jsx("div",{className:"share-now",children:e.jsx("button",{onClick:S=>{t(!0)},children:e.jsx(Ba,{})})}),e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",type:"logo",src:(d=s==null?void 0:s.header)!=null&&d.logo?(j=s==null?void 0:s.header)==null?void 0:j.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{type:"title",children:(f=s==null?void 0:s.header)!=null&&f.title?(v=s==null?void 0:s.header)==null?void 0:v.title:""}),e.jsx("span",{type:"desc",children:(w=s==null?void 0:s.header)!=null&&w.desc?(q=s==null?void 0:s.header)==null?void 0:q.desc:""})]}),e.jsx("div",{className:"buttons",children:(_=s==null?void 0:s.buttons)==null?void 0:_.map((S,b)=>{var y;return e.jsx("div",{children:e.jsxs("a",{onClick:h,style:{borderRadius:((y=s==null?void 0:s.header)==null?void 0:y.radius)+"px"},type:"buttons",id:b,href:S.url,children:[" ",S!=null&&S.name?S==null?void 0:S.name:"Elegir nombre..."]},b)},b)})}),e.jsx("div",{className:"rs",children:(P=s==null?void 0:s.rs)==null?void 0:P.map((S,b)=>e.jsx("div",{className:"r",children:e.jsxs("a",{href:"",id:b,type:"rs",children:[S.type=="in"?e.jsx(Gs,{}):"",S.type=="tik"?e.jsx(Js,{}):"",S.type=="disc"?e.jsx(Xs,{}):"",S.type=="spot"?e.jsx(Ks,{}):"",S.type=="tele"?e.jsx(Ys,{}):"",S.type=="ws"?e.jsx(Zs,{}):"",S.type=="email"?e.jsx(Us,{}):"",S.type=="fb"?e.jsx(ea,{}):"",S.type=="x"?e.jsx(sa,{}):"",S.type=="link"?e.jsx(aa,{}):""]})},b))}),e.jsxs("div",{className:"footer",children:[e.jsx("br",{}),e.jsx("hr",{}),e.jsx("p",{children:"Powered by RadarSystems. ​​​​​​​Copyright © 1998 - 2022 Todos los derechos reservados."})]})]})]})})})]})}function Qs({onClick:s}){let i=[{color:"#000"},{color:"#fff"},{color:"#FFDDC1"},{color:"#FFA07A"},{color:"#FFB6C1"},{color:"#87CEEB"},{color:"#B0C4DE"},{color:"#ADD8E6"},{color:"#FFE4E1"},{color:"#F0FFF0"},{color:"#F5F5DC"},{color:"#F0E68C"},{color:"#E0FFFF"},{color:"#FAFAD2"},{color:"#FFEBCD"},{color:"#E6E6FA"},{color:"#F08080"},{color:"#FF6347"},{color:"#FFD700"},{color:"#FFA500"},{color:"#FF4500"},{color:"#E9967A"},{color:"#CD5C5C"},{color:"#FF8C00"},{color:"#FF69B4"},{color:"#FF1493"},{color:"#DB7093"},{color:"#800000"},{color:"#A52A2A"},{color:"#D2691E"},{color:"#8B4513"},{color:"#8B0000"},{color:"#800080"}];return e.jsx(e.Fragment,{children:e.jsx("div",{className:"colorPicker-basic",children:i.map((n,t)=>e.jsx("div",{className:"color",style:{background:n.color},"data-value":n.color,onClick:o=>{s(o.target.dataset.value)}}))})})}function wt({setButtons:s,Visible:i,VisibleMenu:n}){const[t,o]=a.useState({}),[r,l]=a.useState(!1),[m,h]=a.useState(!1),[p,g]=a.useState(),{UserInfo:x}=a.useContext(K);function c(q){let _=q.target.value,P=q.target.name;(P=="background"||P=="backgroundHeader")&&_.indexOf("http")>=0&&(_=`url(${_})`),s(S=>{let b={...S};return b.header[q.target.name]=_,b})}function u(q){s(_=>{let P={..._};return P.header.background=q,P})}function d(q){s(_=>{let P={..._};return P.header.backgroundHeader=q,P})}function j(){document.querySelector("input[name='file-wallpaper']").click()}function f(q){let _=q.target.files[0];di(_)&&o(_)}function v(){o({}),document.querySelector("input[name='file-wallpaper']").value=""}function w(){var q;if(t!=null&&t.name){h(!0);let _=new FormData;_.append("id_company",(q=x==null?void 0:x.company)==null?void 0:q.id_company),_.append("file",t),D.post(E+"/api/upload/fileqr",_,{withCredentials:!0}).then(P=>P.data).then(P=>{P.download&&s(S=>{let b={...S};return p=="background"&&(b.header.background=`url(${P.download})`),p=="backgroundHeader"&&(b.header.backgroundHeader=`url(${P.download})`),b}),l(!1),h(!1)}).catch(P=>{h(!1)})}else me.error("Opps no has seleccionado ningun archivo")}return a.useEffect(()=>{document.querySelector("input[name='background']").value="a"},[]),e.jsxs(e.Fragment,{children:[e.jsxs(le,{visible:r,callback:l,onClick:w,Pending:m,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Subir imagen"}),e.jsx("span",{children:"sube tu imagen que no sea mayor a 5MB"})]}),e.jsx("input",{type:"file",onChange:f,name:"file-wallpaper",accept:".png,.jpg,.jpeg",hidden:!0}),e.jsx("div",{className:"select-file",children:t.name?e.jsxs("div",{className:"file",children:[e.jsx("div",{className:"right",children:e.jsx("button",{onClick:v,children:e.jsx(ne,{})})}),e.jsx("div",{className:"preview",children:e.jsxs("div",{className:"fi",children:[e.jsx("div",{className:"icon",children:e.jsx(De,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:t==null?void 0:t.name}),e.jsx("span",{children:t==null?void 0:t.type})]})]})})]}):e.jsxs("div",{className:"drop-file",onClick:j,children:[e.jsx("i",{children:e.jsx(Fe,{})}),e.jsx("span",{className:"desc",children:"Has click aca para buscar tu archivo"})]})})]}),e.jsx("img",{src:"/img/icons/logo_color_1.png",alt:"",hidden:!0}),e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar botonera"}),e.jsx("span",{children:"Personaliza tu botonera, cambiando imagenes, fondo, texto, botones, enlaces."}),e.jsx("button",{className:"close mb",onClick:n,children:e.jsx(L,{icon:"teenyicons:x-outline"})})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",defaultValue:"#fff",onChange:c,name:"background"}),e.jsxs("button",{onClick:q=>{l(!0),g("background")},className:"action-complete",children:[e.jsx(L,{icon:"material-symbols:upload-rounded"})," Elegir Imagen"]}),e.jsx("hr",{}),e.jsx("p",{className:"title",children:"Colores"}),e.jsx(Qs,{onClick:u}),e.jsx("br",{})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el header"}),e.jsx("input",{type:"text",defaultValue:"#fff",onChange:c,name:"backgroundHeader"}),e.jsxs("button",{onClick:q=>{l(!0),g("backgroundHeader")},className:"action-complete",children:[e.jsx(L,{icon:"material-symbols:upload-rounded"})," Elegir Imagen"]}),e.jsx("hr",{}),e.jsx("p",{className:"title",children:"Colores"}),e.jsx(Qs,{onClick:d}),e.jsx("br",{})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{name:"theme",onClick:c,value:"ligth",children:"Modo Claro"}),e.jsx("button",{name:"theme",onClick:c,value:"dark",children:"Modo Oscuro"})]})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",onChange:c,defaultValue:0,step:"0.1",max:"10",name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",onChange:c,defaultValue:1,step:"0.1",max:"1",name:"brightness"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border radius"}),e.jsx("input",{type:"range",onChange:c,defaultValue:1,step:"0.1",max:"50",name:"radius"})]})]})}function kt({VisibleMenu:s,getMyQrs:i,addNewQr:n,setVisibleQr:t,boxType:o,editor:r,buttons:l,setButtons:m}){const[h,p]=a.useState(!1);a.useState(!1);const[g,x]=a.useState(!1),[c,u]=a.useState(!1),[d,j]=a.useState({});a.useState({});const[f,v]=a.useState(),[w,q]=a.useState(""),[_,P]=a.useState({ssid:"",password:"",encrypt:""}),[S,b]=a.useState({rs:!1,modalFile:!1}),[y,C]=a.useState(),{UserInfo:N}=a.useContext(K),F=a.useRef(null),k={instagram:"https://www.instagram.com/",twitter:"https://x.com/",facebook:"https://facebook.com/",tiktok:"https://tiktok.com/",whatsapp:"https://api.whatsapp.com/send/?phone=",websiteurl:""};function T(G,ce){if(R(G.target).css("opacity")!=="0.5")switch(v(ce),ce){case"qrs":i(),t(!0);break;case"vcard":t(!0),i("qr-contact");break;case"vcard-add":document.querySelector(".head-top .right button").click(),setTimeout(()=>{document.querySelectorAll(".wizard-home.open .case.active .selector")[1].click()},20),setTimeout(()=>{R(document.querySelector(".wizard-home.open .next")).click()},20);break;case"instagram":case"facebook":case"tiktok":case"twitter":case"whatsapp":case"websiteurl":u(!0);break;case"wifi":x(!0);break;case"pdf":case"img":p(!0);break}else me.error("Este boton no esta habilitado para este apartado.")}const W=new ys({width:600,height:600,margin:0,qrOptions:{typeNumber:"0",mode:"Byte",errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,margin:10},dotsOptions:{type:"dots",color:"#000000"},backgroundOptions:{color:"#ffffff",gradient:null},image:"/img/icons/logo_color_1.png",dotsOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#6a1a4c",color2:"#6a1a4c",rotation:"0"}},cornersSquareOptions:{type:"extra-rounded",color:"#000000"},cornersSquareOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},cornersDotOptions:{type:"dot",color:"#000000"},cornersDotOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},backgroundOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#ffffff",color2:"#ffffff",rotation:"0"}}});function Y(){R("input[name='file']").click()}function ee(G){let ce=G.target.files;ce[0]&&(ce[0].type.indexOf("/pdf")>=0||ce[0].type.indexOf("imag")>=0?j(ce[0]):me.error("El archivo no es una imagen / pdf"))}function z(G){j({}),R("input[name='file']").val("")}function O(G,ce){b({...ce,[G]:ce})}async function H(G){var ue;let ce=!1;if(c&&w&&(ce=!0),g&&_.encrypt&&_.password.length&&_.ssid&&(ce=!0),h&&G&&(ce=!0),ce){O("rs",!0),W.append(F.current);let he=new FormData,_e=G;he.append("url",G),he.append("id_company",(ue=N==null?void 0:N.company)==null?void 0:ue.id_company),g?(W.update({data:G}),W.getRawData().then(ve=>{let ye=new FileReader;ye.onload=function(Pe){V(Pe.target.result,Number(G.id_shortlink),G)},ye.readAsDataURL(ve)})):D.post(E+"/api/upload/shortlink",he,{withCredentials:!0}).then(ve=>ve.data).then(ve=>{W.update({data:ve.shortlink}),W.getRawData().then(ye=>{let Pe=new FileReader;Pe.onload=function(Be){V(Be.target.result,Number(ve.id_shortlink),_e)},Pe.readAsDataURL(ye)})}).catch(ve=>{me.error(String(ve))}).finally(()=>{O("rs",!1)})}}function V(G,ce=null,ue){var ve;let he=new FormData;ce&&he.append("id_concat",ce);let _e=`${f+"-"+(new Date/1e3).toFixed()}`;switch(he.append("preview",G),he.append("dataQr",ue),he.append("id_company",(ve=N==null?void 0:N.company)==null?void 0:ve.id_company),y==null?he.append("formqr",JSON.stringify({name:_e})):(_e=y,he.append("formqr",JSON.stringify({name:y}))),console.log(f),f){case"facebook":case"instagram":case"x":case"twitter":case"linkedin":case"whatsapp":he.append("type","qr-rs");break;case"pdf":case"img":he.append("type","qr-file");break;case"wifi":he.append("type","qr-wifi");break}D.post(E+"/api/upload/qr",he,{withCredentials:!0}).then(ye=>ye.data).then(ye=>{if(O("rs",!1),ye.status){s(!1),u(!1);try{n(_e,ye.img),me.success("QR agregado con exito"),p(!1),x(!1),u(!1)}catch(Pe){me.error(String(Pe))}}else me.error(`${ye.msg}`);C(null)}).catch(ye=>{C(null),O("rs",!1)})}a.useEffect(()=>{c||q("")},[c]);function te(G){let ce=G.target.name,ue=G.target.value;P({..._,[ce]:ue})}async function re(){var ce;O("modalFile",!0);let G=new FormData;G.append("file",d),G.append("id_company",(ce=N==null?void 0:N.company)==null?void 0:ce.id_company),D.post(E+"/api/upload/fileqr",G,{withCredentials:!0}).then(ue=>ue.data).then(async ue=>{ue.status&&(me.success("Se ha subido tu archivo correctamente, se esta procesando el QR"),await H(ue.download),O("modalFile",!1),p(!1))}).catch(ue=>{O("modalFile",!1)})}return a.useEffect(()=>{h||j([])},[h]),e.jsxs(e.Fragment,{children:[e.jsxs(le,{visible:g,onClick:G=>{H(`WIFI:T:${_.encrypt};S:${_.ssid};P:${_.password};;`)},callback:x,maxWidth:400,Pending:S==null?void 0:S.rs,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Red WiFi"}),e.jsx("span",{children:"Agrega tu red Wi-Fi favorita e integra el código QR dentro de tu botonera"})]}),e.jsxs("div",{className:"data",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"ssid",children:"Nombre QR"}),e.jsx("input",{type:"text",onChange:G=>{C(G.target.value)},name:"user",placeholder:f=="websiteurl"?"https://mysiteweb.com":"Nombre del QR"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"ssid",children:"SSID"}),e.jsx("input",{type:"text",onChange:te,name:"ssid",placeholder:"Nombre de red"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"password",children:"Contraseña"}),e.jsx("input",{type:"text",onChange:te,name:"password",placeholder:"Contraseña de red"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"encryption",children:"Selecciona el cifrado"}),e.jsxs("select",{name:"encrypt",id:"encryption",onChange:te,children:[e.jsx("option",{value:"WPA",children:"WPA"}),e.jsx("option",{value:"WPA2",children:"WPA2"}),e.jsx("option",{value:"WEP",children:"WEP"}),e.jsx("option",{value:"nopass",children:"Sin cifrado"})]})]})]})]},g?"x23":"x24"),e.jsxs(le,{visible:c,callback:u,Pending:S.rs,maxWidth:450,next:"Crear",onClick:()=>{H(f=="tiktok"?k[f]+"@"+w:k[f]+w)},children:[f=="websiteurl"?e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Web"}),e.jsx("span",{children:"Agrega la url de tu sitio web"})]}):e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Red social"}),e.jsx("span",{children:"Agrega tu red social favorita y integra el QR dentro de tu botonera"})]}),e.jsxs("div",{className:"data",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",onChange:G=>{C(G.target.value)},name:"user",placeholder:"Nombre del QR"})}),e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{htmlFor:"",children:[k[f],w]}),e.jsx("input",{type:"text",onChange:G=>{q(G.target.value)},name:"user",placeholder:f=="websiteurl"?"https://mysiteweb.com":"@usuario"})]})]})]},c?"12":"13"),e.jsxs(le,{visible:h,Pending:S==null?void 0:S.modalFile,callback:p,next:"Subir",onClick:re,children:[e.jsx("input",{type:"file",name:"file",onChange:ee,hidden:!0}),e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Subir archivo"}),e.jsx("span",{children:"Sube tu imagen o pdf que no sea mayor a 5 MB"})]}),e.jsxs("div",{className:"select-file",children:[e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",onChange:G=>{C(G.target.value)},name:"user",placeholder:f=="websiteurl"?"https://mysiteweb.com":"Nombre del QR"})}),d.name?e.jsxs("div",{className:"file",children:[e.jsx("div",{className:"right",children:e.jsx("button",{onClick:z,children:e.jsx(ne,{})})}),e.jsx("div",{className:"preview",children:e.jsxs("div",{className:"fi",children:[e.jsx("div",{className:"icon",children:e.jsx(De,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:d==null?void 0:d.name}),e.jsx("span",{children:d==null?void 0:d.type})]})]})})]}):e.jsxs("div",{className:"drop-file",onClick:Y,children:[e.jsx("i",{children:e.jsx(Fe,{})}),e.jsx("span",{className:"desc",children:"Has click aca para buscar tu archivo"})]})]})]},h?"14sd":"15asdas"),e.jsxs("div",{className:`buttons-services ${o}`,children:[e.jsx("div",{className:"qr-result-2",ref:F,hidden:!0}),e.jsxs("div",{className:"top-title",children:[e.jsx("p",{children:"Mis QR"}),e.jsx("button",{className:"close mb",onClick:G=>{s(!1)},children:e.jsx(L,{icon:"teenyicons:x-outline"})})]}),e.jsxs("div",{className:"button",type:"all",onClick:G=>{T(G,"qrs")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps.svg",alt:""})}),e.jsx("p",{children:"Mis QRS Favoritos"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"top-title",children:[e.jsx("p",{children:"1. Servicios QR"}),e.jsx("button",{className:"close mb",onClick:G=>{s(!1)},children:e.jsx(L,{icon:"teenyicons:x-outline"})})]}),e.jsxs("div",{className:"button",onClick:G=>{T(G,"vcard-add")},type:"vcard",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/vCard.svg",alt:""})}),e.jsx("p",{children:"Crear Tarjeta De Presentacion QR"}),e.jsx("span",{children:"Comparte "})]}),e.jsxs("div",{className:"button",onClick:G=>{T(G,"vcard")},type:"vcard",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/vCard.svg",alt:""})}),e.jsx("p",{children:"Mis Tarjeta De Presentacion QR"}),e.jsx("span",{children:"Comparte "})]}),e.jsxs("div",{className:"submenu",children:[e.jsx("p",{children:"Social Media"}),e.jsx("i",{children:e.jsx(Ds,{})})]}),e.jsx("br",{}),e.jsxs("div",{className:"button",onClick:G=>{T(G,"whatsapp")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/whatsapp-icon.svg",alt:""})}),e.jsx("p",{children:"Crear Whatsapp"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:G=>{T(G,"instagram")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/instagram.svg",alt:""})}),e.jsx("p",{children:"Crear Instagram"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:G=>{T(G,"facebook")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/facebook.svg",alt:""})}),e.jsx("p",{children:"Crear Facebook"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:G=>{T(G,"twitter")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/twitter.svg",alt:""})}),e.jsx("p",{children:"Crear X"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:G=>{T(G,"tiktok")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/tiktok.svg",alt:""})}),e.jsx("p",{children:"Crear Tiktok"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:G=>{T(G,"websiteurl")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/website.png",alt:""})}),e.jsx("p",{children:"Crear Website URL"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsx("br",{}),e.jsxs("div",{className:"submenu",children:[e.jsx("p",{children:"Crear Otros QR's"}),e.jsx("i",{children:e.jsx(Ds,{})})]}),e.jsx("br",{}),e.jsxs("div",{className:"button",onClick:G=>{T(G,"pdf")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/pdf.svg",alt:""})}),e.jsx("p",{children:"Subir PDF"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:G=>{T(G,"img")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/images.svg",alt:""})}),e.jsx("p",{children:"Subir Imagenes"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:G=>{T(G,"wifi")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/wifi.svg",alt:""})}),e.jsx("p",{children:"Crear Acceso WIFI"}),e.jsx("span",{children:"Link to a website of your choice"})]})]})]})}function St({addNewQr:s,setMyQrs:i,VisibleMenu:n,type:t,visibleQr:o,setVisibleQr:r,buttons:l,setBoxType:m,setButtons:h,editor:p,setEditor:g}){var Ze,Ue,es,ss,as,is,ts,ns;const[x,c]=a.useState(!1),[u,d]=a.useState(void 0),[j,f]=a.useState(),[v,w]=a.useState(!1),[q,_]=a.useState(!1),[P,S]=a.useState(!1),[b,y]=a.useState(!1);a.useState(!0);const[C,N]=a.useState(!1),[F,k]=a.useState(!1),[T,W]=a.useState({}),Y=de(),ee=se(),{UserInfo:z}=a.useContext(K);function O(U){U.preventDefault(),U.stopPropagation();let J=R(U.target);switch(R(".page.buttonsbody .active").removeClass("active"),J.addClass("active"),J.attr("type")){case"addqr":var Z=J.attr("id");switch(g({type:"addqr",key:Z}),Z){case"0":m("vcard");break;case"1":m("rs");break;default:m("all");break}break;case"rs":var Z=J.attr("id");g({type:"rs",key:Z});break;case"titlespace":g({type:"titlespace",key:Number(J.attr("id"))});break;default:g({type:J.attr("type")});break}return!1}function H(U){U.stopPropagation();let J=!0;h(Z=>{const ie={...Z};return J&&(J=!1,ie.elements.push({qrs:[]})),ie})}function V(U,J){h(Z=>{const ie={...Z};return ie.elements[U]&&ie.elements[U].qrs[J]&&ie.elements[U].qrs.splice(J,1),ie})}async function te(){var U;if(l.header.titlegl.length>=1){w(!0);let J=new FormData;J.append("json",JSON.stringify(l)),u==null?J.append("title",l.header.titlegl):J.append("id_buttonsqr",u),J.append("id_company",(U=z==null?void 0:z.company)==null?void 0:U.id_company);let Z=[];J.append("preview",Z),D.post(E+"/api/upload/buttonsqr",J,{withCredentials:!0}).then(ie=>ie.data).then(ie=>{w(!1),ie.id_buttonsqr&&(d(Number(ie.id_buttonsqr)),f(ie.token),Y.id||ee(`/editor/buttonsqr/${Number(ie.id_buttonsqr)}`)),ie.status&&A.success("Guardado con exito"),ie.msg&&A.error(ie.msg)}).catch(ie=>{w(!1)})}else c(!0),A.error("Opps no puedes avanzar si tu plantilla no posee un titulo")}function re(U){let J=U.target.value;h(Z=>{let ie={...Z};return ie.header.titlegl=J,ie})}function G(){l.header.titlegl&&(c(!1),A.success("El titulo se aplico con exito"),te())}function ce(){var U,J,Z;R("#title").val((U=l==null?void 0:l.header)==null?void 0:U.title),R("#desc").val((J=l==null?void 0:l.header)==null?void 0:J.desc),(Z=l==null?void 0:l.elements)==null||Z.forEach((ie,$e)=>{R("p[type='titlespace']").eq($e).text(ie.title)})}a.useEffect(()=>{var U;if(Y.id){let J=new FormData;J.append("id_buttonsqr",Y.id),J.append("id_company",(U=z==null?void 0:z.company)==null?void 0:U.id_company),D.post(E+"/api/get/editbuttonsqr",J,{withCredentials:!0}).then(Z=>Z.data).then(Z=>{Z.id_buttonsqr&&(h(JSON.parse(Z.json)),d(Z.id_buttonsqr),f(Z.token))})}},[]),a.useEffect(()=>{var U;F||(t==="company"&&u===void 0&&((U=l.elements[0])==null?void 0:U.title)==="Business Card"||t!=="company")&&l&&l.elements.length>0&&(ce(),k(!0))},[u,t,l]);function ue(U){h(J=>{let Z={...J};return Z.header.title=U.target.value,Z})}function he(U){h(J=>{let Z={...J};return Z.header.desc=U.target.value,Z})}function _e(U){h(J=>{let Z={...J};return Z.elements[p.key].title=U.target.textContent,Z})}function ve(U){let J=!0;h(Z=>{let ie={...Z};return J&&(J=!1,ie.elements.splice(U,1)),ie})}function ye(){document.querySelector("input[name='photo']").click()}function Pe(U){let J=U.target.files[0];J&&((J==null?void 0:J.type.indexOf("image"))>=0?W(J):A.error("El archivo no es compatible"))}function Be(){var U;if(_(!0),T){let J=new FormData;J.append("id_company",(U=z==null?void 0:z.company)==null?void 0:U.id_company),J.append("file",T),D.post(E+"/api/upload/fileqr",J,{withCredentials:!0}).then(Z=>Z.data).then(Z=>{_(!1),Z.status&&(h(ie=>{let $e={...ie};return $e.header.logo=Z.download,$e}),Ye(),N(!1),A.success("Nueva imagen!"))}).catch(Z=>{_(!1)})}}function Ye(){W({}),document.querySelector("input[name='photo']").value=""}return a.useEffect(()=>{n()},[C,P]),e.jsxs(e.Fragment,{children:[e.jsxs(le,{visible:C,next:"Agregar",callback:N,onClick:Be,Pending:q,children:[e.jsx("input",{type:"file",name:"photo",onChange:Pe,hidden:!0}),e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Subir archivo"}),e.jsx("span",{children:"Sube tu imagen que no sea mayor a 5 MB"})]}),e.jsx("div",{className:"select-file",children:T.name?e.jsxs("div",{className:"file",children:[e.jsx("div",{className:"right",children:e.jsx("button",{onClick:Ye,children:e.jsx(ne,{})})}),e.jsx("div",{className:"preview",children:e.jsxs("div",{className:"fi",children:[e.jsx("div",{className:"icon",children:e.jsx(De,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:T==null?void 0:T.name}),e.jsx("span",{children:T==null?void 0:T.type})]})]})})]}):e.jsxs("div",{className:"drop-file",onClick:ye,children:[e.jsx("i",{children:e.jsx(Fe,{})}),e.jsx("span",{className:"desc",children:"Has click aca para buscar tu archivo"})]})})]}),e.jsxs(le,{visible:x,close:c,callback:c,onClick:G,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("span",{children:"Elige un titulo general para esta plantilla"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Titulo general"}),e.jsx("input",{onChange:re,type:"text",placeholder:"ej: plantilla 1"})]})]}),e.jsx(ra,{Visible:P,Close:S},P?"x12":"x23"),e.jsx(ks,{callbackUrl:s,Visible:b,Close:y},b?"s14":"s15"),e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{onClick:U=>{y(!0)},children:[e.jsx(Fe,{})," Crear QR"]}),e.jsxs("button",{onClick:U=>{S(!0)},children:[e.jsx(Fe,{})," Importar QR"]}),e.jsxs("button",{onClick:U=>{},children:[e.jsx(Ae,{})," Previsualizar"]}),j?e.jsxs("button",{onClick:U=>{ee(`/buttonsqr/${j}?install=true`)},children:[e.jsx(L,{icon:"ic:round-install-mobile"})," Instalar"]}):"",e.jsxs("button",{className:v?"await":"",onClick:te,children:[e.jsx(Ke,{})," Guardar ",e.jsx("div",{className:"loading"})]})]})}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(Ze=l==null?void 0:l.header)==null?void 0:Ze.blur}px)brightness(${(Ue=l==null?void 0:l.header)==null?void 0:Ue.brightness})`,WebkitBackdropFilter:`blur(${(es=l==null?void 0:l.header)==null?void 0:es.blur}px)`,background:(ss=l==null?void 0:l.header)==null?void 0:ss.background2}}),e.jsx("div",{className:"header",style:{background:(as=l==null?void 0:l.header)==null?void 0:as.backgroundHeader}}),e.jsx("div",{className:`${"page buttonsbody buttonsqr editmode "+((is=l==null?void 0:l.header)==null?void 0:is.theme)}`,children:e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",onClick:O,type:"logo",src:(ts=l==null?void 0:l.header)!=null&&ts.logo?(ns=l==null?void 0:l.header)==null?void 0:ns.logo:"/img/icons/default-img.jpg",alt:""}),e.jsxs("button",{className:"action",onClick:U=>{N(!0)},children:[e.jsx(Qa,{})," Agregar Imagen"]}),e.jsx("br",{}),e.jsx("input",{id:"title",onClick:O,onChange:ue,suppressContentEditableWarning:!0,contentEditable:!0,placeholder:"Nombre"}),e.jsx("textarea",{placeholder:"Descripcion",id:"desc",onClick:O,onChange:he,suppressContentEditableWarning:!0,contentEditable:!0,type:"desc"}),e.jsx("br",{}),e.jsx("br",{}),l.elements.map((U,J)=>e.jsxs("div",{className:"boxqr",children:[e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"top-left",children:e.jsx("p",{id:J,suppressContentEditableWarning:!0,contentEditable:!0,type:"titlespace",onInput:_e,onClick:Z=>{O(Z)},children:"Escribe titulo..."})}),e.jsxs("div",{className:"top-right",children:[e.jsxs("button",{className:`${(p==null?void 0:p.key)==J&&(p==null?void 0:p.type)=="addqr"?"select":""}`,id:J,type:"addqr",onClick:Z=>{O(Z),n("right")},children:[e.jsx("i",{children:e.jsx(Ee,{})}),"  Seleccionar QR"]}),e.jsx("button",{id:J,onClick:Z=>{ve(J)},children:"Eliminar"})]})]}),e.jsx(gs.Carousel,{showThumbs:!1,showStatus:!1,children:U.qrs.map((Z,ie)=>e.jsxs("div",{className:"qr",children:[e.jsx("button",{className:"delete",onClick:$e=>{V(J,ie)},children:e.jsx(ne,{})}),e.jsx("img",{src:Z.image}),e.jsx("p",{children:Z.title}),e.jsx("br",{})]},ie))}),U.qrs.length==0?e.jsx("div",{className:"add-qr",children:"+"}):""]},J)),e.jsxs("div",{className:"add-new",onClick:H,children:[e.jsx(Ge,{})," Agregar Caja"]}),e.jsx("br",{}),e.jsxs("div",{className:"actions-bottom",children:[e.jsxs("button",{className:v?"await":"",onClick:te,children:[e.jsx(Ge,{})," Guardar ",e.jsx("div",{className:"loading"})]}),e.jsx("br",{}),e.jsxs("button",{onClick:U=>{ee(`/buttonsqr/${j}?install=true`)},children:[e.jsx(L,{icon:"ic:round-install-mobile"})," Instalar"]})]})]})})]})}function _t({Visible:s,Close:i,Callback:n,setType:t,TypeSelect:o}){a.useContext(K);const[r,l]=a.useState(0),[m,h]=a.useState([Le()]),[p,g]=a.useState({type:"",name:""});se();function x(d){d.stopPropagation(),d.preventDefault();let j=R(d.target);j.parents(".options").find(".active").removeClass("active"),j.addClass("active");let f=j.attr("value");g(v=>({...v,type:f}))}function c(d){let j=!1;R(d.target),(r===0&&p.type=="company"||p.type=="personal")&&(j=!0),j&&p.type&&(t(p.type),n(!1))}function u(d){let j=d.target.name,f=d.target.value;g(v=>({...v,[j]:f}))}return a.useEffect(()=>{R(".case.active").removeClass("active"),R(".case").eq(r).addClass("active")},[r]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[r>0?e.jsxs("button",{className:"return",onClick:d=>{l(j=>j-1)},children:[e.jsx(He,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",o?e.jsx("button",{className:"closed",onClick:d=>{n(!1)},children:"X"}):""]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crea tu botonera QR"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de botonera QR que deseas crear"})]}),e.jsxs("div",{className:"options flex",id:`options-${m[0]}`,children:[e.jsxs("div",{className:"selector",onClick:x,value:"personal",children:[e.jsx("div",{className:"check",children:e.jsx(Ne,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Botonera Personal"}),e.jsx("span",{children:"Crea tu botonera y unifica toda tu presencia personal / online de manera sencilla, rápida y gratuita."})]})]}),e.jsxs("div",{className:"selector",onClick:x,value:"company",children:[e.jsx("div",{className:"check",children:e.jsx(Ne,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Botonera Empresarial"}),e.jsx("span",{children:"La botonera empresarial viene con una plantilla predeterminada, donde podras generar multiples QR's y donde puedes crear a tu estilo, fondos y colores."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar Lista"}),e.jsx("span",{className:"desc",children:"Asignale un nombre a tu nueva lista."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de lista"}),e.jsx("input",{type:"text",name:"name",onChange:u,placeholder:"Nombre"})]})})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:"next",onClick:c,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function Ws(){var S;const[s,i]=a.useState({header:{titlegl:"",title:"",desc:"",img:"",background:"",theme:"ligth"},elements:[]}),[n,t]=a.useState({key:"",type:""}),o=de(),[r,l]=a.useState(void 0),[m,h]=a.useState(!1),[p,g]=a.useState(),[x,c]=a.useState(!1),[u,d]=a.useState([]),{UserInfo:j}=a.useContext(K),[f,v]=a.useState({left:!1,right:!1});a.useEffect(()=>{switch(r){case"personal":i({header:{titlegl:"",title:"",desc:"",img:"",background:""},elements:[]});break;case"company":i({header:{titlegl:"",title:"",desc:"",img:"",background:""},elements:[{title:"Business Card",qrs:[]},{title:"Redes Sociales",qrs:[]},{title:"Presentaciones",qrs:[]}]});break}},[r]);function w(b){let y={left:!1,right:!1};switch(b){case"left":y={...y,left:!0};break;case"right":y={...y,right:!0};break}v(y)}function q(b,y){let C=!0;c(!1),me.success("Qr agregado con exito"),i(N=>{const F={...N};if(C){C=!1;const k=[...F.elements[n.key].qrs,{image:y,title:b}];F.elements[n.key].qrs=k}return F})}function _(b){var C;let y=new FormData;y.append("id_company",(C=j==null?void 0:j.company)==null?void 0:C.id_company),b&&y.append("type",b),D.post(E+"/api/get/qrs",y,{withCredentials:!0}).then(N=>N.data).then(N=>{d(N)})}a.useEffect(()=>{_(),o.id||h(!0)},[]),a.useEffect(()=>{w()},[x]);function P(b){var N;b.preventDefault(),b.stopPropagation();let y=Number(b.target.dataset.idqr);d(F=>F.filter(T=>T.id_qr!==y)),me.success("Qr Eliminado");let C=new FormData;C.append("id_company",(N=j==null?void 0:j.company)==null?void 0:N.id_company),C.append("id_qr",y),D.post(E+"/api/delete/qr",C,{withCredentials:!0}).finally(()=>{})}return e.jsxs(e.Fragment,{children:[e.jsxs(le,{visible:x,maxWidth:"450px",callback:c,buttonSave:!1,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Galeria de Qr's"}),e.jsx("span",{children:"Tu galeria de qrs, donde podras seleccionar que qr quieres integrar"})]}),e.jsx("div",{className:"data row flex control-scroll-qrs",children:u.map((b,y)=>e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"qrs",onClick:C=>{q(b==null?void 0:b.title,cs(b.qr_preview))},image:cs(b.qr_preview),title:b.title,children:[e.jsx("img",{src:cs(b.qr_preview),alt:""}),e.jsx("p",{children:b.title}),e.jsx("button",{className:"delete",onClick:P,"data-idqr":b.id_qr,children:e.jsx(L,{icon:"ph:trash-bold"})})]})},y))})]}),e.jsx(_t,{Visible:m,Callback:h,setType:l,TypeSelect:r}),e.jsxs("div",{className:"editor-surveys",children:[e.jsx("button",{className:"fixed-button-right mb",onClick:b=>{w("left")},children:e.jsx(L,{icon:"streamline:paint-palette"})}),e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:`left ${f.left==!0?"active":""}`,children:e.jsx(wt,{VisibleMenu:w,Visible:f.left,editor:n,setEditor:t,buttons:s,setButtons:i})}),e.jsx("div",{className:"center ",style:{background:(S=s==null?void 0:s.header)==null?void 0:S.background},children:e.jsx(St,{setMyQrs:d,addNewQr:q,VisibleMenu:w,type:r,setVisibleQr:c,visibleQr:x,boxType:p,setBoxType:g,editor:n,setEditor:t,buttons:s,setButtons:i})}),e.jsx("div",{className:`right ${f.right==!0?"active":""}`,children:e.jsx("div",{className:"type-editor",children:e.jsx(kt,{VisibleMenu:w,Visible:f.right,getMyQrs:_,addNewQr:q,setVisibleQr:c,visibleQr:x,boxType:p,setBoxType:g,editor:n,setEditor:t,buttons:s,setButtons:i})})})]})]})]})}function Et(){const[s,i]=a.useState(0),n=se(),[t,o]=a.useState({user:null,existsAccount:null,code:null,intent:0}),[r,l]=a.useState(!1);function m(){let c=new FormData;c.append("user",t.user),t.user?(l(!0),D.post(E+"/api/recovery/existsuser",c).then(u=>u.data).then(async u=>{u.status?(await g(),l(!1),i(1),A.success("Tu codigo ha sido enviado al correo electronico")):(A.error("Opps no se ha conseguido este usuario"),l(!1))}).catch(u=>{A.error("Opps error al enviar la peticion."),l(!1)})):A.error("Has dejado el usuario vacido")}function h(){let c=new FormData;c.append("user",t==null?void 0:t.user),c.append("code",t==null?void 0:t.code),D.post(E+"/api/recovery/checkcode",c).then(u=>u.data).then(u=>{u.status?(i(2),A.success("Has ingresado el codigo correctamente")):(o({...t,intent:t.intent+1}),A.error("Error con tu codigo de seguridad"))})}function p(c){let u=c.target.name,d=c.target.value;o({...t,[u]:d})}async function g(){let c=new FormData;c.append("user",t==null?void 0:t.user),l(!0),D.post(E+"/api/recovery/requestcode",c).then(u=>u.data).then(u=>{l(!1),u.status?A.success("Codigo enviado correctamente."):A.error("Opps error al obtener un nuevo codigo, espera un momento...")}).catch(u=>{l(!1)})}function x(){let c=new FormData;c.append("user",t.user),c.append("password",t.password),c.append("password2",t.password2),c.append("code",t.code),t.password&&t.password2?t.password==t.password2?D.post(E+"/api/recovery/changepassword",c).then(u=>u.data).then(u=>{u.status?(A.success("Has cambiado la password correctamente"),n("/")):A.error("Opps error al cambiar la password")}):A.error("Las passwords no coiciden"):A.error("Has dejado campos vacios")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"recovery",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Recupera tu cuenta"}),e.jsx("span",{children:"Recupera tu cuenta con un correo o el nombre de usuario"})]}),e.jsx("br",{}),s==0?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Usuario / email"}),e.jsx("input",{type:"text",name:"user",onChange:p,placeholder:"guest@gmail.com"})]}),e.jsxs("button",{className:`go ${r?"await":""}`,onClick:m,children:["Buscar cuenta... ",e.jsx("div",{className:"loading"})]})]}):"",s==1?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{htmlFor:"",children:["Ingresa el codigo enviado a (",e.jsx("b",{children:t.user}),") "]}),e.jsx("input",{type:"password",name:"code",onChange:p,placeholder:"Codigo",style:{textAlign:"center"}})]}),t.intent?e.jsx(e.Fragment,{children:e.jsxs("button",{className:`transparent ${r?"await":""}`,onClick:g,children:["Pedir nuevo codigo ",e.jsx("div",{className:"loading"})]})}):"",e.jsxs("button",{className:`go ${r?"await":""}`,onClick:h,children:["Confirmar Codigo",e.jsx("div",{className:"loading"})]})]}):"",s==2?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Contraseña Nueva"}),e.jsx("input",{type:"password",name:"password",onChange:p,placeholder:"••••••••"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Repita contraseña nueva"}),e.jsx("input",{type:"password",name:"password2",onChange:p,placeholder:"••••••••"})]}),e.jsxs("button",{className:`go ${r?"await":""}`,onClick:x,children:["Actualizar Contraseña",e.jsx("div",{className:"loading"})]})]}):""]})})}function Ft(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top",children:[e.jsx("ul",{}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"form-search",children:e.jsx("input",{type:"text",placeholder:"Buscar usuario..."})})})]})})}function Dt(){const[s,i]=a.useState([]),{UserInfo:n}=a.useContext(K);function t(o,r){var m;let l=new FormData;l.append("id_company",(m=n==null?void 0:n.company)==null?void 0:m.id_company),D.post(E+"/api/get/contacts",l,{withCredentials:!0}).then(h=>h.data).then(h=>{i(h.result)})}return a.useEffect(()=>{t()},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Contactos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]})}),e.jsx(Ft,{}),e.jsx("div",{className:"box box-padding",children:e.jsx("table",{children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Email"}),e.jsx("td",{children:"Nombre"}),e.jsx("td",{children:"Apellido"}),e.jsx("td",{children:"Dni"}),e.jsx("td",{children:"Numero"}),e.jsx("td",{children:"Sexo"}),e.jsx("td",{children:"Email Verificado"}),e.jsx("td",{children:"Estatus"})]}),s.map((o,r)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("span",{children:o.email?o.email:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:o.name?o.name:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:o.lastname?o.lastname:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:o.dni?o.dni:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:o.phone?o.phone:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:o.sexo?o.name:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:o.email_verified?o.email_Verified:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:o.status?o.status:"No disponible"})})]}))]})})})]})}function Pt(){var l;const s=a.useRef(null);let{UserInfo:i}=a.useContext(K);const[n,t]=a.useState(!1),o=se();a.useEffect(()=>{const m=Wa.init({container:s.current,plugins:[Ha,Ia,Ga,Ja]});return m.Storage.destroy(),m.Panels.addButton("options",{id:"return",label:"Volver",command:async function(){o("/landings")}}),m.Panels.addButton("options",{id:"save-html-button",className:"save-html-button-class",label:"Guardar",command:async function(){const h=m.getHtml(),p=m.getCss(),g=await m.store("export").then(u=>JSON.stringify(u));let x=new FormData,c=R("input[name='name']").val();x.append("id_company",R("#id_company").val()),x.append("html",h),x.append("name",c),x.append("css",p),x.append("json",g),Number(R("#id_edit").val())>=1&&x.append("id",R("#id_edit").val()),c.length?D.post(E+"/api/upload/landing",x,{withCredentials:!0}).then(u=>u.data).then(u=>{u.status&&(A.success("Guardado con exito"),u.id_create&&R("#id_edit").val(u.id_create))}):(A.error("Opps no has elegido un titulo"),t(!0))}}),m.Panels.addButton("options",{id:"gallery",label:"Galeria",command:async function(){}}),()=>{m.destroy()}},[]);function r(){R("input[name='name']").val()?t(!1):A.error("Opps no has asignado un titulo")}return e.jsx(e.Fragment,{children:e.jsxs("body",{theme:"ligth",children:[e.jsxs(le,{visible:n,callback:t,close:t,onClick:r,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Elegir titulo"}),e.jsx("span",{children:"elige un titulo para esta plantilla"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{name:"name",type:"text",placeholder:"Titulo"})})]}),e.jsx("input",{type:"number",id:"id_edit",hidden:!0}),e.jsx("input",{type:"number",id:"id_company",value:(l=i==null?void 0:i.company)==null?void 0:l.id_company,hidden:!0}),e.jsx("div",{ref:s})]})})}function qt(){const[s,i]=a.useState([]),{UserInfo:n}=a.useContext(K),[t,o]=a.useState(!0),r=se();function l(){var h;let m=new FormData;m.append("id_company",(h=n==null?void 0:n.company)==null?void 0:h.id_company),D.post(E+"/api/get/landings",m,{withCredentials:!0}).then(p=>p.data).then(p=>{i(p),o(!1)})}return a.useEffect(()=>{l()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Landings"}),e.jsx("span",{children:"Aqui veras todas tus landings creadas con anterioridad podras editarlas o eliminarlas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:m=>{r("/editor/landings")},children:"Crear nueva landing"})})]}),e.jsx("div",{className:"row",children:t==!1?s.map((m,h)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:"url(/img/icons/default-img.jpg)"},children:e.jsx("div",{className:"right-top",children:e.jsx("button",{onClick:p=>{r(`/landing/${m.token}`)},children:e.jsx(Ae,{})})})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:m==null?void 0:m.name}),e.jsxs("span",{children:["Encuesta agregada el: ",pe(m.time_add)]})]})]})},h)):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(we,{})})})})]})}function Tt(){const s=de();return a.useEffect(()=>{function i(){const n=new FormData;n.append("token",s.id),D.post(E+"/api/get/landing",n).then(t=>t.data).then(t=>{document.documentElement.innerHTML="",document.documentElement.innerHTML=t.html})}i()},[s.id]),null}function Lt(){const s=se(),{UserInfo:i}=a.useContext(K),[n,t]=a.useState([]),[o,r]=a.useState({id_delete:null,pending:!1}),[l,m]=a.useState(!1);function h(){var g;let p=new FormData;p.append("id_company",(g=i==null?void 0:i.company)==null?void 0:g.id_company),D.post(E+"/api/get/buttons",p,{withCredentials:!0}).then(x=>x.data).then(x=>{t(x)})}return a.useEffect(()=>{h()},[]),e.jsxs(e.Fragment,{children:[e.jsx(Re,{visible:l,callback:m,Pending:o.pending}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MIS BOTONERAS URL"}),e.jsx("span",{children:"Previsualiza, edita, elimina y visualiza las estadisticas de tus botoneras de URL."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:p=>{s("/editor/buttons")},children:"Crear nueva botonera"})})]}),e.jsx("div",{className:"row",children:n.map((p,g)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${E}/api/get/previewbuttons?hash=${p.preview}&w=buttons)`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{title:"Editar",onClick:x=>{s("/editor/buttons/"+p.id_buttons)},children:e.jsx(L,{icon:"carbon:edit"})}),e.jsx("button",{title:"Previsualizar",onClick:x=>{s(`/stats/buttons/${p.token}`)},children:e.jsx(L,{icon:"mingcute:eye-line"})}),e.jsx("button",{title:"Estadisticas",onClick:x=>{s(`/buttons/${p.token}`)},children:e.jsx(L,{icon:"ps:stats"})}),e.jsx("button",{title:"Eliminar",onClick:x=>{m(!0)},children:e.jsx(L,{icon:"ph:trash"})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:p==null?void 0:p.title}),e.jsxs("span",{children:["Botonera agregada el: ",pe(p.time_add)]})]})]})},g))})]})}function Rt(){const s=se(),{UserInfo:i}=a.useContext(K),[n,t]=a.useState([]),[o,r]=a.useState(null),[l,m]=a.useState(!1),[h,p]=a.useState(!1),g=se(),[x,c]=a.useState(!1);function u(){var f;let j=new FormData;c(!0),j.append("id_company",(f=i==null?void 0:i.company)==null?void 0:f.id_company),D.post(E+"/api/get/buttonsqr",j,{withCredentials:!0}).then(v=>v.data).then(v=>{t(v),c(!1)}).catch(v=>{c(!1)})}function d(){var j;if(o){m(!0);let f=new FormData;f.append("id_company",(j=i==null?void 0:i.company)==null?void 0:j.id_company),f.append("id_buttonqr",o),D.post(E+"/api/delete/buttonsqr",f,{withCredentials:!0}).then(v=>v.data).then(v=>{v.status&&(p(!1),me.success("Se ha borrado con exito!"),u()),m(!1)}).catch(v=>{m(!1)})}}return a.useEffect(()=>{u()},[]),e.jsxs(e.Fragment,{children:[e.jsx(Re,{visible:h,onClick:d,Pending:l,callback:p}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MIS BOTONERAS QR"}),e.jsx("span",{children:"Previsualiza, edita, elimina y visualiza las estadisticas de tus QR's."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:j=>{s("/editor/buttonsqr")},children:"Crear nueva botoneraQR"})})]}),e.jsx("div",{className:"loading-box",children:x?e.jsx(we,{}):n.length==0?e.jsx(ge,{addNew:!0,name:"botoneras",callback:j=>{g("/editor/buttonsqr")}}):""}),e.jsx("div",{className:"row",children:n.map((j,f)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${E}/api/get/previewbuttons?hash=${j.preview}&w=buttonsqr)`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{title:"editar",onClick:v=>{g("/editor/buttonsqr/"+j.id_buttonsqr)},children:e.jsx(L,{icon:"carbon:edit"})}),e.jsx("button",{title:"previsualizar",onClick:v=>{g(`/buttonsqr/${j.token}`)},children:e.jsx(L,{icon:"mingcute:eye-line"})}),e.jsx("button",{title:"eliminar",onClick:v=>{p(!0),r(j.id_buttonsqr)},children:e.jsx(L,{icon:"ph:trash"})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:j==null?void 0:j.title}),e.jsxs("span",{children:["Botonera agregada el: ",pe(j.time_add)]})]})]})},f))})]})}function Mt(){var c,u,d,j,f,v,w,q,_,P,S,b;let s=de();const[i,n]=a.useState(!1),[t,o]=a.useState({elements:[]}),[r,l]=a.useState(!1),[m,h]=a.useState(null),p=se();function g(){let y=new FormData;y.append("token",s.id),D.post(E+"/api/get/buttonsqr",y).then(C=>C.data).then(C=>{o(C)})}a.useEffect(()=>{g(),ri("install")=="true"&&n(!0)},[]);function x(y){let C=new FormData;y=new URL(y).searchParams.get("url"),C.append("img",y),D.post(E+"/api/get/dataqr",C,{withCredentials:!0}).then(F=>F.data).then(async F=>{if(F.length){let k=F[0];k.data_qr?ji()=="Desktop"?(h(k.data_qr),l(!0)):await navigator.share({title:"Compartir",text:"test",url:k.data_qr}):me.error("Opps este QR no tiene datos para compartir.")}else me.error("Opps error al localizar el qr")})}return a.useEffect(()=>{r||h(null)},[r]),e.jsxs(e.Fragment,{children:[e.jsx(da,{Visible:r,CallbackVisible:l,value:m}),i?e.jsxs(le,{visible:!0,maxWidth:250,next:"Listo",onClick:y=>{n(!1),p("/buttonsqr/"+s.id)},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Instalar"}),e.jsx("span",{children:"instalar acceso directo rapidamente en iphone."}),e.jsx("br",{}),e.jsx("br",{})]}),e.jsx("div",{className:"img-tuto-buttonsqr",children:e.jsxs(gs.Carousel,{showThumbs:!1,children:[e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone1.png",alt:""}),e.jsx("span",{children:"Preciona el boton de compartir en la parte de abajo"})]}),e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone2.png",alt:""}),e.jsx("span",{children:"Luego ve al final con el scroll"})]}),e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone3.png",alt:""}),e.jsx("span",{children:"Agrega a inicio"})]}),e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone4.png",alt:""}),e.jsx("span",{children:"Ahora configura y guarda"})]}),e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone5.png",alt:""}),e.jsx("span",{children:"Listo ya tienes tu acceso directo."})]})]})})]}):"",e.jsx("div",{className:"editor-surveys prodbuttonsqr",children:e.jsxs("div",{className:"center",style:{background:(c=t==null?void 0:t.header)==null?void 0:c.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(u=t==null?void 0:t.header)==null?void 0:u.blur}px)brightness(${(d=t==null?void 0:t.header)==null?void 0:d.brightness})`,background:(j=t==null?void 0:t.header)==null?void 0:j.background2}}),e.jsx("div",{className:"header",style:{background:(f=t==null?void 0:t.header)==null?void 0:f.backgroundHeader}}),e.jsx("div",{className:`${"page buttonsbody buttonsqr "+((v=t==null?void 0:t.header)==null?void 0:v.theme)}`,children:e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",type:"logo",src:(w=t==null?void 0:t.header)!=null&&w.logo?(q=t==null?void 0:t.header)==null?void 0:q.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{type:"title",children:(_=t==null?void 0:t.header)!=null&&_.title?(P=t==null?void 0:t.header)==null?void 0:P.title:""}),e.jsx("span",{type:"desc",children:(S=t==null?void 0:t.header)!=null&&S.desc?(b=t==null?void 0:t.header)==null?void 0:b.desc:""}),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("div",{className:"share",children:[e.jsx("button",{onClick:y=>{p("/")},children:"Home"}),e.jsx("button",{onClick:y=>{l(!0)},children:"Recomendar"}),e.jsx("button",{className:"update",onClick:y=>{window.location.href=window.location.href},children:"Actualizar"})]}),t.elements.map((y,C)=>{var N;return e.jsx(e.Fragment,{children:(N=y==null?void 0:y.qrs)!=null&&N.length?e.jsxs("div",{className:"boxqr",children:[e.jsx("div",{className:"top",children:e.jsx("div",{className:"top-left",children:e.jsx("p",{id:C,type:"titlespace",children:y.title?y.title:""})})}),e.jsx(gs.Carousel,{showThumbs:!1,showIndicators:!1,showStatus:!1,children:y.qrs.map((F,k)=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"qr",children:[e.jsx("p",{style:{textTransform:"uppercase",fontSize:"13px"},children:F.title}),e.jsx("img",{src:F.image})]}),e.jsxs("div",{className:"buttons-qrs",children:[e.jsx("button",{onClick:T=>{x(F.image)},children:"Compartir"}),e.jsx("button",{className:"info",onClick:T=>{alert("Si dejas presionada el QR podras habilitar funciones especiales de tu sistema operativo")},children:e.jsx(L,{icon:"carbon:information-filled"})})]})]}))})]}):""})})]})})]})})]})}function At(){const s=de();a.useState();const{UserInfo:i}=a.useContext(K);function n(){var o;let t=new FormData;t.append("token",s.id),t.append("id_company",(o=i==null?void 0:i.company)==null?void 0:o.id_company),D.post(E+"/api/get/statbuttons",t,{withCredentials:!0})}return a.useEffect(()=>{n()},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Botonera: ",s.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu encuesta"})]})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Estadisticas de enlaces"})}),e.jsx("div",{className:"result countryr"})]})}),e.jsx("div",{className:"col-md-6",children:"lorem"})]})]})}function Ot(){var g,x;const s=de(),[i,n]=a.useState(!1),t=se(),{UserInfo:o}=a.useContext(K),[r,l]=a.useState({total_clicks:0,total_errors:0,total_reads:0,total_sends:0,last_sends:[],last_errors:[]}),[m,h]=a.useState({series:[{name:"Enviados",data:[]},{name:"Clicks",data:[]},{name:"Leidos",data:[]},{name:"Errores",data:[]}],chart:{height:350,type:"area"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{categories:[]},tooltip:{x:{format:"dd/MM/yy HH:mm"}}});function p(){var c;if(i){let u=new FormData;u.append("id_company",(c=o==null?void 0:o.company)==null?void 0:c.id_company),u.append("id_campaign",s.id),u.append("case","campaign"),D.post(E+"/api/get/stats",u,{withCredentials:!0}).then(d=>d.data).then(d=>{let j=d.daysResponse.length;l({...r,total_sends:d.total_sends,total_reads:d.total_reads,total_errors:d.total_errors,total_clicks:d.total_clicks,last_sends:d.last_sends,last_errors:d.last_errors,type_campaign:d.type_campaign}),j&&h(f=>({...f,series:[{...f.series[0],data:f.series[0].data.concat(d.daysResponse.map(v=>v.send))},{...f.series[1],data:f.series[1].data.concat(d.daysResponse.map(v=>v.clicks))},{...f.series[2],data:f.series[2].data.concat(d.daysResponse.map(v=>v.reads))},{...f.series[3],data:f.series[3].data.concat(d.daysResponse.map(v=>v.errors))}],xaxis:{...f.xaxis,categories:d.daysTotal}}))}).catch(d=>{})}}return a.useEffect(()=>{n(!0),i&&p()},[i]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Estadisticas de campaña: ",s==null?void 0:s.id]}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:c=>{t("/campaigns/detail/"+s.id)},children:e.jsx(Ie,{})})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Enviados"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:r.total_sends})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Clicks"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:r.total_clicks})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Leidos"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:r.total_reads})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Errores"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:r.total_errors})})]})})]}),e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Estadisticas Generales"}),e.jsx("span",{children:"ve las estadisticas de forma general y recorre por cada dia y mes"})]}),(x=(g=m==null?void 0:m.series[0])==null?void 0:g.data)!=null&&x.length?e.jsx(Je,{options:m,series:m.series,type:"area",height:300}):""]}),e.jsxs("div",{className:"row ",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Analisis General"}),e.jsx("span",{children:"Analisis generales"})]}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Enviados:"})," ",r.total_sends]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Clicks:"})," ",r.total_clicks]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Leidos:"})," ",r.total_reads]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Errores:"})," ",r.total_errors]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Aceptacion General:"})," ",r.total_sends," %"]})})]}),e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimos Errores"}),e.jsx("span",{children:"Los ultimos errores registrados"})]}),e.jsxs("div",{className:"results",children:[r.last_errors.map((c,u)=>e.jsxs("div",{className:"item flex",children:[e.jsx("div",{children:e.jsx("span",{children:r.type_campaign=="em"?c.email:""})}),e.jsxs("div",{children:[e.jsx("button",{className:"status-send",children:e.jsx(De,{})}),e.jsx("button",{className:`status-send ${c.error?"error":""}`,children:c.error?e.jsxs(e.Fragment,{children:["Error ",e.jsx(Ps,{})]}):e.jsxs(e.Fragment,{children:["Enviado  ",e.jsx(Ne,{})]})})]})]})),r.last_errors.length==0?e.jsx(e.Fragment,{children:e.jsx(ge,{name:"errores"})}):e.jsx("div",{className:"show-all",children:e.jsx("button",{onClick:c=>{t("/campaigns/stats/detail/"+s.id)},children:"Ver detalles completo"})})]})]})]}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimos Enviados"}),e.jsx("span",{children:"Los ultimos envios salientes"})]}),e.jsxs("div",{className:"results",children:[r.last_sends.map((c,u)=>e.jsxs("div",{className:"item flex",children:[e.jsx("div",{children:e.jsx("span",{children:r.type_campaign.indexOf("em")>=0?c.email:r.type_campaign.indexOf("sms")>=0?c.phone:""})}),e.jsx("div",{children:e.jsx("button",{className:`status-send ${c.error?"error":""}`,children:c.error?e.jsxs(e.Fragment,{children:["Error ",e.jsx(Ps,{})]}):e.jsxs(e.Fragment,{children:["Enviado  ",e.jsx(Ne,{})]})})})]})),r.last_sends.length==0?e.jsx(e.Fragment,{children:e.jsx(ge,{name:"errores"})}):e.jsx("div",{className:"show-all",children:e.jsx("button",{onClick:c=>{t("/campaigns/stats/detail/"+s.id)},children:" Ver detalles completo"})})]})]})})]})]})}function $t(){const s=se();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Segmentos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:i=>{s("/contacts/segments/add")},children:"Crear nuevo segmento"})})]})})}function zt(){const[s,i]=a.useState(!1),[n,t]=a.useState([]),[o,r]=a.useState(!1),[l,m]=a.useState(!1),[h,p]=a.useState({domain:null}),{UserInfo:g}=a.useContext(K);function x(){var j;let d=new FormData;d.append("id_company",(j=g==null?void 0:g.company)==null?void 0:j.id_company),t([]),i(!0),r(!0),D.post(E+"/api/get/domains",d,{withCredentials:!0}).then(f=>f.data).then(f=>{t(f),i(!1),r(!1),m(!1)}).catch(f=>{i(!1)})}function c(){var j;let d=new FormData;d.append("domain",h.domain),d.append("id_company",(j=g==null?void 0:g.company)==null?void 0:j.id_company),xi(h.domain)?D.post(E+"/api/upload/domain",d,{withCredentials:!0}).then(f=>f.data).then(f=>{f.status&&x()}):me.error("Opps este dominio no es veridico.")}function u(d){let j=d.target.value,f=d.target.name;p({...h,[f]:j})}return a.useEffect(()=>{x()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(le,{visible:l,Pending:o,callback:m,maxWidth:"450px",onClick:c,next:"Subir",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ingresar dominio"}),e.jsx("span",{children:"integra un nuevo dominio para utilizarlo en los envios de correo, recuerda que durara un tiempo en verificarse el dominio en nuestro servidor."})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Dominio:"}),e.jsx("input",{type:"url",onChange:u,name:"domain",placeholder:"mail.radarsystems.net"})]}),e.jsx("br",{})]},l?"xd":"xd2"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Dominios"}),e.jsx("span",{children:"Esta es tu lista de dominios que puedes utilizar en el envio de correos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:d=>{m(!0)},children:"Subir nuevo dominio"})})]}),e.jsxs("div",{className:"box box-padding",children:[n.map((d,j)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_link.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:d.domain}),e.jsx("p",{className:"desc",children:d.status?"Activo":"En verificacion..."}),e.jsx("span",{className:"desc",children:pe(d.time_add)})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:f=>{},children:e.jsx(De,{})}),e.jsx("button",{onClick:f=>{},children:e.jsx(ne,{})})]})]})),s?e.jsx(we,{}):n.length==0?e.jsx("div",{className:"item",children:e.jsx(ge,{name:"dominios"})}):""]})]})}function Vt(){var j,f,v,w,q,_,P,S;const[s,i]=a.useState({type:void 0,map:{}}),[n,t]=a.useState({}),[o,r]=a.useState(!1),[l,m]=a.useState({name:"",desc:""}),{UserInfo:h}=a.useContext(K);function p(b){let y=b.target.name,C=b.target.value;i({...s,[y]:C})}function g(b){let y=b.target.name,C=b.target.value;switch(b.target.getAttribute("action")){case"add":i(F=>({...F,map:{...F.map,[y]:C}}));break;case"push":i({...s,...s.map,[y]:C});break}}function x(){var y;let b=new FormData;b.append("id_company",(y=h==null?void 0:h.company)==null?void 0:y.id_company),D.post(E+"/api/get/list",b,{withCredentials:!0}).then(C=>C.data).then(C=>{t(N=>(N.lists=C,N))})}function c(b){b.preventDefault(),i(y=>{let C={...y};return C.map.wheres||(C.map.wheres=[]),C.map.wheres.push({[C.map.typeWhereContact]:C.formValue}),C})}function u(){var y;let b=new FormData;b.append("json",JSON.stringify(s)),b.append("id_company",(y=h==null?void 0:h.company)==null?void 0:y.id_company),b.append("name",l.name),b.append("desc",l.desc),D.post(E+"/api/upload/segments",b,{withCredentials:!0}).then(C=>C.data).then(C=>{})}function d(b){let y=b.target.name,C=b.target.value;y&&C&&m({...l,[y]:C})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Segmentos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",children:"Cancelar Creacion"})})]}),e.jsxs("div",{className:"segments-creator",children:[e.jsxs("form",{id:"form-segment",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Nombre"}),e.jsx("input",{type:"text",name:"name",onChange:d,placeholder:"Nombre del segmento"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Descripcion"}),e.jsx("input",{type:"text",name:"desc",onChange:d,placeholder:"Descripcion del segmento"})]}),e.jsxs("div",{className:"inputs",children:[e.jsxs("select",{id:"",name:"type",onChange:p,children:[e.jsx("option",{disabled:!0,selected:!0,children:"Selecciona un tipo"}),e.jsx("option",{value:"lists",children:"Listas"}),e.jsx("option",{value:"campaings",children:"Campañas"}),e.jsx("option",{value:"surveys",children:"Encuestas"})]}),s.type=="lists"?e.jsxs(e.Fragment,{children:[e.jsxs("select",{id:"",name:"type_lists",action:"add",onChange:g,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Selecciona..."}),e.jsx("option",{value:"all",children:"Todas las listas"}),e.jsx("option",{value:"where",children:"Lista Especifica"})]}),e.jsx("i",{children:"="}),(s==null?void 0:s.map.type_lists)=="all"?e.jsx(e.Fragment,{children:e.jsx("option",{value:""})}):((j=s==null?void 0:s.map)==null?void 0:j.type_lists)=="where"?e.jsxs(e.Fragment,{children:[x(),e.jsxs("select",{name:"lists",action:"add",id:"",onChange:g,children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"Selecciona la lista..."}),(f=n==null?void 0:n.lists)==null?void 0:f.map((b,y)=>e.jsx("option",{value:b.id_list,children:b.name}))]}),((v=s==null?void 0:s.map)==null?void 0:v.lists)>=1?e.jsxs("div",{className:"multiple",children:[e.jsxs("div",{className:"",children:[e.jsxs("select",{name:"typeWhereContact",action:"add",onChange:g,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Selecciona una condicion"}),e.jsx("option",{value:"email",children:"Correo"}),e.jsx("option",{value:"name",children:"Nombre"}),e.jsx("option",{value:"lastname",children:"Apellido"}),e.jsx("option",{value:"age",children:"Edad"}),e.jsx("option",{value:"country",children:"Pais"})]}),((w=s==null?void 0:s.map)==null?void 0:w.typeWhereContact)=="email"?e.jsxs("select",{name:"formValue",onChange:p,children:[e.jsx("option",{value:".es",children:".es"}),e.jsx("option",{value:".com",children:".com"}),e.jsx("option",{value:".net",children:".net"}),e.jsx("option",{value:".org",children:".org"}),e.jsx("option",{value:"gmail.com",children:"gmail.com"}),e.jsx("option",{value:"hotmail.com",children:"hotmail.com"}),e.jsx("option",{value:"hotmail.es",children:"hotmail.es"}),e.jsx("option",{value:"outlook.com",children:"outlook.com"}),e.jsx("option",{value:"outlook.es",children:"outlook.es"}),e.jsx("option",{value:"icloud.com",children:"icloud.com"})]}):"",["name","lastname","age","country"].includes((q=s==null?void 0:s.map)==null?void 0:q.typeWhereContact)&&e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",name:"formValue",onChange:p,placeholder:(_=s==null?void 0:s.map)==null?void 0:_.typeWhereContact})}),e.jsx("button",{className:"add-button",onClick:c,children:e.jsx(js,{})})]}),(S=(P=s==null?void 0:s.map)==null?void 0:P.wheres)==null?void 0:S.map((b,y)=>e.jsx("div",{children:Object.entries(b).map(([C,N])=>e.jsxs("div",{className:"where-contact",children:[e.jsxs("p",{children:[C," (Where)"]}),e.jsx("p",{children:N}),e.jsx("button",{children:e.jsx(ne,{})})]},C))},y))]}):""]}):"",["name","lastname","age","country","state"].includes(s==null?void 0:s.type_where_now)&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",placeholder:s==null?void 0:s.type_where_now}),e.jsx("button",{children:e.jsx(js,{})})]})]}):""]})]}),e.jsxs("div",{className:"buttons-right",children:[e.jsx("button",{children:"Cancelar"}),e.jsxs("button",{className:`save ${o?"await":""}`,onClick:u,children:["Guardar ",e.jsx("div",{className:"loading"})]})]})]})]})}function Hs(){se();const{UserInfo:s}=a.useContext(K),[i,n]=a.useState([]),[t,o]=a.useState([]),[r,l]=a.useState([]);a.useState([]),a.useState([]);const[m,h]=a.useState([]),[p,g]=a.useState([]);a.useState({});function x(d){var f;let j=new FormData;j.append("id_company",(f=s==null?void 0:s.company)==null?void 0:f.id_company),j.append("type",d),j.append("limit","5"),D.post(E+"/api/get/campaign",j,{withCredentials:!0}).then(v=>v.data).then(v=>{switch(d){case"sms":n(v.results);break;case"em":o(v.results??[]);break}})}function c(){var j;let d=new FormData;d.append("id_company",(j=s==null?void 0:s.company)==null?void 0:j.id_company),d.append("limit","10"),D.post(E+"/api/get/templatesall",d,{withCredentials:!0}).then(f=>f.data).then(f=>{h(f)})}function u(){var j;let d=new FormData;d.append("id_company",(j=s==null?void 0:s.company)==null?void 0:j.id_company),D.post(E+"/api/get/surveys",d,{withCredentials:!0}).then(f=>f.data).then(f=>{g(f)})}return a.useEffect(()=>{x("em"),x("sms"),c(),u()},[]),e.jsxs(e.Fragment,{children:[e.jsx(le,{visible:!1,children:"STATS"}),e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MI INICIO"}),e.jsx("span",{children:"Bienvenido a RadarSystems aca podras ver todas tus estadisticas y estados de tu cuenta"})]})}),e.jsx("div",{className:"body-stat",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total email marketing enviados"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"1"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total email transaccional enviados"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"12"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total campañas sms marketing"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"13"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total campañas sms transaccional"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"1"})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding hr",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Top's Campañas EMAIL"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]})})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding hr",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Top's Campañas SMS"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]})})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Email Marketing"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Cam."}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Rec."}),e.jsx("td",{children:"Lei."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:"Rep. Spam"}),e.jsx("td",{children:"Opt. Out"}),e.jsx("td",{children:"Opt. Net"}),e.jsx("td",{children:e.jsx(fe,{})})]}),t.map((d,j)=>e.jsxs("tr",{id:j,children:[e.jsxs("td",{children:[e.jsx("span",{children:d.name}),e.jsx("br",{}),pe(d.time_add)]}),e.jsx("td",{children:d.send}),e.jsx("td",{children:d.send}),e.jsx("td",{children:d.returned}),e.jsx("td",{children:d.reads}),e.jsx("td",{children:d.clicks}),e.jsx("td",{children:d.clicks}),e.jsx("td",{children:d.clicks}),e.jsx("td",{children:d.clicks}),e.jsx("td",{children:e.jsx($,{children:e.jsx(fe,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Email Transaccional (MT)"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Cam."}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Rec."}),e.jsx("td",{children:"Lei."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:"Rep. Spam"}),e.jsx("td",{children:"Opt. Out"}),e.jsx("td",{children:"Opt. Net"}),e.jsx("td",{children:e.jsx(fe,{})})]}),t.map((d,j)=>e.jsxs("tr",{id:j,children:[e.jsxs("td",{children:[e.jsx("span",{children:d.name}),e.jsx("br",{}),pe(d.time_add)]}),e.jsx("td",{children:d.send}),e.jsx("td",{children:d.send}),e.jsx("td",{children:d.returned}),e.jsx("td",{children:d.reads}),e.jsx("td",{children:d.clicks}),e.jsx("td",{children:d.clicks}),e.jsx("td",{children:d.clicks}),e.jsx("td",{children:d.clicks}),e.jsx("td",{children:e.jsx($,{children:e.jsx(fe,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Sms Marketing"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Cam."}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Rec."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:e.jsx(fe,{})})]}),t.map((d,j)=>e.jsxs("tr",{id:j,children:[e.jsxs("td",{children:[e.jsx("span",{children:d.name}),e.jsx("br",{}),pe(d.time_add)]}),e.jsx("td",{children:d.send}),e.jsx("td",{children:d.returned}),e.jsx("td",{children:d.reads}),e.jsx("td",{children:d.clicks}),e.jsx("td",{children:e.jsx($,{children:e.jsx(fe,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Sms Transaccional (MT)"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Cam."}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Rec."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:e.jsx(fe,{})})]}),t.map((d,j)=>e.jsxs("tr",{id:j,children:[e.jsxs("td",{children:[e.jsx("span",{children:d.name}),e.jsx("br",{}),pe(d.time_add)]}),e.jsx("td",{children:d.send}),e.jsx("td",{children:d.returned}),e.jsx("td",{children:d.reads}),e.jsx("td",{children:d.clicks}),e.jsx("td",{children:e.jsx($,{children:e.jsx(fe,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Whatsapp Marketing"}),e.jsx("span",{children:"Ve las campanas mas demandadas de whatsapp"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Cam."}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Rec."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:e.jsx(fe,{})})]}),r.map((d,j)=>e.jsxs("tr",{id:j,children:[e.jsxs("td",{children:[e.jsx("span",{children:d.name}),e.jsx("br",{}),pe(d.time_add)]}),e.jsx("td",{children:d.send}),e.jsx("td",{children:d.returned}),e.jsx("td",{children:d.reads}),e.jsx("td",{children:d.clicks}),e.jsx("td",{children:e.jsx($,{children:e.jsx(fe,{})})})]}))]}),r.length==0?e.jsx(ge,{name:"Whatsapp"}):""]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Whatsapp Transaccional (MT)"}),e.jsx("span",{children:"Ve las campanas mas demandadas de whatsapp"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Cam."}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Rec."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:e.jsx(fe,{})})]}),r.map((d,j)=>e.jsxs("tr",{id:j,children:[e.jsxs("td",{children:[e.jsx("span",{children:d.name}),e.jsx("br",{}),pe(d.time_add)]}),e.jsx("td",{children:d.send}),e.jsx("td",{children:d.returned}),e.jsx("td",{children:d.reads}),e.jsx("td",{children:d.clicks}),e.jsx("td",{children:e.jsx($,{children:e.jsx(fe,{})})})]}))]}),r.length==0?e.jsx(ge,{name:"Whatsapp"}):""]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Plantillas Creadas"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsx("div",{className:"result-go",children:m.map((d,j)=>e.jsxs("div",{className:"i",children:[e.jsxs("div",{className:"left",children:[e.jsx("p",{className:"name",children:d.title}),e.jsx("span",{className:"date",children:pe(d.time_add)})]}),e.jsx("div",{className:"right",children:e.jsxs("button",{children:[e.jsx(Ae,{})," Ver "]})})]}))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Encuestas"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsx("div",{className:"result-go",children:p.map((d,j)=>e.jsxs("div",{className:"i",children:[e.jsxs("div",{className:"left",children:[e.jsx("p",{className:"name",children:d.header.title}),e.jsx("span",{className:"date",children:pe(d.time_add)})]}),e.jsx("div",{className:"right",children:e.jsxs("button",{children:[e.jsx(Ae,{})," Ver"]})})]}))})]})})]})})]})}function Bt(){const s=se(),i=de(),n=Oe(),{UserInfo:t}=a.useContext(K);a.useState(null);const[o,r]=a.useState([]),[l,m]=a.useState(!0);function h(p=void 0){var x;let g=new FormData;m(!0),g.append("id_company",(x=t==null?void 0:t.company)==null?void 0:x.id_company),g.append("id_campaign",i.id),p!==void 0&&g.append("type",p),D.post(E+"/api/get/detailsends",g,{withCredentials:!0}).then(c=>c.data).then(c=>{r(c),m(!1)})}return a.useEffect(()=>{h()},[]),a.useEffect(()=>{let p=new URLSearchParams(n.search).get("where");p&&h(p)},[n]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Estadisticas de campaña: ",i==null?void 0:i.id]}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"go-wizard",onClick:p=>{s("/campaigns/stats/"+i.id)},children:e.jsx(Ie,{})}),e.jsx("button",{className:"go-wizard",onClick:p=>{s("/campaigns/stats/"+i.id)},children:"Crear Segmento"}),e.jsx("button",{className:"go-wizard",onClick:p=>{s("/campaigns/stats/"+i.id)},children:"Descargar"})]})]}),e.jsx("div",{className:"menu-top",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:`/campaigns/stats/detail/${i.id}`,children:"General"})}),e.jsx("li",{children:e.jsx($,{to:`/campaigns/stats/detail/${i.id}?where=error`,children:"Errores"})}),e.jsx("li",{children:e.jsx($,{to:`/campaigns/stats/detail/${i.id}?where=clicks`,children:"Clicks"})}),e.jsx("li",{children:e.jsx($,{to:`/campaigns/stats/detail/${i.id}?where=reads`,children:"Leidos"})})]})}),e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Resultados de busqueda"}),e.jsx("span",{children:"Te mostraremos el listado detallado de tus envios"})]}),e.jsx("div",{className:"control-scroll stats-detail",children:e.jsx("div",{className:"row",children:e.jsx(ia,{hasMore:!0,dataLength:10,children:o.map((p,g)=>e.jsx("div",{className:"item flex",children:e.jsx("div",{children:e.jsx("span",{children:p.email})})}))})})})]})]})}function Qt(){const s=se(),[i,n]=a.useState(!1),[t,o]=a.useState([]),{UserInfo:r}=a.useContext(K);function l(){var h;let m=new FormData;m.append("id_company",(h=r==null?void 0:r.company)==null?void 0:h.id_company),D.post(E+"/api/get/templatesall",m,{withCredentials:!0}).then(p=>p.data).then(p=>{o(p)})}return a.useEffect(()=>{l()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"BOLETINES ELECTRONICOS"}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:m=>{s("/editor/canvas")},children:"Crear Nuevo Boletin"})})]}),e.jsx("div",{className:"row",children:i==!1?t.map((m,h)=>{var p;return e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${bs((p=r==null?void 0:r.company)==null?void 0:p.folder_sftp,m.preview_image)})`},children:e.jsx("div",{className:"right-top",children:e.jsx("button",{onClick:g=>{s(`/landing/${m.token}`)},children:e.jsx(Ae,{})})})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:m==null?void 0:m.title}),e.jsxs("span",{children:["Boletin agregado el: ",pe(m.time_add)]})]})]})},h)}):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(we,{})})})})]})}R(document).on("click",".settings-account .case .info button",function(s){s.preventDefault(),s.stopImmediatePropagation();let i=R(this).parents(".case");R(".settings-account .case.active").removeClass("active"),i.addClass("active")});function Wt(){R(".settings-account .case.active").removeClass("active")}function Ht(){const{UserInfo:s}=a.useContext(K),[i,n]=a.useState({}),[t,o]=a.useState(),[r,l]=a.useState({photo:""});function m(g){let x=g.nativeEvent.target.files;if(x.length){let c=x[0];if(c.type.indexOf("image")>=0){n(c);let u=URL.createObjectURL(c);o(u)}}}function h(g){R("input[name='photo']").val(""),o(""),n({})}function p(){var x;let g=new FormData;g.append("file",i),g.append("id_company",(x=s==null?void 0:s.company)==null?void 0:x.id_company),l({photo:"await"}),D.post(E+"/api/upload/newphoto",g,{withCredentials:!0}).then(c=>c.data).then(c=>{c.status&&(R(".header-top .body  img").attr("src",t),Wt(),n({}),me.success("Has cambiado correctamente la foto de perfil")),l({photo:""})}).catch(c=>{l({photo:""})})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"settings-account",children:e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Establece una foto de perfil"}),e.jsx("span",{children:"cambia la foto de perfil y integra una foto con tu logo o algo de tu marca"}),e.jsx("button",{children:"Cambiar"})]}),e.jsx("div",{className:"action",children:e.jsxs("div",{className:"change-photo",children:[e.jsx("div",{className:"photo",style:{background:`url(${t||Cs(s)})`}}),e.jsx("div",{className:"buttons",children:i!=null&&i.name?e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:r.photo,onClick:p,children:["Guardar ",e.jsx("div",{className:"loading"})]}),e.jsx("button",{onClick:h,children:"Cancelar"})]}):e.jsxs("button",{onClick:g=>{R("input[name='photo']").click()},children:["Subir ",e.jsx("i",{children:e.jsx(Xa,{})})," "]})}),e.jsx("input",{type:"file",name:"photo",onChange:m,hidden:!0})]})})]})})})}function It(){const[s,i]=a.useState([]),[n,t]=a.useState({domain:"",domain_email:""}),[o,r]=a.useState(!1),{UserInfo:l}=a.useContext(K),[m,h]=a.useState(!1),[p,g]=a.useState(!1),[x,c]=a.useState(!1),[u,d]=a.useState(null),[j,f]=a.useState(!1),v=se();function w(b){let y=b.target.name,C=b.target.value;t({...n,[y]:C})}function q(){var y;let b=new FormData;r(!0),b.append("domain",n.domain),b.append("domain_email",n.domain_email),b.append("id_company",(y=l==null?void 0:l.company)==null?void 0:y.id_company),D.post(E+"/api/upload/domain",b,{withCredentials:!0}).then(C=>C.data).then(C=>{r(!1),C.status&&(h(!1),me.success("Has subido el dominio con exito"),_()),C.msg&&me.error(C.msg)}).catch(C=>{r(!1)})}function _(){var y;let b=new FormData;r(!0),b.append("id_company",(y=l==null?void 0:l.company)==null?void 0:y.id_company),D.post(E+"/api/get/domains",b,{withCredentials:!0}).then(C=>C.data).then(C=>{i(C)}).finally(C=>{r(!1)})}function P(b){let y=Number(b.target.dataset.value);d(y),c(!0)}function S(){var y;let b=new FormData;f(!0),b.append("id_domain",u),b.append("id_company",(y=l==null?void 0:l.company)==null?void 0:y.id_company),D.post(E+"/api/delete/domain",b,{withCredentials:!0}).then(C=>C.data).then(C=>{C.status&&(me.success("Has borrado el dominio con exito"),_())}).finally(C=>{c(!1),f(!1)})}return a.useEffect(()=>{_()},[]),e.jsxs(e.Fragment,{children:[e.jsx(Re,{onClick:S,Pending:j,visible:x,callback:c}),e.jsxs(le,{visible:m,callback:h,maxWidth:"300px",onClick:q,Pending:o,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Agregar"}),e.jsx("span",{children:"agrega un nuevo dominio, el dominio quedara en verificacion para poder ser utilizado"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Dominio destinatario"}),e.jsx("input",{type:"text",name:"domain",onChange:w,placeholder:"dominio.com"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo del dominio"}),e.jsx("input",{type:"text",name:"domain_email",onChange:w,placeholder:"example@dominio.com"})]})]}),e.jsx(Re,{visible:p,callback:g,onClick:"",Pending:""}),e.jsx("div",{className:"settings-account",children:e.jsxs("div",{className:"case active",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Dominios"}),e.jsx("span",{children:"Estos dominios son los que has configurado para ser manejados en tu campanas de envios email"}),e.jsx("button",{onClick:b=>{h(!0)},children:"Agregar Dominio"})]}),e.jsxs("div",{className:"action",children:[e.jsx("div",{className:"row domains",children:s.map((b,y)=>e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"domain",children:[e.jsxs("p",{children:[e.jsx(Ka,{}),"  ",b.domain]}),e.jsx("span",{children:b.domain_email}),e.jsx("br",{}),e.jsxs("span",{children:["Estatus: ",b.status?e.jsx(Ya,{}):e.jsx(Za,{})]}),e.jsxs("div",{className:"buttons",children:[e.jsx("button",{onClick:C=>{v(`/settings-account/domain/${b.id_domain}`)},children:e.jsx(L,{icon:"icon-park-outline:config"})}),e.jsx("button",{onClick:P,"data-value":b.id_domain,children:e.jsx(ne,{})})]})]})}))}),s.length==0?e.jsx(ge,{name:"dominios"}):""]})]})})]})}function Gt(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading-modal",children:e.jsx("div",{className:"circle"})})})}function Jt(){const s=se(),i=de(),[n,t]=a.useState([]),[o,r]=a.useState(!1),{UserInfo:l}=a.useContext(K),[m,h]=a.useState(),[p,g]=a.useState([]),[x,c]=a.useState({width:"",left:""}),[u,d]=a.useState("gl"),[j,f]=a.useState(!0),[v,w]=a.useState(),[q,_]=a.useState(!1),[P,S]=a.useState({csv:!1,json:!1});function b(){var F;let N=new FormData;N.append("id_list",i.id),N.append("id_company",(F=l==null?void 0:l.company)==null?void 0:F.id_company),D.post(E+"/api/get/logslists",N,{withCredentials:!0}).then(k=>k.data).then(k=>{k.length&&t(k)}).catch(k=>{})}function y(N,F=!1,k=null,T=!1,W=null){var ee;w(!0),F||(f(!1),r(!0),h(N),g([]),k!=="error"&&T!==!0&&(c({width:"70",left:"10"}),d("gl")));let Y=new FormData;Y.append("id_list",i.id),Y.append("id_company",(ee=l==null?void 0:l.company)==null?void 0:ee.id_company),Y.append("detail",N),p.length&&F&&Y.append("last_id",p.slice(-1)[0].id_log),T&&Y.append("download",W),k!==null&&Y.append("type",k),D.post(E+"/api/get/logslists",Y,{withCredentials:!0}).then(z=>z.data).then(z=>{if(T){S({...P,[W]:!0});const O=new Blob([JSON.stringify(z)],{type:T=="json"?"application/json":"text/csv"}),H=URL.createObjectURL(O),V=document.createElement("a");V.href=H,V.setAttribute("download",`upload-${m}-list-${i.id}.json`),document.body.appendChild(V),V.click(),document.body.removeChild(V),setTimeout(()=>{S({...P,[W]:!1})},1e3)}f(!0),w(!1),g(F===!1?z:O=>[...O,...z])}).catch(z=>{w(!1)})}a.useEffect(()=>{b()},[]),a.useEffect(()=>{o&&(u=="error"&&y(m,!1,"error"),u=="gl"&&y(m,!1),u=="dw"?_(!0):_(!1))},[u]);function C(N){let F=N.target.value;d(F),c(k=>({...k,width:N.target.offsetWidth,left:N.target.offsetLeft}))}return e.jsxs(e.Fragment,{children:[e.jsxs(le,{visible:o,callback:r,maxWidth:"500px",minWidth:"500px",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Detalles"}),e.jsxs("span",{children:["detalles de la subida: ",m]})]}),e.jsx("div",{className:"menu-change",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("button",{className:`${u=="gl"?"active":""}`,onClick:C,value:"gl",style:{fontSize:"13px"},children:"Global"})}),e.jsx("li",{children:e.jsx("button",{className:`${u=="error"?"active":""}`,onClick:C,value:"error",style:{fontSize:"13px"},children:"Errores"})}),e.jsx("li",{children:e.jsx("button",{className:`${u=="dw"?"active":""}`,onClick:C,value:"dw",style:{fontSize:"13px"},children:"Descargar"})}),e.jsx("div",{className:"hover",style:{left:x.left+"px",width:x.width+"px"}})]})}),q?e.jsx(e.Fragment,{children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descargar logs"}),e.jsxs("span",{children:["Puedes descargar los logs de esta subida ",m," mediante un archivo csv / json"]}),e.jsxs("div",{className:"actions-item complete",children:[e.jsxs("button",{className:`download ${P.csv?"await":""}`,onClick:N=>{y(m,!1,null,!0,"json")},children:["Descargar CSV ",e.jsx("div",{className:"loading"})]}),e.jsxs("button",{className:`download ${P.json?"await":""}`,onClick:N=>{y(m,!1,null,!0,"json")},children:["Descargar JSON ",e.jsx("div",{className:"loading"})]})]})]})})})})}):e.jsx("div",{className:"data",children:e.jsx(ia,{scrollableTarget:"scrollableDiv",hasMore:j,next:()=>{y(m,!0)},dataLength:p.length,children:e.jsx("div",{className:"control-scroll lists-detail",id:"scrollableDiv",children:e.jsxs("div",{className:"row",children:[p==null?void 0:p.map((N,F)=>e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"item box box-padding",children:e.jsxs("div",{className:"top",children:[e.jsxs("span",{children:["Correo: ",N.email?N.email:"No aplica"]}),e.jsx("br",{}),e.jsxs("span",{children:["Telefono: ",N.phone?N.phone:"No aplica"]}),e.jsx("br",{}),e.jsxs("span",{children:["Calidad de subida: ",N.error?"error":"success"]})]})})})),v?e.jsx(Gt,{}):"",(p==null?void 0:p.length)===0&&v===!1?e.jsx(ge,{name:u=="gl"?"registros":"errores"}):""]})})})})]},o?"Xd":"x"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Logs de lista: ",i.id]}),e.jsx("span",{children:"Ve los detalle de tus listas y ve si estan listas para ser utilizadas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:N=>{s("/contacts/detail/"+i.id)},children:e.jsx(Ie,{})})})]}),e.jsx("div",{className:"row",children:n.map((N,F)=>e.jsx("div",{className:"col-md-4  page-lists",children:e.jsx("div",{className:"box box-padding ",children:e.jsxs("div",{className:"item flex-wrap",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/upload_arrow2.webp",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:["Subida: ",e.jsx("b",{children:N.id_upload})]}),e.jsxs("span",{className:"desc",children:["Fecha: ",pe(N.time_add,"full")]}),e.jsx("br",{}),e.jsxs("span",{className:"desc",children:["Fecha de finalización: ",pe(N.time_finish,"full")]}),e.jsx("br",{}),e.jsxs("span",{className:"desc",children:["Contactos Subidos: 1",N==null?void 0:N.contacts_total]}),e.jsx("br",{}),e.jsx("span",{className:"desc",children:"Calidad de subida:"}),N!=null&&N.insert?e.jsxs("span",{className:"quality-upload good",children:[e.jsx(Ee,{})," Muy Buena"]}):N!=null&&N.error?e.jsxs("span",{className:"quality-upload error",children:[" ",e.jsx(Ua,{})," Regular / Mala"]}):e.jsxs("span",{className:"quality-upload await",children:[" ",e.jsx(ds,{})," En espera... "]})]})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{onClick:k=>{y(N.id_upload)},children:e.jsx(De,{})})})]})})},F))})]})}function Xt(){return e.jsx("div",{className:"iphone",style:{background:"url(img/devices/iphone.png)"},children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"hour",children:e.jsx("span",{children:"12:45"})}),e.jsxs("div",{className:"battery",children:[e.jsxs("span",{className:"signal",children:[e.jsx("i",{children:e.jsx(L,{icon:"oi:signal"})}),e.jsx("span",{children:"LTE"})]}),e.jsx("i",{className:"battery",children:e.jsx(L,{icon:"ph:battery-high-fill"})})]}),e.jsx("div",{className:"content",children:e.jsx("div",{class:"editor-surveys prodbuttonsqr"})})]})})}function Kt(){return se(),a.useEffect(()=>{D.get(E+"/api/get/logout",{withCredentials:!0}).then(s=>s.json).then(s=>{ls("token","",!0),ls("company","",!0),window.location.href="/"}).catch(s=>{ls("token","",!0),ls("company","",!0),window.location.href="/"})},[]),e.jsx(e.Fragment,{})}function Ve({value:s,Transparent:i=!1}){function n(t){let o=t.target.dataset.value;o&&(navigator.clipboard?navigator.clipboard.writeText(o).then(()=>{A.success("Has copiado correctamente")}).catch(r=>{A.error("Error al copiar el texto")}):A.error("Error Al copiar"))}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"input-config",style:{background:i?"transparent":""},children:[e.jsx("span",{children:s}),e.jsx("button",{onClick:n,"data-value":s,children:e.jsx(L,{icon:"material-symbols:copy-all-outline"})})]})})}function Yt(){const s=de(),{UserInfo:i}=a.useContext(K),[n,t]=a.useState({}),[o,r]=a.useState(!1),[l,m]=a.useState(!1),[h,p]=a.useState(!0);function g(){var u;m(!0);let c=new FormData;c.append("id_company",(u=i==null?void 0:i.company)==null?void 0:u.id_company),c.append("id_domain",s.id),D.post(E+"/api/get/domaindns",c,{withCredentials:!0}).then(d=>d.data).then(d=>{m(!1),t(j=>{let f={...j};return f.spf=d.spf,f.dmarc=d.dmarc,f.dkim=d.dkim,f}),d.spf&&d.dkim&&d.dmarc?(r(!0),A.success("Tu dominio se ha verificado completamente")):A.info("test")})}function x(){var u;p(!0);let c=new FormData;c.append("id_company",(u=i==null?void 0:i.company)==null?void 0:u.id_company),c.append("id_domain",s.id),D.post(E+"/api/get/domain",c,{withCredentials:!0}).then(d=>d.data).then(d=>{p(!1),t(d),d.spf&&d.cname&&d.dkim&&d.mx?r(!0):r(!1)}).catch(d=>{p(!1),console.log(d)})}return a.useEffect(()=>{x()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsx("div",{className:"",children:e.jsxs("p",{className:"title",children:["Dominio: ",s.id]})}),e.jsx("div",{className:"right",children:e.jsxs("button",{onClick:g,className:`go-wizard ${l?"await":null}`,children:[e.jsx(L,{icon:"material-symbols-light:pending-actions-rounded"})," Verificar Dominio ",e.jsx("div",{className:"loading"})]})})]}),h?e.jsx("div",{className:"loading-box",children:e.jsx(we,{})}):e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding stat domain",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Registros de Envio"}),e.jsx("span",{children:"Se requieren registros TXT (conocidos como SPF y DKIM) para enviar y recibir correo electrónico con Radarsystems."})]}),e.jsxs("div",{className:"space-config",children:[e.jsx("p",{className:"title",children:"SPF"}),e.jsx("span",{className:"register-type",children:"Tipo: TXT"}),e.jsxs("table",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Status"}),e.jsx("td",{children:"Hostname"}),e.jsx("td",{children:"Valor"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:n!=null&&n.spf?e.jsx("span",{className:"success",children:"Verificado"}):e.jsx("span",{className:"error",children:"Pendiente"})}),e.jsx("td",{children:e.jsx(Ve,{Transparent:!0,value:n.domain})}),e.jsx("td",{children:e.jsx(Ve,{value:"v=spf1 include:_spf.radarmailer1.me ~all"})})]})]})]}),e.jsxs("div",{className:"space-config",children:[e.jsx("p",{className:"title",children:"DKIM"}),e.jsx("span",{className:"register-type",children:"Tipo: CNAME"}),e.jsxs("table",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Status"}),e.jsx("td",{children:"Hostname"}),e.jsx("td",{children:"Valor"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:n!=null&&n.dkim?e.jsx("span",{className:"success",children:"Verificado"}):e.jsx("span",{className:"error",children:"Pendiente"})}),e.jsx("td",{children:e.jsx(Ve,{Transparent:!0,value:"radar._domainkey."+n.domain})}),e.jsx("td",{children:e.jsx(Ve,{value:"dkim.email.radarmailer1.me"})})]})]})]})]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding stat domain",children:[e.jsxs("div",{className:"space-config",children:[e.jsx("p",{className:"title",children:"DMARC"}),e.jsx("span",{className:"register-type",children:"Tipo: TXT"}),e.jsxs("table",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Status"}),e.jsx("td",{children:"Hostname"}),e.jsx("td",{children:"Valor"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:n!=null&&n.dmarc?e.jsx("span",{className:"success",children:"Verificado"}):e.jsx("span",{className:"error",children:"Pendiente"})}),e.jsx("td",{children:e.jsx(Ve,{Transparent:!0,value:"_dmarc"})}),e.jsx("td",{children:e.jsx(Ve,{value:`v=DMARC1; p=quarantine; sp=quarantine; rua=mailto:postmarter@${n.domain}; Ruf=mailto:postmaster@${n.domain}; pct=100; adkim=r; fo=1; ri=43200`})})]})]})]}),e.jsxs("div",{className:"space-config",children:[e.jsx("p",{className:"title",children:"DMARC"}),e.jsx("span",{className:"register-type",children:"Tipo: CNAME"}),e.jsxs("table",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Status"}),e.jsx("td",{children:"Hostname"}),e.jsx("td",{children:"Valor"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:n!=null&&n.dmarc?e.jsx("span",{className:"success",children:"Verificado"}):e.jsx("span",{className:"error",children:"Pendiente"})}),e.jsx("td",{children:e.jsx(Ve,{Transparent:!0,value:`radar.${n.domain}`})}),e.jsx("td",{children:e.jsx(Ve,{value:"bounce.email.radarmailer1.me"})})]})]})]})]})})]})]})}function Zt({data:s}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"box box-padding plans",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:String(s.name).replace(/\s/g,`
`)}),e.jsx("span",{children:s.desc_text})]}),e.jsxs("div",{className:"price",children:[s.before_price&&e.jsx("div",{className:"before-price",children:e.jsxs("span",{children:["$",Number(s.before_price).toFixed(2)]})}),e.jsxs("div",{className:"fix",children:[e.jsx("span",{className:"symbol",children:"$"}),e.jsx("span",{className:"price-number",children:Number(s.price).toFixed(2)}),e.jsx("span",{className:"time",children:"/ Month"})]})]}),e.jsx("button",{className:"start",children:"Comenzar Ahora!"}),e.jsxs("div",{className:"offers",children:[e.jsx("p",{children:"El plan incluye:"}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"IA (Inteligencia Artificial)"})]}),e.jsxs("div",{className:"include",children:[e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}),e.jsxs("span",{className:"title",children:["Envios de Correos (",ps(Number(s.email_quantity)),")"]})]}),e.jsxs("div",{className:"include",children:[e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}),e.jsxs("span",{className:"title",children:["Envios de Sms (",ps(Number(s.sms_quantity)),") "]})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Marketing Automatizado "})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Programacion de Campaña"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"WorkFlow"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Encuestas"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Encuestas Avanzadas"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Formularios"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Modulo de Citas"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Pasarelas de Pagos"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"BlackList"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Verificacion Datos"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Informe Metricas"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Segmentacion "})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Plantillas"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Segmentacion Premium"})]}),e.jsxs("div",{className:"include",children:[s.landing_page?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Paginas / Ecommerce "})]}),e.jsxs("div",{className:"include",children:[s.auto_response?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Auto Responder"})]}),e.jsxs("div",{className:"include",children:[s.stats_shortlink?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Acortador de Enlaces"})]}),e.jsxs("div",{className:"include",children:[s.stats_shortlink?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Estadisticas Enlaces"})]}),e.jsxs("div",{className:"include",children:[s.personalize_shortlink?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Personalizar Enlaces"})]}),e.jsxs("div",{className:"include",children:[s.buttons_qr?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Botonera QR"})]}),e.jsxs("div",{className:"include",children:[s.buttons_url?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Botonera Enlaces"})]}),e.jsxs("div",{className:"include",children:[s.gallery_qr?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Galeria QR"})]}),e.jsxs("div",{className:"include",children:[e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}),e.jsx("b",{children:e.jsxs("span",{className:"title",children:["Contactos (",ps(s.contacts_quantity),")"]})})]}),e.jsxs("div",{className:"include",children:[e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}),e.jsxs("span",{className:"title",children:["Verificador Correos (",s.verified_emails,")"]})]})]})]})})}function Ut(){const{UserInfo:s}=a.useContext(K),[i,n]=a.useState([]);a.useState(!1);function t(){var r;let o=new FormData;o.append("id_company",(r=s==null?void 0:s.company)==null?void 0:r.id_company),D.post(E+"/api/get/plans",o,{withCredentials:!0}).then(l=>l.data).then(l=>{n(l)})}return a.useEffect(()=>{t()},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Planes"}),e.jsx("span",{children:"Observa todos los planes disponibles para disfrutar de nuestros servicios"})]})}),e.jsx(os,{}),e.jsx("div",{className:"row",children:i.map((o,r)=>e.jsx("div",{className:"col-md-3",children:e.jsx(Zt,{data:o})},r))})]})}function en(){const{LoadingAuth:s}=a.useContext(K);return e.jsxs(e.Fragment,{children:[e.jsx(ei,{}),s?e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:["Cargando... ",e.jsx("div",{className:"loading"})]})]})})}):e.jsx(e.Fragment,{}),e.jsx(si,{children:e.jsxs(ai,{children:[e.jsx(B,{path:"/",element:e.jsx(vi,{})}),e.jsx(B,{path:"/register",element:e.jsx(fi,{})}),e.jsx(B,{path:"/wizard",element:e.jsx(Mi,{})}),e.jsx(B,{path:"/settings-account/account",element:e.jsx(X,{CompanyNeed:!0,Element:Ht})}),e.jsx(B,{path:"/settings-account/security",element:e.jsx(X,{CompanyNeed:!0,Element:ze})}),e.jsx(B,{path:"/settings-account/footer",element:e.jsx(X,{CompanyNeed:!0,Element:ze})}),e.jsx(B,{path:"/settings-account/domains",element:e.jsx(X,{CompanyNeed:!0,Element:It})}),e.jsx(B,{path:"/settings-account/domain/:id",element:e.jsx(X,{CompanyNeed:!0,Element:Yt})}),e.jsx(B,{path:"/",element:e.jsx(X,{CompanyNeed:!0,Element:Hs})}),e.jsx(B,{path:"/home",element:e.jsx(X,{CompanyNeed:!0,Element:Hs})}),e.jsx(B,{path:"/campaigns",element:e.jsx(X,{CompanyNeed:!0,Element:ze})}),e.jsx(B,{path:"/campaigns/em",element:e.jsx(X,{CompanyNeed:!0,Element:ze})}),e.jsx(B,{path:"/campaigns/sms",element:e.jsx(X,{CompanyNeed:!0,Element:ze})}),e.jsx(B,{path:"/campaigns/sms-mt",element:e.jsx(X,{CompanyNeed:!0,Element:ze})}),e.jsx(B,{path:"/campaigns/em-mt",element:e.jsx(X,{CompanyNeed:!0,Element:ze})}),e.jsx(B,{path:"/campaigns/new",element:e.jsx(X,{CompanyNeed:!0,Element:ze})}),e.jsx(B,{path:"/campaigns/stats/:id",element:e.jsx(X,{CompanyNeed:!0,Element:Ot})}),e.jsx(B,{path:"/campaigns/stats/detail/:id",element:e.jsx(X,{CompanyNeed:!0,Element:Bt})}),e.jsx(B,{path:"/campaigns/detail/:id",element:e.jsx(X,{CompanyNeed:!0,Element:Hi})}),e.jsx(B,{path:"/companys",element:e.jsx(X,{CompanyNeed:!1,Element:Ls})}),e.jsx(B,{path:"/companys/add",element:e.jsx(X,{CompanyNeed:!1,Element:Ls})}),e.jsx(B,{path:"/companys/roles",element:e.jsx(X,{CompanyNeed:!0,Element:Vi})}),e.jsx(B,{path:"/companys/users",element:e.jsx(X,{CompanyNeed:!0,Element:Bi})}),e.jsx(B,{path:"/companys/plans",element:e.jsx(X,{CompanyNeed:!0,Element:Ut})}),e.jsx(B,{path:"/contacts/lists",element:e.jsx(X,{CompanyNeed:!0,Element:xs})}),e.jsx(B,{path:"/contacts/lists/add",element:e.jsx(X,{CompanyNeed:!0,Element:xs})}),e.jsx(B,{path:"/contacts/lists/logs/:id",element:e.jsx(X,{CompanyNeed:!0,Element:Jt})}),e.jsx(B,{path:"/contacts/lists/:type",element:e.jsx(X,{CompanyNeed:!0,Element:xs})}),e.jsx(B,{path:"/contacts/detail/:id",element:e.jsx(X,{CompanyNeed:!0,Element:Ki})}),e.jsx(B,{path:"/contacts/upload/:id",element:e.jsx(X,{CompanyNeed:!0,Element:Ui})}),e.jsx(B,{path:"/contacts/segments",element:e.jsx(X,{CompanyNeed:!0,Element:$t})}),e.jsx(B,{path:"/contacts/segments/add",element:e.jsx(X,{CompanyNeed:!0,Element:Vt})}),e.jsx(B,{path:"/contacts",element:e.jsx(X,{CompanyNeed:!0,Element:Dt})}),e.jsx(B,{path:"/editor/canvas/:id",element:e.jsx(X,{CompanyNeed:!0,Element:As})}),e.jsx(B,{path:"/editor/canvas/",element:e.jsx(X,{CompanyNeed:!0,Element:As})}),e.jsx(B,{path:"/surveys",element:e.jsx(X,{CompanyNeed:!0,Element:et})}),e.jsx(B,{path:"/surveys/editor",element:e.jsx(X,{CompanyNeed:!0,Element:Os})}),e.jsx(B,{path:"/surveys/editor/:idsurvey",element:e.jsx(X,{CompanyNeed:!0,Element:Os})}),e.jsx(B,{path:"/stats/survey/:id",element:e.jsx(X,{CompanyNeed:!0,Element:dt})}),e.jsx(B,{path:"/stats/survey/:id/detail",element:e.jsx(X,{CompanyNeed:!0,Element:ot})}),e.jsx(B,{path:"/stats/survey/:id/response",element:e.jsx(X,{CompanyNeed:!0,Element:mt})}),e.jsx(B,{path:"/surveys/preview",element:e.jsx($s,{})}),e.jsx(B,{path:"/surveys/preview/:id",element:e.jsx($s,{})}),e.jsx(B,{path:"/survey/:id",element:e.jsx(rt,{})}),e.jsx(B,{path:"/shorturls",element:e.jsx(X,{CompanyNeed:!0,Element:zs})}),e.jsx(B,{path:"/shorturls/add",element:e.jsx(X,{CompanyNeed:!0,Element:zs})}),e.jsx(B,{path:"/shorturls/:id",element:e.jsx(X,{CompanyNeed:!0,Element:pt})}),e.jsx(B,{path:"/shorturls/campaigns",element:e.jsx(X,{CompanyNeed:!0,Element:Vs})}),e.jsx(B,{path:"/shorturls/campaigns/add",element:e.jsx(X,{CompanyNeed:!0,Element:Vs})}),e.jsx(B,{path:"/shorturls/campaigns/:id",element:e.jsx(X,{CompanyNeed:!0,Element:ht})}),e.jsx(B,{path:"/qr",element:e.jsx(X,{CompanyNeed:!0,Element:us})}),e.jsx(B,{path:"/qr/add",element:e.jsx(X,{CompanyNeed:!0,Element:us})}),e.jsx(B,{path:"/qr/import",element:e.jsx(X,{CompanyNeed:!0,Element:us})}),e.jsx(B,{path:"/domains",element:e.jsx(X,{CompanyNeed:!0,Element:zt})}),e.jsx(B,{path:"/editor/buttons",element:e.jsx(X,{CompanyNeed:!0,Element:Bs})}),e.jsx(B,{path:"/editor/buttons/:id",element:e.jsx(X,{CompanyNeed:!0,Element:Bs})}),e.jsx(B,{path:"/buttons/:id",element:e.jsx(Ct,{})}),e.jsx(B,{path:"/buttons",element:e.jsx(X,{CompanyNeed:!0,Element:Lt})}),e.jsx(B,{path:"/stats/buttons/:id",element:e.jsx(X,{CompanyNeed:!0,Element:At})}),e.jsx(B,{path:"/editor/buttonsqr",element:e.jsx(X,{CompanyNeed:!0,Element:Ws})}),e.jsx(B,{path:"/editor/buttonsqr/:id",element:e.jsx(X,{CompanyNeed:!0,Element:Ws})}),e.jsx(B,{path:"/buttonsqr",element:e.jsx(X,{CompanyNeed:!0,Element:Rt})}),e.jsx(B,{path:"/buttonsqr/:id",element:e.jsx(Mt,{})}),e.jsx(B,{path:"/test",element:e.jsx(ks,{Visible:!0})}),e.jsx(B,{path:"/testiphone",element:e.jsx(Xt,{})}),e.jsx(B,{path:"/recovery",element:e.jsx(Et,{})}),e.jsx(B,{path:"/editor/landings",element:e.jsx(Pt,{})}),e.jsx(B,{path:"/landings",element:e.jsx(X,{CompanyNeed:!0,Element:qt})}),e.jsx(B,{path:"/landing/:id",element:e.jsx(Tt,{})}),e.jsx(B,{path:"/templates",element:e.jsx(X,{CompanyNeed:!0,Element:Qt})}),e.jsx(B,{path:"/logout",element:e.jsx(Kt,{})})]})})]})}const sn=a.createContext(),an=s=>{const[i,n]=a.useState({});return e.jsx(sn.Provider,{value:{App:i,setApp:n},...s})},tn=a.createContext();function nn(s){const[i,n]=a.useState();return a.useEffect(()=>{document.title=i},[i]),a.useEffect(()=>{n("Radarsystems - App")},[]),e.jsx(tn.Provider,{value:{setTitle:n},...s})}ii.createRoot(document.getElementById("root")).render(e.jsx(ti.StrictMode,{children:e.jsx(gi,{children:e.jsx(Ni,{children:e.jsx(an,{children:e.jsx(nn,{children:e.jsx(en,{})})})})})}));
