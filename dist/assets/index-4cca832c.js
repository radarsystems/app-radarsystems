import{a as q,$ as R,r as a,j as e,u as Z,L as $,n as A,I as ls,b as ia,c as ms,d as na,e as ae,f as we,g as ze,h as Ce,_ as de,i as la,k as ra,M as ue,V as ca,l as rs,m as Ye,o as Y,p as da,q as ge,s as oa,t as bs,v as ma,w as pa,x as ha,y as ua,z as Me,A as ve,B as ke,C as xa,D as us,E as ja,F as ga,G as Ke,H as Ve,J as va,K as Re,N as fa,O as Na,P as le,Q as $e,R as Le,S as Cs,T as ya,U as ba,W as Ca,X as zs,Y as wa,Z as ka,a0 as Sa,a1 as _a,a2 as Ea,a3 as Fa,a4 as xs,a5 as Da,a6 as qa,a7 as Pa,a8 as Ta,a9 as Be,aa as Qe,ab as js,ac as La,ad as Vs,ae as Bs,af as Qs,ag as Ws,ah as Hs,ai as Is,aj as Gs,ak as Js,al as Xs,am as Ks,an as Ra,ao as ws,ap as Ma,aq as ps,ar as Aa,as as Oa,at as $a,au as za,av as Va,aw as ks,ax as Ys,ay as Ba,az as Qa,aA as Wa,aB as Ha,aC as Ia,aD as Ga,aE as Ja,aF as Xa,aG as B,aH as Ka,aI as Ya}from"./vendor-f017b737.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(r){if(r.ep)return;r.ep=!0;const c=n(r);fetch(r.href,c)}})();const D="https://api.radarsystems.net",ns="https://rar.bio";function Za(s){let t;switch(s){case"sms":t="sms";break;case"em":case"em-mt":t="em";break}return t}async function Ua(s){return await q.get(D+"/api/get/company?id_company="+s,{withCredentials:!0}).then(n=>n.data)}async function et(){return await q.post(D+"/api/get/companys",{},{withCredentials:!0}).then(s=>s.data)}function De(s){return window.location.pathname.includes(s)}function hs(s){let t=document.cookie;t=t.split(";");let n;return t.forEach((i,r)=>{i.indexOf(`${s}=`)>=0&&(n=i.replace(`${s}=`,""))}),n}function st(s){const t=new URLSearchParams(window.location.search);return t.has(s)?t.get(s):null}function ts(s,t,n=!1){var i=new Date;n?i.setTime(i.getTime()-1):i.setDate(i.getDate()+10);var r=s+"="+encodeURIComponent(t)+"; expires="+i.toUTCString()+"; path=/";document.cookie=r}function cs(s){R(s).addClass("await")}function Fe(s){R(s).removeClass("await")}function qe(s=15){return Math.random().toString(36).substring(2,s+2)}function at(s){let t=!1;return s.type.indexOf("image")>=0&&(t=!0),t}function tt(s,t){return new Promise((n,i)=>{try{let r=s.target.files[0],c={file:"",analize:""},l=new FileReader;l.onload=async function(p){let u=!0,o=p.currentTarget.result.split(`
`),d=o[0].split(","),h=!1;h=["email"].every(g=>d.includes(g)),h?await(async()=>{for(var m=1;m<o.length;m++){let j=o[m].split(",");if(j.length!==d.length){u=!1;break}if(o[m].trim()===""||j.some(f=>f.trim()==="")){u=!1;break}let v=(m+1)/o.length*100;v%5===0&&await new Promise(f=>setTimeout(()=>{t(v),f()},0))}c.analize="good",c.file=r,n(c)})():(c.analize="good",c.file=r,n(c))},l.readAsText(r)}catch{response.analize="bad",i(response)}})}function gs(s,t){return`${D}/api/get/imgtemplate?img=${t}&folder=${s}`}function oe(s,t=void 0){const n=new Date(s*1e3),i=n.getDate(),r=n.getMonth()+1,c=n.getFullYear(),l=n.getHours(),p=n.getMinutes();switch(t){case"full":var u=`${i}/${r}/${c} ${l}:${p}`;break;default:var u=`${i}/${r}/${c}`;break}return u}function Zs(s){return s?s=String(s).toLowerCase():s="undefined",s=="undefined"?window.location.origin+"/img/icons/countrys/"+s+".png":window.location.origin+"/img/icons/countrys/"+s+".svg"}function Us(s){let t;switch(s&&(s=String(s).toLocaleLowerCase()),s){case"ve":t="Venezuela";break;case"ca":t="Canada";break;default:t="Undefined";break}return t}function it(s){return s!==void 0&&(s=String(s).toLowerCase()),(s.indexOf("mac")>=0||s.indexOf("apple")>=0)&&(s="apple"),s.indexOf("windows")>=0&&(s="windows"),s.indexOf("linux")>=0&&(s="linux"),s.indexOf("android")>=0&&(s="android"),s!=="windows"&&s!=="apple"&&s!=="android"&&s!=="linux"&&(s="undefined"),"/img/icons/systems/"+s+".png"}function nt(s){return"/img/icons/apps/"+s+".png"}function is(s){return D+"/api/get/previewqr?url="+s}function lt(s){return{fb:"Facebook",in:"Instagram",x:"X (Twitter)",email:"Correo",sms:"Sms",tik:"Tiktok",linkd:"Linkedin",yt:"Youtube",tele:"Telegram",ws:"Whatsapp",others:"Otros"}[s]||""}function rt(s){return!!/^[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(s)}function vs(s){var n,i;let t;return(n=s==null?void 0:s.company)!=null&&n.photo?t=D+"/api/get/photoprofile?hash="+((i=s==null?void 0:s.company)==null?void 0:i.photo):t="img/icons/default_profile.png",t}function Ss(s){return s>=1&&s<=9?"0"+s:s.toString()}function ct(s,t){return s.length>t?s.substring(0,t)+"...":s}function dt(){const s=navigator.userAgent;return s.match(/Android/i)?"Android":s.match(/iPhone|iPad|iPod/i)?"iPhone":"Desktop"}const X=a.createContext(),ot=s=>{const[t,n]=a.useState({}),[i,r]=a.useState(!1),[c,l]=a.useState(!0);return a.useEffect(()=>{function p(u){if(u){let o=new FormData;o.append("id_company",u),q.post(D+"/api/get/company",o,{withCredentials:!0}).then(d=>d.data).then(d=>{n(h=>{let x={...h};return x.company=d,x})})}else window.location.href="/companys"}(async function(){hs("token");let u=window.location.pathname,o=hs("company");await q.get(D+"/api/get/my",{withCredentials:!0}).then(d=>d.data).then(d=>{d.id_admin?(r(!0),n(d),p(o??(d==null?void 0:d.company_default)??null),l(!1)):(u!=="/"&&u!=="/auth"&&!u.startsWith("/buttonsqr/")&&(window.location.href="/"),setTimeout(()=>{l(!1)},500))})})()},[]),e.jsx(X.Provider,{value:{UserInfo:t,setUserInfo:n,Auth:i,LoadingAuth:c},...s})};function mt(){let s=Z();const[t,n]=a.useState({user:"",password:""}),{UserInfo:i}=a.useContext(X);function r(l){l.stopPropagation(),l.preventDefault(),R(l.target).addClass("await"),t.password&&t.user?q.post(D+"/api/auth/login",t,{withCredentials:!0}).then(p=>p.data).then(p=>{p.status&&(window.location.href="/home"),p.msg&&A.error(p.msg)}).catch(p=>{A.error(String(p))}).finally(p=>{R(l.target).removeClass("await")}):R(l.target).removeClass("await")}function c(l){n({...t,[l.target.name]:l.target.value})}return a.useEffect(()=>{i!=null&&i.id_admin&&s("/home")},[i]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"row auth",children:[e.jsxs("div",{className:"col-auth-left",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"img/icons/logo-l1.png",alt:""})}),e.jsxs("div",{className:"align",children:[e.jsxs("span",{className:"title-welcome",children:["Bienvenido de nuevo. ",e.jsx("br",{})," Inicia ahora."]}),e.jsxs("span",{className:"text-register",children:["¿Aun no tienes cuenta?, ",e.jsx($,{to:"/register",children:"Registrate ahora"})]}),e.jsxs("form",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Usuario"}),e.jsx("input",{type:"text",name:"user",onChange:c})]}),e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{children:["Password",e.jsx($,{className:"forgot",to:"/recovery",children:"¿Olvidó?"})]}),e.jsx("input",{type:"password",name:"password",onChange:c})]}),e.jsx("span",{}),e.jsxs("button",{className:"sign",onClick:r,children:["INICIAR SESION ",e.jsx("div",{className:"loading"})]})]})]})]}),e.jsx("div",{className:"col-auth-right right",children:e.jsx("div",{className:"align",children:e.jsx("div",{className:"carousel",children:e.jsxs("div",{className:"item",children:[e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestiae perspiciatis nulla commodi accusamus. Reprehenderit, earum quibusdam laboriosam aliquam dolore ullam doloremque ratione possimus ex neque minus velit iste suscipit odit!"}),e.jsx("img",{src:"img/auth/People-welcome.png"})]})})})})]})})}function pt(){const[s,t]=a.useState({user:"",email:"",password:"",rpassword:""}),{UserInfo:n}=a.useContext(X),i=Z();function r(l){l.stopPropagation();let p=l.target.name,u=l.target.value;t({...s,[p]:u})}function c(l){l.stopPropagation(),l.preventDefault(),R(l.target).addClass("await"),q.post(D+"/api/auth/register",s,{withCredentials:!0}).then(p=>p.data).then(p=>{p.msg&&A.error(p.msg),p.status&&A.success("Cuenta registrada inicia sesion."),i("/"),R(l.target).removeClass("await")}).catch(p=>{R(l.target).removeClass("await")})}return a.useEffect(()=>{n!=null&&n.id_admin&&i("/home")},[n]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"row auth",children:[e.jsxs("div",{className:"col-auth-left",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"img/icons/logo-l1.png",alt:""})}),e.jsxs("div",{className:"align",children:[e.jsxs("span",{className:"title-welcome",children:["Bienvenido.",e.jsx("br",{})," Registrate ahora!."]}),e.jsxs("span",{className:"text-register",children:["¿Opps ya tienes una cuenta?, ",e.jsx($,{to:"/",children:"Ingresar"})]}),e.jsxs("form",{className:"form",onChange:r,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Usuario"}),e.jsx("input",{type:"text",name:"user"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo"}),e.jsx("input",{type:"text",name:"email"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Contraseña"}),e.jsx("input",{type:"password",name:"password"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Repite Contraseña"}),e.jsx("input",{type:"password",name:"rpassword"})]}),e.jsx("span",{}),e.jsxs("button",{className:"sign",onClick:c,children:["REGISTRARSE",e.jsx("div",{className:"loading"})]})]})]})]}),e.jsx("div",{className:"col-auth-right right",children:e.jsx("div",{className:"align",children:e.jsx("div",{className:"carousel",children:e.jsxs("div",{className:"item",children:[e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestiae perspiciatis nulla commodi accusamus. Reprehenderit, earum quibusdam laboriosam aliquam dolore ullam doloremque ratione possimus ex neque minus velit iste suscipit odit!"}),e.jsx("img",{src:"img/auth/People-welcome.png"})]})})})})]})})}const xe=a.createContext(),ht=s=>{const[t,n]=a.useState(0),{Auth:i,UserInfo:r}=a.useContext(X),[c,l]=a.useState({type:"",company:"",loading:!0,process:{}});function p(h,x){switch(x){case"active":R(h).addClass("await");break;case"remove":R(h).removeClass("await");break}}function u(h,x){h.stopPropagation();let g=R(h.target);g.parents(".selector").find(".active").removeClass("active"),g.addClass("active"),x(h.target.value)}function o(h,x){h.stopPropagation();let g=R(h.target);g.parents(".items-result").find(".active").removeClass("active"),g.addClass("active"),x(R(h.target).attr("value"))}function d(){n(t-1)}return a.useEffect(()=>{i&&async function(){if(r.company_default){let h=await Ua(r.company_default);l({...c,loading:!1,company:h})}else l({...c,loading:!1})}()},[i]),a.useEffect(()=>{l(h=>({...h,tutorial_wizard:r.tutorial_wizard}))},[r]),e.jsx(xe.Provider,{value:{Prev:d,wizard:c,SelectorItem:o,AwaitButton:p,Selector:u,setWizard:l,position:t,setPosition:n},...s})};function Ne({Next:s}){const{setPosition:t,position:n}=a.useContext(xe),{wizard:i,setWizard:r}=a.useContext(xe),[c,l]=a.useState({});function p(){t(n-1)}return a.useEffect(()=>{i.company&&l(i.company)},[i]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"buttons-action ",children:[(c==null?void 0:c.name)!==void 0?e.jsx(e.Fragment,{children:e.jsxs("button",{className:"button-company",children:[e.jsx("img",{src:"img/icons/default_profile.png",alt:""}),c.name]})}):"",e.jsx("button",{className:"prev",onClick:p,children:"<"}),e.jsxs("button",{className:"next",onClick:s,children:["Siguiente ",e.jsx("div",{className:"loading"})]})]})})}function ut(){function s(){}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left"}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Subir contactos"}),e.jsx("span",{className:"desc",children:"Sube tus contactos a la lista."})]}),e.jsx("div",{}),e.jsx(Ne,{Next:s})]})]})})}function xt(){const{wizard:s,setWizard:t,setPosition:n,AwaitButton:i}=a.useContext(xe),[r,c]=a.useState(!1),[l,p]=a.useState({name:""});function u(d){if(r)n(h=>h+1);else{i(d.target,"active");let h=new FormData;h.append("name",l.name),h.append("id_company",s.company.id_company),s.type=="email"?h.append("type_c","email"):s.type=="sms"&&h.append("type_c","sms"),q.post(D+"/api/upload/list",h,{withCredentials:!0}).then(x=>x.data).then(x=>{x.status&&(A.success("Lista creada existosamente!"),n(g=>g+1),c(!0),x.id_list&&t(g=>({...g,process:{...g.process,id_list:x.id_list}}))),x.msg&&A.error(x.msg),i(d.target,"remove")}).catch(x=>{A.error(""+x),i(d.target,"remove")})}}function o(d){p(h=>({...h,[d.target.name]:d.target.value}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Nueva lista"}),e.jsx("img",{src:"img/icons/lists.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crear lista"}),e.jsx("span",{className:"desc",children:"Crea una nueva lista y luego ingresa los contactos"})]}),e.jsx("div",{className:"form",children:e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",name:"name",placeholder:"Nombre de lista",onChange:o})})}),e.jsx(Ne,{Next:u})]})]}),r==!0?e.jsx(ut,{}):""]})}function jt(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Welcome"}),e.jsx("img",{src:"/img/icons/email-alert.png",alt:""})]})}),e.jsx("div",{className:"right",children:e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"titel",children:"Seleccionar lista"}),e.jsx("span",{className:"desc",children:"Selecciona una lista para integrarla a la campaign que has elegido."})]})})]})})}function gt(){const{Selector:s,setPosition:t}=a.useContext(xe),[n,i]=a.useState();function r(l){i(l)}function c(){(n=="new"||n=="select")&&t(l=>l+1)}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elegir lista"}),e.jsx("img",{src:"img/icons/wizard-contacts.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu lista"}),e.jsx("span",{className:"desc",children:"Desde aqui puedes elegir rapidamente una lista de contactos, subirla o subirlos manualmente."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"select",onClick:l=>{s(l,r)},children:"Seleccionar de una lista"}),e.jsx("button",{value:"new",onClick:l=>{s(l,r)},children:"Crear una nueva lista"})]}),e.jsx(Ne,{Next:c})]})]}),n=="new"?e.jsx(xt,{}):n=="select"?e.jsx(jt,{}):""]})}function vt(){function s(){}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left"}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Hola"}),e.jsx("span",{className:"desc",children:"hola"})]}),e.jsx(Ne,{Next:s})]})]})})}function ft(){const{wizard:s,setWizard:t,AwaitButton:n}=a.useContext(xe),[i,r]=a.useState(!1),c=Z();function l(u){n(u.target,"active");let o=new FormData;r("pending"),o.append("id_campaign",s.process.id_campaign),o.append("email",s.process.email),o.append("str_affair",s.process.affair),o.append("str_body",s.process.body),o.append("id_company",s.company.id_company),q.post(D+"/api/send/mt",o,{withCredentials:!0}).then(d=>d.data).then(d=>{n(u.target,"remove"),d.status&&(r(!0),s.tutorial_wizard&&setTimeout(()=>{q.get("/api/get/tutowizard",{withCredentials:!0}),c("/home")},2e3)),d.msg&&A.error(d.msg)}).catch(d=>{n(u.target,"remove")})}function p(u){l(u)}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option active",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Detalles de envio"}),e.jsx("img",{src:"img/icons/send-email2.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Envio de campaign"}),e.jsx("span",{className:"desc",children:"Enhora buena! Has llegado al ultixmo paso."})]}),e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Previsualizacion del envio"}),e.jsx("div",{className:"structure",children:e.jsxs("ul",{children:[e.jsxs("li",{children:["Correo para: ",e.jsx("b",{children:s.process.email})]}),e.jsxs("li",{children:["Asunto: ",e.jsx("b",{children:s.process.affair})]}),e.jsxs("li",{children:["Bajo la compania: ",e.jsx("b",{children:s.company.name})]}),e.jsxs("li",{children:["Status de envio: ",i==!1?e.jsxs("i",{className:"text-yellow",children:[e.jsx(ls,{})," En espera de confirmacion..."]}):i=="pending"?e.jsxs("i",{children:[e.jsx(ia,{})," Enviando..."]}):i==!0?e.jsxs("i",{className:"success",children:[e.jsx(ms,{})," Enviado"]}):""]})]})})]}),e.jsx(Ne,{Next:p})]})]})})}function Nt(){const{setWizard:s,setPosition:t}=a.useContext(xe),[n,i]=a.useState(),[r,c]=a.useState(!1);function l(){n?(t(p=>p+1),s(p=>({...p,process:{...p.process,email:n}})),c(!0)):A.error("Opps! No has proporcionado un correo valido")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elegir correo"}),e.jsx("img",{src:"img/icons/email-2.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Asignar el correo"}),e.jsx("span",{className:"info",children:"Elige el correo al cual se le enviara este email."})]}),e.jsx("div",{className:"form",children:e.jsx("div",{className:"form-input",children:e.jsx("input",{placeholder:"Correo electronico",type:"email",onChange:p=>{i(p.target.value)}})})}),e.jsx(Ne,{Next:l})]})]}),r==!0?e.jsx(ft,{}):""]})}function yt(){const{setPosition:s,wizard:t,setWizard:n}=a.useContext(xe),[i,r]=a.useState({status:!1,preview:!1,isHtml:!1,file:{},preview_html:"",affair:"",vars:[]});function c(){i.affair?i.preview_html?(n(g=>({...g,process:{...g.process,body:i.preview_html,affair:i.affair,vars:i.vars}})),s(g=>g+1),r(g=>({...g,status:!0}))):A.error("No tienes ningun formato html asignado."):A.error("Opps has dejado el asunto vacio.")}function l(g){let m=g.target.files[0];if(m.type=="text/html"){r(v=>({...i,file:m}));let j=new FileReader;j.onload=function(v){r(f=>({...f,preview_html:v.target.result}))},j.readAsText(m)}}function p(){r(g=>({...g,preview:!0}))}function u(){r(g=>({...g,preview_html:"",preview:!1,file:{}})),document.querySelector(".option.active input[type='file']").value=""}function o(){r(g=>({...g,preview:!1}))}function d(g){r(m=>({...m,affair:g.target.value}))}function h(g){let j=R(g.target).parents(".form-input").find("input"),v=j.val();i.vars.length<8&&(r(f=>({...f,vars:[...f.vars,v]})),j.val(""))}function x(g){let m=g.target.value;r(j=>({...j,vars:j.vars.filter(v=>v!==m)}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[i.preview==!1?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Personaliza tu frontend"}),e.jsx("img",{src:"img/icons/frontend.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Personalizar body"}),e.jsx("span",{className:"desc",children:"Personaliza tu body para tu envio"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"xd",children:"Este campo es especial, dale click al signo de interrogacion para ver sus funcionalidades."}),e.jsx("input",{type:"text",placeholder:"Asunto",onChange:d})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"xd",children:"Estas variables se enviaran en forma organizada, es decir desde el principio al fin. y deben de ser interpretadas en su archivo .html con un $1,$2."}),e.jsxs("div",{className:"special",children:[e.jsx("input",{type:"text",placeholder:"Variables",onChange:d}),e.jsx("button",{className:"action",onClick:h,children:"Agregar"})]}),e.jsx("div",{className:"tags",children:i.vars.map((g,m)=>e.jsx("button",{onClick:x,value:g,children:g},m))})]}),e.jsx("div",{className:"buttons",children:i.file.type=="text/html"?e.jsxs("div",{className:"file-on",children:[e.jsxs("span",{className:"name-file",children:[e.jsx(na,{})," ",i.file.name]}),e.jsx("button",{className:"remove",onClick:u,children:e.jsx(ae,{})})]}):e.jsxs("button",{onClick:g=>{document.querySelector(".option.active input[type='file']").click()},children:[e.jsx(we,{})," Subir Archivo"]})})]}),e.jsx("div",{className:"buttons",children:i.file.type!=="text/html"?e.jsx("button",{children:"Editor html"}):e.jsx("button",{onClick:p,children:"Vista previa"})}),e.jsx(Ne,{Next:c})]})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"preview-html",children:[e.jsxs("div",{className:"actions-preview",children:[e.jsx("button",{className:"left",onClick:o,children:e.jsx(ze,{})}),e.jsx("button",{className:"left",onClick:u,children:e.jsx(ae,{})}),e.jsx("div",{className:"right-preview",children:e.jsxs("button",{className:"upload-new",onClick:g=>{document.querySelector(".option.active input[type='file']").click()},children:[e.jsx(we,{})," Subir nuevo archivo"]})})]}),e.jsx("div",{className:"preview",dangerouslySetInnerHTML:{__html:i.preview_html}})]})}),e.jsx("input",{type:"file",accept:".html",onChange:l,hidden:!0})]}),i.status==!0?e.jsx(Nt,{}):""]})}function bt(){const{Selector:s,setPosition:t}=a.useContext(xe),[n,i]=a.useState();function r(){(n=="new"||n=="select")&&t(l=>l+1)}function c(l){i(l)}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Selecciona la plantilla"}),e.jsx("img",{src:"img/icons/body-html.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Selecciona tu estructura"}),e.jsx("span",{className:"desc",children:"Selecciona la estructura de correo que usaras para enviar esta campaign"})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"new",onClick:l=>{s(l,c)},children:"Crear un body"}),e.jsx("button",{value:"select",onClick:l=>{s(l,c)},children:"Ya tengo uno"})]}),e.jsx(Ne,{Next:r})]})]}),n=="new"?e.jsx(yt,{}):n=="select"?e.jsx(vt,{}):""]})}function ea(){const{Selector:s,setWizard:t,setPosition:n,position:i}=a.useContext(xe),[r,c]=a.useState();function l(){r!==void 0||r!==""?n(i+1):A.error("!Opps no has seleccionado el tipo de envio")}function p(u){c(u),t(o=>({...o,process:{...o.process,type_send:u}}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Selecciona el tipo"}),e.jsx("img",{src:"img/icons/send-type.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige el tipo de envio"}),e.jsx("span",{className:"desc",children:"Aca tienes que elegir que tipo de envio quieres que sea. Es decir, puedes elegir entre un envio "})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"masive",onClick:u=>{s(u,p)},children:"Envíos de campañas masivas"}),e.jsx("button",{value:"ind",onClick:u=>{s(u,p)},children:"Envio Individual"})]}),e.jsx(Ne,{Next:l})]})]}),r=="ind"?e.jsx(bt,{}):r=="masive"?e.jsx(gt,{}):""]})}function Ct(){const[s,t]=a.useState({name:"",ocation:"",id_company:""}),{AwaitButton:n,wizard:i,Prev:r,position:c,setPosition:l}=a.useContext(xe);a.useState(!1);const[p,u]=a.useState(!0);function o(h){n(h.target,"active");let x=new FormData;x.append("name",s.name),x.append("ocation",s.ocation),x.append("id_company",s.id_company),i.type=="email"&&x.append("type_c","em"),i.type=="sms"&&x.append("type_c","sms"),q.post(D+"/api/upload/campaign",x,{withCredentials:!0}).then(g=>g.data).then(g=>{g.msg&&A.error(g.msg),g.status&&l(c+1),n(h.target,"remove")}).catch(g=>{n(h.target,"remove")})}function d(h){t({...s,[h.target.name]:h.target.value})}return a.useEffect(()=>{t({...s,id_company:i.company.id_company})},[i]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Una nueva aventura!"}),e.jsx("img",{src:"img/icons/new-campaign.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crea una nueva campaña"}),e.jsx("span",{className:"desc",children:"Para crear una nueva campaña necesitas informacion basica para darle un nombre y un objetivo a tu campaña."})]}),e.jsxs("div",{className:"form",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",name:"name",placeholder:"Titulo de campaña",onChange:d})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"ocation",id:"",onChange:d,children:[e.jsx("option",{value:"default",children:"Por defecto"}),e.jsx("option",{value:"email",children:"Cumpleaños"})]})})]}),e.jsxs("div",{className:"buttons-action ",children:[e.jsx("button",{className:"prev",onClick:r,children:"<"}),e.jsxs("button",{className:"next",onClick:o,children:["Siguiente ",e.jsx("div",{className:"loading"})]})]})]})]}),p==!0?e.jsx(ea,{}):""]})}function sa({loading:s}){return e.jsx(e.Fragment,{children:s==!0?e.jsx("div",{className:"wizard-loading-circle"}):""})}function wt(){const{setPosition:s,setWizard:t,wizard:n,SelectorItem:i}=a.useContext(xe),[r,c]=a.useState(!0),[l,p]=a.useState(),[u,o]=a.useState([]);function d(){l>=1?s(x=>x+1):de.error("!Opps no has seleccionado una campaign")}function h(x){t(g=>({...g,process:{...g.process,id_campaign:x}})),p(x)}return a.useEffect(()=>{let x=new FormData;x.append("id_company",n.company.id_company),q.post(D+"/api/get/campaign",x,{withCredentials:!0}).then(g=>g.data).then(g=>{o(g.results),c(!1)}).catch(g=>{c(!1)})},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elige tu campaña"}),e.jsx("img",{src:"img/icons/wizard-selectcampaign.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu campaña"}),e.jsx("span",{className:"desc",children:"Selecciona rapidamente una de tus campañas para seguir al siguiente paso."})]}),e.jsxs("div",{className:"items-result",children:[u.map((x,g)=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"item select",value:x.id_campaign,onClick:m=>{i(m,h)},children:[e.jsx("img",{src:"img/icons/campaign_profile.png",alt:""}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:x.name}),e.jsxs("span",{children:["Creada el ",x.time_add]}),e.jsx("div",{className:"circle",children:e.jsx("i",{children:e.jsx(Ce,{})})})]})]})})),e.jsx(sa,{loading:r})]}),e.jsx(Ne,{Next:d})]})]}),Number(l)=="NaN"?e.jsx(ea,{}):""]})}function _s(){const[s,t]=a.useState({campaign:"",campaign_name:"",actions:{campaign:""}}),{Selector:n,Prev:i,position:r,setPosition:c}=a.useContext(xe);function l(){p()}function p(){let o=!1;switch(r){case 2:s.actions.campaign=="new"||s.actions.campaign=="select"?o=!0:A.error("Opps no has seleccionado nada.");break}o&&c(r+1)}function u(o){t({...s,actions:{campaign:o}})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",style:{display:"none"},children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Campañas"}),e.jsx("img",{src:"img/icons/email-alert.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu campana"}),e.jsx("span",{className:"desc",children:"Crea tu campana rapidamente solamente eligiendo un nombre y ajustandola a tus preferencias. Tambien puedes reutilizar alguna campana antigua."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"new",onClick:o=>{n(o,u)},children:"Crear una nueva"}),e.jsx("button",{value:"select",onClick:o=>{n(o,u)},children:"Ya tengo una"})]}),e.jsx(Ne,{Next:l})]})]}),s.actions.campaign=="new"?e.jsx(Ct,{}):e.jsx(wt,{})]})}function be({color:s,fn:t}){function n(i){i.stopPropagation();let r=R(i.target),c=r.parents(".colors");r.parents(".colors").find(".active").removeClass("active"),r.addClass("active"),c.find("button").css({opacity:"0.5"}),r.css({opacity:"1"})}return e.jsx(e.Fragment,{children:e.jsx("button",{className:"option-color",style:{background:s},value:s,onClick:i=>{t(i.target.value),n(i)}})})}function kt(){const{Prev:s,AwaitButton:t,setPosition:n}=a.useContext(xe),[i,r]=a.useState({name:"",type:"",color:"",default:"false"});function c(u){r({...i,color:u})}function l(u){let o=u.target.value,d=u.target.name;r({...i,[d]:o})}function p(u){i.name&&i.type&&i.color?(t(u.target,"active"),q.post(D+"/api/upload/company",i,{withCredentials:!0}).then(o=>o.data).then(o=>{t(u.target,"remove"),o.status&&(A.success("Company creada con exito"),n(1),R("button.active").removeClass("active")),o.msg&&A.error(o.msg)}).catch(o=>{t(u.target,"remove")})):A.error("Opps no has terminado los campos")}return e.jsx(e.Fragment,{children:status==!1?e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Nuevas ideas!"}),e.jsx("img",{src:"img/icons/cohete-men.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crear empresa"}),e.jsx("span",{className:"desc",children:"Personaliza tu empresa, con colores u imagen para poder identificarla si tienes otras empresas por registrar. Elige un nombre y comienza!"})]}),e.jsxs("div",{className:"form",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de empresa",name:"name",onChange:l})}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{htmlFor:"",children:"Tipo de empresa"}),e.jsx("select",{name:"type",id:"",onChange:l})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{children:"Elige un color"}),e.jsx("span",{className:"desc",children:"El color te ayudara a identificar tu empresa."}),e.jsxs("div",{className:"colors",children:[e.jsx(be,{color:"#2e56ff",fn:c}),e.jsx(be,{color:"#57c583",fn:c}),e.jsx(be,{color:"#3fcae9",fn:c}),e.jsx(be,{color:"#e9d43f",fn:c}),e.jsx(be,{color:"#d77613",fn:c}),e.jsx(be,{color:"#c069cb",fn:c}),e.jsx(be,{color:"#cb6992",fn:c})]})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{children:"Seleccionar como predeterminada"}),e.jsx("span",{className:"desc",children:"Si la eliges como predeterminada automaticamente se usara sin necesidad de seleccionarla."}),e.jsx("br",{}),e.jsxs("select",{name:"default",id:"",onChange:l,children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Si"})]})]})]}),e.jsx(Ne,{Prev:s,Next:p})]})]}):e.jsx(e.Fragment,{})})}function St(){const{wizard:s,setWizard:t,setPosition:n}=a.useContext(xe),[i,r]=a.useState([]),[c,l]=a.useState(!0);function p(){}a.useEffect(()=>{(async function(){r(await et()),l(!1)})()},[]),a.useEffect(()=>{s.company},[s]);function u(o,d){o.stopPropagation();let h=i[d];h.id_company&&(n(1),t({...s,company:h}))}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Usa tu empresa"}),e.jsx("img",{src:"img/icons/hot-company.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige una empresa"}),e.jsx("span",{children:"Elige una de las empresar anteriormente creadas."})]}),e.jsxs("div",{className:"companys",children:[i.map((o,d)=>e.jsxs("div",{className:"company",children:[e.jsx("img",{className:"photo-profile",src:"img/icons/default_profile.png",alt:""}),e.jsxs("span",{className:"title",children:[o.name," ",e.jsx("span",{className:"color",style:{background:o.color}})]}),e.jsx("button",{className:"use",onClick:h=>{u(h,d)},children:"Usar"})]},d)),e.jsx(sa,{loading:c})]}),e.jsx(Ne,{Next:p})]})]})})}function _t(){const[s,t]=a.useState({action:""}),{Selector:n,Prev:i,position:r,setPosition:c}=a.useContext(xe);function l(o){t({...s,action:o})}function p(){u()}function u(){let o=!1;switch(s.action){case"go":o=!0;break;case"new":o=!0;break}o?c(r+1):A.error("No has seleccionado ninguna opcion.")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Tu empresa"}),e.jsx("img",{src:"img/icons/hot-company.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:" Elige tu empresa"}),e.jsx("span",{className:"desc",children:"Debes elegir tu empresa para comenzar, o tambien podrias crear una empresa nueva. Estas empresas tendran (estadisticas,contactos,envios) totalmente autonomos."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{onClick:o=>{n(o,l)},value:"go",children:"Ya tengo una"}),e.jsx("button",{onClick:o=>{n(o,l)},value:"new",children:"Crear una nueva"})]})}),e.jsx(Ne,{Prev:i,Next:p})]})]}),s.action=="new"?e.jsx(kt,{}):e.jsx(St,{})]})}function Et(){return e.jsx(e.Fragment,{children:"xd"})}function Ft(){const{position:s,setPosition:t,wizard:n,setWizard:i,Selector:r,Prev:c}=a.useContext(xe);function l(){p()}function p(){let d=!1;switch(s){case 0:d=!0;break;case 1:if(n.type)switch(n.type){case"email":n.company?d=!0:A.error("No tienes una empresa seleccionada.");break;case"sms":n.company?d=!0:A.error("No tienes una empresa seleccionada.");break;default:d=!0;break}else A.error("No has seleccionado ninguna opcion");break}d&&t(s+1)}function u(d){i({...n,type:d})}a.useEffect(()=>{R(".wizard .option.active").removeClass("active"),R(".wizard .option").eq(s).addClass("active")},[s]);const o={email:e.jsx(_s,{}),sms:e.jsx(_s,{}),verifiedEmail:e.jsx(Et,{})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"wizard",children:e.jsxs("div",{className:"body",children:[n.loading?e.jsx("div",{className:"wizard-loading",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{className:"logo-center",src:"img/icons/logo-l1.png",alt:""}),e.jsx("div",{className:"line"})]})}):e.jsx(e.Fragment,{}),e.jsxs("div",{className:"options",children:[e.jsxs("div",{className:"option center active",children:[e.jsxs("div",{className:"center",children:[e.jsx("img",{className:"logo-center",src:"img/icons/logo-l1.png",alt:""}),e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Welcome to RadarSystems"}),e.jsx("span",{className:"desc",children:"Hola este wizard te ayudara a armar tu primera campaign de emails / sms te, te mostraremos paso por paso como hacer lo que necesitas."})]}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"",id:"",children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"Seleccionar Idioma"}),e.jsx("option",{value:"",children:"Espanol"}),e.jsx("option",{value:"",children:"Ingles"})]})})]}),e.jsx("div",{className:"buttons-action ",children:e.jsx("button",{className:"next",onClick:l,children:"Comenzar"})})]}),n.company==""?e.jsx(_t,{}):e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Empezemos ahora"}),e.jsx("img",{src:"img/icons/wizard-help.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"¿Qué necesitas?"}),e.jsx("span",{children:"Puedes hacer diferentes acciones en la que podemos ayudarte mediante este wizard. Elige cual es de tu interes, asi podremos ayudarte facilmente."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{onClick:d=>{r(d,u)},value:"ac",children:"Elegir Empresa"}),e.jsx("button",{onClick:d=>{r(d,u)},value:"email",children:"Campañas de Correos"}),e.jsx("button",{onClick:d=>{r(d,u)},value:"sms",children:"Campañas de Sms"}),e.jsx("button",{className:n.tutorial_wizard==!0?"opacity-tutorial":"",onClick:d=>{r(d,u)},value:"vemail",children:"Verificador de Correos"}),e.jsx("button",{className:n.tutorial_wizard==!0?"opacity-tutorial":"",onClick:d=>{r(d,u)},value:"ac",children:"Acortador de Url"})]}),e.jsx(Ne,{Prev:c,Next:l})]})]}),o[n.type]]})]})})})}function Dt({MenuLeft:s}){const{UserInfo:t}=a.useContext(X),[n,i]=a.useState(),r=Z();a.useEffect(()=>{t.company_default==null&&t.company==null&&i(!0),t.company!==void 0&&i(!1)},[t]);function c(l){l.stopPropagation();let p=R(l.target),u=p.parents("li"),o=p.parents("li").find("ul"),d=R(".header-left").find("button.active"),h=R(".header-left").find("ul.active");d.parents("li").index()!==u.index()?(h.slideToggle(),h.removeClass("active"),d.removeClass("active"),p.addClass("active"),o.addClass("active"),o.slideToggle()):(d.removeClass("active"),h.removeClass("active"),h.slideToggle())}return hs("token"),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`header-left ${s?"active":""}`,children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"/img/icons/logo.png",alt:""})}),e.jsxs("ul",{children:[e.jsx("li",{className:n?"opacity":"",children:e.jsxs("button",{onClick:l=>{r("/home")},children:[e.jsx("i",{className:"icon",children:e.jsx(la,{})})," Home ",e.jsx("i",{className:"arrow"})]})}),e.jsxs("li",{children:[e.jsxs("button",{onClick:c,children:[e.jsx("i",{className:"icon",children:e.jsx(ra,{})})," Configuracion ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/settings-account/account",children:"Cuenta"})}),e.jsx("li",{children:e.jsx($,{to:"/settings-account/security",children:"Seguridad"})}),e.jsx("li",{children:e.jsx($,{to:"/settings-account/footer",children:"Footer"})}),e.jsx("li",{children:e.jsx($,{to:"/settings-account/domains",children:"Dominios"})})]})]}),e.jsxs("li",{className:n?"opacity":"none",children:[e.jsxs("button",{onClick:c,children:[e.jsx("i",{className:"icon",children:e.jsx(ca,{})})," Herramientas ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/editor/canvas",children:"Editor Canvas"})}),e.jsx("li",{children:e.jsx($,{to:"/editor/buttons",children:"Editor Botonera"})})]})]}),e.jsxs("li",{className:"none",children:[e.jsxs("button",{onClick:c,children:[e.jsx("i",{className:"icon",children:e.jsx(rs,{})})," Cuentas ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/companys",children:"Mis Cuentas"})}),e.jsx("li",{children:e.jsx($,{to:"/companys/add",children:"Crear Cuenta"})})]})]}),e.jsxs("li",{className:n?"opacity":"none",children:[e.jsxs("button",{onClick:c,children:[e.jsx("i",{className:"icon",children:e.jsx(Ye,{})})," Recordatorios ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/campaigns",children:"Email "})}),e.jsx("li",{children:e.jsx($,{to:"/campaigns",children:"Sms"})}),e.jsx("li",{children:e.jsx($,{to:"/campaigns/new",children:"Mixto"})})]})]}),e.jsxs("li",{className:n?"opacity":"none",children:[e.jsxs("button",{onClick:l=>{c(l)},children:[e.jsx("i",{className:"icon",children:e.jsx(Ye,{})})," Campañas ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/campaigns/em",children:"Email Marketing"})}),e.jsx("li",{children:e.jsx($,{to:"/campaigns/em-mt",children:"Email MT"})}),e.jsx("li",{children:e.jsx($,{to:"/campaigns/sms",children:"SMS Marketing"})}),e.jsx("li",{children:e.jsx($,{to:"/campaigns/sms-mt",children:"SMS MT"})}),e.jsx("li",{children:e.jsx($,{to:"/campaigns/new",children:"Crear Campana"})})]})]}),e.jsx("li",{className:"none",children:e.jsxs("button",{onClick:l=>{window.location.href="https://workflows.radarsystems.net/"},children:[e.jsxs("i",{className:"icon",children:[e.jsx(Y,{icon:"octicon:workflow-16"})," "]})," Workflow ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]})}),e.jsxs("li",{className:n?"opacity":"none",children:[e.jsxs("button",{onClick:c,children:[e.jsx("i",{className:"icon",children:e.jsx(da,{})})," Listas ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/contacts",children:"Mis Contactos"})}),e.jsx("li",{children:e.jsx($,{to:"/contacts/lists",children:"Mis Listas"})}),e.jsx("li",{children:e.jsx($,{to:"/contacts/lists/email",children:"Listas Correo"})}),e.jsx("li",{children:e.jsx($,{to:"/contacts/lists/sms",children:"Listas Mensajeria"})}),e.jsx("li",{children:e.jsx($,{to:"/contacts/lists/ws",children:"Listas Whatsapp"})}),e.jsx("li",{children:e.jsx($,{to:"/contacts/segments",children:"Segmentos"})})]})]}),e.jsxs("li",{className:n?"opacity":"none",children:[e.jsxs("button",{onClick:c,children:[e.jsx("i",{className:"icon",children:e.jsx(ls,{})})," Automatizacion ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{children:"WorkFlow"})}),e.jsx("li",{children:e.jsx($,{children:"Programacion"})}),e.jsx("li",{children:e.jsx($,{children:"Auto-Responders"})})]})]}),e.jsxs("li",{className:n?"opacity":"none",children:[e.jsxs("button",{onClick:c,children:[e.jsx("i",{className:"icon",children:e.jsx(ge,{})})," Estadisticas ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{to:"/stats/campaign",children:e.jsx($,{children:"Email Marketing"})}),e.jsx("li",{to:"/stats/campaign",children:e.jsx($,{children:"Email MT"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx($,{children:"Sms Marketing"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx($,{children:"Sms MT"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx($,{children:"Encuestas"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx($,{children:"Botonera QR"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx($,{children:"Botonera URL"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx($,{children:"Medusa"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx($,{children:"Landings"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx($,{children:"Google Analytics"})})]})]}),e.jsxs("li",{className:"none",children:[e.jsxs("button",{onClick:c,children:[e.jsx("i",{className:"icon",children:e.jsx(oa,{})})," Formulario ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/surveys/editor",children:"Crear Formulario"})}),e.jsx("li",{children:e.jsx($,{to:"/surveys",children:"Mis Formularios"})}),e.jsx("li",{children:e.jsx($,{to:"/surveys",children:"Plantillas"})})]})]}),e.jsxs("li",{className:"none",children:[e.jsxs("button",{onClick:c,children:[e.jsx("i",{className:"icon",children:e.jsx(bs,{})})," Boletines Electronicos ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/templates",children:"Mis Boletines"})}),e.jsx("li",{children:e.jsx($,{to:"/editor/canvas",children:"Crear Boletin"})}),e.jsx("li",{children:e.jsx($,{to:"/landings",children:"Plantillas"})}),e.jsx("li",{children:e.jsx($,{to:"/landings",children:"Plantillas IA"})})]})]}),e.jsxs("li",{className:"none",children:[e.jsxs("button",{onClick:c,children:[e.jsx("i",{className:"icon",children:e.jsx(bs,{})})," Landings Page ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/landings",children:"Mis Landings"})}),e.jsx("li",{children:e.jsx($,{to:"/editor/landings",children:"Crear Landings"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:c,children:[e.jsx("i",{className:"icon",children:e.jsx(Y,{icon:"mdi:jellyfish-outline"})})," Medusa ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/shorturls/campaigns",children:"Mis Campañas"})}),e.jsx("li",{children:e.jsx($,{to:"/shorturls/campaigns/add",children:"Crear Campana"})}),e.jsx("li",{children:e.jsx($,{to:"/shorturls",children:"Mis Enlaces"})}),e.jsx("li",{children:e.jsx($,{to:"/shorturls/add",children:"Crear Enlace"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:c,children:[e.jsx("i",{className:"icon",children:e.jsx(ma,{})})," Botonera QR ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/editor/buttonsqr",children:"Crear Botonera QR"})}),e.jsx("li",{children:e.jsx($,{to:"/buttonsqr",children:"Mis Botoneras QR"})}),e.jsx("li",{children:e.jsx($,{to:"/qr/add",children:"Crear QR individual"})}),e.jsx("li",{children:e.jsx($,{to:"/qr/import",children:"Importar QR"})}),e.jsx("li",{children:e.jsx($,{to:"/qr",children:"Mis Qr's"})})]})]}),e.jsxs("li",{className:"none",children:[e.jsxs("button",{onClick:c,children:[e.jsx("i",{className:"icon",children:e.jsx(Y,{icon:"ri:links-fill"})})," Botonera URL ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/editor/buttons",children:"Crear Botonera URL"})}),e.jsx("li",{children:e.jsx($,{to:"/buttons",children:"Mis Botoneras URL"})})]})]}),e.jsxs("li",{className:"none",children:[e.jsxs("button",{onClick:c,children:[e.jsx("i",{className:"icon",children:e.jsx(rs,{})})," Validador Email ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/companys",children:"Mis Validaciones"})}),e.jsx("li",{children:e.jsx($,{to:"/companys",children:"Crear Validacion"})}),e.jsx("li",{children:e.jsx($,{to:"/companys",children:"Estadisticas"})})]})]}),e.jsxs("li",{className:"none",children:[e.jsxs("button",{onClick:c,children:[e.jsx("i",{className:"icon",children:e.jsx(rs,{})}),"  API ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/companys",children:"Mis Credenciales"})}),e.jsx("li",{children:e.jsx($,{to:"/companys",children:"Crear Validacion"})}),e.jsx("li",{children:e.jsx($,{to:"/companys",children:"Estadisticas"})})]})]})]})]})})}function qt({MenuLeft:s,MenuLeftAction:t}){var d,h,x;const{UserInfo:n}=a.useContext(X),[i,r]=a.useState("dark"),c=Z(),[l,p]=a.useState(!1);function u(){switch(i){case"ligth":r("dark");break;case"dark":r("ligth");break;default:r("ligth");break}}function o(){p(!l)}return a.useEffect(()=>{R(document.body).attr("theme",i)},[i]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"header-top",children:[e.jsx("div",{className:"left mb",children:e.jsx("button",{className:"open",onClick:g=>{t()},children:e.jsx(Y,{icon:"iconoir:nav-arrow-right"})})}),e.jsxs("div",{className:"right",children:[e.jsx("div",{className:"company",children:(d=n==null?void 0:n.company)!=null&&d.name?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"body",children:[e.jsx("img",{src:((h=n==null?void 0:n.company)==null?void 0:h.photo)!==void 0?vs(n):"img/icons/default_profile.png",alt:""}),e.jsx("span",{children:(x=n==null?void 0:n.company)==null?void 0:x.name})]})}):e.jsx($,{to:"/companys",className:"select-company",children:"Seleccionar Cuenta"})}),e.jsxs("button",{className:"option",onClick:u,children:[i=="dark"?e.jsx(pa,{}):"",i=="ligth"?e.jsx(ha,{}):""]}),e.jsx("button",{className:"option",children:e.jsx(ua,{})}),e.jsxs("div",{className:"user",onClick:o,children:[e.jsx("span",{className:"name",children:n==null?void 0:n.user}),e.jsx("img",{src:"/img/icons/default-user.jpg",alt:""})]})]})]}),l?e.jsx("div",{className:"menu-top-user",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsxs("button",{onClick:g=>{c("")},children:[e.jsx(Y,{icon:"material-symbols:report-outline"})," Reportar"]})}),e.jsx("li",{children:e.jsxs("button",{onClick:g=>{c("/logout")},children:[e.jsx(Y,{icon:"ic:outline-no-meeting-room"})," Cerrar sesión"]})})]})}):""]})}function J({Element:s,CompanyNeed:t}){var o;const{UserInfo:n}=a.useContext(X);Z(),a.useState(!1);const[i,r]=a.useState("wait"),[c,l]=a.useState(!1),p=Me();function u(d){d==null?c==!0?l(!1):l(!0):l(!1)}return a.useEffect(()=>{u("x")},[p]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"app",children:[e.jsx(Dt,{MenuLeftAction:u,MenuLeft:c}),e.jsx(qt,{MenuLeftAction:u,MenuLeft:c}),e.jsx("div",{className:"page",onClick:d=>{u("x")},children:t?(o=n==null?void 0:n.company)!=null&&o.id_company?e.jsx(s,{}):i==!1?e.jsxs("div",{className:"center-loading",children:[e.jsx("img",{src:"/img/icons/oficina.png",alt:""}),e.jsx("p",{children:"No has seleccionado ninguna empresa"})]}):e.jsx("div",{className:"center-loading",children:e.jsx("div",{className:"circle"})}):e.jsx(s,{})})]})})}function ye(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"loding-box",children:e.jsx("div",{className:"loading",children:e.jsx("div",{className:"circle"})})})})}function Pt({Visible:s,Close:t}){const{UserInfo:n}=a.useContext(X),[i,r]=a.useState(0),[c,l]=a.useState([qe()]),[p,u]=a.useState({type:"",name:"",ocation:""}),o=Z();function d(g){g.stopPropagation(),g.preventDefault();let m=R(g.target);m.parents(".options").find(".active").removeClass("active"),m.addClass("active");let j=m.attr("value");u(v=>({...v,type:j}))}function h(g){var v;let m=!1,j=R(g.target);if((i===0&&p.type.includes("em")||p.type.includes("sms"))&&(m=!0),i==1&&p.type!==""&&p.name!==""){j.addClass("await");let f=new FormData;f.append("name",p.name),f.append("ocation",p.ocation),f.append("type_c",p.type),f.append("id_company",(v=n==null?void 0:n.company)==null?void 0:v.id_company),q.post(D+"/api/upload/campaign",f,{withCredentials:!0}).then(S=>S.data).then(S=>{S.status?o("/campaigns/detail/"+S.id_campaign):S.msg&&de.error(S.msg),j.removeClass("await")}).catch(S=>{j.removeClass("await")})}m&&r(f=>f+1)}function x(g){let m=g.target.name,j=g.target.value;u(v=>({...v,[m]:j}))}return a.useEffect(()=>{R(".case.active").removeClass("active"),R(".case").eq(i).addClass("active")},[i]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[i>0?e.jsxs("button",{className:"return",onClick:g=>{r(m=>m-1)},children:[e.jsx(ze,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:g=>{t(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear una nueva campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"options flex half",id:`options-${c[0]}`,children:[e.jsxs("div",{className:"selector",onClick:d,value:"em",children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA EMAIL MARKETING"}),e.jsx("span",{children:"Crea tu campaña de email con uno de nuestros editores para que la envíes inmediatamente o programes para enviar más tarde."})]})]}),e.jsxs("div",{className:"selector",onClick:d,value:"em-mt",children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA EMAIL TRANSACCIONAL"}),e.jsx("span",{children:"Crea tu campaña de email transaccional estas seran enviada 1x1 mediante la conexion a la api."})]})]}),e.jsxs("div",{className:"selector",onClick:d,value:"sms",children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA SMS MARKETING"}),e.jsx("span",{children:"Envía mensajes de texto rápidos y confiables a cualquier país con nuestras herramientas de campaña de SMS."})]})]}),e.jsxs("div",{className:"selector",onClick:d,value:"sms-mt",children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA SMS TRANSACCIONAL"}),e.jsx("span",{children:"Crea tu campaña de sms transaccional estas seran enviada 1x1 mediante la conexion a la api."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de campaña"}),e.jsx("input",{type:"text",name:"name",onChange:x,placeholder:"Nombre"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Selecciona tipo"}),e.jsxs("select",{name:"ocation",id:"",onChange:x,children:[e.jsx("option",{value:"",selected:!0,children:" Por defecto"}),e.jsx("option",{value:"birthday",children:"Cumpleaños"})]})]}),(p.ocation=="birthday","")]})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:"next",onClick:h,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function je({name:s,buttonName:t,addNew:n=!1,callback:i}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"nofound-items",children:[e.jsx("img",{src:"/img/icons/notfound.png",alt:""}),e.jsxs("p",{children:["No hay ",s??"items","  disponibles"]}),e.jsx("br",{}),n?e.jsxs("button",{onClick:r=>{i()},children:["Crear ",t]}):""]})})}function Ae(){const{UserInfo:s}=a.useContext(X),t=Z(),[n,i]=a.useState([]),[r,c]=a.useState(!1),[l,p]=a.useState(!0),u=Me();a.useEffect(()=>{De("/new")&&c(!0)},[u]);function o(h){var m;let x=new FormData;p(!0);let g="em";De("/em")&&(g="em"),De("/em-mt")&&(g="em-mt"),De("/sms-mt")&&(g="sms-mt"),De("/sms")&&(g="sms"),h||i([]),x.append("id_company",(m=s==null?void 0:s.company)==null?void 0:m.id_company),x.append("type",g),q.post(D+"/api/get/campaign",x,{withCredentials:!0}).then(j=>j.data).then(j=>{var v;(v=j==null?void 0:j.results)!=null&&v.length&&i(j.results),p(!1)}).catch(j=>{p(!1)})}a.useEffect(()=>{o(!1)},[u]);function d(h){let x=h.target.value;t("/campaigns/detail/"+x)}return e.jsxs(e.Fragment,{children:[e.jsx(Pt,{Visible:r,Close:c},`${r?"x":"x2"}`),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Campañas"}),e.jsx("span",{children:"Crea y ve tus campañas rapidamente, tambien puedes entrar a nuestro sistema automatizado "})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"add",onClick:h=>{c(!0)},children:"Crear nueva campaña"}),e.jsx("button",{className:"go-wizard",onClick:h=>{c(!0)},children:"Wizard"})]})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[n==null?void 0:n.map((h,x)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:h.name}),e.jsxs("span",{className:"desc",children:["Creado el: ",oe(h.time_add)]})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:d,value:h.id_campaign,children:e.jsx(ke,{})}),e.jsx("button",{children:e.jsx(ge,{})})]})]})),l==!1?(n==null?void 0:n.length)==0?e.jsx(je,{name:"campanas"}):"":e.jsx(ye,{})]})})})]})}function fs(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top",children:[e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/companys",children:"Cuentas"})}),e.jsx("li",{children:e.jsx($,{to:"/companys/roles",children:"Roles"})}),e.jsx("li",{children:e.jsx($,{to:"/companys/users",children:"Perfiles"})})]}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"form-search",children:e.jsx("input",{type:"text",placeholder:"Buscar cuenta..."})})})]})})}function te({buttonsActions:s=!0,minWidth:t,maxWidth:n,children:i,width:r,visible:c,buttonSave:l=!0,cancel:p,onClick:u,next:o,callback:d,Pending:h,close:x=function(){}}){const[g,m]=a.useState(c==!1?!1:c),[j,v]=a.useState(qe());function f(S){S.stopPropagation();let P=R(S.target);R(`#modal-${j}`).removeClass("open"),P.parents(".modal-small").addClass("close"),setTimeout(()=>{P.parents(".modal-small").removeClass("close"),m(!1),d(!1)},400)}return a.useEffect(S=>{c==!0?(m(!0),setTimeout(()=>{R(`#modal-${j}`).removeClass("close"),R(`#modal-${j}`).addClass("open")},25)):(R(`#modal-${j}`).addClass("close"),R(`#modal-${j}`).removeClass("open"),x("cerro"))},[c]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"modal-small",id:`modal-${j}`,style:{display:g==!0?"flex":"none",overflow:"auto"},children:[e.jsx("div",{className:"closed"}),e.jsxs("div",{className:"body",style:{maxWidth:n,minWidth:t,width:r},children:[i,s?e.jsxs("div",{className:"actions",children:[e.jsx("button",{id:"close",onClick:f,children:p??"Cancelar"}),l?e.jsxs("button",{className:`done ${h==!0?" await":""}`,onClick:u,children:[o??"Guardar"," ",e.jsx("div",{className:"loading"})]}):""]}):""]})]})})}function Tt({name:s,id:t,valueDefault:n,onChange:i}){const[r,c]=a.useState(qe());a.useEffect(()=>{n&&(document.querySelector(`.select-${r}`).value=n)},[]);function l(p){i&&i(p)}return e.jsxs("select",{name:s,id:t,onChange:l,className:`select-${r}`,children:[e.jsx("option",{value:"def",selected:!0,disabled:!0,children:"Seleccionar"}),e.jsx("option",{value:"md",children:"Marketing Digital"}),e.jsx("option",{value:"tec",children:"Tecnología"}),e.jsx("option",{value:"tele",children:"Telecomunicaciones"}),e.jsx("option",{value:"soft",children:"Software"})]})}function Es(){const[s,t]=a.useState([]),[n,i]=a.useState(!0),[r,c]=a.useState(!1),[l,p]=a.useState(!1),[u,o]=a.useState({}),[d,h]=a.useState({name:"",color:"",type:""}),{setUserInfo:x,UserInfo:g}=a.useContext(X),[m,j]=a.useState(!1),v=Me();a.useEffect(()=>{De("/add")&&c(!0)},[v]);function f(){t([]),i(!0),q.post(D+"/api/get/companys",{},{withCredentials:!0}).then(C=>C.data).then(C=>{i(!1),t(C)})}a.useEffect(()=>{f()},[]),a.useEffect(()=>{},[u]);function S(){}function P(C){l?o(N=>({...N,color:C})):h(N=>({...N,color:C}))}function F(C){if(l){let N=R(C.target);N.addClass("await");let _=new FormData;_.append("name",u.name),_.append("color",u.color),_.append("type",u.type),_.append("id_company",u.id_company),q.post(D+"/update/editcompany",_,{withCredentials:!0}).then(w=>w.data).then(w=>{w.status&&(c(!1),A.success("Has editado correctamente."),f()),w.msg&&A.error(w.msg),N.removeClass("await")}).catch(w=>{N.removeClass("await")})}else{j(!0);let N=new FormData;N.append("name",d.name),N.append("color",d.color),N.append("type",d.type),q.post(D+"/api/upload/company",N,{withCredentials:!0}).then(_=>_.data).then(_=>{_.status&&(f(),c(!1),A.success("Has creado tu cuenta correctamente.")),_.msg&&A.error(_.msg),j(!1)}).catch(_=>{j(!1)})}}a.useEffect(()=>{R(".colors .option-color").css({opacity:"0.5"}),R(`.colors .option-color[value='${u.color}']`).addClass("active").css({opacity:1}),R(".form-input input[name='name']").val(u.name)},[u]);function T(C){c(!0),o(s[C])}function k(C,N){C.stopPropagation();try{x(_=>({..._,company:s[N]})),document.cookie=`company=${s[N].id_company}`,A.success("Empresa asignada correctamente.")}catch{}}function y(C,N){C.stopPropagation()}function b(C){l||h(N=>({...N,[C.target.name]:C.target.value}))}return e.jsxs(e.Fragment,{children:[e.jsxs(te,{onClick:F,visible:r,callback:c,close:C=>{o({})},Pending:m,next:`${l?"Editar":"Agregar"}`,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:l?"Editar cuenta":"Agregar cuenta"})}),e.jsxs("div",{className:"content",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre"}),e.jsx("input",{name:"name",type:"text",onChange:b})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Tipo"}),e.jsx(Tt,{name:"type",onChange:b,valueDefault:`${l?u.type:"def"}`,callback:S},r?"modal-open":"modal-closed")]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Elige color de tu cuenta"}),e.jsx("span",{className:"desc",children:"El color te ayudara a identificar tu tipo de cuenta."}),e.jsxs("div",{className:"colors",children:[e.jsx(be,{color:"#2e56ff",fn:P}),e.jsx(be,{color:"#57c583",fn:P}),e.jsx(be,{color:"#3fcae9",fn:P}),e.jsx(be,{color:"#e9d43f",fn:P}),e.jsx(be,{color:"#d77613",fn:P}),e.jsx(be,{color:"#c069cb",fn:P}),e.jsx(be,{color:"#cb6992",fn:P})]},r?"a":"x")]})]})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MIS CUENTAS"}),e.jsx("span",{children:"Crea y administra tus cuentas, agrega Roles y Perfiles"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:C=>{c(!0),p(!1)},children:"Crear nueva cuenta"})})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx(fs,{}),e.jsxs("div",{className:"box box-padding",children:[s.map((C,N)=>{var _;return e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:C.photo?vs({company:{photo:C.photo}}):"img/icons/default_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:C.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:w=>{y(w)},children:e.jsx(xa,{})}),e.jsx("button",{onClick:w=>{T(N),p(!0)},children:e.jsx(us,{})}),e.jsxs("button",{onClick:w=>{k(w,N)},children:[" ",((_=g==null?void 0:g.company)==null?void 0:_.id_company)==C.id_company?e.jsx(ja,{}):e.jsx(ga,{})," "]})]})]},N)}),n==!0?e.jsxs(e.Fragment,{children:["  ",e.jsx(ye,{})]}):""]})]})})]})}function Pe({visible:s,onClick:t,callback:n,Pending:i,name:r}){const[c,l]=a.useState(s!=!1),[p,u]=a.useState(qe());function o(d){d.stopPropagation();let h=R(d.target);h.parents(".actions").find(".done.await").length?A.error("No puedes salir en este momento..."):(R(`#modal-${p}`).removeClass("open"),h.parents(".modal-small").addClass("close"),setTimeout(()=>{h.parents(".modal-small").removeClass("close"),l(!1),n(!1)},600))}return a.useEffect(d=>{s==!0?(l(!0),setTimeout(()=>{R(`#modal-${p}`).removeClass("close"),R(`#modal-${p}`).addClass("open")},25)):(R(`#modal-${p}`).addClass("close"),R(`#modal-${p}`).removeClass("open"),close("cerro"))},[s]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"modal-small delete",id:`modal-${p}`,style:{display:c==!0?"flex":"none"},children:[e.jsx("div",{className:"closed"}),e.jsxs("div",{className:"body",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Eliminar"})}),e.jsxs("span",{className:"dialog",children:["Estas apunto de eliminar ",r==null?"este objeto":"esta "+r,". ¿Estas seguro de querer eliminarlo?"]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{id:"close",onClick:o,children:"Cancelar"}),e.jsxs("button",{className:`done ${i==!0?"await":""}`,onClick:t,children:["Eliminar ",e.jsx("div",{className:"loading"})]})]})]})]})})}function Lt(){const{UserInfo:s,LoadingAuth:t}=a.useContext(X),[n,i]=a.useState(!1),[r,c]=a.useState(!1),[l,p]=a.useState(["delete","read","send","add"]),[u,o]=a.useState(!1);let d={type_add:"",delete:0,add:0,read:0,send:0,sadmin:0};const[h,x]=a.useState(d),[g,m]=a.useState(),[j,v]=a.useState(!0),f=Z(),[S,P]=a.useState([]);async function F(){var _;let N=new FormData;N.append("id_company",(_=s==null?void 0:s.company)==null?void 0:_.id_company),P([]),v(!0),q.post(D+"/api/get/roles",N,{withCredentials:!0}).then(w=>w.data).then(w=>{P(w),v(!1)})}a.useEffect(()=>{t||s.company||(f("/companys"),A.error("Selecciona una empresa ")),j&&F()},[t]);function T(N){let _=N.target.value;R(N.target).is("input[type='checkbox']")?(x(w=>({...w,sadmin:0})),R(N.target).is("input[type='checkbox']:checked")?x(w=>({...w,[N.target.name]:1})):x(w=>({...w,[N.target.name]:0}))):(x(w=>({...w,[N.target.name]:_})),_=="sadmin"&&x(w=>({...w,sadmin:1})))}function k(N){let _=new FormData;h.rol!==void 0&&h.type_add!==void 0&&(_.append("sadmin",h!=null&&h.sadmin?h.sadmin:0),_.append("delete",h!=null&&h.delete?h.delete:0),_.append("read",h!=null&&h.read?h.read:0),_.append("add",h!=null&&h.add?h.add:0),_.append("send",h!=null&&h.send?h.send:0),_.append("rol",h.rol),_.append("id_company",s.company.id_company),u?(cs(N.target),_.append("id_rol",h==null?void 0:h.id_rol),q.post(D+"/api/update/permissions",_,{withCredentials:!0}).then(w=>w.data).then(async w=>{w.status&&(await F(),i(!1),Fe(N.target)),w.msg&&(A.error("Opps error al aplicar cambios de permisos"),Fe(N.target))}).catch(w=>{Fe(N.target)})):(cs(N.target),q.post(D+"/api/upload/rol",_,{withCredentials:!0}).then(w=>w.data).then(w=>{w.status?(_.append("id_rol",w.id_rol),q.post(D+"/api/update/permissions",_,{withCredentials:!0}).then(L=>L.data).then(async L=>{L.status&&(await F(),i(!1),Fe(N.target)),L.msg&&(A.error("Opps error al aplicar cambios de permisos"),Fe(N.target))}).catch(L=>{Fe(N.target)})):(w.msg&&A.error(w.msg),Fe(N.target))}).catch(w=>{Fe(N.target)})))}function y(N){let _=N.target.value;_&&(m(_),c(!0))}function b(N){cs(N.target);let _=new FormData;_.append("id_company",s.company.id_company),_.append("id_rol",g),g?q.post(D+"/api/delete/rol",_,{withCredentials:!0}).then(w=>w.data).then(w=>{w.status&&(c(!1),F()),w.msg&&A.error(w.msg),Fe(N.target)}).catch(w=>{Fe(N.target)}):A.error("No has seleccionado ningun id")}function C(N){let _=N.target.value;i(!0),o(!0),x(w=>({...w,id_rol:S[_].id_rol,rol:S[_].rol})),setTimeout(()=>{S[_].permissions.sadmin?(x(w=>({...w,type_add:"sadmin"})),document.querySelector("select").value="sadmin"):(x(w=>({...w,type_add:"pers"})),document.querySelector("select").value="pers",l.forEach((w,L)=>{S[_].permissions[w]&&document.querySelector(`input[name='${w}']`).click()}))},25)}return e.jsxs(e.Fragment,{children:[e.jsx(Pe,{visible:r,callback:c,onClick:b},r?"opxen":"clxose"),e.jsxs(te,{onClick:k,maxWidth:380,visible:n,callback:i,next:u?"Actualizar":"Guardar",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:u?"Editar rol":"Agregar rol"})}),e.jsxs("div",{className:"content",children:[u?"":e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de rol",name:"rol",onChange:T,value:(h==null?void 0:h.rol)==null?"":h==null?void 0:h.rol})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"type_add",id:"",onChange:T,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Seleccionar tipo"}),e.jsx("option",{value:"pers",children:"Personalizado"}),e.jsx("option",{value:"sadmin",children:"Super Admin"})]})}),h.type_add=="pers"?e.jsx("table",{children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Permisos"}),e.jsx("td",{children:"Seleccionar"})]}),l.map(N=>e.jsxs("tr",{children:[e.jsx("td",{children:N}),e.jsx("td",{children:e.jsx("input",{type:"checkbox",onChange:T,name:N})})]}))]})}):h.type_add=="sadmin"?e.jsxs("div",{className:"ad",children:[e.jsx("p",{children:"Advertencia"}),e.jsx("span",{children:"Al asignar un rol con permisos de super administrador, le daras derecho a hacer las mismas acciones que tu cuenta principal, podra manipular empresas o hacer cosas que solamente tu puedes hacer."})]}):e.jsx(e.Fragment,{})]})]},n?"open":"close"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus roles"}),e.jsx("span",{children:"Crea y elimina los roles de tu empresa, da permisos a usuarios para que puedan iniciar sesion y manipular tu empresa"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:N=>{i(!0),x(d),o(!1)},children:"Crear nuevo rol"})})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx(fs,{}),e.jsxs("div",{className:"box box-padding",children:[S.map((N,_)=>{var w,L,Q,ee,re,H,O,W;return e.jsxs("div",{className:"item flex",children:[e.jsx("div",{className:"info",children:e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:[N.rol," ",N.permissions.sadmin==!0?e.jsx("span",{className:"super-adm",children:"ADM"}):""," "]}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})}),e.jsxs("div",{children:[e.jsx("p",{children:"Lectura"}),e.jsx("div",{className:"center-roles",children:(w=N==null?void 0:N.permissions)!=null&&w.read?e.jsx("span",{className:"yes",children:e.jsx(Ce,{})}):((L=N==null?void 0:N.permissions)==null?void 0:L.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(Ce,{})}):e.jsx("span",{className:"no",children:e.jsx(Ke,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Envio"}),e.jsx("div",{className:"center-roles",children:(Q=N==null?void 0:N.permissions)!=null&&Q.send?e.jsx("span",{className:"yes",children:e.jsx(Ce,{})}):((ee=N==null?void 0:N.permissions)==null?void 0:ee.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(Ce,{})}):e.jsx("span",{className:"no",children:e.jsx(Ke,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Borrar"}),e.jsx("div",{className:"center-roles",children:(re=N==null?void 0:N.permissions)!=null&&re.delete?e.jsx("span",{className:"yes",children:e.jsx(Ce,{})}):((H=N==null?void 0:N.permissions)==null?void 0:H.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(Ce,{})}):e.jsx("span",{className:"no",children:e.jsx(Ke,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Agregar"}),e.jsx("div",{className:"center-roles",children:(O=N==null?void 0:N.permissions)!=null&&O.add?e.jsx("span",{className:"yes",children:e.jsx(Ce,{})}):((W=N==null?void 0:N.permissions)==null?void 0:W.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(Ce,{})}):e.jsx("span",{className:"no",children:e.jsx(Ke,{})})})]}),e.jsx("div",{children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:C,value:_,children:e.jsx(us,{})}),e.jsx("button",{onClick:y,value:N.id_rol,children:e.jsx(ae,{})})]})})]},_)}),j?e.jsx(ye,{}):S.length==0?e.jsx(je,{}):""]})]})})]})}function Rt(){const{UserInfo:s}=a.useContext(X),[t,n]=a.useState([]),[i,r]=a.useState(!1),[c,l]=a.useState({name:"",password:"",email:"",id_rol:""}),[p,u]=a.useState(!1),[o,d]=a.useState([]),[h,x]=a.useState(!1),[g,m]=a.useState(),[j,v]=a.useState(!1),[f,S]=a.useState({id_user:"",id_rol:""}),[P,F]=a.useState(!1);function T(w){let L=w.target.value,Q=w.target.name;l(ee=>({...ee,[Q]:L}))}function k(){var L;x(!0);let w=new FormData;w.append("id_company",(L=s==null?void 0:s.company)==null?void 0:L.id_company),q.post(D+"/api/get/subusers",w,{withCredentials:!0}).then(Q=>Q.data).then(Q=>{x(!1),n(Q)}).catch(Q=>{x(!1)})}function y(){var w;if(c.name&&c.email&&c.password&&c.id_rol)if(c.password.length>=6){let L=new FormData;u(!0),L.append("name",c.name),L.append("email",c.email),L.append("password",c.password),L.append("id_rol",c.id_rol),L.append("id_company",(w=s.company)==null?void 0:w.id_company),q.post(D+"/api/upload/subuser",L,{withCredentials:!0}).then(Q=>Q.data).then(Q=>{u(!1),Q.status&&(r(!1),n([]),k())}).catch(Q=>{u(!1)})}else A.error("Tu password no es correcta debe de tener 6 o mas caracteres");else A.error("Opps has dejado campos vacios")}function b(w){S(L=>({...L,id_user:t[w].id,id_rol:t[w].id_rol,name:t[w].name})),setTimeout(()=>{document.querySelector("select").value=t[w].id_rol},20),v(!0)}function C(w){let L=t[w].id;L&&(m(L),F(!0))}a.useEffect(()=>{var L;let w=new FormData;w.append("id_company",(L=s==null?void 0:s.company)==null?void 0:L.id_company),q.post(D+"/api/get/roles",w,{withCredentials:!0}).then(Q=>Q.data).then(Q=>{d(Q)}),k()},[]);function N(){var w;if(f.id_rol&&f.id_user){u(!0);let L=new FormData;L.append("id_company",(w=s==null?void 0:s.company)==null?void 0:w.id_company),L.append("id_rol",f.id_rol),L.append("id_user",f.id_user),q.post(D+"/api/update/subuser",L,{withCredentials:!0}).then(Q=>Q.data).then(Q=>{Q.status&&(k(),n([]),A.success("Has editato el usuario correctamente."),v(!1)),u(!1)}).catch(Q=>{u(!1)})}}function _(){var w;if(g){u(!0);let L=new FormData;L.append("id_user",g),L.append("id_company",(w=s==null?void 0:s.company)==null?void 0:w.id_company),q.post(D+"/api/delete/subuser",L,{withCredentials:!0}).then(Q=>Q.data).then(Q=>{Q.status&&(F(!1),u(!1),k(),n([]),A.success("Has borrado el usuario correctamente."))})}else A.error("Opps no has seleccionado nada")}return e.jsxs(e.Fragment,{children:[e.jsx(Pe,{visible:P,callback:F,onClick:_,Pending:p}),e.jsxs(te,{visible:j,callback:v,Pending:p,onClick:N,next:"Editar",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Editar"})}),e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{children:["Editar rol del usuario @",f.name]}),e.jsxs("select",{onChange:w=>{S(L=>({...L,id_rol:w.target.value}))},name:"",id:"",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Seleccionar Rol"}),o.map((w,L)=>e.jsx("option",{value:w.id_rol,children:w.rol}))]})]})]}),e.jsx(te,{visible:i,callback:r,next:"Agregar",onClick:y,Pending:p,children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Agregar"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre",name:"name",onChange:T})}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Email",name:"email",onChange:T})}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"password",placeholder:"Contraseña",name:"password",onChange:T})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"id_rol",id:"",onChange:T,children:[e.jsx("option",{value:"",children:"Seleccionar Rol"}),o.map((w,L)=>e.jsx("option",{value:w.id_rol,children:w.rol}))]})})]})},`${i?"open":"close"}`),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus usuarios"}),e.jsx("span",{children:"Crea y elimina usuarios, estos usuarios son de tu empresa, deben de tener un rol asignado para poder hacer ciertas funciones. Estos usuarios pueden utilizar la api si le das el acceso y podran consumir recursos desde alli."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:w=>{r(!0)},children:"Crear nuevo usuario"})})]}),e.jsx(fs,{}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[t.map((w,L)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default-user.jpg",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:w.name}),e.jsxs("span",{className:"desc",children:["Rol - ",w.rol]}),e.jsx("br",{}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:Q=>{b(L)},value:L,children:e.jsx(us,{})}),e.jsx("button",{onClick:Q=>{C(L)},value:w.id_rol,children:e.jsx(ae,{})})]})})]},L)),h==!1?t.length==0?e.jsx(je,{name:"usuarios"}):"":e.jsx(ye,{})]})})})]})}function Fs({campaign:s,setFormProgamming:t}){const[n,i]=a.useState("default");function r(p){let u=p.target.value;i(u)}function c(){i("default")}function l(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"return-top",children:e.jsx("button",{onClick:c,children:e.jsx(Ve,{})})})})}return a.useEffect(()=>{switch(n){case"daysname":t({target:{value:"bucle",name:"p_type"}});break}},[n]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Programar campaña"})}),e.jsxs("div",{className:"data",children:[n=="default"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"select-buttons",children:[e.jsx("button",{onClick:r,value:"date",children:"Fecha especifica"}),e.jsx("button",{onClick:r,value:"daysname",children:"Dias especificos"}),e.jsx("button",{onClick:r,value:"daysnumber",children:"Recordatorios"}),e.jsx("button",{onClick:r,value:"fidelizacion",children:"Fidelizacion"})]})}):"",n=="date"?e.jsxs(e.Fragment,{children:[e.jsx(l,{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"date",name:"date",onChange:t})}),e.jsxs("div",{className:"form-input flex",children:[e.jsx("input",{type:"text",placeholder:"hora",name:"hh",onChange:t}),e.jsx("input",{type:"text",placeholder:"minuto",name:"ii",onChange:t}),e.jsxs("select",{name:"x",id:"",children:[e.jsx("option",{value:"pm",children:"p.m."}),e.jsx("option",{value:"am",children:"a.m."})]})]})]}):"",n=="daysname"?e.jsxs(e.Fragment,{children:[e.jsx(l,{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Que dia de la semana quieres que se envie"}),e.jsxs("select",{name:"dd",onChange:t,id:"",children:[e.jsx("option",{value:"Sun",children:"Domingo"}),e.jsx("option",{value:"Mon",children:"Lunes"}),e.jsx("option",{value:"Tues",children:"Martes"}),e.jsx("option",{value:"Wed",children:"Miércoles"}),e.jsx("option",{value:"Thurs",children:"Jueves"}),e.jsx("option",{value:"Fri",children:"Viernes"}),e.jsx("option",{value:"Sat",children:"Sábado"})]})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("button",{children:"Cada 1 mes"}),e.jsx("br",{}),e.jsx("button",{children:"Cada 2 meses"}),e.jsx("br",{}),e.jsx("button",{children:"Cada 3 meses"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Cuando expira"}),e.jsx("input",{type:"date",onChange:t,name:"timeExpire"})]})]}):"",n=="daysnumber"?e.jsxs(e.Fragment,{children:[e.jsx(l,{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Que dia quieres que se envie (Esto enviara el numero elegio cada mes, es decir ejemplo: 01 es igual a los 01 de cada mes)"}),e.jsx("select",{name:"dd",onChange:t,children:Array.from({length:31},(p,u)=>e.jsx("option",{value:String(u+1).padStart(2,"0"),children:String(u+1).padStart(2,"0")},u+1))})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Cuando expira (Si no pones fecha es indefinido)"}),e.jsx("input",{type:"date",onChange:t,name:"timeExpire"})]})]}):"",n=="fidelizacion"?e.jsxs(e.Fragment,{children:[e.jsx(l,{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Que campo validador quieres utilizar (estas campañas funcionan de forma que verifican si en el campo validador elegido esta una fecha en caso de ser asi se enviara un correo al usuario, con los parametros configurados)"}),e.jsxs("select",{name:"dd",onChange:t,children:[e.jsx("option",{value:"",children:"Selecciona el campo"}),e.jsx("option",{value:"",children:"Birthday"}),e.jsx("option",{value:"",children:"Extra 1"}),e.jsx("option",{value:"",children:"Extra 2"}),e.jsx("option",{value:"",children:"Extra 3"}),e.jsx("option",{value:"",children:"Extra 4"}),e.jsx("option",{value:"",children:"Extra 5"})]})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Cuando expira (Si no pones fecha es indefinido)"}),e.jsx("input",{type:"date",onChange:t,name:"timeExpire"})]})]}):""]})]})}function Ds({value:s,defaultValue:t,onChange:n,onSave:i,Send:r=!0,Preview:c=!0}){const l=a.useRef(null),[p,u]=a.useState(""),[o,d]=a.useState(!0),[h,x]=a.useState(0),g=m=>{const j=l.current,v=window.getSelection().toString(),f=j.selectionStart,S=p.substring(0,f),P=p.substring(f),F=S+m+v+P;u(F),j.focus()};return a.useEffect(()=>{n(p),x(p.length)},[p]),a.useEffect(()=>{s&&o&&(d(!1),u(s))},[s]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"textarea-sms",children:[e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:()=>g("$name"),children:"Nombre"}),e.jsx("button",{onClick:()=>g("$lastname"),children:"Apellido"}),e.jsx("button",{onClick:()=>g("$dni"),children:"Dni"}),e.jsx("button",{onClick:()=>g("$code"),children:"Codigo"}),e.jsx("button",{onClick:()=>g("$city"),children:"Ciudad"}),e.jsx("button",{onClick:()=>g("$country"),children:"Pais"}),e.jsx("button",{onClick:()=>g("$birthday"),children:"Nacimiento"}),e.jsx("button",{onClick:()=>g("$address"),children:"Direccion"}),e.jsx("button",{onClick:()=>g("$occupation"),children:"Ocupacion"}),e.jsx("button",{onClick:()=>g("$gender"),children:"Sexo"}),e.jsx("button",{onClick:()=>g("$phone"),children:"Telefono"}),e.jsx("button",{onClick:()=>g("$email"),children:"Correo Electronico"}),e.jsx("button",{onClick:()=>g("$1"),children:"Extra (1)"}),e.jsx("button",{onClick:()=>g("$2"),children:"Extra (2)"}),e.jsx("button",{onClick:()=>g("$3"),children:"Extra (3)"}),e.jsx("button",{onClick:()=>g("$4"),children:"Extra (4)"}),e.jsx("button",{onClick:()=>g("$5"),children:"Extra (5)"}),e.jsx("button",{onClick:()=>g("$6"),children:"Extra (6)"}),e.jsx("button",{onClick:()=>g("$7"),children:"Extra (7)"}),e.jsx("div",{className:"count",children:e.jsxs("i",{children:["166/",h]})})]}),e.jsx("textarea",{ref:l,className:"text",value:s,defaultValue:t,onChange:m=>u(m.target.value)}),e.jsxs("div",{className:"bottom-actions",children:[e.jsxs("button",{children:[e.jsx(va,{})," Borrar"]}),c?e.jsxs("button",{children:[e.jsx(Re,{})," Previsualizar SMS"]}):"",r?e.jsx("button",{className:"preview",onClick:i,children:"Enviar Campaña"}):"",e.jsx("button",{className:"preview",onClick:i,children:"Guardar "})]})]})})}function Mt({status:s,PauseCampaign:t,style:n}){return e.jsxs(e.Fragment,{children:[s=="prepare"?e.jsx(e.Fragment,{children:e.jsxs("span",{style:n,children:["En espera... ",e.jsx(Y,{icon:"mdi:check"})]})}):"",s=="programmed"?e.jsx(e.Fragment,{children:e.jsxs("span",{style:n,className:"wait-list",children:[" Programada ",e.jsx(ls,{})]})}):"",s=="sent"?e.jsx(e.Fragment,{children:e.jsxs("span",{style:n,className:"ready-list",children:["Enviado ",e.jsx(Y,{icon:"mdi:check-all"})," "]})}):"",s=="sending"?e.jsxs(e.Fragment,{children:[e.jsxs("span",{style:n,className:"ready-list",children:[" Enviando... ",e.jsx(fa,{})]}),e.jsx("button",{onClick:t,children:e.jsx(Na,{})})]}):""]})}function At({Close:s,campaign:t,setCampaign:n}){const[i,r]=a.useState([]),{UserInfo:c}=a.useContext(X);function l(){var d;let o=new FormData;o.append("id_company",(d=c==null?void 0:c.company)==null?void 0:d.id_company),o.append("type",Za(t.type_c)),q.post(D+"/api/get/list",o,{withCredentials:!0}).then(h=>h.data).then(h=>{r(h)})}function p(o){o.contacts>1&&o.contacts<5?n(d=>{let h={...d};return h.lists_test=o.id_list,h}):de.error("Tu lista no cumple los requisitos")}function u(){n({...t,lists_test:""})}return a.useEffect(()=>{t.lists_test||l()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Envio de prueba"}),t!=null&&t.lists_test?e.jsx("span",{children:"envia una prueba a tu lista preferida"}):e.jsx("span",{children:"Selecciona una lista para usar en este envio de pruebas no puede exceder los 5 usuarios"})]}),t!=null&&t.lists_test?e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx("div",{className:"box",children:e.jsxs("div",{className:"item flex-wrap",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/lists.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:["Lista ",t==null?void 0:t.lists_test]}),e.jsx("span",{className:"desc",children:"Esta es la lista seleccionada para el envio de pruebas"})]})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{onClick:u,children:e.jsx(ae,{})})})]})}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:o=>{s(!1)},children:"Cerrar"}),e.jsx("button",{children:"Enviar"})]})]}):e.jsx("div",{className:"data",children:e.jsx("div",{className:"row",children:i.map((o,d)=>e.jsx("div",{className:"col-md-12 page-lists",children:e.jsx("div",{className:"box",children:e.jsxs("div",{className:"item flex-wrap select",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/lists.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:o.name}),e.jsxs("span",{className:"desc",children:["Contactos: ",o.contacts]})]})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{onClick:h=>{p(o)},children:e.jsx(we,{})})})]})})}))})})]})}function Ot(){var He,Ie,Ge,Je,Xe,K,G;const s=le(),{UserInfo:t}=a.useContext(X),n=Z();a.useState(!1);let i={lists:!1,body:!1,affair:!1};const[r,c]=a.useState(i),[l,p]=a.useState({lists:[]}),[u,o]=a.useState({lists:!1}),[d,h]=a.useState([]),[x,g]=a.useState({sendCampaign:!1}),[m,j]=a.useState({affair:""}),[v,f]=a.useState(!1),[S,P]=a.useState(),[F,T]=a.useState(!1),[k,y]=a.useState({hh:"",mm:"",dd:"",ii:"",yy:"",timeExpire:"",p_type:"default"}),[b,C]=a.useState(!1);a.useState({});const[N,_]=a.useState(),[w,L]=a.useState(!1),[Q,ee]=a.useState([]);function re(E){var V;H(!0);let M=new FormData;M.append("id_company",(V=t==null?void 0:t.company)==null?void 0:V.id_company),d.lists&&M.append("ignore_id",d.lists),p(U=>({...U,lists:[]})),E&&M.append("search",E),q.post(D+"/api/get/list",M,{withCredentials:!0}).then(U=>U.data).then(U=>{p(ce=>({...ce,lists:U})),H(!1)})}function H(E){o(M=>({...M,lists:E}))}let O=0;function W(E){let M=E.target.value;clearTimeout(O),O=setTimeout(()=>{re(M)},250)}function z(){clearTimeout(O)}a.useEffect(()=>{r.lists&&re()},[r]),a.useEffect(()=>{var M;let E=new FormData;E.append("id_company",(M=t==null?void 0:t.company)==null?void 0:M.id_company),E.append("id_campaign",s.id),q.post(D+"/api/get/campaign",E,{withCredentials:!0}).then(V=>V.data).then(V=>{h(V)}).catch(V=>{})},[]),a.useEffect(()=>{d!=null&&d.id_template&&se()},[d]);function se(){var M;let E=new FormData;E.append("id_company",(M=t==null?void 0:t.company)==null?void 0:M.id_company),E.append("id_template",d==null?void 0:d.id_template),E.append("type","all"),q.post(D+"/api/get/templatejson",E,{withCredentials:!0}).then(V=>V.data).then(V=>{var U;_((U=V==null?void 0:V.json)==null?void 0:U.msg)}).catch(V=>{A.error(String(V))})}function ne(E){var V,U;let M=E.target.value;if(M){let ce=new FormData;ce.append("id_list",M),ce.append("id_company",(V=t==null?void 0:t.company)==null?void 0:V.id_company),ce.append("id_campaign",s.id);let _e=!1;if((U=d==null?void 0:d.lists)!=null&&U.length?d.lists.includes(M)||(_e=!0,h(Ee=>({...Ee,lists:Ee.lists+","+M}))):(h(Ee=>({...Ee,lists:M})),_e=!0),_e){let Ee=R(E.target);Ee=Ee.parents(".result"),Ee.hide("x"),q.post(D+"/api/update/addlistcampaign",ce,{withCredentials:!0}).then(as=>as.data).then(as=>{as.status}).catch(as=>{})}}}function I(E){var V;let M=E.target.value;if(M){h(ce=>{let _e={...ce};return _e.id_domain=M,_e}),A.success("Excelente"),c({...r,domain:!1});let U=new FormData;U.append("id_company",(V=t==null?void 0:t.company)==null?void 0:V.id_company),U.append("id_campaign",d==null?void 0:d.id_campaign),U.append("id_domain",M),q.post(D+"/api/update/campaign/domain",U,{withCredentials:!0}).then(ce=>ce.data).then(ce=>{})}}function ie(E){let M=E.target.value;if(M){let V=new FormData;V.append("id_campaign",d.id_campaign),V.append("id_list",M),V.append("id_company",t.company.id_company),q.post(D+"/api/delete/listscampaign",V,{withCredentials:!0}),h(U=>{var ce;return{...U,lists:(ce=U==null?void 0:U.lists)==null?void 0:ce.replace(","+M,"").replace(M,"")}})}}function me(E){c(i),c(M=>({...M,[E]:!0}))}function pe(){var V,U;let E=(V=document.querySelectorAll(".item .top"))==null?void 0:V.length,M=(U=document.querySelectorAll(".item .top.active"))==null?void 0:U.length;return E!==M&&A.error("Opps tienes campos que terminar."),E==M}function Te(E){var M;if(pe()){he("sendCampaign",!0);let V=new FormData;V.append("id_company",(M=t==null?void 0:t.company)==null?void 0:M.id_company),V.append("id_campaign",s.id),q.post(D+"/api/send/campaign",V,{withCredentials:!0}).then(U=>U.data).then(U=>{he("sendCampaign",!1),U.status?A.success("Campaña enviada!"):A.error(U.msg)}).catch(U=>{he("sendCampaign",!1)})}}function fe(E){var U;let M=R(E.target);M.addClass("await");let V=new FormData;V.append("affair",m.affair),V.append("id_company",(U=t==null?void 0:t.company)==null?void 0:U.id_company),V.append("id_campaign",d.id_campaign),q.post(D+"/api/update/setaffair",V,{withCredentials:!0}).then(ce=>ce.data).then(ce=>{M.removeClass("await"),ce.status?(c(i),h(_e=>({..._e,affair:m.affair}))):A.error(ce.msg)}).catch(ce=>{M.removeClass("await")})}function he(E,M){g(V=>({...V,[E]:M}))}function Se(){var M;T(!0);let E=new FormData;E.append("id_company",(M=t==null?void 0:t.company)==null?void 0:M.id_company),E.append("id_campaign",s.id),q.post(D+"/api/delete/campaign",E,{withCredentials:!0}).then(V=>V.data).then(V=>{T(!1),V.status&&n("/campaigns")}).catch(V=>{T(!1)})}function We(E){let M=E.target.value,V=E.target.name;if(V=="date"){const U=new Date(M),ce=U.getDate(),_e=U.getFullYear(),Ee=U.getMonth()+1;y({...k,dd:ce,yy:_e,mm:Ee})}else y({...k,[V]:M})}function Ze(){var M;let E=new FormData;C(!0),E.append("id_company",(M=t==null?void 0:t.company)==null?void 0:M.id_company),E.append("hh",k.hh?k.hh:"?"),E.append("dd",Ss(k.dd)?Ss(k.dd):"?"),E.append("yy",k.yy?k.yy:"?"),E.append("mm",k.mm?k.mm:"?"),E.append("ii",k.ii?k.ii:"?"),E.append("id_campaign",s.id),E.append("timeExpire",k==null?void 0:k.timeExpire),E.append("p_type",k==null?void 0:k.p_type),E.append("type","campaign"),q.post(D+"/api/update/programming",E,{withCredentials:!0}).then(V=>V.data).then(V=>{C(!1),V.status&&(P(!1),A.success("Campana programada con exito"))}).catch(V=>{C(!1)})}function Ue(){var M;let E=new FormData;E.append("msg",N),E.append("id_campaign",s.id),E.append("id_company",(M=t==null?void 0:t.company)==null?void 0:M.id_company),E.append("type","sms"),d!=null&&d.id_template&&E.append("id_template",d==null?void 0:d.id_template),q.post(D+"/api/upload/bodycampaign",E,{withCredentials:!0}).then(V=>V.data).then(V=>{V.status&&A.success("Guardado con exito")}).catch(V=>{A.error(String(V))})}function es(){var M;let E=new FormData;E.append("id_campaign",d==null?void 0:d.id_campaign),E.append("id_company",(M=t==null?void 0:t.company)==null?void 0:M.id_company),q.post(D+"/api/update/pausecampaign",E,{withCredentials:!0}).then(V=>V.data).then(V=>{V.status&&h({...d,status:"prepare"})})}function ss(){var M;let E=new FormData;E.append("id_company",(M=t==null?void 0:t.company)==null?void 0:M.id_company),E.append("status",!0),q.post(D+"/api/get/domains",E,{withCredentials:!0}).then(V=>V.data).then(V=>{ee(V)})}return e.jsxs(e.Fragment,{children:[e.jsx(te,{maxWidth:400,minWidth:400,visible:w,callback:L,buttonsActions:!1,children:e.jsx(At,{Close:L,setCampaign:h,campaign:d})}),e.jsx(te,{visible:S,callback:P,width:"30%",onClick:Ze,maxWidth:"500px",next:"Programar",Pending:b,children:e.jsx(Fs,{setFormProgamming:We,campaign:d})},Fs?"XD":"xd"),e.jsx(Pe,{visible:v,callback:f,Pending:F,onClick:Se,name:"campana"}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles de campaña"}),e.jsx("span",{children:'Gestiona tus campañas de manera eficiente y optimiza tus estrategias de marketing con nuestra función de "Detalles de Campaña".'})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:E=>{setModalWizard(!0)},children:e.jsx(Ve,{})})})]}),e.jsxs("div",{className:"menu-top-right",children:[e.jsx("button",{className:"programming",onClick:E=>{pe()&&P(!0)},children:"Programar"}),e.jsx("button",{className:"programming",onClick:E=>n("/campaigns/stats/"+(s==null?void 0:s.id)),children:"Estadisticas"}),e.jsx("button",{className:"programming",onClick:E=>{f(!0)},children:"Eliminar"}),e.jsxs("button",{className:`programming ${x.sendCampaign?"await":""} `,onClick:E=>{L(!0)},children:["Enviar Prueba ",e.jsx("div",{className:"loading"})]}),e.jsxs("button",{className:`send - campaign ${x.sendCampaign?"await":""} `,onClick:Te,children:["Enviar Campaña ",e.jsx("div",{className:"loading"})]})]}),e.jsxs("div",{className:"box steps",children:[e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:d.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{style:{position:"relative",top:"21px"},children:[e.jsx("p",{style:{display:"inline"},children:"Estatus:"}),e.jsx(Mt,{style:{marginLeft:"9px",fontSize:"13px",position:"relative",top:"-1px"},PauseCampaign:es,status:d==null?void 0:d.status})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx($e,{})}),e.jsxs("button",{children:[e.jsx(ge,{})," "]})]})]}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top active",children:[e.jsx("div",{className:"check",children:e.jsx(Le,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Crear Campaña"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top active",children:[e.jsx("div",{className:"check active",children:e.jsx(Le,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Elegir Tipo"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{children:"Editar"})})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${d!=null&&d.lists?"active":""} `,children:[e.jsx("div",{className:"check",children:e.jsx(Le,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Contactos"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"}),e.jsx("div",{className:"selects",children:((He=d==null?void 0:d.lists)==null?void 0:He.length)>=1?(Ie=d==null?void 0:d.lists)==null?void 0:Ie.split(",").map((E,M)=>e.jsx("div",{className:"select",children:e.jsxs("p",{children:["Lista: ",E," ",e.jsx("button",{className:"delete",onClick:ie,value:E,children:e.jsx(ae,{})})]})})):""})]}),r.lists==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsxs("div",{className:"form-input small",children:[e.jsx("label",{children:"Buscar lista... (Solo obtendras las listas con contactos)"}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"search",onKeyUp:W,onKeyDown:z,placeholder:"Buscar"}),e.jsx("button",{onClick:E=>{n("/contacts/lists/add")},children:"Crear "})]})]}),e.jsxs("div",{className:"search-result",children:[l.lists.map((E,M)=>e.jsx("div",{className:"result",children:e.jsxs("div",{className:"info",children:[e.jsx("p",{children:E.name}),e.jsxs("span",{children:["Contactos: ",E.contacts]}),e.jsx("span",{children:"Agregado: 05/05/2022"}),e.jsx("button",{className:"select",onClick:ne,value:E.id_list,children:e.jsx(Cs,{})})]})},M)),u.lists?e.jsx(ye,{}):u.lists==!1&&l.lists.length==0?e.jsx(je,{name:"listas"}):""]})]})}):e.jsx("div",{className:"right",children:e.jsx("button",{onClick:E=>{me("lists")},children:"Editar"})})]})}),(d==null?void 0:d.type_c)=="em"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${d!=null&&d.id_domain?"active":""} `,children:[e.jsx("div",{className:"check",children:e.jsx(Le,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Remitente"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),r.domain==!0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsx("div",{className:"search-result",children:Q==null?void 0:Q.map((E,M)=>e.jsx("div",{className:"result",children:e.jsxs("div",{className:"info",children:[e.jsx("p",{children:E.domain}),e.jsxs("span",{children:["Correo: ",E.domain_email]}),e.jsx("button",{className:"select",onClick:I,value:E.id_domain,children:e.jsx(Cs,{})})]})},54))})})}):e.jsx("div",{className:"right",children:e.jsx("button",{onClick:E=>{me("domain"),ss()},children:"Editar"})})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${d!=null&&d.affair?"active":""} `,children:[e.jsx("div",{className:"check",children:e.jsx(Le,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Asunto"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),r.affair==!0?e.jsx(e.Fragment,{children:e.jsx(Ds,{Preview:!1,Send:!1,onSave:fe,defaultValue:d==null?void 0:d.affair,onChange:E=>{j({...m,affair:E})}})}):e.jsx("div",{className:"right",children:e.jsx("button",{onClick:E=>{me("affair")},children:"Editar"})})]})})]}):"",e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${d!=null&&d.template?"active":""} `,children:[e.jsx("div",{className:"check",children:e.jsx(Le,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Plantilla"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),r.body==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[(d==null?void 0:d.type_c)=="em"?e.jsx(e.Fragment,{children:d!=null&&d.template?e.jsxs("div",{className:"preview-template",children:[e.jsx("p",{children:(Ge=d==null?void 0:d.template)==null?void 0:Ge.title}),e.jsxs("span",{children:["Plantilla creada:  ",oe((Je=d==null?void 0:d.template)==null?void 0:Je.time_add)]}),e.jsx("img",{src:gs((Xe=t==null?void 0:t.company)==null?void 0:Xe.folder_sftp,(K=d==null?void 0:d.template)==null?void 0:K.preview_image),alt:""}),e.jsx("br",{}),e.jsx($,{to:`/ editor / canvas / ${(G=d==null?void 0:d.template)==null?void 0:G.id_template}?campaign = `+s.id,children:"Editar plantilla"})]}):e.jsx($,{to:"/ editor / canvas /? campaign = "+s.id,children:"Crear una plantilla"})}):"",(d==null?void 0:d.type_c)=="sms"?e.jsx(e.Fragment,{children:r.body==!0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsx("div",{className:"form-input flex",children:e.jsx(Ds,{value:N,onChange:_,onSave:Ue})})})}):""}):""]})}):"",r.body==!1?e.jsx("div",{className:"right",children:e.jsx("button",{onClick:E=>{me("body")},children:"Editar"})}):""]})})]})]})}function $t({Visible:s,Close:t,Callback:n,loadLists:i}){const{UserInfo:r}=a.useContext(X),[c,l]=a.useState(0),[p,u]=a.useState([qe()]),[o,d]=a.useState({type:"",name:""});Z();function h(m){m.stopPropagation(),m.preventDefault();let j=R(m.target);j.parents(".options").find(".active").removeClass("active"),j.addClass("active");let v=j.attr("value");d(f=>({...f,type:v}))}function x(m){var f;let j=!1,v=R(m.target);if((c===0&&o.type=="em"||o.type=="sms")&&(j=!0),c==1&&o.type!==""&&o.name!==""){v.addClass("await");let S=new FormData;S.append("name",o.name),S.append("type_c",o.type),S.append("id_company",(f=r==null?void 0:r.company)==null?void 0:f.id_company),q.post(D+"/api/upload/list",S,{withCredentials:!0}).then(P=>P.data).then(P=>{P.status&&(t(!1),n(!0),i()),v.removeClass("await")}).catch(P=>{v.removeClass("await")})}j&&l(S=>S+1)}function g(m){let j=m.target.name,v=m.target.value;d(f=>({...f,[j]:v}))}return a.useEffect(()=>{R(".case.active").removeClass("active"),R(".case").eq(c).addClass("active")},[c]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[c>0?e.jsxs("button",{className:"return",onClick:m=>{l(j=>j-1)},children:[e.jsx(ze,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:m=>{t(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear una nueva lista"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de lista que te gustaría crear"})]}),e.jsxs("div",{className:"options flex",id:`options-${p[0]}`,children:[e.jsxs("div",{className:"selector",onClick:h,value:"em",children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"LISTA DE EMAIL"}),e.jsx("span",{children:"La lista de email es una herramienta que te permite administrar tus contactos de manera eficiente. Aquí podrás subir tus contactos para realizar envíos de correo electrónico de forma conveniente y efectiva."})]})]}),e.jsxs("div",{className:"selector",onClick:h,value:"sms",children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"LISTA TELEFONICA"}),e.jsx("span",{children:"Una lista de números es una herramienta que te permite gestionar y organizar de manera efectiva tus contactos telefónicos. Con ella, podrás enviar mensajes de texto rápidos y confiables a cualquier número, sin importar el país."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar Lista"}),e.jsx("span",{className:"desc",children:"Asignale un nombre a tu nueva lista."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de lista"}),e.jsx("input",{type:"text",name:"name",onChange:g,placeholder:"Nombre"})]})})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:"next",onClick:x,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function zt({functions:s}){let{setSelectMultiple:t,selects:n,resetSelection:i,selectMultiple:r}=s;const c=Z();function l(){n.length?c("/contacts/upload/"+JSON.stringify(n)):de.error("No has seleccionado ninguna lista")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top gl",children:[r?e.jsxs(e.Fragment,{children:[e.jsxs("button",{children:["Seleccionando (",n==null?void 0:n.length,")"]}),e.jsx("button",{onClick:l,children:"Subir Contactos"}),e.jsx("button",{onClick:i,children:"Cancelar"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:p=>{t(!0)},children:"Seleccionar Multiple"}),e.jsx("button",{onClick:p=>{c("/contacts/lists/email")},children:"Listas Email"}),e.jsx("button",{onClick:p=>{c("/contacts/lists/sms")},children:"Listas Mensajeria"}),e.jsx("button",{onClick:p=>{c("/contacts/lists/whatsapp")},children:"Listas Whatsapp"})]}),e.jsxs("div",{className:"search",children:[e.jsx("i",{children:e.jsx(ya,{})}),e.jsx("input",{type:"text",placeholder:"Buscar..."})]})]})})}function Vt({type:s,lists:t}){const[n,i]=a.useState(!1),[r,c]=a.useState([]),[l,p]=a.useState(!1),u=Z(),o=h=>{c(x=>x.includes(h)?x.filter(g=>g!==h):[...x,h])},d=()=>{c([]),i(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(zt,{functions:{resetSelection:d,selects:r,selectMultiple:n,setSelectMultiple:i}}),e.jsx(Pe,{visible:l,callback:p}),e.jsx("div",{className:"row",children:t.map((h,x)=>e.jsx("div",{className:"col-md-3 page-lists",children:e.jsx("div",{className:"box box-padding",children:e.jsxs("div",{className:"item flex-wrap",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/lists.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",title:h.name,children:ct(h.name,15)}),e.jsxs("span",{className:"desc",children:["Creado el: ",oe(h.time_add)]}),e.jsx("br",{}),n&&e.jsx("input",{type:"checkbox",onChange:()=>o(h.id_list),checked:r.includes(h.id_list)})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:g=>{u("/contacts/detail/"+h.id_list)},children:e.jsx(Re,{})}),e.jsx("button",{onClick:g=>{p(!0)},children:e.jsx(ae,{})})]})]})})},x))})]})}function ds(){const[s,t]=a.useState(),[n,i]=a.useState([]),[r,c]=a.useState(!1),{UserInfo:l}=a.useContext(X),p=le(),u=Z(),o=Me();function d(x){x&&t(!1)}function h(){var g;let x=new FormData;x.append("id_company",(g=l==null?void 0:l.company)==null?void 0:g.id_company),x.append("type",p==null?void 0:p.type),c(!0),i([]),q.post(D+"/api/get/list",x,{withCredentials:!0}).then(m=>m.data).then(m=>{i(m),c(!1)})}return a.useEffect(()=>{h(),o.pathname=="/contacts/lists/add"&&t(!0)},[p==null?void 0:p.type]),e.jsxs(e.Fragment,{children:[e.jsx($t,{Visible:s,Close:t,Callback:d,loadLists:h}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Listas"}),e.jsx("span",{children:"Estas son tus listas de contactos, puedes subir contactos rapidamente creando una lista y seleccionando tu archivo csv"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:x=>{t(!0)},children:"Crear nueva lista"})})]}),p.type==null?e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsx("div",{className:"box select-list",children:e.jsxs("div",{className:"top",children:[e.jsx("img",{src:"/img/icons/email_list.png",alt:""}),e.jsx("span",{children:"Listas Correos"}),e.jsx("button",{onClick:x=>{u("/contacts/lists/em")},children:"Ir"})]})})}),e.jsx("div",{className:"col-md-3",children:e.jsx("div",{className:"box select-list",children:e.jsxs("div",{className:"top",children:[e.jsx("img",{src:"/img/icons/message_list.png",alt:""}),e.jsx("span",{children:"Listas Telefonicas"}),e.jsx("button",{onClick:x=>{u("/contacts/lists/sms")},children:"Ir"})]})})})]}):e.jsx(Vt,{lists:n,type:p==null?void 0:p.type})]})}function Bt({Status:s}){return e.jsx(e.Fragment,{children:s=="wait"?e.jsxs("span",{className:"wait-list",children:[e.jsx(ba,{})," Subiendo..."]}):s=="ready"?e.jsxs("span",{className:"ready-list",children:[e.jsx(ve,{}),"  Activa"]}):s=="error"?e.jsxs("span",{className:"error-list",children:[e.jsx(Ca,{})," Error"]}):e.jsxs("span",{className:"setting-list",children:[e.jsx(zs,{})," En espera..."]})})}function Qt(){const{UserInfo:s}=a.useContext(X),t=le(),[n,i]=a.useState({}),r=Z();return a.useState(!1),a.useState(!0),a.useEffect(()=>{var l;let c=new FormData;c.append("id_list",t.id),c.append("id_company",(l=s==null?void 0:s.company)==null?void 0:l.id_company),q.post(D+"/api/get/list",c,{withCredentials:!0}).then(p=>p.data).then(p=>{i(p)})},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles de lista"}),e.jsx("span",{children:"Ve los detalle de tus listas y ve si estan listas para ser utilizadas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:c=>{r("/contacts/lists")},children:e.jsx(Ve,{})})})]}),e.jsx("div",{className:"menu-top-right",children:e.jsx("button",{className:"programming",onClick:c=>{r("/contacts/lists/logs/"+t.id)},children:"Logs"})}),e.jsxs("div",{className:"box steps",children:[e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:n.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Contactos"}),e.jsx("span",{children:n.contacts})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Tipo"}),e.jsx("span",{children:n.type})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Estatus"}),e.jsx(Bt,{Status:n.status})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(ke,{})}),e.jsx("button",{onClick:c=>{r("/contacts/upload/"+t.id)},children:e.jsx(we,{})}),e.jsx("button",{children:e.jsx(ae,{})})]})]}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"check active",children:e.jsx(Le,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Crear Lista"}),e.jsx("span",{className:"desc approve",children:e.jsx("span",{className:"ready-list",children:"Completado !"})})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"check active",children:e.jsx(Le,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Elegir Tipo"}),e.jsx("span",{className:"desc approve",children:e.jsx("span",{className:"ready-list",children:"Completado !"})})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:`check ${n.contacts>0?"active":""}`,children:e.jsx(Le,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Subir Contactos"}),e.jsx("span",{className:"desc",children:n.contacts==0?e.jsx("span",{className:"wait-list",children:"Pendiente"}):e.jsx("span",{className:"ready-list",children:"Completado !"})})]}),e.jsx("div",{className:"right",children:e.jsx("button",{onClick:c=>{r("/contacts/upload/"+t.id)},children:"Subir"})})]})})]})]})}function Wt({Visible:s,Close:t,Callback:n}){var C;const{UserInfo:i}=a.useContext(X),[r,c]=a.useState(0),[l,p]=a.useState([qe()]),[u,o]=a.useState({type:"",file:{}}),d={analize:!1,percentAnalize:"0",approve:!1},[h,x]=a.useState(d),[g,m]=a.useState(!1);let j=R("input[type='file']");const v=Z(),f=le();function S(N){N.stopPropagation(),N.preventDefault();let _=R(N.target);_.parents(".options").find(".active").removeClass("active"),_.addClass("active");let w=_.attr("value");o(L=>({...L,type:w}))}function P(N){var w;let _=!1;switch(R(N.target),(r===0&&u.type=="auto"||u.type=="manu")&&(_=!0),u.type){case"auto":r==1&&((w=u==null?void 0:u.file)==null?void 0:w.name)!==void 0&&y();break}_&&c(L=>L+1)}a.useEffect(()=>{R(".case.active").removeClass("active"),R(".case").eq(r).addClass("active")},[r]);function F(){document.querySelector("input[type='file']").click()}function T(N){x(_=>({..._,percentAnalize:N}))}function k(N){x(_=>({..._,analize:!0})),tt(N,T).then(_=>{_.analize=="good"&&(x(w=>({...w,approve:!0})),o(w=>({...w,file:_.file})))}).catch(_=>{b(),A.error("Opps! el archivo que intentastes subir no es compatible o tiene algun error."),x(w=>({...w,analize:!1,percentAnalize:0}))})}function y(){var _;m(!0);let N=new FormData;N.append("id_list",f.id),N.append("contacts",u.file),N.append("id_company",(_=i==null?void 0:i.company)==null?void 0:_.id_company),q.post(D+"/api/upload/contacts",N,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}).then(w=>w.data).then(w=>{m(!1),w.status?v("/contacts/detail/"+f.id):A.error(w.msg)}).catch(w=>{m(!1)})}function b(){o(N=>({...N,file:{}})),x(d),j.val("")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[r>0?e.jsxs("button",{className:"return",onClick:N=>{c(_=>_-1)},children:[e.jsx(ze,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:N=>{v("/contacts/detail/"+f.id)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Subir nuevos contactos"}),e.jsx("span",{className:"desc",children:"Selecciona de que manera quieres subir los contactos"})]}),e.jsxs("div",{className:"options flex",id:`options-${l[0]}`,children:[e.jsxs("div",{className:"selector",onClick:S,value:"manu",children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"SUBIR MANUALMENTE"}),e.jsx("span",{children:"Agrega tus contactos de forma rápida y sencilla, uno por uno, rellenando los campos de manera dinámica. Con solo unos pocos clics, podrás tener tus contactos listos para comunicarte con ellos de manera personalizada."})]})]}),e.jsxs("div",{className:"selector",onClick:S,value:"auto",children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"SUBIR MEDIANTE ARCHIVO"}),e.jsx("span",{children:"Importa tus contactos de manera rápida y eficiente mediante un archivo. Solo necesitas preparar un archivo en formato (.csv o .txt) con los detalles de tus contactos y nuestro sistema se encargará de procesarlo y añadirlos a tu lista en un instante."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Subir Archivo"}),e.jsx("span",{className:"desc",children:"Sube tu archivo rapidamente para procesarlo en tu lista de contactos."})]}),h.approve==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"file-adjunt",children:[e.jsx("i",{className:"icon",children:e.jsx(wa,{})}),e.jsxs("div",{className:"file",children:[e.jsx("p",{children:(C=u==null?void 0:u.file)==null?void 0:C.name}),e.jsxs("div",{className:"info",children:[e.jsxs("span",{children:["Tipo de archivo: ",u.file.type]}),e.jsxs("span",{children:["Peso: ",u.file.size," kb"]})]}),e.jsx("button",{className:"delete",onClick:b,children:e.jsx(ae,{})})]})]})}):e.jsxs("div",{className:"upload-contact",children:[e.jsx("input",{type:"file",accept:".csv,.txt",onChange:k,hidden:!0}),h.analize==!0?e.jsx(e.Fragment,{children:e.jsxs("p",{children:["Estamos analizando tu archivo... ",h.percentAnalize,"%"]})}):e.jsx("center",{children:e.jsxs("div",{className:"select-upload",onClick:F,children:[e.jsx("i",{className:"icon",children:e.jsx(ka,{})}),e.jsx("p",{children:"Selecciona tu archivo de contactos"})]})})]})]}),e.jsx("div",{className:"actions center",children:e.jsxs("button",{className:`next ${g==!0?"await":""}`,onClick:P,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function Ht(){return e.jsx(e.Fragment,{children:e.jsx(Wt,{Visible:!0})})}function qs(){const[s,t]=a.useState(!0),[n,i]=a.useState(!1),[r,c]=a.useState({save:!1,campaign:!1}),[l,p]=a.useState({results:[],loadingTemplate:!1}),[u,o]=a.useState(!1),[d,h]=a.useState({}),[x,g]=a.useState(""),[m,j]=a.useState(!1),{UserInfo:v}=a.useContext(X),f=le(),[S,P]=a.useState();let F=["Cargando editor...","Nos tardaremos un poco","Que tal tu dia?","Vamos! con mucha imaginacion.","Ahora es un buen momento!","Un poco mas...","Ya casi!","Había una vez!"];const T=Z();function k(O,W){var z=document.createElement("script");z.src=O,z.onload=W,document.head.appendChild(z)}a.useEffect(()=>{i(!0),n&&(k("//editor.unlayer.com/embed.js",function(O){}),k("/draganddrop/dist/js/body.js",function(O){setTimeout(()=>{t(!1)},3500)}))},[n]);function y(){unlayer.exportHtml(async function(O){var W;if(x==""||x==null)A.error("Opps debes definir un titulo primero"),o(!0);else{C("save",!0);let z=new FormData,se=await N().then(ne=>ne);z.append("preview",se),z.append("title",x),z.append("html",O.html),z.append("json",JSON.stringify(O.design)),z.append("id_company",(W=v==null?void 0:v.company)==null?void 0:W.id_company),z.append("type","email"),f.id&&z.append("id_template",f.id),q.post(D+"/api/upload/bodycampaign",z,{withCredentials:!0}).then(ne=>ne.data).then(ne=>{ne.status&&f.id==null&&T(`/editor/canvas/${ne.id_body}`),C("save",!1)}).catch(ne=>{C("save",!1)})}})}function b(){i(!0),R("#editor").html(""),T("/editor/canvas")}function C(O,W){c(z=>({...z,[O]:W}))}async function N(){return new Promise((O,W)=>{let z=document.querySelector(".preview-template");try{unlayer.exportHtml(se=>{z.innerHTML=se.html,z.innerHTML&&xs(z,{allowTaint:!1,useCORS:!0}).then(ne=>{let I=ne.toDataURL("image/png");O(I)})})}catch(se){W(se)}})}function _(){var W;let O=new FormData;O.append("id_company",(W=v==null?void 0:v.company)==null?void 0:W.id_company),q.post(D+"/api/get/templatesall",O,{withCredentials:!0}).then(z=>z.data).then(z=>{p(se=>({...se,results:z}))}).catch(z=>{})}function w(){j(!0)}function L(O){var z;let W=new FormData;W.append("id_company",(z=v==null?void 0:v.company)==null?void 0:z.id_company),W.append("id_campaign",O),q.post(D+"/api/get/campaign",W,{withCredentials:!0}).then(se=>se.data).then(se=>{se&&h(se)})}a.useEffect(()=>{let W=new URLSearchParams(window.location.search).get("campaign");W&&L(W),_();let z=0;P(F[0]),setInterval(()=>{let se=F.length;z=z+1,P(F[z-1]),z>=se&&(z=0)},4500)},[]),a.useEffect(()=>{var O;if(f.id){let W=new FormData;t(!0),W.append("id_template",f.id),W.append("id_company",(O=v==null?void 0:v.company)==null?void 0:O.id_company),q.post(D+"/api/get/templatejson",W,{withCredentials:!0}).then(z=>z.data).then(z=>{t(!1),z.json?unlayer.loadDesign(JSON.parse(z.json)):A.error("Error al cargar la template")}).catch(z=>{t(!1)})}},[f==null?void 0:f.id]);function Q(O){g(O.target.value)}function ee(O){T(`/editor/canvas/${O}${d!=null&&d.id_campaign?"?campaign="+d.id_campaign:""}`)}function re(){var W;C("campaign",!0);let O=new FormData;O.append("id_campaign",d.id_campaign),O.append("id_company",(W=v==null?void 0:v.company)==null?void 0:W.id_company),O.append("id_template",f.id),q.post(D+"/api/update/settemplate",O,{withCredentials:!0}).then(z=>z.data).then(z=>{C("campaign",!1),z.status&&(A.success(z.msg),h(se=>({...se,id_template:f.id})))}).catch(z=>{C("campaign",!1)})}function H(){var W;let O=new FormData;O.append("id_campaign",d.id_campaign),O.append("id_company",(W=v==null?void 0:v.company)==null?void 0:W.id_company),h(z=>({...z,id_template:""})),q.post(D+"/api/delete/settemplate",O,{withCredentials:!0}).then(z=>z.data).then(z=>{})}return e.jsxs(e.Fragment,{children:[s?e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:[S," ",e.jsx("div",{className:"loading"})]})]})})}):"",e.jsxs(te,{visible:u,onClick:O=>{o(!1)},next:"Asignar",callback:o,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Elige un titulo"})}),e.jsx("br",{}),e.jsx("div",{className:"content",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Esto te ayudara a identificar tu plantilla"}),e.jsx("input",{type:"text",placeholder:"Titulo de template",onChange:Q})]})}),e.jsx("br",{})]}),e.jsxs(te,{visible:m,minWidth:"50%",buttonSave:!1,maxWidth:"150px",callback:j,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Mis Plantillas"})}),e.jsx("br",{}),e.jsxs("div",{className:"content row",children:[l.results.map((O,W)=>{var z;return e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"template",onClick:se=>{ee(O.id_template)},children:[e.jsx("p",{children:O.title}),e.jsxs("span",{children:["Agregada: ",oe(O.time_add)]}),e.jsx("img",{src:gs((z=v==null?void 0:v.company)==null?void 0:z.folder_sftp,O.preview_image)})]})},W)}),l.loadingTemplate==!1&&l.results.length==0?e.jsx(je,{name:"plantillas"}):""]})]}),e.jsxs("div",{className:"editor-canvas",children:[e.jsx("header",{children:e.jsx("link",{href:"/draganddrop/dist/css/style.css",rel:"stylesheet",type:"text/css"})}),e.jsxs("div",{className:"topnav1",children:[e.jsxs("div",{className:"buttons",children:[e.jsxs("button",{style:{background:"transparent"},onClick:O=>{T("/home")},children:[e.jsx(Ve,{})," Volver"]}),d.name?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"campaign",children:[e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""}),e.jsx("p",{children:d==null?void 0:d.name}),e.jsx("span",{children:"Campaña seleccionada"})]}),d.id_template!==f.id?e.jsxs("button",{className:`${r.campaign==!0?"await":""}`,onClick:re,children:[e.jsx(Sa,{})," Usar Plantilla",e.jsx("div",{className:"loading"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"use",children:"Utilizando plantilla"}),e.jsx("button",{onClick:H,children:e.jsx(ae,{})})]})]}):""]}),e.jsxs("div",{className:"buttons right",children:[e.jsxs("button",{className:`${r.save==!0?"await":""}`,onClick:y,children:[f.id?e.jsxs(e.Fragment,{children:[e.jsx($e,{})," Editar"]}):e.jsxs(e.Fragment,{children:[" ",e.jsx(_a,{})," Guardar"]}),e.jsx("div",{className:"loading"})]}),e.jsxs("button",{onClick:w,children:[e.jsx(we,{})," Cargar plantilla"]}),e.jsxs("button",{onClick:b,children:[e.jsx(Ea,{})," Nuevo"]}),e.jsx("button",{onClick:w,children:e.jsx(Fa,{})})]})]}),e.jsx("div",{className:"preview-template"}),e.jsx("div",{id:"editor"})]})]})}function It(){const s=Z(),[t,n]=a.useState([]),[i,r]=a.useState(!0),[c,l]=a.useState({id_delete:void 0,pending:!1}),[p,u]=a.useState(!1);Me();const{UserInfo:o}=a.useContext(X);function d(){var g;r(!0);let x=new FormData;x.append("id_company",(g=o==null?void 0:o.company)==null?void 0:g.id_company),q.post(D+"/api/get/surveys",x,{withCredentials:!0}).then(m=>m.data).then(m=>{n(m),r(!1)}).catch(m=>{r(!1),A.error(String(m))})}a.useEffect(()=>{i&&d()},[]);function h(){var g;l(m=>({...m,pending:!0}));let x=new FormData;x.append("id_company",(g=o==null?void 0:o.company)==null?void 0:g.id_company),x.append("id_survey",c.id_delete),q.post(D+"/api/delete/survey",x,{withCredentials:!0}).then(m=>m.data).then(m=>{u(!1),m.status&&d(),l(j=>({...j,pending:!1}))}).catch(m=>{l(j=>({...j,pending:!1}))})}return e.jsxs(e.Fragment,{children:[e.jsx(Pe,{visible:p,Pending:c.pending,onClick:h,callback:u}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis encuestas"}),e.jsx("span",{children:"Gestiona tus encuestas rapidamente y optimiza tus estrategias"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:x=>{s("/surveys/editor")},children:"Crear nueva encuesta"})})]}),e.jsxs("div",{className:"row",children:[i==!1?t.map((x,g)=>{var m;return e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${D}/api/get/previewsurvey?miniature=${x.miniature})`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{onClick:j=>{u(!0),l(v=>({...v,id_delete:x.id_survey}))},children:e.jsx(ae,{})}),e.jsx("button",{onClick:j=>{s("/surveys/editor/"+x.id_survey)},children:e.jsx($e,{})}),e.jsx("button",{onClick:j=>{s(`/stats/survey/${x.id_survey}`)},children:e.jsx(ke,{})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:(m=x==null?void 0:x.header)==null?void 0:m.title}),e.jsxs("span",{children:["Encuesta agregada el: ",oe(x.time_add)]})]})]})},g)}):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(ye,{})})}),i==!1&&t.length==0?e.jsx(je,{name:"encuestas"}):""]})]})}function Gt({header:s,value:t,keyid:n,setModalImage:i,page:r,setEdit:c,setJson:l}){var g;function p(m,j,v){u(v),c({type:m,key:j,page:r})}function u(m){let j=R(m.target).parents(".question");R(".question.active").removeClass("active"),j.addClass("active")}function o(m){let j=m.target.value;l(v=>{let f=[...v];return f[r].quests[n].type=j,f})}function d(m){u(m),m.stopPropagation(),c({});let j=!0;l(v=>{const f=[...v];return j&&(f[r].quests[n].questions.push({}),j=!1),f})}function h(m,j){m.stopPropagation();let v=!0;l(f=>{var P;let S=[...f];if(v&&(P=S[r])!=null&&P.quests[n]){let F=[];S[r].quests[n].questions.forEach((T,k)=>{k!==j?F.push(T):v=!1}),S[r].quests[n].questions=F}return S})}function x(m){m.stopPropagation();let j=!0;l(v=>{let f=[...v],S=[];return f[r].quests.forEach((P,F)=>{F!==n&&S.push(P)}),j&&(f[r].quests=S,j=!1),f})}return R(document).on("click",".options button",function(m){m.stopImmediatePropagation(),R(".edit-active").removeClass("edit-active"),R(this).parents(".options").parents(".quest").addClass("edit-active")}),R(document).on("click",".top p, .top span",function(m){m.stopImmediatePropagation(),R(".edit-active").removeClass("edit-active"),R(this).addClass("edit-active")}),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"question edit",colorBox:s.colorBox,style:{borderRadius:s.borderRadius+"px"},children:[e.jsx("button",{className:"delete-question",onClick:m=>{x(m),c({})},children:e.jsx(ae,{})}),e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",onClick:m=>{p("title",n,m)},children:t!=null&&t.title?t.title:"Elige un titulo..."}),e.jsx("span",{onClick:m=>{p("desc",n,m)},children:t!=null&&t.desc?t.desc:"Elige una descripcion... (opcional)"})]}),t!=null&&t.img?e.jsx("img",{className:"img-quest",src:t.img}):"",e.jsxs("div",{className:"select-types",children:[e.jsx("button",{onClick:d,className:"add-quest",children:"Agregar pregunta"}),e.jsx("button",{onClick:m=>{i(!0),c({key:n,type:"add-image",page:r})},children:e.jsx(Da,{})}),e.jsxs("select",{onChange:o,children:[e.jsx("option",{value:"input",children:"Respuesta corta"}),e.jsx("option",{value:"input-large",children:"Respuesta larga"}),e.jsx("option",{value:"radio",children:"Opcion multiple"}),e.jsx("option",{value:"check",children:"Casillas de verificacion"})]})]}),(g=t==null?void 0:t.questions)==null?void 0:g.map((m,j)=>e.jsxs("div",{className:"quest",children:[t.type=="input"?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",disabled:!0,placeholder:`${m.title?m.title:"Elige una descripcion"}`}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:v=>{h(v,j)},children:e.jsx(ae,{})}),e.jsx("button",{onClick:v=>{c({key:n,type:"title-quest",quest_key:j,page:r})},children:e.jsx($e,{})})]})]}):"",t.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:n})," ",e.jsx("span",{children:m.title?m.title:"Elige una descripcion..."}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:v=>{h(v,j)},children:e.jsx(ae,{})}),e.jsx("button",{onClick:v=>{c({key:n,type:"title-quest",quest_key:j,page:r})},children:e.jsx($e,{})})]})]}):"",t.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:n})," ",e.jsx("span",{children:m.title?m.title:"Elige una descripcion..."}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:v=>{h(v,j)},children:e.jsx(ae,{})}),e.jsx("button",{onClick:v=>{c({key:n,type:"title-quest",quest_key:j,page:r})},children:e.jsx($e,{})})]})]}):"",t.type=="input-large"?e.jsxs(e.Fragment,{children:[e.jsx("textarea",{type:"checkbox",name:n,placeholder:m.title,style:{width:"100%"}}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:v=>{h(v,j)},children:e.jsx(ae,{})}),e.jsx("button",{onClick:v=>{c({key:n,type:"title-quest",quest_key:j,page:r})},children:e.jsx($e,{})})]})]}):""]},j))]})})}function Jt({json:s=[],header:t={},setJson:n,setEdit:i,edit:r}){var P,F;const[c,l]=a.useState(!1),[p,u]=a.useState(!1);a.useState([]);const[o,d]=a.useState("email"),[h,x]=a.useState({width:"",left:""});Z();function g(){n(T=>[...T,{quests:[{title:"",desc:"",type:"radio",questions:[]}]}])}function m(T){let k=!0;n(y=>{var N;let b=[...y],C=(N=b[T])==null?void 0:N.quests;return k&&(b[T].quests=[...C,{title:"",desc:"",type:"radio",img:"",questions:[]}],k=!1),b})}function j(T){n(k=>{let y=[...k],b=[];return y.forEach((C,N)=>{N!==T&&b.push(C)}),y=b,y})}function v(){let T=document.querySelector("#image-edit").value;n(k=>{let y=[...k];return y[r.page].quests[r.key].img=T,y}),l(!1)}function f(){window.localStorage.setItem("surveyPreview",JSON.stringify(s)),window.localStorage.setItem("surveyPreviewHead",JSON.stringify(t)),window.open("/surveys/preview","_blank")}function S(T){let k=T.target.value;d(k),x(y=>({...y,width:T.target.offsetWidth,left:T.target.offsetLeft}))}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{onClick:f,children:[e.jsx(Re,{})," Previsualizar"]}),e.jsxs("button",{onClick:T=>{u(!0)},children:[e.jsx(Ye,{})," Enviar"]})]})}),e.jsxs(te,{visible:p,minWidth:"35%",callback:u,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enviar"}),e.jsx("span",{children:"Tienes distintas opciones para enviar esta encuesta"})]}),t.short_link==null?e.jsx("span",{className:"alert-save",children:"Opps! aun no puedes usar esta funcion no has guardado la encuesta."}):"",e.jsx("div",{className:"menu-change",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("span",{children:"Enviar por"})}),e.jsx("li",{children:e.jsx("button",{className:`${o=="email"?"active":""}`,onClick:S,value:"email",children:e.jsx(qa,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${o=="link"?"active":""}`,onClick:S,value:"link",children:e.jsx(Pa,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${o=="embed"?"active":""}`,onClick:S,value:"embed",children:e.jsx(Ta,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${o=="settings"?"active":""}`,onClick:S,value:"settings",children:e.jsx(zs,{})})}),e.jsx("div",{className:"hover",style:{left:h.left+"px",width:h.width+"px"}})]})}),e.jsxs("div",{className:`result-menu ${t.short_link==null?"disabled":""} ${o=="email"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo electronico"}),e.jsx("input",{type:"text",placeholder:"contactos"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Asunto"}),e.jsx("input",{type:"text",placeholder:"informacion de contacto"})]})]}),e.jsxs("div",{className:`result-menu ${t.short_link==null?"disabled":""} ${o=="link"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Enlace"}),e.jsx("input",{type:"text",placeholder:"contactos",value:`${ns}/survey/${t.token}`,disabled:!0})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Enlace Corto"}),e.jsx("input",{type:"text",placeholder:"url corta",value:t.short_link,disabled:!0})]})]}),e.jsx("div",{className:`result-menu ${t.short_link==null?"disabled":""} ${o=="embed"?"show":""}`,children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Incorporar HTML"}),e.jsx("input",{type:"text",placeholder:"contactos"})]})}),e.jsxs("div",{className:`result-menu ${t.short_link==null?"disabled":""} ${o=="settings"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Condicion de respuesta "}),e.jsxs("select",{name:"",id:"",children:[e.jsx("option",{value:"",children:"Responder varias veces"}),e.jsx("option",{value:"",children:"Responder solo una vez"})]})]}),e.jsx("div",{className:"form-input"})]})]}),e.jsxs(te,{visible:c,callback:l,onClick:v,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Url de imagen"}),e.jsx("span",{children:"Ingresa la url de la imagen que quieres integrar en tu pregunta"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",id:"image-edit",placeholder:"https://image.com/image.png"})})]}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${t.blur}px)brightness(${t.brightness})`,background:t.background2}}),e.jsxs("div",{className:"survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(P=t==null?void 0:t.logo)!=null&&P.length?e.jsx("img",{className:"logo",src:t==null?void 0:t.logo}):"",(F=t==null?void 0:t.title)!=null&&F.length?e.jsx("p",{className:"",children:t.title}):""]})}),s==null?void 0:s.map((T,k)=>{var y;return e.jsxs("div",{className:"page",children:[e.jsxs("div",{className:"info-page",children:[e.jsxs("p",{children:["Pagina ",k+1]}),e.jsx("button",{className:"delete",onClick:b=>{j(k)},children:e.jsx(ae,{})})]}),(y=T.quests)==null?void 0:y.map((b,C)=>e.jsx(Gt,{header:t,setModalImage:l,value:b,page:k,keyid:C,setEdit:i,setJson:n},C)),e.jsxs("button",{className:"add-new",onClick:b=>{m(k)},children:[e.jsx(Be,{})," Nueva pregunta"]})]},k)}),e.jsxs("div",{className:"add-new",onClick:g,children:[e.jsx(Be,{})," Nueva pagina"]})]})]})}function Xt({setHeader:s,header:t,json:n}){const[i,r]=a.useState(!1),{UserInfo:c}=a.useContext(X);a.useState();function l(u){let o=u.target.value,d=u.target.name;d=="background"&&(o.indexOf("http")>=0||o.indexOf("www")>=0)&&(o=`url(${o})`),s(h=>({...h,[d]:o}))}async function p(){var o;let u=new FormData;if(t.id_survey&&u.append("id_survey",t.id_survey),u.append("header",JSON.stringify(t)),u.append("id_company",(o=c==null?void 0:c.company)==null?void 0:o.id_company),u.append("json",JSON.stringify(n)),t.title)if(n.length>=1){let d=await new Promise((h,x)=>{xs(document.querySelector(".center"),{allowTaint:!1,useCORS:!0}).then(g=>{let m=g.toDataURL("image/png");h(m)})});d&&u.append("miniature",d.replace("data:image/png;base64,","")),r(!0),q.post(D+"/api/upload/survey",u,{withCredentials:!0}).then(h=>h.data).then(h=>{h.status&&(h.id_survey&&(t.id_survey||s(x=>({...x,id_survey:h.id_survey}))),h.token&&s(x=>({...x,token:h.token})),h.short_link&&s(x=>({...x,short_link:h.short_link}))),r(!1)}).catch(h=>{r(!1)})}else A.error("Opps no has agregado una pregunta.");else A.error("Opps no has elegido un titulo")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar encuesta"}),e.jsx("span",{children:"Personaliza tu encuesta, imagen, fondo, titulo y logo."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Titulo"}),e.jsx("input",{type:"text",onChange:l,defaultValue:t.title,name:"title",placeholder:"Ej: Encuesta de fidelidad"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Ingresa url de tu logo"}),e.jsx("input",{type:"text",onChange:l,defaultValue:t.logo,name:"logo"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",onChange:l,defaultValue:t.background,name:"background"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",defaultValue:0,step:"0.1",max:"10",value:t.blur,onChange:l,name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",defaultValue:1,step:"0.0",max:"1",value:t.brightness,onChange:l,name:"brightness"})]}),e.jsx("br",{}),e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar Cajas"}),e.jsx("span",{children:"Personaliza de tu manera preferida tus cajas."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border Radius"}),e.jsx("input",{type:"range",defaultValue:.1,step:"0.1",max:"20",onChange:l,name:"borderRadius"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{onClick:u=>{l(u)},name:"colorBox",value:"ligth",children:"Modo Claro"}),e.jsx("button",{onClick:u=>{l(u)},name:"colorBox",value:"dark",children:"Modo Oscuro"}),e.jsx("button",{onClick:u=>{l(u)},name:"colorBox",value:"transparent",children:"Transparente"})]})]}),e.jsx("div",{className:"option",children:e.jsxs("button",{className:`save ${i?"await":""}`,onClick:p,children:["Guardar ",e.jsx("div",{className:"loading"})]})})]})}function Kt({value:s,page:t,setJson:n,keyid:i}){function r(c){let l=c.target.value;n(p=>{const u=[...p];return u[t].quests[i].title=l,u[t].quests[i].response=0,u})}return a.useEffect(()=>{s!=null&&s.title&&(document.querySelector("#title-edit").value=s.title)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo de pregunta"}),e.jsx("input",{id:"title-edit",onChange:r,type:"text",placeholder:"Ej: Como te llamas?"})]})})})}function Yt({page:s,value:t,setJson:n,keyid:i}){function r(c){let l=c.target.value;n(p=>{const u=[...p];return u[s].quests[i].desc=l,u})}return a.useEffect(()=>{t!=null&&t.desc&&(document.querySelector("#title-edit").value=t.desc)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descripcion de pregunta"}),e.jsx("input",{id:"title-edit",onChange:r,type:"text",placeholder:"Ej: Tu nombre es importante por que..."})]})})})}function Zt({quest_key:s,page:t,value:n,setJson:i,keyid:r}){function c(l){l.stopPropagation();let p=l.target.value;i(u=>{let o=[...u];return o[t].quests[r].questions[s].title=p,o})}return a.useEffect(()=>{},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo de pregunta"}),e.jsx("input",{id:"title-edit",onChange:c,type:"text",placeholder:"Ej: Como te llamas?"})]})})})}function Ut({edit:s,json:t,setJson:n}){var i;return e.jsxs(e.Fragment,{children:[s.type=="title"?e.jsx(Kt,{page:s.page,value:t[s.key],setJson:n,keyid:s.key},s.key):"",s.type=="desc"?e.jsx(Yt,{page:s.page,value:t[s.key],setJson:n,keyid:s.key},s.key):"",s.type=="title-quest"?e.jsx(Zt,{page:s.page,quest_key:s.quest_key,value:(i=t[s.page].quests[s.key])==null?void 0:i.questions[s.quest_key],setJson:n,keyid:s.key},s.key):""]})}function Ps(){const[s,t]=a.useState({title:"",logo:"",background:"",blur:"0.5",brightness:""}),[n,i]=a.useState([]),[r,c]=a.useState({type:"",key:"",quest_key:"",page:""}),{UserInfo:l}=a.useContext(X),p=le(),[u,o]=a.useState(!0);function d(){var x;o(!0);let h=new FormData;h.append("id_survey",p.idsurvey),h.append("id_company",(x=l==null?void 0:l.company)==null?void 0:x.id_company),q.post(D+"/api/get/surveys",h,{withCredentials:!0}).then(g=>g.data).then(g=>{o(!1),g.header&&t(JSON.parse(g.header)),g.json&&i(JSON.parse(g.json))}).catch(g=>{o(!1),A.error(String(g))})}return a.useEffect(()=>{p.idsurvey?d():setTimeout(()=>{o(!1)},1e3)},[]),e.jsxs(e.Fragment,{children:[u?e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:["Cargando... ",e.jsx("div",{className:"loading"})]})]})}):"",e.jsx("div",{className:"editor-surveys",children:e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:"left",children:e.jsx(Xt,{setHeader:t,header:s,json:n})}),e.jsx("div",{className:"center",style:{background:s.background},children:e.jsx(Jt,{json:n,header:s,edit:r,setJson:i,setEdit:c})}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"type-editor",children:e.jsx(Ut,{edit:r,setJson:i,json:n,header:s})})})]})})]})}function Ts(){var d,h,x,g;const[s,t]=a.useState([]),[n,i]=a.useState(0),[r,c]=a.useState({}),[l,p]=a.useState(0);a.useEffect(()=>{t(JSON.parse(window.localStorage.getItem("surveyPreview"))),c(JSON.parse(window.localStorage.getItem("surveyPreviewHead")))},[]),a.useEffect(()=>{s.length&&i(s.length)},[s]);function u(){p(m=>m+1)}function o(){p(m=>m-1)}return e.jsxs("div",{className:"survey real",colorBox:r==null?void 0:r.colorBox,style:{background:r==null?void 0:r.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${r.blur}px)brightness(${r.brightness})`}}),e.jsxs("div",{className:"margin-survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(d=r==null?void 0:r.logo)!=null&&d.length?e.jsx("img",{className:"logo",src:r==null?void 0:r.logo}):"",(h=r==null?void 0:r.title)!=null&&h.length?e.jsx("p",{className:"",children:r.title}):""]})}),(g=(x=s[l])==null?void 0:x.quests)==null?void 0:g.map((m,j)=>{var v;return e.jsxs("div",{className:"question",style:{borderRadius:(r==null?void 0:r.borderRadius)+"px"},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:m.title}),e.jsx("span",{children:m.desc})]}),m!=null&&m.img?e.jsx("img",{className:"img-quest",src:m.img}):"",(v=m==null?void 0:m.questions)==null?void 0:v.map((f,S)=>e.jsxs("div",{className:"quest",children:[m.type=="input"?e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",disabled:!0,placeholder:`${f.title}`})}):"",m.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:0})," ",e.jsx("span",{children:f.title})]}):"",m.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:0})," ",e.jsx("span",{children:f.title})]}):"",m.type=="input-large"?e.jsx(e.Fragment,{children:e.jsx("textarea",{name:0,placeholder:f.title,style:{width:"100%"}})}):""]},S))]},j)}),e.jsx("div",{className:"buttons-bottom",children:l==n-1?e.jsxs(e.Fragment,{children:[l?e.jsx("button",{onClick:o,children:"Volver"}):"",e.jsx("button",{children:"Terminar"})]}):l<n-1?e.jsxs(e.Fragment,{children:[l?e.jsx("button",{onClick:o,children:"Volver"}):"",e.jsx("button",{onClick:u,children:"Siguiente"})]}):""})]})]})}function ei(){var j,v;const s=le(),[t,n]=a.useState([]),[i,r]=a.useState(!0),[c,l]=a.useState([]),[p,u]=a.useState(),[o,d]=a.useState(0);function h(){let f=new FormData;f.append("key",s.id),q.post(D+"/api/get/survey",f,{withCredentials:!0}).then(S=>S.data).then(S=>{r(!1),n(S)}).catch(S=>{r(!1)})}function x(f){f.preventDefault(),d(S=>S+1)}function g(f){f.preventDefault(),d(S=>S-1)}a.useEffect(()=>{s.id&&i==!0&&h()},[]),a.useEffect(()=>{t.header&&(u(JSON==null?void 0:JSON.parse(t==null?void 0:t.header)),l(JSON.parse(t.json)))},[t]);function m(f){f.preventDefault();let S=document.querySelector("#form"),P=new FormData(S);P.append("key",s.id),q.post(D+"/api/upload/responseSurvey",P,{withCredentials:!0})}return e.jsx(e.Fragment,{children:i?e.jsx("div",{className:"app",children:e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:["Cargando encuesta... ",e.jsx("div",{className:"loading"})]})]})})}):e.jsxs("div",{className:"survey real",colorBox:p==null?void 0:p.colorBox,style:{background:p==null?void 0:p.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${p==null?void 0:p.blur}px)brightness(${p==null?void 0:p.brightness})`}}),e.jsxs("div",{className:"margin-survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(j=p==null?void 0:p.logo)!=null&&j.length?e.jsx("img",{className:"logo",src:p==null?void 0:p.logo}):"",(v=p==null?void 0:p.title)!=null&&v.length?e.jsx("p",{className:"",children:p.title}):""]})}),e.jsx("form",{method:"POST",encType:"multipart/form-data",id:"form",children:c.map((f,S)=>{var P;return e.jsx("div",{className:`page ${S==o?"active":""}`,children:(P=f==null?void 0:f.quests)==null?void 0:P.map((F,T)=>{var k;return e.jsxs("div",{className:"question",style:{borderRadius:(p==null?void 0:p.borderRadius)+"px"},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:F.title}),e.jsx("span",{children:F.desc})]}),F!=null&&F.img?e.jsx("img",{className:"img-quest",src:F.img}):"",(k=F==null?void 0:F.questions)==null?void 0:k.map((y,b)=>e.jsxs("div",{className:"quest",children:[F.type=="input"?e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",name:`${S}-${T}-${b}`,placeholder:`${y.title}`})}):"",F.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:`${S}-${T}`,value:y.title})," ",e.jsx("span",{children:y.title})]}):"",F.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:`${S}-${T}-${b}`})," ",e.jsx("span",{children:y.title})]}):"",F.type=="input-large"?e.jsx(e.Fragment,{children:e.jsx("textarea",{name:`${S}-${T}-${b}`,placeholder:y.title,style:{width:"100%"}})}):""]},b))]},T)})})})}),e.jsx("div",{className:"buttons-bottom",children:o==c.length-1?e.jsxs(e.Fragment,{children:[o?e.jsx("button",{onClick:g,children:"Volver"}):"",e.jsxs("button",{onClick:m,className:"pending",children:["Terminar ",e.jsx("div",{className:"loading"})]})]}):e.jsxs(e.Fragment,{children:[o?e.jsx("button",{onClick:g,children:"Volver"}):"",e.jsx("button",{onClick:x,children:"Siguiente"})]})})]})]})})}function Ns(){const s=le();return e.jsx(e.Fragment,{children:e.jsx("div",{className:"menu-top",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:`/stats/survey/${s.id}`,children:"Estadisticas"})}),e.jsx("li",{children:e.jsx($,{to:`/stats/survey/${s.id}/detail`,children:"Detalles de respuestas"})}),e.jsx("li",{children:e.jsx($,{to:`/stats/survey/${s.id}/response`,children:"Respuestas"})})]})})})}function si(){const{UserInfo:s}=a.useContext(X),[t,n]=a.useState(!1);a.useState({});const[i,r]=a.useState([]),[c,l]=a.useState([]),[p,u]=a.useState([]),[o,d]=a.useState({}),[h,x]=a.useState({options:{chart:{id:"basic-bar"},xaxis:{categories:[]}},series:[{name:"series-1",data:[]}]}),g=le();function m(){var v;let j=new FormData;j.append("id_company",(v=s==null?void 0:s.company)==null?void 0:v.id_company),j.append("id_survey",g.id),q.post(D+"/api/get/statsurvey",j,{withCredentials:!0}).then(f=>f.data).then(f=>{l(f.days),d(f),u(f.daysResponse),r(f.countrys)})}return a.useEffect(()=>{m(),n(!0)},[t]),a.useEffect(()=>{x(j=>({...j,options:{...j.options,xaxis:{categories:c}},series:[{name:"serie 1",data:p}]}))},[p]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Encuesta: ",g.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu encuesta"})]})}),e.jsx(Ns,{}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Respuestas este mes"})}),e.jsx(Qe,{options:h.options,series:h.series,type:"area",height:300})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Preguntas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:o==null?void 0:o.totalQuestions})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Paginas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:o==null?void 0:o.pageTotal})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Respuestas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:o.totalResponse})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Visitas"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"100"})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{className:"title",children:"Tops Paises"})}),e.jsx("div",{className:"result countryr",children:i.map((j,v)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:Zs(j.country),alt:""}),e.jsx("p",{className:"",children:j.country==""?"Undefined":Us(String(j.country).toLocaleLowerCase())}),e.jsxs("span",{children:["(",j.amount,")"]})]},v))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding",children:e.jsx("div",{className:"top",children:e.jsx("p",{className:"title",children:"Tops Respuestas"})})})})]})})]})}function ai(){const s=le(),t=Z(),{UserInfo:n}=a.useContext(X),[i,r]=a.useState([]),[c,l]=a.useState(!1),[p,u]=a.useState({series:[{name:"Respuestas",data:[]}],chart:{type:"area",height:350,stacked:!0},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:[]}}),[o,d]=a.useState({series:[],theme:{palette:"palette3"},labels:[],chart:{type:"donut"}}),h=()=>{let m=new FormData;m.append("key",s.id),q.post(D+"/api/get/survey",m,{withCredentials:!0}).then(j=>j.data).then(j=>{r(JSON.parse(j.json)),x(j)})};function x(m){let j=JSON.parse(m.json),v=[],f=[],S=[],P=[];j.map((F,T)=>{F.quests.map((k,y)=>{k.type=="radio"&&k.questions.map((b,C)=>{v.push(`${b.title} (${T+1})`),f.push(b.response),S.push(`${k.title} - ${b.title}`),P.push(b.response),u(N=>({...N,xaxis:{...N,categories:v}})),u(N=>(N.series=[{name:"Respuesta",data:f}],N)),d(N=>(N.labels=S,N.series=P,N))})})})}function g(m){var v;let j=new FormData;j.append("id_company",(v=n==null?void 0:n.company)==null?void 0:v.id_company),j.append("id_survey",s.id),j.append("case",m),q.post(D+"/api/get/downloadsurvey",j,{withCredentials:!0}).then(f=>f.data).then(f=>{})}return a.useEffect(()=>{h()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"modal-map",style:{display:c?"block":"none"},children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Mapa completo"}),e.jsx("span",{children:"Puedes ver el mapa completamente de las respuestas de los usuarios."}),e.jsx("button",{className:"close",onClick:m=>{l(!1)},children:e.jsx(Ke,{})})]}),e.jsx("div",{className:"map-suv complete",children:i==null?void 0:i.map((m,j)=>e.jsxs("div",{className:"pg",children:[e.jsx("div",{className:"info",children:e.jsxs("p",{children:["Pagina ",j+1]})}),e.jsx("div",{className:"separate"}),m.quests.map((v,f)=>e.jsxs("div",{className:"quests",children:[e.jsx("div",{className:"info",children:e.jsx("p",{children:v.title})}),e.jsx("div",{className:"separate"}),e.jsx("div",{className:"questions-type",children:v.questions.map((S,P)=>e.jsxs("div",{className:"question",children:[e.jsx("div",{className:"separate quest"}),e.jsxs("span",{className:"value",children:[S.title,v.type=="radio"?e.jsxs(e.Fragment,{children:[" (",S.response,") "]}):""]})]}))})]},f))]}))})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles De Encuesta "}),e.jsx("span",{children:"Estas son los detalles de las respuestas"})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"go-wizard",children:"Descargar (CSV)"}),e.jsx("button",{className:"go-wizard",onClick:m=>{g("json")},children:"Descargar (JSON)"}),e.jsx("button",{className:"go-wizard",onClick:m=>{t(`/stats/survey/${s.id}/response`)},children:"Respuestas"})]})]}),e.jsx(Ns,{}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Estadisticas de respuestas"}),e.jsx("span",{children:"Estadisticas de las respuestas, veras cuantas veces respondieron a algo."})]}),e.jsx(Qe,{options:p,series:p.series,type:"bar",height:300})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top ",children:[e.jsx("p",{children:"Porcentaje de respuesta"}),e.jsx("span",{children:"Este es el porcentaje de respuesta por cada pregunta."})]}),o.labels.length?e.jsx(Qe,{options:o,series:o.series,type:"donut",height:300}):""]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top ",children:[e.jsx("p",{children:"Mapa de encuesta"}),e.jsx("span",{children:"Este es mapa de tu encuesta, donde veras un mapa sobre la encuesta ejecutada."})]}),e.jsx("div",{className:"map-suv maxheight",children:i==null?void 0:i.map((m,j)=>e.jsxs("div",{className:"pg",children:[e.jsx("div",{className:"info",children:e.jsxs("p",{children:["Pagina ",j+1]})}),e.jsx("div",{className:"separate"}),m.quests.map((v,f)=>e.jsxs("div",{className:"quests",children:[e.jsx("div",{className:"info",children:e.jsx("p",{children:v.title})}),e.jsx("div",{className:"separate"}),e.jsx("div",{className:"questions-type",children:v.questions.map((S,P)=>e.jsxs("div",{className:"question",children:[e.jsx("div",{className:"separate quest"}),e.jsxs("span",{className:"value",children:[S.title,v.type=="radio"?e.jsxs(e.Fragment,{children:[" (",S.response,") "]}):""]})]}))})]},f))]}))}),e.jsx("button",{className:"action-complete",onClick:m=>{l(!0)},children:"Ver mapa completo"})]})})]})]})}function ti(){let s=le();const[t,n]=a.useState([]),[i,r]=a.useState([]),[c,l]=a.useState(!1),{UserInfo:p}=a.useContext(X);function u(){var d;let o=new FormData;o.append("id_survey",s.id),o.append("id_company",(d=p==null?void 0:p.company)==null?void 0:d.id_company),q.post(D+"/api/get/responsesurvey",o,{withCredentials:!0}).then(h=>h.data).then(h=>{h.length&&(n(h),h.forEach((x,g)=>{r(m=>[...m,JSON.parse(x.json_response)])}))})}return a.useEffect(()=>{l(!0),c&&u()},[c]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Respuestas"}),e.jsx("span",{children:"Ver todas las respuestas hechas en tu encuesta"})]}),e.jsx("div",{className:"right"})]}),e.jsx(Ns,{}),e.jsx("div",{className:"row",children:i.map((o,d)=>e.jsx("div",{className:"col-6",children:e.jsx("div",{className:"box box-padding",children:e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"top",children:e.jsx("div",{className:"top",children:e.jsxs("p",{children:["Respuesta #",d+1]})})}),e.jsx("div",{className:"response",children:Object.entries(o).map(([h,x])=>e.jsx("div",{children:e.jsxs("span",{children:[h,": ",x]})},h))})]})})},d))})]})}function Ls(){const s=Z(),[t,n]=a.useState([]),[i,r]=a.useState(!0),{UserInfo:c}=a.useContext(X),[l,p]=a.useState(!1),[u,o]=a.useState(!1),[d,h]=a.useState({url:""}),x=Me();a.useEffect(()=>{De("/add")&&o(!0)},[x]);function g(j=!1){var f;let v=new FormData;v.append("id_company",(f=c==null?void 0:c.company)==null?void 0:f.id_company),r(!0),j||n([]),q.post(D+"/api/get/myurls",v,{withCredentials:!0}).then(S=>S.data).then(S=>{r(!1),n(S)})}function m(){var v;let j=new FormData;j.append("url",d.url),j.append("id_company",(v=c==null?void 0:c.company)==null?void 0:v.id_company),p(!0),q.post(D+"/api/upload/shortlink",j,{withCredentials:!0}).then(f=>f.data).then(f=>{p(!1),f.status&&(g(),o(!1))}).catch(f=>{p(!1)})}return a.useEffect(()=>{g()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(te,{visible:u,onClick:m,callback:o,Pending:l,next:"Crear",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nuevo enlace"}),e.jsx("span",{children:"Crea tu nuevo enlace rapidamente con esta herramienta"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"url",placeholder:"Enlace",onChange:j=>{h({url:j.target.value})}})})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus urls "}),e.jsx("span",{children:"Estas son tus urls cortas que has creado donde podras llevar las estadisticas de cada una."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:j=>{o(!0)},children:"Crear nueva URL"})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[t.map((j,v)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:"URL CORTA"}),e.jsxs("span",{className:"desc",children:[ns,"/",j.token]}),e.jsx("br",{}),e.jsxs("span",{className:"desc",children:[ns,"/",j.token]})]})]}),e.jsxs("div",{children:[e.jsx("p",{children:"URL"}),e.jsx("span",{children:j.real_link})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:f=>{s("")},children:e.jsx(ae,{})}),e.jsxs("button",{onClick:f=>{s("/shorturls/"+j.id_shortlink)},children:[e.jsx(ge,{})," "]})]})]},v)),i==!0?e.jsx(ye,{}):i==!1&&t.length==0?e.jsx(je,{name:"urls"}):""]})})})]})}function ii(){var g,m;const s=le(),{UserInfo:t}=a.useContext(X),[n,i]=a.useState([]);a.useState([]);const[r,c]=a.useState(),[l,p]=a.useState([]),u=a.useRef(null),[o,d]=a.useState({series:[{name:"Respuestas",data:[]}],chart:{type:"area",height:350,stacked:!0},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:[]}}),h=new js({width:600,height:600,image:"/img/icons/iconsvg.png",dotsOptions:{color:"gradient",type:"extra-rounded",gradient:{colorStops:[{offset:0,color:"#000"},{offset:1,color:"#000"}]}},imageOptions:{crossOrigin:"anonymous",margin:20}});function x(j){var f;let v=new FormData;v.append("id_company",(f=t==null?void 0:t.company)==null?void 0:f.id_company),v.append("month",j.month),v.append("year",j.year),v.append("id_shortlink",s.id),q.post(D+"/api/get/statshortlink",v,{withCredentials:!0}).then(S=>S.data).then(S=>{i(S.countrys),p(S.devices),d(P=>(P.series[0].data=S.dayResponse,P.xaxis.categories=S.days,P)),c(S.token)})}return a.useEffect(()=>{x({month:new Date().getMonth()+1})},[]),a.useEffect(()=>{r&&(h.append(u.current),h.update({data:ns+"/"+r+"?qr=true"}))},[r]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Detalle de enlace: ",s.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu enlace corto"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:"",children:"Volver"})})]}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Clicks este mes"}),e.jsx("span",{children:"Aca podras evaluar los clicks hecho por el mes actual y anteriores."})]}),(m=(g=o==null?void 0:o.series[0])==null?void 0:g.data)!=null&&m.length?e.jsx(Qe,{options:o,series:o.series,type:"area",height:300}):""]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Visitas"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"20"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"QR Code"})}),e.jsx("div",{className:"resp-number",children:e.jsx("div",{className:"qr-code",children:e.jsx("div",{ref:u})})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Tops Paises"}),e.jsx("span",{children:"Tops de los paises que mas visitaron el enlace"})]}),e.jsx("div",{className:"result countryr",children:n.map((j,v)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:Zs(j.country),alt:""}),e.jsx("p",{className:"",children:j.country==""?"Undefined":Us(j.country)}),e.jsxs("span",{children:["(",j.count,")"]})]},v))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Tops Os"}),e.jsx("span",{children:"Top de los sistemas operativos mas usado por los usuarios"})]}),e.jsx("div",{className:"result countryr",children:l.map((j,v)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:it(j.device),alt:""}),e.jsx("p",{className:"",children:j.device}),e.jsxs("span",{children:["(",j.count,")"]})]},v))})]})})]})})]})}function Rs(){const[s,t]=a.useState(),n=Z(),[i,r]=a.useState(!1),[c,l]=a.useState([]),[p,u]=a.useState(!1),[o,d]=a.useState({name:""}),{UserInfo:h}=a.useContext(X),x=Me();a.useEffect(()=>{De("/add")&&r(!0)},[x]);function g(){var v;let j=new FormData;j.append("id_company",(v=h==null?void 0:h.company)==null?void 0:v.id_company),t(!0),q.post(D+"/api/get/shortlinkcampaigns",j,{withCredentials:!0}).then(f=>f.data).then(f=>{t(!1),l(f)}).catch(f=>{t(!1)})}function m(){var v;const j=new FormData;u(!0),j.append("name",o.name),j.append("id_company",(v=h==null?void 0:h.company)==null?void 0:v.id_company),q.post(D+"/api/upload/shortlinkcampaign",j,{withCredentials:!0}).then(f=>f.data).then(f=>{u(!1),f.status&&(g(),r(!1))}).catch(f=>{u(!1)})}return a.useEffect(()=>{g()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(te,{visible:i,onClick:m,callback:r,maxWidth:"250px",Pending:p,next:"Agregar",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nueva campaña"}),e.jsx("span",{children:"Crea tu nueva campaña rapidamente para analizar tus multiples enlaces"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de campaña",name:"name",onChange:j=>{d({...o,name:j.target.value})}})})]},i),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Campañas"}),e.jsx("span",{children:"Aca puedes visualizar o crear campañas para enlaces multiples sobre una campaña"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:j=>{r(!0)},children:"Crear nueva campaña"})})]}),e.jsx("div",{className:"body-stats",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[c.map((j,v)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:j.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(ae,{})}),e.jsx("button",{onClick:f=>{n("/shorturls/campaigns/"+j.id_campaign)},children:e.jsx(ke,{})})]})]})),s?e.jsx(ye,{}):c.length==0?e.jsx(je,{name:"campañas"}):""]})})})})]})}function ni(){var F,T;const s=le(),[t,n]=a.useState(!1),[i,r]=a.useState(!1),{UserInfo:c}=a.useContext(X),[l,p]=a.useState(!0),[u,o]=a.useState(!1),[d,h]=a.useState({});let x={url:"",app:"others"};const[g,m]=a.useState(x),[j,v]=a.useState({series:[{name:"Funnel Series",data:[]}],chart:{type:"bar",height:350},plotOptions:{bar:{borderRadius:0,horizontal:!0,distributed:!0,barHeight:"80%",isFunnel:!0}},dataLabels:{enabled:!0,formatter:function(k,y){return y.w.globals.labels[y.dataPointIndex]+":  "+k}},colors:["#F44F5E","#E55A89","#D863B1","#CA6CD8","#B57BED","#8D95EB","#62ACEA","#4BC3E6"],xaxis:{categories:[]},legend:{show:!0}});function f(k){k.stopPropagation(),m({...g,[k.target.name]:k.target.value})}function S(){var y;let k=new FormData;p(!0),h({}),k.append("id_company",(y=c==null?void 0:c.company)==null?void 0:y.id_company),k.append("id_campaign",s.id),q.post(D+"/api/get/shortlinkcampaign",k,{withCredentials:!0}).then(b=>b.data).then(b=>{var w,L;p(!1),h(b);const C=[];let N=[],_=0;(w=b==null?void 0:b.stats)==null||w.forEach((Q,ee)=>{_=_+Q.count}),(L=b==null?void 0:b.stats)==null||L.forEach((Q,ee)=>{C.push(Q.count),N.push(lt(Q.app)+" ("+(Q.count*100/_).toFixed(0)+"%)")}),v(Q=>{const ee={...Q};return ee.series[0].data=C,ee.xaxis.categories=N,ee})}).catch(b=>{})}function P(){var y;r(!0);let k=new FormData;k.append("id_company",(y=c==null?void 0:c.company)==null?void 0:y.id_company),k.append("id_campaign",s==null?void 0:s.id),k.append("url",g.url),k.append("app",g.app),q.post(D+"/api/upload/shortlink",k,{withCredentials:!0}).then(b=>b.data).then(b=>{r(!1),b.status&&(n(!1),S()),b.msg&&A.error(b.msg)}).catch(b=>{r(!1)})}return a.useEffect(()=>{u||(v(k=>{const y={...k};return y.series[0].data=[],y.xaxis.categories=[],y}),S())},[u]),e.jsxs(e.Fragment,{children:[e.jsxs(te,{next:"Agregar",visible:t,callback:n,onClick:P,Pending:i,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nuevo enlace"}),e.jsx("span",{children:"Agrega un nuevo enlace a tu campana"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"URL destino",onChange:f,name:"url"})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"app",id:"",onChange:f,children:[e.jsx("option",{value:"",children:"Selecciona la aplicacion"}),e.jsx("option",{value:"fb",children:"Facebook"}),e.jsx("option",{value:"in",children:"Instagram"}),e.jsx("option",{value:"x",children:"X (Twitter)"}),e.jsx("option",{value:"email",children:"Correo"}),e.jsx("option",{value:"sms",children:"Sms"}),e.jsx("option",{value:"tik",children:"Tiktok"}),e.jsx("option",{value:"linkd",children:"Linkedin"}),e.jsx("option",{value:"yt",children:"Youtube"}),e.jsx("option",{value:"tele",children:"Telegram"}),e.jsx("option",{value:"ws",children:"Whatsapp"}),e.jsx("option",{value:"others",children:"Otros"})]})})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Campaña de enlace: ",s.id]}),e.jsx("span",{children:"Agrega nuevos enlaces para tu campana general de urls"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{onClick:k=>{n(!0)},className:"add",children:"Agregar nuevo enlace"})})]}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Clicks este mes"}),e.jsx("span",{children:"Aca podras evaluar los clicks hecho por el mes actual y anteriores."})]}),l==!1?e.jsx(Qe,{options:j,series:j.series,type:"bar",height:300}):""]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[(F=d==null?void 0:d.links)==null?void 0:F.map((k,y)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_link.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:k.real_link}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"title",children:"App"}),e.jsx("span",{children:e.jsx("img",{className:"icon-app",src:nt(k.app),alt:""})})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{children:e.jsx(ke,{})})})]},y)),l?e.jsx(ye,{}):((T=d==null?void 0:d.links)!=null&&T.length,"")]})})]})})]})}function ys({Visible:s,Close:t,loadQrs:n=()=>{},callbackUrl:i=(r,c)=>{}}){const{UserInfo:r}=a.useContext(X);a.useRef(null);const[c,l]=a.useState(0),[p,u]=a.useState([qe()]),[o,d]=a.useState({type:""});a.useState({});const[h,x]=a.useState(!1),g=qe(),m=new js({width:600,height:600,margin:0,qrOptions:{typeNumber:"0",mode:"Byte",errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,margin:10},dotsOptions:{type:"dots",color:"#000000"},backgroundOptions:{color:"#ffffff",gradient:null},image:"/img/icons/logo_color_1.png",dotsOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#6a1a4c",color2:"#6a1a4c",rotation:"0"}},cornersSquareOptions:{type:"extra-rounded",color:"#000000"},cornersSquareOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},cornersDotOptions:{type:"dot",color:"#000000"},cornersDotOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},backgroundOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#ffffff",color2:"#ffffff",rotation:"0"}}});function j(b){let C=b.target.files;C[0]&&(C[0].type.indexOf("/pdf")>=0||C[0].type.indexOf("imag")>=0?d({...o,file:C[0]}):(A.error("El archivo no es una imagen / pdf"),b.target.value=""))}let v={url:""};const[f,S]=a.useState(v);Z();function P(b){b.stopPropagation(),b.preventDefault();let C=R(b.target);C.parents(".options").find(".active").removeClass("active"),C.addClass("active");let N=C.attr("value");d(_=>({..._,type:N}))}async function F(){return new Promise((b,C)=>{var _;let N=new FormData;N.append("id_company",(_=r==null?void 0:r.company)==null?void 0:_.id_company),N.append("file",o.file),q.post(D+"/api/upload/fileqr",N,{withCredentials:!0}).then(w=>w.data).then(w=>{b(w)}).catch(()=>{C({})}).finally(()=>{})})}async function T(b){let C=!1;if(R(b.target),(c===0&&o.type=="qr-stand"||o.type=="qr-contact"||o.type=="qr-file")&&(C=!0),c===1){const N=document.querySelector(".qr-result");o.type=="qr-contact"?m.update({data:`BEGIN:VCARD
VERSION:3.0
`+(f.lname?"N:"+f.lname+";"+(f.fname||"")+`;;;
`:"")+(f.fname?"FN:"+f.fname+" "+(f.lname||"")+`
`:"")+(f.company?"ORG:"+f.company+`;
`:"")+(f.jobtitle?"TITLE:"+f.jobtitle+`
`:"")+(f.number?"TEL;type=CELL:"+f.number+`
`:"")+(f.officenum?"TEL;type=WORK:"+f.officenum+`
`:"")+(f.email?"EMAIL;type=INTERNET;type=WORK;type=pref:"+f.email+`
`:"")+(f.web?"URL:"+f.web+`
`:"")+(f.address1?"ADR;TYPE=work:;;"+f.address1+";"+(f.address2||"")+";"+(f.city||"")+";"+(f.province||"")+";"+(f.country||"")+";"+(f.pcode||"")+`
`:"")+"REV:"+new Date+`
END:VCARD`}):(o.type=="qr-stand"&&m.update({data:f.url}),o.type=="qr-file"&&(x(!0),await F().then(_=>{m.update({data:_.download})}).catch(_=>{A.error("Opps error al subir archivo")}).finally(()=>{x(!1)}))),N.innerHTML="",m.append(N),await m.getRawData().then(_=>{let w=new FileReader;w.onload=function(L){const Q=L.target.result;d({...o,base64:Q})},w.readAsDataURL(_)}),C=!0}if(c===2)if(f.name){let N=new FormData;x(!0),o.type=="qr-stand"?await new Promise((_,w)=>{var L;N.append("url",f.url),N.append("id_company",(L=r==null?void 0:r.company)==null?void 0:L.id_company),q.post(D+"/api/upload/shortlink",N,{withCredentials:!0}).then(Q=>Q.data).then(Q=>{m.update({data:Q.shortlink}),m.getRawData().then(ee=>{let re=new FileReader;re.onload=function(H){const O=H.target.result;k(O,Q.id_shortlink,f.url)},re.readAsDataURL(ee)})})}):k(o.base64)}else C=!1,A.error("Opps no has elegido un nombre para tu qr");C&&l(N=>N+1)}function k(b,C=void 0,N){var w;let _=new FormData;_.append("formqr",JSON.stringify(f)),_.append("id_company",(w=r==null?void 0:r.company)==null?void 0:w.id_company),_.append("type",o.type),_.append("preview",b),_.append("dataQr",N),C&&_.append("id_concat",C),q.post(D+"/api/upload/qr",_,{withCredentials:!0}).then(L=>L.data).then(L=>{if(L.status){try{n(),i(f.name,L.img)}catch{}A.success("Has subido tu qr con exito")}t(!1),x(!1)}).catch(L=>{x(!1)})}function y(b){let C=b.target.name,N=b.target.value;S(_=>({..._,[C]:N}))}return a.useEffect(()=>{R(`#modal-${g} .case.active`).removeClass("active"),R(`#modal-${g} .case`).eq(c).addClass("active")},[c]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,id:`modal-${g}`,children:[e.jsxs("div",{className:"top-actions",children:[c>0?e.jsxs("button",{className:"return",onClick:b=>{l(C=>C-1)},children:[e.jsx(ze,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:b=>{t(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case active",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear un nuevo QR individual"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de qr que quieres crear"})]}),e.jsxs("div",{className:"options ",id:`options-${p[0]}`,children:[e.jsxs("div",{className:"selector",style:{marginBottom:"10px"},onClick:P,value:"qr-stand",children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"QR Estandar"}),e.jsx("span",{children:"Qr Estandar es un qr basico donde podras almacenar enlaces de tus webs"})]})]}),e.jsxs("div",{className:"selector",style:{marginBottom:"10px"},onClick:P,value:"qr-contact",children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"QR Contacto"}),e.jsx("span",{children:"Qr Contacto, este es un qr donde podras escanearlo y almacenar un contacto con informacion importante"})]})]}),e.jsxs("div",{className:"selector",style:{marginBottom:"10px"},onClick:P,value:"qr-file",children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"QR Archivo"}),e.jsx("span",{children:"Qr Archivo, este es un qr donde podras guardar un archivo de tu preferencia"})]})]})]})]}),o.type=="qr-stand"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Enlace del qr"}),e.jsx("input",{type:"url",name:"url",onChange:y,placeholder:"Enlace"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre del qr"}),e.jsx("input",{type:"text",onChange:y,name:"name",placeholder:"Nombre para tu QR"})]})]})]})}),o.type=="qr-file"&&e.jsx("div",{className:"case",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Qr archivo"}),e.jsx("span",{className:"desc",children:"Sube tu archivo de tu preferencia para crear tu qr y luego utilizarlo en la nube"}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"file",onChange:j})}),e.jsx("br",{})]})}),o.type=="qr-contact"&&e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personaliza tu QR"}),e.jsx("span",{className:"desc",children:"Este es un QR de contacto para generar tu tarjeta de presentacion, puedes personalizarlo con tu informacion necesaria."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre del QR"}),e.jsx("input",{type:"text",onChange:y,name:"name",placeholder:"Nombre para tu QR"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre"}),e.jsx("input",{type:"text",name:"fname",onChange:y,placeholder:"ej: Roberto"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Apellido"}),e.jsx("input",{type:"text",name:"lname",onChange:y,placeholder:"ej: Martinez"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Empresa"}),e.jsx("input",{type:"text",name:"company",onChange:y,placeholder:"ej: Cocacola"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Cargo"}),e.jsx("input",{type:"text",name:"jobtitle",onChange:y,placeholder:"ej: Director"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Celular"}),e.jsx("input",{type:"text",name:"number",onChange:y,placeholder:"ej: +58412000000"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Numero de Oficina"}),e.jsx("input",{type:"text",name:"officenum",onChange:y,placeholder:"ej: (12)"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo Electronico"}),e.jsx("input",{type:"text",name:"email",onChange:y,placeholder:"ej: example@example.com"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Pagina Web"}),e.jsx("input",{type:"text",name:"web",onChange:y,placeholder:"ej: www.example.com"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Direccion"}),e.jsx("input",{type:"text",name:"address1",onChange:y,placeholder:"ej: Chicago, ST "})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Direccion del Trabajo"}),e.jsx("input",{type:"text",name:"address2",onChange:y,placeholder:"ej: Chicago ST, Down Ryder "})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Ciudad"}),e.jsx("input",{type:"text",name:"city",onChange:y,placeholder:"ej: Chicago"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Estado"}),e.jsx("input",{type:"text",name:"province",onChange:y,placeholder:"ej: Chicago"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Pais"}),e.jsx("input",{type:"text",name:"country",onChange:y,placeholder:"ej: Estados Unidos"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Codigo postal"}),e.jsx("input",{type:"text",name:"pcode",onChange:y,placeholder:"ej: (15306)"})]})})]})})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Previsualiza tu QR "}),e.jsx("span",{className:"desc",children:"Este es el QR que has creado, dale click para subirlo."})]}),e.jsx("div",{className:"qr-result",children:e.jsx("canvas",{})})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:`next ${h?"await":" "}`,onClick:T,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function li({Close:s,callback:t}){const[n,i]=a.useState(!1),[r,c]=a.useState(null),[l,p]=a.useState(null);a.useEffect(()=>(setTimeout(()=>{i(!0)},2e3),()=>{r&&r.getTracks().forEach(o=>o.stop())}),[]);const u=()=>{if(l&&r instanceof MediaStream){const o=r.getVideoTracks()[0],d=document.createElement("video");d.srcObject=new MediaStream([o]),d.onloadedmetadata=()=>{l.getContext("2d").drawImage(d,0,0,l.width,l.height);const x=l.toDataURL("image/jpeg");t&&t(x)},d.play().catch(h=>console.error("Error reproduciendo video: ",h))}};return e.jsx(e.Fragment,{children:n&&e.jsxs("div",{className:"camera",children:[e.jsx("video",{style:{width:"100%",height:"auto"},ref:o=>{o&&!r&&navigator.mediaDevices.getUserMedia({video:!0}).then(d=>{o.srcObject=d,c(d)}).catch(d=>console.error("Error al acceder a la cámara: ",d))},autoPlay:!0,playsInline:!0}),e.jsx("canvas",{ref:o=>{o&&p(o)},style:{display:"none"},width:640,height:480}),e.jsx("button",{className:"capture",onClick:u})]})})}function aa({Visible:s,Close:t,Return:n=!0}){const{UserInfo:i}=a.useContext(X);a.useRef(null);const[r,c]=a.useState(0);a.useState([qe()]);const[l,p]=a.useState({type:""}),[u,o]=a.useState(!1),[d,h]=a.useState(!1);Z();async function x(f){var S;if(R(f.target),l.name&&l.image){o(!0);let P=new FormData;P.append("preview",l.image),P.append("id_company",(S=i==null?void 0:i.company)==null?void 0:S.id_company),P.append("type","qr-stand"),P.append("formqr",JSON.stringify(l)),q.post(D+"/api/upload/qr",P,{withCredentials:!0}).then(F=>F.data).then(F=>{o(!1),F.status&&(t(!1),A.success("Se ha subido tu qr correctamente")),F.msg&&A.error(F.msg)}).catch(F=>{o(!1)})}else A.error("Opps hay algo imcompleto")}function g(f){let S=f.target.name,P=f.target.value;p(F=>({...F,[S]:P}))}function m(){R("#file").click()}function j(f){let S=f.target.files,P=R(f.target);if(S.length){let F=new FileReader;F.onload=function(T){if(S[0].type.indexOf("image")>=0){let k=new Image;k.src=T.target.result,k.onload=function(){k.width<=6e3&&k.height<=6e3?p({...l,image:k.src}):A.error(`Opps maximo 600x600 tu imagen es de ${k.width}x${k.height}`)}}else P.val(""),A.error("Opps solo aceptamos imagenes")},F.readAsDataURL(S[0])}}a.useEffect(()=>{R("#wizard2").find(".case").eq(0).addClass("active")},[]);function v(f){p({...l,image:f})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,id:"wizard2",children:[e.jsxs("div",{className:"top-actions",children:[r>0?e.jsxs("button",{className:"return",onClick:f=>{c(S=>S-1)},children:[e.jsx(ze,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:f=>{t(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case ",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Importar QR"}),e.jsx("span",{className:"desc",children:"Guarda la imagen del QR de tu preferencia y subela a la botonera"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre para tu QR"}),e.jsx("input",{type:"text",onChange:g,name:"name",placeholder:"Nombre para tu QR"})]}),e.jsxs("div",{className:"upload-qr",children:[l.image==null?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"upload",onClick:m,children:[e.jsx(Y,{icon:"basil:upload-outline"}),e.jsx("p",{className:"upload-desc",children:"Has click aca para buscar tu archivo"})]}),d?e.jsx(li,{callback:v,Close:h}):"",e.jsx("br",{}),e.jsx("span",{style:{fontSize:"14px",opacity:"0.8"},children:"Cuando le das activar camara toma la foto al QR de tu preferencia, luego dale click en la opcacion Subir Imagen, busca el QR y agregalo a tu botonera."}),e.jsxs("button",{className:"open-cam",onClick:f=>{h(!0)},children:[e.jsx(Y,{icon:"ph:camera"})," Activar Camara"]})]}):e.jsx("div",{className:"preview",children:e.jsx("img",{src:l.image,alt:""})}),e.jsx("input",{type:"file",id:"file",onChange:j,hidden:!0})]})]})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:`next ${u?"await":" "}`,onClick:x,children:["Subir imagen ",e.jsx("div",{className:"loading"})]})})]})]})})}function os(){const[s,t]=a.useState(!1),[n,i]=a.useState(!1),[r,c]=a.useState(!1),[l,p]=a.useState([{},{}]),{UserInfo:u}=a.useContext(X),[o,d]=a.useState(!1),[h,x]=a.useState(),g=Me(),m=Z(),[j,v]=a.useState(!1);a.useEffect(()=>{De("/add")&&t(!0),De("/import")&&i(!0)},[g]);function f(){var T;let F=new FormData;F.append("id_company",(T=u==null?void 0:u.company)==null?void 0:T.id_company),q.post(D+"/api/get/qrs",F,{withCredentials:!0}).then(k=>k.data).then(k=>{p(k)})}function S(F){let T=R(F.target),k=T.parents(".item").find("img")[0].src;T.parents(".item").find(".title").text();let y=document.createElement("a");y.href=k,y.download="",y.rel="noopener noreferrer",y.target="_blank",document.querySelector("#root").appendChild(y),y.click(),document.querySelector("#root").removeChild(y)}a.useEffect(()=>{f()},[]);function P(){var T;v(!0);let F=new FormData;F.append("id_company",(T=u==null?void 0:u.company)==null?void 0:T.id_company),F.append("id_qr",h),q.post(D+"/api/delete/qr",F,{withCredentials:!0}).then(k=>k.data).then(k=>{k.status&&(d(!1),A.success("Has borrado el qr con exito"),p(y=>y.filter(C=>C.id_qr!==h)))}).finally(()=>{v(!1)})}return e.jsxs(e.Fragment,{children:[e.jsx(Pe,{visible:o,callback:d,Pending:j,onClick:P}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"QR"}),e.jsx("span",{children:"Crea qr personalizados con enlaces para tus webs o qr de contacto"})]}),e.jsx(ys,{Visible:s,Close:t,setModalView:t,loadQrs:f},s?"x1":"x2"),e.jsx(aa,{Visible:n,Close:i,setModalView:i,loadQrs:f},n?"x":"a"),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"add",onClick:F=>{t(!0)},children:" Crear nuevo QR"}),e.jsxs("button",{className:"go-wizard",onClick:F=>{i(!0)},children:[e.jsx(we,{})," Importar QR"]})]})]}),e.jsxs("div",{className:"box box-padding",children:[l.map((F,T)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:is(F.qr_preview),alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:F.title}),e.jsxs("span",{className:"desc",children:["Creado el: ",oe(F.time_add)]})]})]}),e.jsx("div",{className:"info",children:e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:"Tipo de QR"}),e.jsx("span",{className:"desc",children:F.type_qr})]})}),e.jsxs("div",{className:"actions",children:[F!=null&&F.id_concat?e.jsx("button",{onClick:k=>{m("/shorturls/"+F.id_concat)},children:e.jsx(Y,{icon:"ion:stats-chart-outline"})}):"",e.jsx("button",{onClick:S,children:e.jsx(La,{})}),e.jsx("button",{onClick:k=>{x(F.id_qr),d(!0)},children:e.jsx(ae,{})})]})]})),r?e.jsx(ye,{}):l.length==0?e.jsx("div",{className:"item",children:e.jsx(je,{name:"Qrs"})}):""]})]})}function ri({setButtons:s}){function t(n){let i=n.target.value;n.target.name=="background"&&i.indexOf("http")>=0&&(i=`url(${i})`),s(c=>{let l={...c};return l.header[n.target.name]=i,l})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar botonera"}),e.jsx("span",{children:"Personaliza tu botonera, cambiando imagenes, fondo, texto, botones, enlaces."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",defaultValue:"#fff",onChange:t,name:"background"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",onChange:t,defaultValue:0,step:"0.1",max:"10",name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",onChange:t,defaultValue:1,step:"0.1",max:"1",name:"brightness"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border radius"}),e.jsx("input",{type:"range",onChange:t,defaultValue:1,step:"0.1",max:"50",name:"radius"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{name:"colorBox",onClick:t,value:"ligth",children:"Modo Claro"}),e.jsx("button",{name:"colorBox",onClick:t,value:"dark",children:"Modo Oscuro"})]})]})]})}function ci({buttons:s,setButtons:t,editor:n,setEditor:i}){var T,k,y,b,C,N,_,w,L,Q,ee,re;const[r,c]=a.useState(!1),[l,p]=a.useState(!1),[u,o]=a.useState(!1),[d,h]=a.useState(void 0),{UserInfo:x}=a.useContext(X),g=le();function m(){t(H=>({...H,buttons:H.buttons.concat({})}))}function j(H){H.preventDefault(),H.stopPropagation();let O=R(H.target);switch(R(".page.buttonsbody .active").removeClass("active"),O.addClass("active"),O.attr("type")){case"buttons":var W=O.attr("id");i({type:"button",key:W});break;case"rs":var W=O.attr("id");i({type:"rs",key:W});break;default:i({type:O.attr("type")});break}return!1}function v(H){t(O=>{const W={...O};return W.buttons=W.buttons.filter((z,se)=>se!==H),i({type:"",key:""}),W})}function f(){let H=document.querySelector("#select-rs").value,O=document.querySelector("#input-rs").value;(s==null?void 0:s.rs.length)<=3?t(W=>{const z=[...W.rs];return z.push({type:H,url:O}),{...W,rs:z}}):A.error("Opps ya has agregado muchas redes sociales")}async function S(){var H,O,W;if(((O=(H=s.header)==null?void 0:H.titlegl)==null?void 0:O.length)>=1){o(!0);let z=new FormData;z.append("json",JSON.stringify(s)),d==null?z.append("title",s.header.titlegl):z.append("id_buttons",d),z.append("id_company",(W=x==null?void 0:x.company)==null?void 0:W.id_company);let se=await xs(document.querySelector(".page .center"),{allowTaint:!1,useCORS:!0}).then(ne=>ne.toDataURL());z.append("preview",se),q.post(D+"/api/upload/buttons",z,{withCredentials:!0}).then(ne=>ne.data).then(ne=>{o(!1),ne.id_buttons&&h(ne.id_buttons),ne.msg&&A.error(ne.msg)}).catch(ne=>{o(!1)})}else p(!0),A.error("Opps no puedes avanzar si tu plantilla no posee un titulo")}function P(H){let O=H.target.value;t(W=>{let z={...W};return z.header.titlegl=O,z})}function F(){s.header.titlegl&&(p(!1),A.success("El titulo se aplico con exito"))}return a.useEffect(()=>{var H;if(g.id){let O=new FormData;O.append("id_buttons",g.id),O.append("id_company",(H=x==null?void 0:x.company)==null?void 0:H.id_company),q.post(D+"/api/get/editbuttons",O,{withCredentials:!0}).then(W=>W.data).then(W=>{W.id_buttons&&(t(JSON.parse(W.json)),h(W.id_buttons))})}},[]),e.jsxs(e.Fragment,{children:[e.jsxs(te,{visible:l,close:p,callback:p,onClick:F,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("span",{children:"Elige un titulo general para esta plantilla"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Titulo general"}),e.jsx("input",{onChange:P,type:"text",placeholder:"ej: plantilla 1"})]})]}),e.jsx(te,{visible:r,callback:c,onClick:f,children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Redes Sociales"}),e.jsx("span",{children:"Selecciona que red social quieres agregar"}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("input",{type:"url",placeholder:"Enlace (URL)",id:"input-rs"}),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("select",{name:"",id:"select-rs",children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"Seleccionar"}),e.jsx("option",{value:"fb",children:"Facebook"}),e.jsx("option",{value:"x",children:"X (Twitter)"}),e.jsx("option",{value:"in",children:"Instagram"}),e.jsx("option",{value:"link",children:"Linkedin"}),e.jsx("option",{value:"disc",children:"Discord"}),e.jsx("option",{value:"tik",children:"TikTok"}),e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"spot",children:"Spotify"}),e.jsx("option",{value:"tele",children:"Telegram"}),e.jsx("option",{value:"ws",children:"Whatsapp"})]}),e.jsx("br",{})]})]})}),e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{children:[e.jsx(Re,{})," Previsualizar"]}),e.jsxs("button",{className:u?"await":"",onClick:S,children:[e.jsx(Ye,{})," Guardar ",e.jsx("div",{className:"loading"})]})]})}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(T=s==null?void 0:s.header)==null?void 0:T.blur}px)brightness(${(k=s==null?void 0:s.header)==null?void 0:k.brightness})`,background:(y=s==null?void 0:s.header)==null?void 0:y.background2}}),e.jsxs("div",{className:`${"page buttonsbody "+((b=s==null?void 0:s.header)==null?void 0:b.colorBox)}`,children:[e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",onClick:j,type:"logo",src:(C=s==null?void 0:s.header)!=null&&C.logo?(N=s==null?void 0:s.header)==null?void 0:N.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{onClick:j,type:"title",children:(_=s==null?void 0:s.header)!=null&&_.title?(w=s==null?void 0:s.header)==null?void 0:w.title:"Agregar titulo"}),e.jsx("span",{onClick:j,type:"desc",children:(L=s==null?void 0:s.header)!=null&&L.desc?(Q=s==null?void 0:s.header)==null?void 0:Q.desc:"Agregar Descripcion"})]}),e.jsx("div",{className:"buttons",children:(ee=s==null?void 0:s.buttons)==null?void 0:ee.map((H,O)=>{var W;return e.jsxs("div",{children:[e.jsx("div",{className:"edit-active",children:e.jsx("button",{onClick:z=>{v(O)},children:e.jsx(ae,{})})}),e.jsxs("a",{onClick:j,style:{borderRadius:((W=s==null?void 0:s.header)==null?void 0:W.radius)+"px"},type:"buttons",id:O,href:H.url,children:[" ",H!=null&&H.name?H==null?void 0:H.name:"Elegir nombre..."]},O)]},O)})}),e.jsx("div",{className:"rs",children:(re=s==null?void 0:s.rs)==null?void 0:re.map((H,O)=>e.jsx("div",{className:"r",children:e.jsxs("a",{href:"",onClick:j,id:O,type:"rs",children:[H.type=="in"?e.jsx(Vs,{}):"",H.type=="tik"?e.jsx(Bs,{}):"",H.type=="disc"?e.jsx(Qs,{}):"",H.type=="spot"?e.jsx(Ws,{}):"",H.type=="tele"?e.jsx(Hs,{}):"",H.type=="ws"?e.jsx(Is,{}):"",H.type=="email"?e.jsx(Gs,{}):"",H.type=="fb"?e.jsx(Js,{}):"",H.type=="x"?e.jsx(Xs,{}):"",H.type=="link"?e.jsx(Ks,{}):""]})},O))}),e.jsxs("div",{className:"add-new",onClick:m,children:[e.jsx(Be,{})," Agregar Boton"]}),e.jsx("br",{}),e.jsxs("div",{className:"add-new",onClick:H=>{c(!0)},children:[e.jsx(Be,{})," Agregar Red Social"]})]})]})}function di({editor:s,buttons:t,setButtons:n,setEditor:i}){var l;function r(p){let u=p.target.value;n(o=>{let d={...o};return d.rs[s.key].url=u,d})}function c(p){n(u=>{const o={...u};return o.rs=o.rs.filter((d,h)=>h!==Number(s.key)),i({type:"",key:""}),o})}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enlace"}),e.jsx("input",{id:"title-edit",onChange:r,type:"text",value:(l=t==null?void 0:t.rs[s.key])==null?void 0:l.url,placeholder:"https://image.com/jfop2.jpg"})]})}),e.jsx("div",{children:e.jsx("button",{className:"delete",onClick:c,children:"Eliminar"})})]})}function oi({editor:s,buttons:t,setButtons:n}){function i(r){const{name:c,value:l}=r.target;n(p=>{let u={...p};return u.buttons[s.key][c]=l,u})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nombre de boton"}),e.jsx("input",{onChange:i,value:t.buttons[s.key].name?t.buttons[s.key].name:"",name:"name",id:"title-edit",type:"text",placeholder:"Ej: Mi tienda virtual"})]}),e.jsx("br",{}),e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enlace"}),e.jsx("input",{onChange:i,value:t.buttons[s.key].url?t.buttons[s.key].url:"",name:"url",id:"title-edit",type:"text",placeholder:"https://example.com"})]})]})})}function mi({setButtons:s,buttons:t}){var i;function n(r){s(c=>{let l={...c};return l.header.desc=r.target.value,l})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descripcion"}),e.jsx("input",{onChange:n,id:"title-edit",type:"text",placeholder:"Ej: Mis redes sociales",value:(i=t==null?void 0:t.header)==null?void 0:i.desc})]})})})}function pi({setButtons:s,buttons:t}){function n(i){let r=i.target.value;s(c=>{let l={...c};return l.header.logo=r,l})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Logo"}),e.jsx("input",{onChange:n,id:"title-edit",type:"text",placeholder:"https://image.com/jfop2.jpg"})]})})})}function hi({setButtons:s,buttons:t}){var i;function n(r){s(c=>{let l={...c};return l.header.title=r.target.value,l})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("input",{onChange:n,id:"title-edit",type:"text",placeholder:"Ej: Mis redes sociales",value:(i=t==null?void 0:t.header)==null?void 0:i.title})]})})})}function ui({editor:s,buttons:t,setButtons:n,setEditor:i}){return e.jsxs(e.Fragment,{children:[s.type=="button"?e.jsx(oi,{editor:s,buttons:t,setButtons:n}):"",s.type=="title"?e.jsx(hi,{editor:s,buttons:t,setButtons:n}):"",s.type=="desc"?e.jsx(mi,{editor:s,buttons:t,setButtons:n}):"",s.type=="logo"?e.jsx(pi,{editor:s,buttons:t,setButtons:n}):"",s.type=="rs"?e.jsx(di,{editor:s,buttons:t,setButtons:n,setEditor:i}):""]})}function Ms(){var r;a.useState(!0);const[s,t]=a.useState({header:{title:"",desc:"",img:"",background:""},buttons:[],rs:[]}),[n,i]=a.useState({});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"editor-surveys",children:e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:"left",children:e.jsx(ri,{editor:n,setButtons:t,buttons:s})}),e.jsx("div",{className:"center",style:{background:(r=s==null?void 0:s.header)==null?void 0:r.background},children:e.jsx(ci,{editor:n,setEditor:i,buttons:s,setButtons:t})}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"type-editor",children:e.jsx(ui,{editor:n,buttons:s,setButtons:t,setEditor:i})})})]})})})}function ta({Visible:s,CallbackVisible:t,value:n}){const i=Z();let r={facebook:"https://www.facebook.com/sharer.php?u="+(n||window.location.href),whatsapp:"https://api.whatsapp.com/send/?text=Mira esta nueva botonera de enlace "+(n||window.location.href),linkedin:"https://www.linkedin.com/sharing/share-offsite/?url="+(n||window.location.href),messenger:"https://www.messenger.com/new",instagram:"https://instagram.com/share",tiktok:"",x:"https://x.com/intent/tweet?text=Entra ahora con este link compartido "+(n||window.location.href),email:"mailto:?subject= Check out this Radarsystems! &body= Mira esta nueva botonera de enlace "+(n||window.location.href)};function c(l){let p=l.target.dataset.type,u=r[p];window.open(u,"_blank")}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"modal-share",style:{display:`${s?"flex":"none"}`},children:e.jsx("div",{className:"body",children:e.jsxs("div",{className:"bk",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Compartir desde Radarsystems"}),e.jsx("button",{onClick:l=>{t(!1)},className:"closed",children:e.jsx(Y,{icon:"carbon:close-large"})})]}),e.jsxs("div",{className:"buttons",children:[e.jsxs("button",{onClick:c,"data-type":"facebook",children:[e.jsx("i",{className:"left",children:e.jsx(Y,{icon:"logos:facebook"})})," Compartir en Facebook ",e.jsx("i",{className:"right",children:e.jsx(Y,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:c,"data-type":"linkedin",children:[e.jsx("i",{className:"left",children:e.jsx(Y,{icon:"logos:linkedin-icon"})})," Compartir en Linkedln ",e.jsx("i",{className:"right",children:e.jsx(Y,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:c,"data-type":"whatsapp",children:[e.jsx("i",{className:"left",children:e.jsx(Y,{icon:"logos:whatsapp-icon"})})," Compartir en Whatsapp ",e.jsx("i",{className:"right",children:e.jsx(Y,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:c,"data-type":"messenger",children:[e.jsx("i",{className:"left",children:e.jsx(Y,{icon:"logos:messenger"})})," Compartir en Messenger ",e.jsx("i",{className:"right",children:e.jsx(Y,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:c,"data-type":"instagram",children:[e.jsx("i",{className:"left",children:e.jsx(Y,{icon:"skill-icons:instagram"})})," Compartir en Instagram ",e.jsx("i",{className:"right",children:e.jsx(Y,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:c,"data-type":"x",children:[e.jsx("i",{className:"left",children:e.jsx(Y,{icon:"devicon:twitter"})})," Compartir en X ",e.jsx("i",{className:"right",children:e.jsx(Y,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:c,"data-type":"email",children:[e.jsx("i",{className:"left",children:e.jsx(Y,{icon:"logos:mailgun-icon"})})," Compartir en Correo Electronico ",e.jsx("i",{className:"right",children:e.jsx(Y,{icon:"uiw:right"})})]})]}),e.jsx("div",{className:"url",children:e.jsx("span",{children:n??window.location.href})}),e.jsxs("div",{className:"register",children:[e.jsx("p",{children:"Crear tu cuenta en rar.bio"}),e.jsx("span",{children:"Comparte tu enlace con mas de 6 Billons de personas"}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:l=>{i("/register")},children:"Crear cuenta"}),e.jsx("button",{onClick:l=>{i("/auth")},children:"Inicia sesión"})]})]})]})})})})}function xi(){var o,d,h,x,g,m,j,v,f,S,P,F,T;const[s,t]=a.useState({}),[n,i]=a.useState(!1),[r,c]=a.useState(!0),l=le();function p(){let k=new FormData;k.append("token",l.id),q.post(D+"/api/get/buttons",k).then(y=>y.data).then(y=>{if(t(y),y){let b=new FormData;b.append("type_stat","visit"),b.append("type","buttons"),b.append("token",l.id),q.post(D+"/api/get/capturestatsbuttons",b)}})}a.useEffect(()=>{p()},[]);function u(k){k.preventDefault(),k.stopPropagation();let y=k.target.href;if(r){c(!1);let b=new FormData;b.append("type","buttons"),b.append("type_stat","click"),b.append("data",y),b.append("token",l.id),q.post(D+"/api/get/capturestatsbuttons",b).then(C=>C.data).then(C=>{c(!0),window.open(y)}).catch(C=>{c(!0)})}}return e.jsxs(e.Fragment,{children:[e.jsx(ta,{Visible:n,CallbackVisible:i}),e.jsx("div",{className:"editor-surveys btnactive prod-buttons",children:e.jsx("div",{className:"rows",children:e.jsxs("div",{className:"center",style:{background:(o=s==null?void 0:s.header)==null?void 0:o.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(d=s==null?void 0:s.header)==null?void 0:d.blur}px)brightness(${(h=s==null?void 0:s.header)==null?void 0:h.brightness})`,background:(x=s==null?void 0:s.header)==null?void 0:x.background2}}),e.jsxs("div",{className:`${"page buttonsbody "+((g=s==null?void 0:s.header)==null?void 0:g.colorBox)}`,children:[e.jsx("div",{className:"share-now",children:e.jsx("button",{onClick:k=>{i(!0)},children:e.jsx(Ra,{})})}),e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",type:"logo",src:(m=s==null?void 0:s.header)!=null&&m.logo?(j=s==null?void 0:s.header)==null?void 0:j.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{type:"title",children:(v=s==null?void 0:s.header)!=null&&v.title?(f=s==null?void 0:s.header)==null?void 0:f.title:""}),e.jsx("span",{type:"desc",children:(S=s==null?void 0:s.header)!=null&&S.desc?(P=s==null?void 0:s.header)==null?void 0:P.desc:""})]}),e.jsx("div",{className:"buttons",children:(F=s==null?void 0:s.buttons)==null?void 0:F.map((k,y)=>{var b;return e.jsx("div",{children:e.jsxs("a",{onClick:u,style:{borderRadius:((b=s==null?void 0:s.header)==null?void 0:b.radius)+"px"},type:"buttons",id:y,href:k.url,children:[" ",k!=null&&k.name?k==null?void 0:k.name:"Elegir nombre..."]},y)},y)})}),e.jsx("div",{className:"rs",children:(T=s==null?void 0:s.rs)==null?void 0:T.map((k,y)=>e.jsx("div",{className:"r",children:e.jsxs("a",{href:"",id:y,type:"rs",children:[k.type=="in"?e.jsx(Vs,{}):"",k.type=="tik"?e.jsx(Bs,{}):"",k.type=="disc"?e.jsx(Qs,{}):"",k.type=="spot"?e.jsx(Ws,{}):"",k.type=="tele"?e.jsx(Hs,{}):"",k.type=="ws"?e.jsx(Is,{}):"",k.type=="email"?e.jsx(Gs,{}):"",k.type=="fb"?e.jsx(Js,{}):"",k.type=="x"?e.jsx(Xs,{}):"",k.type=="link"?e.jsx(Ks,{}):""]})},y))}),e.jsxs("div",{className:"footer",children:[e.jsx("br",{}),e.jsx("hr",{}),e.jsx("p",{children:"Powered by RadarSystems. ​​​​​​​Copyright © 1998 - 2022 Todos los derechos reservados."})]})]})]})})})]})}function As({onClick:s}){let t=[{color:"#FFDDC1"},{color:"#FFA07A"},{color:"#FFB6C1"},{color:"#87CEEB"},{color:"#B0C4DE"},{color:"#ADD8E6"},{color:"#FFE4E1"},{color:"#F0FFF0"},{color:"#F5F5DC"},{color:"#F0E68C"},{color:"#E0FFFF"},{color:"#FAFAD2"},{color:"#FFEBCD"},{color:"#E6E6FA"},{color:"#F08080"},{color:"#FF6347"},{color:"#FFD700"},{color:"#FFA500"},{color:"#FF4500"},{color:"#E9967A"},{color:"#CD5C5C"},{color:"#FF8C00"},{color:"#FF69B4"},{color:"#FF1493"},{color:"#DB7093"},{color:"#800000"},{color:"#A52A2A"},{color:"#D2691E"},{color:"#8B4513"},{color:"#8B0000"},{color:"#800080"},{color:"#000"},{color:"#fff"}];return e.jsx(e.Fragment,{children:e.jsx("div",{className:"colorPicker-basic",children:t.map((n,i)=>e.jsx("div",{className:"color",style:{background:n.color},"data-value":n.color,onClick:r=>{s(r.target.dataset.value)}}))})})}function ji({setButtons:s,Visible:t,VisibleMenu:n}){const[i,r]=a.useState({}),[c,l]=a.useState(!1),[p,u]=a.useState(!1),[o,d]=a.useState(),{UserInfo:h}=a.useContext(X);function x(P){let F=P.target.value,T=P.target.name;(T=="background"||T=="backgroundHeader")&&F.indexOf("http")>=0&&(F=`url(${F})`),s(k=>{let y={...k};return y.header[P.target.name]=F,y})}function g(P){s(F=>{let T={...F};return T.header.background=P,T})}function m(P){s(F=>{let T={...F};return T.header.backgroundHeader=P,T})}function j(){document.querySelector("input[name='file-wallpaper']").click()}function v(P){let F=P.target.files[0];at(F)&&r(F)}function f(){r({}),document.querySelector("input[name='file-wallpaper']").value=""}function S(){var P;if(i!=null&&i.name){u(!0);let F=new FormData;F.append("id_company",(P=h==null?void 0:h.company)==null?void 0:P.id_company),F.append("file",i),q.post(D+"/api/upload/fileqr",F,{withCredentials:!0}).then(T=>T.data).then(T=>{T.download&&s(k=>{let y={...k};return o=="background"&&(y.header.background=`url(${T.download})`),o=="backgroundHeader"&&(y.header.backgroundHeader=`url(${T.download})`),y}),l(!1),u(!1)}).catch(T=>{u(!1)})}else de.error("Opps no has seleccionado ningun archivo")}return a.useEffect(()=>{document.querySelector("input[name='background']").value="a"},[]),e.jsxs(e.Fragment,{children:[e.jsxs(te,{visible:c,callback:l,onClick:S,Pending:p,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Subir imagen"}),e.jsx("span",{children:"sube tu imagen que no sea mayor a 5MB"})]}),e.jsx("input",{type:"file",onChange:v,name:"file-wallpaper",accept:".png,.jpg,.jpeg",hidden:!0}),e.jsx("div",{className:"select-file",children:i.name?e.jsxs("div",{className:"file",children:[e.jsx("div",{className:"right",children:e.jsx("button",{onClick:f,children:e.jsx(ae,{})})}),e.jsx("div",{className:"preview",children:e.jsxs("div",{className:"fi",children:[e.jsx("div",{className:"icon",children:e.jsx(ke,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:i==null?void 0:i.name}),e.jsx("span",{children:i==null?void 0:i.type})]})]})})]}):e.jsxs("div",{className:"drop-file",onClick:j,children:[e.jsx("i",{children:e.jsx(we,{})}),e.jsx("span",{className:"desc",children:"Has click aca para buscar tu archivo"})]})})]}),e.jsx("img",{src:"/img/icons/logo_color_1.png",alt:"",hidden:!0}),e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar botonera"}),e.jsx("span",{children:"Personaliza tu botonera, cambiando imagenes, fondo, texto, botones, enlaces."}),e.jsx("button",{className:"close mb",onClick:n,children:e.jsx(Y,{icon:"teenyicons:x-outline"})})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",defaultValue:"#fff",onChange:x,name:"background"}),e.jsxs("button",{onClick:P=>{l(!0),d("background")},className:"action-complete",children:[e.jsx(Y,{icon:"material-symbols:upload-rounded"})," Elegir Imagen"]}),e.jsx("hr",{}),e.jsx("p",{className:"title",children:"Colores"}),e.jsx(As,{onClick:g}),e.jsx("br",{})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el header"}),e.jsx("input",{type:"text",defaultValue:"#fff",onChange:x,name:"backgroundHeader"}),e.jsxs("button",{onClick:P=>{l(!0),d("backgroundHeader")},className:"action-complete",children:[e.jsx(Y,{icon:"material-symbols:upload-rounded"})," Elegir Imagen"]}),e.jsx("hr",{}),e.jsx("p",{className:"title",children:"Colores"}),e.jsx(As,{onClick:m}),e.jsx("br",{})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{name:"theme",onClick:x,value:"ligth",children:"Modo Claro"}),e.jsx("button",{name:"theme",onClick:x,value:"dark",children:"Modo Oscuro"})]})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",onChange:x,defaultValue:0,step:"0.1",max:"10",name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",onChange:x,defaultValue:1,step:"0.1",max:"1",name:"brightness"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border radius"}),e.jsx("input",{type:"range",onChange:x,defaultValue:1,step:"0.1",max:"50",name:"radius"})]})]})}function gi({VisibleMenu:s,getMyQrs:t,addNewQr:n,setVisibleQr:i,boxType:r,editor:c,buttons:l,setButtons:p}){const[u,o]=a.useState(!1);a.useState(!1);const[d,h]=a.useState(!1),[x,g]=a.useState(!1),[m,j]=a.useState({});a.useState({});const[v,f]=a.useState(),[S,P]=a.useState(""),[F,T]=a.useState({ssid:"",password:"",encrypt:""}),[k,y]=a.useState({rs:!1,modalFile:!1}),[b,C]=a.useState(),{UserInfo:N}=a.useContext(X),_=a.useRef(null),w={instagram:"https://www.instagram.com/",twitter:"https://x.com/",facebook:"https://facebook.com/",tiktok:"https://tiktok.com/",whatsapp:"https://api.whatsapp.com/send/?phone=",websiteurl:""};function L(I,ie){if(R(I.target).css("opacity")!=="0.5")switch(f(ie),ie){case"qrs":t(),i(!0);break;case"vcard":i(!0),t("qr-contact");break;case"vcard-add":document.querySelector(".head-top .right button").click(),setTimeout(()=>{document.querySelectorAll(".wizard-home.open .case.active .selector")[1].click()},20),setTimeout(()=>{R(document.querySelector(".wizard-home.open .next")).click()},20);break;case"instagram":case"facebook":case"tiktok":case"twitter":case"whatsapp":case"websiteurl":g(!0);break;case"wifi":h(!0);break;case"pdf":case"img":o(!0);break}else de.error("Este boton no esta habilitado para este apartado.")}const Q=new js({width:600,height:600,margin:0,qrOptions:{typeNumber:"0",mode:"Byte",errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,margin:10},dotsOptions:{type:"dots",color:"#000000"},backgroundOptions:{color:"#ffffff",gradient:null},image:"/img/icons/logo_color_1.png",dotsOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#6a1a4c",color2:"#6a1a4c",rotation:"0"}},cornersSquareOptions:{type:"extra-rounded",color:"#000000"},cornersSquareOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},cornersDotOptions:{type:"dot",color:"#000000"},cornersDotOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},backgroundOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#ffffff",color2:"#ffffff",rotation:"0"}}});function ee(){R("input[name='file']").click()}function re(I){let ie=I.target.files;ie[0]&&(ie[0].type.indexOf("/pdf")>=0||ie[0].type.indexOf("imag")>=0?j(ie[0]):de.error("El archivo no es una imagen / pdf"))}function H(I){j({}),R("input[name='file']").val("")}function O(I,ie){y({...ie,[I]:ie})}async function W(I){var me;let ie=!1;if(x&&S&&(ie=!0),d&&F.encrypt&&F.password.length&&F.ssid&&(ie=!0),u&&I&&(ie=!0),ie){O("rs",!0),Q.append(_.current);let pe=new FormData,Te=I;pe.append("url",I),pe.append("id_company",(me=N==null?void 0:N.company)==null?void 0:me.id_company),d?(Q.update({data:I}),Q.getRawData().then(fe=>{let he=new FileReader;he.onload=function(Se){z(Se.target.result,Number(I.id_shortlink),I)},he.readAsDataURL(fe)})):q.post(D+"/api/upload/shortlink",pe,{withCredentials:!0}).then(fe=>fe.data).then(fe=>{Q.update({data:fe.shortlink}),Q.getRawData().then(he=>{let Se=new FileReader;Se.onload=function(We){z(We.target.result,Number(fe.id_shortlink),Te)},Se.readAsDataURL(he)})}).catch(fe=>{de.error(String(fe))}).finally(()=>{O("rs",!1)})}}function z(I,ie=null,me){var fe;let pe=new FormData;ie&&pe.append("id_concat",ie);let Te=`${v+"-"+(new Date/1e3).toFixed()}`;switch(pe.append("preview",I),pe.append("dataQr",me),pe.append("id_company",(fe=N==null?void 0:N.company)==null?void 0:fe.id_company),b==null?pe.append("formqr",JSON.stringify({name:Te})):(Te=b,pe.append("formqr",JSON.stringify({name:b}))),console.log(v),v){case"facebook":case"instagram":case"x":case"twitter":case"linkedin":case"whatsapp":pe.append("type","qr-rs");break;case"pdf":case"img":pe.append("type","qr-file");break;case"wifi":pe.append("type","qr-wifi");break}q.post(D+"/api/upload/qr",pe,{withCredentials:!0}).then(he=>he.data).then(he=>{if(O("rs",!1),he.status){s(!1),g(!1);try{n(Te,he.img),de.success("QR agregado con exito"),o(!1),h(!1),g(!1)}catch(Se){de.error(String(Se))}}else de.error(`${he.msg}`);C(null)}).catch(he=>{C(null),O("rs",!1)})}a.useEffect(()=>{x||P("")},[x]);function se(I){let ie=I.target.name,me=I.target.value;T({...F,[ie]:me})}async function ne(){var ie;O("modalFile",!0);let I=new FormData;I.append("file",m),I.append("id_company",(ie=N==null?void 0:N.company)==null?void 0:ie.id_company),q.post(D+"/api/upload/fileqr",I,{withCredentials:!0}).then(me=>me.data).then(async me=>{me.status&&(de.success("Se ha subido tu archivo correctamente, se esta procesando el QR"),await W(me.download),O("modalFile",!1),o(!1))}).catch(me=>{O("modalFile",!1)})}return a.useEffect(()=>{u||j([])},[u]),e.jsxs(e.Fragment,{children:[e.jsxs(te,{visible:d,onClick:I=>{W(`WIFI:T:${F.encrypt};S:${F.ssid};P:${F.password};;`)},callback:h,maxWidth:400,Pending:k==null?void 0:k.rs,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Red WiFi"}),e.jsx("span",{children:"Agrega tu red Wi-Fi favorita e integra el código QR dentro de tu botonera"})]}),e.jsxs("div",{className:"data",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"ssid",children:"Nombre QR"}),e.jsx("input",{type:"text",onChange:I=>{C(I.target.value)},name:"user",placeholder:v=="websiteurl"?"https://mysiteweb.com":"Nombre del QR"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"ssid",children:"SSID"}),e.jsx("input",{type:"text",onChange:se,name:"ssid",placeholder:"Nombre de red"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"password",children:"Contraseña"}),e.jsx("input",{type:"text",onChange:se,name:"password",placeholder:"Contraseña de red"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"encryption",children:"Selecciona el cifrado"}),e.jsxs("select",{name:"encrypt",id:"encryption",onChange:se,children:[e.jsx("option",{value:"WPA",children:"WPA"}),e.jsx("option",{value:"WPA2",children:"WPA2"}),e.jsx("option",{value:"WEP",children:"WEP"}),e.jsx("option",{value:"nopass",children:"Sin cifrado"})]})]})]})]},d?"x23":"x24"),e.jsxs(te,{visible:x,callback:g,Pending:k.rs,maxWidth:450,next:"Crear",onClick:()=>{W(v=="tiktok"?w[v]+"@"+S:w[v]+S)},children:[v=="websiteurl"?e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Web"}),e.jsx("span",{children:"Agrega la url de tu sitio web"})]}):e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Red social"}),e.jsx("span",{children:"Agrega tu red social favorita y integra el QR dentro de tu botonera"})]}),e.jsxs("div",{className:"data",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",onChange:I=>{C(I.target.value)},name:"user",placeholder:"Nombre del QR"})}),e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{htmlFor:"",children:[w[v],S]}),e.jsx("input",{type:"text",onChange:I=>{P(I.target.value)},name:"user",placeholder:v=="websiteurl"?"https://mysiteweb.com":"@usuario"})]})]})]},x?"12":"13"),e.jsxs(te,{visible:u,Pending:k==null?void 0:k.modalFile,callback:o,next:"Subir",onClick:ne,children:[e.jsx("input",{type:"file",name:"file",onChange:re,hidden:!0}),e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Subir archivo"}),e.jsx("span",{children:"Sube tu imagen o pdf que no sea mayor a 5 MB"})]}),e.jsxs("div",{className:"select-file",children:[e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",onChange:I=>{C(I.target.value)},name:"user",placeholder:v=="websiteurl"?"https://mysiteweb.com":"Nombre del QR"})}),m.name?e.jsxs("div",{className:"file",children:[e.jsx("div",{className:"right",children:e.jsx("button",{onClick:H,children:e.jsx(ae,{})})}),e.jsx("div",{className:"preview",children:e.jsxs("div",{className:"fi",children:[e.jsx("div",{className:"icon",children:e.jsx(ke,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:m==null?void 0:m.name}),e.jsx("span",{children:m==null?void 0:m.type})]})]})})]}):e.jsxs("div",{className:"drop-file",onClick:ee,children:[e.jsx("i",{children:e.jsx(we,{})}),e.jsx("span",{className:"desc",children:"Has click aca para buscar tu archivo"})]})]})]},u?"14sd":"15asdas"),e.jsxs("div",{className:`buttons-services ${r}`,children:[e.jsx("div",{className:"qr-result-2",ref:_,hidden:!0}),e.jsxs("div",{className:"top-title",children:[e.jsx("p",{children:"Mis QR"}),e.jsx("button",{className:"close mb",onClick:I=>{s(!1)},children:e.jsx(Y,{icon:"teenyicons:x-outline"})})]}),e.jsxs("div",{className:"button",type:"all",onClick:I=>{L(I,"qrs")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps.svg",alt:""})}),e.jsx("p",{children:"Mis QRS Favoritos"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"top-title",children:[e.jsx("p",{children:"1. Servicios QR"}),e.jsx("button",{className:"close mb",onClick:I=>{s(!1)},children:e.jsx(Y,{icon:"teenyicons:x-outline"})})]}),e.jsxs("div",{className:"button",onClick:I=>{L(I,"vcard-add")},type:"vcard",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/vCard.svg",alt:""})}),e.jsx("p",{children:"Crear Tarjeta De Presentacion QR"}),e.jsx("span",{children:"Comparte "})]}),e.jsxs("div",{className:"button",onClick:I=>{L(I,"vcard")},type:"vcard",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/vCard.svg",alt:""})}),e.jsx("p",{children:"Mis Tarjeta De Presentacion QR"}),e.jsx("span",{children:"Comparte "})]}),e.jsxs("div",{className:"submenu",children:[e.jsx("p",{children:"Social Media"}),e.jsx("i",{children:e.jsx(ws,{})})]}),e.jsx("br",{}),e.jsxs("div",{className:"button",onClick:I=>{L(I,"whatsapp")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/whatsapp-icon.svg",alt:""})}),e.jsx("p",{children:"Crear Whatsapp"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:I=>{L(I,"instagram")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/instagram.svg",alt:""})}),e.jsx("p",{children:"Crear Instagram"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:I=>{L(I,"facebook")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/facebook.svg",alt:""})}),e.jsx("p",{children:"Crear Facebook"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:I=>{L(I,"twitter")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/twitter.svg",alt:""})}),e.jsx("p",{children:"Crear X"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:I=>{L(I,"tiktok")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/tiktok.svg",alt:""})}),e.jsx("p",{children:"Crear Tiktok"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:I=>{L(I,"websiteurl")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/website.png",alt:""})}),e.jsx("p",{children:"Crear Website URL"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsx("br",{}),e.jsxs("div",{className:"submenu",children:[e.jsx("p",{children:"Crear Otros QR's"}),e.jsx("i",{children:e.jsx(ws,{})})]}),e.jsx("br",{}),e.jsxs("div",{className:"button",onClick:I=>{L(I,"pdf")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/pdf.svg",alt:""})}),e.jsx("p",{children:"Subir PDF"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:I=>{L(I,"img")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/images.svg",alt:""})}),e.jsx("p",{children:"Subir Imagenes"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:I=>{L(I,"wifi")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/wifi.svg",alt:""})}),e.jsx("p",{children:"Crear Acceso WIFI"}),e.jsx("span",{children:"Link to a website of your choice"})]})]})]})}function vi({addNewQr:s,setMyQrs:t,VisibleMenu:n,type:i,visibleQr:r,setVisibleQr:c,buttons:l,setBoxType:p,setButtons:u,editor:o,setEditor:d}){var Ue,es,ss,He,Ie,Ge,Je,Xe;const[h,x]=a.useState(!1),[g,m]=a.useState(void 0),[j,v]=a.useState(),[f,S]=a.useState(!1),[P,F]=a.useState(!1),[T,k]=a.useState(!1),[y,b]=a.useState(!1);a.useState(!0);const[C,N]=a.useState(!1),[_,w]=a.useState(!1),[L,Q]=a.useState({}),ee=le(),re=Z(),{UserInfo:H}=a.useContext(X);function O(K){K.preventDefault(),K.stopPropagation();let G=R(K.target);switch(R(".page.buttonsbody .active").removeClass("active"),G.addClass("active"),G.attr("type")){case"addqr":var E=G.attr("id");switch(d({type:"addqr",key:E}),E){case"0":p("vcard");break;case"1":p("rs");break;default:p("all");break}break;case"rs":var E=G.attr("id");d({type:"rs",key:E});break;case"titlespace":d({type:"titlespace",key:Number(G.attr("id"))});break;default:d({type:G.attr("type")});break}return!1}function W(K){K.stopPropagation();let G=!0;u(E=>{const M={...E};return G&&(G=!1,M.elements.push({qrs:[]})),M})}function z(K,G){u(E=>{const M={...E};return M.elements[K]&&M.elements[K].qrs[G]&&M.elements[K].qrs.splice(G,1),M})}async function se(){var K;if(l.header.titlegl.length>=1){S(!0);let G=new FormData;G.append("json",JSON.stringify(l)),g==null?G.append("title",l.header.titlegl):G.append("id_buttonsqr",g),G.append("id_company",(K=H==null?void 0:H.company)==null?void 0:K.id_company);let E=[];G.append("preview",E),q.post(D+"/api/upload/buttonsqr",G,{withCredentials:!0}).then(M=>M.data).then(M=>{S(!1),M.id_buttonsqr&&(m(Number(M.id_buttonsqr)),v(M.token),ee.id||re(`/editor/buttonsqr/${Number(M.id_buttonsqr)}`)),M.status&&A.success("Guardado con exito"),M.msg&&A.error(M.msg)}).catch(M=>{S(!1)})}else x(!0),A.error("Opps no puedes avanzar si tu plantilla no posee un titulo")}function ne(K){let G=K.target.value;u(E=>{let M={...E};return M.header.titlegl=G,M})}function I(){l.header.titlegl&&(x(!1),A.success("El titulo se aplico con exito"),se())}function ie(){var K,G,E;R("#title").val((K=l==null?void 0:l.header)==null?void 0:K.title),R("#desc").val((G=l==null?void 0:l.header)==null?void 0:G.desc),(E=l==null?void 0:l.elements)==null||E.forEach((M,V)=>{R("p[type='titlespace']").eq(V).text(M.title)})}a.useEffect(()=>{var K;if(ee.id){let G=new FormData;G.append("id_buttonsqr",ee.id),G.append("id_company",(K=H==null?void 0:H.company)==null?void 0:K.id_company),q.post(D+"/api/get/editbuttonsqr",G,{withCredentials:!0}).then(E=>E.data).then(E=>{E.id_buttonsqr&&(u(JSON.parse(E.json)),m(E.id_buttonsqr),v(E.token))})}},[]),a.useEffect(()=>{var K;_||(i==="company"&&g===void 0&&((K=l.elements[0])==null?void 0:K.title)==="Business Card"||i!=="company")&&l&&l.elements.length>0&&(ie(),w(!0))},[g,i,l]);function me(K){u(G=>{let E={...G};return E.header.title=K.target.value,E})}function pe(K){u(G=>{let E={...G};return E.header.desc=K.target.value,E})}function Te(K){u(G=>{let E={...G};return E.elements[o.key].title=K.target.textContent,E})}function fe(K){let G=!0;u(E=>{let M={...E};return G&&(G=!1,M.elements.splice(K,1)),M})}function he(){document.querySelector("input[name='photo']").click()}function Se(K){let G=K.target.files[0];G&&((G==null?void 0:G.type.indexOf("image"))>=0?Q(G):A.error("El archivo no es compatible"))}function We(){var K;if(F(!0),L){let G=new FormData;G.append("id_company",(K=H==null?void 0:H.company)==null?void 0:K.id_company),G.append("file",L),q.post(D+"/api/upload/fileqr",G,{withCredentials:!0}).then(E=>E.data).then(E=>{F(!1),E.status&&(u(M=>{let V={...M};return V.header.logo=E.download,V}),Ze(),N(!1),A.success("Nueva imagen!"))}).catch(E=>{F(!1)})}}function Ze(){Q({}),document.querySelector("input[name='photo']").value=""}return a.useEffect(()=>{n()},[C,T]),e.jsxs(e.Fragment,{children:[e.jsxs(te,{visible:C,next:"Agregar",callback:N,onClick:We,Pending:P,children:[e.jsx("input",{type:"file",name:"photo",onChange:Se,hidden:!0}),e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Subir archivo"}),e.jsx("span",{children:"Sube tu imagen que no sea mayor a 5 MB"})]}),e.jsx("div",{className:"select-file",children:L.name?e.jsxs("div",{className:"file",children:[e.jsx("div",{className:"right",children:e.jsx("button",{onClick:Ze,children:e.jsx(ae,{})})}),e.jsx("div",{className:"preview",children:e.jsxs("div",{className:"fi",children:[e.jsx("div",{className:"icon",children:e.jsx(ke,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:L==null?void 0:L.name}),e.jsx("span",{children:L==null?void 0:L.type})]})]})})]}):e.jsxs("div",{className:"drop-file",onClick:he,children:[e.jsx("i",{children:e.jsx(we,{})}),e.jsx("span",{className:"desc",children:"Has click aca para buscar tu archivo"})]})})]}),e.jsxs(te,{visible:h,close:x,callback:x,onClick:I,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("span",{children:"Elige un titulo general para esta plantilla"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Titulo general"}),e.jsx("input",{onChange:ne,type:"text",placeholder:"ej: plantilla 1"})]})]}),e.jsx(aa,{Visible:T,Close:k},T?"x12":"x23"),e.jsx(ys,{callbackUrl:s,Visible:y,Close:b},y?"s14":"s15"),e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{onClick:K=>{b(!0)},children:[e.jsx(we,{})," Crear QR"]}),e.jsxs("button",{onClick:K=>{k(!0)},children:[e.jsx(we,{})," Importar QR"]}),e.jsxs("button",{onClick:K=>{},children:[e.jsx(Re,{})," Previsualizar"]}),j?e.jsxs("button",{onClick:K=>{re(`/buttonsqr/${j}?install=true`)},children:[e.jsx(Y,{icon:"ic:round-install-mobile"})," Instalar"]}):"",e.jsxs("button",{className:f?"await":"",onClick:se,children:[e.jsx(Ye,{})," Guardar ",e.jsx("div",{className:"loading"})]})]})}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(Ue=l==null?void 0:l.header)==null?void 0:Ue.blur}px)brightness(${(es=l==null?void 0:l.header)==null?void 0:es.brightness})`,WebkitBackdropFilter:`blur(${(ss=l==null?void 0:l.header)==null?void 0:ss.blur}px)`,background:(He=l==null?void 0:l.header)==null?void 0:He.background2}}),e.jsx("div",{className:"header",style:{background:(Ie=l==null?void 0:l.header)==null?void 0:Ie.backgroundHeader}}),e.jsx("div",{className:`${"page buttonsbody buttonsqr editmode "+((Ge=l==null?void 0:l.header)==null?void 0:Ge.theme)}`,children:e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",onClick:O,type:"logo",src:(Je=l==null?void 0:l.header)!=null&&Je.logo?(Xe=l==null?void 0:l.header)==null?void 0:Xe.logo:"/img/icons/default-img.jpg",alt:""}),e.jsxs("button",{className:"action",onClick:K=>{N(!0)},children:[e.jsx(Ma,{})," Agregar Imagen"]}),e.jsx("br",{}),e.jsx("input",{id:"title",onClick:O,onChange:me,suppressContentEditableWarning:!0,contentEditable:!0,placeholder:"Nombre"}),e.jsx("textarea",{placeholder:"Descripcion",id:"desc",onClick:O,onChange:pe,suppressContentEditableWarning:!0,contentEditable:!0,type:"desc"}),e.jsx("br",{}),e.jsx("br",{}),l.elements.map((K,G)=>e.jsxs("div",{className:"boxqr",children:[e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"top-left",children:e.jsx("p",{id:G,suppressContentEditableWarning:!0,contentEditable:!0,type:"titlespace",onInput:Te,onClick:E=>{O(E)},children:"Escribe titulo..."})}),e.jsxs("div",{className:"top-right",children:[e.jsxs("button",{className:`${(o==null?void 0:o.key)==G&&(o==null?void 0:o.type)=="addqr"?"select":""}`,id:G,type:"addqr",onClick:E=>{O(E),n("right")},children:[e.jsx("i",{children:e.jsx(Ce,{})}),"  Seleccionar QR"]}),e.jsx("button",{id:G,onClick:E=>{fe(G)},children:"Eliminar"})]})]}),e.jsx(ps.Carousel,{showThumbs:!1,showStatus:!1,children:K.qrs.map((E,M)=>e.jsxs("div",{className:"qr",children:[e.jsx("button",{className:"delete",onClick:V=>{z(G,M)},children:e.jsx(ae,{})}),e.jsx("img",{src:E.image}),e.jsx("p",{children:E.title}),e.jsx("br",{})]},M))}),K.qrs.length==0?e.jsx("div",{className:"add-qr",children:"+"}):""]},G)),e.jsxs("div",{className:"add-new",onClick:W,children:[e.jsx(Be,{})," Agregar Caja"]}),e.jsx("br",{}),e.jsxs("div",{className:"actions-bottom",children:[e.jsxs("button",{className:f?"await":"",onClick:se,children:[e.jsx(Be,{})," Guardar ",e.jsx("div",{className:"loading"})]}),e.jsx("br",{}),e.jsxs("button",{onClick:K=>{re(`/buttonsqr/${j}?install=true`)},children:[e.jsx(Y,{icon:"ic:round-install-mobile"})," Instalar"]})]})]})})]})}function fi({Visible:s,Close:t,Callback:n,setType:i,TypeSelect:r}){a.useContext(X);const[c,l]=a.useState(0),[p,u]=a.useState([qe()]),[o,d]=a.useState({type:"",name:""});Z();function h(m){m.stopPropagation(),m.preventDefault();let j=R(m.target);j.parents(".options").find(".active").removeClass("active"),j.addClass("active");let v=j.attr("value");d(f=>({...f,type:v}))}function x(m){let j=!1;R(m.target),(c===0&&o.type=="company"||o.type=="personal")&&(j=!0),j&&o.type&&(i(o.type),n(!1))}function g(m){let j=m.target.name,v=m.target.value;d(f=>({...f,[j]:v}))}return a.useEffect(()=>{R(".case.active").removeClass("active"),R(".case").eq(c).addClass("active")},[c]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[c>0?e.jsxs("button",{className:"return",onClick:m=>{l(j=>j-1)},children:[e.jsx(ze,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",r?e.jsx("button",{className:"closed",onClick:m=>{n(!1)},children:"X"}):""]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crea tu botonera QR"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de botonera QR que deseas crear"})]}),e.jsxs("div",{className:"options flex",id:`options-${p[0]}`,children:[e.jsxs("div",{className:"selector",onClick:h,value:"personal",children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Botonera Personal"}),e.jsx("span",{children:"Crea tu botonera y unifica toda tu presencia personal / online de manera sencilla, rápida y gratuita."})]})]}),e.jsxs("div",{className:"selector",onClick:h,value:"company",children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Botonera Empresarial"}),e.jsx("span",{children:"La botonera empresarial viene con una plantilla predeterminada, donde podras generar multiples QR's y donde puedes crear a tu estilo, fondos y colores."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar Lista"}),e.jsx("span",{className:"desc",children:"Asignale un nombre a tu nueva lista."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de lista"}),e.jsx("input",{type:"text",name:"name",onChange:g,placeholder:"Nombre"})]})})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:"next",onClick:x,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function Os(){var k;const[s,t]=a.useState({header:{titlegl:"",title:"",desc:"",img:"",background:"",theme:"ligth"},elements:[]}),[n,i]=a.useState({key:"",type:""}),r=le(),[c,l]=a.useState(void 0),[p,u]=a.useState(!1),[o,d]=a.useState(),[h,x]=a.useState(!1),[g,m]=a.useState([]),{UserInfo:j}=a.useContext(X),[v,f]=a.useState({left:!1,right:!1});a.useEffect(()=>{switch(c){case"personal":t({header:{titlegl:"",title:"",desc:"",img:"",background:""},elements:[]});break;case"company":t({header:{titlegl:"",title:"",desc:"",img:"",background:""},elements:[{title:"Business Card",qrs:[]},{title:"Redes Sociales",qrs:[]},{title:"Presentaciones",qrs:[]}]});break}},[c]);function S(y){let b={left:!1,right:!1};switch(y){case"left":b={...b,left:!0};break;case"right":b={...b,right:!0};break}f(b)}function P(y,b){let C=!0;x(!1),de.success("Qr agregado con exito"),t(N=>{const _={...N};if(C){C=!1;const w=[..._.elements[n.key].qrs,{image:b,title:y}];_.elements[n.key].qrs=w}return _})}function F(y){var C;let b=new FormData;b.append("id_company",(C=j==null?void 0:j.company)==null?void 0:C.id_company),y&&b.append("type",y),q.post(D+"/api/get/qrs",b,{withCredentials:!0}).then(N=>N.data).then(N=>{m(N)})}a.useEffect(()=>{F(),r.id||u(!0)},[]),a.useEffect(()=>{S()},[h]);function T(y){var N;y.preventDefault(),y.stopPropagation();let b=Number(y.target.dataset.idqr);m(_=>_.filter(L=>L.id_qr!==b)),de.success("Qr Eliminado");let C=new FormData;C.append("id_company",(N=j==null?void 0:j.company)==null?void 0:N.id_company),C.append("id_qr",b),q.post(D+"/api/delete/qr",C,{withCredentials:!0}).finally(()=>{})}return e.jsxs(e.Fragment,{children:[e.jsxs(te,{visible:h,maxWidth:"450px",callback:x,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Galeria de Qr's"}),e.jsx("span",{children:"Tu galeria de qrs, donde podras seleccionar que qr quieres integrar"})]}),e.jsx("div",{className:"data row flex control-scroll-qrs",children:g.map((y,b)=>e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"qrs",onClick:C=>{P(y==null?void 0:y.title,is(y.qr_preview))},image:is(y.qr_preview),title:y.title,children:[e.jsx("img",{src:is(y.qr_preview),alt:""}),e.jsx("p",{children:y.title}),e.jsx("button",{className:"delete",onClick:T,"data-idqr":y.id_qr,children:e.jsx(Y,{icon:"ph:trash-bold"})})]})},b))})]}),e.jsx(fi,{Visible:p,Callback:u,setType:l,TypeSelect:c}),e.jsxs("div",{className:"editor-surveys",children:[e.jsx("button",{className:"fixed-button-right mb",onClick:y=>{S("left")},children:e.jsx(Y,{icon:"streamline:paint-palette"})}),e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:`left ${v.left==!0?"active":""}`,children:e.jsx(ji,{VisibleMenu:S,Visible:v.left,editor:n,setEditor:i,buttons:s,setButtons:t})}),e.jsx("div",{className:"center ",style:{background:(k=s==null?void 0:s.header)==null?void 0:k.background},children:e.jsx(vi,{setMyQrs:m,addNewQr:P,VisibleMenu:S,type:c,setVisibleQr:x,visibleQr:h,boxType:o,setBoxType:d,editor:n,setEditor:i,buttons:s,setButtons:t})}),e.jsx("div",{className:`right ${v.right==!0?"active":""}`,children:e.jsx("div",{className:"type-editor",children:e.jsx(gi,{VisibleMenu:S,Visible:v.right,getMyQrs:F,addNewQr:P,setVisibleQr:x,visibleQr:h,boxType:o,setBoxType:d,editor:n,setEditor:i,buttons:s,setButtons:t})})})]})]})]})}function Ni(){const[s,t]=a.useState(0),n=Z(),[i,r]=a.useState({user:null,existsAccount:null,code:null,intent:0}),[c,l]=a.useState(!1);function p(){let x=new FormData;x.append("user",i.user),i.user?(l(!0),q.post(D+"/api/recovery/existsuser",x).then(g=>g.data).then(async g=>{g.status?(await d(),l(!1),t(1),A.success("Tu codigo ha sido enviado al correo electronico")):(A.error("Opps no se ha conseguido este usuario"),l(!1))}).catch(g=>{A.error("Opps error al enviar la peticion."),l(!1)})):A.error("Has dejado el usuario vacido")}function u(){let x=new FormData;x.append("user",i==null?void 0:i.user),x.append("code",i==null?void 0:i.code),q.post(D+"/api/recovery/checkcode",x).then(g=>g.data).then(g=>{g.status?(t(2),A.success("Has ingresado el codigo correctamente")):(r({...i,intent:i.intent+1}),A.error("Error con tu codigo de seguridad"))})}function o(x){let g=x.target.name,m=x.target.value;r({...i,[g]:m})}async function d(){let x=new FormData;x.append("user",i==null?void 0:i.user),l(!0),q.post(D+"/api/recovery/requestcode",x).then(g=>g.data).then(g=>{l(!1),g.status?A.success("Codigo enviado correctamente."):A.error("Opps error al obtener un nuevo codigo, espera un momento...")}).catch(g=>{l(!1)})}function h(){let x=new FormData;x.append("user",i.user),x.append("password",i.password),x.append("password2",i.password2),x.append("code",i.code),i.password&&i.password2?i.password==i.password2?q.post(D+"/api/recovery/changepassword",x).then(g=>g.data).then(g=>{g.status?(A.success("Has cambiado la password correctamente"),n("/")):A.error("Opps error al cambiar la password")}):A.error("Las passwords no coiciden"):A.error("Has dejado campos vacios")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"recovery",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Recupera tu cuenta"}),e.jsx("span",{children:"Recupera tu cuenta con un correo o el nombre de usuario"})]}),e.jsx("br",{}),s==0?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Usuario / email"}),e.jsx("input",{type:"text",name:"user",onChange:o,placeholder:"guest@gmail.com"})]}),e.jsxs("button",{className:`go ${c?"await":""}`,onClick:p,children:["Buscar cuenta... ",e.jsx("div",{className:"loading"})]})]}):"",s==1?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{htmlFor:"",children:["Ingresa el codigo enviado a (",e.jsx("b",{children:i.user}),") "]}),e.jsx("input",{type:"password",name:"code",onChange:o,placeholder:"Codigo",style:{textAlign:"center"}})]}),i.intent?e.jsx(e.Fragment,{children:e.jsxs("button",{className:`transparent ${c?"await":""}`,onClick:d,children:["Pedir nuevo codigo ",e.jsx("div",{className:"loading"})]})}):"",e.jsxs("button",{className:`go ${c?"await":""}`,onClick:u,children:["Confirmar Codigo",e.jsx("div",{className:"loading"})]})]}):"",s==2?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Contraseña Nueva"}),e.jsx("input",{type:"password",name:"password",onChange:o,placeholder:"••••••••"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Repita contraseña nueva"}),e.jsx("input",{type:"password",name:"password2",onChange:o,placeholder:"••••••••"})]}),e.jsxs("button",{className:`go ${c?"await":""}`,onClick:h,children:["Actualizar Contraseña",e.jsx("div",{className:"loading"})]})]}):""]})})}function yi(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top",children:[e.jsx("ul",{}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"form-search",children:e.jsx("input",{type:"text",placeholder:"Buscar usuario..."})})})]})})}function bi(){const[s,t]=a.useState([]),{UserInfo:n}=a.useContext(X);function i(r,c){var p;let l=new FormData;l.append("id_company",(p=n==null?void 0:n.company)==null?void 0:p.id_company),q.post(D+"/api/get/contacts",l,{withCredentials:!0}).then(u=>u.data).then(u=>{t(u.result)})}return a.useEffect(()=>{i()},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Contactos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]})}),e.jsx(yi,{}),e.jsx("div",{className:"box box-padding",children:e.jsx("table",{children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Email"}),e.jsx("td",{children:"Nombre"}),e.jsx("td",{children:"Apellido"}),e.jsx("td",{children:"Dni"}),e.jsx("td",{children:"Numero"}),e.jsx("td",{children:"Sexo"}),e.jsx("td",{children:"Email Verificado"}),e.jsx("td",{children:"Estatus"})]}),s.map((r,c)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("span",{children:r.email?r.email:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:r.name?r.name:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:r.lastname?r.lastname:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:r.dni?r.dni:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:r.phone?r.phone:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:r.sexo?r.name:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:r.email_verified?r.email_Verified:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:r.status?r.status:"No disponible"})})]}))]})})})]})}function Ci(){var l;const s=a.useRef(null);let{UserInfo:t}=a.useContext(X);const[n,i]=a.useState(!1),r=Z();a.useEffect(()=>{const p=Aa.init({container:s.current,plugins:[Oa,$a,za,Va]});return p.Storage.destroy(),p.Panels.addButton("options",{id:"return",label:"Volver",command:async function(){r("/landings")}}),p.Panels.addButton("options",{id:"save-html-button",className:"save-html-button-class",label:"Guardar",command:async function(){const u=p.getHtml(),o=p.getCss(),d=await p.store("export").then(g=>JSON.stringify(g));let h=new FormData,x=R("input[name='name']").val();h.append("id_company",R("#id_company").val()),h.append("html",u),h.append("name",x),h.append("css",o),h.append("json",d),Number(R("#id_edit").val())>=1&&h.append("id",R("#id_edit").val()),x.length?q.post(D+"/api/upload/landing",h,{withCredentials:!0}).then(g=>g.data).then(g=>{g.status&&(A.success("Guardado con exito"),g.id_create&&R("#id_edit").val(g.id_create))}):(A.error("Opps no has elegido un titulo"),i(!0))}}),p.Panels.addButton("options",{id:"gallery",label:"Galeria",command:async function(){}}),()=>{p.destroy()}},[]);function c(){R("input[name='name']").val()?i(!1):A.error("Opps no has asignado un titulo")}return e.jsx(e.Fragment,{children:e.jsxs("body",{theme:"ligth",children:[e.jsxs(te,{visible:n,callback:i,close:i,onClick:c,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Elegir titulo"}),e.jsx("span",{children:"elige un titulo para esta plantilla"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{name:"name",type:"text",placeholder:"Titulo"})})]}),e.jsx("input",{type:"number",id:"id_edit",hidden:!0}),e.jsx("input",{type:"number",id:"id_company",value:(l=t==null?void 0:t.company)==null?void 0:l.id_company,hidden:!0}),e.jsx("div",{ref:s})]})})}function wi(){const[s,t]=a.useState([]),{UserInfo:n}=a.useContext(X),[i,r]=a.useState(!0),c=Z();function l(){var u;let p=new FormData;p.append("id_company",(u=n==null?void 0:n.company)==null?void 0:u.id_company),q.post(D+"/api/get/landings",p,{withCredentials:!0}).then(o=>o.data).then(o=>{t(o),r(!1)})}return a.useEffect(()=>{l()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Landings"}),e.jsx("span",{children:"Aqui veras todas tus landings creadas con anterioridad podras editarlas o eliminarlas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:p=>{c("/editor/landings")},children:"Crear nueva landing"})})]}),e.jsx("div",{className:"row",children:i==!1?s.map((p,u)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:"url(/img/icons/default-img.jpg)"},children:e.jsx("div",{className:"right-top",children:e.jsx("button",{onClick:o=>{c(`/landing/${p.token}`)},children:e.jsx(Re,{})})})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:p==null?void 0:p.name}),e.jsxs("span",{children:["Encuesta agregada el: ",oe(p.time_add)]})]})]})},u)):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(ye,{})})})})]})}function ki(){const s=le();return a.useEffect(()=>{function t(){const n=new FormData;n.append("token",s.id),q.post(D+"/api/get/landing",n).then(i=>i.data).then(i=>{document.documentElement.innerHTML="",document.documentElement.innerHTML=i.html})}t()},[s.id]),null}function Si(){const s=Z(),{UserInfo:t}=a.useContext(X),[n,i]=a.useState([]),[r,c]=a.useState({id_delete:null,pending:!1}),[l,p]=a.useState(!1);function u(){var d;let o=new FormData;o.append("id_company",(d=t==null?void 0:t.company)==null?void 0:d.id_company),q.post(D+"/api/get/buttons",o,{withCredentials:!0}).then(h=>h.data).then(h=>{i(h)})}return a.useEffect(()=>{u()},[]),e.jsxs(e.Fragment,{children:[e.jsx(Pe,{visible:l,callback:p,Pending:r.pending}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MIS BOTONERAS URL"}),e.jsx("span",{children:"Previsualiza, edita, elimina y visualiza las estadisticas de tus botoneras de URL."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:o=>{s("/editor/buttons")},children:"Crear nueva botonera"})})]}),e.jsx("div",{className:"row",children:n.map((o,d)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${D}/api/get/previewbuttons?hash=${o.preview}&w=buttons)`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{title:"Editar",onClick:h=>{s("/editor/buttons/"+o.id_buttons)},children:e.jsx(Y,{icon:"carbon:edit"})}),e.jsx("button",{title:"Previsualizar",onClick:h=>{s(`/stats/buttons/${o.token}`)},children:e.jsx(Y,{icon:"mingcute:eye-line"})}),e.jsx("button",{title:"Estadisticas",onClick:h=>{s(`/buttons/${o.token}`)},children:e.jsx(Y,{icon:"ps:stats"})}),e.jsx("button",{title:"Eliminar",onClick:h=>{p(!0)},children:e.jsx(Y,{icon:"ph:trash"})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:o==null?void 0:o.title}),e.jsxs("span",{children:["Botonera agregada el: ",oe(o.time_add)]})]})]})},d))})]})}function _i(){const s=Z(),{UserInfo:t}=a.useContext(X),[n,i]=a.useState([]),[r,c]=a.useState(null),[l,p]=a.useState(!1),[u,o]=a.useState(!1),d=Z(),[h,x]=a.useState(!1);function g(){var v;let j=new FormData;x(!0),j.append("id_company",(v=t==null?void 0:t.company)==null?void 0:v.id_company),q.post(D+"/api/get/buttonsqr",j,{withCredentials:!0}).then(f=>f.data).then(f=>{i(f),x(!1)}).catch(f=>{x(!1)})}function m(){var j;if(r){p(!0);let v=new FormData;v.append("id_company",(j=t==null?void 0:t.company)==null?void 0:j.id_company),v.append("id_buttonqr",r),q.post(D+"/api/delete/buttonsqr",v,{withCredentials:!0}).then(f=>f.data).then(f=>{f.status&&(o(!1),de.success("Se ha borrado con exito!"),g()),p(!1)}).catch(f=>{p(!1)})}}return a.useEffect(()=>{g()},[]),e.jsxs(e.Fragment,{children:[e.jsx(Pe,{visible:u,onClick:m,Pending:l,callback:o}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MIS BOTONERAS QR"}),e.jsx("span",{children:"Previsualiza, edita, elimina y visualiza las estadisticas de tus QR's."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:j=>{s("/editor/buttonsqr")},children:"Crear nueva botoneraQR"})})]}),e.jsx("div",{className:"loading-box",children:h?e.jsx(ye,{}):n.length==0?e.jsx(je,{addNew:!0,name:"botoneras",callback:j=>{d("/editor/buttonsqr")}}):""}),e.jsx("div",{className:"row",children:n.map((j,v)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${D}/api/get/previewbuttons?hash=${j.preview}&w=buttonsqr)`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{title:"editar",onClick:f=>{d("/editor/buttonsqr/"+j.id_buttonsqr)},children:e.jsx(Y,{icon:"carbon:edit"})}),e.jsx("button",{title:"previsualizar",onClick:f=>{d(`/buttonsqr/${j.token}`)},children:e.jsx(Y,{icon:"mingcute:eye-line"})}),e.jsx("button",{title:"eliminar",onClick:f=>{o(!0),c(j.id_buttonsqr)},children:e.jsx(Y,{icon:"ph:trash"})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:j==null?void 0:j.title}),e.jsxs("span",{children:["Botonera agregada el: ",oe(j.time_add)]})]})]})},v))})]})}function Ei(){var x,g,m,j,v,f,S,P,F,T,k,y;let s=le();const[t,n]=a.useState(!1),[i,r]=a.useState({elements:[]}),[c,l]=a.useState(!1),[p,u]=a.useState(null),o=Z();function d(){let b=new FormData;b.append("token",s.id),q.post(D+"/api/get/buttonsqr",b).then(C=>C.data).then(C=>{r(C)})}a.useEffect(()=>{d(),st("install")=="true"&&n(!0)},[]);function h(b){let C=new FormData;b=new URL(b).searchParams.get("url"),C.append("img",b),q.post(D+"/api/get/dataqr",C,{withCredentials:!0}).then(_=>_.data).then(async _=>{if(_.length){let w=_[0];w.data_qr?dt()=="Desktop"?(u(w.data_qr),l(!0)):await navigator.share({title:"Compartir",text:"test",url:w.data_qr}):de.error("Opps este QR no tiene datos para compartir.")}else de.error("Opps error al localizar el qr")})}return a.useEffect(()=>{c||u(null)},[c]),e.jsxs(e.Fragment,{children:[e.jsx(ta,{Visible:c,CallbackVisible:l,value:p}),t?e.jsxs(te,{visible:!0,maxWidth:250,next:"Listo",onClick:b=>{n(!1),o("/buttonsqr/"+s.id)},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Instalar"}),e.jsx("span",{children:"instalar acceso directo rapidamente en iphone."}),e.jsx("br",{}),e.jsx("br",{})]}),e.jsx("div",{className:"img-tuto-buttonsqr",children:e.jsxs(ps.Carousel,{showThumbs:!1,children:[e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone1.png",alt:""}),e.jsx("span",{children:"Preciona el boton de compartir en la parte de abajo"})]}),e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone2.png",alt:""}),e.jsx("span",{children:"Luego ve al final con el scroll"})]}),e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone3.png",alt:""}),e.jsx("span",{children:"Agrega a inicio"})]}),e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone4.png",alt:""}),e.jsx("span",{children:"Ahora configura y guarda"})]}),e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone5.png",alt:""}),e.jsx("span",{children:"Listo ya tienes tu acceso directo."})]})]})})]}):"",e.jsx("div",{className:"editor-surveys prodbuttonsqr",children:e.jsxs("div",{className:"center",style:{background:(x=i==null?void 0:i.header)==null?void 0:x.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(g=i==null?void 0:i.header)==null?void 0:g.blur}px)brightness(${(m=i==null?void 0:i.header)==null?void 0:m.brightness})`,background:(j=i==null?void 0:i.header)==null?void 0:j.background2}}),e.jsx("div",{className:"header",style:{background:(v=i==null?void 0:i.header)==null?void 0:v.backgroundHeader}}),e.jsx("div",{className:`${"page buttonsbody buttonsqr "+((f=i==null?void 0:i.header)==null?void 0:f.theme)}`,children:e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",type:"logo",src:(S=i==null?void 0:i.header)!=null&&S.logo?(P=i==null?void 0:i.header)==null?void 0:P.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{type:"title",children:(F=i==null?void 0:i.header)!=null&&F.title?(T=i==null?void 0:i.header)==null?void 0:T.title:""}),e.jsx("span",{type:"desc",children:(k=i==null?void 0:i.header)!=null&&k.desc?(y=i==null?void 0:i.header)==null?void 0:y.desc:""}),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("div",{className:"share",children:[e.jsx("button",{onClick:b=>{o("/")},children:"Home"}),e.jsx("button",{onClick:b=>{l(!0)},children:"Recomendar"}),e.jsx("button",{className:"update",onClick:b=>{window.location.href=window.location.href},children:"Actualizar"})]}),i.elements.map((b,C)=>{var N;return e.jsx(e.Fragment,{children:(N=b==null?void 0:b.qrs)!=null&&N.length?e.jsxs("div",{className:"boxqr",children:[e.jsx("div",{className:"top",children:e.jsx("div",{className:"top-left",children:e.jsx("p",{id:C,type:"titlespace",children:b.title?b.title:""})})}),e.jsx(ps.Carousel,{showThumbs:!1,showIndicators:!1,showStatus:!1,children:b.qrs.map((_,w)=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"qr",children:[e.jsx("p",{style:{textTransform:"uppercase",fontSize:"13px"},children:_.title}),e.jsx("img",{src:_.image})]}),e.jsxs("div",{className:"buttons-qrs",children:[e.jsx("button",{onClick:L=>{h(_.image)},children:"Compartir"}),e.jsx("button",{className:"info",onClick:L=>{alert("Si dejas presionada el QR podras habilitar funciones especiales de tu sistema operativo")},children:e.jsx(Y,{icon:"carbon:information-filled"})})]})]}))})]}):""})})]})})]})})]})}function Fi(){const s=le();a.useState();const{UserInfo:t}=a.useContext(X);function n(){var r;let i=new FormData;i.append("token",s.id),i.append("id_company",(r=t==null?void 0:t.company)==null?void 0:r.id_company),q.post(D+"/api/get/statbuttons",i,{withCredentials:!0})}return a.useEffect(()=>{n()},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Botonera: ",s.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu encuesta"})]})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Estadisticas de enlaces"})}),e.jsx("div",{className:"result countryr"})]})}),e.jsx("div",{className:"col-md-6",children:"lorem"})]})]})}function Di(){var d,h;const s=le(),[t,n]=a.useState(!1),i=Z(),{UserInfo:r}=a.useContext(X),[c,l]=a.useState({total_clicks:0,total_errors:0,total_reads:0,total_sends:0,last_sends:[],last_errors:[]}),[p,u]=a.useState({series:[{name:"Enviados",data:[]},{name:"Clicks",data:[]},{name:"Leidos",data:[]},{name:"Errores",data:[]}],chart:{height:350,type:"area"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{categories:[]},tooltip:{x:{format:"dd/MM/yy HH:mm"}}});function o(){var x;if(t){let g=new FormData;g.append("id_company",(x=r==null?void 0:r.company)==null?void 0:x.id_company),g.append("id_campaign",s.id),g.append("case","campaign"),q.post(D+"/api/get/stats",g,{withCredentials:!0}).then(m=>m.data).then(m=>{let j=m.daysResponse.length;l({...c,total_sends:m.total_sends,total_reads:m.total_reads,total_errors:m.total_errors,total_clicks:m.total_clicks,last_sends:m.last_sends,last_errors:m.last_errors,type_campaign:m.type_campaign}),j&&u(v=>({...v,series:[{...v.series[0],data:v.series[0].data.concat(m.daysResponse.map(f=>f.send))},{...v.series[1],data:v.series[1].data.concat(m.daysResponse.map(f=>f.clicks))},{...v.series[2],data:v.series[2].data.concat(m.daysResponse.map(f=>f.reads))},{...v.series[3],data:v.series[3].data.concat(m.daysResponse.map(f=>f.errors))}],xaxis:{...v.xaxis,categories:m.daysTotal}}))}).catch(m=>{})}}return a.useEffect(()=>{n(!0),t&&o()},[t]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Estadisticas de campaña: ",s==null?void 0:s.id]}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:x=>{i("/campaigns/detail/"+s.id)},children:e.jsx(Ve,{})})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Enviados"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:c.total_sends})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Clicks"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:c.total_clicks})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Leidos"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:c.total_reads})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Errores"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:c.total_errors})})]})})]}),e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Estadisticas Generales"}),e.jsx("span",{children:"ve las estadisticas de forma general y recorre por cada dia y mes"})]}),(h=(d=p==null?void 0:p.series[0])==null?void 0:d.data)!=null&&h.length?e.jsx(Qe,{options:p,series:p.series,type:"area",height:300}):""]}),e.jsxs("div",{className:"row ",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Analisis General"}),e.jsx("span",{children:"Analisis generales"})]}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Enviados:"})," ",c.total_sends]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Clicks:"})," ",c.total_clicks]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Leidos:"})," ",c.total_reads]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Errores:"})," ",c.total_errors]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Aceptacion General:"})," ",c.total_sends," %"]})})]}),e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimos Errores"}),e.jsx("span",{children:"Los ultimos errores registrados"})]}),e.jsxs("div",{className:"results",children:[c.last_errors.map((x,g)=>e.jsxs("div",{className:"item flex",children:[e.jsx("div",{children:e.jsx("span",{children:c.type_campaign=="em"?x.email:""})}),e.jsxs("div",{children:[e.jsx("button",{className:"status-send",children:e.jsx(ke,{})}),e.jsx("button",{className:`status-send ${x.error?"error":""}`,children:x.error?e.jsxs(e.Fragment,{children:["Error ",e.jsx(ks,{})]}):e.jsxs(e.Fragment,{children:["Enviado  ",e.jsx(ve,{})]})})]})]})),c.last_errors.length==0?e.jsx(e.Fragment,{children:e.jsx(je,{name:"errores"})}):e.jsx("div",{className:"show-all",children:e.jsx("button",{onClick:x=>{i("/campaigns/stats/detail/"+s.id)},children:"Ver detalles completo"})})]})]})]}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimos Enviados"}),e.jsx("span",{children:"Los ultimos envios salientes"})]}),e.jsxs("div",{className:"results",children:[c.last_sends.map((x,g)=>e.jsxs("div",{className:"item flex",children:[e.jsx("div",{children:e.jsx("span",{children:c.type_campaign=="em"?x.email:""})}),e.jsx("div",{children:e.jsx("button",{className:`status-send ${x.error?"error":""}`,children:x.error?e.jsxs(e.Fragment,{children:["Error ",e.jsx(ks,{})]}):e.jsxs(e.Fragment,{children:["Enviado  ",e.jsx(ve,{})]})})})]})),c.last_sends.length==0?e.jsx(e.Fragment,{children:e.jsx(je,{name:"errores"})}):e.jsx("div",{className:"show-all",children:e.jsx("button",{onClick:x=>{i("/campaigns/stats/detail/"+s.id)},children:" Ver detalles completo"})})]})]})})]})]})}function qi(){const s=Z();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Segmentos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:t=>{s("/contacts/segments/add")},children:"Crear nuevo segmento"})})]})})}function Pi(){const[s,t]=a.useState(!1),[n,i]=a.useState([]),[r,c]=a.useState(!1),[l,p]=a.useState(!1),[u,o]=a.useState({domain:null}),{UserInfo:d}=a.useContext(X);function h(){var j;let m=new FormData;m.append("id_company",(j=d==null?void 0:d.company)==null?void 0:j.id_company),i([]),t(!0),c(!0),q.post(D+"/api/get/domains",m,{withCredentials:!0}).then(v=>v.data).then(v=>{i(v),t(!1),c(!1),p(!1)}).catch(v=>{t(!1)})}function x(){var j;let m=new FormData;m.append("domain",u.domain),m.append("id_company",(j=d==null?void 0:d.company)==null?void 0:j.id_company),rt(u.domain)?q.post(D+"/api/upload/domain",m,{withCredentials:!0}).then(v=>v.data).then(v=>{v.status&&h()}):de.error("Opps este dominio no es veridico.")}function g(m){let j=m.target.value,v=m.target.name;o({...u,[v]:j})}return a.useEffect(()=>{h()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(te,{visible:l,Pending:r,callback:p,maxWidth:"450px",onClick:x,next:"Subir",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ingresar dominio"}),e.jsx("span",{children:"integra un nuevo dominio para utilizarlo en los envios de correo, recuerda que durara un tiempo en verificarse el dominio en nuestro servidor."})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Dominio:"}),e.jsx("input",{type:"url",onChange:g,name:"domain",placeholder:"mail.radarsystems.net"})]}),e.jsx("br",{})]},l?"xd":"xd2"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Dominios"}),e.jsx("span",{children:"Esta es tu lista de dominios que puedes utilizar en el envio de correos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:m=>{p(!0)},children:"Subir nuevo dominio"})})]}),e.jsxs("div",{className:"box box-padding",children:[n.map((m,j)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_link.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:m.domain}),e.jsx("p",{className:"desc",children:m.status?"Activo":"En verificacion..."}),e.jsx("span",{className:"desc",children:oe(m.time_add)})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:v=>{},children:e.jsx(ke,{})}),e.jsx("button",{onClick:v=>{},children:e.jsx(ae,{})})]})]})),s?e.jsx(ye,{}):n.length==0?e.jsx("div",{className:"item",children:e.jsx(je,{name:"dominios"})}):""]})]})}function Ti(){var j,v,f,S,P,F,T,k;const[s,t]=a.useState({type:void 0,map:{}}),[n,i]=a.useState({}),[r,c]=a.useState(!1),[l,p]=a.useState({name:"",desc:""}),{UserInfo:u}=a.useContext(X);function o(y){let b=y.target.name,C=y.target.value;t({...s,[b]:C})}function d(y){let b=y.target.name,C=y.target.value;switch(y.target.getAttribute("action")){case"add":t(_=>({..._,map:{..._.map,[b]:C}}));break;case"push":t({...s,...s.map,[b]:C});break}}function h(){var b;let y=new FormData;y.append("id_company",(b=u==null?void 0:u.company)==null?void 0:b.id_company),q.post(D+"/api/get/list",y,{withCredentials:!0}).then(C=>C.data).then(C=>{i(N=>(N.lists=C,N))})}function x(y){y.preventDefault(),t(b=>{let C={...b};return C.map.wheres||(C.map.wheres=[]),C.map.wheres.push({[C.map.typeWhereContact]:C.formValue}),C})}function g(){var b;let y=new FormData;y.append("json",JSON.stringify(s)),y.append("id_company",(b=u==null?void 0:u.company)==null?void 0:b.id_company),y.append("name",l.name),y.append("desc",l.desc),q.post(D+"/api/upload/segments",y,{withCredentials:!0}).then(C=>C.data).then(C=>{})}function m(y){let b=y.target.name,C=y.target.value;b&&C&&p({...l,[b]:C})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Segmentos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",children:"Cancelar Creacion"})})]}),e.jsxs("div",{className:"segments-creator",children:[e.jsxs("form",{id:"form-segment",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Nombre"}),e.jsx("input",{type:"text",name:"name",onChange:m,placeholder:"Nombre del segmento"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Descripcion"}),e.jsx("input",{type:"text",name:"desc",onChange:m,placeholder:"Descripcion del segmento"})]}),e.jsxs("div",{className:"inputs",children:[e.jsxs("select",{id:"",name:"type",onChange:o,children:[e.jsx("option",{disabled:!0,selected:!0,children:"Selecciona un tipo"}),e.jsx("option",{value:"lists",children:"Listas"}),e.jsx("option",{value:"campaings",children:"Campañas"}),e.jsx("option",{value:"surveys",children:"Encuestas"})]}),s.type=="lists"?e.jsxs(e.Fragment,{children:[e.jsxs("select",{id:"",name:"type_lists",action:"add",onChange:d,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Selecciona..."}),e.jsx("option",{value:"all",children:"Todas las listas"}),e.jsx("option",{value:"where",children:"Lista Especifica"})]}),e.jsx("i",{children:"="}),(s==null?void 0:s.map.type_lists)=="all"?e.jsx(e.Fragment,{children:e.jsx("option",{value:""})}):((j=s==null?void 0:s.map)==null?void 0:j.type_lists)=="where"?e.jsxs(e.Fragment,{children:[h(),e.jsxs("select",{name:"lists",action:"add",id:"",onChange:d,children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"Selecciona la lista..."}),(v=n==null?void 0:n.lists)==null?void 0:v.map((y,b)=>e.jsx("option",{value:y.id_list,children:y.name}))]}),((f=s==null?void 0:s.map)==null?void 0:f.lists)>=1?e.jsxs("div",{className:"multiple",children:[e.jsxs("div",{className:"",children:[e.jsxs("select",{name:"typeWhereContact",action:"add",onChange:d,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Selecciona una condicion"}),e.jsx("option",{value:"email",children:"Correo"}),e.jsx("option",{value:"name",children:"Nombre"}),e.jsx("option",{value:"lastname",children:"Apellido"}),e.jsx("option",{value:"age",children:"Edad"}),e.jsx("option",{value:"country",children:"Pais"})]}),((S=s==null?void 0:s.map)==null?void 0:S.typeWhereContact)=="email"?e.jsxs("select",{name:"formValue",onChange:o,children:[e.jsx("option",{value:".es",children:".es"}),e.jsx("option",{value:".com",children:".com"}),e.jsx("option",{value:".net",children:".net"}),e.jsx("option",{value:".org",children:".org"}),e.jsx("option",{value:"gmail.com",children:"gmail.com"}),e.jsx("option",{value:"hotmail.com",children:"hotmail.com"}),e.jsx("option",{value:"hotmail.es",children:"hotmail.es"}),e.jsx("option",{value:"outlook.com",children:"outlook.com"}),e.jsx("option",{value:"outlook.es",children:"outlook.es"}),e.jsx("option",{value:"icloud.com",children:"icloud.com"})]}):"",["name","lastname","age","country"].includes((P=s==null?void 0:s.map)==null?void 0:P.typeWhereContact)&&e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",name:"formValue",onChange:o,placeholder:(F=s==null?void 0:s.map)==null?void 0:F.typeWhereContact})}),e.jsx("button",{className:"add-button",onClick:x,children:e.jsx(ms,{})})]}),(k=(T=s==null?void 0:s.map)==null?void 0:T.wheres)==null?void 0:k.map((y,b)=>e.jsx("div",{children:Object.entries(y).map(([C,N])=>e.jsxs("div",{className:"where-contact",children:[e.jsxs("p",{children:[C," (Where)"]}),e.jsx("p",{children:N}),e.jsx("button",{children:e.jsx(ae,{})})]},C))},b))]}):""]}):"",["name","lastname","age","country","state"].includes(s==null?void 0:s.type_where_now)&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",placeholder:s==null?void 0:s.type_where_now}),e.jsx("button",{children:e.jsx(ms,{})})]})]}):""]})]}),e.jsxs("div",{className:"buttons-right",children:[e.jsx("button",{children:"Cancelar"}),e.jsxs("button",{className:`save ${r?"await":""}`,onClick:g,children:["Guardar ",e.jsx("div",{className:"loading"})]})]})]})]})}function $s(){Z();const{UserInfo:s}=a.useContext(X),[t,n]=a.useState([]),[i,r]=a.useState([]),[c,l]=a.useState([]);a.useState([]),a.useState([]);const[p,u]=a.useState([]),[o,d]=a.useState([]);a.useState({});function h(m){var v;let j=new FormData;j.append("id_company",(v=s==null?void 0:s.company)==null?void 0:v.id_company),j.append("type",m),j.append("limit","5"),q.post(D+"/api/get/campaign",j,{withCredentials:!0}).then(f=>f.data).then(f=>{switch(m){case"sms":n(f.results);break;case"em":r(f.results??[]);break}})}function x(){var j;let m=new FormData;m.append("id_company",(j=s==null?void 0:s.company)==null?void 0:j.id_company),m.append("limit","10"),q.post(D+"/api/get/templatesall",m,{withCredentials:!0}).then(v=>v.data).then(v=>{u(v)})}function g(){var j;let m=new FormData;m.append("id_company",(j=s==null?void 0:s.company)==null?void 0:j.id_company),q.post(D+"/api/get/surveys",m,{withCredentials:!0}).then(v=>v.data).then(v=>{d(v)})}return a.useEffect(()=>{h("em"),h("sms"),x(),g()},[]),e.jsxs(e.Fragment,{children:[e.jsx(te,{visible:!1,children:"STATS"}),e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MI INICIO"}),e.jsx("span",{children:"Bienvenido a RadarSystems aca podras ver todas tus estadisticas y estados de tu cuenta"})]})}),e.jsx("div",{className:"body-stat",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total email marketing enviados"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"1"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total email transaccional enviados"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"12"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total campañas sms marketing"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"13"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total campañas sms transaccional"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"1"})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding hr",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Top's Campañas EMAIL"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]})})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding hr",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Top's Campañas SMS"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]})})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Email Marketing"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Cam."}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Lei."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:"Rep. Spam"}),e.jsx("td",{children:"Opt. Out"}),e.jsx("td",{children:"Opt. Net"}),e.jsx("td",{children:e.jsx(ge,{})})]}),i.map((m,j)=>e.jsxs("tr",{id:j,children:[e.jsxs("td",{children:[e.jsx("span",{children:m.name}),e.jsx("br",{}),oe(m.time_add)]}),e.jsx("td",{children:m.send}),e.jsx("td",{children:m.returned}),e.jsx("td",{children:m.reads}),e.jsx("td",{children:m.clicks}),e.jsx("td",{children:m.clicks}),e.jsx("td",{children:m.clicks}),e.jsx("td",{children:m.clicks}),e.jsx("td",{children:e.jsx($,{children:e.jsx(ge,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Email Transaccional (MT)"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Cam."}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Lei."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:"Rep. Spam"}),e.jsx("td",{children:"Opt. Out"}),e.jsx("td",{children:"Opt. Net"}),e.jsx("td",{children:e.jsx(ge,{})})]}),i.map((m,j)=>e.jsxs("tr",{id:j,children:[e.jsxs("td",{children:[e.jsx("span",{children:m.name}),e.jsx("br",{}),oe(m.time_add)]}),e.jsx("td",{children:m.send}),e.jsx("td",{children:m.returned}),e.jsx("td",{children:m.reads}),e.jsx("td",{children:m.clicks}),e.jsx("td",{children:m.clicks}),e.jsx("td",{children:m.clicks}),e.jsx("td",{children:m.clicks}),e.jsx("td",{children:e.jsx($,{children:e.jsx(ge,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Sms Marketing"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Cam."}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Rec."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:e.jsx(ge,{})})]}),i.map((m,j)=>e.jsxs("tr",{id:j,children:[e.jsxs("td",{children:[e.jsx("span",{children:m.name}),e.jsx("br",{}),oe(m.time_add)]}),e.jsx("td",{children:m.send}),e.jsx("td",{children:m.returned}),e.jsx("td",{children:m.reads}),e.jsx("td",{children:m.clicks}),e.jsx("td",{children:e.jsx($,{children:e.jsx(ge,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Sms Transaccional (MT)"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Cam."}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Rec."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:e.jsx(ge,{})})]}),i.map((m,j)=>e.jsxs("tr",{id:j,children:[e.jsxs("td",{children:[e.jsx("span",{children:m.name}),e.jsx("br",{}),oe(m.time_add)]}),e.jsx("td",{children:m.send}),e.jsx("td",{children:m.returned}),e.jsx("td",{children:m.reads}),e.jsx("td",{children:m.clicks}),e.jsx("td",{children:e.jsx($,{children:e.jsx(ge,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Whatsapp Marketing"}),e.jsx("span",{children:"Ve las campanas mas demandadas de whatsapp"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Cam."}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Rec."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:e.jsx(ge,{})})]}),c.map((m,j)=>e.jsxs("tr",{id:j,children:[e.jsxs("td",{children:[e.jsx("span",{children:m.name}),e.jsx("br",{}),oe(m.time_add)]}),e.jsx("td",{children:m.send}),e.jsx("td",{children:m.returned}),e.jsx("td",{children:m.reads}),e.jsx("td",{children:m.clicks}),e.jsx("td",{children:e.jsx($,{children:e.jsx(ge,{})})})]}))]}),c.length==0?e.jsx(je,{name:"Whatsapp"}):""]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Whatsapp Transaccional (MT)"}),e.jsx("span",{children:"Ve las campanas mas demandadas de whatsapp"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Cam."}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Rec."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:e.jsx(ge,{})})]}),c.map((m,j)=>e.jsxs("tr",{id:j,children:[e.jsxs("td",{children:[e.jsx("span",{children:m.name}),e.jsx("br",{}),oe(m.time_add)]}),e.jsx("td",{children:m.send}),e.jsx("td",{children:m.returned}),e.jsx("td",{children:m.reads}),e.jsx("td",{children:m.clicks}),e.jsx("td",{children:e.jsx($,{children:e.jsx(ge,{})})})]}))]}),c.length==0?e.jsx(je,{name:"Whatsapp"}):""]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Plantillas Creadas"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsx("div",{className:"result-go",children:p.map((m,j)=>e.jsxs("div",{className:"i",children:[e.jsxs("div",{className:"left",children:[e.jsx("p",{className:"name",children:m.title}),e.jsx("span",{className:"date",children:oe(m.time_add)})]}),e.jsx("div",{className:"right",children:e.jsxs("button",{children:[e.jsx(Re,{})," Ver "]})})]}))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Encuestas"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsx("div",{className:"result-go",children:o.map((m,j)=>e.jsxs("div",{className:"i",children:[e.jsxs("div",{className:"left",children:[e.jsx("p",{className:"name",children:m.header.title}),e.jsx("span",{className:"date",children:oe(m.time_add)})]}),e.jsx("div",{className:"right",children:e.jsxs("button",{children:[e.jsx(Re,{})," Ver"]})})]}))})]})})]})})]})}function Li(){const s=Z(),t=le(),n=Me(),{UserInfo:i}=a.useContext(X);a.useState(null);const[r,c]=a.useState([]),[l,p]=a.useState(!0);function u(o=void 0){var h;let d=new FormData;p(!0),d.append("id_company",(h=i==null?void 0:i.company)==null?void 0:h.id_company),d.append("id_campaign",t.id),o!==void 0&&d.append("type",o),q.post(D+"/api/get/detailsends",d,{withCredentials:!0}).then(x=>x.data).then(x=>{c(x),p(!1)})}return a.useEffect(()=>{u()},[]),a.useEffect(()=>{let o=new URLSearchParams(n.search).get("where");o&&u(o)},[n]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Estadisticas de campaña: ",t==null?void 0:t.id]}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"go-wizard",onClick:o=>{s("/campaigns/stats/"+t.id)},children:e.jsx(Ve,{})}),e.jsx("button",{className:"go-wizard",onClick:o=>{s("/campaigns/stats/"+t.id)},children:"Crear Segmento"}),e.jsx("button",{className:"go-wizard",onClick:o=>{s("/campaigns/stats/"+t.id)},children:"Descargar"})]})]}),e.jsx("div",{className:"menu-top",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:`/campaigns/stats/detail/${t.id}`,children:"General"})}),e.jsx("li",{children:e.jsx($,{to:`/campaigns/stats/detail/${t.id}?where=error`,children:"Errores"})}),e.jsx("li",{children:e.jsx($,{to:`/campaigns/stats/detail/${t.id}?where=clicks`,children:"Clicks"})}),e.jsx("li",{children:e.jsx($,{to:`/campaigns/stats/detail/${t.id}?where=reads`,children:"Leidos"})})]})}),e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Resultados de busqueda"}),e.jsx("span",{children:"Te mostraremos el listado detallado de tus envios"})]}),e.jsx("div",{className:"control-scroll stats-detail",children:e.jsx("div",{className:"row",children:e.jsx(Ys,{hasMore:!0,dataLength:10,children:r.map((o,d)=>e.jsx("div",{className:"item flex",children:e.jsx("div",{children:e.jsx("span",{children:o.email})})}))})})})]})]})}function Ri(){const s=Z(),[t,n]=a.useState(!1),[i,r]=a.useState([]),{UserInfo:c}=a.useContext(X);function l(){var u;let p=new FormData;p.append("id_company",(u=c==null?void 0:c.company)==null?void 0:u.id_company),q.post(D+"/api/get/templatesall",p,{withCredentials:!0}).then(o=>o.data).then(o=>{r(o)})}return a.useEffect(()=>{l()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"BOLETINES ELECTRONICOS"}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:p=>{s("/editor/canvas")},children:"Crear Nuevo Boletin"})})]}),e.jsx("div",{className:"row",children:t==!1?i.map((p,u)=>{var o;return e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${gs((o=c==null?void 0:c.company)==null?void 0:o.folder_sftp,p.preview_image)})`},children:e.jsx("div",{className:"right-top",children:e.jsx("button",{onClick:d=>{s(`/landing/${p.token}`)},children:e.jsx(Re,{})})})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:p==null?void 0:p.title}),e.jsxs("span",{children:["Boletin agregado el: ",oe(p.time_add)]})]})]})},u)}):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(ye,{})})})})]})}R(document).on("click",".settings-account .case .info button",function(s){s.preventDefault(),s.stopImmediatePropagation();let t=R(this).parents(".case");R(".settings-account .case.active").removeClass("active"),t.addClass("active")});function Mi(){R(".settings-account .case.active").removeClass("active")}function Ai(){const{UserInfo:s}=a.useContext(X),[t,n]=a.useState({}),[i,r]=a.useState(),[c,l]=a.useState({photo:""});function p(d){let h=d.nativeEvent.target.files;if(h.length){let x=h[0];if(x.type.indexOf("image")>=0){n(x);let g=URL.createObjectURL(x);r(g)}}}function u(d){R("input[name='photo']").val(""),r(""),n({})}function o(){var h;let d=new FormData;d.append("file",t),d.append("id_company",(h=s==null?void 0:s.company)==null?void 0:h.id_company),l({photo:"await"}),q.post(D+"/api/upload/newphoto",d,{withCredentials:!0}).then(x=>x.data).then(x=>{x.status&&(R(".header-top .body  img").attr("src",i),Mi(),n({}),de.success("Has cambiado correctamente la foto de perfil")),l({photo:""})}).catch(x=>{l({photo:""})})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"settings-account",children:e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Establece una foto de perfil"}),e.jsx("span",{children:"cambia la foto de perfil y integra una foto con tu logo o algo de tu marca"}),e.jsx("button",{children:"Cambiar"})]}),e.jsx("div",{className:"action",children:e.jsxs("div",{className:"change-photo",children:[e.jsx("div",{className:"photo",style:{background:`url(${i||vs(s)})`}}),e.jsx("div",{className:"buttons",children:t!=null&&t.name?e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:c.photo,onClick:o,children:["Guardar ",e.jsx("div",{className:"loading"})]}),e.jsx("button",{onClick:u,children:"Cancelar"})]}):e.jsxs("button",{onClick:d=>{R("input[name='photo']").click()},children:["Subir ",e.jsx("i",{children:e.jsx(Ba,{})})," "]})}),e.jsx("input",{type:"file",name:"photo",onChange:p,hidden:!0})]})})]})})})}function Oi(){const[s,t]=a.useState([]),[n,i]=a.useState({domain:"",domain_email:""}),[r,c]=a.useState(!1),{UserInfo:l}=a.useContext(X),[p,u]=a.useState(!1),[o,d]=a.useState(!1),[h,x]=a.useState(!1),[g,m]=a.useState(null),[j,v]=a.useState(!1),f=Z();function S(y){let b=y.target.name,C=y.target.value;i({...n,[b]:C})}function P(){var b;let y=new FormData;c(!0),y.append("domain",n.domain),y.append("domain_email",n.domain_email),y.append("id_company",(b=l==null?void 0:l.company)==null?void 0:b.id_company),q.post(D+"/api/upload/domain",y,{withCredentials:!0}).then(C=>C.data).then(C=>{c(!1),C.status&&(u(!1),de.success("Has subido el dominio con exito"),F()),C.msg&&de.error(C.msg)}).catch(C=>{c(!1)})}function F(){var b;let y=new FormData;c(!0),y.append("id_company",(b=l==null?void 0:l.company)==null?void 0:b.id_company),q.post(D+"/api/get/domains",y,{withCredentials:!0}).then(C=>C.data).then(C=>{t(C)}).finally(C=>{c(!1)})}function T(y){let b=Number(y.target.dataset.value);m(b),x(!0)}function k(){var b;let y=new FormData;v(!0),y.append("id_domain",g),y.append("id_company",(b=l==null?void 0:l.company)==null?void 0:b.id_company),q.post(D+"/api/delete/domain",y,{withCredentials:!0}).then(C=>C.data).then(C=>{C.status&&(de.success("Has borrado el dominio con exito"),F())}).finally(C=>{x(!1),v(!1)})}return a.useEffect(()=>{F()},[]),e.jsxs(e.Fragment,{children:[e.jsx(Pe,{onClick:k,Pending:j,visible:h,callback:x}),e.jsxs(te,{visible:p,callback:u,maxWidth:"300px",onClick:P,Pending:r,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Agregar"}),e.jsx("span",{children:"agrega un nuevo dominio, el dominio quedara en verificacion para poder ser utilizado"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Dominio destinatario"}),e.jsx("input",{type:"text",name:"domain",onChange:S,placeholder:"dominio.com"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo del dominio"}),e.jsx("input",{type:"text",name:"domain_email",onChange:S,placeholder:"example@dominio.com"})]})]}),e.jsx(Pe,{visible:o,callback:d,onClick:"",Pending:""}),e.jsx("div",{className:"settings-account",children:e.jsxs("div",{className:"case active",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Dominios"}),e.jsx("span",{children:"Estos dominios son los que has configurado para ser manejados en tu campanas de envios email"}),e.jsx("button",{onClick:y=>{u(!0)},children:"Agregar Dominio"})]}),e.jsxs("div",{className:"action",children:[e.jsx("div",{className:"row domains",children:s.map((y,b)=>e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"domain",children:[e.jsxs("p",{children:[e.jsx(Qa,{}),"  ",y.domain]}),e.jsx("span",{children:y.domain_email}),e.jsx("br",{}),e.jsxs("span",{children:["Estatus: ",y.status?e.jsx(Wa,{}):e.jsx(Ha,{})]}),e.jsxs("div",{className:"buttons",children:[e.jsx("button",{onClick:C=>{f(`/settings-account/domain/${y.id_domain}`)},children:e.jsx(Y,{icon:"icon-park-outline:config"})}),e.jsx("button",{onClick:T,"data-value":y.id_domain,children:e.jsx(ae,{})})]})]})}))}),s.length==0?e.jsx(je,{name:"dominios"}):""]})]})})]})}function $i(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading-modal",children:e.jsx("div",{className:"circle"})})})}function zi(){const s=Z(),t=le(),[n,i]=a.useState([]),[r,c]=a.useState(!1),{UserInfo:l}=a.useContext(X),[p,u]=a.useState(),[o,d]=a.useState([]),[h,x]=a.useState({width:"",left:""}),[g,m]=a.useState("gl"),[j,v]=a.useState(!0),[f,S]=a.useState(),[P,F]=a.useState(!1),[T,k]=a.useState({csv:!1,json:!1});function y(){var _;let N=new FormData;N.append("id_list",t.id),N.append("id_company",(_=l==null?void 0:l.company)==null?void 0:_.id_company),q.post(D+"/api/get/logslists",N,{withCredentials:!0}).then(w=>w.data).then(w=>{w.length&&i(w)}).catch(w=>{})}function b(N,_=!1,w=null,L=!1,Q=null){var re;S(!0),_||(v(!1),c(!0),u(N),d([]),w!=="error"&&L!==!0&&(x({width:"70",left:"10"}),m("gl")));let ee=new FormData;ee.append("id_list",t.id),ee.append("id_company",(re=l==null?void 0:l.company)==null?void 0:re.id_company),ee.append("detail",N),o.length&&_&&ee.append("last_id",o.slice(-1)[0].id_log),L&&ee.append("download",Q),w!==null&&ee.append("type",w),q.post(D+"/api/get/logslists",ee,{withCredentials:!0}).then(H=>H.data).then(H=>{if(L){k({...T,[Q]:!0});const O=new Blob([JSON.stringify(H)],{type:L=="json"?"application/json":"text/csv"}),W=URL.createObjectURL(O),z=document.createElement("a");z.href=W,z.setAttribute("download",`upload-${p}-list-${t.id}.json`),document.body.appendChild(z),z.click(),document.body.removeChild(z),setTimeout(()=>{k({...T,[Q]:!1})},1e3)}v(!0),S(!1),d(_===!1?H:O=>[...O,...H])}).catch(H=>{S(!1)})}a.useEffect(()=>{y()},[]),a.useEffect(()=>{r&&(g=="error"&&b(p,!1,"error"),g=="gl"&&b(p,!1),g=="dw"?F(!0):F(!1))},[g]);function C(N){let _=N.target.value;m(_),x(w=>({...w,width:N.target.offsetWidth,left:N.target.offsetLeft}))}return e.jsxs(e.Fragment,{children:[e.jsxs(te,{visible:r,callback:c,maxWidth:"500px",minWidth:"500px",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Detalles"}),e.jsxs("span",{children:["detalles de la subida: ",p]})]}),e.jsx("div",{className:"menu-change",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("button",{className:`${g=="gl"?"active":""}`,onClick:C,value:"gl",style:{fontSize:"13px"},children:"Global"})}),e.jsx("li",{children:e.jsx("button",{className:`${g=="error"?"active":""}`,onClick:C,value:"error",style:{fontSize:"13px"},children:"Errores"})}),e.jsx("li",{children:e.jsx("button",{className:`${g=="dw"?"active":""}`,onClick:C,value:"dw",style:{fontSize:"13px"},children:"Descargar"})}),e.jsx("div",{className:"hover",style:{left:h.left+"px",width:h.width+"px"}})]})}),P?e.jsx(e.Fragment,{children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descargar logs"}),e.jsxs("span",{children:["Puedes descargar los logs de esta subida ",p," mediante un archivo csv / json"]}),e.jsxs("div",{className:"actions-item complete",children:[e.jsxs("button",{className:`download ${T.csv?"await":""}`,onClick:N=>{b(p,!1,null,!0,"json")},children:["Descargar CSV ",e.jsx("div",{className:"loading"})]}),e.jsxs("button",{className:`download ${T.json?"await":""}`,onClick:N=>{b(p,!1,null,!0,"json")},children:["Descargar JSON ",e.jsx("div",{className:"loading"})]})]})]})})})})}):e.jsx("div",{className:"data",children:e.jsx(Ys,{scrollableTarget:"scrollableDiv",hasMore:j,next:()=>{b(p,!0)},dataLength:o.length,children:e.jsx("div",{className:"control-scroll lists-detail",id:"scrollableDiv",children:e.jsxs("div",{className:"row",children:[o==null?void 0:o.map((N,_)=>e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"item box box-padding",children:e.jsxs("div",{className:"top",children:[e.jsxs("span",{children:["Correo: ",N.email?N.email:"No aplica"]}),e.jsx("br",{}),e.jsxs("span",{children:["Telefono: ",N.phone?N.phone:"No aplica"]}),e.jsx("br",{}),e.jsxs("span",{children:["Calidad de subida: ",N.error?"error":"success"]})]})})})),f?e.jsx($i,{}):"",(o==null?void 0:o.length)===0&&f===!1?e.jsx(je,{name:g=="gl"?"registros":"errores"}):""]})})})})]},r?"Xd":"x"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Logs de lista: ",t.id]}),e.jsx("span",{children:"Ve los detalle de tus listas y ve si estan listas para ser utilizadas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:N=>{s("/contacts/detail/"+t.id)},children:e.jsx(Ve,{})})})]}),e.jsx("div",{className:"row",children:n.map((N,_)=>e.jsx("div",{className:"col-md-4  page-lists",children:e.jsx("div",{className:"box box-padding ",children:e.jsxs("div",{className:"item flex-wrap",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/upload_arrow2.webp",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:["Subida: ",e.jsx("b",{children:N.id_upload})]}),e.jsxs("span",{className:"desc",children:["Fecha: ",oe(N.time_add,"full")]}),e.jsx("br",{}),e.jsxs("span",{className:"desc",children:["Fecha de finalización: ",oe(N.time_finish,"full")]}),e.jsx("br",{}),e.jsxs("span",{className:"desc",children:["Contactos Subidos: 1",N==null?void 0:N.contacts_total]}),e.jsx("br",{}),e.jsx("span",{className:"desc",children:"Calidad de subida:"}),N!=null&&N.insert?e.jsxs("span",{className:"quality-upload good",children:[e.jsx(Ce,{})," Muy Buena"]}):N!=null&&N.error?e.jsxs("span",{className:"quality-upload error",children:[" ",e.jsx(Ia,{})," Regular / Mala"]}):e.jsxs("span",{className:"quality-upload await",children:[" ",e.jsx(ls,{})," En espera... "]})]})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{onClick:w=>{b(N.id_upload)},children:e.jsx(ke,{})})})]})})},_))})]})}function Vi(){return e.jsx("div",{className:"iphone",style:{background:"url(img/devices/iphone.png)"},children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"hour",children:e.jsx("span",{children:"12:45"})}),e.jsxs("div",{className:"battery",children:[e.jsxs("span",{className:"signal",children:[e.jsx("i",{children:e.jsx(Y,{icon:"oi:signal"})}),e.jsx("span",{children:"LTE"})]}),e.jsx("i",{className:"battery",children:e.jsx(Y,{icon:"ph:battery-high-fill"})})]}),e.jsx("div",{className:"content",children:e.jsx("div",{class:"editor-surveys prodbuttonsqr"})})]})})}function Bi(){return Z(),a.useEffect(()=>{q.get(D+"/api/get/logout",{withCredentials:!0}).then(s=>s.json).then(s=>{ts("token","",!0),ts("company","",!0),window.location.href="/"}).catch(s=>{ts("token","",!0),ts("company","",!0),window.location.href="/"})},[]),e.jsx(e.Fragment,{})}function Oe({value:s,Transparent:t=!1}){function n(i){let r=i.target.dataset.value;r&&(navigator.clipboard?navigator.clipboard.writeText(r).then(()=>{A.success("Has copiado correctamente")}).catch(c=>{A.error("Error al copiar el texto")}):A.error("Error Al copiar"))}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"input-config",style:{background:t?"transparent":""},children:[e.jsx("span",{children:s}),e.jsx("button",{onClick:n,"data-value":s,children:e.jsx(Y,{icon:"material-symbols:copy-all-outline"})})]})})}function Qi(){const s=le(),{UserInfo:t}=a.useContext(X),[n,i]=a.useState({}),[r,c]=a.useState(!1),[l,p]=a.useState(!1),[u,o]=a.useState(!0);function d(){var g;p(!0);let x=new FormData;x.append("id_company",(g=t==null?void 0:t.company)==null?void 0:g.id_company),x.append("id_domain",s.id),q.post(D+"/api/get/domaindns",x,{withCredentials:!0}).then(m=>m.data).then(m=>{p(!1),i(j=>{let v={...j};return v.spf=m.spf,v.dmarc=m.dmarc,v.dkim=m.dkim,v}),m.spf&&m.dkim&&m.dmarc?(c(!0),A.success("Tu dominio se ha verificado completamente")):A.info("test")})}function h(){var g;o(!0);let x=new FormData;x.append("id_company",(g=t==null?void 0:t.company)==null?void 0:g.id_company),x.append("id_domain",s.id),q.post(D+"/api/get/domain",x,{withCredentials:!0}).then(m=>m.data).then(m=>{o(!1),i(m),m.spf&&m.cname&&m.dkim&&m.mx?c(!0):c(!1)}).catch(m=>{o(!1),console.log(m)})}return a.useEffect(()=>{h()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsx("div",{className:"",children:e.jsxs("p",{className:"title",children:["Dominio: ",s.id]})}),e.jsx("div",{className:"right",children:e.jsxs("button",{onClick:d,className:`go-wizard ${l?"await":null}`,children:[e.jsx(Y,{icon:"material-symbols-light:pending-actions-rounded"})," Verificar Dominio ",e.jsx("div",{className:"loading"})]})})]}),u?e.jsx("div",{className:"loading-box",children:e.jsx(ye,{})}):e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding stat domain",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Registros de Envio"}),e.jsx("span",{children:"Se requieren registros TXT (conocidos como SPF y DKIM) para enviar y recibir correo electrónico con Radarsystems."})]}),e.jsxs("div",{className:"space-config",children:[e.jsx("p",{className:"title",children:"SPF"}),e.jsx("span",{className:"register-type",children:"Tipo: TXT"}),e.jsxs("table",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Status"}),e.jsx("td",{children:"Hostname"}),e.jsx("td",{children:"Valor"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:n!=null&&n.spf?e.jsx("span",{className:"success",children:"Verificado"}):e.jsx("span",{className:"error",children:"Pendiente"})}),e.jsx("td",{children:e.jsx(Oe,{Transparent:!0,value:n.domain})}),e.jsx("td",{children:e.jsx(Oe,{value:"v=spf1 include:_spf.radarmailer1.me ~all"})})]})]})]}),e.jsxs("div",{className:"space-config",children:[e.jsx("p",{className:"title",children:"DKIM"}),e.jsx("span",{className:"register-type",children:"Tipo: CNAME"}),e.jsxs("table",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Status"}),e.jsx("td",{children:"Hostname"}),e.jsx("td",{children:"Valor"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:n!=null&&n.dkim?e.jsx("span",{className:"success",children:"Verificado"}):e.jsx("span",{className:"error",children:"Pendiente"})}),e.jsx("td",{children:e.jsx(Oe,{Transparent:!0,value:"radar._domainkey."+n.domain})}),e.jsx("td",{children:e.jsx(Oe,{value:"dkim.email.radarmailer1.me"})})]})]})]})]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding stat domain",children:[e.jsxs("div",{className:"space-config",children:[e.jsx("p",{className:"title",children:"DMARC"}),e.jsx("span",{className:"register-type",children:"Tipo: TXT"}),e.jsxs("table",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Status"}),e.jsx("td",{children:"Hostname"}),e.jsx("td",{children:"Valor"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:n!=null&&n.dmarc?e.jsx("span",{className:"success",children:"Verificado"}):e.jsx("span",{className:"error",children:"Pendiente"})}),e.jsx("td",{children:e.jsx(Oe,{Transparent:!0,value:"_dmarc"})}),e.jsx("td",{children:e.jsx(Oe,{value:`v=DMARC1; p=quarantine; sp=quarantine; rua=mailto:postmarter@${n.domain}; Ruf=mailto:postmaster@${n.domain}; pct=100; adkim=r; fo=1; ri=43200`})})]})]})]}),e.jsxs("div",{className:"space-config",children:[e.jsx("p",{className:"title",children:"DMARC"}),e.jsx("span",{className:"register-type",children:"Tipo: CNAME"}),e.jsxs("table",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Status"}),e.jsx("td",{children:"Hostname"}),e.jsx("td",{children:"Valor"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:n!=null&&n.dmarc?e.jsx("span",{className:"success",children:"Verificado"}):e.jsx("span",{className:"error",children:"Pendiente"})}),e.jsx("td",{children:e.jsx(Oe,{Transparent:!0,value:`radar.${n.domain}`})}),e.jsx("td",{children:e.jsx(Oe,{value:"bounce.email.radarmailer1.me"})})]})]})]})]})})]})]})}function Wi(){const{LoadingAuth:s}=a.useContext(X);return e.jsxs(e.Fragment,{children:[e.jsx(Ga,{}),s?e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:["Cargando... ",e.jsx("div",{className:"loading"})]})]})})}):e.jsx(e.Fragment,{}),e.jsx(Ja,{children:e.jsxs(Xa,{children:[e.jsx(B,{path:"/",element:e.jsx(mt,{})}),e.jsx(B,{path:"/register",element:e.jsx(pt,{})}),e.jsx(B,{path:"/wizard",element:e.jsx(Ft,{})}),e.jsx(B,{path:"/settings-account/account",element:e.jsx(J,{CompanyNeed:!0,Element:Ai})}),e.jsx(B,{path:"/settings-account/security",element:e.jsx(J,{CompanyNeed:!0,Element:Ae})}),e.jsx(B,{path:"/settings-account/footer",element:e.jsx(J,{CompanyNeed:!0,Element:Ae})}),e.jsx(B,{path:"/settings-account/domains",element:e.jsx(J,{CompanyNeed:!0,Element:Oi})}),e.jsx(B,{path:"/settings-account/domain/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Qi})}),e.jsx(B,{path:"/",element:e.jsx(J,{CompanyNeed:!0,Element:$s})}),e.jsx(B,{path:"/home",element:e.jsx(J,{CompanyNeed:!0,Element:$s})}),e.jsx(B,{path:"/campaigns",element:e.jsx(J,{CompanyNeed:!0,Element:Ae})}),e.jsx(B,{path:"/campaigns/em",element:e.jsx(J,{CompanyNeed:!0,Element:Ae})}),e.jsx(B,{path:"/campaigns/sms",element:e.jsx(J,{CompanyNeed:!0,Element:Ae})}),e.jsx(B,{path:"/campaigns/sms-mt",element:e.jsx(J,{CompanyNeed:!0,Element:Ae})}),e.jsx(B,{path:"/campaigns/em-mt",element:e.jsx(J,{CompanyNeed:!0,Element:Ae})}),e.jsx(B,{path:"/campaigns/new",element:e.jsx(J,{CompanyNeed:!0,Element:Ae})}),e.jsx(B,{path:"/campaigns/stats/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Di})}),e.jsx(B,{path:"/campaigns/stats/detail/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Li})}),e.jsx(B,{path:"/campaigns/detail/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Ot})}),e.jsx(B,{path:"/companys",element:e.jsx(J,{CompanyNeed:!1,Element:Es})}),e.jsx(B,{path:"/companys/add",element:e.jsx(J,{CompanyNeed:!1,Element:Es})}),e.jsx(B,{path:"/companys/roles",element:e.jsx(J,{CompanyNeed:!0,Element:Lt})}),e.jsx(B,{path:"/companys/users",element:e.jsx(J,{CompanyNeed:!0,Element:Rt})}),e.jsx(B,{path:"/contacts/lists",element:e.jsx(J,{CompanyNeed:!0,Element:ds})}),e.jsx(B,{path:"/contacts/lists/add",element:e.jsx(J,{CompanyNeed:!0,Element:ds})}),e.jsx(B,{path:"/contacts/lists/logs/:id",element:e.jsx(J,{CompanyNeed:!0,Element:zi})}),e.jsx(B,{path:"/contacts/lists/:type",element:e.jsx(J,{CompanyNeed:!0,Element:ds})}),e.jsx(B,{path:"/contacts/detail/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Qt})}),e.jsx(B,{path:"/contacts/upload/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Ht})}),e.jsx(B,{path:"/contacts/segments",element:e.jsx(J,{CompanyNeed:!0,Element:qi})}),e.jsx(B,{path:"/contacts/segments/add",element:e.jsx(J,{CompanyNeed:!0,Element:Ti})}),e.jsx(B,{path:"/contacts",element:e.jsx(J,{CompanyNeed:!0,Element:bi})}),e.jsx(B,{path:"/editor/canvas/:id",element:e.jsx(J,{CompanyNeed:!0,Element:qs})}),e.jsx(B,{path:"/editor/canvas/",element:e.jsx(J,{CompanyNeed:!0,Element:qs})}),e.jsx(B,{path:"/surveys",element:e.jsx(J,{CompanyNeed:!0,Element:It})}),e.jsx(B,{path:"/surveys/editor",element:e.jsx(J,{CompanyNeed:!0,Element:Ps})}),e.jsx(B,{path:"/surveys/editor/:idsurvey",element:e.jsx(J,{CompanyNeed:!0,Element:Ps})}),e.jsx(B,{path:"/stats/survey/:id",element:e.jsx(J,{CompanyNeed:!0,Element:si})}),e.jsx(B,{path:"/stats/survey/:id/detail",element:e.jsx(J,{CompanyNeed:!0,Element:ai})}),e.jsx(B,{path:"/stats/survey/:id/response",element:e.jsx(J,{CompanyNeed:!0,Element:ti})}),e.jsx(B,{path:"/surveys/preview",element:e.jsx(Ts,{})}),e.jsx(B,{path:"/surveys/preview/:id",element:e.jsx(Ts,{})}),e.jsx(B,{path:"/survey/:id",element:e.jsx(ei,{})}),e.jsx(B,{path:"/shorturls",element:e.jsx(J,{CompanyNeed:!0,Element:Ls})}),e.jsx(B,{path:"/shorturls/add",element:e.jsx(J,{CompanyNeed:!0,Element:Ls})}),e.jsx(B,{path:"/shorturls/:id",element:e.jsx(J,{CompanyNeed:!0,Element:ii})}),e.jsx(B,{path:"/shorturls/campaigns",element:e.jsx(J,{CompanyNeed:!0,Element:Rs})}),e.jsx(B,{path:"/shorturls/campaigns/add",element:e.jsx(J,{CompanyNeed:!0,Element:Rs})}),e.jsx(B,{path:"/shorturls/campaigns/:id",element:e.jsx(J,{CompanyNeed:!0,Element:ni})}),e.jsx(B,{path:"/qr",element:e.jsx(J,{CompanyNeed:!0,Element:os})}),e.jsx(B,{path:"/qr/add",element:e.jsx(J,{CompanyNeed:!0,Element:os})}),e.jsx(B,{path:"/qr/import",element:e.jsx(J,{CompanyNeed:!0,Element:os})}),e.jsx(B,{path:"/domains",element:e.jsx(J,{CompanyNeed:!0,Element:Pi})}),e.jsx(B,{path:"/editor/buttons",element:e.jsx(J,{CompanyNeed:!0,Element:Ms})}),e.jsx(B,{path:"/editor/buttons/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Ms})}),e.jsx(B,{path:"/buttons/:id",element:e.jsx(xi,{})}),e.jsx(B,{path:"/buttons",element:e.jsx(J,{CompanyNeed:!0,Element:Si})}),e.jsx(B,{path:"/stats/buttons/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Fi})}),e.jsx(B,{path:"/editor/buttonsqr",element:e.jsx(J,{CompanyNeed:!0,Element:Os})}),e.jsx(B,{path:"/editor/buttonsqr/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Os})}),e.jsx(B,{path:"/buttonsqr",element:e.jsx(J,{CompanyNeed:!0,Element:_i})}),e.jsx(B,{path:"/buttonsqr/:id",element:e.jsx(Ei,{})}),e.jsx(B,{path:"/test",element:e.jsx(ys,{Visible:!0})}),e.jsx(B,{path:"/testiphone",element:e.jsx(Vi,{})}),e.jsx(B,{path:"/recovery",element:e.jsx(Ni,{})}),e.jsx(B,{path:"/editor/landings",element:e.jsx(Ci,{})}),e.jsx(B,{path:"/landings",element:e.jsx(J,{CompanyNeed:!0,Element:wi})}),e.jsx(B,{path:"/landing/:id",element:e.jsx(ki,{})}),e.jsx(B,{path:"/templates",element:e.jsx(J,{CompanyNeed:!0,Element:Ri})}),e.jsx(B,{path:"/logout",element:e.jsx(Bi,{})})]})})]})}const Hi=a.createContext(),Ii=s=>{const[t,n]=a.useState({});return e.jsx(Hi.Provider,{value:{App:t,setApp:n},...s})},Gi=a.createContext();function Ji(s){const[t,n]=a.useState();return a.useEffect(()=>{document.title=t},[t]),a.useEffect(()=>{n("Radarsystems - App")},[]),e.jsx(Gi.Provider,{value:{setTitle:n},...s})}Ka.createRoot(document.getElementById("root")).render(e.jsx(Ya.StrictMode,{children:e.jsx(ot,{children:e.jsx(ht,{children:e.jsx(Ii,{children:e.jsx(Ji,{children:e.jsx(Wi,{})})})})})}));
