import{a as P,$,r as a,j as e,u as U,L as B,n as M,I as vs,b as ba,c as us,d as Ca,e as ce,f as Fe,g as Ge,h as Ee,_ as le,i as wa,k as ka,M as ue,V as Sa,l as Ms,m as ss,o as L,p as _a,q as be,s as Ea,t as As,v as Fa,w as Da,x as Pa,y as qa,z as $e,A as ve,B as _e,C as Ie,D as Ta,E as fs,F as Ra,G as La,H as es,J as Je,K as Ma,N as Oe,O as Aa,P as Oa,Q as oe,R as He,S as Ae,T as $a,U as za,W as Ba,X as Va,Y as ea,Z as Le,a0 as Qa,a1 as Wa,a2 as Ha,a3 as Ia,a4 as Ga,a5 as Ja,a6 as Ns,a7 as Xa,a8 as Ka,a9 as Ya,aa as Za,ab as Ke,ac as ys,ad as Ua,ae as sa,af as aa,ag as ia,ah as ta,ai as na,aj as la,ak as ca,al as ra,am as da,an as oa,ao as ei,ap as Os,aq as si,ar as js,as as ai,at as ii,au as ti,av as ni,aw as li,ax as $s,ay as ma,az as ci,aA as ri,aB as di,aC as oi,aD as mi,aE as pi,aF as hi,aG as xi,aH as H,aI as ui,aJ as ji}from"./vendor-0eb880c5.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))t(d);new MutationObserver(d=>{for(const r of d)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&t(c)}).observe(document,{childList:!0,subtree:!0});function l(d){const r={};return d.integrity&&(r.integrity=d.integrity),d.referrerPolicy&&(r.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?r.credentials="include":d.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(d){if(d.ep)return;d.ep=!0;const r=l(d);fetch(d.href,r)}})();const D="https://api.radarsystems.net",ds="https://rar.bio";function bs(){return window.history.back()}function gi(s){return new DOMParser().parseFromString(s,"text/html").documentElement.textContent}function ms(s){if(s<1e3)return s.toString();const i=["","k","M","G","T","P","E","Z","Y"],l=Math.floor((""+s).length/3);let t=parseFloat((l!==0?s/Math.pow(1e3,l):s).toPrecision(2));return t%1===0&&(t=t.toFixed(1)),t+i[l]}function vi(s){let i;switch(s){case"sms":i="sms";break;case"em":case"em-mt":i="em";break}return i}async function fi(s){return await P.get(D+"/api/get/company?id_company="+s,{withCredentials:!0}).then(l=>l.data)}async function Ni(){return await P.post(D+"/api/get/companys",{},{withCredentials:!0}).then(s=>s.data)}function qe(s){return window.location.pathname.includes(s)}function gs(s){let i=document.cookie;i=i.split(";");let l;return i.forEach((t,d)=>{t.indexOf(`${s}=`)>=0&&(l=t.replace(`${s}=`,""))}),l}function yi(s){const i=new URLSearchParams(window.location.search);return i.has(s)?i.get(s):null}function cs(s,i,l=!1){var t=new Date;l?t.setTime(t.getTime()-1):t.setDate(t.getDate()+10);var d=s+"="+encodeURIComponent(i)+"; expires="+t.toUTCString()+"; path=/";document.cookie=d}function ps(s){$(s).addClass("await")}function Pe(s){$(s).removeClass("await")}function Te(s=15){return Math.random().toString(36).substring(2,s+2)}function bi(s){let i=!1;return s.type.indexOf("image")>=0&&(i=!0),i}function Ci(s,i){return new Promise((l,t)=>{try{let d=s.target.files[0],r={file:"",analize:""},c=new FileReader;c.onload=async function(m){let p=!0,o=m.currentTarget.result.split(`
`),u=o[0].split(","),j=!1;j=["email"].every(h=>u.includes(h)),j?await(async()=>{for(var x=1;x<o.length;x++){let g=o[x].split(",");if(g.length!==u.length){p=!1;break}if(o[x].trim()===""||g.some(v=>v.trim()==="")){p=!1;break}let f=(x+1)/o.length*100;f%5===0&&await new Promise(v=>setTimeout(()=>{i(f),v()},0))}r.analize="good",r.file=d,l(r)})():(r.analize="good",r.file=d,l(r))},c.readAsText(d)}catch{response.analize="bad",t(response)}})}function Cs(s,i){return`${D}/api/get/imgtemplate?img=${i}&folder=${s}`}function he(s,i=void 0){const l=new Date(s*1e3),t=l.getDate(),d=l.getMonth()+1,r=l.getFullYear(),c=l.getHours(),m=l.getMinutes();switch(i){case"full":var p=`${t}/${d}/${r} ${c}:${m}`;break;default:var p=`${t}/${d}/${r}`;break}return p}function pa(s){return s?s=String(s).toLowerCase():s="undefined",s=="undefined"?window.location.origin+"/img/icons/countrys/"+s+".png":window.location.origin+"/img/icons/countrys/"+s+".svg"}function ha(s){let i;switch(s&&(s=String(s).toLocaleLowerCase()),s){case"ve":i="Venezuela";break;case"ca":i="Canada";break;default:i="Undefined";break}return i}function wi(s){return s!==void 0&&(s=String(s).toLowerCase()),(s.indexOf("mac")>=0||s.indexOf("apple")>=0)&&(s="apple"),s.indexOf("windows")>=0&&(s="windows"),s.indexOf("linux")>=0&&(s="linux"),s.indexOf("android")>=0&&(s="android"),s!=="windows"&&s!=="apple"&&s!=="android"&&s!=="linux"&&(s="undefined"),"/img/icons/systems/"+s+".png"}function ki(s){return"/img/icons/apps/"+s+".png"}function rs(s){return D+"/api/get/previewqr?url="+s}function Si(s){return{fb:"Facebook",in:"Instagram",x:"X (Twitter)",email:"Correo",sms:"Sms",tik:"Tiktok",linkd:"Linkedin",yt:"Youtube",tele:"Telegram",ws:"Whatsapp",others:"Otros"}[s]||""}function _i(s){return!!/^[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(s)}function ws(s){var l,t;let i;return(l=s==null?void 0:s.company)!=null&&l.photo?i=D+"/api/get/photoprofile?hash="+((t=s==null?void 0:s.company)==null?void 0:t.photo):i="img/icons/default_profile.png",i}function zs(s){return s>=1&&s<=9?"0"+s:s.toString()}function Ei(s,i){return s.length>i?s.substring(0,i)+"...":s}function Fi(){const s=navigator.userAgent;return s.match(/Android/i)?"Android":s.match(/iPhone|iPad|iPod/i)?"iPhone":"Desktop"}const X=a.createContext(),Di=s=>{const[i,l]=a.useState({}),[t,d]=a.useState(!1),[r,c]=a.useState(!0);return a.useEffect(()=>{function m(p){if(p){let o=new FormData;o.append("id_company",p),P.post(D+"/api/get/company",o,{withCredentials:!0}).then(u=>u.data).then(u=>{l(j=>({...j,company:u}))}).finally(()=>{c(!1)})}else c(!1),window.location.href="/companys"}(async function(){gs("token");let p=window.location.pathname,o=gs("company");await P.get(D+"/api/get/my",{withCredentials:!0}).then(u=>u.data).then(u=>{u.id_admin?(d(!0),l(u),m(o??(u==null?void 0:u.company_default)??null)):(p!=="/"&&p!=="/auth"&&!p.startsWith("/buttonsqr/")&&(window.location.href="/"),setTimeout(()=>{c(!1)},500))})})()},[]),e.jsx(X.Provider,{value:{UserInfo:i,setUserInfo:l,Auth:t,LoadingAuth:r},...s})};function Pi(){let s=U();const[i,l]=a.useState({user:"",password:""}),{UserInfo:t}=a.useContext(X);function d(c){c.stopPropagation(),c.preventDefault(),$(c.target).addClass("await"),i.password&&i.user?P.post(D+"/api/auth/login",i,{withCredentials:!0}).then(m=>m.data).then(m=>{m.status&&(window.location.href="/home"),m.msg&&M.error(m.msg)}).catch(m=>{M.error(String(m))}).finally(m=>{$(c.target).removeClass("await")}):$(c.target).removeClass("await")}function r(c){l({...i,[c.target.name]:c.target.value})}return a.useEffect(()=>{t!=null&&t.id_admin&&s("/home")},[t]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"row auth",children:[e.jsxs("div",{className:"col-auth-left",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"img/icons/logo-l1.png",alt:""})}),e.jsxs("div",{className:"align",children:[e.jsxs("span",{className:"title-welcome",children:["Bienvenido de nuevo. ",e.jsx("br",{})," Inicia ahora."]}),e.jsxs("span",{className:"text-register",children:["¿Aun no tienes cuenta?, ",e.jsx(B,{to:"/register",children:"Registrate ahora"})]}),e.jsxs("form",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Usuario"}),e.jsx("input",{type:"text",name:"user",onChange:r})]}),e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{children:["Password",e.jsx(B,{className:"forgot",to:"/recovery",children:"¿Olvidó?"})]}),e.jsx("input",{type:"password",name:"password",onChange:r})]}),e.jsx("span",{}),e.jsxs("button",{className:"sign",onClick:d,children:["INICIAR SESION ",e.jsx("div",{className:"loading"})]})]})]})]}),e.jsx("div",{className:"col-auth-right right",children:e.jsx("div",{className:"align",children:e.jsx("div",{className:"carousel",children:e.jsxs("div",{className:"item",children:[e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestiae perspiciatis nulla commodi accusamus. Reprehenderit, earum quibusdam laboriosam aliquam dolore ullam doloremque ratione possimus ex neque minus velit iste suscipit odit!"}),e.jsx("img",{src:"img/auth/People-welcome.png"})]})})})})]})})}function qi(){const[s,i]=a.useState({user:"",email:"",password:"",rpassword:""}),{UserInfo:l}=a.useContext(X),t=U();function d(c){c.stopPropagation();let m=c.target.name,p=c.target.value;i({...s,[m]:p})}function r(c){c.stopPropagation(),c.preventDefault(),$(c.target).addClass("await"),P.post(D+"/api/auth/register",s,{withCredentials:!0}).then(m=>m.data).then(m=>{m.msg&&M.error(m.msg),m.status&&M.success("Cuenta registrada inicia sesion."),t("/"),$(c.target).removeClass("await")}).catch(m=>{$(c.target).removeClass("await")})}return a.useEffect(()=>{l!=null&&l.id_admin&&t("/home")},[l]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"row auth",children:[e.jsxs("div",{className:"col-auth-left",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"img/icons/logo-l1.png",alt:""})}),e.jsxs("div",{className:"align",children:[e.jsxs("span",{className:"title-welcome",children:["Bienvenido.",e.jsx("br",{})," Registrate ahora!."]}),e.jsxs("span",{className:"text-register",children:["¿Opps ya tienes una cuenta?, ",e.jsx(B,{to:"/",children:"Ingresar"})]}),e.jsxs("form",{className:"form",onChange:d,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Usuario"}),e.jsx("input",{type:"text",name:"user"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo"}),e.jsx("input",{type:"text",name:"email"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Contraseña"}),e.jsx("input",{type:"password",name:"password"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Repite Contraseña"}),e.jsx("input",{type:"password",name:"rpassword"})]}),e.jsx("span",{}),e.jsxs("button",{className:"sign",onClick:r,children:["REGISTRARSE",e.jsx("div",{className:"loading"})]})]})]})]}),e.jsx("div",{className:"col-auth-right right",children:e.jsx("div",{className:"align",children:e.jsx("div",{className:"carousel",children:e.jsxs("div",{className:"item",children:[e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestiae perspiciatis nulla commodi accusamus. Reprehenderit, earum quibusdam laboriosam aliquam dolore ullam doloremque ratione possimus ex neque minus velit iste suscipit odit!"}),e.jsx("img",{src:"img/auth/People-welcome.png"})]})})})})]})})}const je=a.createContext(),Ti=s=>{const[i,l]=a.useState(0),{Auth:t,UserInfo:d}=a.useContext(X),[r,c]=a.useState({type:"",company:"",loading:!0,process:{}});function m(j,n){switch(n){case"active":$(j).addClass("await");break;case"remove":$(j).removeClass("await");break}}function p(j,n){j.stopPropagation();let h=$(j.target);h.parents(".selector").find(".active").removeClass("active"),h.addClass("active"),n(j.target.value)}function o(j,n){j.stopPropagation();let h=$(j.target);h.parents(".items-result").find(".active").removeClass("active"),h.addClass("active"),n($(j.target).attr("value"))}function u(){l(i-1)}return a.useEffect(()=>{t&&async function(){if(d.company_default){let j=await fi(d.company_default);c({...r,loading:!1,company:j})}else c({...r,loading:!1})}()},[t]),a.useEffect(()=>{c(j=>({...j,tutorial_wizard:d.tutorial_wizard}))},[d]),e.jsx(je.Provider,{value:{Prev:u,wizard:r,SelectorItem:o,AwaitButton:m,Selector:p,setWizard:c,position:i,setPosition:l},...s})};function Ce({Next:s}){const{setPosition:i,position:l}=a.useContext(je),{wizard:t,setWizard:d}=a.useContext(je),[r,c]=a.useState({});function m(){i(l-1)}return a.useEffect(()=>{t.company&&c(t.company)},[t]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"buttons-action ",children:[(r==null?void 0:r.name)!==void 0?e.jsx(e.Fragment,{children:e.jsxs("button",{className:"button-company",children:[e.jsx("img",{src:"img/icons/default_profile.png",alt:""}),r.name]})}):"",e.jsx("button",{className:"prev",onClick:m,children:"<"}),e.jsxs("button",{className:"next",onClick:s,children:["Siguiente ",e.jsx("div",{className:"loading"})]})]})})}function Ri(){function s(){}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left"}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Subir contactos"}),e.jsx("span",{className:"desc",children:"Sube tus contactos a la lista."})]}),e.jsx("div",{}),e.jsx(Ce,{Next:s})]})]})})}function Li(){const{wizard:s,setWizard:i,setPosition:l,AwaitButton:t}=a.useContext(je),[d,r]=a.useState(!1),[c,m]=a.useState({name:""});function p(u){if(d)l(j=>j+1);else{t(u.target,"active");let j=new FormData;j.append("name",c.name),j.append("id_company",s.company.id_company),s.type=="email"?j.append("type_c","email"):s.type=="sms"&&j.append("type_c","sms"),P.post(D+"/api/upload/list",j,{withCredentials:!0}).then(n=>n.data).then(n=>{n.status&&(M.success("Lista creada existosamente!"),l(h=>h+1),r(!0),n.id_list&&i(h=>({...h,process:{...h.process,id_list:n.id_list}}))),n.msg&&M.error(n.msg),t(u.target,"remove")}).catch(n=>{M.error(""+n),t(u.target,"remove")})}}function o(u){m(j=>({...j,[u.target.name]:u.target.value}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Nueva lista"}),e.jsx("img",{src:"img/icons/lists.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crear lista"}),e.jsx("span",{className:"desc",children:"Crea una nueva lista y luego ingresa los contactos"})]}),e.jsx("div",{className:"form",children:e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",name:"name",placeholder:"Nombre de lista",onChange:o})})}),e.jsx(Ce,{Next:p})]})]}),d==!0?e.jsx(Ri,{}):""]})}function Mi(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Welcome"}),e.jsx("img",{src:"/img/icons/email-alert.png",alt:""})]})}),e.jsx("div",{className:"right",children:e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"titel",children:"Seleccionar lista"}),e.jsx("span",{className:"desc",children:"Selecciona una lista para integrarla a la campaign que has elegido."})]})})]})})}function Ai(){const{Selector:s,setPosition:i}=a.useContext(je),[l,t]=a.useState();function d(c){t(c)}function r(){(l=="new"||l=="select")&&i(c=>c+1)}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elegir lista"}),e.jsx("img",{src:"img/icons/wizard-contacts.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu lista"}),e.jsx("span",{className:"desc",children:"Desde aqui puedes elegir rapidamente una lista de contactos, subirla o subirlos manualmente."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"select",onClick:c=>{s(c,d)},children:"Seleccionar de una lista"}),e.jsx("button",{value:"new",onClick:c=>{s(c,d)},children:"Crear una nueva lista"})]}),e.jsx(Ce,{Next:r})]})]}),l=="new"?e.jsx(Li,{}):l=="select"?e.jsx(Mi,{}):""]})}function Oi(){function s(){}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left"}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Hola"}),e.jsx("span",{className:"desc",children:"hola"})]}),e.jsx(Ce,{Next:s})]})]})})}function $i(){const{wizard:s,setWizard:i,AwaitButton:l}=a.useContext(je),[t,d]=a.useState(!1),r=U();function c(p){l(p.target,"active");let o=new FormData;d("pending"),o.append("id_campaign",s.process.id_campaign),o.append("email",s.process.email),o.append("str_affair",s.process.affair),o.append("str_body",s.process.body),o.append("id_company",s.company.id_company),P.post(D+"/api/send/mt",o,{withCredentials:!0}).then(u=>u.data).then(u=>{l(p.target,"remove"),u.status&&(d(!0),s.tutorial_wizard&&setTimeout(()=>{P.get("/api/get/tutowizard",{withCredentials:!0}),r("/home")},2e3)),u.msg&&M.error(u.msg)}).catch(u=>{l(p.target,"remove")})}function m(p){c(p)}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option active",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Detalles de envio"}),e.jsx("img",{src:"img/icons/send-email2.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Envio de campaign"}),e.jsx("span",{className:"desc",children:"Enhora buena! Has llegado al ultixmo paso."})]}),e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Previsualizacion del envio"}),e.jsx("div",{className:"structure",children:e.jsxs("ul",{children:[e.jsxs("li",{children:["Correo para: ",e.jsx("b",{children:s.process.email})]}),e.jsxs("li",{children:["Asunto: ",e.jsx("b",{children:s.process.affair})]}),e.jsxs("li",{children:["Bajo la compania: ",e.jsx("b",{children:s.company.name})]}),e.jsxs("li",{children:["Status de envio: ",t==!1?e.jsxs("i",{className:"text-yellow",children:[e.jsx(vs,{})," En espera de confirmacion..."]}):t=="pending"?e.jsxs("i",{children:[e.jsx(ba,{})," Enviando..."]}):t==!0?e.jsxs("i",{className:"success",children:[e.jsx(us,{})," Enviado"]}):""]})]})})]}),e.jsx(Ce,{Next:m})]})]})})}function zi(){const{setWizard:s,setPosition:i}=a.useContext(je),[l,t]=a.useState(),[d,r]=a.useState(!1);function c(){l?(i(m=>m+1),s(m=>({...m,process:{...m.process,email:l}})),r(!0)):M.error("Opps! No has proporcionado un correo valido")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elegir correo"}),e.jsx("img",{src:"img/icons/email-2.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Asignar el correo"}),e.jsx("span",{className:"info",children:"Elige el correo al cual se le enviara este email."})]}),e.jsx("div",{className:"form",children:e.jsx("div",{className:"form-input",children:e.jsx("input",{placeholder:"Correo electronico",type:"email",onChange:m=>{t(m.target.value)}})})}),e.jsx(Ce,{Next:c})]})]}),d==!0?e.jsx($i,{}):""]})}function Bi(){const{setPosition:s,wizard:i,setWizard:l}=a.useContext(je),[t,d]=a.useState({status:!1,preview:!1,isHtml:!1,file:{},preview_html:"",affair:"",vars:[]});function r(){t.affair?t.preview_html?(l(h=>({...h,process:{...h.process,body:t.preview_html,affair:t.affair,vars:t.vars}})),s(h=>h+1),d(h=>({...h,status:!0}))):M.error("No tienes ningun formato html asignado."):M.error("Opps has dejado el asunto vacio.")}function c(h){let x=h.target.files[0];if(x.type=="text/html"){d(f=>({...t,file:x}));let g=new FileReader;g.onload=function(f){d(v=>({...v,preview_html:f.target.result}))},g.readAsText(x)}}function m(){d(h=>({...h,preview:!0}))}function p(){d(h=>({...h,preview_html:"",preview:!1,file:{}})),document.querySelector(".option.active input[type='file']").value=""}function o(){d(h=>({...h,preview:!1}))}function u(h){d(x=>({...x,affair:h.target.value}))}function j(h){let g=$(h.target).parents(".form-input").find("input"),f=g.val();t.vars.length<8&&(d(v=>({...v,vars:[...v.vars,f]})),g.val(""))}function n(h){let x=h.target.value;d(g=>({...g,vars:g.vars.filter(f=>f!==x)}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[t.preview==!1?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Personaliza tu frontend"}),e.jsx("img",{src:"img/icons/frontend.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Personalizar body"}),e.jsx("span",{className:"desc",children:"Personaliza tu body para tu envio"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"xd",children:"Este campo es especial, dale click al signo de interrogacion para ver sus funcionalidades."}),e.jsx("input",{type:"text",placeholder:"Asunto",onChange:u})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"xd",children:"Estas variables se enviaran en forma organizada, es decir desde el principio al fin. y deben de ser interpretadas en su archivo .html con un $1,$2."}),e.jsxs("div",{className:"special",children:[e.jsx("input",{type:"text",placeholder:"Variables",onChange:u}),e.jsx("button",{className:"action",onClick:j,children:"Agregar"})]}),e.jsx("div",{className:"tags",children:t.vars.map((h,x)=>e.jsx("button",{onClick:n,value:h,children:h},x))})]}),e.jsx("div",{className:"buttons",children:t.file.type=="text/html"?e.jsxs("div",{className:"file-on",children:[e.jsxs("span",{className:"name-file",children:[e.jsx(Ca,{})," ",t.file.name]}),e.jsx("button",{className:"remove",onClick:p,children:e.jsx(ce,{})})]}):e.jsxs("button",{onClick:h=>{document.querySelector(".option.active input[type='file']").click()},children:[e.jsx(Fe,{})," Subir Archivo"]})})]}),e.jsx("div",{className:"buttons",children:t.file.type!=="text/html"?e.jsx("button",{children:"Editor html"}):e.jsx("button",{onClick:m,children:"Vista previa"})}),e.jsx(Ce,{Next:r})]})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"preview-html",children:[e.jsxs("div",{className:"actions-preview",children:[e.jsx("button",{className:"left",onClick:o,children:e.jsx(Ge,{})}),e.jsx("button",{className:"left",onClick:p,children:e.jsx(ce,{})}),e.jsx("div",{className:"right-preview",children:e.jsxs("button",{className:"upload-new",onClick:h=>{document.querySelector(".option.active input[type='file']").click()},children:[e.jsx(Fe,{})," Subir nuevo archivo"]})})]}),e.jsx("div",{className:"preview",dangerouslySetInnerHTML:{__html:t.preview_html}})]})}),e.jsx("input",{type:"file",accept:".html",onChange:c,hidden:!0})]}),t.status==!0?e.jsx(zi,{}):""]})}function Vi(){const{Selector:s,setPosition:i}=a.useContext(je),[l,t]=a.useState();function d(){(l=="new"||l=="select")&&i(c=>c+1)}function r(c){t(c)}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Selecciona la plantilla"}),e.jsx("img",{src:"img/icons/body-html.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Selecciona tu estructura"}),e.jsx("span",{className:"desc",children:"Selecciona la estructura de correo que usaras para enviar esta campaign"})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"new",onClick:c=>{s(c,r)},children:"Crear un body"}),e.jsx("button",{value:"select",onClick:c=>{s(c,r)},children:"Ya tengo uno"})]}),e.jsx(Ce,{Next:d})]})]}),l=="new"?e.jsx(Bi,{}):l=="select"?e.jsx(Oi,{}):""]})}function xa(){const{Selector:s,setWizard:i,setPosition:l,position:t}=a.useContext(je),[d,r]=a.useState();function c(){d!==void 0||d!==""?l(t+1):M.error("!Opps no has seleccionado el tipo de envio")}function m(p){r(p),i(o=>({...o,process:{...o.process,type_send:p}}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Selecciona el tipo"}),e.jsx("img",{src:"img/icons/send-type.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige el tipo de envio"}),e.jsx("span",{className:"desc",children:"Aca tienes que elegir que tipo de envio quieres que sea. Es decir, puedes elegir entre un envio "})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"masive",onClick:p=>{s(p,m)},children:"Envíos de campañas masivas"}),e.jsx("button",{value:"ind",onClick:p=>{s(p,m)},children:"Envio Individual"})]}),e.jsx(Ce,{Next:c})]})]}),d=="ind"?e.jsx(Vi,{}):d=="masive"?e.jsx(Ai,{}):""]})}function Qi(){const[s,i]=a.useState({name:"",ocation:"",id_company:""}),{AwaitButton:l,wizard:t,Prev:d,position:r,setPosition:c}=a.useContext(je);a.useState(!1);const[m,p]=a.useState(!0);function o(j){l(j.target,"active");let n=new FormData;n.append("name",s.name),n.append("ocation",s.ocation),n.append("id_company",s.id_company),t.type=="email"&&n.append("type_c","em"),t.type=="sms"&&n.append("type_c","sms"),P.post(D+"/api/upload/campaign",n,{withCredentials:!0}).then(h=>h.data).then(h=>{h.msg&&M.error(h.msg),h.status&&c(r+1),l(j.target,"remove")}).catch(h=>{l(j.target,"remove")})}function u(j){i({...s,[j.target.name]:j.target.value})}return a.useEffect(()=>{i({...s,id_company:t.company.id_company})},[t]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Una nueva aventura!"}),e.jsx("img",{src:"img/icons/new-campaign.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crea una nueva campaña"}),e.jsx("span",{className:"desc",children:"Para crear una nueva campaña necesitas informacion basica para darle un nombre y un objetivo a tu campaña."})]}),e.jsxs("div",{className:"form",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",name:"name",placeholder:"Titulo de campaña",onChange:u})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"ocation",id:"",onChange:u,children:[e.jsx("option",{value:"default",children:"Por defecto"}),e.jsx("option",{value:"email",children:"Cumpleaños"})]})})]}),e.jsxs("div",{className:"buttons-action ",children:[e.jsx("button",{className:"prev",onClick:d,children:"<"}),e.jsxs("button",{className:"next",onClick:o,children:["Siguiente ",e.jsx("div",{className:"loading"})]})]})]})]}),m==!0?e.jsx(xa,{}):""]})}function ua({loading:s}){return e.jsx(e.Fragment,{children:s==!0?e.jsx("div",{className:"wizard-loading-circle"}):""})}function Wi(){const{setPosition:s,setWizard:i,wizard:l,SelectorItem:t}=a.useContext(je),[d,r]=a.useState(!0),[c,m]=a.useState(),[p,o]=a.useState([]);function u(){c>=1?s(n=>n+1):le.error("!Opps no has seleccionado una campaign")}function j(n){i(h=>({...h,process:{...h.process,id_campaign:n}})),m(n)}return a.useEffect(()=>{let n=new FormData;n.append("id_company",l.company.id_company),P.post(D+"/api/get/campaign",n,{withCredentials:!0}).then(h=>h.data).then(h=>{o(h.results),r(!1)}).catch(h=>{r(!1)})},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elige tu campaña"}),e.jsx("img",{src:"img/icons/wizard-selectcampaign.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu campaña"}),e.jsx("span",{className:"desc",children:"Selecciona rapidamente una de tus campañas para seguir al siguiente paso."})]}),e.jsxs("div",{className:"items-result",children:[p.map((n,h)=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"item select",value:n.id_campaign,onClick:x=>{t(x,j)},children:[e.jsx("img",{src:"img/icons/campaign_profile.png",alt:""}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:n.name}),e.jsxs("span",{children:["Creada el ",n.time_add]}),e.jsx("div",{className:"circle",children:e.jsx("i",{children:e.jsx(Ee,{})})})]})]})})),e.jsx(ua,{loading:d})]}),e.jsx(Ce,{Next:u})]})]}),Number(c)=="NaN"?e.jsx(xa,{}):""]})}function Bs(){const[s,i]=a.useState({campaign:"",campaign_name:"",actions:{campaign:""}}),{Selector:l,Prev:t,position:d,setPosition:r}=a.useContext(je);function c(){m()}function m(){let o=!1;switch(d){case 2:s.actions.campaign=="new"||s.actions.campaign=="select"?o=!0:M.error("Opps no has seleccionado nada.");break}o&&r(d+1)}function p(o){i({...s,actions:{campaign:o}})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",style:{display:"none"},children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Campañas"}),e.jsx("img",{src:"img/icons/email-alert.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu campana"}),e.jsx("span",{className:"desc",children:"Crea tu campana rapidamente solamente eligiendo un nombre y ajustandola a tus preferencias. Tambien puedes reutilizar alguna campana antigua."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"new",onClick:o=>{l(o,p)},children:"Crear una nueva"}),e.jsx("button",{value:"select",onClick:o=>{l(o,p)},children:"Ya tengo una"})]}),e.jsx(Ce,{Next:c})]})]}),s.actions.campaign=="new"?e.jsx(Qi,{}):e.jsx(Wi,{})]})}function ke({color:s,fn:i}){function l(t){t.stopPropagation();let d=$(t.target),r=d.parents(".colors");d.parents(".colors").find(".active").removeClass("active"),d.addClass("active"),r.find("button").css({opacity:"0.5"}),d.css({opacity:"1"})}return e.jsx(e.Fragment,{children:e.jsx("button",{className:"option-color",style:{background:s},value:s,onClick:t=>{i(t.target.value),l(t)}})})}function Hi(){const{Prev:s,AwaitButton:i,setPosition:l}=a.useContext(je),[t,d]=a.useState({name:"",type:"",color:"",default:"false"});function r(p){d({...t,color:p})}function c(p){let o=p.target.value,u=p.target.name;d({...t,[u]:o})}function m(p){t.name&&t.type&&t.color?(i(p.target,"active"),P.post(D+"/api/upload/company",t,{withCredentials:!0}).then(o=>o.data).then(o=>{i(p.target,"remove"),o.status&&(M.success("Company creada con exito"),l(1),$("button.active").removeClass("active")),o.msg&&M.error(o.msg)}).catch(o=>{i(p.target,"remove")})):M.error("Opps no has terminado los campos")}return e.jsx(e.Fragment,{children:status==!1?e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Nuevas ideas!"}),e.jsx("img",{src:"img/icons/cohete-men.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crear empresa"}),e.jsx("span",{className:"desc",children:"Personaliza tu empresa, con colores u imagen para poder identificarla si tienes otras empresas por registrar. Elige un nombre y comienza!"})]}),e.jsxs("div",{className:"form",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de empresa",name:"name",onChange:c})}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{htmlFor:"",children:"Tipo de empresa"}),e.jsx("select",{name:"type",id:"",onChange:c})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{children:"Elige un color"}),e.jsx("span",{className:"desc",children:"El color te ayudara a identificar tu empresa."}),e.jsxs("div",{className:"colors",children:[e.jsx(ke,{color:"#2e56ff",fn:r}),e.jsx(ke,{color:"#57c583",fn:r}),e.jsx(ke,{color:"#3fcae9",fn:r}),e.jsx(ke,{color:"#e9d43f",fn:r}),e.jsx(ke,{color:"#d77613",fn:r}),e.jsx(ke,{color:"#c069cb",fn:r}),e.jsx(ke,{color:"#cb6992",fn:r})]})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{children:"Seleccionar como predeterminada"}),e.jsx("span",{className:"desc",children:"Si la eliges como predeterminada automaticamente se usara sin necesidad de seleccionarla."}),e.jsx("br",{}),e.jsxs("select",{name:"default",id:"",onChange:c,children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Si"})]})]})]}),e.jsx(Ce,{Prev:s,Next:m})]})]}):e.jsx(e.Fragment,{})})}function Ii(){const{wizard:s,setWizard:i,setPosition:l}=a.useContext(je),[t,d]=a.useState([]),[r,c]=a.useState(!0);function m(){}a.useEffect(()=>{(async function(){d(await Ni()),c(!1)})()},[]),a.useEffect(()=>{s.company},[s]);function p(o,u){o.stopPropagation();let j=t[u];j.id_company&&(l(1),i({...s,company:j}))}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Usa tu empresa"}),e.jsx("img",{src:"img/icons/hot-company.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige una empresa"}),e.jsx("span",{children:"Elige una de las empresar anteriormente creadas."})]}),e.jsxs("div",{className:"companys",children:[t.map((o,u)=>e.jsxs("div",{className:"company",children:[e.jsx("img",{className:"photo-profile",src:"img/icons/default_profile.png",alt:""}),e.jsxs("span",{className:"title",children:[o.name," ",e.jsx("span",{className:"color",style:{background:o.color}})]}),e.jsx("button",{className:"use",onClick:j=>{p(j,u)},children:"Usar"})]},u)),e.jsx(ua,{loading:r})]}),e.jsx(Ce,{Next:m})]})]})})}function Gi(){const[s,i]=a.useState({action:""}),{Selector:l,Prev:t,position:d,setPosition:r}=a.useContext(je);function c(o){i({...s,action:o})}function m(){p()}function p(){let o=!1;switch(s.action){case"go":o=!0;break;case"new":o=!0;break}o?r(d+1):M.error("No has seleccionado ninguna opcion.")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Tu empresa"}),e.jsx("img",{src:"img/icons/hot-company.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:" Elige tu empresa"}),e.jsx("span",{className:"desc",children:"Debes elegir tu empresa para comenzar, o tambien podrias crear una empresa nueva. Estas empresas tendran (estadisticas,contactos,envios) totalmente autonomos."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{onClick:o=>{l(o,c)},value:"go",children:"Ya tengo una"}),e.jsx("button",{onClick:o=>{l(o,c)},value:"new",children:"Crear una nueva"})]})}),e.jsx(Ce,{Prev:t,Next:m})]})]}),s.action=="new"?e.jsx(Hi,{}):e.jsx(Ii,{})]})}function Ji(){return e.jsx(e.Fragment,{children:"xd"})}function Xi(){const{position:s,setPosition:i,wizard:l,setWizard:t,Selector:d,Prev:r}=a.useContext(je);function c(){m()}function m(){let u=!1;switch(s){case 0:u=!0;break;case 1:if(l.type)switch(l.type){case"email":l.company?u=!0:M.error("No tienes una empresa seleccionada.");break;case"sms":l.company?u=!0:M.error("No tienes una empresa seleccionada.");break;default:u=!0;break}else M.error("No has seleccionado ninguna opcion");break}u&&i(s+1)}function p(u){t({...l,type:u})}a.useEffect(()=>{$(".wizard .option.active").removeClass("active"),$(".wizard .option").eq(s).addClass("active")},[s]);const o={email:e.jsx(Bs,{}),sms:e.jsx(Bs,{}),verifiedEmail:e.jsx(Ji,{})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"wizard",children:e.jsxs("div",{className:"body",children:[l.loading?e.jsx("div",{className:"wizard-loading",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{className:"logo-center",src:"img/icons/logo-l1.png",alt:""}),e.jsx("div",{className:"line"})]})}):e.jsx(e.Fragment,{}),e.jsxs("div",{className:"options",children:[e.jsxs("div",{className:"option center active",children:[e.jsxs("div",{className:"center",children:[e.jsx("img",{className:"logo-center",src:"img/icons/logo-l1.png",alt:""}),e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Welcome to RadarSystems"}),e.jsx("span",{className:"desc",children:"Hola este wizard te ayudara a armar tu primera campaign de emails / sms te, te mostraremos paso por paso como hacer lo que necesitas."})]}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"",id:"",children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"Seleccionar Idioma"}),e.jsx("option",{value:"",children:"Espanol"}),e.jsx("option",{value:"",children:"Ingles"})]})})]}),e.jsx("div",{className:"buttons-action ",children:e.jsx("button",{className:"next",onClick:c,children:"Comenzar"})})]}),l.company==""?e.jsx(Gi,{}):e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Empezemos ahora"}),e.jsx("img",{src:"img/icons/wizard-help.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"¿Qué necesitas?"}),e.jsx("span",{children:"Puedes hacer diferentes acciones en la que podemos ayudarte mediante este wizard. Elige cual es de tu interes, asi podremos ayudarte facilmente."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{onClick:u=>{d(u,p)},value:"ac",children:"Elegir Empresa"}),e.jsx("button",{onClick:u=>{d(u,p)},value:"email",children:"Campañas de Correos"}),e.jsx("button",{onClick:u=>{d(u,p)},value:"sms",children:"Campañas de Sms"}),e.jsx("button",{className:l.tutorial_wizard==!0?"opacity-tutorial":"",onClick:u=>{d(u,p)},value:"vemail",children:"Verificador de Correos"}),e.jsx("button",{className:l.tutorial_wizard==!0?"opacity-tutorial":"",onClick:u=>{d(u,p)},value:"ac",children:"Acortador de Url"})]}),e.jsx(Ce,{Prev:r,Next:c})]})]}),o[l.type]]})]})})})}function Ki({MenuLeft:s}){const{UserInfo:i}=a.useContext(X),[l,t]=a.useState(),d=U(),[r,c]=a.useState(!0);a.useEffect(()=>{i.company_default==null&&i.company==null&&t(!0),i.company!==void 0&&t(!1)},[i]);function m(p){p.stopPropagation();let o=$(p.target),u=o.parents("li"),j=o.parents("li").find("ul"),n=$(".header-left").find("button.active"),h=$(".header-left").find("ul.active");n.parents("li").index()!==u.index()?(h.slideToggle(),h.removeClass("active"),n.removeClass("active"),o.addClass("active"),j.addClass("active"),j.slideToggle()):(n.removeClass("active"),h.removeClass("active"),h.slideToggle())}return gs("token"),a.useEffect(()=>{c("none")},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`header-left ${s?"active":""}`,children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"/img/icons/logo.png",alt:""})}),e.jsxs("ul",{children:[e.jsx("li",{className:l?"opacity":"",children:e.jsxs("button",{onClick:p=>{d("/home")},children:[e.jsx("i",{className:"icon",children:e.jsx(wa,{})})," Home ",e.jsx("i",{className:"arrow"})]})}),e.jsxs("li",{children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(ka,{})})," Configuracion ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"/settings-account/account",children:"Cuenta"})}),e.jsx("li",{children:e.jsx(B,{to:"/settings-account/security",children:"Seguridad"})}),e.jsx("li",{children:e.jsx(B,{to:"/settings-account/footer",children:"Footer"})}),e.jsx("li",{children:e.jsx(B,{to:"/settings-account/domains",children:"Dominios"})}),e.jsx("li",{children:e.jsx(B,{to:"/settings-account/credentials",children:"API"})})]})]}),e.jsxs("li",{className:l?"opacity":"",children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(Sa,{})})," Herramientas ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"/buttonsqr",children:"Botonera QR"})}),e.jsx("li",{children:e.jsx(B,{to:"/buttons",children:"Botonera URL"})}),e.jsx("li",{children:e.jsx(B,{to:"/templates",children:"Boletines"})}),e.jsx("li",{children:e.jsx(B,{to:"/surveys",children:"Formulario"})}),e.jsx("li",{children:e.jsx(B,{to:"/editor/canvas",children:"Editor Canvas"})}),e.jsx("li",{children:e.jsx(B,{to:"/editor/buttons",children:"Editor Botonera"})})]})]}),e.jsxs("li",{children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(Ms,{})})," Cuentas ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"/companys",children:"Mis Cuentas"})}),e.jsx("li",{children:e.jsx(B,{to:"/companys/add",children:"Crear Cuenta"})})]})]}),e.jsxs("li",{className:l?"opacity":""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(ss,{})})," Recordatorios ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"/campaigns",children:"Email "})}),e.jsx("li",{children:e.jsx(B,{to:"/campaigns",children:"Sms"})}),e.jsx("li",{children:e.jsx(B,{to:"/campaigns/new",children:"Mixto"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:p=>{m(p)},children:[e.jsx("i",{className:"icon",children:e.jsx(ss,{})})," Campañas ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"/campaigns/em",children:"Email Marketing"})}),e.jsx("li",{children:e.jsx(B,{to:"/campaigns/em-mt",children:"Email MT"})}),e.jsx("li",{children:e.jsx(B,{to:"/campaigns/sms",children:"SMS Marketing"})}),e.jsx("li",{children:e.jsx(B,{to:"/campaigns/sms-mt",children:"SMS MT"})}),e.jsx("li",{children:e.jsx(B,{to:"/campaigns/new",children:"Crear Campana"})})]})]}),e.jsx("li",{className:"",children:e.jsxs("button",{onClick:p=>{window.location.href="https://workflows.radarsystems.net/"},children:[e.jsxs("i",{className:"icon",children:[e.jsx(L,{icon:"octicon:workflow-16"})," "]})," Workflow ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]})}),e.jsx("li",{className:"",children:e.jsxs("button",{onClick:p=>{window.location.href="https://tools.radarsystems.net/"},children:[e.jsxs("i",{className:"icon",children:[e.jsx(L,{icon:"octicon:workflow-16"})," "]})," Herramientas ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]})}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(_a,{})})," Listas ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"/contacts",children:"Mis Contactos"})}),e.jsx("li",{children:e.jsx(B,{to:"/contacts/lists",children:"Mis Listas"})}),e.jsx("li",{children:e.jsx(B,{to:"/contacts/lists/email",children:"Listas Correo"})}),e.jsx("li",{children:e.jsx(B,{to:"/contacts/lists/sms",children:"Listas Mensajeria"})}),e.jsx("li",{children:e.jsx(B,{to:"/contacts/lists/ws",children:"Listas Whatsapp"})}),e.jsx("li",{children:e.jsx(B,{to:"/contacts/segments",children:"Segmentos"})})]})]}),e.jsxs("li",{className:l?"opacity":""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(vs,{})})," Automatizacion ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{children:"WorkFlow"})}),e.jsx("li",{children:e.jsx(B,{children:"Programacion"})}),e.jsx("li",{children:e.jsx(B,{children:"Auto-Responders"})})]})]}),e.jsxs("li",{className:l?"opacity":""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(be,{})})," Estadisticas ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{to:"/stats/campaign",children:e.jsx(B,{children:"Email Marketing"})}),e.jsx("li",{to:"/stats/campaign",children:e.jsx(B,{children:"Email MT"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(B,{children:"Sms Marketing"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(B,{children:"Sms MT"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(B,{children:"Encuestas"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(B,{children:"Botonera QR"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(B,{children:"Botonera URL"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(B,{children:"Medusa"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(B,{children:"Landings"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(B,{children:"Google Analytics"})})]})]}),e.jsxs("li",{className:""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(Ea,{})})," Formulario ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"/surveys/editor",children:"Crear Formulario"})}),e.jsx("li",{children:e.jsx(B,{to:"/surveys",children:"Mis Formularios"})}),e.jsx("li",{children:e.jsx(B,{to:"/surveys",children:"Plantillas"})})]})]}),e.jsxs("li",{className:""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(As,{})})," Boletines Electronicos ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"/templates",children:"Mis Boletines"})}),e.jsx("li",{children:e.jsx(B,{to:"/editor/canvas",children:"Crear Boletin"})}),e.jsx("li",{children:e.jsx(B,{to:"/landings",children:"Plantillas"})}),e.jsx("li",{children:e.jsx(B,{to:"/landings",children:"Plantillas IA"})})]})]}),e.jsxs("li",{className:""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(As,{})})," Landings Page ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"/landings",children:"Mis Landings"})}),e.jsx("li",{children:e.jsx(B,{to:"/editor/landings",children:"Crear Landings"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(L,{icon:"ri:links-fill"})})," Acortador ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"/shorturls/campaigns",children:"Mis Campañas"})}),e.jsx("li",{children:e.jsx(B,{to:"/shorturls/campaigns/add",children:"Crear Campana"})}),e.jsx("li",{children:e.jsx(B,{to:"/shorturls",children:"Mis Enlaces"})}),e.jsx("li",{children:e.jsx(B,{to:"/shorturls/add",children:"Crear Enlace"})})]})]}),e.jsxs("li",{className:""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(Fa,{})})," Botonera QR ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"/editor/buttonsqr",children:"Crear Botonera QR"})}),e.jsx("li",{children:e.jsx(B,{to:"/buttonsqr",children:"Mis Botoneras QR"})}),e.jsx("li",{children:e.jsx(B,{to:"/qr/add",children:"Crear QR individual"})}),e.jsx("li",{children:e.jsx(B,{to:"/qr/import",children:"Importar QR"})}),e.jsx("li",{children:e.jsx(B,{to:"/qr",children:"Mis Qr's"})})]})]}),e.jsxs("li",{className:""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(L,{icon:"ri:links-fill"})})," Botonera URL ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"/editor/buttons",children:"Crear Botonera URL"})}),e.jsx("li",{children:e.jsx(B,{to:"/buttons",children:"Mis Botoneras URL"})})]})]}),e.jsxs("li",{className:""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(Ms,{})})," Validador Email ",e.jsx("i",{className:"arrow",children:e.jsx(ue,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"/companys",children:"Mis Validaciones"})}),e.jsx("li",{children:e.jsx(B,{to:"/companys",children:"Crear Validacion"})}),e.jsx("li",{children:e.jsx(B,{to:"/companys",children:"Estadisticas"})})]})]})]})]})})}function Yi({MenuLeft:s,MenuLeftAction:i}){var u,j,n;const{UserInfo:l}=a.useContext(X),[t,d]=a.useState("ligth"),r=U(),[c,m]=a.useState(!1);function p(){switch(t){case"ligth":d("dark");break;case"dark":d("ligth");break;default:d("ligth");break}}function o(){m(!c)}return a.useEffect(()=>{$(document.body).attr("theme",t)},[t]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"header-top",children:[e.jsx("div",{className:"left mb",children:e.jsx("button",{className:"open",onClick:h=>{i()},children:e.jsx(L,{icon:"iconoir:nav-arrow-right"})})}),e.jsxs("div",{className:"right",children:[e.jsx("div",{className:"company",children:(u=l==null?void 0:l.company)!=null&&u.name?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"body",children:[e.jsx("img",{src:((j=l==null?void 0:l.company)==null?void 0:j.photo)!==void 0?ws(l):"img/icons/default_profile.png",alt:""}),e.jsx("span",{children:(n=l==null?void 0:l.company)==null?void 0:n.name})]})}):e.jsx(B,{to:"/companys",className:"select-company",children:"Seleccionar Cuenta"})}),e.jsxs("button",{className:"option",onClick:p,children:[t=="dark"?e.jsx(Da,{}):"",t=="ligth"?e.jsx(Pa,{}):""]}),e.jsx("button",{className:"option",children:e.jsx(qa,{})}),e.jsxs("div",{className:"user",onClick:o,children:[e.jsx("span",{className:"name",children:l==null?void 0:l.user}),e.jsx("img",{src:"/img/icons/default-user.jpg",alt:""})]})]})]}),c?e.jsx("div",{className:"menu-top-user",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsxs("button",{onClick:h=>{r("")},children:[e.jsx(L,{icon:"material-symbols:report-outline"})," Reportar"]})}),e.jsx("li",{children:e.jsxs("button",{onClick:h=>{r("/logout")},children:[e.jsx(L,{icon:"ic:outline-no-meeting-room"})," Cerrar sesión"]})})]})}):""]})}function J({Element:s,CompanyNeed:i}){var o;const{UserInfo:l}=a.useContext(X);U(),a.useState(!1);const[t,d]=a.useState("wait"),[r,c]=a.useState(!1),m=$e();function p(u){u==null?r==!0?c(!1):c(!0):c(!1)}return a.useEffect(()=>{p("x")},[m]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"app",children:[e.jsx(Ki,{MenuLeftAction:p,MenuLeft:r}),e.jsx(Yi,{MenuLeftAction:p,MenuLeft:r}),e.jsx("div",{className:"page",onClick:u=>{p("x")},children:i?(o=l==null?void 0:l.company)!=null&&o.id_company?e.jsx(s,{}):t==!1?e.jsxs("div",{className:"center-loading",children:[e.jsx("img",{src:"/img/icons/oficina.png",alt:""}),e.jsx("p",{children:"No has seleccionado ninguna empresa"})]}):e.jsx("div",{className:"center-loading",children:e.jsx("div",{className:"circle"})}):e.jsx(s,{})})]})})}function we(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"loding-box",children:e.jsx("div",{className:"loading",children:e.jsx("div",{className:"circle"})})})})}function Zi({Visible:s,Close:i}){const{UserInfo:l}=a.useContext(X),[t,d]=a.useState(0),[r,c]=a.useState([Te()]),[m,p]=a.useState({type:"",name:"",ocation:""}),o=U();function u(h){h.stopPropagation(),h.preventDefault();let x=$(h.target);x.parents(".options").find(".active").removeClass("active"),x.addClass("active");let g=x.attr("value");p(f=>({...f,type:g}))}function j(h){var f;let x=!1,g=$(h.target);if((t===0&&m.type.includes("em")||m.type.includes("sms"))&&(x=!0),t==1&&m.type!==""&&m.name!==""){g.addClass("await");let v=new FormData;v.append("name",m.name),v.append("ocation",m.ocation),v.append("type_c",m.type),v.append("id_company",(f=l==null?void 0:l.company)==null?void 0:f.id_company),P.post(D+"/api/upload/campaign",v,{withCredentials:!0}).then(E=>E.data).then(E=>{E.status?o("/campaigns/detail/"+E.id_campaign):E.msg&&le.error(E.msg),g.removeClass("await")}).catch(E=>{g.removeClass("await")})}x&&d(v=>v+1)}function n(h){let x=h.target.name,g=h.target.value;p(f=>({...f,[x]:g}))}return a.useEffect(()=>{$(".case.active").removeClass("active"),$(".case").eq(t).addClass("active")},[t]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[t>0?e.jsxs("button",{className:"return",onClick:h=>{d(x=>x-1)},children:[e.jsx(Ge,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:h=>{i(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crea una nueva campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"options flex half",id:`options-${r[0]}`,children:[e.jsxs("div",{className:"selector",onClick:u,value:"em",children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA EMAIL MARKETING"}),e.jsx("span",{children:"Crea tu campaña de email con uno de nuestros editores para que la envíes inmediatamente o programes para enviar más tarde."})]})]}),e.jsxs("div",{className:"selector",onClick:u,value:"em-mt",children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA EMAIL TRANSACCIONAL"}),e.jsx("span",{children:"Crea tu campaña de email transaccional estas seran enviada 1x1 mediante la conexion a la api."})]})]}),e.jsxs("div",{className:"selector",onClick:u,value:"sms",children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA SMS MARKETING"}),e.jsx("span",{children:"Envía mensajes de texto rápidos y confiables a cualquier país con nuestras herramientas de campaña de SMS."})]})]}),e.jsxs("div",{className:"selector",onClick:u,value:"sms-mt",children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA SMS TRANSACCIONAL"}),e.jsx("span",{children:"Crea tu campaña de sms transaccional estas seran enviada 1x1 mediante la conexion a la api."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de campaña"}),e.jsx("input",{type:"text",name:"name",onChange:n,placeholder:"Nombre"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Selecciona tipo"}),e.jsxs("select",{name:"ocation",id:"",onChange:n,children:[e.jsx("option",{value:"",selected:!0,children:" Por defecto"}),e.jsx("option",{value:"birthday",children:"Cumpleaños"})]})]}),(m.ocation=="birthday","")]})]}),e.jsxs("div",{className:"actions",children:[e.jsxs("button",{className:"next",onClick:j,children:["Siguiente ",e.jsx("div",{className:"loading"})]}),e.jsx("button",{className:"return",children:e.jsx(_e,{icon:"teenyicons:left-outline"})})]})]})]})})}function ge({name:s,buttonName:i,addNew:l=!1,callback:t}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"nofound-items",children:[e.jsx("img",{src:"/img/icons/notfound.png",alt:""}),e.jsxs("p",{children:["No hay ",s??"items","  disponibles"]}),e.jsx("br",{}),l?e.jsxs("button",{onClick:d=>{t()},children:["Crear ",i]}):""]})})}function Ui(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top",children:[e.jsx("ul",{}),e.jsx("div",{className:"right",children:e.jsxs("div",{className:"form-search",children:[e.jsx("input",{type:"text",placeholder:"Buscar por campañas..."}),e.jsx("input",{type:"date"})]})})]})})}function et({idCampaign:s,idCompany:i}){var m,p;const[l,t]=a.useState(!1),[d,r]=a.useState({series:[{name:"Enviados",data:[]},{name:"Clicks",data:[]},{name:"Leidos",data:[]},{name:"Errores",data:[]}],chart:{height:350,type:"area"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{categories:[]},tooltip:{x:{format:"dd/MM/yy HH:mm"}}});function c(){t(!0);let o=new FormData;o.append("id_company",i),o.append("id_campaign",s),o.append("case","campaign"),P.post(D+"/api/get/stats",o,{withCredentials:!0}).then(u=>u.data).then(u=>{u.daysResponse.length&&r(n=>({...n,series:[{...n.series[0],data:n.series[0].data.concat(u.daysResponse.map(h=>h.send))},{...n.series[1],data:n.series[1].data.concat(u.daysResponse.map(h=>h.clicks))},{...n.series[2],data:n.series[2].data.concat(u.daysResponse.map(h=>h.reads))},{...n.series[3],data:n.series[3].data.concat(u.daysResponse.map(h=>h.errors))}],xaxis:{...n.xaxis,categories:u.daysTotal}}))})}return a.useEffect(()=>{l||c()},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"box",children:(p=(m=d==null?void 0:d.series[0])==null?void 0:m.data)!=null&&p.length?e.jsx(Ie,{options:d,series:d.series,type:"area",height:300}):""})})}function ze(){const{UserInfo:s}=a.useContext(X),i=U(),[l,t]=a.useState([]),[d,r]=a.useState(!1),[c,m]=a.useState(!0),p=$e();a.useEffect(()=>{qe("/new")&&r(!0)},[p]);function o(n){var g;let h=new FormData;m(!0);let x="em";qe("/em")&&(x="em"),qe("/em-mt")&&(x="em-mt"),qe("/sms")&&(x="sms"),qe("/sms-mt")&&(x="sms-mt"),n||t([]),h.append("id_company",(g=s==null?void 0:s.company)==null?void 0:g.id_company),h.append("type",x),P.post(D+"/api/get/campaign",h,{withCredentials:!0}).then(f=>f.data).then(f=>{var v;(v=f==null?void 0:f.results)!=null&&v.length&&t(f.results),m(!1)}).catch(f=>{m(!1)})}a.useEffect(()=>{o(!1)},[p]);function u(n){let h=n.target.dataset.value;i("/campaigns/detail/"+h)}function j(n){t(h=>h.map((g,f)=>f===n?{...g,showStats:!g.showStats}:g))}return e.jsxs(e.Fragment,{children:[e.jsx(Zi,{Visible:d,Close:r},`${d?"x":"x2"}`),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Campañas"}),e.jsx("span",{children:"Crea y ve tus campañas rapidamente, tambien puedes entrar a nuestro sistema automatizado "})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"add",onClick:n=>{r(!0)},children:"Crear nueva campaña"}),e.jsx("button",{className:"go-wizard",onClick:n=>{r(!0)},children:"Wizard"})]})]}),e.jsx(Ui,{}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[l==null?void 0:l.map((n,h)=>{var x;return e.jsxs("div",{className:"item ",style:{padding:0},children:[e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:["NOMBRE DE CAMPANA: ",n.name]}),e.jsxs("span",{className:"desc",children:["FECHA: ",he(n.time_add)]}),e.jsx("br",{style:{marginBottom:"10px"}}),e.jsxs("div",{className:"details-campaign",children:[e.jsxs("span",{className:"desc",children:[e.jsx("b",{children:"Enviados:"})," 12"]}),e.jsxs("span",{className:"desc",children:[e.jsx("b",{children:"Devueltos:"})," 12"]}),e.jsxs("span",{className:"desc",children:[e.jsx("b",{children:"Recibidos:"})," 12"]}),e.jsxs("span",{className:"desc",children:[e.jsx("b",{children:"Leidos:"})," 12"]}),e.jsxs("span",{className:"desc",children:[e.jsx("b",{children:"Clicks:"})," 12"]}),e.jsxs("span",{className:"desc",children:[e.jsx("b",{children:"Removidos:"})," 0"]})]})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{className:"blue",onClick:u,"data-value":n.id_campaign,children:e.jsx(_e,{icon:"line-md:cog-loop"})}),e.jsx("button",{className:"green",onClick:g=>{j(h)},children:n.showStats?e.jsx(_e,{icon:"grommet-icons:up"}):e.jsx(_e,{icon:"ps:stats"})})]})]}),n.showStats&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"stats",children:e.jsx(et,{idCampaign:n.id_campaign,idCompany:(x=s==null?void 0:s.company)==null?void 0:x.id_company})})})]})}),c==!1?(l==null?void 0:l.length)==0?e.jsx(ge,{name:"campanas"}):"":e.jsx(we,{})]})})})]})}function os(){var i;const{UserInfo:s}=a.useContext(X);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top",children:[e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:"/companys",children:"Cuentas"})}),((i=s==null?void 0:s.company)==null?void 0:i.id_company)&&e.jsx("li",{children:e.jsx(B,{to:"/companys/plans",children:"Planes"})}),e.jsx("li",{children:e.jsx(B,{to:"/companys/roles",children:"Roles"})}),e.jsx("li",{children:e.jsx(B,{to:"/companys/users",children:"Perfiles"})})]}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"form-search",children:e.jsx("input",{type:"text",placeholder:"Buscar cuenta..."})})})]})})}function re({buttonsActions:s=!0,minWidth:i,maxWidth:l,children:t,width:d,visible:r,buttonSave:c=!0,cancel:m,onClick:p,next:o,callback:u,Pending:j,close:n=function(){}}){const[h,x]=a.useState(r==!1?!1:r),[g,f]=a.useState(Te());function v(E){E.stopPropagation();let T=$(E.target);$(`#modal-${g}`).removeClass("open"),T.parents(".modal-small").addClass("close"),setTimeout(()=>{T.parents(".modal-small").removeClass("close"),x(!1),u(!1)},400)}return a.useEffect(E=>{r==!0?(x(!0),setTimeout(()=>{$(`#modal-${g}`).removeClass("close"),$(`#modal-${g}`).addClass("open")},25)):($(`#modal-${g}`).addClass("close"),$(`#modal-${g}`).removeClass("open"),n("cerro"))},[r]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"modal-small",id:`modal-${g}`,style:{display:h==!0?"flex":"none",overflow:"auto"},children:[e.jsx("div",{className:"closed"}),e.jsxs("div",{className:"body",style:{maxWidth:l,minWidth:i,width:d},children:[t,s?e.jsxs("div",{className:"actions",children:[e.jsx("button",{id:"close",onClick:v,children:m??"Cancelar"}),c?e.jsxs("button",{className:`done ${j==!0?" await":""}`,onClick:p,children:[o??"Guardar"," ",e.jsx("div",{className:"loading"})]}):""]}):""]})]})})}function st({name:s,id:i,valueDefault:l,onChange:t}){const[d,r]=a.useState(Te());a.useEffect(()=>{l&&(document.querySelector(`.select-${d}`).value=l)},[]);function c(m){t&&t(m)}return e.jsxs("select",{name:s,id:i,onChange:c,className:`select-${d}`,children:[e.jsx("option",{value:"def",selected:!0,disabled:!0,children:"Seleccionar"}),e.jsx("option",{value:"md",children:"Marketing Digital"}),e.jsx("option",{value:"tec",children:"Tecnología"}),e.jsx("option",{value:"tele",children:"Telecomunicaciones"}),e.jsx("option",{value:"soft",children:"Software"})]})}function Vs(){const[s,i]=a.useState([]),[l,t]=a.useState(!0),[d,r]=a.useState(!1),[c,m]=a.useState(!1),[p,o]=a.useState({}),[u,j]=a.useState({name:"",color:"",type:""}),{setUserInfo:n,UserInfo:h}=a.useContext(X),[x,g]=a.useState(!1),f=$e();a.useEffect(()=>{qe("/add")&&r(!0)},[f]);function v(){i([]),t(!0),P.post(D+"/api/get/companys",{},{withCredentials:!0}).then(k=>k.data).then(k=>{t(!1),i(k)})}a.useEffect(()=>{v()},[]),a.useEffect(()=>{},[p]);function E(){}function T(k){c?o(N=>({...N,color:k})):j(N=>({...N,color:k}))}function F(k){if(c){let N=$(k.target);N.addClass("await");let _=new FormData;_.append("name",p.name),_.append("color",p.color),_.append("type",p.type),_.append("id_company",p.id_company),P.post(D+"/update/editcompany",_,{withCredentials:!0}).then(S=>S.data).then(S=>{S.status&&(r(!1),M.success("Has editado correctamente."),v()),S.msg&&M.error(S.msg),N.removeClass("await")}).catch(S=>{N.removeClass("await")})}else{g(!0);let N=new FormData;N.append("name",u.name),N.append("color",u.color),N.append("type",u.type),P.post(D+"/api/upload/company",N,{withCredentials:!0}).then(_=>_.data).then(_=>{_.status&&(v(),r(!1),M.success("Has creado tu cuenta correctamente.")),_.msg&&M.error(_.msg),g(!1)}).catch(_=>{g(!1)})}}a.useEffect(()=>{$(".colors .option-color").css({opacity:"0.5"}),$(`.colors .option-color[value='${p.color}']`).addClass("active").css({opacity:1}),$(".form-input input[name='name']").val(p.name)},[p]);function b(k){r(!0),o(s[k])}function w(k,N){k.stopPropagation();try{n(_=>({..._,company:s[N]})),document.cookie=`company=${s[N].id_company}`,M.success("Empresa asignada correctamente.")}catch{}}function C(k,N){k.stopPropagation()}function y(k){c||j(N=>({...N,[k.target.name]:k.target.value}))}return e.jsxs(e.Fragment,{children:[e.jsxs(re,{onClick:F,visible:d,callback:r,close:k=>{o({})},Pending:x,next:`${c?"Editar":"Agregar"}`,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:c?"Editar cuenta":"Agregar cuenta"})}),e.jsxs("div",{className:"content",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre"}),e.jsx("input",{name:"name",type:"text",onChange:y})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Tipo"}),e.jsx(st,{name:"type",onChange:y,valueDefault:`${c?p.type:"def"}`,callback:E},d?"modal-open":"modal-closed")]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Elige color de tu cuenta"}),e.jsx("span",{className:"desc",children:"El color te ayudara a identificar tu tipo de cuenta."}),e.jsxs("div",{className:"colors",children:[e.jsx(ke,{color:"#2e56ff",fn:T}),e.jsx(ke,{color:"#57c583",fn:T}),e.jsx(ke,{color:"#3fcae9",fn:T}),e.jsx(ke,{color:"#e9d43f",fn:T}),e.jsx(ke,{color:"#d77613",fn:T}),e.jsx(ke,{color:"#c069cb",fn:T}),e.jsx(ke,{color:"#cb6992",fn:T})]},d?"a":"x")]})]})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MIS CUENTAS"}),e.jsx("span",{children:"Crea y administra tus cuentas, agrega Roles y Perfiles"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:k=>{r(!0),m(!1)},children:"Crear nueva cuenta"})})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx(os,{}),e.jsxs("div",{className:"box box-padding",children:[s.map((k,N)=>{var _;return e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:k.photo?ws({company:{photo:k.photo}}):"img/icons/default_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:k.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:S=>{C(S)},children:e.jsx(Ta,{})}),e.jsx("button",{onClick:S=>{b(N),m(!0)},children:e.jsx(fs,{})}),e.jsxs("button",{onClick:S=>{w(S,N)},children:[" ",((_=h==null?void 0:h.company)==null?void 0:_.id_company)==k.id_company?e.jsx(Ra,{}):e.jsx(La,{})," "]})]})]},N)}),l==!0?e.jsxs(e.Fragment,{children:["  ",e.jsx(we,{})]}):""]})]})})]})}function Re({visible:s,onClick:i,callback:l,Pending:t,name:d}){const[r,c]=a.useState(s!=!1),[m,p]=a.useState(Te());function o(u){u.stopPropagation();let j=$(u.target);j.parents(".actions").find(".done.await").length?M.error("No puedes salir en este momento..."):($(`#modal-${m}`).removeClass("open"),j.parents(".modal-small").addClass("close"),setTimeout(()=>{j.parents(".modal-small").removeClass("close"),c(!1),l(!1)},600))}return a.useEffect(u=>{s==!0?(c(!0),setTimeout(()=>{$(`#modal-${m}`).removeClass("close"),$(`#modal-${m}`).addClass("open")},25)):($(`#modal-${m}`).addClass("close"),$(`#modal-${m}`).removeClass("open"),close("cerro"))},[s]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"modal-small delete",id:`modal-${m}`,style:{display:r==!0?"flex":"none"},children:[e.jsx("div",{className:"closed"}),e.jsxs("div",{className:"body",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Eliminar"})}),e.jsxs("span",{className:"dialog",children:["Estas apunto de eliminar ",d==null?"este objeto":"esta "+d,". ¿Estas seguro de querer eliminarlo?"]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{id:"close",onClick:o,children:"Cancelar"}),e.jsxs("button",{className:`done ${t==!0?"await":""}`,onClick:i,children:["Eliminar ",e.jsx("div",{className:"loading"})]})]})]})]})})}function at(){const{UserInfo:s,LoadingAuth:i}=a.useContext(X),[l,t]=a.useState(!1),[d,r]=a.useState(!1),[c,m]=a.useState(["delete","read","send","add"]),[p,o]=a.useState(!1);let u={type_add:"",delete:0,add:0,read:0,send:0,sadmin:0};const[j,n]=a.useState(u),[h,x]=a.useState(),[g,f]=a.useState(!0),v=U(),[E,T]=a.useState([]);async function F(){var _;let N=new FormData;N.append("id_company",(_=s==null?void 0:s.company)==null?void 0:_.id_company),T([]),f(!0),P.post(D+"/api/get/roles",N,{withCredentials:!0}).then(S=>S.data).then(S=>{T(S),f(!1)})}a.useEffect(()=>{i||s.company||(v("/companys"),M.error("Selecciona una empresa ")),g&&F()},[i]);function b(N){let _=N.target.value;$(N.target).is("input[type='checkbox']")?(n(S=>({...S,sadmin:0})),$(N.target).is("input[type='checkbox']:checked")?n(S=>({...S,[N.target.name]:1})):n(S=>({...S,[N.target.name]:0}))):(n(S=>({...S,[N.target.name]:_})),_=="sadmin"&&n(S=>({...S,sadmin:1})))}function w(N){let _=new FormData;j.rol!==void 0&&j.type_add!==void 0&&(_.append("sadmin",j!=null&&j.sadmin?j.sadmin:0),_.append("delete",j!=null&&j.delete?j.delete:0),_.append("read",j!=null&&j.read?j.read:0),_.append("add",j!=null&&j.add?j.add:0),_.append("send",j!=null&&j.send?j.send:0),_.append("rol",j.rol),_.append("id_company",s.company.id_company),p?(ps(N.target),_.append("id_rol",j==null?void 0:j.id_rol),P.post(D+"/api/update/permissions",_,{withCredentials:!0}).then(S=>S.data).then(async S=>{S.status&&(await F(),t(!1),Pe(N.target)),S.msg&&(M.error("Opps error al aplicar cambios de permisos"),Pe(N.target))}).catch(S=>{Pe(N.target)})):(ps(N.target),P.post(D+"/api/upload/rol",_,{withCredentials:!0}).then(S=>S.data).then(S=>{S.status?(_.append("id_rol",S.id_rol),P.post(D+"/api/update/permissions",_,{withCredentials:!0}).then(R=>R.data).then(async R=>{R.status&&(await F(),t(!1),Pe(N.target)),R.msg&&(M.error("Opps error al aplicar cambios de permisos"),Pe(N.target))}).catch(R=>{Pe(N.target)})):(S.msg&&M.error(S.msg),Pe(N.target))}).catch(S=>{Pe(N.target)})))}function C(N){let _=N.target.value;_&&(x(_),r(!0))}function y(N){ps(N.target);let _=new FormData;_.append("id_company",s.company.id_company),_.append("id_rol",h),h?P.post(D+"/api/delete/rol",_,{withCredentials:!0}).then(S=>S.data).then(S=>{S.status&&(r(!1),F()),S.msg&&M.error(S.msg),Pe(N.target)}).catch(S=>{Pe(N.target)}):M.error("No has seleccionado ningun id")}function k(N){let _=N.target.value;t(!0),o(!0),n(S=>({...S,id_rol:E[_].id_rol,rol:E[_].rol})),setTimeout(()=>{E[_].permissions.sadmin?(n(S=>({...S,type_add:"sadmin"})),document.querySelector("select").value="sadmin"):(n(S=>({...S,type_add:"pers"})),document.querySelector("select").value="pers",c.forEach((S,R)=>{E[_].permissions[S]&&document.querySelector(`input[name='${S}']`).click()}))},25)}return e.jsxs(e.Fragment,{children:[e.jsx(Re,{visible:d,callback:r,onClick:y},d?"opxen":"clxose"),e.jsxs(re,{onClick:w,maxWidth:380,visible:l,callback:t,next:p?"Actualizar":"Guardar",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:p?"Editar rol":"Agregar rol"})}),e.jsxs("div",{className:"content",children:[p?"":e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de rol",name:"rol",onChange:b,value:(j==null?void 0:j.rol)==null?"":j==null?void 0:j.rol})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"type_add",id:"",onChange:b,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Seleccionar tipo"}),e.jsx("option",{value:"pers",children:"Personalizado"}),e.jsx("option",{value:"sadmin",children:"Super Admin"})]})}),j.type_add=="pers"?e.jsx("table",{children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Permisos"}),e.jsx("td",{children:"Seleccionar"})]}),c.map(N=>e.jsxs("tr",{children:[e.jsx("td",{children:N}),e.jsx("td",{children:e.jsx("input",{type:"checkbox",onChange:b,name:N})})]}))]})}):j.type_add=="sadmin"?e.jsxs("div",{className:"ad",children:[e.jsx("p",{children:"Advertencia"}),e.jsx("span",{children:"Al asignar un rol con permisos de super administrador, le daras derecho a hacer las mismas acciones que tu cuenta principal, podra manipular empresas o hacer cosas que solamente tu puedes hacer."})]}):e.jsx(e.Fragment,{})]})]},l?"open":"close"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus roles"}),e.jsx("span",{children:"Crea y elimina los roles de tu empresa, da permisos a usuarios para que puedan iniciar sesion y manipular tu empresa"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:N=>{t(!0),n(u),o(!1)},children:"Crear nuevo rol"})})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx(os,{}),e.jsxs("div",{className:"box box-padding",children:[E.map((N,_)=>{var S,R,W,se,de,I,q,z;return e.jsxs("div",{className:"item flex",children:[e.jsx("div",{className:"info",children:e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:[N.rol," ",N.permissions.sadmin==!0?e.jsx("span",{className:"super-adm",children:"ADM"}):""," "]}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})}),e.jsxs("div",{children:[e.jsx("p",{children:"Lectura"}),e.jsx("div",{className:"center-roles",children:(S=N==null?void 0:N.permissions)!=null&&S.read?e.jsx("span",{className:"yes",children:e.jsx(Ee,{})}):((R=N==null?void 0:N.permissions)==null?void 0:R.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(Ee,{})}):e.jsx("span",{className:"no",children:e.jsx(es,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Envio"}),e.jsx("div",{className:"center-roles",children:(W=N==null?void 0:N.permissions)!=null&&W.send?e.jsx("span",{className:"yes",children:e.jsx(Ee,{})}):((se=N==null?void 0:N.permissions)==null?void 0:se.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(Ee,{})}):e.jsx("span",{className:"no",children:e.jsx(es,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Borrar"}),e.jsx("div",{className:"center-roles",children:(de=N==null?void 0:N.permissions)!=null&&de.delete?e.jsx("span",{className:"yes",children:e.jsx(Ee,{})}):((I=N==null?void 0:N.permissions)==null?void 0:I.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(Ee,{})}):e.jsx("span",{className:"no",children:e.jsx(es,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Agregar"}),e.jsx("div",{className:"center-roles",children:(q=N==null?void 0:N.permissions)!=null&&q.add?e.jsx("span",{className:"yes",children:e.jsx(Ee,{})}):((z=N==null?void 0:N.permissions)==null?void 0:z.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(Ee,{})}):e.jsx("span",{className:"no",children:e.jsx(es,{})})})]}),e.jsx("div",{children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:k,value:_,children:e.jsx(fs,{})}),e.jsx("button",{onClick:C,value:N.id_rol,children:e.jsx(ce,{})})]})})]},_)}),g?e.jsx(we,{}):E.length==0?e.jsx(ge,{}):""]})]})})]})}function it(){const{UserInfo:s}=a.useContext(X),[i,l]=a.useState([]),[t,d]=a.useState(!1),[r,c]=a.useState({name:"",password:"",email:"",id_rol:""}),[m,p]=a.useState(!1),[o,u]=a.useState([]),[j,n]=a.useState(!1),[h,x]=a.useState(),[g,f]=a.useState(!1),[v,E]=a.useState({id_user:"",id_rol:""}),[T,F]=a.useState(!1);function b(S){let R=S.target.value,W=S.target.name;c(se=>({...se,[W]:R}))}function w(){var R;n(!0);let S=new FormData;S.append("id_company",(R=s==null?void 0:s.company)==null?void 0:R.id_company),P.post(D+"/api/get/subusers",S,{withCredentials:!0}).then(W=>W.data).then(W=>{n(!1),l(W)}).catch(W=>{n(!1)})}function C(){var S;if(r.name&&r.email&&r.password&&r.id_rol)if(r.password.length>=6){let R=new FormData;p(!0),R.append("name",r.name),R.append("email",r.email),R.append("password",r.password),R.append("id_rol",r.id_rol),R.append("id_company",(S=s.company)==null?void 0:S.id_company),P.post(D+"/api/upload/subuser",R,{withCredentials:!0}).then(W=>W.data).then(W=>{p(!1),W.status?(d(!1),l([]),w()):M.error(W.msg)}).catch(W=>{p(!1)})}else M.error("Tu password no es correcta debe de tener 6 o mas caracteres");else M.error("Opps has dejado campos vacios")}function y(S){E(R=>({...R,id_user:i[S].id,id_rol:i[S].id_rol,name:i[S].name})),setTimeout(()=>{document.querySelector("select").value=i[S].id_rol},20),f(!0)}function k(S){let R=i[S].id_admin;R&&(x(R),F(!0))}a.useEffect(()=>{var R;let S=new FormData;S.append("id_company",(R=s==null?void 0:s.company)==null?void 0:R.id_company),P.post(D+"/api/get/roles",S,{withCredentials:!0}).then(W=>W.data).then(W=>{u(W)}),w()},[]);function N(){var S;if(v.id_rol&&v.id_user){p(!0);let R=new FormData;R.append("id_company",(S=s==null?void 0:s.company)==null?void 0:S.id_company),R.append("id_rol",v.id_rol),R.append("id_user",v.id_user),P.post(D+"/api/update/subuser",R,{withCredentials:!0}).then(W=>W.data).then(W=>{W.status&&(w(),l([]),M.success("Has editato el usuario correctamente."),f(!1)),p(!1)}).catch(W=>{p(!1)})}}function _(){var S;if(h){p(!0);let R=new FormData;R.append("id_user",h),R.append("id_company",(S=s==null?void 0:s.company)==null?void 0:S.id_company),P.post(D+"/api/delete/subuser",R,{withCredentials:!0}).then(W=>W.data).then(W=>{W.status&&(F(!1),p(!1),w(),l([]),M.success("Has borrado el usuario correctamente.")),W.msg&&M.error(W.msg)}).finally(()=>{p(!1)})}else M.error("Opps no has seleccionado nada")}return e.jsxs(e.Fragment,{children:[e.jsx(Re,{visible:T,callback:F,onClick:_,Pending:m}),e.jsxs(re,{visible:g,callback:f,Pending:m,onClick:N,next:"Editar",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Editar"})}),e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{children:["Editar rol del usuario @",v.name]}),e.jsxs("select",{onChange:S=>{E(R=>({...R,id_rol:S.target.value}))},name:"",id:"",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Seleccionar Rol"}),o.map((S,R)=>e.jsx("option",{value:S.id_rol,children:S.rol}))]})]})]}),e.jsx(re,{visible:t,callback:d,next:"Agregar",onClick:C,Pending:m,children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Agregar"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre",name:"name",onChange:b})}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Email",name:"email",onChange:b})}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"password",placeholder:"Contraseña",name:"password",onChange:b})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"id_rol",id:"",onChange:b,children:[e.jsx("option",{value:"",children:"Seleccionar Rol"}),o.map((S,R)=>e.jsx("option",{value:S.id_rol,children:S.rol}))]})})]})},`${t?"open":"close"}`),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus usuarios"}),e.jsx("span",{children:"Crea y elimina usuarios, estos usuarios son de tu empresa, deben de tener un rol asignado para poder hacer ciertas funciones. Estos usuarios pueden utilizar la api si le das el acceso y podran consumir recursos desde alli."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:S=>{d(!0)},children:"Crear nuevo usuario"})})]}),e.jsx(os,{}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[i.map((S,R)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default-user.jpg",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:S.user}),S.is_owner?e.jsx("span",{className:"desc",children:"Rol - Creador"}):e.jsxs("span",{className:"desc",children:["Rol - ",S.rol]}),e.jsx("br",{}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:W=>{y(R)},value:R,children:e.jsx(fs,{})}),e.jsx("button",{onClick:W=>{k(R)},value:S.id_rol,children:e.jsx(ce,{})})]})})]},R)),j==!1?i.length==0?e.jsx(ge,{name:"usuarios"}):"":e.jsx(we,{})]})})})]})}function Qs({campaign:s,setFormProgamming:i}){const[l,t]=a.useState("default");function d(m){let p=m.target.value;t(p)}function r(){t("default")}function c(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"return-top",children:e.jsx("button",{onClick:r,children:e.jsx(Je,{})})})})}return a.useEffect(()=>{switch(l){case"daysname":i({target:{value:"bucle",name:"p_type"}});break}},[l]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Programar campaña"})}),e.jsxs("div",{className:"data",children:[l=="default"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"select-buttons",children:[e.jsx("button",{onClick:d,value:"date",children:"Fecha especifica"}),e.jsx("button",{onClick:d,value:"daysname",children:"Dias especificos"}),e.jsx("button",{onClick:d,value:"daysnumber",children:"Recordatorios"}),e.jsx("button",{onClick:d,value:"fidelizacion",children:"Fidelizacion"})]})}):"",l=="date"?e.jsxs(e.Fragment,{children:[e.jsx(c,{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"date",name:"date",onChange:i})}),e.jsxs("div",{className:"form-input flex",children:[e.jsx("input",{type:"text",placeholder:"hora",name:"hh",onChange:i}),e.jsx("input",{type:"text",placeholder:"minuto",name:"ii",onChange:i}),e.jsxs("select",{name:"x",id:"",children:[e.jsx("option",{value:"pm",children:"p.m."}),e.jsx("option",{value:"am",children:"a.m."})]})]})]}):"",l=="daysname"?e.jsxs(e.Fragment,{children:[e.jsx(c,{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Que dia de la semana quieres que se envie"}),e.jsxs("select",{name:"dd",onChange:i,id:"",children:[e.jsx("option",{value:"Sun",children:"Domingo"}),e.jsx("option",{value:"Mon",children:"Lunes"}),e.jsx("option",{value:"Tues",children:"Martes"}),e.jsx("option",{value:"Wed",children:"Miércoles"}),e.jsx("option",{value:"Thurs",children:"Jueves"}),e.jsx("option",{value:"Fri",children:"Viernes"}),e.jsx("option",{value:"Sat",children:"Sábado"})]})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("button",{children:"Cada 1 mes"}),e.jsx("br",{}),e.jsx("button",{children:"Cada 2 meses"}),e.jsx("br",{}),e.jsx("button",{children:"Cada 3 meses"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Cuando expira"}),e.jsx("input",{type:"date",onChange:i,name:"timeExpire"})]})]}):"",l=="daysnumber"?e.jsxs(e.Fragment,{children:[e.jsx(c,{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Que dia quieres que se envie (Esto enviara el numero elegio cada mes, es decir ejemplo: 01 es igual a los 01 de cada mes)"}),e.jsx("select",{name:"dd",onChange:i,children:Array.from({length:31},(m,p)=>e.jsx("option",{value:String(p+1).padStart(2,"0"),children:String(p+1).padStart(2,"0")},p+1))})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Cuando expira (Si no pones fecha es indefinido)"}),e.jsx("input",{type:"date",onChange:i,name:"timeExpire"})]})]}):"",l=="fidelizacion"?e.jsxs(e.Fragment,{children:[e.jsx(c,{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Que campo validador quieres utilizar (estas campañas funcionan de forma que verifican si en el campo validador elegido esta una fecha en caso de ser asi se enviara un correo al usuario, con los parametros configurados)"}),e.jsxs("select",{name:"dd",onChange:i,children:[e.jsx("option",{value:"",children:"Selecciona el campo"}),e.jsx("option",{value:"",children:"Birthday"}),e.jsx("option",{value:"",children:"Extra 1"}),e.jsx("option",{value:"",children:"Extra 2"}),e.jsx("option",{value:"",children:"Extra 3"}),e.jsx("option",{value:"",children:"Extra 4"}),e.jsx("option",{value:"",children:"Extra 5"})]})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Cuando expira (Si no pones fecha es indefinido)"}),e.jsx("input",{type:"date",onChange:i,name:"timeExpire"})]})]}):""]})]})}function Ws({value:s,defaultValue:i,onChange:l,onSave:t,Send:d=!0,Preview:r=!0}){const c=a.useRef(null),[m,p]=a.useState(""),[o,u]=a.useState(!0),[j,n]=a.useState(0),h=x=>{const g=c.current,f=window.getSelection().toString(),v=g.selectionStart,E=m.substring(0,v),T=m.substring(v),F=E+x+f+T;p(F),g.focus()};return a.useEffect(()=>{l(m),n(m.length)},[m]),a.useEffect(()=>{s&&o&&(u(!1),p(s))},[s]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"textarea-sms",children:[e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:()=>h("$name"),children:"Nombre"}),e.jsx("button",{onClick:()=>h("$lastname"),children:"Apellido"}),e.jsx("button",{onClick:()=>h("$dni"),children:"Dni"}),e.jsx("button",{onClick:()=>h("$code"),children:"Codigo"}),e.jsx("button",{onClick:()=>h("$city"),children:"Ciudad"}),e.jsx("button",{onClick:()=>h("$country"),children:"Pais"}),e.jsx("button",{onClick:()=>h("$birthday"),children:"Nacimiento"}),e.jsx("button",{onClick:()=>h("$address"),children:"Direccion"}),e.jsx("button",{onClick:()=>h("$occupation"),children:"Ocupacion"}),e.jsx("button",{onClick:()=>h("$gender"),children:"Sexo"}),e.jsx("button",{onClick:()=>h("$phone"),children:"Telefono"}),e.jsx("button",{onClick:()=>h("$email"),children:"Correo Electronico"}),e.jsx("button",{onClick:()=>h("$1"),children:"Extra (1)"}),e.jsx("button",{onClick:()=>h("$2"),children:"Extra (2)"}),e.jsx("button",{onClick:()=>h("$3"),children:"Extra (3)"}),e.jsx("button",{onClick:()=>h("$4"),children:"Extra (4)"}),e.jsx("button",{onClick:()=>h("$5"),children:"Extra (5)"}),e.jsx("button",{onClick:()=>h("$6"),children:"Extra (6)"}),e.jsx("button",{onClick:()=>h("$7"),children:"Extra (7)"}),e.jsx("div",{className:"count",children:e.jsxs("i",{children:["166/",j]})})]}),e.jsx("textarea",{ref:c,className:"text",value:s,defaultValue:i,onChange:x=>p(x.target.value)}),e.jsxs("div",{className:"bottom-actions",children:[e.jsxs("button",{children:[e.jsx(Ma,{})," Borrar"]}),r?e.jsxs("button",{children:[e.jsx(Oe,{})," Previsualizar SMS"]}):"",d?e.jsx("button",{className:"preview",onClick:t,children:"Enviar Campaña"}):"",e.jsx("button",{className:"preview",onClick:t,children:"Guardar "})]})]})})}function tt({status:s,PauseCampaign:i,style:l}){return e.jsxs(e.Fragment,{children:[s=="prepare"?e.jsx(e.Fragment,{children:e.jsxs("span",{style:l,className:"wait",children:["En espera... ",e.jsx(L,{icon:"mdi:check"})]})}):"",s=="programmed"?e.jsx(e.Fragment,{children:e.jsxs("span",{style:l,className:"programmed",children:[" Programada ",e.jsx(L,{icon:"fa-solid:check"})]})}):"",s=="sent"?e.jsx(e.Fragment,{children:e.jsxs("span",{style:l,className:"ready-list",children:["Enviado ",e.jsx(L,{icon:"mdi:check-all"})," "]})}):"",s=="sending"?e.jsxs(e.Fragment,{children:[e.jsxs("span",{style:l,className:"ready-list",children:[" Enviando... ",e.jsx(Aa,{})]}),e.jsx("button",{onClick:i,children:e.jsx(Oa,{})})]}):""]})}function nt({Close:s,campaign:i,setCampaign:l}){const[t,d]=a.useState([]),{UserInfo:r}=a.useContext(X),[c,m]=a.useState(!1);function p(){var h;let n=new FormData;n.append("id_company",(h=r==null?void 0:r.company)==null?void 0:h.id_company),n.append("type",vi(i.type_c)),P.post(D+"/api/get/list",n,{withCredentials:!0}).then(x=>x.data).then(x=>{d(x)})}function o(n){var h;if(n.contacts>1&&n.contacts<5){l(g=>{let f={...g};return f.lists_test=n.id_list,f});let x=new FormData;x.append("id_company",(h=r==null?void 0:r.company)==null?void 0:h.id_company),x.append("id_campaign",i.id_campaign),x.append("id_list_test",n.id_list),P.post(D+"/api/update/campaign/idlistest",x,{withCredentials:!0})}else le.error("Tu lista no cumple los requisitos")}function u(){l({...i,lists_test:""})}function j(){var h;m(!0);let n=new FormData;n.append("id_campaign",i.id_campaign),n.append("id_company",(h=r==null?void 0:r.company)==null?void 0:h.id_company),n.append("id_list_test",i.lists_test),P.post(D+"/api/send/campaign",n,{withCredentials:!0}).then(x=>x.data).then(x=>{x.status&&(le.success("Se ha enviado el envio de pruebas."),s(!1))}).finally(()=>{m(!1)})}return a.useEffect(()=>{i.lists_test||p()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Envio de prueba"}),i!=null&&i.lists_test?e.jsx("span",{children:"envia una prueba a tu lista preferida"}):e.jsx("span",{children:"Selecciona una lista para usar en este envio de pruebas no puede exceder los 5 usuarios"})]}),i!=null&&i.lists_test?e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx("div",{className:"box",children:e.jsxs("div",{className:"item flex-wrap",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/lists.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:["Lista ",i==null?void 0:i.lists_test]}),e.jsx("span",{className:"desc",children:"Esta es la lista seleccionada para el envio de pruebas"})]})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{onClick:u,children:e.jsx(ce,{})})})]})}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:n=>{s(!1)},children:"Cerrar"}),e.jsxs("button",{className:c?"await":"",onClick:j,children:[" ",e.jsx("div",{className:"loading"})," Enviar"]})]})]}):e.jsx("div",{className:"data",children:e.jsx("div",{className:"row",children:t.map((n,h)=>e.jsx("div",{className:"col-md-12 page-lists",children:e.jsx("div",{className:"box",children:e.jsxs("div",{className:"item flex-wrap select",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/lists.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:n.name}),e.jsxs("span",{className:"desc",children:["Contactos: ",n.contacts]})]})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{onClick:x=>{o(n)},children:e.jsx(Fe,{})})})]})})}))})})]})}function lt(){var Es,Fs,Ds,Ps,qs,Ts,Rs,Ls;const s=oe(),{UserInfo:i}=a.useContext(X),l=U();a.useState(!1);const[t,d]=a.useState({});let r={lists:!1,body:!1,affair:!1};const[c,m]=a.useState(r),[p,o]=a.useState({lists:[]}),[u,j]=a.useState({lists:!1}),[n,h]=a.useState([]),[x,g]=a.useState({sendCampaign:!1,updateHtml:!1}),[f,v]=a.useState({affair:""}),[E,T]=a.useState(!1),[F,b]=a.useState(),[w,C]=a.useState(!1),[y,k]=a.useState({hh:"",mm:"",dd:"",ii:"",yy:"",timeExpire:"",p_type:"default"}),[N,_]=a.useState(!1);a.useState({});const[S,R]=a.useState(),[W,se]=a.useState(!1),[de,I]=a.useState([]),[q,z]=a.useState(!1),[O,ae]=a.useState(e.jsx(e.Fragment,{})),[te,G]=a.useState(!1);function ne(A){var V;xe(!0);let Q=new FormData;Q.append("id_company",(V=i==null?void 0:i.company)==null?void 0:V.id_company),n.lists&&Q.append("ignore_id",n.lists),o(ee=>({...ee,lists:[]})),A&&Q.append("search",A),P.post(D+"/api/get/list",Q,{withCredentials:!0}).then(ee=>ee.data).then(ee=>{o(me=>({...me,lists:ee})),xe(!1)})}function xe(A){j(Q=>({...Q,lists:A}))}let pe=0;function Me(A){let Q=A.target.value;clearTimeout(pe),pe=setTimeout(()=>{ne(Q)},250)}function fe(){clearTimeout(pe)}a.useEffect(()=>{c.lists&&ne()},[c]),a.useEffect(()=>{var Q;let A=new FormData;A.append("id_company",(Q=i==null?void 0:i.company)==null?void 0:Q.id_company),A.append("id_campaign",s.id),P.post(D+"/api/get/campaign",A,{withCredentials:!0}).then(V=>V.data).then(V=>{h(V),V.type_c&&(V.type_c=="em"||V.type_c=="sms")&&G(!0)}).catch(V=>{})},[]),a.useEffect(()=>{n!=null&&n.id_template&&Ne()},[n]);function Ne(){var Q;let A=new FormData;A.append("id_company",(Q=i==null?void 0:i.company)==null?void 0:Q.id_company),A.append("id_template",n==null?void 0:n.id_template),A.append("type","all"),P.post(D+"/api/get/templatejson",A,{withCredentials:!0}).then(V=>V.data).then(V=>{var ee;R((ee=V==null?void 0:V.json)==null?void 0:ee.msg)}).catch(V=>{M.error(String(V))})}function De(A){var V,ee;let Q=A.target.value;if(Q){let me=new FormData;me.append("id_list",Q),me.append("id_company",(V=i==null?void 0:i.company)==null?void 0:V.id_company),me.append("id_campaign",s.id);let ye=!1;if((ee=n==null?void 0:n.lists)!=null&&ee.length?n.lists.includes(Q)||(ye=!0,h(Se=>({...Se,lists:Se.lists+","+Q}))):(h(Se=>({...Se,lists:Q})),ye=!0),ye){let Se=$(A.target);Se=Se.parents(".result"),Se.hide("x"),P.post(D+"/api/update/addlistcampaign",me,{withCredentials:!0}).then(We=>We.data).then(We=>{We.status}).catch(We=>{})}}}function Ye(A){var V;let Q=A.target.value;if(Q){h(me=>{let ye={...me};return ye.id_domain=Q,ye}),M.success("Excelente"),m({...c,domain:!1});let ee=new FormData;ee.append("id_company",(V=i==null?void 0:i.company)==null?void 0:V.id_company),ee.append("id_campaign",n==null?void 0:n.id_campaign),ee.append("id_domain",Q),P.post(D+"/api/update/campaign/domain",ee,{withCredentials:!0}).then(me=>me.data).then(me=>{})}}function as(A){let Q=A.target.value;if(Q){let V=new FormData;V.append("id_campaign",n.id_campaign),V.append("id_list",Q),V.append("id_company",i.company.id_company),P.post(D+"/api/delete/listscampaign",V,{withCredentials:!0}),h(ee=>{var Se;let me={...ee},ye=me.lists;if(ee!=null&&ee.lists){ye=(Se=ee==null?void 0:ee.lists)==null?void 0:Se.replace(","+Q,"").replace(Q,"");let We=ye.split(",");We[0]||(ye=We[1])}return me.lists=ye,me})}}function Ve(A){m(r),m(Q=>({...Q,[A]:!0}))}function Ze(){var V,ee;let A=(V=document.querySelectorAll(".item .top"))==null?void 0:V.length,Q=(ee=document.querySelectorAll(".item .top.active"))==null?void 0:ee.length;return A!==Q&&M.error("Opps tienes campos que terminar."),A==Q}function Ue(A){var Q;if(Ze()){Xe("sendCampaign",!0);let V=new FormData;V.append("id_company",(Q=i==null?void 0:i.company)==null?void 0:Q.id_company),V.append("id_campaign",s.id),P.post(D+"/api/send/campaign",V,{withCredentials:!0}).then(ee=>ee.data).then(ee=>{Xe("sendCampaign",!1),ee.status&&!ee.msg?(M.success("Campaña enviada!"),h({...n,status:"sending"})):M.error(ee.msg)}).catch(ee=>{Xe("sendCampaign",!1)})}}function is(A){var ee;let Q=$(A.target);Q.addClass("await");let V=new FormData;V.append("affair",f.affair),V.append("id_company",(ee=i==null?void 0:i.company)==null?void 0:ee.id_company),V.append("id_campaign",n.id_campaign),P.post(D+"/api/update/setaffair",V,{withCredentials:!0}).then(me=>me.data).then(me=>{Q.removeClass("await"),me.status?(m(r),h(ye=>({...ye,affair:f.affair}))):M.error(me.msg)}).catch(me=>{Q.removeClass("await")})}function Xe(A,Q){g(V=>({...V,[A]:Q}))}function ts(){var Q;C(!0);let A=new FormData;A.append("id_company",(Q=i==null?void 0:i.company)==null?void 0:Q.id_company),A.append("id_campaign",s.id),P.post(D+"/api/delete/campaign",A,{withCredentials:!0}).then(V=>V.data).then(V=>{C(!1),V.status&&l("/campaigns")}).catch(V=>{C(!1)})}function ns(A){let Q=A.target.value,V=A.target.name;if(V=="date"){const ee=new Date(Q),me=ee.getDate(),ye=ee.getFullYear(),Se=ee.getMonth()+1;k({...y,dd:me,yy:ye,mm:Se})}else k({...y,[V]:Q})}function ls(){var Q;let A=new FormData;_(!0),A.append("id_company",(Q=i==null?void 0:i.company)==null?void 0:Q.id_company),A.append("hh",y.hh?y.hh:"?"),A.append("dd",zs(y.dd)?zs(y.dd):"?"),A.append("yy",y.yy?y.yy:"?"),A.append("mm",y.mm?y.mm:"?"),A.append("ii",y.ii?y.ii:"?"),A.append("id_campaign",s.id),A.append("timeExpire",y==null?void 0:y.timeExpire),A.append("p_type",y==null?void 0:y.p_type),A.append("type","campaign"),P.post(D+"/api/update/programming",A,{withCredentials:!0}).then(V=>V.data).then(V=>{_(!1),V.status&&(b(!1),h({...n,status:"programmed"}),M.success("Campana programada con exito"))}).catch(V=>{_(!1)})}function Z(){var Q;let A=new FormData;A.append("msg",S),A.append("id_campaign",s.id),A.append("id_company",(Q=i==null?void 0:i.company)==null?void 0:Q.id_company),A.append("type","sms"),n!=null&&n.id_template&&A.append("id_template",n==null?void 0:n.id_template),P.post(D+"/api/upload/bodycampaign",A,{withCredentials:!0}).then(V=>V.data).then(V=>{V.status&&M.success("Guardado con exito")}).catch(V=>{M.error(String(V))})}function K(){var Q;let A=new FormData;A.append("id_campaign",n==null?void 0:n.id_campaign),A.append("id_company",(Q=i==null?void 0:i.company)==null?void 0:Q.id_company),P.post(D+"/api/update/pausecampaign",A,{withCredentials:!0}).then(V=>V.data).then(V=>{V.status&&h({...n,status:"prepare"})})}function Y(){var Q;let A=new FormData;A.append("id_company",(Q=i==null?void 0:i.company)==null?void 0:Q.id_company),A.append("status",!0),P.post(D+"/api/get/domains",A,{withCredentials:!0}).then(V=>V.data).then(V=>{I(V)})}function ie(){document.querySelector("input[name='body_file']").click()}function Qe(){d({})}function fa(A){if(A.target.files[0].name.indexOf(".html")>=0){d(A.target.files[0]);const Q=new FileReader;Q.onload=function(V){const ee=V.target.result;ae(ee)},Q.onerror=function(){M.error("Error al leer el archivo HTML")},Q.readAsText(A.target.files[0])}else M.error("Opps no es un archivo HTML")}function Na(){var Q;g({...x,updateHtml:!0});let A=new FormData;A.append("id_campaign",s.id),A.append("id_company",(Q=i==null?void 0:i.company)==null?void 0:Q.id_company),A.append("file",t),A.append("title",t==null?void 0:t.name),A.append("type","email"),P.post(D+"/api/upload/bodycampaign",A,{withCredentials:!0}).then(V=>V.data).then(V=>{V.status&&(M.success("Has subido correctamente tu archivo html"),d(!1))}).finally(()=>{g({...x,updateHtml:!1})})}function ya(){var Q;let A=new FormData;A.append("id_campaign",s.id),A.append("id_company",(Q=i==null?void 0:i.company)==null?void 0:Q.id_company),P.post(D+"/api/update/resetCampaign",A,{withCredentials:!0}).then(V=>V.data).then(V=>{V.status?(h({...n,status:"prepare"}),M.success("Has restablecito tu campaña.")):M.error("Opps error al restablecer tu campaña.")})}function _s(){z(!0)}return e.jsxs(e.Fragment,{children:[q&&e.jsxs("div",{className:"preview-html",children:[e.jsxs("div",{className:"controls",children:[e.jsx("div",{className:"left",children:e.jsx("button",{className:"btn-action",onClick:A=>{z(!1)},children:e.jsx(L,{icon:"icon-park-outline:return"})})}),e.jsx("p",{className:"title",children:"Previsualizar HTML"})]}),e.jsx("div",{className:"body",dangerouslySetInnerHTML:{__html:O}})]}),e.jsx(re,{maxWidth:400,minWidth:400,visible:W,callback:se,buttonsActions:!1,children:e.jsx(nt,{Close:se,setCampaign:h,campaign:n})}),e.jsx(re,{visible:F,callback:b,width:"30%",onClick:ls,maxWidth:"500px",next:"Programar",Pending:N,children:e.jsx(Qs,{setFormProgamming:ns,campaign:n})},Qs?"XD":"xd"),e.jsx(Re,{visible:E,callback:T,Pending:w,onClick:ts,name:"campana"}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles de campaña"}),e.jsx("span",{children:'Gestiona tus campañas de manera eficiente y optimiza tus estrategias de marketing con nuestra función de "Detalles de Campaña".'})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:A=>{setModalWizard(!0)},children:e.jsx(Je,{})})})]}),e.jsxs("div",{className:"menu-top-right",children:[n.status=="programmed"?e.jsx("button",{className:"programming",onClick:ya,children:"Reprogramar"}):e.jsx("button",{className:"programming",onClick:A=>{Ze()&&b(!0)},children:"Programar"}),e.jsx("button",{className:"programming",onClick:A=>l("/campaigns/stats/"+(s==null?void 0:s.id)),children:"Estadisticas"}),e.jsx("button",{className:"programming",onClick:A=>{T(!0)},children:"Eliminar"}),te&&e.jsx(e.Fragment,{children:n.status!=="programmed"&&n.status!=="sending"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:`programming ${x.sendCampaign?"await":""} `,onClick:A=>{se(!0)},children:["Enviar Prueba ",e.jsx("div",{className:"loading"})]}),n.sendsCampaign?e.jsxs("button",{className:`return${x.sendCampaign?"await":""} `,onClick:Ue,children:[" ",e.jsx(L,{icon:"ant-design:retweet-outlined"})," Reenviar Campaña ",e.jsx("div",{className:"loading"})]}):e.jsxs("button",{className:`send${x.sendCampaign?"await":""} `,onClick:Ue,children:["Enviar Campaña ",e.jsx("div",{className:"loading"})]})]})})]}),e.jsxs("div",{className:"box steps",children:[e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:[" ",e.jsx("b",{children:"Campaña:"})," ",n.name," "]}),e.jsxs("p",{className:"title",children:[" ",e.jsx("b",{children:"Creada:"})," 29 de may de 2023 "]})]})]}),e.jsxs("div",{style:{position:"relative",top:"21px"},children:[e.jsx("p",{style:{display:"inline"},children:"Estatus:"}),e.jsx(tt,{style:{marginLeft:"9px",fontSize:"16px",position:"relative",top:"-1px"},PauseCampaign:K,status:n==null?void 0:n.status})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(He,{})}),e.jsxs("button",{children:[e.jsx(be,{})," "]})]})]}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top active",children:[e.jsx("div",{className:"check",children:e.jsx(Ae,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Crear Campaña"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top active",children:[e.jsx("div",{className:"check active",children:e.jsx(Ae,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Elegir Tipo"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{children:"Editar"})})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${n!=null&&n.lists?"active":""} `,children:[e.jsx("div",{className:"check",children:e.jsx(Ae,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Contactos"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"}),e.jsx("div",{className:"selects",children:((Es=n==null?void 0:n.lists)==null?void 0:Es.length)>=1?(Fs=n==null?void 0:n.lists)==null?void 0:Fs.split(",").map((A,Q)=>e.jsx("div",{className:"select",children:e.jsxs("p",{children:["Lista: ",A," ",e.jsx("button",{className:"delete",onClick:as,value:A,children:e.jsx(ce,{})})]})})):""})]}),c.lists==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsxs("div",{className:"form-input small",children:[e.jsx("label",{children:"Buscar lista... (Solo obtendras las listas con contactos)"}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"search",onKeyUp:Me,onKeyDown:fe,placeholder:"Buscar"}),e.jsx("button",{onClick:A=>{l("/contacts/lists/add")},children:"Crear "})]})]}),e.jsxs("div",{className:"search-result",children:[p.lists.map((A,Q)=>e.jsx("div",{className:"result",children:e.jsxs("div",{className:"info",children:[e.jsx("p",{children:A.name}),e.jsxs("span",{children:["Contactos: ",A.contacts]}),e.jsx("span",{children:"Agregado: 05/05/2022"}),e.jsx("button",{className:"select",onClick:De,value:A.id_list,children:e.jsx(L,{icon:"tabler:upload"})})]})},Q)),u.lists?e.jsx(we,{}):u.lists==!1&&p.lists.length==0?e.jsx(ge,{name:"listas"}):""]})]})}):e.jsx("div",{className:"right",children:e.jsx("button",{onClick:A=>{Ve("lists")},children:"Editar"})})]})}),((n==null?void 0:n.type_c)=="em"||(n==null?void 0:n.type_c)=="em-mt")&&e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${n!=null&&n.id_domain?"active":""} `,children:[e.jsx("div",{className:"check",children:e.jsx(Ae,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Remitente"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),c.domain==!0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsx("div",{className:"search-result",children:de==null?void 0:de.map((A,Q)=>e.jsx("div",{className:"result",children:e.jsxs("div",{className:"info",children:[e.jsx("p",{children:A.domain}),e.jsxs("span",{children:["Correo: ",A.domain_email]}),e.jsx("button",{className:"select",onClick:Ye,value:A.id_domain,children:e.jsx($a,{})})]})},54))})})}):e.jsx("div",{className:"right",children:e.jsx("button",{onClick:A=>{Ve("domain"),Y()},children:"Editar"})})]})}),(n==null?void 0:n.type_c)=="em"?e.jsx(e.Fragment,{children:e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${n!=null&&n.affair?"active":""} `,children:[e.jsx("div",{className:"check",children:e.jsx(Ae,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Asunto"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),c.affair==!0?e.jsx(e.Fragment,{children:e.jsx(Ws,{Preview:!1,Send:!1,onSave:is,defaultValue:n==null?void 0:n.affair,onChange:A=>{v({...f,affair:A})}})}):e.jsx("div",{className:"right",children:e.jsx("button",{onClick:A=>{Ve("affair")},children:"Editar"})})]})})}):"",e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${n!=null&&n.template?"active":""} `,children:[e.jsx("div",{className:"check",children:e.jsx(Ae,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Plantilla"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),c.body==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[(n==null?void 0:n.type_c)=="em"?e.jsx(e.Fragment,{children:t!=null&&t.name?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"upload-fast",children:[e.jsx("p",{children:t.name}),e.jsx("span",{children:"Actualiza tu plantilla"}),e.jsxs("div",{className:"actions",children:[e.jsxs("button",{onClick:A=>{_s()},children:[e.jsx(L,{icon:"material-symbols:preview"})," Previsualizar"]}),e.jsxs("button",{onClick:Qe,className:`delete ${x!=null&&x.updateHtml?"await":""}`,children:[e.jsx(L,{icon:"akar-icons:trash"})," Eliminar ",e.jsx("div",{className:"loading"})]}),e.jsxs("button",{className:` ${x!=null&&x.updateHtml?"await":""}`,onClick:Na,children:[e.jsx(L,{icon:"fluent:document-multiple-sync-20-regular"})," Actualizar ",e.jsx("div",{className:"loading"})]})]})]})}):e.jsxs(e.Fragment,{children:[e.jsx("input",{onChange:fa,type:"file",name:"body_file",accept:".html",hidden:!0}),n!=null&&n.template?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"preview-template",children:[e.jsx("p",{children:(Ds=n==null?void 0:n.template)==null?void 0:Ds.title}),e.jsxs("span",{children:["Plantilla creada:  ",he((Ps=n==null?void 0:n.template)==null?void 0:Ps.time_add)]}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("img",{src:Cs((qs=i==null?void 0:i.company)==null?void 0:qs.folder_sftp,(Ts=n==null?void 0:n.template)==null?void 0:Ts.preview_image),alt:""}),(Rs=n==null?void 0:n.template)!=null&&Rs.json?e.jsx(B,{to:`/ editor / canvas / ${(Ls=n==null?void 0:n.template)==null?void 0:Ls.id_template}?campaign=`+s.id,children:"Editar plantilla"}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:ie,className:"action",children:[e.jsx(L,{icon:"material-symbols:upload"})," Actualizar HTML"]}),e.jsxs("button",{className:"action preview",onClick:A=>{var Q,V;ae(gi((Q=n==null?void 0:n.template)==null?void 0:Q.html)),_s(),console.log((V=n==null?void 0:n.template)==null?void 0:V.html)},children:[e.jsx(L,{icon:"fluent:document-multiple-sync-20-regular"})," Previsualizar ",e.jsx("div",{className:"loading"})]})]})]})}):e.jsxs(e.Fragment,{children:[e.jsx(B,{to:"/editor/canvas/?campaign="+s.id,children:"Crear una plantilla"}),e.jsx("br",{}),e.jsxs("button",{onClick:ie,className:"action",children:[e.jsx(L,{icon:"material-symbols:upload"})," Subir Html"]})]})]})}):"",(n==null?void 0:n.type_c)=="sms"?e.jsx(e.Fragment,{children:c.body==!0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsx("div",{className:"form-input flex",children:e.jsx(Ws,{value:S,onChange:R,onSave:Z})})})}):""}):""]})}):"",c.body==!1?e.jsx("div",{className:"right",children:e.jsx("button",{onClick:A=>{Ve("body")},children:"Editar"})}):""]})})]})]})}function ct({Visible:s,Close:i,Callback:l,loadLists:t}){const{UserInfo:d}=a.useContext(X),[r,c]=a.useState(0),[m,p]=a.useState([Te()]),[o,u]=a.useState({type:"",name:""});U();function j(x){x.stopPropagation(),x.preventDefault();let g=$(x.target);g.parents(".options").find(".active").removeClass("active"),g.addClass("active");let f=g.attr("value");u(v=>({...v,type:f}))}function n(x){var v;let g=!1,f=$(x.target);if((r===0&&o.type=="em"||o.type=="sms")&&(g=!0),r==1&&o.type!==""&&o.name!==""){f.addClass("await");let E=new FormData;E.append("name",o.name),E.append("type_c",o.type),E.append("id_company",(v=d==null?void 0:d.company)==null?void 0:v.id_company),P.post(D+"/api/upload/list",E,{withCredentials:!0}).then(T=>T.data).then(T=>{T.status&&(i(!1),l(!0),t()),f.removeClass("await")}).catch(T=>{f.removeClass("await")})}g&&c(E=>E+1)}function h(x){let g=x.target.name,f=x.target.value;u(v=>({...v,[g]:f}))}return a.useEffect(()=>{$(".case.active").removeClass("active"),$(".case").eq(r).addClass("active")},[r]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[r>0?e.jsxs("button",{className:"return",onClick:x=>{c(g=>g-1)},children:[e.jsx(Ge,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:x=>{i(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear una nueva lista"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de lista que te gustaría crear"})]}),e.jsxs("div",{className:"options flex",id:`options-${m[0]}`,children:[e.jsxs("div",{className:"selector",onClick:j,value:"em",children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"LISTA DE EMAIL"}),e.jsx("span",{children:"La lista de email es una herramienta que te permite administrar tus contactos de manera eficiente. Aquí podrás subir tus contactos para realizar envíos de correo electrónico de forma conveniente y efectiva."})]})]}),e.jsxs("div",{className:"selector",onClick:j,value:"sms",children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"LISTA TELEFONICA"}),e.jsx("span",{children:"Una lista de números es una herramienta que te permite gestionar y organizar de manera efectiva tus contactos telefónicos. Con ella, podrás enviar mensajes de texto rápidos y confiables a cualquier número, sin importar el país."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar Lista"}),e.jsx("span",{className:"desc",children:"Asignale un nombre a tu nueva lista."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de lista"}),e.jsx("input",{type:"text",name:"name",onChange:h,placeholder:"Nombre"})]})})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:"next",onClick:n,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function rt({functions:s}){let{setSelectMultiple:i,selects:l,resetSelection:t,selectMultiple:d}=s;const r=U();function c(){l.length?r("/contacts/upload/"+JSON.stringify(l)):le.error("No has seleccionado ninguna lista")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top gl",children:[d?e.jsxs(e.Fragment,{children:[e.jsxs("button",{children:["Seleccionando (",l==null?void 0:l.length,")"]}),e.jsx("button",{onClick:c,children:"Subir Contactos"}),e.jsx("button",{onClick:t,children:"Cancelar"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:m=>{i(!0)},children:"Seleccionar Multiple"}),e.jsx("button",{onClick:m=>{r("/contacts/lists/email")},children:"Listas Email"}),e.jsx("button",{onClick:m=>{r("/contacts/lists/sms")},children:"Listas Mensajeria"}),e.jsx("button",{onClick:m=>{r("/contacts/lists/whatsapp")},children:"Listas Whatsapp"})]}),e.jsxs("div",{className:"search",children:[e.jsx("i",{children:e.jsx(za,{})}),e.jsx("input",{type:"text",placeholder:"Buscar..."})]})]})})}function ja({type:s,lists:i}){const[l,t]=a.useState(!1),[d,r]=a.useState([]),[c,m]=a.useState(!1),p=U(),o=j=>{r(n=>n.includes(j)?n.filter(h=>h!==j):[...n,j])},u=()=>{r([]),t(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(rt,{functions:{resetSelection:u,selects:d,selectMultiple:l,setSelectMultiple:t}}),e.jsx(Re,{visible:c,callback:m}),e.jsx("div",{className:"row",children:i.map((j,n)=>e.jsx("div",{className:"col-md-3 page-lists",children:e.jsx("div",{className:"box box-padding",children:e.jsxs("div",{className:"item flex-wrap",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/lists.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",title:j.name,children:Ei(j.name,8)}),e.jsxs("span",{className:"desc",children:["Creado el: ",he(j.time_add)]}),e.jsx("br",{}),e.jsx("button",{onClick:h=>{p("/contacts/upload/"+j.id_list)},className:"upload",children:e.jsx(_e,{icon:"mdi:upload"})}),l&&e.jsx("input",{type:"checkbox",onChange:()=>o(j.id_list),checked:d.includes(j.id_list)})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{className:"blue",onClick:h=>{p("/contacts/detail/"+j.id_list)},children:e.jsx(Oe,{})}),e.jsx("button",{className:"red",onClick:h=>{m(!0)},children:e.jsx(ce,{})})]})]})})},n))})]})}function hs(){const[s,i]=a.useState(),[l,t]=a.useState([]),[d,r]=a.useState(!1),{UserInfo:c}=a.useContext(X),m=oe(),p=U(),o=$e();function u(n){n&&i(!1)}function j(){var h;let n=new FormData;n.append("id_company",(h=c==null?void 0:c.company)==null?void 0:h.id_company),n.append("type",m==null?void 0:m.type),r(!0),t([]),P.post(D+"/api/get/list",n,{withCredentials:!0}).then(x=>x.data).then(x=>{t(x),r(!1)})}return a.useEffect(()=>{j(),o.pathname=="/contacts/lists/add"&&i(!0)},[m==null?void 0:m.type]),e.jsxs(e.Fragment,{children:[e.jsx(ct,{Visible:s,Close:i,Callback:u,loadLists:j}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Listas"}),e.jsx("span",{children:"Estas son tus listas de contactos, puedes subir contactos rapidamente creando una lista y seleccionando tu archivo csv"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:n=>{i(!0)},children:"Crear nueva lista"})})]}),m.type==null?e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsx("div",{className:"box select-list",children:e.jsxs("div",{className:"top",children:[e.jsx("img",{src:"/img/icons/email_list.png",alt:""}),e.jsx("span",{children:"Listas Correos"}),e.jsx("button",{onClick:n=>{p("/contacts/lists/em")},children:"Ir"})]})})}),e.jsx("div",{className:"col-md-3",children:e.jsx("div",{className:"box select-list",children:e.jsxs("div",{className:"top",children:[e.jsx("img",{src:"/img/icons/message_list.png",alt:""}),e.jsx("span",{children:"Listas Telefonicas"}),e.jsx("button",{onClick:n=>{p("/contacts/lists/sms")},children:"Ir"})]})})})]}):e.jsx(ja,{lists:l,type:m==null?void 0:m.type})]})}function dt({Status:s}){return e.jsx(e.Fragment,{children:s=="wait"?e.jsxs("span",{className:"wait-list",children:[e.jsx(Ba,{})," Subiendo..."]}):s=="ready"?e.jsxs("span",{className:"ready-list",children:[e.jsx(ve,{}),"  Activa"]}):s=="error"?e.jsxs("span",{className:"error-list",children:[e.jsx(Va,{})," Error"]}):e.jsxs("span",{className:"setting-list",children:[e.jsx(ea,{})," En espera..."]})})}function ot(){const{UserInfo:s}=a.useContext(X),i=oe(),[l,t]=a.useState({}),d=U();return a.useState(!1),a.useState(!0),a.useEffect(()=>{var c;let r=new FormData;r.append("id_list",i.id),r.append("id_company",(c=s==null?void 0:s.company)==null?void 0:c.id_company),P.post(D+"/api/get/list",r,{withCredentials:!0}).then(m=>m.data).then(m=>{t(m)})},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles de lista"}),e.jsx("span",{children:"Ve los detalle de tus listas y ve si estan listas para ser utilizadas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:bs,children:e.jsx(Je,{})})})]}),e.jsx("div",{className:"menu-top-right",children:e.jsx("button",{className:"programming",onClick:r=>{d("/contacts/lists/logs/"+i.id)},children:"Logs"})}),e.jsxs("div",{className:"box steps",children:[e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:l.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Contactos"}),e.jsx("span",{children:l.contacts})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Tipo"}),e.jsx("span",{children:l.type})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Estatus"}),e.jsx(dt,{Status:l.status})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(Le,{})}),e.jsx("button",{onClick:r=>{d("/contacts/upload/"+i.id)},children:e.jsx(Fe,{})}),e.jsx("button",{children:e.jsx(ce,{})})]})]}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"check active",children:e.jsx(Ae,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Crear Lista"}),e.jsx("span",{className:"desc approve",children:e.jsx("span",{className:"ready-list",children:"Completado !"})})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"check active",children:e.jsx(Ae,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Elegir Tipo"}),e.jsx("span",{className:"desc approve",children:e.jsx("span",{className:"ready-list",children:"Completado !"})})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:`check ${l.contacts>0?"active":""}`,children:e.jsx(Ae,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Subir Contactos"}),e.jsx("span",{className:"desc",children:l.contacts==0?e.jsx("span",{className:"wait-list",children:"Pendiente"}):e.jsx("span",{className:"ready-list",children:"Completado !"})})]}),e.jsx("div",{className:"right",children:e.jsx("button",{onClick:r=>{d("/contacts/upload/"+i.id)},children:"Subir"})})]})})]})]})}function mt({update:s}){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"form",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre"}),e.jsx("input",{type:"text",onChange:s,name:"name",placeholder:"Ej: Pablito"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Apellido"}),e.jsx("input",{type:"text",onChange:s,name:"lastname",placeholder:"Ej: Montana"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo"}),e.jsx("input",{type:"text",onChange:s,name:"email",placeholder:"Ej: pablitomontana@gmail.com"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Telefono"}),e.jsx("input",{type:"text",onChange:s,name:"phone",placeholder:"Ej: +58412000000"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Documento Identidad"}),e.jsx("input",{type:"text",onChange:s,name:"dni",placeholder:"Ej: 29000000"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Sexo"}),e.jsxs("select",{onChange:s,name:"sex",id:"",children:[e.jsx("option",{value:"",children:"Seleccionar Sexo"}),e.jsx("option",{value:"M",children:"Masculino"}),e.jsx("option",{value:"F",children:"Femenino"}),e.jsx("option",{value:"O",children:"Otros"})]})]})}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Pais"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{onChange:s,type:"text",name:"country",placeholder:"Ej: Venezuela"})})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Estado"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{onChange:s,type:"text",name:"state",placeholder:"Ej: Miranda"})})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Ciudad"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{onChange:s,type:"text",name:"city",placeholder:"Ej: Miranda"})})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Direccion"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{onChange:s,type:"text",name:"direction",placeholder:"Ej: Miranda"})})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Cumpleaños"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{onChange:s,type:"date",name:"birthday",placeholder:"Ej: Miranda"})})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Ocupacion"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{onChange:s,type:"text",name:"occupation",placeholder:"Ej: Abogado"})})]})]})})})}function pt({Visible:s,Close:i,Callback:l}){var I;const{UserInfo:t}=a.useContext(X),[d,r]=a.useState(0),[c,m]=a.useState([Te()]),[p,o]=a.useState({type:"",file:{}}),u={analize:!1,percentAnalize:"0",approve:!1},[j,n]=a.useState(u),[h,x]=a.useState([]),[g,f]=a.useState(!1),[v,E]=a.useState(!1),[T,F]=a.useState({});let b=$("input[type='file']");const w=U(),C=oe();function y(q){let z=q.target.name,O=q.target.value;F({...T,[z]:O})}function k(q){q.stopPropagation(),q.preventDefault();let z=$(q.target);z.parents(".options").find(".active").removeClass("active"),z.addClass("active");let O=z.attr("value");o(ae=>({...ae,type:O}))}function N(q){var O;let z=!1;switch($(q.target),(d===0&&p.type=="auto"||p.type=="manu")&&(z=!0),p.type){case"auto":d==1&&((O=p==null?void 0:p.file)==null?void 0:O.name)!==void 0&&se();break;case"manu":if(d==1)if(g)if(T.email||T.phone)if(T.name){const ae=h.some(te=>te.email!==void 0&&te.email===T.email);h.some(te=>te.phone===T.phone),ae?(M.error("Ya este contacto existe"),z=!1):(r(1),f(!1),z=!1,x(te=>{let G=[...te];return G.push(T),G}))}else M.error("Opps el contacto debe de contar con un nombre"),z=!1;else M.error("Opps no tienes ningun elemento de contacto agendado"),z=!1;else z=!1,_();break}z&&r(ae=>ae+1)}a.useEffect(()=>{$(".case.active").removeClass("active"),$(".case").eq(d).addClass("active")},[d]);function _(){var z;let q=new FormData;q.append("id_company",(z=t==null?void 0:t.company)==null?void 0:z.id_company),q.append("contacts",JSON.stringify(h)),q.append("id_list",C.id),P.post(D+"/api/upload/contactsWeb",q,{withCredentials:!0}).then(O=>O.data).then(O=>{O.status&&(M.success("Contactos subidos"),w("/contacts/detail/"+C.id))})}function S(){document.querySelector("input[type='file']").click()}function R(q){n(z=>({...z,percentAnalize:q}))}function W(q){n(z=>({...z,analize:!0})),Ci(q,R).then(z=>{z.analize=="good"&&(n(O=>({...O,approve:!0})),o(O=>({...O,file:z.file})))}).catch(z=>{de(),M.error("Opps! el archivo que intentastes subir no es compatible o tiene algun error."),n(O=>({...O,analize:!1,percentAnalize:0}))})}function se(){var z;E(!0);let q=new FormData;q.append("id_list",C.id),q.append("contacts",p.file),q.append("id_company",(z=t==null?void 0:t.company)==null?void 0:z.id_company),P.post(D+"/api/upload/contacts",q,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}).then(O=>O.data).then(O=>{E(!1),O.status?w("/contacts/detail/"+C.id):M.error(O.msg)}).catch(O=>{E(!1)})}function de(){o(q=>({...q,file:{}})),n(u),b.val("")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[d>0?e.jsxs("button",{className:"return",onClick:q=>{r(z=>z-1)},children:[e.jsx(Ge,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:q=>{w("/contacts/detail/"+C.id)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Subir nuevos contactos"}),e.jsx("span",{className:"desc",children:"Selecciona de que manera quieres subir los contactos"})]}),e.jsxs("div",{className:"options flex",id:`options-${c[0]}`,children:[e.jsxs("div",{className:"selector",onClick:k,value:"manu",children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"SUBIR MANUALMENTE"}),e.jsx("span",{children:"Agrega tus contactos de forma rápida y sencilla, uno por uno, rellenando los campos de manera dinámica. Con solo unos pocos clics, podrás tener tus contactos listos para comunicarte con ellos de manera personalizada."})]})]}),e.jsxs("div",{className:"selector",onClick:k,value:"auto",children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"SUBIR MEDIANTE ARCHIVO"}),e.jsx("span",{children:"Importa tus contactos de manera rápida y eficiente mediante un archivo. Solo necesitas preparar un archivo en formato (.csv o .txt) con los detalles de tus contactos y nuestro sistema se encargará de procesarlo y añadirlos a tu lista en un instante."})]})]})]})]}),p.type=="manu"&&e.jsx(e.Fragment,{children:g==!1?e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Contactos Manuales"}),e.jsx("span",{className:"desc",children:"Crea tu contacto manualmente"})]}),e.jsx("div",{className:"contacts",children:e.jsxs("div",{className:"row",children:[h.map((q,z)=>e.jsx("div",{className:"col-md-4",children:e.jsx("div",{className:"box box-padding stat",onClick:O=>{f(!0)},children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:q.email||q.phone}),e.jsx("span",{children:q.name}),e.jsx("button",{className:"add-button",style:{fontSize:"40px",color:"var(--bs-danger)"},children:e.jsx(_e,{icon:"ph:trash-light"})})]})})})),h.length==0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"box box-padding stat",onClick:q=>{f(!0)},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"No hay contactos!"}),e.jsx("span",{children:"Crea uno rapidamente"})]}),e.jsx("button",{className:"add-button",children:e.jsx(_e,{icon:"solar:add-circle-line-duotone"})})]})})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"box box-padding stat",onClick:q=>{f(!0)},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Agregar Contacto"}),e.jsx("span",{children:"Crea uno nuevo"})]}),e.jsx("button",{className:"add-button",children:e.jsx(_e,{icon:"solar:add-circle-line-duotone"})})]})})})]})})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"case",children:[e.jsx("div",{className:"top",children:e.jsx("p",{className:"title",children:"Crear Contacto"})}),e.jsx(mt,{update:y})]})})}),p.type=="auto"&&e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Subir Archivo"}),e.jsx("span",{className:"desc",children:"Sube tu archivo rapidamente para procesarlo en tu lista de contactos."})]}),e.jsxs(e.Fragment,{children:[j.approve==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"file-adjunt",children:[e.jsx("i",{className:"icon",children:e.jsx(Qa,{})}),e.jsxs("div",{className:"file",children:[e.jsx("p",{children:(I=p==null?void 0:p.file)==null?void 0:I.name}),e.jsxs("div",{className:"info",children:[e.jsxs("span",{children:["Tipo de archivo: ",p.file.type]}),e.jsxs("span",{children:["Peso: ",p.file.size," kb"]})]}),e.jsx("button",{className:"delete",onClick:de,children:e.jsx(ce,{})})]})]})}):e.jsxs("div",{className:"upload-contact",children:[e.jsx("input",{type:"file",accept:".csv,.txt",onChange:W,hidden:!0}),j.analize==!0?e.jsx(e.Fragment,{children:e.jsxs("p",{children:["Estamos analizando tu archivo... ",j.percentAnalize,"%"]})}):e.jsx("center",{children:e.jsxs("div",{className:"select-upload",onClick:S,children:[e.jsx("i",{className:"icon",children:e.jsx(Wa,{})}),e.jsx("p",{children:"Selecciona tu archivo de contactos"})]})})]}),e.jsxs("div",{className:"box box-stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{style:{fontSize:"18px",marginBottom:"0px"},className:"title",children:"Descarga un archivo de pruebas"}),e.jsx("span",{className:"desc",children:"descarga desde aqui un archivo de pruebas para saber como funciona nuestro sistema."})]}),e.jsx("div",{className:"actions",children:e.jsx(B,{to:"/TestUploadContacts.csv",target:"_blank",children:e.jsxs("button",{className:"download-file",children:["Descargar ",e.jsx(_e,{icon:"solar:file-download-linear"})]})})})]})]})]}),e.jsx("div",{className:"actions center",children:e.jsxs("button",{className:`next ${v==!0?"await":""}`,onClick:N,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function ht(){return e.jsx(e.Fragment,{children:e.jsx(pt,{Visible:!0})})}function Hs(){const[s,i]=a.useState(!0),[l,t]=a.useState(!1),[d,r]=a.useState({save:!1,campaign:!1}),[c,m]=a.useState({results:[],loadingTemplate:!1}),[p,o]=a.useState(!1),[u,j]=a.useState({}),[n,h]=a.useState(""),[x,g]=a.useState(!1),{UserInfo:f}=a.useContext(X),v=oe(),[E,T]=a.useState();let F=["Cargando editor...","Nos tardaremos un poco","Que tal tu dia?","Vamos! con mucha imaginacion.","Ahora es un buen momento!","Un poco mas...","Ya casi!","Había una vez!"];const b=U();function w(q,z){var O=document.createElement("script");O.src=q,O.onload=z,document.head.appendChild(O)}a.useEffect(()=>{t(!0),l&&(w("//editor.unlayer.com/embed.js",function(q){}),w("/draganddrop/dist/js/body.js",function(q){setTimeout(()=>{i(!1)},3500)}))},[l]);function C(){unlayer.exportHtml(async function(q){var z;if(n==""||n==null)M.error("Opps debes definir un titulo primero"),o(!0);else{k("save",!0);let O=new FormData,ae=await N().then(te=>te);O.append("preview",ae),O.append("title",n),O.append("html",q.html),O.append("json",JSON.stringify(q.design)),O.append("id_company",(z=f==null?void 0:f.company)==null?void 0:z.id_company),O.append("type","email"),v.id&&O.append("id_template",v.id),P.post(D+"/api/upload/bodycampaign",O,{withCredentials:!0}).then(te=>te.data).then(te=>{te.status&&v.id==null&&b(`/editor/canvas/${te.id_body}`),k("save",!1)}).catch(te=>{k("save",!1)})}})}function y(){t(!0),$("#editor").html(""),b("/editor/canvas")}function k(q,z){r(O=>({...O,[q]:z}))}async function N(){return new Promise((q,z)=>{let O=document.querySelector(".preview-template");try{unlayer.exportHtml(ae=>{O.innerHTML=ae.html,O.innerHTML&&Ns(O,{allowTaint:!1,useCORS:!0}).then(te=>{let G=te.toDataURL("image/png");q(G)})})}catch(ae){z(ae)}})}function _(){var z;let q=new FormData;q.append("id_company",(z=f==null?void 0:f.company)==null?void 0:z.id_company),P.post(D+"/api/get/templatesall",q,{withCredentials:!0}).then(O=>O.data).then(O=>{m(ae=>({...ae,results:O}))}).catch(O=>{})}function S(){g(!0)}function R(q){var O;let z=new FormData;z.append("id_company",(O=f==null?void 0:f.company)==null?void 0:O.id_company),z.append("id_campaign",q),P.post(D+"/api/get/campaign",z,{withCredentials:!0}).then(ae=>ae.data).then(ae=>{ae&&j(ae)})}a.useEffect(()=>{let z=new URLSearchParams(window.location.search).get("campaign");z&&R(z),_();let O=0;T(F[0]),setInterval(()=>{let ae=F.length;O=O+1,T(F[O-1]),O>=ae&&(O=0)},4500)},[]),a.useEffect(()=>{var q;if(v.id){let z=new FormData;i(!0),z.append("id_template",v.id),z.append("id_company",(q=f==null?void 0:f.company)==null?void 0:q.id_company),P.post(D+"/api/get/templatejson",z,{withCredentials:!0}).then(O=>O.data).then(O=>{i(!1),O.json?unlayer.loadDesign(JSON.parse(O.json)):M.error("Error al cargar la template")}).catch(O=>{i(!1)})}},[v==null?void 0:v.id]);function W(q){h(q.target.value)}function se(q){b(`/editor/canvas/${q}${u!=null&&u.id_campaign?"?campaign="+u.id_campaign:""}`)}function de(){var z;k("campaign",!0);let q=new FormData;q.append("id_campaign",u.id_campaign),q.append("id_company",(z=f==null?void 0:f.company)==null?void 0:z.id_company),q.append("id_template",v.id),P.post(D+"/api/update/settemplate",q,{withCredentials:!0}).then(O=>O.data).then(O=>{k("campaign",!1),O.status&&(M.success(O.msg),j(ae=>({...ae,id_template:v.id})))}).catch(O=>{k("campaign",!1)})}function I(){var z;let q=new FormData;q.append("id_campaign",u.id_campaign),q.append("id_company",(z=f==null?void 0:f.company)==null?void 0:z.id_company),j(O=>({...O,id_template:""})),P.post(D+"/api/delete/settemplate",q,{withCredentials:!0}).then(O=>O.data).then(O=>{})}return e.jsxs(e.Fragment,{children:[s?e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:[E," ",e.jsx("div",{className:"loading"})]})]})})}):"",e.jsxs(re,{visible:p,onClick:q=>{o(!1)},next:"Asignar",callback:o,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Elige un titulo"})}),e.jsx("br",{}),e.jsx("div",{className:"content",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Esto te ayudara a identificar tu plantilla"}),e.jsx("input",{type:"text",placeholder:"Titulo de template",onChange:W})]})}),e.jsx("br",{})]}),e.jsxs(re,{visible:x,minWidth:"50%",buttonSave:!1,maxWidth:"150px",callback:g,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Mis Plantillas"})}),e.jsx("br",{}),e.jsxs("div",{className:"content row",children:[c.results.map((q,z)=>{var O;return e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"template",onClick:ae=>{se(q.id_template)},children:[e.jsx("p",{children:q.title}),e.jsxs("span",{children:["Agregada: ",he(q.time_add)]}),e.jsx("img",{src:Cs((O=f==null?void 0:f.company)==null?void 0:O.folder_sftp,q.preview_image)})]})},z)}),c.loadingTemplate==!1&&c.results.length==0?e.jsx(ge,{name:"plantillas"}):""]})]}),e.jsxs("div",{className:"editor-canvas",children:[e.jsx("header",{children:e.jsx("link",{href:"/draganddrop/dist/css/style.css",rel:"stylesheet",type:"text/css"})}),e.jsxs("div",{className:"topnav1",children:[e.jsxs("div",{className:"buttons",children:[e.jsxs("button",{style:{background:"transparent"},onClick:bs,children:[e.jsx(Je,{})," Volver"]}),u.name?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"campaign",children:[e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""}),e.jsx("p",{children:u==null?void 0:u.name}),e.jsx("span",{children:"Campaña seleccionada"})]}),u.id_template!==v.id?e.jsxs("button",{className:`${d.campaign==!0?"await":""}`,onClick:de,children:[e.jsx(Ha,{})," Usar Plantilla",e.jsx("div",{className:"loading"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"use",children:"Utilizando plantilla"}),e.jsx("button",{onClick:I,children:e.jsx(ce,{})})]})]}):""]}),e.jsxs("div",{className:"buttons right",children:[e.jsxs("button",{className:`${d.save==!0?"await":""}`,onClick:C,children:[v.id?e.jsxs(e.Fragment,{children:[e.jsx(He,{})," Editar"]}):e.jsxs(e.Fragment,{children:[" ",e.jsx(Ia,{})," Guardar"]}),e.jsx("div",{className:"loading"})]}),e.jsxs("button",{onClick:S,children:[e.jsx(Fe,{})," Cargar plantilla"]}),e.jsxs("button",{onClick:y,children:[e.jsx(Ga,{})," Nuevo"]}),e.jsx("button",{onClick:S,children:e.jsx(Ja,{})})]})]}),e.jsx("div",{className:"preview-template"}),e.jsx("div",{id:"editor"})]})]})}function xt(){const s=U(),[i,l]=a.useState([]),[t,d]=a.useState(!0),[r,c]=a.useState({id_delete:void 0,pending:!1}),[m,p]=a.useState(!1);$e();const{UserInfo:o}=a.useContext(X);function u(){var h;d(!0);let n=new FormData;n.append("id_company",(h=o==null?void 0:o.company)==null?void 0:h.id_company),P.post(D+"/api/get/surveys",n,{withCredentials:!0}).then(x=>x.data).then(x=>{l(x),d(!1)}).catch(x=>{d(!1),M.error(String(x))})}a.useEffect(()=>{t&&u()},[]);function j(){var h;c(x=>({...x,pending:!0}));let n=new FormData;n.append("id_company",(h=o==null?void 0:o.company)==null?void 0:h.id_company),n.append("id_survey",r.id_delete),P.post(D+"/api/delete/survey",n,{withCredentials:!0}).then(x=>x.data).then(x=>{p(!1),x.status&&u(),c(g=>({...g,pending:!1}))}).catch(x=>{c(g=>({...g,pending:!1}))})}return e.jsxs(e.Fragment,{children:[e.jsx(Re,{visible:m,Pending:r.pending,onClick:j,callback:p}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis encuestas"}),e.jsx("span",{children:"Gestiona tus encuestas rapidamente y optimiza tus estrategias"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:n=>{s("/surveys/editor")},children:"Crear nueva encuesta"})})]}),e.jsxs("div",{className:"row",children:[t==!1?i.map((n,h)=>{var x;return e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${D}/api/get/previewsurvey?miniature=${n.miniature})`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{onClick:g=>{p(!0),c(f=>({...f,id_delete:n.id_survey}))},children:e.jsx(ce,{})}),e.jsx("button",{onClick:g=>{s("/surveys/editor/"+n.id_survey)},children:e.jsx(He,{})}),e.jsx("button",{onClick:g=>{s(`/stats/survey/${n.id_survey}`)},children:e.jsx(Le,{})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:(x=n==null?void 0:n.header)==null?void 0:x.title}),e.jsxs("span",{children:["Encuesta agregada el: ",he(n.time_add)]})]})]})},h)}):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(we,{})})}),t==!1&&i.length==0?e.jsx(ge,{name:"encuestas"}):""]})]})}function ut({header:s,value:i,keyid:l,setModalImage:t,page:d,setEdit:r,setJson:c}){var h;function m(x,g,f){p(f),r({type:x,key:g,page:d})}function p(x){let g=$(x.target).parents(".question");$(".question.active").removeClass("active"),g.addClass("active")}function o(x){let g=x.target.value;c(f=>{let v=[...f];return v[d].quests[l].type=g,v})}function u(x){p(x),x.stopPropagation(),r({});let g=!0;c(f=>{const v=[...f];return g&&(v[d].quests[l].questions.push({}),g=!1),v})}function j(x,g){x.stopPropagation();let f=!0;c(v=>{var T;let E=[...v];if(f&&(T=E[d])!=null&&T.quests[l]){let F=[];E[d].quests[l].questions.forEach((b,w)=>{w!==g?F.push(b):f=!1}),E[d].quests[l].questions=F}return E})}function n(x){x.stopPropagation();let g=!0;c(f=>{let v=[...f],E=[];return v[d].quests.forEach((T,F)=>{F!==l&&E.push(T)}),g&&(v[d].quests=E,g=!1),v})}return $(document).on("click",".options button",function(x){x.stopImmediatePropagation(),$(".edit-active").removeClass("edit-active"),$(this).parents(".options").parents(".quest").addClass("edit-active")}),$(document).on("click",".top p, .top span",function(x){x.stopImmediatePropagation(),$(".edit-active").removeClass("edit-active"),$(this).addClass("edit-active")}),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"question edit",colorBox:s.colorBox,style:{borderRadius:s.borderRadius+"px"},children:[e.jsx("button",{className:"delete-question",onClick:x=>{n(x),r({})},children:e.jsx(ce,{})}),e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",onClick:x=>{m("title",l,x)},children:i!=null&&i.title?i.title:"Elige un titulo..."}),e.jsx("span",{onClick:x=>{m("desc",l,x)},children:i!=null&&i.desc?i.desc:"Elige una descripcion... (opcional)"})]}),i!=null&&i.img?e.jsx("img",{className:"img-quest",src:i.img}):"",e.jsxs("div",{className:"select-types",children:[e.jsx("button",{onClick:u,className:"add-quest",children:"Agregar pregunta"}),e.jsx("button",{onClick:x=>{t(!0),r({key:l,type:"add-image",page:d})},children:e.jsx(Xa,{})}),e.jsxs("select",{onChange:o,children:[e.jsx("option",{value:"input",children:"Respuesta corta"}),e.jsx("option",{value:"input-large",children:"Respuesta larga"}),e.jsx("option",{value:"radio",children:"Opcion multiple"}),e.jsx("option",{value:"check",children:"Casillas de verificacion"})]})]}),(h=i==null?void 0:i.questions)==null?void 0:h.map((x,g)=>e.jsxs("div",{className:"quest",children:[i.type=="input"?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",disabled:!0,placeholder:`${x.title?x.title:"Elige una descripcion"}`}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:f=>{j(f,g)},children:e.jsx(ce,{})}),e.jsx("button",{onClick:f=>{r({key:l,type:"title-quest",quest_key:g,page:d})},children:e.jsx(He,{})})]})]}):"",i.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:l})," ",e.jsx("span",{children:x.title?x.title:"Elige una descripcion..."}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:f=>{j(f,g)},children:e.jsx(ce,{})}),e.jsx("button",{onClick:f=>{r({key:l,type:"title-quest",quest_key:g,page:d})},children:e.jsx(He,{})})]})]}):"",i.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:l})," ",e.jsx("span",{children:x.title?x.title:"Elige una descripcion..."}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:f=>{j(f,g)},children:e.jsx(ce,{})}),e.jsx("button",{onClick:f=>{r({key:l,type:"title-quest",quest_key:g,page:d})},children:e.jsx(He,{})})]})]}):"",i.type=="input-large"?e.jsxs(e.Fragment,{children:[e.jsx("textarea",{type:"checkbox",name:l,placeholder:x.title,style:{width:"100%"}}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:f=>{j(f,g)},children:e.jsx(ce,{})}),e.jsx("button",{onClick:f=>{r({key:l,type:"title-quest",quest_key:g,page:d})},children:e.jsx(He,{})})]})]}):""]},g))]})})}function jt({json:s=[],header:i={},setJson:l,setEdit:t,edit:d}){var T,F;const[r,c]=a.useState(!1),[m,p]=a.useState(!1);a.useState([]);const[o,u]=a.useState("email"),[j,n]=a.useState({width:"",left:""});U();function h(){l(b=>[...b,{quests:[{title:"",desc:"",type:"radio",questions:[]}]}])}function x(b){let w=!0;l(C=>{var N;let y=[...C],k=(N=y[b])==null?void 0:N.quests;return w&&(y[b].quests=[...k,{title:"",desc:"",type:"radio",img:"",questions:[]}],w=!1),y})}function g(b){l(w=>{let C=[...w],y=[];return C.forEach((k,N)=>{N!==b&&y.push(k)}),C=y,C})}function f(){let b=document.querySelector("#image-edit").value;l(w=>{let C=[...w];return C[d.page].quests[d.key].img=b,C}),c(!1)}function v(){window.localStorage.setItem("surveyPreview",JSON.stringify(s)),window.localStorage.setItem("surveyPreviewHead",JSON.stringify(i)),window.open("/surveys/preview","_blank")}function E(b){let w=b.target.value;u(w),n(C=>({...C,width:b.target.offsetWidth,left:b.target.offsetLeft}))}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{onClick:v,children:[e.jsx(Oe,{})," Previsualizar"]}),e.jsxs("button",{onClick:b=>{p(!0)},children:[e.jsx(ss,{})," Enviar"]})]})}),e.jsxs(re,{visible:m,minWidth:"35%",callback:p,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enviar"}),e.jsx("span",{children:"Tienes distintas opciones para enviar esta encuesta"})]}),i.short_link==null?e.jsx("span",{className:"alert-save",children:"Opps! aun no puedes usar esta funcion no has guardado la encuesta."}):"",e.jsx("div",{className:"menu-change",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("span",{children:"Enviar por"})}),e.jsx("li",{children:e.jsx("button",{className:`${o=="email"?"active":""}`,onClick:E,value:"email",children:e.jsx(Ka,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${o=="link"?"active":""}`,onClick:E,value:"link",children:e.jsx(Ya,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${o=="embed"?"active":""}`,onClick:E,value:"embed",children:e.jsx(Za,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${o=="settings"?"active":""}`,onClick:E,value:"settings",children:e.jsx(ea,{})})}),e.jsx("div",{className:"hover",style:{left:j.left+"px",width:j.width+"px"}})]})}),e.jsxs("div",{className:`result-menu ${i.short_link==null?"disabled":""} ${o=="email"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo electronico"}),e.jsx("input",{type:"text",placeholder:"contactos"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Asunto"}),e.jsx("input",{type:"text",placeholder:"informacion de contacto"})]})]}),e.jsxs("div",{className:`result-menu ${i.short_link==null?"disabled":""} ${o=="link"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Enlace"}),e.jsx("input",{type:"text",placeholder:"contactos",value:`${ds}/survey/${i.token}`,disabled:!0})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Enlace Corto"}),e.jsx("input",{type:"text",placeholder:"url corta",value:i.short_link,disabled:!0})]})]}),e.jsx("div",{className:`result-menu ${i.short_link==null?"disabled":""} ${o=="embed"?"show":""}`,children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Incorporar HTML"}),e.jsx("input",{type:"text",placeholder:"contactos"})]})}),e.jsxs("div",{className:`result-menu ${i.short_link==null?"disabled":""} ${o=="settings"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Condicion de respuesta "}),e.jsxs("select",{name:"",id:"",children:[e.jsx("option",{value:"",children:"Responder varias veces"}),e.jsx("option",{value:"",children:"Responder solo una vez"})]})]}),e.jsx("div",{className:"form-input"})]})]}),e.jsxs(re,{visible:r,callback:c,onClick:f,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Url de imagen"}),e.jsx("span",{children:"Ingresa la url de la imagen que quieres integrar en tu pregunta"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",id:"image-edit",placeholder:"https://image.com/image.png"})})]}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${i.blur}px)brightness(${i.brightness})`,background:i.background2}}),e.jsxs("div",{className:"survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(T=i==null?void 0:i.logo)!=null&&T.length?e.jsx("img",{className:"logo",src:i==null?void 0:i.logo}):"",(F=i==null?void 0:i.title)!=null&&F.length?e.jsx("p",{className:"",children:i.title}):""]})}),s==null?void 0:s.map((b,w)=>{var C;return e.jsxs("div",{className:"page",children:[e.jsxs("div",{className:"info-page",children:[e.jsxs("p",{children:["Pagina ",w+1]}),e.jsx("button",{className:"delete",onClick:y=>{g(w)},children:e.jsx(ce,{})})]}),(C=b.quests)==null?void 0:C.map((y,k)=>e.jsx(ut,{header:i,setModalImage:c,value:y,page:w,keyid:k,setEdit:t,setJson:l},k)),e.jsxs("button",{className:"add-new",onClick:y=>{x(w)},children:[e.jsx(Ke,{})," Nueva pregunta"]})]},w)}),e.jsxs("div",{className:"add-new",onClick:h,children:[e.jsx(Ke,{})," Nueva pagina"]})]})]})}function gt({setHeader:s,header:i,json:l}){const[t,d]=a.useState(!1),{UserInfo:r}=a.useContext(X);a.useState();function c(p){let o=p.target.value,u=p.target.name;u=="background"&&(o.indexOf("http")>=0||o.indexOf("www")>=0)&&(o=`url(${o})`),s(j=>({...j,[u]:o}))}async function m(){var o;let p=new FormData;if(i.id_survey&&p.append("id_survey",i.id_survey),p.append("header",JSON.stringify(i)),p.append("id_company",(o=r==null?void 0:r.company)==null?void 0:o.id_company),p.append("json",JSON.stringify(l)),i.title)if(l.length>=1){let u=await new Promise((j,n)=>{Ns(document.querySelector(".center"),{allowTaint:!1,useCORS:!0}).then(h=>{let x=h.toDataURL("image/png");j(x)})});u&&p.append("miniature",u.replace("data:image/png;base64,","")),d(!0),P.post(D+"/api/upload/survey",p,{withCredentials:!0}).then(j=>j.data).then(j=>{j.status&&(j.id_survey&&(i.id_survey||s(n=>({...n,id_survey:j.id_survey}))),j.token&&s(n=>({...n,token:j.token})),j.short_link&&s(n=>({...n,short_link:j.short_link}))),d(!1)}).catch(j=>{d(!1)})}else M.error("Opps no has agregado una pregunta.");else M.error("Opps no has elegido un titulo")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar encuesta"}),e.jsx("span",{children:"Personaliza tu encuesta, imagen, fondo, titulo y logo."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Titulo"}),e.jsx("input",{type:"text",onChange:c,defaultValue:i.title,name:"title",placeholder:"Ej: Encuesta de fidelidad"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Ingresa url de tu logo"}),e.jsx("input",{type:"text",onChange:c,defaultValue:i.logo,name:"logo"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",onChange:c,defaultValue:i.background,name:"background"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",defaultValue:0,step:"0.1",max:"10",value:i.blur,onChange:c,name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",defaultValue:1,step:"0.0",max:"1",value:i.brightness,onChange:c,name:"brightness"})]}),e.jsx("br",{}),e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar Cajas"}),e.jsx("span",{children:"Personaliza de tu manera preferida tus cajas."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border Radius"}),e.jsx("input",{type:"range",defaultValue:.1,step:"0.1",max:"20",onChange:c,name:"borderRadius"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{onClick:p=>{c(p)},name:"colorBox",value:"ligth",children:"Modo Claro"}),e.jsx("button",{onClick:p=>{c(p)},name:"colorBox",value:"dark",children:"Modo Oscuro"}),e.jsx("button",{onClick:p=>{c(p)},name:"colorBox",value:"transparent",children:"Transparente"})]})]}),e.jsx("div",{className:"option",children:e.jsxs("button",{className:`save ${t?"await":""}`,onClick:m,children:["Guardar ",e.jsx("div",{className:"loading"})]})})]})}function vt({value:s,page:i,setJson:l,keyid:t}){function d(r){let c=r.target.value;l(m=>{const p=[...m];return p[i].quests[t].title=c,p[i].quests[t].response=0,p})}return a.useEffect(()=>{s!=null&&s.title&&(document.querySelector("#title-edit").value=s.title)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo de pregunta"}),e.jsx("input",{id:"title-edit",onChange:d,type:"text",placeholder:"Ej: Como te llamas?"})]})})})}function ft({page:s,value:i,setJson:l,keyid:t}){function d(r){let c=r.target.value;l(m=>{const p=[...m];return p[s].quests[t].desc=c,p})}return a.useEffect(()=>{i!=null&&i.desc&&(document.querySelector("#title-edit").value=i.desc)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descripcion de pregunta"}),e.jsx("input",{id:"title-edit",onChange:d,type:"text",placeholder:"Ej: Tu nombre es importante por que..."})]})})})}function Nt({quest_key:s,page:i,value:l,setJson:t,keyid:d}){function r(c){c.stopPropagation();let m=c.target.value;t(p=>{let o=[...p];return o[i].quests[d].questions[s].title=m,o})}return a.useEffect(()=>{},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo de pregunta"}),e.jsx("input",{id:"title-edit",onChange:r,type:"text",placeholder:"Ej: Como te llamas?"})]})})})}function yt({edit:s,json:i,setJson:l}){var t;return e.jsxs(e.Fragment,{children:[s.type=="title"?e.jsx(vt,{page:s.page,value:i[s.key],setJson:l,keyid:s.key},s.key):"",s.type=="desc"?e.jsx(ft,{page:s.page,value:i[s.key],setJson:l,keyid:s.key},s.key):"",s.type=="title-quest"?e.jsx(Nt,{page:s.page,quest_key:s.quest_key,value:(t=i[s.page].quests[s.key])==null?void 0:t.questions[s.quest_key],setJson:l,keyid:s.key},s.key):""]})}function Is(){const[s,i]=a.useState({title:"",logo:"",background:"",blur:"0.5",brightness:""}),[l,t]=a.useState([]),[d,r]=a.useState({type:"",key:"",quest_key:"",page:""}),{UserInfo:c}=a.useContext(X),m=oe(),[p,o]=a.useState(!0);function u(){var n;o(!0);let j=new FormData;j.append("id_survey",m.idsurvey),j.append("id_company",(n=c==null?void 0:c.company)==null?void 0:n.id_company),P.post(D+"/api/get/surveys",j,{withCredentials:!0}).then(h=>h.data).then(h=>{o(!1),h.header&&i(JSON.parse(h.header)),h.json&&t(JSON.parse(h.json))}).catch(h=>{o(!1),M.error(String(h))})}return a.useEffect(()=>{m.idsurvey?u():setTimeout(()=>{o(!1)},1e3)},[]),e.jsxs(e.Fragment,{children:[p?e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:["Cargando... ",e.jsx("div",{className:"loading"})]})]})}):"",e.jsx("div",{className:"editor-surveys",children:e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:"left",children:e.jsx(gt,{setHeader:i,header:s,json:l})}),e.jsx("div",{className:"center",style:{background:s.background},children:e.jsx(jt,{json:l,header:s,edit:d,setJson:t,setEdit:r})}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"type-editor",children:e.jsx(yt,{edit:d,setJson:t,json:l,header:s})})})]})})]})}function Gs(){var u,j,n,h;const[s,i]=a.useState([]),[l,t]=a.useState(0),[d,r]=a.useState({}),[c,m]=a.useState(0);a.useEffect(()=>{i(JSON.parse(window.localStorage.getItem("surveyPreview"))),r(JSON.parse(window.localStorage.getItem("surveyPreviewHead")))},[]),a.useEffect(()=>{s.length&&t(s.length)},[s]);function p(){m(x=>x+1)}function o(){m(x=>x-1)}return e.jsxs("div",{className:"survey real",colorBox:d==null?void 0:d.colorBox,style:{background:d==null?void 0:d.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${d.blur}px)brightness(${d.brightness})`}}),e.jsxs("div",{className:"margin-survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(u=d==null?void 0:d.logo)!=null&&u.length?e.jsx("img",{className:"logo",src:d==null?void 0:d.logo}):"",(j=d==null?void 0:d.title)!=null&&j.length?e.jsx("p",{className:"",children:d.title}):""]})}),(h=(n=s[c])==null?void 0:n.quests)==null?void 0:h.map((x,g)=>{var f;return e.jsxs("div",{className:"question",style:{borderRadius:(d==null?void 0:d.borderRadius)+"px"},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:x.title}),e.jsx("span",{children:x.desc})]}),x!=null&&x.img?e.jsx("img",{className:"img-quest",src:x.img}):"",(f=x==null?void 0:x.questions)==null?void 0:f.map((v,E)=>e.jsxs("div",{className:"quest",children:[x.type=="input"?e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",disabled:!0,placeholder:`${v.title}`})}):"",x.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:0})," ",e.jsx("span",{children:v.title})]}):"",x.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:0})," ",e.jsx("span",{children:v.title})]}):"",x.type=="input-large"?e.jsx(e.Fragment,{children:e.jsx("textarea",{name:0,placeholder:v.title,style:{width:"100%"}})}):""]},E))]},g)}),e.jsx("div",{className:"buttons-bottom",children:c==l-1?e.jsxs(e.Fragment,{children:[c?e.jsx("button",{onClick:o,children:"Volver"}):"",e.jsx("button",{children:"Terminar"})]}):c<l-1?e.jsxs(e.Fragment,{children:[c?e.jsx("button",{onClick:o,children:"Volver"}):"",e.jsx("button",{onClick:p,children:"Siguiente"})]}):""})]})]})}function bt(){var g,f;const s=oe(),[i,l]=a.useState([]),[t,d]=a.useState(!0),[r,c]=a.useState([]),[m,p]=a.useState(),[o,u]=a.useState(0);function j(){let v=new FormData;v.append("key",s.id),P.post(D+"/api/get/survey",v,{withCredentials:!0}).then(E=>E.data).then(E=>{d(!1),l(E)}).catch(E=>{d(!1)})}function n(v){v.preventDefault(),u(E=>E+1)}function h(v){v.preventDefault(),u(E=>E-1)}a.useEffect(()=>{s.id&&t==!0&&j()},[]),a.useEffect(()=>{i.header&&(p(JSON==null?void 0:JSON.parse(i==null?void 0:i.header)),c(JSON.parse(i.json)))},[i]);function x(v){v.preventDefault();let E=document.querySelector("#form"),T=new FormData(E);T.append("key",s.id),P.post(D+"/api/upload/responseSurvey",T,{withCredentials:!0})}return e.jsx(e.Fragment,{children:t?e.jsx("div",{className:"app",children:e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:["Cargando encuesta... ",e.jsx("div",{className:"loading"})]})]})})}):e.jsxs("div",{className:"survey real",colorBox:m==null?void 0:m.colorBox,style:{background:m==null?void 0:m.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${m==null?void 0:m.blur}px)brightness(${m==null?void 0:m.brightness})`}}),e.jsxs("div",{className:"margin-survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(g=m==null?void 0:m.logo)!=null&&g.length?e.jsx("img",{className:"logo",src:m==null?void 0:m.logo}):"",(f=m==null?void 0:m.title)!=null&&f.length?e.jsx("p",{className:"",children:m.title}):""]})}),e.jsx("form",{method:"POST",encType:"multipart/form-data",id:"form",children:r.map((v,E)=>{var T;return e.jsx("div",{className:`page ${E==o?"active":""}`,children:(T=v==null?void 0:v.quests)==null?void 0:T.map((F,b)=>{var w;return e.jsxs("div",{className:"question",style:{borderRadius:(m==null?void 0:m.borderRadius)+"px"},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:F.title}),e.jsx("span",{children:F.desc})]}),F!=null&&F.img?e.jsx("img",{className:"img-quest",src:F.img}):"",(w=F==null?void 0:F.questions)==null?void 0:w.map((C,y)=>e.jsxs("div",{className:"quest",children:[F.type=="input"?e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",name:`${E}-${b}-${y}`,placeholder:`${C.title}`})}):"",F.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:`${E}-${b}`,value:C.title})," ",e.jsx("span",{children:C.title})]}):"",F.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:`${E}-${b}-${y}`})," ",e.jsx("span",{children:C.title})]}):"",F.type=="input-large"?e.jsx(e.Fragment,{children:e.jsx("textarea",{name:`${E}-${b}-${y}`,placeholder:C.title,style:{width:"100%"}})}):""]},y))]},b)})})})}),e.jsx("div",{className:"buttons-bottom",children:o==r.length-1?e.jsxs(e.Fragment,{children:[o?e.jsx("button",{onClick:h,children:"Volver"}):"",e.jsxs("button",{onClick:x,className:"pending",children:["Terminar ",e.jsx("div",{className:"loading"})]})]}):e.jsxs(e.Fragment,{children:[o?e.jsx("button",{onClick:h,children:"Volver"}):"",e.jsx("button",{onClick:n,children:"Siguiente"})]})})]})]})})}function ks(){const s=oe();return e.jsx(e.Fragment,{children:e.jsx("div",{className:"menu-top",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:`/stats/survey/${s.id}`,children:"Estadisticas"})}),e.jsx("li",{children:e.jsx(B,{to:`/stats/survey/${s.id}/detail`,children:"Detalles de respuestas"})}),e.jsx("li",{children:e.jsx(B,{to:`/stats/survey/${s.id}/response`,children:"Respuestas"})})]})})})}function Ct(){const{UserInfo:s}=a.useContext(X),[i,l]=a.useState(!1);a.useState({});const[t,d]=a.useState([]),[r,c]=a.useState([]),[m,p]=a.useState([]),[o,u]=a.useState({}),[j,n]=a.useState({options:{chart:{id:"basic-bar"},xaxis:{categories:[]}},series:[{name:"series-1",data:[]}]}),h=oe();function x(){var f;let g=new FormData;g.append("id_company",(f=s==null?void 0:s.company)==null?void 0:f.id_company),g.append("id_survey",h.id),P.post(D+"/api/get/statsurvey",g,{withCredentials:!0}).then(v=>v.data).then(v=>{c(v.days),u(v),p(v.daysResponse),d(v.countrys)})}return a.useEffect(()=>{x(),l(!0)},[i]),a.useEffect(()=>{n(g=>({...g,options:{...g.options,xaxis:{categories:r}},series:[{name:"serie 1",data:m}]}))},[m]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Encuesta: ",h.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu encuesta"})]})}),e.jsx(ks,{}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Respuestas este mes"})}),e.jsx(Ie,{options:j.options,series:j.series,type:"area",height:300})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Preguntas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:o==null?void 0:o.totalQuestions})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Paginas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:o==null?void 0:o.pageTotal})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Respuestas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:o.totalResponse})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Visitas"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"100"})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{className:"title",children:"Tops Paises"})}),e.jsx("div",{className:"result countryr",children:t.map((g,f)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:pa(g.country),alt:""}),e.jsx("p",{className:"",children:g.country==""?"Undefined":ha(String(g.country).toLocaleLowerCase())}),e.jsxs("span",{children:["(",g.amount,")"]})]},f))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding",children:e.jsx("div",{className:"top",children:e.jsx("p",{className:"title",children:"Tops Respuestas"})})})})]})})]})}function wt(){const s=oe(),i=U(),{UserInfo:l}=a.useContext(X),[t,d]=a.useState([]),[r,c]=a.useState(!1),[m,p]=a.useState({series:[{name:"Respuestas",data:[]}],chart:{type:"area",height:350,stacked:!0},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:[]}}),[o,u]=a.useState({series:[],theme:{palette:"palette3"},labels:[],chart:{type:"donut"}}),j=()=>{let x=new FormData;x.append("key",s.id),P.post(D+"/api/get/survey",x,{withCredentials:!0}).then(g=>g.data).then(g=>{d(JSON.parse(g.json)),n(g)})};function n(x){let g=JSON.parse(x.json),f=[],v=[],E=[],T=[];g.map((F,b)=>{F.quests.map((w,C)=>{w.type=="radio"&&w.questions.map((y,k)=>{f.push(`${y.title} (${b+1})`),v.push(y.response),E.push(`${w.title} - ${y.title}`),T.push(y.response),p(N=>({...N,xaxis:{...N,categories:f}})),p(N=>(N.series=[{name:"Respuesta",data:v}],N)),u(N=>(N.labels=E,N.series=T,N))})})})}function h(x){var f;let g=new FormData;g.append("id_company",(f=l==null?void 0:l.company)==null?void 0:f.id_company),g.append("id_survey",s.id),g.append("case",x),P.post(D+"/api/get/downloadsurvey",g,{withCredentials:!0}).then(v=>v.data).then(v=>{})}return a.useEffect(()=>{j()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"modal-map",style:{display:r?"block":"none"},children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Mapa completo"}),e.jsx("span",{children:"Puedes ver el mapa completamente de las respuestas de los usuarios."}),e.jsx("button",{className:"close",onClick:x=>{c(!1)},children:e.jsx(es,{})})]}),e.jsx("div",{className:"map-suv complete",children:t==null?void 0:t.map((x,g)=>e.jsxs("div",{className:"pg",children:[e.jsx("div",{className:"info",children:e.jsxs("p",{children:["Pagina ",g+1]})}),e.jsx("div",{className:"separate"}),x.quests.map((f,v)=>e.jsxs("div",{className:"quests",children:[e.jsx("div",{className:"info",children:e.jsx("p",{children:f.title})}),e.jsx("div",{className:"separate"}),e.jsx("div",{className:"questions-type",children:f.questions.map((E,T)=>e.jsxs("div",{className:"question",children:[e.jsx("div",{className:"separate quest"}),e.jsxs("span",{className:"value",children:[E.title,f.type=="radio"?e.jsxs(e.Fragment,{children:[" (",E.response,") "]}):""]})]}))})]},v))]}))})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles De Encuesta "}),e.jsx("span",{children:"Estas son los detalles de las respuestas"})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"go-wizard",children:"Descargar (CSV)"}),e.jsx("button",{className:"go-wizard",onClick:x=>{h("json")},children:"Descargar (JSON)"}),e.jsx("button",{className:"go-wizard",onClick:x=>{i(`/stats/survey/${s.id}/response`)},children:"Respuestas"})]})]}),e.jsx(ks,{}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Estadisticas de respuestas"}),e.jsx("span",{children:"Estadisticas de las respuestas, veras cuantas veces respondieron a algo."})]}),e.jsx(Ie,{options:m,series:m.series,type:"bar",height:300})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top ",children:[e.jsx("p",{children:"Porcentaje de respuesta"}),e.jsx("span",{children:"Este es el porcentaje de respuesta por cada pregunta."})]}),o.labels.length?e.jsx(Ie,{options:o,series:o.series,type:"donut",height:300}):""]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top ",children:[e.jsx("p",{children:"Mapa de encuesta"}),e.jsx("span",{children:"Este es mapa de tu encuesta, donde veras un mapa sobre la encuesta ejecutada."})]}),e.jsx("div",{className:"map-suv maxheight",children:t==null?void 0:t.map((x,g)=>e.jsxs("div",{className:"pg",children:[e.jsx("div",{className:"info",children:e.jsxs("p",{children:["Pagina ",g+1]})}),e.jsx("div",{className:"separate"}),x.quests.map((f,v)=>e.jsxs("div",{className:"quests",children:[e.jsx("div",{className:"info",children:e.jsx("p",{children:f.title})}),e.jsx("div",{className:"separate"}),e.jsx("div",{className:"questions-type",children:f.questions.map((E,T)=>e.jsxs("div",{className:"question",children:[e.jsx("div",{className:"separate quest"}),e.jsxs("span",{className:"value",children:[E.title,f.type=="radio"?e.jsxs(e.Fragment,{children:[" (",E.response,") "]}):""]})]}))})]},v))]}))}),e.jsx("button",{className:"action-complete",onClick:x=>{c(!0)},children:"Ver mapa completo"})]})})]})]})}function kt(){let s=oe();const[i,l]=a.useState([]),[t,d]=a.useState([]),[r,c]=a.useState(!1),{UserInfo:m}=a.useContext(X);function p(){var u;let o=new FormData;o.append("id_survey",s.id),o.append("id_company",(u=m==null?void 0:m.company)==null?void 0:u.id_company),P.post(D+"/api/get/responsesurvey",o,{withCredentials:!0}).then(j=>j.data).then(j=>{j.length&&(l(j),j.forEach((n,h)=>{d(x=>[...x,JSON.parse(n.json_response)])}))})}return a.useEffect(()=>{c(!0),r&&p()},[r]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Respuestas"}),e.jsx("span",{children:"Ver todas las respuestas hechas en tu encuesta"})]}),e.jsx("div",{className:"right"})]}),e.jsx(ks,{}),e.jsx("div",{className:"row",children:t.map((o,u)=>e.jsx("div",{className:"col-6",children:e.jsx("div",{className:"box box-padding",children:e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"top",children:e.jsx("div",{className:"top",children:e.jsxs("p",{children:["Respuesta #",u+1]})})}),e.jsx("div",{className:"response",children:Object.entries(o).map(([j,n])=>e.jsx("div",{children:e.jsxs("span",{children:[j,": ",n]})},j))})]})})},u))})]})}function Js(){const s=U(),[i,l]=a.useState([]),[t,d]=a.useState(!0),{UserInfo:r}=a.useContext(X),[c,m]=a.useState(!1),[p,o]=a.useState(!1),[u,j]=a.useState({url:""}),n=$e();a.useEffect(()=>{qe("/add")&&o(!0)},[n]);function h(g=!1){var v;let f=new FormData;f.append("id_company",(v=r==null?void 0:r.company)==null?void 0:v.id_company),d(!0),g||l([]),P.post(D+"/api/get/myurls",f,{withCredentials:!0}).then(E=>E.data).then(E=>{d(!1),l(E)})}function x(){var f;let g=new FormData;g.append("url",u.url),g.append("id_company",(f=r==null?void 0:r.company)==null?void 0:f.id_company),m(!0),P.post(D+"/api/upload/shortlink",g,{withCredentials:!0}).then(v=>v.data).then(v=>{m(!1),v.status&&(h(),o(!1))}).catch(v=>{m(!1)})}return a.useEffect(()=>{h()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(re,{visible:p,onClick:x,callback:o,Pending:c,next:"Crear",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nuevo enlace"}),e.jsx("span",{children:"Crea tu nuevo enlace rapidamente con esta herramienta"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"url",placeholder:"Enlace",onChange:g=>{j({url:g.target.value})}})})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus urls "}),e.jsx("span",{children:"Estas son tus urls cortas que has creado donde podras llevar las estadisticas de cada una."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:g=>{o(!0)},children:"Crear nueva URL"})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[i.map((g,f)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:"URL CORTA"}),e.jsxs("span",{className:"desc",children:[ds,"/",g.token]}),e.jsx("br",{}),e.jsxs("span",{className:"desc",children:[ds,"/",g.token]})]})]}),e.jsxs("div",{children:[e.jsx("p",{children:"URL"}),e.jsx("span",{children:g.real_link})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:v=>{s("")},children:e.jsx(ce,{})}),e.jsxs("button",{onClick:v=>{s("/shorturls/"+g.id_shortlink)},children:[e.jsx(be,{})," "]})]})]},f)),t==!0?e.jsx(we,{}):t==!1&&i.length==0?e.jsx(ge,{name:"urls"}):""]})})})]})}function St(){var g,f;const s=oe(),{UserInfo:i}=a.useContext(X),[l,t]=a.useState([]);a.useState([]);const[d,r]=a.useState(),[c,m]=a.useState([]),[p,o]=a.useState(0),u=a.useRef(null),[j,n]=a.useState({series:[{name:"Respuestas",data:[]}],chart:{type:"area",height:350,stacked:!0},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:[]}}),h=new ys({width:600,height:600,image:"/img/icons/iconsvg.png",dotsOptions:{color:"gradient",type:"extra-rounded",gradient:{colorStops:[{offset:0,color:"#000"},{offset:1,color:"#000"}]}},imageOptions:{crossOrigin:"anonymous",margin:20}});function x(v){var T;let E=new FormData;E.append("id_company",(T=i==null?void 0:i.company)==null?void 0:T.id_company),E.append("month",v.month),E.append("year",v.year),E.append("id_shortlink",s.id),P.post(D+"/api/get/statshortlink",E,{withCredentials:!0}).then(F=>F.data).then(F=>{t(F.countrys),m(F.devices),o(F.total),n(b=>(b.series[0].data=F.dayResponse,b.xaxis.categories=F.days,b)),r(F.token)})}return a.useEffect(()=>{x({month:new Date().getMonth()+1})},[]),a.useEffect(()=>{d&&(h.append(u.current),h.update({data:ds+"/"+d+"?qr=true"}))},[d]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Detalle de enlace: ",s.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu enlace corto"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:"",children:"Volver"})})]}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Clicks este mes"}),e.jsx("span",{children:"Aca podras evaluar los clicks hecho por el mes actual y anteriores."})]}),(f=(g=j==null?void 0:j.series[0])==null?void 0:g.data)!=null&&f.length?e.jsx(Ie,{options:j,series:j.series,type:"area",height:300}):""]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Visitas"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:p})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"QR Code"})}),e.jsx("div",{className:"resp-number",children:e.jsx("div",{className:"qr-code",children:e.jsx("div",{ref:u})})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Tops Paises"}),e.jsx("span",{children:"Tops de los paises que mas visitaron el enlace"})]}),e.jsx("div",{className:"result countryr",children:l.map((v,E)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:pa(v.country),alt:""}),e.jsx("p",{className:"",children:v.country==""?"Undefined":ha(v.country)}),e.jsxs("span",{children:["(",v.count,")"]})]},E))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Tops Os"}),e.jsx("span",{children:"Top de los sistemas operativos mas usado por los usuarios"})]}),e.jsx("div",{className:"result countryr",children:c.map((v,E)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:wi(v.device),alt:""}),e.jsx("p",{className:"",children:v.device}),e.jsxs("span",{children:["(",v.count,")"]})]},E))})]})})]})})]})}function Xs(){const[s,i]=a.useState(),l=U(),[t,d]=a.useState(!1),[r,c]=a.useState([]),[m,p]=a.useState(!1),[o,u]=a.useState({name:""}),{UserInfo:j}=a.useContext(X),n=$e();a.useEffect(()=>{qe("/add")&&d(!0)},[n]);function h(){var f;let g=new FormData;g.append("id_company",(f=j==null?void 0:j.company)==null?void 0:f.id_company),i(!0),P.post(D+"/api/get/shortlinkcampaigns",g,{withCredentials:!0}).then(v=>v.data).then(v=>{i(!1),c(v)}).catch(v=>{i(!1)})}function x(){var f;const g=new FormData;p(!0),g.append("name",o.name),g.append("id_company",(f=j==null?void 0:j.company)==null?void 0:f.id_company),P.post(D+"/api/upload/shortlinkcampaign",g,{withCredentials:!0}).then(v=>v.data).then(v=>{p(!1),v.status&&(h(),d(!1))}).catch(v=>{p(!1)})}return a.useEffect(()=>{h()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(re,{visible:t,onClick:x,callback:d,maxWidth:"250px",Pending:m,next:"Agregar",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nueva campaña"}),e.jsx("span",{children:"Crea tu nueva campaña rapidamente para analizar tus multiples enlaces"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de campaña",name:"name",onChange:g=>{u({...o,name:g.target.value})}})})]},t),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Campañas"}),e.jsx("span",{children:"Aca puedes visualizar o crear campañas para enlaces multiples sobre una campaña"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:g=>{d(!0)},children:"Crear nueva campaña"})})]}),e.jsx("div",{className:"body-stats",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[r.map((g,f)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:g.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(ce,{})}),e.jsx("button",{onClick:v=>{l("/shorturls/campaigns/"+g.id_campaign)},children:e.jsx(Le,{})})]})]})),s?e.jsx(we,{}):r.length==0?e.jsx(ge,{name:"campañas"}):""]})})})})]})}function _t(){var F,b;const s=oe(),[i,l]=a.useState(!1),[t,d]=a.useState(!1),{UserInfo:r}=a.useContext(X),[c,m]=a.useState(!0),[p,o]=a.useState(!1),[u,j]=a.useState({});let n={url:"",app:"others"};const[h,x]=a.useState(n),[g,f]=a.useState({series:[{name:"Funnel Series",data:[]}],chart:{type:"bar",height:350},plotOptions:{bar:{borderRadius:0,horizontal:!0,distributed:!0,barHeight:"80%",isFunnel:!0}},dataLabels:{enabled:!0,formatter:function(w,C){return C.w.globals.labels[C.dataPointIndex]+":  "+w}},colors:["#F44F5E","#E55A89","#D863B1","#CA6CD8","#B57BED","#8D95EB","#62ACEA","#4BC3E6"],xaxis:{categories:[]},legend:{show:!0}});function v(w){w.stopPropagation(),x({...h,[w.target.name]:w.target.value})}function E(){var C;let w=new FormData;m(!0),j({}),w.append("id_company",(C=r==null?void 0:r.company)==null?void 0:C.id_company),w.append("id_campaign",s.id),P.post(D+"/api/get/shortlinkcampaign",w,{withCredentials:!0}).then(y=>y.data).then(y=>{var S,R;m(!1),j(y);const k=[];let N=[],_=0;(S=y==null?void 0:y.stats)==null||S.forEach((W,se)=>{_=_+W.count}),(R=y==null?void 0:y.stats)==null||R.forEach((W,se)=>{k.push(W.count),N.push(Si(W.app)+" ("+(W.count*100/_).toFixed(0)+"%)")}),f(W=>{const se={...W};return se.series[0].data=k,se.xaxis.categories=N,se})}).catch(y=>{})}function T(){var C;d(!0);let w=new FormData;w.append("id_company",(C=r==null?void 0:r.company)==null?void 0:C.id_company),w.append("id_campaign",s==null?void 0:s.id),w.append("url",h.url),w.append("app",h.app),P.post(D+"/api/upload/shortlink",w,{withCredentials:!0}).then(y=>y.data).then(y=>{d(!1),y.status&&(l(!1),E()),y.msg&&M.error(y.msg)}).catch(y=>{d(!1)})}return a.useEffect(()=>{p||(f(w=>{const C={...w};return C.series[0].data=[],C.xaxis.categories=[],C}),E())},[p]),e.jsxs(e.Fragment,{children:[e.jsxs(re,{next:"Agregar",visible:i,callback:l,onClick:T,Pending:t,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nuevo enlace"}),e.jsx("span",{children:"Agrega un nuevo enlace a tu campana"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"URL destino",onChange:v,name:"url"})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"app",id:"",onChange:v,children:[e.jsx("option",{value:"",children:"Selecciona la aplicacion"}),e.jsx("option",{value:"fb",children:"Facebook"}),e.jsx("option",{value:"in",children:"Instagram"}),e.jsx("option",{value:"x",children:"X (Twitter)"}),e.jsx("option",{value:"email",children:"Correo"}),e.jsx("option",{value:"sms",children:"Sms"}),e.jsx("option",{value:"tik",children:"Tiktok"}),e.jsx("option",{value:"linkd",children:"Linkedin"}),e.jsx("option",{value:"yt",children:"Youtube"}),e.jsx("option",{value:"tele",children:"Telegram"}),e.jsx("option",{value:"ws",children:"Whatsapp"}),e.jsx("option",{value:"others",children:"Otros"})]})})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Campaña de enlace: ",s.id]}),e.jsx("span",{children:"Agrega nuevos enlaces para tu campana general de urls"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{onClick:w=>{l(!0)},className:"add",children:"Agregar nuevo enlace"})})]}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Clicks este mes"}),e.jsx("span",{children:"Aca podras evaluar los clicks hecho por el mes actual y anteriores."})]}),c==!1?e.jsx(Ie,{options:g,series:g.series,type:"bar",height:300}):""]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[(F=u==null?void 0:u.links)==null?void 0:F.map((w,C)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_link.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:w.real_link}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"title",children:"App"}),e.jsx("span",{children:e.jsx("img",{className:"icon-app",src:ki(w.app),alt:""})})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{children:e.jsx(Le,{})})})]},C)),c?e.jsx(we,{}):((b=u==null?void 0:u.links)!=null&&b.length,"")]})})]})})]})}function Ss({Visible:s,Close:i,loadQrs:l=()=>{},callbackUrl:t=(d,r)=>{}}){const{UserInfo:d}=a.useContext(X);a.useRef(null);const[r,c]=a.useState(0),[m,p]=a.useState([Te()]),[o,u]=a.useState({type:""});a.useState({});const[j,n]=a.useState(!1),h=Te(),x=new ys({width:600,height:600,margin:0,qrOptions:{typeNumber:"0",mode:"Byte",errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,margin:10},dotsOptions:{type:"dots",color:"#000000"},backgroundOptions:{color:"#ffffff",gradient:null},image:"/img/icons/logo_color_1.png",dotsOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#6a1a4c",color2:"#6a1a4c",rotation:"0"}},cornersSquareOptions:{type:"extra-rounded",color:"#000000"},cornersSquareOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},cornersDotOptions:{type:"dot",color:"#000000"},cornersDotOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},backgroundOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#ffffff",color2:"#ffffff",rotation:"0"}}});function g(y){let k=y.target.files;k[0]&&(k[0].type.indexOf("/pdf")>=0||k[0].type.indexOf("imag")>=0?u({...o,file:k[0]}):(M.error("El archivo no es una imagen / pdf"),y.target.value=""))}let f={url:""};const[v,E]=a.useState(f);U();function T(y){y.stopPropagation(),y.preventDefault();let k=$(y.target);k.parents(".options").find(".active").removeClass("active"),k.addClass("active");let N=k.attr("value");u(_=>({..._,type:N}))}async function F(){return new Promise((y,k)=>{var _;let N=new FormData;N.append("id_company",(_=d==null?void 0:d.company)==null?void 0:_.id_company),N.append("file",o.file),P.post(D+"/api/upload/fileqr",N,{withCredentials:!0}).then(S=>S.data).then(S=>{y(S)}).catch(()=>{k({})}).finally(()=>{})})}async function b(y){let k=!1;if($(y.target),(r===0&&o.type=="qr-stand"||o.type=="qr-contact"||o.type=="qr-file")&&(k=!0),r===1){const N=document.querySelector(".qr-result");o.type=="qr-contact"?x.update({data:`BEGIN:VCARD
VERSION:3.0
`+(v.lname?"N:"+v.lname+";"+(v.fname||"")+`;;;
`:"")+(v.fname?"FN:"+v.fname+" "+(v.lname||"")+`
`:"")+(v.company?"ORG:"+v.company+`;
`:"")+(v.jobtitle?"TITLE:"+v.jobtitle+`
`:"")+(v.number?"TEL;type=CELL:"+v.number+`
`:"")+(v.officenum?"TEL;type=WORK:"+v.officenum+`
`:"")+(v.email?"EMAIL;type=INTERNET;type=WORK;type=pref:"+v.email+`
`:"")+(v.web?"URL:"+v.web+`
`:"")+(v.address1?"ADR;TYPE=work:;;"+v.address1+";"+(v.address2||"")+";"+(v.city||"")+";"+(v.province||"")+";"+(v.country||"")+";"+(v.pcode||"")+`
`:"")+"REV:"+new Date+`
END:VCARD`}):(o.type=="qr-stand"&&x.update({data:v.url}),o.type=="qr-file"&&(n(!0),await F().then(_=>{x.update({data:_.download})}).catch(_=>{M.error("Opps error al subir archivo")}).finally(()=>{n(!1)}))),N.innerHTML="",x.append(N),await x.getRawData().then(_=>{let S=new FileReader;S.onload=function(R){const W=R.target.result;u({...o,base64:W})},S.readAsDataURL(_)}),k=!0}if(r===2)if(v.name){let N=new FormData;n(!0),o.type=="qr-stand"?await new Promise((_,S)=>{var R;N.append("url",v.url),N.append("id_company",(R=d==null?void 0:d.company)==null?void 0:R.id_company),P.post(D+"/api/upload/shortlink",N,{withCredentials:!0}).then(W=>W.data).then(W=>{x.update({data:W.shortlink}),x.getRawData().then(se=>{let de=new FileReader;de.onload=function(I){const q=I.target.result;w(q,W.id_shortlink,v.url)},de.readAsDataURL(se)})})}):w(o.base64)}else k=!1,M.error("Opps no has elegido un nombre para tu qr");k&&c(N=>N+1)}function w(y,k=void 0,N){var S;let _=new FormData;_.append("formqr",JSON.stringify(v)),_.append("id_company",(S=d==null?void 0:d.company)==null?void 0:S.id_company),_.append("type",o.type),_.append("preview",y),_.append("dataQr",N),k&&_.append("id_concat",k),P.post(D+"/api/upload/qr",_,{withCredentials:!0}).then(R=>R.data).then(R=>{if(R.status){try{l(),t(v.name,R.img)}catch{}M.success("Has subido tu qr con exito")}i(!1),n(!1)}).catch(R=>{n(!1)})}function C(y){let k=y.target.name,N=y.target.value;E(_=>({..._,[k]:N}))}return a.useEffect(()=>{$(`#modal-${h} .case.active`).removeClass("active"),$(`#modal-${h} .case`).eq(r).addClass("active")},[r]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,id:`modal-${h}`,children:[e.jsxs("div",{className:"top-actions",children:[r>0?e.jsxs("button",{className:"return",onClick:y=>{c(k=>k-1)},children:[e.jsx(Ge,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:y=>{i(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case active",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear un nuevo QR individual"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de qr que quieres crear"})]}),e.jsxs("div",{className:"options ",id:`options-${m[0]}`,children:[e.jsxs("div",{className:"selector",style:{marginBottom:"10px"},onClick:T,value:"qr-stand",children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"QR Estandar"}),e.jsx("span",{children:"Qr Estandar es un qr basico donde podras almacenar enlaces de tus webs"})]})]}),e.jsxs("div",{className:"selector",style:{marginBottom:"10px"},onClick:T,value:"qr-contact",children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"QR Contacto"}),e.jsx("span",{children:"Qr Contacto, este es un qr donde podras escanearlo y almacenar un contacto con informacion importante"})]})]}),e.jsxs("div",{className:"selector",style:{marginBottom:"10px"},onClick:T,value:"qr-file",children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"QR Archivo"}),e.jsx("span",{children:"Qr Archivo, este es un qr donde podras guardar un archivo de tu preferencia"})]})]})]})]}),o.type=="qr-stand"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Enlace del qr"}),e.jsx("input",{type:"url",name:"url",onChange:C,placeholder:"Enlace"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre del qr"}),e.jsx("input",{type:"text",onChange:C,name:"name",placeholder:"Nombre para tu QR"})]})]})]})}),o.type=="qr-file"&&e.jsx("div",{className:"case",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Qr archivo"}),e.jsx("span",{className:"desc",children:"Sube tu archivo de tu preferencia para crear tu qr y luego utilizarlo en la nube"}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"file",onChange:g})}),e.jsx("br",{})]})}),o.type=="qr-contact"&&e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personaliza tu QR"}),e.jsx("span",{className:"desc",children:"Este es un QR de contacto para generar tu tarjeta de presentacion, puedes personalizarlo con tu informacion necesaria."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre del QR"}),e.jsx("input",{type:"text",onChange:C,name:"name",placeholder:"Nombre para tu QR"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre"}),e.jsx("input",{type:"text",name:"fname",onChange:C,placeholder:"ej: Roberto"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Apellido"}),e.jsx("input",{type:"text",name:"lname",onChange:C,placeholder:"ej: Martinez"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Empresa"}),e.jsx("input",{type:"text",name:"company",onChange:C,placeholder:"ej: Cocacola"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Cargo"}),e.jsx("input",{type:"text",name:"jobtitle",onChange:C,placeholder:"ej: Director"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Celular"}),e.jsx("input",{type:"text",name:"number",onChange:C,placeholder:"ej: +58412000000"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Numero de Oficina"}),e.jsx("input",{type:"text",name:"officenum",onChange:C,placeholder:"ej: (12)"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo Electronico"}),e.jsx("input",{type:"text",name:"email",onChange:C,placeholder:"ej: example@example.com"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Pagina Web"}),e.jsx("input",{type:"text",name:"web",onChange:C,placeholder:"ej: www.example.com"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Direccion"}),e.jsx("input",{type:"text",name:"address1",onChange:C,placeholder:"ej: Chicago, ST "})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Direccion del Trabajo"}),e.jsx("input",{type:"text",name:"address2",onChange:C,placeholder:"ej: Chicago ST, Down Ryder "})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Ciudad"}),e.jsx("input",{type:"text",name:"city",onChange:C,placeholder:"ej: Chicago"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Estado"}),e.jsx("input",{type:"text",name:"province",onChange:C,placeholder:"ej: Chicago"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Pais"}),e.jsx("input",{type:"text",name:"country",onChange:C,placeholder:"ej: Estados Unidos"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Codigo postal"}),e.jsx("input",{type:"text",name:"pcode",onChange:C,placeholder:"ej: (15306)"})]})})]})})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Previsualiza tu QR "}),e.jsx("span",{className:"desc",children:"Este es el QR que has creado, dale click para subirlo."})]}),e.jsx("div",{className:"qr-result",children:e.jsx("canvas",{})})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:`next ${j?"await":" "}`,onClick:b,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function Et({Close:s,callback:i}){const[l,t]=a.useState(!1),[d,r]=a.useState(null),[c,m]=a.useState(null);a.useEffect(()=>(setTimeout(()=>{t(!0)},2e3),()=>{d&&d.getTracks().forEach(o=>o.stop())}),[]);const p=()=>{if(c&&d instanceof MediaStream){const o=d.getVideoTracks()[0],u=document.createElement("video");u.srcObject=new MediaStream([o]),u.onloadedmetadata=()=>{c.getContext("2d").drawImage(u,0,0,c.width,c.height);const n=c.toDataURL("image/jpeg");i&&i(n)},u.play().catch(j=>console.error("Error reproduciendo video: ",j))}};return e.jsx(e.Fragment,{children:l&&e.jsxs("div",{className:"camera",children:[e.jsx("video",{style:{width:"100%",height:"auto"},ref:o=>{o&&!d&&navigator.mediaDevices.getUserMedia({video:!0}).then(u=>{o.srcObject=u,r(u)}).catch(u=>console.error("Error al acceder a la cámara: ",u))},autoPlay:!0,playsInline:!0}),e.jsx("canvas",{ref:o=>{o&&m(o)},style:{display:"none"},width:640,height:480}),e.jsx("button",{className:"capture",onClick:p})]})})}function ga({Visible:s,Close:i,Return:l=!0}){const{UserInfo:t}=a.useContext(X);a.useRef(null);const[d,r]=a.useState(0);a.useState([Te()]);const[c,m]=a.useState({type:""}),[p,o]=a.useState(!1),[u,j]=a.useState(!1);U();async function n(v){var E;if($(v.target),c.name&&c.image){o(!0);let T=new FormData;T.append("preview",c.image),T.append("id_company",(E=t==null?void 0:t.company)==null?void 0:E.id_company),T.append("type","qr-stand"),T.append("formqr",JSON.stringify(c)),P.post(D+"/api/upload/qr",T,{withCredentials:!0}).then(F=>F.data).then(F=>{o(!1),F.status&&(i(!1),M.success("Se ha subido tu qr correctamente")),F.msg&&M.error(F.msg)}).catch(F=>{o(!1)})}else M.error("Opps hay algo imcompleto")}function h(v){let E=v.target.name,T=v.target.value;m(F=>({...F,[E]:T}))}function x(){$("#file").click()}function g(v){let E=v.target.files,T=$(v.target);if(E.length){let F=new FileReader;F.onload=function(b){if(E[0].type.indexOf("image")>=0){let w=new Image;w.src=b.target.result,w.onload=function(){w.width<=6e3&&w.height<=6e3?m({...c,image:w.src}):M.error(`Opps maximo 600x600 tu imagen es de ${w.width}x${w.height}`)}}else T.val(""),M.error("Opps solo aceptamos imagenes")},F.readAsDataURL(E[0])}}a.useEffect(()=>{$("#wizard2").find(".case").eq(0).addClass("active")},[]);function f(v){m({...c,image:v})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,id:"wizard2",children:[e.jsxs("div",{className:"top-actions",children:[d>0?e.jsxs("button",{className:"return",onClick:v=>{r(E=>E-1)},children:[e.jsx(Ge,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:v=>{i(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case ",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Importar QR"}),e.jsx("span",{className:"desc",children:"Guarda la imagen del QR de tu preferencia y subela a la botonera"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre para tu QR"}),e.jsx("input",{type:"text",onChange:h,name:"name",placeholder:"Nombre para tu QR"})]}),e.jsxs("div",{className:"upload-qr",children:[c.image==null?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"upload",onClick:x,children:[e.jsx(L,{icon:"basil:upload-outline"}),e.jsx("p",{className:"upload-desc",children:"Has click aca para buscar tu archivo"})]}),u?e.jsx(Et,{callback:f,Close:j}):"",e.jsx("br",{}),e.jsx("span",{style:{fontSize:"14px",opacity:"0.8"},children:"Cuando le das activar camara toma la foto al QR de tu preferencia, luego dale click en la opcacion Subir Imagen, busca el QR y agregalo a tu botonera."}),e.jsxs("button",{className:"open-cam",onClick:v=>{j(!0)},children:[e.jsx(L,{icon:"ph:camera"})," Activar Camara"]})]}):e.jsx("div",{className:"preview",children:e.jsx("img",{src:c.image,alt:""})}),e.jsx("input",{type:"file",id:"file",onChange:g,hidden:!0})]})]})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:`next ${p?"await":" "}`,onClick:n,children:["Subir imagen ",e.jsx("div",{className:"loading"})]})})]})]})})}function xs(){const[s,i]=a.useState(!1),[l,t]=a.useState(!1),[d,r]=a.useState(!1),[c,m]=a.useState([{},{}]),{UserInfo:p}=a.useContext(X),[o,u]=a.useState(!1),[j,n]=a.useState(),h=$e(),x=U(),[g,f]=a.useState(!1);a.useEffect(()=>{qe("/add")&&i(!0),qe("/import")&&t(!0)},[h]);function v(){var b;let F=new FormData;F.append("id_company",(b=p==null?void 0:p.company)==null?void 0:b.id_company),P.post(D+"/api/get/qrs",F,{withCredentials:!0}).then(w=>w.data).then(w=>{m(w)})}function E(F){let b=$(F.target),w=b.parents(".item").find("img")[0].src;b.parents(".item").find(".title").text();let C=document.createElement("a");C.href=w,C.download="",C.rel="noopener noreferrer",C.target="_blank",document.querySelector("#root").appendChild(C),C.click(),document.querySelector("#root").removeChild(C)}a.useEffect(()=>{v()},[]);function T(){var b;f(!0);let F=new FormData;F.append("id_company",(b=p==null?void 0:p.company)==null?void 0:b.id_company),F.append("id_qr",j),P.post(D+"/api/delete/qr",F,{withCredentials:!0}).then(w=>w.data).then(w=>{w.status&&(u(!1),M.success("Has borrado el qr con exito"),m(C=>C.filter(k=>k.id_qr!==j)))}).finally(()=>{f(!1)})}return e.jsxs(e.Fragment,{children:[e.jsx(Re,{visible:o,callback:u,Pending:g,onClick:T}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"QR"}),e.jsx("span",{children:"Crea qr personalizados con enlaces para tus webs o qr de contacto"})]}),e.jsx(Ss,{Visible:s,Close:i,setModalView:i,loadQrs:v},s?"x1":"x2"),e.jsx(ga,{Visible:l,Close:t,setModalView:t,loadQrs:v},l?"x":"a"),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"add",onClick:F=>{i(!0)},children:" Crear nuevo QR"}),e.jsxs("button",{className:"go-wizard",onClick:F=>{t(!0)},children:[e.jsx(Fe,{})," Importar QR"]})]})]}),e.jsxs("div",{className:"box box-padding",children:[c.map((F,b)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:rs(F.qr_preview),alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:F.title}),e.jsxs("span",{className:"desc",children:["Creado el: ",he(F.time_add)]})]})]}),e.jsx("div",{className:"info",children:e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:"Tipo de QR"}),e.jsx("span",{className:"desc",children:F.type_qr})]})}),e.jsxs("div",{className:"actions",children:[F!=null&&F.id_concat?e.jsx("button",{onClick:w=>{x("/shorturls/"+F.id_concat)},children:e.jsx(L,{icon:"ion:stats-chart-outline"})}):"",e.jsx("button",{onClick:E,children:e.jsx(Ua,{})}),e.jsx("button",{onClick:w=>{n(F.id_qr),u(!0)},children:e.jsx(ce,{})})]})]})),d?e.jsx(we,{}):c.length==0?e.jsx("div",{className:"item",children:e.jsx(ge,{name:"Qrs"})}):""]})]})}function Ft({setButtons:s}){function i(l){let t=l.target.value;l.target.name=="background"&&t.indexOf("http")>=0&&(t=`url(${t})`),s(r=>{let c={...r};return c.header[l.target.name]=t,c})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar botonera"}),e.jsx("span",{children:"Personaliza tu botonera, cambiando imagenes, fondo, texto, botones, enlaces."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",defaultValue:"#fff",onChange:i,name:"background"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",onChange:i,defaultValue:0,step:"0.1",max:"10",name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",onChange:i,defaultValue:1,step:"0.1",max:"1",name:"brightness"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border radius"}),e.jsx("input",{type:"range",onChange:i,defaultValue:1,step:"0.1",max:"50",name:"radius"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{name:"colorBox",onClick:i,value:"ligth",children:"Modo Claro"}),e.jsx("button",{name:"colorBox",onClick:i,value:"dark",children:"Modo Oscuro"})]})]})]})}function Dt({buttons:s,setButtons:i,editor:l,setEditor:t}){var b,w,C,y,k,N,_,S,R,W,se,de;const[d,r]=a.useState(!1),[c,m]=a.useState(!1),[p,o]=a.useState(!1),[u,j]=a.useState(void 0),{UserInfo:n}=a.useContext(X),h=oe();function x(){i(I=>({...I,buttons:I.buttons.concat({})}))}function g(I){I.preventDefault(),I.stopPropagation();let q=$(I.target);switch($(".page.buttonsbody .active").removeClass("active"),q.addClass("active"),q.attr("type")){case"buttons":var z=q.attr("id");t({type:"button",key:z});break;case"rs":var z=q.attr("id");t({type:"rs",key:z});break;default:t({type:q.attr("type")});break}return!1}function f(I){i(q=>{const z={...q};return z.buttons=z.buttons.filter((O,ae)=>ae!==I),t({type:"",key:""}),z})}function v(){let I=document.querySelector("#select-rs").value,q=document.querySelector("#input-rs").value;(s==null?void 0:s.rs.length)<=3?i(z=>{const O=[...z.rs];return O.push({type:I,url:q}),{...z,rs:O}}):M.error("Opps ya has agregado muchas redes sociales")}async function E(){var I,q,z;if(((q=(I=s.header)==null?void 0:I.titlegl)==null?void 0:q.length)>=1){o(!0);let O=new FormData;O.append("json",JSON.stringify(s)),u==null?O.append("title",s.header.titlegl):O.append("id_buttons",u),O.append("id_company",(z=n==null?void 0:n.company)==null?void 0:z.id_company);let ae=await Ns(document.querySelector(".page .center"),{allowTaint:!1,useCORS:!0}).then(te=>te.toDataURL());O.append("preview",ae),P.post(D+"/api/upload/buttons",O,{withCredentials:!0}).then(te=>te.data).then(te=>{o(!1),te.id_buttons&&j(te.id_buttons),te.msg&&M.error(te.msg)}).catch(te=>{o(!1)})}else m(!0),M.error("Opps no puedes avanzar si tu plantilla no posee un titulo")}function T(I){let q=I.target.value;i(z=>{let O={...z};return O.header.titlegl=q,O})}function F(){s.header.titlegl&&(m(!1),M.success("El titulo se aplico con exito"))}return a.useEffect(()=>{var I;if(h.id){let q=new FormData;q.append("id_buttons",h.id),q.append("id_company",(I=n==null?void 0:n.company)==null?void 0:I.id_company),P.post(D+"/api/get/editbuttons",q,{withCredentials:!0}).then(z=>z.data).then(z=>{z.id_buttons&&(i(JSON.parse(z.json)),j(z.id_buttons))})}},[]),e.jsxs(e.Fragment,{children:[e.jsxs(re,{visible:c,close:m,callback:m,onClick:F,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("span",{children:"Elige un titulo general para esta plantilla"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Titulo general"}),e.jsx("input",{onChange:T,type:"text",placeholder:"ej: plantilla 1"})]})]}),e.jsx(re,{visible:d,callback:r,onClick:v,children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Redes Sociales"}),e.jsx("span",{children:"Selecciona que red social quieres agregar"}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("input",{type:"url",placeholder:"Enlace (URL)",id:"input-rs"}),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("select",{name:"",id:"select-rs",children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"Seleccionar"}),e.jsx("option",{value:"fb",children:"Facebook"}),e.jsx("option",{value:"x",children:"X (Twitter)"}),e.jsx("option",{value:"in",children:"Instagram"}),e.jsx("option",{value:"link",children:"Linkedin"}),e.jsx("option",{value:"disc",children:"Discord"}),e.jsx("option",{value:"tik",children:"TikTok"}),e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"spot",children:"Spotify"}),e.jsx("option",{value:"tele",children:"Telegram"}),e.jsx("option",{value:"ws",children:"Whatsapp"})]}),e.jsx("br",{})]})]})}),e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{children:[e.jsx(Oe,{})," Previsualizar"]}),e.jsxs("button",{className:p?"await":"",onClick:E,children:[e.jsx(ss,{})," Guardar ",e.jsx("div",{className:"loading"})]})]})}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(b=s==null?void 0:s.header)==null?void 0:b.blur}px)brightness(${(w=s==null?void 0:s.header)==null?void 0:w.brightness})`,background:(C=s==null?void 0:s.header)==null?void 0:C.background2}}),e.jsxs("div",{className:`${"page buttonsbody "+((y=s==null?void 0:s.header)==null?void 0:y.colorBox)}`,children:[e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",onClick:g,type:"logo",src:(k=s==null?void 0:s.header)!=null&&k.logo?(N=s==null?void 0:s.header)==null?void 0:N.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{onClick:g,type:"title",children:(_=s==null?void 0:s.header)!=null&&_.title?(S=s==null?void 0:s.header)==null?void 0:S.title:"Agregar titulo"}),e.jsx("span",{onClick:g,type:"desc",children:(R=s==null?void 0:s.header)!=null&&R.desc?(W=s==null?void 0:s.header)==null?void 0:W.desc:"Agregar Descripcion"})]}),e.jsx("div",{className:"buttons",children:(se=s==null?void 0:s.buttons)==null?void 0:se.map((I,q)=>{var z;return e.jsxs("div",{children:[e.jsx("div",{className:"edit-active",children:e.jsx("button",{onClick:O=>{f(q)},children:e.jsx(ce,{})})}),e.jsxs("a",{onClick:g,style:{borderRadius:((z=s==null?void 0:s.header)==null?void 0:z.radius)+"px"},type:"buttons",id:q,href:I.url,children:[" ",I!=null&&I.name?I==null?void 0:I.name:"Elegir nombre..."]},q)]},q)})}),e.jsx("div",{className:"rs",children:(de=s==null?void 0:s.rs)==null?void 0:de.map((I,q)=>e.jsx("div",{className:"r",children:e.jsxs("a",{href:"",onClick:g,id:q,type:"rs",children:[I.type=="in"?e.jsx(sa,{}):"",I.type=="tik"?e.jsx(aa,{}):"",I.type=="disc"?e.jsx(ia,{}):"",I.type=="spot"?e.jsx(ta,{}):"",I.type=="tele"?e.jsx(na,{}):"",I.type=="ws"?e.jsx(la,{}):"",I.type=="email"?e.jsx(ca,{}):"",I.type=="fb"?e.jsx(ra,{}):"",I.type=="x"?e.jsx(da,{}):"",I.type=="link"?e.jsx(oa,{}):""]})},q))}),e.jsxs("div",{className:"add-new",onClick:x,children:[e.jsx(Ke,{})," Agregar Boton"]}),e.jsx("br",{}),e.jsxs("div",{className:"add-new",onClick:I=>{r(!0)},children:[e.jsx(Ke,{})," Agregar Red Social"]})]})]})}function Pt({editor:s,buttons:i,setButtons:l,setEditor:t}){var c;function d(m){let p=m.target.value;l(o=>{let u={...o};return u.rs[s.key].url=p,u})}function r(m){l(p=>{const o={...p};return o.rs=o.rs.filter((u,j)=>j!==Number(s.key)),t({type:"",key:""}),o})}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enlace"}),e.jsx("input",{id:"title-edit",onChange:d,type:"text",value:(c=i==null?void 0:i.rs[s.key])==null?void 0:c.url,placeholder:"https://image.com/jfop2.jpg"})]})}),e.jsx("div",{children:e.jsx("button",{className:"delete",onClick:r,children:"Eliminar"})})]})}function qt({editor:s,buttons:i,setButtons:l}){function t(d){const{name:r,value:c}=d.target;l(m=>{let p={...m};return p.buttons[s.key][r]=c,p})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nombre de boton"}),e.jsx("input",{onChange:t,value:i.buttons[s.key].name?i.buttons[s.key].name:"",name:"name",id:"title-edit",type:"text",placeholder:"Ej: Mi tienda virtual"})]}),e.jsx("br",{}),e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enlace"}),e.jsx("input",{onChange:t,value:i.buttons[s.key].url?i.buttons[s.key].url:"",name:"url",id:"title-edit",type:"text",placeholder:"https://example.com"})]})]})})}function Tt({setButtons:s,buttons:i}){var t;function l(d){s(r=>{let c={...r};return c.header.desc=d.target.value,c})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descripcion"}),e.jsx("input",{onChange:l,id:"title-edit",type:"text",placeholder:"Ej: Mis redes sociales",value:(t=i==null?void 0:i.header)==null?void 0:t.desc})]})})})}function Rt({setButtons:s,buttons:i}){function l(t){let d=t.target.value;s(r=>{let c={...r};return c.header.logo=d,c})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Logo"}),e.jsx("input",{onChange:l,id:"title-edit",type:"text",placeholder:"https://image.com/jfop2.jpg"})]})})})}function Lt({setButtons:s,buttons:i}){var t;function l(d){s(r=>{let c={...r};return c.header.title=d.target.value,c})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("input",{onChange:l,id:"title-edit",type:"text",placeholder:"Ej: Mis redes sociales",value:(t=i==null?void 0:i.header)==null?void 0:t.title})]})})})}function Mt({editor:s,buttons:i,setButtons:l,setEditor:t}){return e.jsxs(e.Fragment,{children:[s.type=="button"?e.jsx(qt,{editor:s,buttons:i,setButtons:l}):"",s.type=="title"?e.jsx(Lt,{editor:s,buttons:i,setButtons:l}):"",s.type=="desc"?e.jsx(Tt,{editor:s,buttons:i,setButtons:l}):"",s.type=="logo"?e.jsx(Rt,{editor:s,buttons:i,setButtons:l}):"",s.type=="rs"?e.jsx(Pt,{editor:s,buttons:i,setButtons:l,setEditor:t}):""]})}function Ks(){var d;a.useState(!0);const[s,i]=a.useState({header:{title:"",desc:"",img:"",background:""},buttons:[],rs:[]}),[l,t]=a.useState({});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"editor-surveys",children:e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:"left",children:e.jsx(Ft,{editor:l,setButtons:i,buttons:s})}),e.jsx("div",{className:"center",style:{background:(d=s==null?void 0:s.header)==null?void 0:d.background},children:e.jsx(Dt,{editor:l,setEditor:t,buttons:s,setButtons:i})}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"type-editor",children:e.jsx(Mt,{editor:l,buttons:s,setButtons:i,setEditor:t})})})]})})})}function va({Visible:s,CallbackVisible:i,value:l}){const t=U();let d={facebook:"https://www.facebook.com/sharer.php?u="+(l||window.location.href),whatsapp:"https://api.whatsapp.com/send/?text=Mira esta nueva botonera de enlace "+(l||window.location.href),linkedin:"https://www.linkedin.com/sharing/share-offsite/?url="+(l||window.location.href),messenger:"https://www.messenger.com/new",instagram:"https://instagram.com/share",tiktok:"",x:"https://x.com/intent/tweet?text=Entra ahora con este link compartido "+(l||window.location.href),email:"mailto:?subject= Check out this Radarsystems! &body= Mira esta nueva botonera de enlace "+(l||window.location.href)};function r(c){let m=c.target.dataset.type,p=d[m];window.open(p,"_blank")}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"modal-share",style:{display:`${s?"flex":"none"}`},children:e.jsx("div",{className:"body",children:e.jsxs("div",{className:"bk",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Compartir desde Radarsystems"}),e.jsx("button",{onClick:c=>{i(!1)},className:"closed",children:e.jsx(L,{icon:"carbon:close-large"})})]}),e.jsxs("div",{className:"buttons",children:[e.jsxs("button",{onClick:r,"data-type":"facebook",children:[e.jsx("i",{className:"left",children:e.jsx(L,{icon:"logos:facebook"})})," Compartir en Facebook ",e.jsx("i",{className:"right",children:e.jsx(L,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:r,"data-type":"linkedin",children:[e.jsx("i",{className:"left",children:e.jsx(L,{icon:"logos:linkedin-icon"})})," Compartir en Linkedln ",e.jsx("i",{className:"right",children:e.jsx(L,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:r,"data-type":"whatsapp",children:[e.jsx("i",{className:"left",children:e.jsx(L,{icon:"logos:whatsapp-icon"})})," Compartir en Whatsapp ",e.jsx("i",{className:"right",children:e.jsx(L,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:r,"data-type":"messenger",children:[e.jsx("i",{className:"left",children:e.jsx(L,{icon:"logos:messenger"})})," Compartir en Messenger ",e.jsx("i",{className:"right",children:e.jsx(L,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:r,"data-type":"instagram",children:[e.jsx("i",{className:"left",children:e.jsx(L,{icon:"skill-icons:instagram"})})," Compartir en Instagram ",e.jsx("i",{className:"right",children:e.jsx(L,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:r,"data-type":"x",children:[e.jsx("i",{className:"left",children:e.jsx(L,{icon:"devicon:twitter"})})," Compartir en X ",e.jsx("i",{className:"right",children:e.jsx(L,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:r,"data-type":"email",children:[e.jsx("i",{className:"left",children:e.jsx(L,{icon:"logos:mailgun-icon"})})," Compartir en Correo Electronico ",e.jsx("i",{className:"right",children:e.jsx(L,{icon:"uiw:right"})})]})]}),e.jsx("div",{className:"url",children:e.jsx("span",{children:l??window.location.href})}),e.jsxs("div",{className:"register",children:[e.jsx("p",{children:"Crear tu cuenta en rar.bio"}),e.jsx("span",{children:"Comparte tu enlace con mas de 6 Billons de personas"}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:c=>{t("/register")},children:"Crear cuenta"}),e.jsx("button",{onClick:c=>{t("/auth")},children:"Inicia sesión"})]})]})]})})})})}function At(){var o,u,j,n,h,x,g,f,v,E,T,F,b;const[s,i]=a.useState({}),[l,t]=a.useState(!1),[d,r]=a.useState(!0),c=oe();function m(){let w=new FormData;w.append("token",c.id),P.post(D+"/api/get/buttons",w).then(C=>C.data).then(C=>{if(i(C),C){let y=new FormData;y.append("type_stat","visit"),y.append("type","buttons"),y.append("token",c.id),P.post(D+"/api/get/capturestatsbuttons",y)}})}a.useEffect(()=>{m()},[]);function p(w){w.preventDefault(),w.stopPropagation();let C=w.target.href;if(d){r(!1);let y=new FormData;y.append("type","buttons"),y.append("type_stat","click"),y.append("data",C),y.append("token",c.id),P.post(D+"/api/get/capturestatsbuttons",y).then(k=>k.data).then(k=>{r(!0),window.open(C)}).catch(k=>{r(!0)})}}return e.jsxs(e.Fragment,{children:[e.jsx(va,{Visible:l,CallbackVisible:t}),e.jsx("div",{className:"editor-surveys btnactive prod-buttons",children:e.jsx("div",{className:"rows",children:e.jsxs("div",{className:"center",style:{background:(o=s==null?void 0:s.header)==null?void 0:o.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(u=s==null?void 0:s.header)==null?void 0:u.blur}px)brightness(${(j=s==null?void 0:s.header)==null?void 0:j.brightness})`,background:(n=s==null?void 0:s.header)==null?void 0:n.background2}}),e.jsxs("div",{className:`${"page buttonsbody "+((h=s==null?void 0:s.header)==null?void 0:h.colorBox)}`,children:[e.jsx("div",{className:"share-now",children:e.jsx("button",{onClick:w=>{t(!0)},children:e.jsx(ei,{})})}),e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",type:"logo",src:(x=s==null?void 0:s.header)!=null&&x.logo?(g=s==null?void 0:s.header)==null?void 0:g.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{type:"title",children:(f=s==null?void 0:s.header)!=null&&f.title?(v=s==null?void 0:s.header)==null?void 0:v.title:""}),e.jsx("span",{type:"desc",children:(E=s==null?void 0:s.header)!=null&&E.desc?(T=s==null?void 0:s.header)==null?void 0:T.desc:""})]}),e.jsx("div",{className:"buttons",children:(F=s==null?void 0:s.buttons)==null?void 0:F.map((w,C)=>{var y;return e.jsx("div",{children:e.jsxs("a",{onClick:p,style:{borderRadius:((y=s==null?void 0:s.header)==null?void 0:y.radius)+"px"},type:"buttons",id:C,href:w.url,children:[" ",w!=null&&w.name?w==null?void 0:w.name:"Elegir nombre..."]},C)},C)})}),e.jsx("div",{className:"rs",children:(b=s==null?void 0:s.rs)==null?void 0:b.map((w,C)=>e.jsx("div",{className:"r",children:e.jsxs("a",{href:"",id:C,type:"rs",children:[w.type=="in"?e.jsx(sa,{}):"",w.type=="tik"?e.jsx(aa,{}):"",w.type=="disc"?e.jsx(ia,{}):"",w.type=="spot"?e.jsx(ta,{}):"",w.type=="tele"?e.jsx(na,{}):"",w.type=="ws"?e.jsx(la,{}):"",w.type=="email"?e.jsx(ca,{}):"",w.type=="fb"?e.jsx(ra,{}):"",w.type=="x"?e.jsx(da,{}):"",w.type=="link"?e.jsx(oa,{}):""]})},C))}),e.jsxs("div",{className:"footer",children:[e.jsx("br",{}),e.jsx("hr",{}),e.jsx("p",{children:"Powered by RadarSystems. ​​​​​​​Copyright © 1998 - 2022 Todos los derechos reservados."})]})]})]})})})]})}function Ys({onClick:s}){let i=[{color:"#000"},{color:"#fff"},{color:"#FFDDC1"},{color:"#FFA07A"},{color:"#FFB6C1"},{color:"#87CEEB"},{color:"#B0C4DE"},{color:"#ADD8E6"},{color:"#FFE4E1"},{color:"#F0FFF0"},{color:"#F5F5DC"},{color:"#F0E68C"},{color:"#E0FFFF"},{color:"#FAFAD2"},{color:"#FFEBCD"},{color:"#E6E6FA"},{color:"#F08080"},{color:"#FF6347"},{color:"#FFD700"},{color:"#FFA500"},{color:"#FF4500"},{color:"#E9967A"},{color:"#CD5C5C"},{color:"#FF8C00"},{color:"#FF69B4"},{color:"#FF1493"},{color:"#DB7093"},{color:"#800000"},{color:"#A52A2A"},{color:"#D2691E"},{color:"#8B4513"},{color:"#8B0000"},{color:"#800080"}];return e.jsx(e.Fragment,{children:e.jsx("div",{className:"colorPicker-basic",children:i.map((l,t)=>e.jsx("div",{className:"color",style:{background:l.color},"data-value":l.color,onClick:d=>{s(d.target.dataset.value)}}))})})}function Ot({setButtons:s,Visible:i,VisibleMenu:l}){const[t,d]=a.useState({}),[r,c]=a.useState(!1),[m,p]=a.useState(!1),[o,u]=a.useState(),{UserInfo:j}=a.useContext(X);function n(T){let F=T.target.value,b=T.target.name;(b=="background"||b=="backgroundHeader")&&F.indexOf("http")>=0&&(F=`url(${F})`),s(w=>{let C={...w};return C.header[T.target.name]=F,C})}function h(T){s(F=>{let b={...F};return b.header.background=T,b})}function x(T){s(F=>{let b={...F};return b.header.backgroundHeader=T,b})}function g(){document.querySelector("input[name='file-wallpaper']").click()}function f(T){let F=T.target.files[0];bi(F)&&d(F)}function v(){d({}),document.querySelector("input[name='file-wallpaper']").value=""}function E(){var T;if(t!=null&&t.name){p(!0);let F=new FormData;F.append("id_company",(T=j==null?void 0:j.company)==null?void 0:T.id_company),F.append("file",t),P.post(D+"/api/upload/fileqr",F,{withCredentials:!0}).then(b=>b.data).then(b=>{b.download&&s(w=>{let C={...w};return o=="background"&&(C.header.background=`url(${b.download})`),o=="backgroundHeader"&&(C.header.backgroundHeader=`url(${b.download})`),C}),c(!1),p(!1)}).catch(b=>{p(!1)})}else le.error("Opps no has seleccionado ningun archivo")}return a.useEffect(()=>{document.querySelector("input[name='background']").value="a"},[]),e.jsxs(e.Fragment,{children:[e.jsxs(re,{visible:r,callback:c,onClick:E,Pending:m,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Subir imagen"}),e.jsx("span",{children:"sube tu imagen que no sea mayor a 5MB"})]}),e.jsx("input",{type:"file",onChange:f,name:"file-wallpaper",accept:".png,.jpg,.jpeg",hidden:!0}),e.jsx("div",{className:"select-file",children:t.name?e.jsxs("div",{className:"file",children:[e.jsx("div",{className:"right",children:e.jsx("button",{onClick:v,children:e.jsx(ce,{})})}),e.jsx("div",{className:"preview",children:e.jsxs("div",{className:"fi",children:[e.jsx("div",{className:"icon",children:e.jsx(Le,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:t==null?void 0:t.name}),e.jsx("span",{children:t==null?void 0:t.type})]})]})})]}):e.jsxs("div",{className:"drop-file",onClick:g,children:[e.jsx("i",{children:e.jsx(Fe,{})}),e.jsx("span",{className:"desc",children:"Has click aca para buscar tu archivo"})]})})]}),e.jsx("img",{src:"/img/icons/logo_color_1.png",alt:"",hidden:!0}),e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar botonera"}),e.jsx("span",{children:"Personaliza tu botonera, cambiando imagenes, fondo, texto, botones, enlaces."}),e.jsx("button",{className:"close mb",onClick:l,children:e.jsx(L,{icon:"teenyicons:x-outline"})})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",defaultValue:"#fff",onChange:n,name:"background"}),e.jsxs("button",{onClick:T=>{c(!0),u("background")},className:"action-complete",children:[e.jsx(L,{icon:"material-symbols:upload-rounded"})," Elegir Imagen"]}),e.jsx("hr",{}),e.jsx("p",{className:"title",children:"Colores"}),e.jsx(Ys,{onClick:h}),e.jsx("br",{})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el header"}),e.jsx("input",{type:"text",defaultValue:"#fff",onChange:n,name:"backgroundHeader"}),e.jsxs("button",{onClick:T=>{c(!0),u("backgroundHeader")},className:"action-complete",children:[e.jsx(L,{icon:"material-symbols:upload-rounded"})," Elegir Imagen"]}),e.jsx("hr",{}),e.jsx("p",{className:"title",children:"Colores"}),e.jsx(Ys,{onClick:x}),e.jsx("br",{})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{name:"theme",onClick:n,value:"ligth",children:"Modo Claro"}),e.jsx("button",{name:"theme",onClick:n,value:"dark",children:"Modo Oscuro"})]})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",onChange:n,defaultValue:0,step:"0.1",max:"10",name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",onChange:n,defaultValue:1,step:"0.1",max:"1",name:"brightness"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border radius"}),e.jsx("input",{type:"range",onChange:n,defaultValue:1,step:"0.1",max:"50",name:"radius"})]})]})}function $t({VisibleMenu:s,getMyQrs:i,addNewQr:l,setVisibleQr:t,boxType:d,editor:r,buttons:c,setButtons:m}){const[p,o]=a.useState(!1);a.useState(!1);const[u,j]=a.useState(!1),[n,h]=a.useState(!1),[x,g]=a.useState({});a.useState({});const[f,v]=a.useState(),[E,T]=a.useState(""),[F,b]=a.useState({ssid:"",password:"",encrypt:""}),[w,C]=a.useState({rs:!1,modalFile:!1}),[y,k]=a.useState(),{UserInfo:N}=a.useContext(X),_=a.useRef(null),S={instagram:"https://www.instagram.com/",twitter:"https://x.com/",facebook:"https://facebook.com/",tiktok:"https://tiktok.com/",whatsapp:"https://api.whatsapp.com/send/?phone=",websiteurl:""};function R(G,ne){if($(G.target).css("opacity")!=="0.5")switch(v(ne),ne){case"qrs":i(),t(!0);break;case"vcard":t(!0),i("qr-contact");break;case"vcard-add":document.querySelector(".head-top .right button").click(),setTimeout(()=>{document.querySelectorAll(".wizard-home.open .case.active .selector")[1].click()},20),setTimeout(()=>{$(document.querySelector(".wizard-home.open .next")).click()},20);break;case"instagram":case"facebook":case"tiktok":case"twitter":case"whatsapp":case"websiteurl":h(!0);break;case"wifi":j(!0);break;case"pdf":case"img":o(!0);break}else le.error("Este boton no esta habilitado para este apartado.")}const W=new ys({width:600,height:600,margin:0,qrOptions:{typeNumber:"0",mode:"Byte",errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,margin:10},dotsOptions:{type:"dots",color:"#000000"},backgroundOptions:{color:"#ffffff",gradient:null},image:"/img/icons/logo_color_1.png",dotsOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#6a1a4c",color2:"#6a1a4c",rotation:"0"}},cornersSquareOptions:{type:"extra-rounded",color:"#000000"},cornersSquareOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},cornersDotOptions:{type:"dot",color:"#000000"},cornersDotOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},backgroundOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#ffffff",color2:"#ffffff",rotation:"0"}}});function se(){$("input[name='file']").click()}function de(G){let ne=G.target.files;ne[0]&&(ne[0].type.indexOf("/pdf")>=0||ne[0].type.indexOf("imag")>=0?g(ne[0]):le.error("El archivo no es una imagen / pdf"))}function I(G){g({}),$("input[name='file']").val("")}function q(G,ne){C({...ne,[G]:ne})}async function z(G){var xe;let ne=!1;if(n&&E&&(ne=!0),u&&F.encrypt&&F.password.length&&F.ssid&&(ne=!0),p&&G&&(ne=!0),ne){q("rs",!0),W.append(_.current);let pe=new FormData,Me=G;pe.append("url",G),pe.append("id_company",(xe=N==null?void 0:N.company)==null?void 0:xe.id_company),u?(W.update({data:G}),W.getRawData().then(fe=>{let Ne=new FileReader;Ne.onload=function(De){O(De.target.result,Number(G.id_shortlink),G)},Ne.readAsDataURL(fe)})):P.post(D+"/api/upload/shortlink",pe,{withCredentials:!0}).then(fe=>fe.data).then(fe=>{W.update({data:fe.shortlink}),W.getRawData().then(Ne=>{let De=new FileReader;De.onload=function(Ye){O(Ye.target.result,Number(fe.id_shortlink),Me)},De.readAsDataURL(Ne)})}).catch(fe=>{le.error(String(fe))}).finally(()=>{q("rs",!1)})}}function O(G,ne=null,xe){var fe;let pe=new FormData;ne&&pe.append("id_concat",ne);let Me=`${f+"-"+(new Date/1e3).toFixed()}`;switch(pe.append("preview",G),pe.append("dataQr",xe),pe.append("id_company",(fe=N==null?void 0:N.company)==null?void 0:fe.id_company),y==null?pe.append("formqr",JSON.stringify({name:Me})):(Me=y,pe.append("formqr",JSON.stringify({name:y}))),console.log(f),f){case"facebook":case"instagram":case"x":case"twitter":case"linkedin":case"whatsapp":pe.append("type","qr-rs");break;case"pdf":case"img":pe.append("type","qr-file");break;case"wifi":pe.append("type","qr-wifi");break}P.post(D+"/api/upload/qr",pe,{withCredentials:!0}).then(Ne=>Ne.data).then(Ne=>{if(q("rs",!1),Ne.status){s(!1),h(!1);try{l(Me,Ne.img),le.success("QR agregado con exito"),o(!1),j(!1),h(!1)}catch(De){le.error(String(De))}}else le.error(`${Ne.msg}`);k(null)}).catch(Ne=>{k(null),q("rs",!1)})}a.useEffect(()=>{n||T("")},[n]);function ae(G){let ne=G.target.name,xe=G.target.value;b({...F,[ne]:xe})}async function te(){var ne;q("modalFile",!0);let G=new FormData;G.append("file",x),G.append("id_company",(ne=N==null?void 0:N.company)==null?void 0:ne.id_company),P.post(D+"/api/upload/fileqr",G,{withCredentials:!0}).then(xe=>xe.data).then(async xe=>{xe.status&&(le.success("Se ha subido tu archivo correctamente, se esta procesando el QR"),await z(xe.download),q("modalFile",!1),o(!1))}).catch(xe=>{q("modalFile",!1)})}return a.useEffect(()=>{p||g([])},[p]),e.jsxs(e.Fragment,{children:[e.jsxs(re,{visible:u,onClick:G=>{z(`WIFI:T:${F.encrypt};S:${F.ssid};P:${F.password};;`)},callback:j,maxWidth:400,Pending:w==null?void 0:w.rs,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Red WiFi"}),e.jsx("span",{children:"Agrega tu red Wi-Fi favorita e integra el código QR dentro de tu botonera"})]}),e.jsxs("div",{className:"data",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"ssid",children:"Nombre QR"}),e.jsx("input",{type:"text",onChange:G=>{k(G.target.value)},name:"user",placeholder:f=="websiteurl"?"https://mysiteweb.com":"Nombre del QR"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"ssid",children:"SSID"}),e.jsx("input",{type:"text",onChange:ae,name:"ssid",placeholder:"Nombre de red"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"password",children:"Contraseña"}),e.jsx("input",{type:"text",onChange:ae,name:"password",placeholder:"Contraseña de red"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"encryption",children:"Selecciona el cifrado"}),e.jsxs("select",{name:"encrypt",id:"encryption",onChange:ae,children:[e.jsx("option",{value:"WPA",children:"WPA"}),e.jsx("option",{value:"WPA2",children:"WPA2"}),e.jsx("option",{value:"WEP",children:"WEP"}),e.jsx("option",{value:"nopass",children:"Sin cifrado"})]})]})]})]},u?"x23":"x24"),e.jsxs(re,{visible:n,callback:h,Pending:w.rs,maxWidth:450,next:"Crear",onClick:()=>{z(f=="tiktok"?S[f]+"@"+E:S[f]+E)},children:[f=="websiteurl"?e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Web"}),e.jsx("span",{children:"Agrega la url de tu sitio web"})]}):e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Red social"}),e.jsx("span",{children:"Agrega tu red social favorita y integra el QR dentro de tu botonera"})]}),e.jsxs("div",{className:"data",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",onChange:G=>{k(G.target.value)},name:"user",placeholder:"Nombre del QR"})}),e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{htmlFor:"",children:[S[f],E]}),e.jsx("input",{type:"text",onChange:G=>{T(G.target.value)},name:"user",placeholder:f=="websiteurl"?"https://mysiteweb.com":"@usuario"})]})]})]},n?"12":"13"),e.jsxs(re,{visible:p,Pending:w==null?void 0:w.modalFile,callback:o,next:"Subir",onClick:te,children:[e.jsx("input",{type:"file",name:"file",onChange:de,hidden:!0}),e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Subir archivo"}),e.jsx("span",{children:"Sube tu imagen o pdf que no sea mayor a 5 MB"})]}),e.jsxs("div",{className:"select-file",children:[e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",onChange:G=>{k(G.target.value)},name:"user",placeholder:f=="websiteurl"?"https://mysiteweb.com":"Nombre del QR"})}),x.name?e.jsxs("div",{className:"file",children:[e.jsx("div",{className:"right",children:e.jsx("button",{onClick:I,children:e.jsx(ce,{})})}),e.jsx("div",{className:"preview",children:e.jsxs("div",{className:"fi",children:[e.jsx("div",{className:"icon",children:e.jsx(Le,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:x==null?void 0:x.name}),e.jsx("span",{children:x==null?void 0:x.type})]})]})})]}):e.jsxs("div",{className:"drop-file",onClick:se,children:[e.jsx("i",{children:e.jsx(Fe,{})}),e.jsx("span",{className:"desc",children:"Has click aca para buscar tu archivo"})]})]})]},p?"14sd":"15asdas"),e.jsxs("div",{className:`buttons-services ${d}`,children:[e.jsx("div",{className:"qr-result-2",ref:_,hidden:!0}),e.jsxs("div",{className:"top-title",children:[e.jsx("p",{children:"Mis QR"}),e.jsx("button",{className:"close mb",onClick:G=>{s(!1)},children:e.jsx(L,{icon:"teenyicons:x-outline"})})]}),e.jsxs("div",{className:"button",type:"all",onClick:G=>{R(G,"qrs")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps.svg",alt:""})}),e.jsx("p",{children:"Mis QRS Favoritos"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"top-title",children:[e.jsx("p",{children:"1. Servicios QR"}),e.jsx("button",{className:"close mb",onClick:G=>{s(!1)},children:e.jsx(L,{icon:"teenyicons:x-outline"})})]}),e.jsxs("div",{className:"button",onClick:G=>{R(G,"vcard-add")},type:"vcard",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/vCard.svg",alt:""})}),e.jsx("p",{children:"Crear Tarjeta De Presentacion QR"}),e.jsx("span",{children:"Comparte "})]}),e.jsxs("div",{className:"button",onClick:G=>{R(G,"vcard")},type:"vcard",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/vCard.svg",alt:""})}),e.jsx("p",{children:"Mis Tarjeta De Presentacion QR"}),e.jsx("span",{children:"Comparte "})]}),e.jsxs("div",{className:"submenu",children:[e.jsx("p",{children:"Social Media"}),e.jsx("i",{children:e.jsx(Os,{})})]}),e.jsx("br",{}),e.jsxs("div",{className:"button",onClick:G=>{R(G,"whatsapp")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/whatsapp-icon.svg",alt:""})}),e.jsx("p",{children:"Crear Whatsapp"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:G=>{R(G,"instagram")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/instagram.svg",alt:""})}),e.jsx("p",{children:"Crear Instagram"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:G=>{R(G,"facebook")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/facebook.svg",alt:""})}),e.jsx("p",{children:"Crear Facebook"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:G=>{R(G,"twitter")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/twitter.svg",alt:""})}),e.jsx("p",{children:"Crear X"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:G=>{R(G,"tiktok")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/tiktok.svg",alt:""})}),e.jsx("p",{children:"Crear Tiktok"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:G=>{R(G,"websiteurl")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/website.png",alt:""})}),e.jsx("p",{children:"Crear Website URL"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsx("br",{}),e.jsxs("div",{className:"submenu",children:[e.jsx("p",{children:"Crear Otros QR's"}),e.jsx("i",{children:e.jsx(Os,{})})]}),e.jsx("br",{}),e.jsxs("div",{className:"button",onClick:G=>{R(G,"pdf")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/pdf.svg",alt:""})}),e.jsx("p",{children:"Subir PDF"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:G=>{R(G,"img")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/images.svg",alt:""})}),e.jsx("p",{children:"Subir Imagenes"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:G=>{R(G,"wifi")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/wifi.svg",alt:""})}),e.jsx("p",{children:"Crear Acceso WIFI"}),e.jsx("span",{children:"Link to a website of your choice"})]})]})]})}function zt({addNewQr:s,setMyQrs:i,VisibleMenu:l,type:t,visibleQr:d,setVisibleQr:r,buttons:c,setBoxType:m,setButtons:p,editor:o,setEditor:u}){var Ve,Ze,Ue,is,Xe,ts,ns,ls;const[j,n]=a.useState(!1),[h,x]=a.useState(void 0),[g,f]=a.useState(),[v,E]=a.useState(!1),[T,F]=a.useState(!1),[b,w]=a.useState(!1),[C,y]=a.useState(!1);a.useState(!0);const[k,N]=a.useState(!1),[_,S]=a.useState(!1),[R,W]=a.useState({}),se=oe(),de=U(),{UserInfo:I}=a.useContext(X);function q(Z){Z.preventDefault(),Z.stopPropagation();let K=$(Z.target);switch($(".page.buttonsbody .active").removeClass("active"),K.addClass("active"),K.attr("type")){case"addqr":var Y=K.attr("id");switch(u({type:"addqr",key:Y}),Y){case"0":m("vcard");break;case"1":m("rs");break;default:m("all");break}break;case"rs":var Y=K.attr("id");u({type:"rs",key:Y});break;case"titlespace":u({type:"titlespace",key:Number(K.attr("id"))});break;default:u({type:K.attr("type")});break}return!1}function z(Z){Z.stopPropagation();let K=!0;p(Y=>{const ie={...Y};return K&&(K=!1,ie.elements.push({qrs:[]})),ie})}function O(Z,K){p(Y=>{const ie={...Y};return ie.elements[Z]&&ie.elements[Z].qrs[K]&&ie.elements[Z].qrs.splice(K,1),ie})}async function ae(){var Z;if(c.header.titlegl.length>=1){E(!0);let K=new FormData;K.append("json",JSON.stringify(c)),h==null?K.append("title",c.header.titlegl):K.append("id_buttonsqr",h),K.append("id_company",(Z=I==null?void 0:I.company)==null?void 0:Z.id_company);let Y=[];K.append("preview",Y),P.post(D+"/api/upload/buttonsqr",K,{withCredentials:!0}).then(ie=>ie.data).then(ie=>{E(!1),ie.id_buttonsqr&&(x(Number(ie.id_buttonsqr)),f(ie.token),se.id||de(`/editor/buttonsqr/${Number(ie.id_buttonsqr)}`)),ie.status&&M.success("Guardado con exito"),ie.msg&&M.error(ie.msg)}).catch(ie=>{E(!1)})}else n(!0),M.error("Opps no puedes avanzar si tu plantilla no posee un titulo")}function te(Z){let K=Z.target.value;p(Y=>{let ie={...Y};return ie.header.titlegl=K,ie})}function G(){c.header.titlegl&&(n(!1),M.success("El titulo se aplico con exito"),ae())}function ne(){var Z,K,Y;$("#title").val((Z=c==null?void 0:c.header)==null?void 0:Z.title),$("#desc").val((K=c==null?void 0:c.header)==null?void 0:K.desc),(Y=c==null?void 0:c.elements)==null||Y.forEach((ie,Qe)=>{$("p[type='titlespace']").eq(Qe).text(ie.title)})}a.useEffect(()=>{var Z;if(se.id){let K=new FormData;K.append("id_buttonsqr",se.id),K.append("id_company",(Z=I==null?void 0:I.company)==null?void 0:Z.id_company),P.post(D+"/api/get/editbuttonsqr",K,{withCredentials:!0}).then(Y=>Y.data).then(Y=>{Y.id_buttonsqr&&(p(JSON.parse(Y.json)),x(Y.id_buttonsqr),f(Y.token))})}},[]),a.useEffect(()=>{var Z;_||(t==="company"&&h===void 0&&((Z=c.elements[0])==null?void 0:Z.title)==="Business Card"||t!=="company")&&c&&c.elements.length>0&&(ne(),S(!0))},[h,t,c]);function xe(Z){p(K=>{let Y={...K};return Y.header.title=Z.target.value,Y})}function pe(Z){p(K=>{let Y={...K};return Y.header.desc=Z.target.value,Y})}function Me(Z){p(K=>{let Y={...K};return Y.elements[o.key].title=Z.target.textContent,Y})}function fe(Z){let K=!0;p(Y=>{let ie={...Y};return K&&(K=!1,ie.elements.splice(Z,1)),ie})}function Ne(){document.querySelector("input[name='photo']").click()}function De(Z){let K=Z.target.files[0];K&&((K==null?void 0:K.type.indexOf("image"))>=0?W(K):M.error("El archivo no es compatible"))}function Ye(){var Z;if(F(!0),R){let K=new FormData;K.append("id_company",(Z=I==null?void 0:I.company)==null?void 0:Z.id_company),K.append("file",R),P.post(D+"/api/upload/fileqr",K,{withCredentials:!0}).then(Y=>Y.data).then(Y=>{F(!1),Y.status&&(p(ie=>{let Qe={...ie};return Qe.header.logo=Y.download,Qe}),as(),N(!1),M.success("Nueva imagen!"))}).catch(Y=>{F(!1)})}}function as(){W({}),document.querySelector("input[name='photo']").value=""}return a.useEffect(()=>{l()},[k,b]),e.jsxs(e.Fragment,{children:[e.jsxs(re,{visible:k,next:"Agregar",callback:N,onClick:Ye,Pending:T,children:[e.jsx("input",{type:"file",name:"photo",onChange:De,hidden:!0}),e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Subir archivo"}),e.jsx("span",{children:"Sube tu imagen que no sea mayor a 5 MB"})]}),e.jsx("div",{className:"select-file",children:R.name?e.jsxs("div",{className:"file",children:[e.jsx("div",{className:"right",children:e.jsx("button",{onClick:as,children:e.jsx(ce,{})})}),e.jsx("div",{className:"preview",children:e.jsxs("div",{className:"fi",children:[e.jsx("div",{className:"icon",children:e.jsx(Le,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:R==null?void 0:R.name}),e.jsx("span",{children:R==null?void 0:R.type})]})]})})]}):e.jsxs("div",{className:"drop-file",onClick:Ne,children:[e.jsx("i",{children:e.jsx(Fe,{})}),e.jsx("span",{className:"desc",children:"Has click aca para buscar tu archivo"})]})})]}),e.jsxs(re,{visible:j,close:n,callback:n,onClick:G,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("span",{children:"Elige un titulo general para esta plantilla"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Titulo general"}),e.jsx("input",{onChange:te,type:"text",placeholder:"ej: plantilla 1"})]})]}),e.jsx(ga,{Visible:b,Close:w},b?"x12":"x23"),e.jsx(Ss,{callbackUrl:s,Visible:C,Close:y},C?"s14":"s15"),e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{onClick:Z=>{y(!0)},children:[e.jsx(Fe,{})," Crear QR"]}),e.jsxs("button",{onClick:Z=>{w(!0)},children:[e.jsx(Fe,{})," Importar QR"]}),e.jsxs("button",{onClick:Z=>{},children:[e.jsx(Oe,{})," Previsualizar"]}),g?e.jsxs("button",{onClick:Z=>{de(`/buttonsqr/${g}?install=true`)},children:[e.jsx(L,{icon:"ic:round-install-mobile"})," Instalar"]}):"",e.jsxs("button",{className:v?"await":"",onClick:ae,children:[e.jsx(ss,{})," Guardar ",e.jsx("div",{className:"loading"})]})]})}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(Ve=c==null?void 0:c.header)==null?void 0:Ve.blur}px)brightness(${(Ze=c==null?void 0:c.header)==null?void 0:Ze.brightness})`,WebkitBackdropFilter:`blur(${(Ue=c==null?void 0:c.header)==null?void 0:Ue.blur}px)`,background:(is=c==null?void 0:c.header)==null?void 0:is.background2}}),e.jsx("div",{className:"header",style:{background:(Xe=c==null?void 0:c.header)==null?void 0:Xe.backgroundHeader}}),e.jsx("div",{className:`${"page buttonsbody buttonsqr editmode "+((ts=c==null?void 0:c.header)==null?void 0:ts.theme)}`,children:e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",onClick:q,type:"logo",src:(ns=c==null?void 0:c.header)!=null&&ns.logo?(ls=c==null?void 0:c.header)==null?void 0:ls.logo:"/img/icons/default-img.jpg",alt:""}),e.jsxs("button",{className:"action",onClick:Z=>{N(!0)},children:[e.jsx(si,{})," Agregar Imagen"]}),e.jsx("br",{}),e.jsx("input",{id:"title",onClick:q,onChange:xe,suppressContentEditableWarning:!0,contentEditable:!0,placeholder:"Nombre"}),e.jsx("textarea",{placeholder:"Descripcion",id:"desc",onClick:q,onChange:pe,suppressContentEditableWarning:!0,contentEditable:!0,type:"desc"}),e.jsx("br",{}),e.jsx("br",{}),c.elements.map((Z,K)=>e.jsxs("div",{className:"boxqr",children:[e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"top-left",children:e.jsx("p",{id:K,suppressContentEditableWarning:!0,contentEditable:!0,type:"titlespace",onInput:Me,onClick:Y=>{q(Y)},children:"Escribe titulo..."})}),e.jsxs("div",{className:"top-right",children:[e.jsxs("button",{className:`${(o==null?void 0:o.key)==K&&(o==null?void 0:o.type)=="addqr"?"select":""}`,id:K,type:"addqr",onClick:Y=>{q(Y),l("right")},children:[e.jsx("i",{children:e.jsx(Ee,{})}),"  Seleccionar QR"]}),e.jsx("button",{id:K,onClick:Y=>{fe(K)},children:"Eliminar"})]})]}),e.jsx(js.Carousel,{showThumbs:!1,showStatus:!1,children:Z.qrs.map((Y,ie)=>e.jsxs("div",{className:"qr",children:[e.jsx("button",{className:"delete",onClick:Qe=>{O(K,ie)},children:e.jsx(ce,{})}),e.jsx("img",{src:Y.image}),e.jsx("p",{children:Y.title}),e.jsx("br",{})]},ie))}),Z.qrs.length==0?e.jsx("div",{className:"add-qr",children:"+"}):""]},K)),e.jsxs("div",{className:"add-new",onClick:z,children:[e.jsx(Ke,{})," Agregar Caja"]}),e.jsx("br",{}),e.jsxs("div",{className:"actions-bottom",children:[e.jsxs("button",{className:v?"await":"",onClick:ae,children:[e.jsx(Ke,{})," Guardar ",e.jsx("div",{className:"loading"})]}),e.jsx("br",{}),e.jsxs("button",{onClick:Z=>{de(`/buttonsqr/${g}?install=true`)},children:[e.jsx(L,{icon:"ic:round-install-mobile"})," Instalar"]})]})]})})]})}function Bt({Visible:s,Close:i,Callback:l,setType:t,TypeSelect:d}){a.useContext(X);const[r,c]=a.useState(0),[m,p]=a.useState([Te()]),[o,u]=a.useState({type:"",name:""});U();function j(x){x.stopPropagation(),x.preventDefault();let g=$(x.target);g.parents(".options").find(".active").removeClass("active"),g.addClass("active");let f=g.attr("value");u(v=>({...v,type:f}))}function n(x){let g=!1;$(x.target),(r===0&&o.type=="company"||o.type=="personal")&&(g=!0),g&&o.type&&(t(o.type),l(!1))}function h(x){let g=x.target.name,f=x.target.value;u(v=>({...v,[g]:f}))}return a.useEffect(()=>{$(".case.active").removeClass("active"),$(".case").eq(r).addClass("active")},[r]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[r>0?e.jsxs("button",{className:"return",onClick:x=>{c(g=>g-1)},children:[e.jsx(Ge,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",d?e.jsx("button",{className:"closed",onClick:x=>{l(!1)},children:"X"}):""]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crea tu botonera QR"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de botonera QR que deseas crear"})]}),e.jsxs("div",{className:"options flex",id:`options-${m[0]}`,children:[e.jsxs("div",{className:"selector",onClick:j,value:"personal",children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Botonera Personal"}),e.jsx("span",{children:"Crea tu botonera y unifica toda tu presencia personal / online de manera sencilla, rápida y gratuita."})]})]}),e.jsxs("div",{className:"selector",onClick:j,value:"company",children:[e.jsx("div",{className:"check",children:e.jsx(ve,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Botonera Empresarial"}),e.jsx("span",{children:"La botonera empresarial viene con una plantilla predeterminada, donde podras generar multiples QR's y donde puedes crear a tu estilo, fondos y colores."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar Lista"}),e.jsx("span",{className:"desc",children:"Asignale un nombre a tu nueva lista."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de lista"}),e.jsx("input",{type:"text",name:"name",onChange:h,placeholder:"Nombre"})]})})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:"next",onClick:n,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function Zs(){var w;const[s,i]=a.useState({header:{titlegl:"",title:"",desc:"",img:"",background:"",theme:"ligth"},elements:[]}),[l,t]=a.useState({key:"",type:""}),d=oe(),[r,c]=a.useState(void 0),[m,p]=a.useState(!1),[o,u]=a.useState(),[j,n]=a.useState(!1),[h,x]=a.useState([]),{UserInfo:g}=a.useContext(X),[f,v]=a.useState({left:!1,right:!1});a.useEffect(()=>{switch(r){case"personal":i({header:{titlegl:"",title:"",desc:"",img:"",background:""},elements:[]});break;case"company":i({header:{titlegl:"",title:"",desc:"",img:"",background:""},elements:[{title:"Business Card",qrs:[]},{title:"Redes Sociales",qrs:[]},{title:"Presentaciones",qrs:[]}]});break}},[r]);function E(C){let y={left:!1,right:!1};switch(C){case"left":y={...y,left:!0};break;case"right":y={...y,right:!0};break}v(y)}function T(C,y){let k=!0;n(!1),le.success("Qr agregado con exito"),i(N=>{const _={...N};if(k){k=!1;const S=[..._.elements[l.key].qrs,{image:y,title:C}];_.elements[l.key].qrs=S}return _})}function F(C){var k;let y=new FormData;y.append("id_company",(k=g==null?void 0:g.company)==null?void 0:k.id_company),C&&y.append("type",C),P.post(D+"/api/get/qrs",y,{withCredentials:!0}).then(N=>N.data).then(N=>{x(N)})}a.useEffect(()=>{F(),d.id||p(!0)},[]),a.useEffect(()=>{E()},[j]);function b(C){var N;C.preventDefault(),C.stopPropagation();let y=Number(C.target.dataset.idqr);x(_=>_.filter(R=>R.id_qr!==y)),le.success("Qr Eliminado");let k=new FormData;k.append("id_company",(N=g==null?void 0:g.company)==null?void 0:N.id_company),k.append("id_qr",y),P.post(D+"/api/delete/qr",k,{withCredentials:!0}).finally(()=>{})}return e.jsxs(e.Fragment,{children:[e.jsxs(re,{visible:j,maxWidth:"450px",callback:n,buttonSave:!1,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Galeria de Qr's"}),e.jsx("span",{children:"Tu galeria de qrs, donde podras seleccionar que qr quieres integrar"})]}),e.jsx("div",{className:"data row flex control-scroll-qrs",children:h.map((C,y)=>e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"qrs",onClick:k=>{T(C==null?void 0:C.title,rs(C.qr_preview))},image:rs(C.qr_preview),title:C.title,children:[e.jsx("img",{src:rs(C.qr_preview),alt:""}),e.jsx("p",{children:C.title}),e.jsx("button",{className:"delete",onClick:b,"data-idqr":C.id_qr,children:e.jsx(L,{icon:"ph:trash-bold"})})]})},y))})]}),e.jsx(Bt,{Visible:m,Callback:p,setType:c,TypeSelect:r}),e.jsxs("div",{className:"editor-surveys",children:[e.jsx("button",{className:"fixed-button-right mb",onClick:C=>{E("left")},children:e.jsx(L,{icon:"streamline:paint-palette"})}),e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:`left ${f.left==!0?"active":""}`,children:e.jsx(Ot,{VisibleMenu:E,Visible:f.left,editor:l,setEditor:t,buttons:s,setButtons:i})}),e.jsx("div",{className:"center ",style:{background:(w=s==null?void 0:s.header)==null?void 0:w.background},children:e.jsx(zt,{setMyQrs:x,addNewQr:T,VisibleMenu:E,type:r,setVisibleQr:n,visibleQr:j,boxType:o,setBoxType:u,editor:l,setEditor:t,buttons:s,setButtons:i})}),e.jsx("div",{className:`right ${f.right==!0?"active":""}`,children:e.jsx("div",{className:"type-editor",children:e.jsx($t,{VisibleMenu:E,Visible:f.right,getMyQrs:F,addNewQr:T,setVisibleQr:n,visibleQr:j,boxType:o,setBoxType:u,editor:l,setEditor:t,buttons:s,setButtons:i})})})]})]})]})}function Vt(){const[s,i]=a.useState(0),l=U(),[t,d]=a.useState({user:null,existsAccount:null,code:null,intent:0}),[r,c]=a.useState(!1);function m(){let n=new FormData;n.append("user",t.user),t.user?(c(!0),P.post(D+"/api/recovery/existsuser",n).then(h=>h.data).then(async h=>{h.status?(await u(),c(!1),i(1),M.success("Tu codigo ha sido enviado al correo electronico")):(M.error("Opps no se ha conseguido este usuario"),c(!1))}).catch(h=>{M.error("Opps error al enviar la peticion."),c(!1)})):M.error("Has dejado el usuario vacido")}function p(){let n=new FormData;n.append("user",t==null?void 0:t.user),n.append("code",t==null?void 0:t.code),P.post(D+"/api/recovery/checkcode",n).then(h=>h.data).then(h=>{h.status?(i(2),M.success("Has ingresado el codigo correctamente")):(d({...t,intent:t.intent+1}),M.error("Error con tu codigo de seguridad"))})}function o(n){let h=n.target.name,x=n.target.value;d({...t,[h]:x})}async function u(){let n=new FormData;n.append("user",t==null?void 0:t.user),c(!0),P.post(D+"/api/recovery/requestcode",n).then(h=>h.data).then(h=>{c(!1),h.status?M.success("Codigo enviado correctamente."):M.error("Opps error al obtener un nuevo codigo, espera un momento...")}).catch(h=>{c(!1)})}function j(){let n=new FormData;n.append("user",t.user),n.append("password",t.password),n.append("password2",t.password2),n.append("code",t.code),t.password&&t.password2?t.password==t.password2?P.post(D+"/api/recovery/changepassword",n).then(h=>h.data).then(h=>{h.status?(M.success("Has cambiado la password correctamente"),l("/")):M.error("Opps error al cambiar la password")}):M.error("Las passwords no coiciden"):M.error("Has dejado campos vacios")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"recovery",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Recupera tu cuenta"}),e.jsx("span",{children:"Recupera tu cuenta con un correo o el nombre de usuario"})]}),e.jsx("br",{}),s==0?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Usuario / email"}),e.jsx("input",{type:"text",name:"user",onChange:o,placeholder:"guest@gmail.com"})]}),e.jsxs("button",{className:`go ${r?"await":""}`,onClick:m,children:["Buscar cuenta... ",e.jsx("div",{className:"loading"})]})]}):"",s==1?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{htmlFor:"",children:["Ingresa el codigo enviado a (",e.jsx("b",{children:t.user}),") "]}),e.jsx("input",{type:"password",name:"code",onChange:o,placeholder:"Codigo",style:{textAlign:"center"}})]}),t.intent?e.jsx(e.Fragment,{children:e.jsxs("button",{className:`transparent ${r?"await":""}`,onClick:u,children:["Pedir nuevo codigo ",e.jsx("div",{className:"loading"})]})}):"",e.jsxs("button",{className:`go ${r?"await":""}`,onClick:p,children:["Confirmar Codigo",e.jsx("div",{className:"loading"})]})]}):"",s==2?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Contraseña Nueva"}),e.jsx("input",{type:"password",name:"password",onChange:o,placeholder:"••••••••"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Repita contraseña nueva"}),e.jsx("input",{type:"password",name:"password2",onChange:o,placeholder:"••••••••"})]}),e.jsxs("button",{className:`go ${r?"await":""}`,onClick:j,children:["Actualizar Contraseña",e.jsx("div",{className:"loading"})]})]}):""]})})}function Qt(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top",children:[e.jsx("ul",{}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"form-search",children:e.jsx("input",{type:"text",placeholder:"Buscar usuario..."})})})]})})}function Wt(){const[s,i]=a.useState([]),{UserInfo:l}=a.useContext(X);function t(d,r){var m;let c=new FormData;c.append("id_company",(m=l==null?void 0:l.company)==null?void 0:m.id_company),P.post(D+"/api/get/contacts",c,{withCredentials:!0}).then(p=>p.data).then(p=>{i(p.result)})}return a.useEffect(()=>{t()},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Contactos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]})}),e.jsx(Qt,{}),e.jsx("div",{className:"box box-padding",children:e.jsx("table",{children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Email"}),e.jsx("td",{children:"Nombre"}),e.jsx("td",{children:"Apellido"}),e.jsx("td",{children:"Dni"}),e.jsx("td",{children:"Numero"}),e.jsx("td",{children:"Sexo"}),e.jsx("td",{children:"Email Verificado"}),e.jsx("td",{children:"Estatus"})]}),s.map((d,r)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("span",{children:d.email?d.email:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:d.name?d.name:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:d.lastname?d.lastname:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:d.dni?d.dni:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:d.phone?d.phone:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:d.sexo?d.name:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:d.email_verified?d.email_Verified:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:d.status?d.status:"No disponible"})})]}))]})})})]})}function Ht(){var c;const s=a.useRef(null);let{UserInfo:i}=a.useContext(X);const[l,t]=a.useState(!1),d=U();a.useEffect(()=>{const m=ai.init({container:s.current,plugins:[ii,ti,ni,li]});return m.Storage.destroy(),m.Panels.addButton("options",{id:"return",label:"Volver",command:async function(){d("/landings")}}),m.Panels.addButton("options",{id:"save-html-button",className:"save-html-button-class",label:"Guardar",command:async function(){const p=m.getHtml(),o=m.getCss(),u=await m.store("export").then(h=>JSON.stringify(h));let j=new FormData,n=$("input[name='name']").val();j.append("id_company",$("#id_company").val()),j.append("html",p),j.append("name",n),j.append("css",o),j.append("json",u),Number($("#id_edit").val())>=1&&j.append("id",$("#id_edit").val()),n.length?P.post(D+"/api/upload/landing",j,{withCredentials:!0}).then(h=>h.data).then(h=>{h.status&&(M.success("Guardado con exito"),h.id_create&&$("#id_edit").val(h.id_create))}):(M.error("Opps no has elegido un titulo"),t(!0))}}),m.Panels.addButton("options",{id:"gallery",label:"Galeria",command:async function(){}}),()=>{m.destroy()}},[]);function r(){$("input[name='name']").val()?t(!1):M.error("Opps no has asignado un titulo")}return e.jsx(e.Fragment,{children:e.jsxs("body",{theme:"ligth",children:[e.jsxs(re,{visible:l,callback:t,close:t,onClick:r,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Elegir titulo"}),e.jsx("span",{children:"elige un titulo para esta plantilla"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{name:"name",type:"text",placeholder:"Titulo"})})]}),e.jsx("input",{type:"number",id:"id_edit",hidden:!0}),e.jsx("input",{type:"number",id:"id_company",value:(c=i==null?void 0:i.company)==null?void 0:c.id_company,hidden:!0}),e.jsx("div",{ref:s})]})})}function It(){const[s,i]=a.useState([]),{UserInfo:l}=a.useContext(X),[t,d]=a.useState(!0),r=U();function c(){var p;let m=new FormData;m.append("id_company",(p=l==null?void 0:l.company)==null?void 0:p.id_company),P.post(D+"/api/get/landings",m,{withCredentials:!0}).then(o=>o.data).then(o=>{i(o),d(!1)})}return a.useEffect(()=>{c()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Landings"}),e.jsx("span",{children:"Aqui veras todas tus landings creadas con anterioridad podras editarlas o eliminarlas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:m=>{r("/editor/landings")},children:"Crear nueva landing"})})]}),e.jsx("div",{className:"row",children:t==!1?s.map((m,p)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:"url(/img/icons/default-img.jpg)"},children:e.jsx("div",{className:"right-top",children:e.jsx("button",{onClick:o=>{r(`/landing/${m.token}`)},children:e.jsx(Oe,{})})})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:m==null?void 0:m.name}),e.jsxs("span",{children:["Encuesta agregada el: ",he(m.time_add)]})]})]})},p)):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(we,{})})})})]})}function Gt(){const s=oe();return a.useEffect(()=>{function i(){const l=new FormData;l.append("token",s.id),P.post(D+"/api/get/landing",l).then(t=>t.data).then(t=>{document.documentElement.innerHTML="",document.documentElement.innerHTML=t.html})}i()},[s.id]),null}function Jt(){const s=U(),{UserInfo:i}=a.useContext(X),[l,t]=a.useState([]),[d,r]=a.useState({id_delete:null,pending:!1}),[c,m]=a.useState(!1);function p(){var u;let o=new FormData;o.append("id_company",(u=i==null?void 0:i.company)==null?void 0:u.id_company),P.post(D+"/api/get/buttons",o,{withCredentials:!0}).then(j=>j.data).then(j=>{t(j)})}return a.useEffect(()=>{p()},[]),e.jsxs(e.Fragment,{children:[e.jsx(Re,{visible:c,callback:m,Pending:d.pending}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MIS BOTONERAS URL"}),e.jsx("span",{children:"Previsualiza, edita, elimina y visualiza las estadisticas de tus botoneras de URL."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:o=>{s("/editor/buttons")},children:"Crear nueva botonera"})})]}),e.jsx("div",{className:"row",children:l.map((o,u)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${D}/api/get/previewbuttons?hash=${o.preview}&w=buttons)`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{title:"Editar",onClick:j=>{s("/editor/buttons/"+o.id_buttons)},children:e.jsx(L,{icon:"carbon:edit"})}),e.jsx("button",{title:"Previsualizar",onClick:j=>{s(`/stats/buttons/${o.token}`)},children:e.jsx(L,{icon:"mingcute:eye-line"})}),e.jsx("button",{title:"Estadisticas",onClick:j=>{s(`/buttons/${o.token}`)},children:e.jsx(L,{icon:"ps:stats"})}),e.jsx("button",{title:"Eliminar",onClick:j=>{m(!0)},children:e.jsx(L,{icon:"ph:trash"})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:o==null?void 0:o.title}),e.jsxs("span",{children:["Botonera agregada el: ",he(o.time_add)]})]})]})},u))})]})}function Xt(){const s=U(),{UserInfo:i}=a.useContext(X),[l,t]=a.useState([]),[d,r]=a.useState(null),[c,m]=a.useState(!1),[p,o]=a.useState(!1),u=U(),[j,n]=a.useState(!1);function h(){var f;let g=new FormData;n(!0),g.append("id_company",(f=i==null?void 0:i.company)==null?void 0:f.id_company),P.post(D+"/api/get/buttonsqr",g,{withCredentials:!0}).then(v=>v.data).then(v=>{t(v),n(!1)}).catch(v=>{n(!1)})}function x(){var g;if(d){m(!0);let f=new FormData;f.append("id_company",(g=i==null?void 0:i.company)==null?void 0:g.id_company),f.append("id_buttonqr",d),P.post(D+"/api/delete/buttonsqr",f,{withCredentials:!0}).then(v=>v.data).then(v=>{v.status&&(o(!1),le.success("Se ha borrado con exito!"),h()),m(!1)}).catch(v=>{m(!1)})}}return a.useEffect(()=>{h()},[]),e.jsxs(e.Fragment,{children:[e.jsx(Re,{visible:p,onClick:x,Pending:c,callback:o}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MIS BOTONERAS QR"}),e.jsx("span",{children:"Previsualiza, edita, elimina y visualiza las estadisticas de tus QR's."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:g=>{s("/editor/buttonsqr")},children:"Crear nueva botoneraQR"})})]}),e.jsx("div",{className:"loading-box",children:j?e.jsx(we,{}):l.length==0?e.jsx(ge,{addNew:!0,name:"botoneras",callback:g=>{u("/editor/buttonsqr")}}):""}),e.jsx("div",{className:"row",children:l.map((g,f)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${D}/api/get/previewbuttons?hash=${g.preview}&w=buttonsqr)`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{title:"editar",onClick:v=>{u("/editor/buttonsqr/"+g.id_buttonsqr)},children:e.jsx(L,{icon:"carbon:edit"})}),e.jsx("button",{title:"previsualizar",onClick:v=>{u(`/buttonsqr/${g.token}`)},children:e.jsx(L,{icon:"mingcute:eye-line"})}),e.jsx("button",{title:"eliminar",onClick:v=>{o(!0),r(g.id_buttonsqr)},children:e.jsx(L,{icon:"ph:trash"})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:g==null?void 0:g.title}),e.jsxs("span",{children:["Botonera agregada el: ",he(g.time_add)]})]})]})},f))})]})}function Kt(){var n,h,x,g,f,v,E,T,F,b,w,C;let s=oe();const[i,l]=a.useState(!1),[t,d]=a.useState({elements:[]}),[r,c]=a.useState(!1),[m,p]=a.useState(null),o=U();function u(){let y=new FormData;y.append("token",s.id),P.post(D+"/api/get/buttonsqr",y).then(k=>k.data).then(k=>{d(k)})}a.useEffect(()=>{u(),yi("install")=="true"&&l(!0)},[]);function j(y){let k=new FormData;y=new URL(y).searchParams.get("url"),k.append("img",y),P.post(D+"/api/get/dataqr",k,{withCredentials:!0}).then(_=>_.data).then(async _=>{if(_.length){let S=_[0];S.data_qr?Fi()=="Desktop"?(p(S.data_qr),c(!0)):await navigator.share({title:"Compartir",text:"test",url:S.data_qr}):le.error("Opps este QR no tiene datos para compartir.")}else le.error("Opps error al localizar el qr")})}return a.useEffect(()=>{r||p(null)},[r]),e.jsxs(e.Fragment,{children:[e.jsx(va,{Visible:r,CallbackVisible:c,value:m}),i?e.jsxs(re,{visible:!0,maxWidth:250,next:"Listo",onClick:y=>{l(!1),o("/buttonsqr/"+s.id)},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Instalar"}),e.jsx("span",{children:"instalar acceso directo rapidamente en iphone."}),e.jsx("br",{}),e.jsx("br",{})]}),e.jsx("div",{className:"img-tuto-buttonsqr",children:e.jsxs(js.Carousel,{showThumbs:!1,children:[e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone1.png",alt:""}),e.jsx("span",{children:"Preciona el boton de compartir en la parte de abajo"})]}),e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone2.png",alt:""}),e.jsx("span",{children:"Luego ve al final con el scroll"})]}),e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone3.png",alt:""}),e.jsx("span",{children:"Agrega a inicio"})]}),e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone4.png",alt:""}),e.jsx("span",{children:"Ahora configura y guarda"})]}),e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone5.png",alt:""}),e.jsx("span",{children:"Listo ya tienes tu acceso directo."})]})]})})]}):"",e.jsx("div",{className:"editor-surveys prodbuttonsqr",children:e.jsxs("div",{className:"center",style:{background:(n=t==null?void 0:t.header)==null?void 0:n.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(h=t==null?void 0:t.header)==null?void 0:h.blur}px)brightness(${(x=t==null?void 0:t.header)==null?void 0:x.brightness})`,background:(g=t==null?void 0:t.header)==null?void 0:g.background2}}),e.jsx("div",{className:"header",style:{background:(f=t==null?void 0:t.header)==null?void 0:f.backgroundHeader}}),e.jsx("div",{className:`${"page buttonsbody buttonsqr "+((v=t==null?void 0:t.header)==null?void 0:v.theme)}`,children:e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",type:"logo",src:(E=t==null?void 0:t.header)!=null&&E.logo?(T=t==null?void 0:t.header)==null?void 0:T.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{type:"title",children:(F=t==null?void 0:t.header)!=null&&F.title?(b=t==null?void 0:t.header)==null?void 0:b.title:""}),e.jsx("span",{type:"desc",children:(w=t==null?void 0:t.header)!=null&&w.desc?(C=t==null?void 0:t.header)==null?void 0:C.desc:""}),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("div",{className:"share",children:[e.jsx("button",{onClick:y=>{o("/")},children:"Home"}),e.jsx("button",{onClick:y=>{c(!0)},children:"Recomendar"}),e.jsx("button",{className:"update",onClick:y=>{window.location.href=window.location.href},children:"Actualizar"})]}),t.elements.map((y,k)=>{var N;return e.jsx(e.Fragment,{children:(N=y==null?void 0:y.qrs)!=null&&N.length?e.jsxs("div",{className:"boxqr",children:[e.jsx("div",{className:"top",children:e.jsx("div",{className:"top-left",children:e.jsx("p",{id:k,type:"titlespace",children:y.title?y.title:""})})}),e.jsx(js.Carousel,{showThumbs:!1,showIndicators:!1,showStatus:!1,children:y.qrs.map((_,S)=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"qr",children:[e.jsx("p",{style:{textTransform:"uppercase",fontSize:"13px"},children:_.title}),e.jsx("img",{src:_.image})]}),e.jsxs("div",{className:"buttons-qrs",children:[e.jsx("button",{onClick:R=>{j(_.image)},children:"Compartir"}),e.jsx("button",{className:"info",onClick:R=>{alert("Si dejas presionada el QR podras habilitar funciones especiales de tu sistema operativo")},children:e.jsx(L,{icon:"carbon:information-filled"})})]})]}))})]}):""})})]})})]})})]})}function Yt(){const s=oe();a.useState();const{UserInfo:i}=a.useContext(X);function l(){var d;let t=new FormData;t.append("token",s.id),t.append("id_company",(d=i==null?void 0:i.company)==null?void 0:d.id_company),P.post(D+"/api/get/statbuttons",t,{withCredentials:!0})}return a.useEffect(()=>{l()},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Botonera: ",s.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu encuesta"})]})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Estadisticas de enlaces"})}),e.jsx("div",{className:"result countryr"})]})}),e.jsx("div",{className:"col-md-6",children:"lorem"})]})]})}function Zt(){var u,j;const s=oe(),[i,l]=a.useState(!1),t=U(),{UserInfo:d}=a.useContext(X),[r,c]=a.useState({total_clicks:0,total_errors:0,total_reads:0,total_sends:0,last_sends:[],last_errors:[]}),[m,p]=a.useState({series:[{name:"Enviados",data:[]},{name:"Clicks",data:[]},{name:"Leidos",data:[]},{name:"Errores",data:[]}],chart:{height:350,type:"area"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{categories:[]},tooltip:{x:{format:"dd/MM/yy HH:mm"}}});function o(){var n;if(i){let h=new FormData;h.append("id_company",(n=d==null?void 0:d.company)==null?void 0:n.id_company),h.append("id_campaign",s.id),h.append("case","campaign"),P.post(D+"/api/get/stats",h,{withCredentials:!0}).then(x=>x.data).then(x=>{let g=x.daysResponse.length;c({...r,total_sends:x.total_sends,total_reads:x.total_reads,total_errors:x.total_errors,total_clicks:x.total_clicks,last_sends:x.last_sends,last_errors:x.last_errors,type_campaign:x.type_campaign}),g&&p(f=>({...f,series:[{...f.series[0],data:f.series[0].data.concat(x.daysResponse.map(v=>v.send))},{...f.series[1],data:f.series[1].data.concat(x.daysResponse.map(v=>v.clicks))},{...f.series[2],data:f.series[2].data.concat(x.daysResponse.map(v=>v.reads))},{...f.series[3],data:f.series[3].data.concat(x.daysResponse.map(v=>v.errors))}],xaxis:{...f.xaxis,categories:x.daysTotal}}))}).catch(x=>{})}}return a.useEffect(()=>{l(!0),i&&o()},[i]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Estadisticas de campaña: ",s==null?void 0:s.id]}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:n=>{t("/campaigns/detail/"+s.id)},children:e.jsx(Je,{})})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Enviados"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:Number(r.total_sends)})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Recibidos"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:Number(r.total_sends)-Number(r.total_errors)})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Leidos"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:Number(r.total_clicks)})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Errores"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:Number(r.total_errors)})})]})})]}),e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Estadisticas Generales"}),e.jsx("span",{children:"ve las estadisticas de forma general y recorre por cada dia y mes"})]}),(j=(u=m==null?void 0:m.series[0])==null?void 0:u.data)!=null&&j.length?e.jsx(Ie,{options:m,series:m.series,type:"area",height:300}):""]}),e.jsxs("div",{className:"row ",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Analisis General"}),e.jsx("span",{children:"Analisis generales"})]}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Enviados:"})," ",r.total_sends]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Clicks:"})," ",r.total_clicks]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Leidos:"})," ",r.total_reads]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Errores:"})," ",r.total_errors]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Aceptacion General:"})," ",r.total_sends," %"]})})]}),e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimos Errores"}),e.jsx("span",{children:"Los ultimos errores registrados"})]}),e.jsxs("div",{className:"results",children:[r.last_errors.map((n,h)=>e.jsxs("div",{className:"item flex",children:[e.jsx("div",{children:e.jsx("span",{children:r.type_campaign=="em"?n.email:""})}),e.jsxs("div",{children:[e.jsx("button",{className:"status-send",children:e.jsx(Le,{})}),e.jsx("button",{className:`status-send ${n.error?"error":""}`,children:n.error?e.jsxs(e.Fragment,{children:["Error ",e.jsx($s,{})]}):e.jsxs(e.Fragment,{children:["Enviado  ",e.jsx(ve,{})]})})]})]})),r.last_errors.length==0?e.jsx(e.Fragment,{children:e.jsx(ge,{name:"errores"})}):e.jsx("div",{className:"show-all",children:e.jsx("button",{onClick:n=>{t("/campaigns/stats/detail/"+s.id)},children:"Ver detalles completo"})})]})]})]}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimos Enviados"}),e.jsx("span",{children:"Los ultimos envios salientes"})]}),e.jsxs("div",{className:"results",children:[r.last_sends.map((n,h)=>e.jsxs("div",{className:"item flex",children:[e.jsx("div",{children:e.jsx("span",{children:r.type_campaign.indexOf("em")>=0?n.email:r.type_campaign.indexOf("sms")>=0?n.phone:""})}),e.jsx("div",{children:e.jsx("button",{className:`status-send ${n.error?"error":""}`,children:n.error?e.jsxs(e.Fragment,{children:["Error ",e.jsx($s,{})]}):e.jsxs(e.Fragment,{children:["Enviado  ",e.jsx(ve,{})]})})})]})),r.last_sends.length==0?e.jsx(e.Fragment,{children:e.jsx(ge,{name:"errores"})}):e.jsx("div",{className:"show-all",children:e.jsx("button",{onClick:n=>{t("/campaigns/stats/detail/"+s.id)},children:" Ver detalles completo"})})]})]})})]})]})}function Ut(){const{UserInfo:s}=a.useContext(X),[i,l]=a.useState([]),t=U();function d(){var c;let r=new FormData;r.append("id_company",(c=s==null?void 0:s.company)==null?void 0:c.id_company),r.append("is_segment",1),P.post(D+"/api/get/list",r,{withCredentials:!0}).then(m=>m.data).then(m=>{l(m)})}return a.useEffect(()=>{d()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Segmentos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:r=>{t("/contacts/segments/add")},children:"Crear nuevo segmento"})})]}),e.jsx(ja,{lists:i})]})}function en(){const[s,i]=a.useState(!1),[l,t]=a.useState([]),[d,r]=a.useState(!1),[c,m]=a.useState(!1),[p,o]=a.useState({domain:null}),{UserInfo:u}=a.useContext(X);function j(){var g;let x=new FormData;x.append("id_company",(g=u==null?void 0:u.company)==null?void 0:g.id_company),t([]),i(!0),r(!0),P.post(D+"/api/get/domains",x,{withCredentials:!0}).then(f=>f.data).then(f=>{t(f),i(!1),r(!1),m(!1)}).catch(f=>{i(!1)})}function n(){var g;let x=new FormData;x.append("domain",p.domain),x.append("id_company",(g=u==null?void 0:u.company)==null?void 0:g.id_company),_i(p.domain)?P.post(D+"/api/upload/domain",x,{withCredentials:!0}).then(f=>f.data).then(f=>{f.status&&j()}):le.error("Opps este dominio no es veridico.")}function h(x){let g=x.target.value,f=x.target.name;o({...p,[f]:g})}return a.useEffect(()=>{j()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(re,{visible:c,Pending:d,callback:m,maxWidth:"450px",onClick:n,next:"Subir",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ingresar dominio"}),e.jsx("span",{children:"integra un nuevo dominio para utilizarlo en los envios de correo, recuerda que durara un tiempo en verificarse el dominio en nuestro servidor."})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Dominio:"}),e.jsx("input",{type:"url",onChange:h,name:"domain",placeholder:"mail.radarsystems.net"})]}),e.jsx("br",{})]},c?"xd":"xd2"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Dominios"}),e.jsx("span",{children:"Esta es tu lista de dominios que puedes utilizar en el envio de correos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:x=>{m(!0)},children:"Subir nuevo dominio"})})]}),e.jsxs("div",{className:"box box-padding",children:[l.map((x,g)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_link.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:x.domain}),e.jsx("p",{className:"desc",children:x.status?"Activo":"En verificacion..."}),e.jsx("span",{className:"desc",children:he(x.time_add)})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:f=>{},children:e.jsx(Le,{})}),e.jsx("button",{onClick:f=>{},children:e.jsx(ce,{})})]})]})),s?e.jsx(we,{}):l.length==0?e.jsx("div",{className:"item",children:e.jsx(ge,{name:"dominios"})}):""]})]})}function sn(){var v,E,T,F,b,w,C,y;const[s,i]=a.useState({type:void 0,map:{}}),[l,t]=a.useState({}),[d,r]=a.useState(!1),[c,m]=a.useState({name:"",desc:""}),{UserInfo:p}=a.useContext(X),o=U();function u(k){let N=k.target.name,_=k.target.value;i({...s,[N]:_})}function j(k){let N=k.target.name,_=k.target.value;switch(k.target.getAttribute("action")){case"add":i(R=>({...R,map:{...R.map,[N]:_}}));break;case"push":i({...s,...s.map,[N]:_});break}}function n(){var N;let k=new FormData;k.append("id_company",(N=p==null?void 0:p.company)==null?void 0:N.id_company),P.post(D+"/api/get/list",k,{withCredentials:!0}).then(_=>_.data).then(_=>{t(S=>(S.lists=_,S))})}function h(k){k.preventDefault(),i(N=>{let _={...N};_.map.wheres||(_.map.wheres=[]);const S={[_.map.typeWhereContact]:_.formValue};return _.map.wheres.some(W=>Object.keys(W).some(se=>W[se]===S[se]))||_.map.wheres.push(S),_})}function x(){var N;let k=new FormData;r(!0),k.append("json",JSON.stringify(s)),k.append("id_company",(N=p==null?void 0:p.company)==null?void 0:N.id_company),k.append("name",c.name),k.append("desc",c.desc),P.post(D+"/api/upload/segments",k,{withCredentials:!0}).then(_=>_.data).then(_=>{_.msg&&le.error(_.msg),_.status&&o("/contacts/detail/"+_.id_list)}).finally(()=>{r(!1)})}function g(k){let N=k.target.name,_=k.target.value;N&&_&&m({...c,[N]:_})}function f(k){k.preventDefault();const N=k.target.dataset.key;i(_=>{const S=_.map.wheres.filter(R=>!Object.keys(R).includes(N));return{..._,map:{..._.map,wheres:S}}})}return a.useEffect(()=>{s.type=="lists"&&n()},[s.type]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Segmentos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:bs,children:"Cancelar Creacion"})})]}),e.jsxs("div",{className:"segments-creator",children:[e.jsxs("form",{id:"form-segment",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Nombre"}),e.jsx("input",{type:"text",name:"name",onChange:g,placeholder:"Nombre del segmento"})]}),e.jsxs("div",{className:"inputs",children:[e.jsxs("select",{id:"",name:"type",onChange:u,children:[e.jsx("option",{disabled:!0,selected:!0,children:"Selecciona un tipo"}),e.jsx("option",{value:"lists",children:"Listas"}),e.jsx("option",{value:"campaings",children:"Campañas"}),e.jsx("option",{value:"surveys",children:"Encuestas"})]}),s.type=="lists"?e.jsxs(e.Fragment,{children:[e.jsxs("select",{id:"",name:"type_lists",action:"add",onChange:j,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Selecciona..."}),e.jsx("option",{value:"all",children:"Todas las listas"}),e.jsx("option",{value:"where",children:"Lista Especifica"})]}),e.jsx("i",{className:"some",children:" = "}),(s==null?void 0:s.map.type_lists)=="all"?e.jsx(e.Fragment,{children:e.jsx("option",{value:""})}):((v=s==null?void 0:s.map)==null?void 0:v.type_lists)=="where"?e.jsxs(e.Fragment,{children:[e.jsxs("select",{name:"lists",action:"add",id:"",onChange:j,children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"Selecciona la lista..."}),(E=l==null?void 0:l.lists)==null?void 0:E.map((k,N)=>e.jsx("option",{value:k.id_list,children:k.name}))]}),((T=s==null?void 0:s.map)==null?void 0:T.lists)>=1?e.jsxs("div",{className:"multiple",children:[e.jsxs("div",{className:"",children:[e.jsxs("select",{name:"typeWhereContact",action:"add",onChange:j,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Selecciona una condicion"}),e.jsx("option",{value:"email",children:"Correo"}),e.jsx("option",{value:"age",children:"Edad"}),e.jsx("option",{value:"country",children:"Pais"})]}),((F=s==null?void 0:s.map)==null?void 0:F.typeWhereContact)=="email"?e.jsxs("select",{name:"formValue",onChange:u,children:[e.jsx("option",{value:".es",children:".es"}),e.jsx("option",{value:".com",children:".com"}),e.jsx("option",{value:".net",children:".net"}),e.jsx("option",{value:".org",children:".org"}),e.jsx("option",{value:"gmail.com",children:"gmail.com"}),e.jsx("option",{value:"hotmail.com",children:"hotmail.com"}),e.jsx("option",{value:"hotmail.es",children:"hotmail.es"}),e.jsx("option",{value:"outlook.com",children:"outlook.com"}),e.jsx("option",{value:"outlook.es",children:"outlook.es"}),e.jsx("option",{value:"icloud.com",children:"icloud.com"})]}):"",["name","lastname","age","country"].includes((b=s==null?void 0:s.map)==null?void 0:b.typeWhereContact)&&e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",name:"formValue",onChange:u,placeholder:(w=s==null?void 0:s.map)==null?void 0:w.typeWhereContact})}),e.jsx("button",{className:"add-button",onClick:h,children:e.jsx(us,{})})]}),(y=(C=s==null?void 0:s.map)==null?void 0:C.wheres)==null?void 0:y.map((k,N)=>e.jsx("div",{children:Object.entries(k).map(([_,S])=>e.jsxs("div",{className:"where-contact",children:[e.jsxs("p",{children:[_," (Where)"]}),e.jsx("p",{children:S}),e.jsx("button",{className:"trash",onClick:f,"data-key":_,children:e.jsx(ce,{})})]},_))},N))]}):""]}):"",["name","lastname","age","country","state"].includes(s==null?void 0:s.type_where_now)&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",placeholder:s==null?void 0:s.type_where_now}),e.jsx("button",{children:e.jsx(us,{})})]})]}):""]})]}),e.jsxs("div",{className:"buttons-right",children:[e.jsx("button",{children:"Cancelar"}),e.jsxs("button",{className:`save ${d?"await":""}`,onClick:x,children:["Guardar ",e.jsx("div",{className:"loading"})]})]})]})]})}function Us(){U();const{UserInfo:s}=a.useContext(X),[i,l]=a.useState([]),[t,d]=a.useState([]),[r,c]=a.useState([]),[m,p]=a.useState([]),[o,u]=a.useState([]);a.useState([]),a.useState([]);const[j,n]=a.useState([]),[h,x]=a.useState([]),[g,f]=a.useState({});function v(b){var C;let w=new FormData;w.append("id_company",(C=s==null?void 0:s.company)==null?void 0:C.id_company),P.post(D+"/api/get/stats/global",w,{withCredentials:!0}).then(y=>y.data).then(y=>{f(y)})}function E(b){var C;let w=new FormData;w.append("id_company",(C=s==null?void 0:s.company)==null?void 0:C.id_company),w.append("type",b),w.append("limit","5"),P.post(D+"/api/get/campaign",w,{withCredentials:!0}).then(y=>y.data).then(y=>{switch(b){case"sms":l(y.results);break;case"em":d(y.results??[]);break;case"em-mt":c(y.results??[]);break;case"sms-mt":p(y.results??[]);break}})}function T(){var w;let b=new FormData;b.append("id_company",(w=s==null?void 0:s.company)==null?void 0:w.id_company),b.append("limit","10"),P.post(D+"/api/get/templatesall",b,{withCredentials:!0}).then(C=>C.data).then(C=>{n(C)})}function F(){var w;let b=new FormData;b.append("id_company",(w=s==null?void 0:s.company)==null?void 0:w.id_company),P.post(D+"/api/get/surveys",b,{withCredentials:!0}).then(C=>C.data).then(C=>{x(C)})}return a.useEffect(()=>{E("em"),E("em-mt"),E("sms"),E("sms-mt"),T(),F(),v()},[]),e.jsxs(e.Fragment,{children:[e.jsx(re,{visible:!1,children:"STATS"}),e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MI INICIO"}),e.jsx("span",{children:"Bienvenido a RadarSystems aca podras ver todas tus estadisticas y estados de tu cuenta"})]})}),e.jsx("div",{className:"body-stat",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total Envios Emails"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:g.total_sends})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total Envios Sms"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:g.total_sends_sms})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Campañas Creadas"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:g.total_campaigns})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total Contactos"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:g.total_contacts})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding hr",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Top's Campañas EMAIL"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]})})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding hr",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Top's Campañas SMS"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]})})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Email Marketing"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Cam."}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Rec."}),e.jsx("td",{children:"Lei."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:"Rep. Spam"}),e.jsx("td",{children:"Opt. Out"}),e.jsx("td",{children:"Opt. Net"}),e.jsx("td",{children:e.jsx(be,{})})]}),t.map((b,w)=>e.jsxs("tr",{id:w,children:[e.jsxs("td",{children:[e.jsx("span",{children:b.name}),e.jsx("br",{}),he(b.time_add)]}),e.jsx("td",{children:b.send}),e.jsx("td",{children:b.send}),e.jsx("td",{children:b.returned}),e.jsx("td",{children:b.reads}),e.jsx("td",{children:b.clicks}),e.jsx("td",{children:b.clicks}),e.jsx("td",{children:b.clicks}),e.jsx("td",{children:b.clicks}),e.jsx("td",{children:e.jsx(B,{to:"/campaigns/detail/"+b.id_campaign,children:e.jsx(be,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Email Transaccional (MT)"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Cam."}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Rec."}),e.jsx("td",{children:"Lei."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:"Rep. Spam"}),e.jsx("td",{children:"Opt. Out"}),e.jsx("td",{children:"Opt. Net"}),e.jsx("td",{children:e.jsx(be,{})})]}),r.map((b,w)=>e.jsxs("tr",{id:w,children:[e.jsxs("td",{children:[e.jsx("span",{children:b.name}),e.jsx("br",{}),he(b.time_add)]}),e.jsx("td",{children:b.send}),e.jsx("td",{children:b.send}),e.jsx("td",{children:b.returned}),e.jsx("td",{children:b.reads}),e.jsx("td",{children:b.clicks}),e.jsx("td",{children:b.clicks}),e.jsx("td",{children:b.clicks}),e.jsx("td",{children:b.clicks}),e.jsx("td",{children:e.jsx(B,{children:e.jsx(be,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Sms Marketing"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Cam."}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Rec."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:e.jsx(be,{})})]}),i.map((b,w)=>e.jsxs("tr",{id:w,children:[e.jsxs("td",{children:[e.jsx("span",{children:b.name}),e.jsx("br",{}),he(b.time_add)]}),e.jsx("td",{children:b.send}),e.jsx("td",{children:b.returned}),e.jsx("td",{children:b.reads}),e.jsx("td",{children:b.clicks}),e.jsx("td",{children:e.jsx(B,{children:e.jsx(be,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Sms Transaccional (MT)"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Cam."}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Rec."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:e.jsx(be,{})})]}),m.map((b,w)=>e.jsxs("tr",{id:w,children:[e.jsxs("td",{children:[e.jsx("span",{children:b.name}),e.jsx("br",{}),he(b.time_add)]}),e.jsx("td",{children:b.send}),e.jsx("td",{children:b.returned}),e.jsx("td",{children:b.reads}),e.jsx("td",{children:b.clicks}),e.jsx("td",{children:e.jsx(B,{children:e.jsx(be,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Whatsapp Marketing"}),e.jsx("span",{children:"Ve las campanas mas demandadas de whatsapp"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Cam."}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Rec."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:e.jsx(be,{})})]}),o.map((b,w)=>e.jsxs("tr",{id:w,children:[e.jsxs("td",{children:[e.jsx("span",{children:b.name}),e.jsx("br",{}),he(b.time_add)]}),e.jsx("td",{children:b.send}),e.jsx("td",{children:b.returned}),e.jsx("td",{children:b.reads}),e.jsx("td",{children:b.clicks}),e.jsx("td",{children:e.jsx(B,{children:e.jsx(be,{})})})]}))]}),o.length==0?e.jsx(ge,{name:"Whatsapp"}):""]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Whatsapp Transaccional (MT)"}),e.jsx("span",{children:"Ve las campanas mas demandadas de whatsapp"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Cam."}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Rec."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:e.jsx(be,{})})]}),o.map((b,w)=>e.jsxs("tr",{id:w,children:[e.jsxs("td",{children:[e.jsx("span",{children:b.name}),e.jsx("br",{}),he(b.time_add)]}),e.jsx("td",{children:b.send}),e.jsx("td",{children:b.returned}),e.jsx("td",{children:b.reads}),e.jsx("td",{children:b.clicks}),e.jsx("td",{children:e.jsx(B,{children:e.jsx(be,{})})})]}))]}),o.length==0?e.jsx(ge,{name:"Whatsapp"}):""]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Plantillas Creadas"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsx("div",{className:"result-go",children:j.map((b,w)=>e.jsxs("div",{className:"i",children:[e.jsxs("div",{className:"left",children:[e.jsx("p",{className:"name",children:b.title}),e.jsx("span",{className:"date",children:he(b.time_add)})]}),e.jsx("div",{className:"right",children:e.jsxs("button",{children:[e.jsx(Oe,{})," Ver "]})})]}))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Encuestas"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsx("div",{className:"result-go",children:h.map((b,w)=>e.jsxs("div",{className:"i",children:[e.jsxs("div",{className:"left",children:[e.jsx("p",{className:"name",children:b.header.title}),e.jsx("span",{className:"date",children:he(b.time_add)})]}),e.jsx("div",{className:"right",children:e.jsxs("button",{children:[e.jsx(Oe,{})," Ver"]})})]}))})]})})]})})]})}function an(){const s=U(),i=oe(),l=$e(),{UserInfo:t}=a.useContext(X);a.useState(null);const[d,r]=a.useState([]),[c,m]=a.useState(!0);function p(o=void 0){var j;let u=new FormData;m(!0),u.append("id_company",(j=t==null?void 0:t.company)==null?void 0:j.id_company),u.append("id_campaign",i.id),o!==void 0&&u.append("type",o),P.post(D+"/api/get/detailsends",u,{withCredentials:!0}).then(n=>n.data).then(n=>{r(n),m(!1)})}return a.useEffect(()=>{p()},[]),a.useEffect(()=>{let o=new URLSearchParams(l.search).get("where");o&&p(o)},[l]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Estadisticas de campaña: ",i==null?void 0:i.id]}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"go-wizard",onClick:o=>{s("/campaigns/stats/"+i.id)},children:e.jsx(Je,{})}),e.jsx("button",{className:"go-wizard",onClick:o=>{s("/campaigns/stats/"+i.id)},children:"Crear Segmento"}),e.jsx("button",{className:"go-wizard",onClick:o=>{s("/campaigns/stats/"+i.id)},children:"Descargar"})]})]}),e.jsx("div",{className:"menu-top",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(B,{to:`/campaigns/stats/detail/${i.id}`,children:"General"})}),e.jsx("li",{children:e.jsx(B,{to:`/campaigns/stats/detail/${i.id}?where=error`,children:"Errores"})}),e.jsx("li",{children:e.jsx(B,{to:`/campaigns/stats/detail/${i.id}?where=clicks`,children:"Clicks"})}),e.jsx("li",{children:e.jsx(B,{to:`/campaigns/stats/detail/${i.id}?where=reads`,children:"Leidos"})})]})}),e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Resultados de busqueda"}),e.jsx("span",{children:"Te mostraremos el listado detallado de tus envios"})]}),e.jsx("div",{className:"control-scroll stats-detail",children:e.jsx("div",{className:"row",children:e.jsx(ma,{hasMore:!0,dataLength:10,children:d.map((o,u)=>e.jsx("div",{className:"item flex",children:e.jsx("div",{children:e.jsx("span",{children:o.email})})}))})})})]})]})}function tn(){const s=U(),[i,l]=a.useState(!1),[t,d]=a.useState([]),{UserInfo:r}=a.useContext(X);function c(){var p;let m=new FormData;m.append("id_company",(p=r==null?void 0:r.company)==null?void 0:p.id_company),P.post(D+"/api/get/templatesall",m,{withCredentials:!0}).then(o=>o.data).then(o=>{d(o)})}return a.useEffect(()=>{c()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"BOLETINES ELECTRONICOS"}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:m=>{s("/editor/canvas")},children:"Crear Nuevo Boletin"})})]}),e.jsx("div",{className:"row",children:i==!1?t.map((m,p)=>{var o;return e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${Cs((o=r==null?void 0:r.company)==null?void 0:o.folder_sftp,m.preview_image)})`},children:e.jsx("div",{className:"right-top",children:e.jsx("button",{onClick:u=>{s(`/landing/${m.token}`)},children:e.jsx(Oe,{})})})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:m==null?void 0:m.title}),e.jsxs("span",{children:["Boletin agregado el: ",he(m.time_add)]})]})]})},p)}):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(we,{})})})})]})}$(document).on("click",".settings-account .case .info button",function(s){s.preventDefault(),s.stopImmediatePropagation();let i=$(this).parents(".case");$(".settings-account .case.active").removeClass("active"),i.addClass("active")});function nn(){$(".settings-account .case.active").removeClass("active")}function ln(){const{UserInfo:s}=a.useContext(X),[i,l]=a.useState({}),[t,d]=a.useState(),[r,c]=a.useState({photo:""});function m(u){let j=u.nativeEvent.target.files;if(j.length){let n=j[0];if(n.type.indexOf("image")>=0){l(n);let h=URL.createObjectURL(n);d(h)}}}function p(u){$("input[name='photo']").val(""),d(""),l({})}function o(){var j;let u=new FormData;u.append("file",i),u.append("id_company",(j=s==null?void 0:s.company)==null?void 0:j.id_company),c({photo:"await"}),P.post(D+"/api/upload/newphoto",u,{withCredentials:!0}).then(n=>n.data).then(n=>{n.status&&($(".header-top .body  img").attr("src",t),nn(),l({}),le.success("Has cambiado correctamente la foto de perfil")),c({photo:""})}).catch(n=>{c({photo:""})})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"settings-account",children:e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Establece una foto de perfil"}),e.jsx("span",{children:"cambia la foto de perfil y integra una foto con tu logo o algo de tu marca"}),e.jsx("button",{children:"Cambiar"})]}),e.jsx("div",{className:"action",children:e.jsxs("div",{className:"change-photo",children:[e.jsx("div",{className:"photo",style:{background:`url(${t||ws(s)})`}}),e.jsx("div",{className:"buttons",children:i!=null&&i.name?e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:r.photo,onClick:o,children:["Guardar ",e.jsx("div",{className:"loading"})]}),e.jsx("button",{onClick:p,children:"Cancelar"})]}):e.jsxs("button",{onClick:u=>{$("input[name='photo']").click()},children:["Subir ",e.jsx("i",{children:e.jsx(ci,{})})," "]})}),e.jsx("input",{type:"file",name:"photo",onChange:m,hidden:!0})]})})]})})})}function cn(){const[s,i]=a.useState([]),[l,t]=a.useState({domain:"",domain_email:""}),[d,r]=a.useState(!1),{UserInfo:c}=a.useContext(X),[m,p]=a.useState(!1),[o,u]=a.useState(!1),[j,n]=a.useState(!1),[h,x]=a.useState(null),[g,f]=a.useState(!1),v=U();function E(C){let y=C.target.name,k=C.target.value;t({...l,[y]:k})}function T(){var y;let C=new FormData;r(!0),C.append("domain",l.domain),C.append("domain_email",l.domain_email),C.append("id_company",(y=c==null?void 0:c.company)==null?void 0:y.id_company),P.post(D+"/api/upload/domain",C,{withCredentials:!0}).then(k=>k.data).then(k=>{r(!1),k.status&&(p(!1),le.success("Has subido el dominio con exito"),F()),k.msg&&le.error(k.msg)}).catch(k=>{r(!1)})}function F(){var y;let C=new FormData;r(!0),C.append("id_company",(y=c==null?void 0:c.company)==null?void 0:y.id_company),P.post(D+"/api/get/domains",C,{withCredentials:!0}).then(k=>k.data).then(k=>{i(k)}).finally(k=>{r(!1)})}function b(C){let y=Number(C.target.dataset.value);x(y),n(!0)}function w(){var y;let C=new FormData;f(!0),C.append("id_domain",h),C.append("id_company",(y=c==null?void 0:c.company)==null?void 0:y.id_company),P.post(D+"/api/delete/domain",C,{withCredentials:!0}).then(k=>k.data).then(k=>{k.status&&(le.success("Has borrado el dominio con exito"),F())}).finally(k=>{n(!1),f(!1)})}return a.useEffect(()=>{F()},[]),e.jsxs(e.Fragment,{children:[e.jsx(Re,{onClick:w,Pending:g,visible:j,callback:n}),e.jsxs(re,{visible:m,callback:p,maxWidth:"300px",onClick:T,Pending:d,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Agregar"}),e.jsx("span",{children:"agrega un nuevo dominio, el dominio quedara en verificacion para poder ser utilizado"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Dominio destinatario"}),e.jsx("input",{type:"text",name:"domain",onChange:E,placeholder:"dominio.com"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo del dominio"}),e.jsx("input",{type:"text",name:"domain_email",onChange:E,placeholder:"example@dominio.com"})]})]}),e.jsx(Re,{visible:o,callback:u,onClick:"",Pending:""}),e.jsx("div",{className:"settings-account",children:e.jsxs("div",{className:"case active",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Dominios"}),e.jsx("span",{children:"Estos dominios son los que has configurado para ser manejados en tu campanas de envios email"}),e.jsx("button",{onClick:C=>{p(!0)},children:"Agregar Dominio"})]}),e.jsxs("div",{className:"action",children:[e.jsx("div",{className:"row domains",children:s.map((C,y)=>e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"domain",children:[e.jsxs("p",{children:[e.jsx(ri,{}),"  ",C.domain]}),e.jsx("span",{children:C.domain_email}),e.jsx("br",{}),e.jsxs("span",{children:["Estatus: ",C.status?e.jsx(di,{}):e.jsx(oi,{})]}),e.jsxs("div",{className:"buttons",children:[e.jsx("button",{onClick:k=>{v(`/settings-account/domain/${C.id_domain}`)},children:e.jsx(L,{icon:"icon-park-outline:config"})}),e.jsx("button",{onClick:b,"data-value":C.id_domain,children:e.jsx(ce,{})})]})]})}))}),s.length==0?e.jsx(ge,{name:"dominios"}):""]})]})})]})}function rn(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading-modal",children:e.jsx("div",{className:"circle"})})})}function dn(){const s=U(),i=oe(),[l,t]=a.useState([]),[d,r]=a.useState(!1),{UserInfo:c}=a.useContext(X),[m,p]=a.useState(),[o,u]=a.useState([]),[j,n]=a.useState({width:"",left:""}),[h,x]=a.useState("gl"),[g,f]=a.useState(!0),[v,E]=a.useState(),[T,F]=a.useState(!1),[b,w]=a.useState({csv:!1,json:!1});function C(){var _;let N=new FormData;N.append("id_list",i.id),N.append("id_company",(_=c==null?void 0:c.company)==null?void 0:_.id_company),P.post(D+"/api/get/logslists",N,{withCredentials:!0}).then(S=>S.data).then(S=>{S.length&&t(S)}).catch(S=>{})}function y(N,_=!1,S=null,R=!1,W=null){var de;E(!0),_||(f(!1),r(!0),p(N),u([]),S!=="error"&&R!==!0&&(n({width:"70",left:"10"}),x("gl")));let se=new FormData;se.append("id_list",i.id),se.append("id_company",(de=c==null?void 0:c.company)==null?void 0:de.id_company),se.append("detail",N),o.length&&_&&se.append("last_id",o.slice(-1)[0].id_log),R&&se.append("download",W),S!==null&&se.append("type",S),P.post(D+"/api/get/logslists",se,{withCredentials:!0}).then(I=>I.data).then(I=>{if(R){w({...b,[W]:!0});const q=new Blob([JSON.stringify(I)],{type:R=="json"?"application/json":"text/csv"}),z=URL.createObjectURL(q),O=document.createElement("a");O.href=z,O.setAttribute("download",`upload-${m}-list-${i.id}.json`),document.body.appendChild(O),O.click(),document.body.removeChild(O),setTimeout(()=>{w({...b,[W]:!1})},1e3)}f(!0),E(!1),u(_===!1?I:q=>[...q,...I])}).catch(I=>{E(!1)})}a.useEffect(()=>{C()},[]),a.useEffect(()=>{d&&(h=="error"&&y(m,!1,"error"),h=="gl"&&y(m,!1),h=="dw"?F(!0):F(!1))},[h]);function k(N){let _=N.target.value;x(_),n(S=>({...S,width:N.target.offsetWidth,left:N.target.offsetLeft}))}return e.jsxs(e.Fragment,{children:[e.jsxs(re,{visible:d,callback:r,maxWidth:"500px",minWidth:"500px",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Detalles"}),e.jsxs("span",{children:["detalles de la subida: ",m]})]}),e.jsx("div",{className:"menu-change",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("button",{className:`${h=="gl"?"active":""}`,onClick:k,value:"gl",style:{fontSize:"13px"},children:"Global"})}),e.jsx("li",{children:e.jsx("button",{className:`${h=="error"?"active":""}`,onClick:k,value:"error",style:{fontSize:"13px"},children:"Errores"})}),e.jsx("li",{children:e.jsx("button",{className:`${h=="dw"?"active":""}`,onClick:k,value:"dw",style:{fontSize:"13px"},children:"Descargar"})}),e.jsx("div",{className:"hover",style:{left:j.left+"px",width:j.width+"px"}})]})}),T?e.jsx(e.Fragment,{children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descargar logs"}),e.jsxs("span",{children:["Puedes descargar los logs de esta subida ",m," mediante un archivo csv / json"]}),e.jsxs("div",{className:"actions-item complete",children:[e.jsxs("button",{className:`download ${b.csv?"await":""}`,onClick:N=>{y(m,!1,null,!0,"json")},children:["Descargar CSV ",e.jsx("div",{className:"loading"})]}),e.jsxs("button",{className:`download ${b.json?"await":""}`,onClick:N=>{y(m,!1,null,!0,"json")},children:["Descargar JSON ",e.jsx("div",{className:"loading"})]})]})]})})})})}):e.jsx("div",{className:"data",children:e.jsx(ma,{scrollableTarget:"scrollableDiv",hasMore:g,next:()=>{y(m,!0)},dataLength:o.length,children:e.jsx("div",{className:"control-scroll lists-detail",id:"scrollableDiv",children:e.jsxs("div",{className:"row",children:[o==null?void 0:o.map((N,_)=>e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"item box box-padding",children:e.jsxs("div",{className:"top",children:[e.jsxs("span",{children:["Correo: ",N.email?N.email:"No aplica"]}),e.jsx("br",{}),e.jsxs("span",{children:["Telefono: ",N.phone?N.phone:"No aplica"]}),e.jsx("br",{}),e.jsxs("span",{children:["Calidad de subida: ",N.error?"error":"success"]})]})})})),v?e.jsx(rn,{}):"",(o==null?void 0:o.length)===0&&v===!1?e.jsx(ge,{name:h=="gl"?"registros":"errores"}):""]})})})})]},d?"Xd":"x"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Logs de lista: ",i.id]}),e.jsx("span",{children:"Ve los detalle de tus listas y ve si estan listas para ser utilizadas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:N=>{s("/contacts/detail/"+i.id)},children:e.jsx(Je,{})})})]}),e.jsx("div",{className:"row",children:l.map((N,_)=>e.jsx("div",{className:"col-md-4  page-lists",children:e.jsx("div",{className:"box box-padding ",children:e.jsxs("div",{className:"item flex-wrap",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/upload_arrow2.webp",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:["Subida: ",e.jsx("b",{children:N.id_upload})]}),e.jsxs("span",{className:"desc",children:["Fecha: ",he(N.time_add,"full")]}),e.jsx("br",{}),e.jsxs("span",{className:"desc",children:["Fecha de finalización: ",he(N.time_finish,"full")]}),e.jsx("br",{}),e.jsxs("span",{className:"desc",children:["Contactos Subidos: 1",N==null?void 0:N.contacts_total]}),e.jsx("br",{}),e.jsx("span",{className:"desc",children:"Calidad de subida:"}),N!=null&&N.insert?e.jsxs("span",{className:"quality-upload good",children:[e.jsx(Ee,{})," Muy Buena"]}):N!=null&&N.error?e.jsxs("span",{className:"quality-upload error",children:[" ",e.jsx(mi,{})," Regular / Mala"]}):e.jsxs("span",{className:"quality-upload await",children:[" ",e.jsx(vs,{})," En espera... "]})]})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{onClick:S=>{y(N.id_upload)},children:e.jsx(Le,{})})})]})})},_))})]})}function on(){return e.jsx("div",{className:"iphone",style:{background:"url(img/devices/iphone.png)"},children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"hour",children:e.jsx("span",{children:"12:45"})}),e.jsxs("div",{className:"battery",children:[e.jsxs("span",{className:"signal",children:[e.jsx("i",{children:e.jsx(L,{icon:"oi:signal"})}),e.jsx("span",{children:"LTE"})]}),e.jsx("i",{className:"battery",children:e.jsx(L,{icon:"ph:battery-high-fill"})})]}),e.jsx("div",{className:"content",children:e.jsx("div",{class:"editor-surveys prodbuttonsqr"})})]})})}function mn(){return U(),a.useEffect(()=>{P.get(D+"/api/get/logout",{withCredentials:!0}).then(s=>s.json).then(s=>{cs("token","",!0),cs("company","",!0),window.location.href="/"}).catch(s=>{cs("token","",!0),cs("company","",!0),window.location.href="/"})},[]),e.jsx(e.Fragment,{})}function Be({value:s,Transparent:i=!1}){function l(t){let d=t.target.dataset.value;d&&(navigator.clipboard?navigator.clipboard.writeText(d).then(()=>{M.success("Has copiado correctamente")}).catch(r=>{M.error("Error al copiar el texto")}):M.error("Error Al copiar"))}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"input-config",style:{background:i?"transparent":""},children:[e.jsx("span",{children:s}),e.jsx("button",{onClick:l,"data-value":s,children:e.jsx(L,{icon:"material-symbols:copy-all-outline"})})]})})}function pn(){const s=oe(),{UserInfo:i}=a.useContext(X),[l,t]=a.useState({}),[d,r]=a.useState(!1),[c,m]=a.useState(!1),[p,o]=a.useState(!0);function u(){var h;m(!0);let n=new FormData;n.append("id_company",(h=i==null?void 0:i.company)==null?void 0:h.id_company),n.append("id_domain",s.id),P.post(D+"/api/get/domaindns",n,{withCredentials:!0}).then(x=>x.data).then(x=>{m(!1),t(g=>{let f={...g};return f.spf=x.spf,f.dmarc=x.dmarc,f.dkim=x.dkim,f}),x.spf&&x.dkim&&x.dmarc?(r(!0),M.success("Tu dominio se ha verificado completamente")):M.info("test")})}function j(){var h;o(!0);let n=new FormData;n.append("id_company",(h=i==null?void 0:i.company)==null?void 0:h.id_company),n.append("id_domain",s.id),P.post(D+"/api/get/domain",n,{withCredentials:!0}).then(x=>x.data).then(x=>{o(!1),t(x),x.spf&&x.cname&&x.dkim&&x.mx?r(!0):r(!1)}).catch(x=>{o(!1),console.log(x)})}return a.useEffect(()=>{j()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsx("div",{className:"",children:e.jsxs("p",{className:"title",children:["Dominio: ",s.id]})}),e.jsx("div",{className:"right",children:e.jsxs("button",{onClick:u,className:`go-wizard ${c?"await":null}`,children:[e.jsx(L,{icon:"material-symbols-light:pending-actions-rounded"})," Verificar Dominio ",e.jsx("div",{className:"loading"})]})})]}),p?e.jsx("div",{className:"loading-box",children:e.jsx(we,{})}):e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding stat domain",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Registros de Envio"}),e.jsx("span",{children:"Se requieren registros TXT (conocidos como SPF y DKIM) para enviar y recibir correo electrónico con Radarsystems."})]}),e.jsxs("div",{className:"space-config",children:[e.jsx("p",{className:"title",children:"SPF"}),e.jsx("span",{className:"register-type",children:"Tipo: TXT"}),e.jsxs("table",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Status"}),e.jsx("td",{children:"Hostname"}),e.jsx("td",{children:"Valor"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:l!=null&&l.spf?e.jsx("span",{className:"success",children:"Verificado"}):e.jsx("span",{className:"error",children:"Pendiente"})}),e.jsx("td",{children:e.jsx(Be,{Transparent:!0,value:l.domain})}),e.jsx("td",{children:e.jsx(Be,{value:"v=spf1 include:_spf.radarmailer1.me ~all"})})]})]})]}),e.jsxs("div",{className:"space-config",children:[e.jsx("p",{className:"title",children:"DKIM"}),e.jsx("span",{className:"register-type",children:"Tipo: CNAME"}),e.jsxs("table",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Status"}),e.jsx("td",{children:"Hostname"}),e.jsx("td",{children:"Valor"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:l!=null&&l.dkim?e.jsx("span",{className:"success",children:"Verificado"}):e.jsx("span",{className:"error",children:"Pendiente"})}),e.jsx("td",{children:e.jsx(Be,{Transparent:!0,value:"radar._domainkey."+l.domain})}),e.jsx("td",{children:e.jsx(Be,{value:"dkim.email.radarmailer1.me"})})]})]})]})]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding stat domain",children:[e.jsxs("div",{className:"space-config",children:[e.jsx("p",{className:"title",children:"DMARC"}),e.jsx("span",{className:"register-type",children:"Tipo: TXT"}),e.jsxs("table",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Status"}),e.jsx("td",{children:"Hostname"}),e.jsx("td",{children:"Valor"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:l!=null&&l.dmarc?e.jsx("span",{className:"success",children:"Verificado"}):e.jsx("span",{className:"error",children:"Pendiente"})}),e.jsx("td",{children:e.jsx(Be,{Transparent:!0,value:"_dmarc"})}),e.jsx("td",{children:e.jsx(Be,{value:`v=DMARC1; p=quarantine; sp=quarantine; rua=mailto:postmarter@${l.domain}; Ruf=mailto:postmaster@${l.domain}; pct=100; adkim=r; fo=1; ri=43200`})})]})]})]}),e.jsxs("div",{className:"space-config",children:[e.jsx("p",{className:"title",children:"DMARC"}),e.jsx("span",{className:"register-type",children:"Tipo: CNAME"}),e.jsxs("table",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Status"}),e.jsx("td",{children:"Hostname"}),e.jsx("td",{children:"Valor"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:l!=null&&l.dmarc?e.jsx("span",{className:"success",children:"Verificado"}):e.jsx("span",{className:"error",children:"Pendiente"})}),e.jsx("td",{children:e.jsx(Be,{Transparent:!0,value:`radar.${l.domain}`})}),e.jsx("td",{children:e.jsx(Be,{value:"bounce.email.radarmailer1.me"})})]})]})]})]})})]})]})}function hn({data:s,onClick:i}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"box box-padding plans",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:String(s.name).replace(/\s/g,`
`)}),e.jsx("span",{children:s.desc_text})]}),e.jsxs("div",{className:"price",children:[s.before_price&&e.jsx("div",{className:"before-price",children:e.jsxs("span",{children:["$",Number(s.before_price).toFixed(2)]})}),e.jsxs("div",{className:"fix",children:[e.jsx("span",{className:"symbol",children:"$"}),e.jsx("span",{className:"price-number",children:Number(s.price).toFixed(2)}),e.jsx("span",{className:"time",children:"/ Month"})]})]}),e.jsx("button",{className:"start",onClick:l=>{i(s.id_plan)},children:"Comenzar Ahora!"}),e.jsxs("div",{className:"offers",children:[e.jsx("p",{children:"El plan incluye:"}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"IA (Inteligencia Artificial)"})]}),e.jsxs("div",{className:"include",children:[e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}),e.jsxs("span",{className:"title",children:["Envios de Correos (",ms(Number(s.email_quantity)),")"]})]}),e.jsxs("div",{className:"include",children:[e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}),e.jsxs("span",{className:"title",children:["Envios de Sms (",ms(Number(s.sms_quantity)),") "]})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Marketing Automatizado "})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Programacion de Campaña"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"WorkFlow"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Encuestas"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Encuestas Avanzadas"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Formularios"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Modulo de Citas"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Pasarelas de Pagos"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"BlackList"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Verificacion Datos"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Informe Metricas"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Segmentacion "})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Plantillas"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Segmentacion Premium"})]}),e.jsxs("div",{className:"include",children:[s.landing_page?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Paginas / Ecommerce "})]}),e.jsxs("div",{className:"include",children:[s.auto_response?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Auto Responder"})]}),e.jsxs("div",{className:"include",children:[s.stats_shortlink?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Acortador de Enlaces"})]}),e.jsxs("div",{className:"include",children:[s.stats_shortlink?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Estadisticas Enlaces"})]}),e.jsxs("div",{className:"include",children:[s.personalize_shortlink?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Personalizar Enlaces"})]}),e.jsxs("div",{className:"include",children:[s.buttons_qr?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Botonera QR"})]}),e.jsxs("div",{className:"include",children:[s.buttons_url?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Botonera Enlaces"})]}),e.jsxs("div",{className:"include",children:[s.gallery_qr?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Galeria QR"})]}),e.jsxs("div",{className:"include",children:[e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}),e.jsx("b",{children:e.jsxs("span",{className:"title",children:["Contactos (",ms(s.contacts_quantity),")"]})})]}),e.jsxs("div",{className:"include",children:[e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}),e.jsxs("span",{className:"title",children:["Verificador Correos (",s.verified_emails,")"]})]})]})]})})}function xn(){const{UserInfo:s}=a.useContext(X),[i,l]=a.useState([]);a.useState(!1);const[t,d]=a.useState({});function r(){var o;let p=new FormData;p.append("id_company",(o=s==null?void 0:s.company)==null?void 0:o.id_company),P.post(D+"/api/get/plans",p,{withCredentials:!0}).then(u=>u.data).then(u=>{l(u)})}function c(){var o;let p=new FormData;p.append("id_company",(o=s==null?void 0:s.company)==null?void 0:o.id_company),P.post(D+"/api/get/my/resumen",p,{withCredentials:!0}).then(u=>u.data).then(u=>{d(u)})}function m(p){P.get("https://paytest.megasoft.com.ve/action/paymentgatewayuniversal-prereg?cod_afiliacion=20240516&factura={{bp_nu_factura}}&monto=100.00&nombre=ANA%20A%20GOICONFA&tipo=V&cedula_rif=19650641&tipo_pago=CREDITO")}return a.useEffect(()=>{r(),c()},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Planes"}),e.jsx("span",{children:"Observa todos los planes disponibles para disfrutar de nuestros servicios"})]})}),e.jsx(os,{}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Resumen"}),e.jsx("span",{children:"Observa cuanto te queda disponible este mes en tu plan adquirido"})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"box resumen-plans box-padding",children:[e.jsx("p",{children:"Emails"}),e.jsx("span",{children:t==null?void 0:t.emails_quantity})]})}),e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"box resumen-plans box-padding",children:[e.jsx("p",{children:"Mensajes"}),e.jsx("span",{children:t==null?void 0:t.sms_quantity})]})}),e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"box resumen-plans box-padding",children:[e.jsx("p",{children:"Contactos"}),e.jsx("span",{children:t==null?void 0:t.contacts_quantity})]})})]})]})})}),e.jsx("div",{className:"row",children:i.map((p,o)=>e.jsx("div",{className:"col-md-3",children:e.jsx(hn,{data:p,onClick:m})},o))})]})}function un(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"checkout",children:[e.jsx("iframe",{width:"860",height:"484",src:"https://paytest.megasoft.com.ve/action/paymentgatewayuniversal-data?control=1720535014751287973"}),";"]})})}function jn(){const{UserInfo:s}=a.useContext(X),[i,l]=a.useState({}),[t,d]=a.useState(!1);function r(){var o;let p=new FormData;p.append("id_company",(o=s==null?void 0:s.company)==null?void 0:o.id_company),P.post(D+"/api/get/api/credentials",p,{withCredentials:!0}).then(u=>u.data).then(u=>{l(u)})}function c(p){navigator.clipboard.writeText(i==null?void 0:i[p]),p=="client_id"?le.success("Has copiado tu Client ID"):le.success("Has copiado tu Secret Key")}function m(){let p=new FormData;p.append("client_id",i.client_id),P.post(D+"/api/auth/newkey",p,{withCredentials:!0}).then(o=>o.data).then(o=>{o.status&&(le.success("Secret Key actualizada con exito"),r())})}return a.useEffect(()=>{r()},[]),a.useEffect(()=>{t&&setTimeout(()=>{d(!1),le.success("Se oculto automaticamente por seguridad")},2500)},[t]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Credenciales"}),e.jsx("span",{children:"Obten tus credenciales para poder manejarte por nuestra API"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{onClick:m,className:"add",children:"Actualizar Secret"})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Client ID"}),e.jsx("span",{children:"Este es tu indentificador de cliente es el ID unico que te identificara."})]}),e.jsxs("div",{className:"form-credentials",children:[e.jsx("input",{className:"client",type:"text",value:i.client_id,disabled:!0}),e.jsx("button",{onClick:p=>{c("client_id")},children:e.jsx(_e,{icon:"material-symbols:copy-all-outline"})})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Secret Key"}),e.jsxs("span",{children:["Esta es la clave secreta, que funciona para indentificarte junto tu ",e.jsx("b",{children:"CLIENT ID"})]})]}),t?e.jsxs("div",{className:"form-credentials",children:[e.jsx("input",{className:"secret",type:"text",value:i.secret_key,disabled:!0}),e.jsx("button",{onClick:p=>{c("secret_key")},children:e.jsx(_e,{icon:"material-symbols:copy-all-outline"})})]}):e.jsxs("div",{className:"form-credentials",children:[e.jsx("input",{className:"secret",type:"text",value:"- - - - - - - - - - - - - -",disabled:!0}),e.jsx("button",{onClick:p=>{d(!0)},children:e.jsx(_e,{icon:"ph:eye-closed"})})]})]})})]})]})}function gn(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"checkout",children:e.jsx("div",{className:"facture box",children:e.jsx("div",{className:"info",children:e.jsx("p",{children:"Factura"})})})})})}function vn(){const{LoadingAuth:s}=a.useContext(X);return e.jsxs(e.Fragment,{children:[e.jsx(pi,{}),s?e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:["Cargando... ",e.jsx("div",{className:"loading"})]})]})})}):e.jsx(e.Fragment,{}),e.jsx(hi,{children:e.jsxs(xi,{children:[e.jsx(H,{path:"/",element:e.jsx(Pi,{})}),e.jsx(H,{path:"/register",element:e.jsx(qi,{})}),e.jsx(H,{path:"/wizard",element:e.jsx(Xi,{})}),e.jsx(H,{path:"/settings-account/account",element:e.jsx(J,{CompanyNeed:!0,Element:ln})}),e.jsx(H,{path:"/settings-account/security",element:e.jsx(J,{CompanyNeed:!0,Element:ze})}),e.jsx(H,{path:"/settings-account/footer",element:e.jsx(J,{CompanyNeed:!0,Element:ze})}),e.jsx(H,{path:"/settings-account/domains",element:e.jsx(J,{CompanyNeed:!0,Element:cn})}),e.jsx(H,{path:"/settings-account/domain/:id",element:e.jsx(J,{CompanyNeed:!0,Element:pn})}),e.jsx(H,{path:"/settings-account/credentials",element:e.jsx(J,{CompanyNeed:!0,Element:jn})}),e.jsx(H,{path:"/",element:e.jsx(J,{CompanyNeed:!0,Element:Us})}),e.jsx(H,{path:"/home",element:e.jsx(J,{CompanyNeed:!0,Element:Us})}),e.jsx(H,{path:"/campaigns",element:e.jsx(J,{CompanyNeed:!0,Element:ze})}),e.jsx(H,{path:"/campaigns/em",element:e.jsx(J,{CompanyNeed:!0,Element:ze})}),e.jsx(H,{path:"/campaigns/sms",element:e.jsx(J,{CompanyNeed:!0,Element:ze})}),e.jsx(H,{path:"/campaigns/sms-mt",element:e.jsx(J,{CompanyNeed:!0,Element:ze})}),e.jsx(H,{path:"/campaigns/em-mt",element:e.jsx(J,{CompanyNeed:!0,Element:ze})}),e.jsx(H,{path:"/campaigns/new",element:e.jsx(J,{CompanyNeed:!0,Element:ze})}),e.jsx(H,{path:"/campaigns/stats/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Zt})}),e.jsx(H,{path:"/campaigns/stats/detail/:id",element:e.jsx(J,{CompanyNeed:!0,Element:an})}),e.jsx(H,{path:"/campaigns/detail/:id",element:e.jsx(J,{CompanyNeed:!0,Element:lt})}),e.jsx(H,{path:"/companys",element:e.jsx(J,{CompanyNeed:!1,Element:Vs})}),e.jsx(H,{path:"/companys/add",element:e.jsx(J,{CompanyNeed:!1,Element:Vs})}),e.jsx(H,{path:"/companys/roles",element:e.jsx(J,{CompanyNeed:!0,Element:at})}),e.jsx(H,{path:"/companys/users",element:e.jsx(J,{CompanyNeed:!0,Element:it})}),e.jsx(H,{path:"/companys/plans",element:e.jsx(J,{CompanyNeed:!0,Element:xn})}),e.jsx(H,{path:"/checkout/:id",element:e.jsx(J,{CompanyNeed:!0,Element:un})}),e.jsx(H,{path:"/checkout/check",element:e.jsx(J,{CompanyNeed:!0,Element:gn})}),e.jsx(H,{path:"/contacts/lists",element:e.jsx(J,{CompanyNeed:!0,Element:hs})}),e.jsx(H,{path:"/contacts/lists/add",element:e.jsx(J,{CompanyNeed:!0,Element:hs})}),e.jsx(H,{path:"/contacts/lists/logs/:id",element:e.jsx(J,{CompanyNeed:!0,Element:dn})}),e.jsx(H,{path:"/contacts/lists/:type",element:e.jsx(J,{CompanyNeed:!0,Element:hs})}),e.jsx(H,{path:"/contacts/detail/:id",element:e.jsx(J,{CompanyNeed:!0,Element:ot})}),e.jsx(H,{path:"/contacts/upload/:id",element:e.jsx(J,{CompanyNeed:!0,Element:ht})}),e.jsx(H,{path:"/contacts/segments",element:e.jsx(J,{CompanyNeed:!0,Element:Ut})}),e.jsx(H,{path:"/contacts/segments/add",element:e.jsx(J,{CompanyNeed:!0,Element:sn})}),e.jsx(H,{path:"/contacts",element:e.jsx(J,{CompanyNeed:!0,Element:Wt})}),e.jsx(H,{path:"/editor/canvas/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Hs})}),e.jsx(H,{path:"/editor/canvas/",element:e.jsx(J,{CompanyNeed:!0,Element:Hs})}),e.jsx(H,{path:"/surveys",element:e.jsx(J,{CompanyNeed:!0,Element:xt})}),e.jsx(H,{path:"/surveys/editor",element:e.jsx(J,{CompanyNeed:!0,Element:Is})}),e.jsx(H,{path:"/surveys/editor/:idsurvey",element:e.jsx(J,{CompanyNeed:!0,Element:Is})}),e.jsx(H,{path:"/stats/survey/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Ct})}),e.jsx(H,{path:"/stats/survey/:id/detail",element:e.jsx(J,{CompanyNeed:!0,Element:wt})}),e.jsx(H,{path:"/stats/survey/:id/response",element:e.jsx(J,{CompanyNeed:!0,Element:kt})}),e.jsx(H,{path:"/surveys/preview",element:e.jsx(Gs,{})}),e.jsx(H,{path:"/surveys/preview/:id",element:e.jsx(Gs,{})}),e.jsx(H,{path:"/survey/:id",element:e.jsx(bt,{})}),e.jsx(H,{path:"/shorturls",element:e.jsx(J,{CompanyNeed:!0,Element:Js})}),e.jsx(H,{path:"/shorturls/add",element:e.jsx(J,{CompanyNeed:!0,Element:Js})}),e.jsx(H,{path:"/shorturls/:id",element:e.jsx(J,{CompanyNeed:!0,Element:St})}),e.jsx(H,{path:"/shorturls/campaigns",element:e.jsx(J,{CompanyNeed:!0,Element:Xs})}),e.jsx(H,{path:"/shorturls/campaigns/add",element:e.jsx(J,{CompanyNeed:!0,Element:Xs})}),e.jsx(H,{path:"/shorturls/campaigns/:id",element:e.jsx(J,{CompanyNeed:!0,Element:_t})}),e.jsx(H,{path:"/qr",element:e.jsx(J,{CompanyNeed:!0,Element:xs})}),e.jsx(H,{path:"/qr/add",element:e.jsx(J,{CompanyNeed:!0,Element:xs})}),e.jsx(H,{path:"/qr/import",element:e.jsx(J,{CompanyNeed:!0,Element:xs})}),e.jsx(H,{path:"/domains",element:e.jsx(J,{CompanyNeed:!0,Element:en})}),e.jsx(H,{path:"/editor/buttons",element:e.jsx(J,{CompanyNeed:!0,Element:Ks})}),e.jsx(H,{path:"/editor/buttons/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Ks})}),e.jsx(H,{path:"/buttons/:id",element:e.jsx(At,{})}),e.jsx(H,{path:"/buttons",element:e.jsx(J,{CompanyNeed:!0,Element:Jt})}),e.jsx(H,{path:"/stats/buttons/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Yt})}),e.jsx(H,{path:"/editor/buttonsqr",element:e.jsx(J,{CompanyNeed:!0,Element:Zs})}),e.jsx(H,{path:"/editor/buttonsqr/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Zs})}),e.jsx(H,{path:"/buttonsqr",element:e.jsx(J,{CompanyNeed:!0,Element:Xt})}),e.jsx(H,{path:"/buttonsqr/:id",element:e.jsx(Kt,{})}),e.jsx(H,{path:"/test",element:e.jsx(Ss,{Visible:!0})}),e.jsx(H,{path:"/testiphone",element:e.jsx(on,{})}),e.jsx(H,{path:"/recovery",element:e.jsx(Vt,{})}),e.jsx(H,{path:"/editor/landings",element:e.jsx(Ht,{})}),e.jsx(H,{path:"/landings",element:e.jsx(J,{CompanyNeed:!0,Element:It})}),e.jsx(H,{path:"/landing/:id",element:e.jsx(Gt,{})}),e.jsx(H,{path:"/templates",element:e.jsx(J,{CompanyNeed:!0,Element:tn})}),e.jsx(H,{path:"/logout",element:e.jsx(mn,{})})]})})]})}const fn=a.createContext(),Nn=s=>{const[i,l]=a.useState({});return e.jsx(fn.Provider,{value:{App:i,setApp:l},...s})},yn=a.createContext();function bn(s){const[i,l]=a.useState();return a.useEffect(()=>{document.title=i},[i]),a.useEffect(()=>{l("Radarsystems - App")},[]),e.jsx(yn.Provider,{value:{setTitle:l},...s})}ui.createRoot(document.getElementById("root")).render(e.jsx(ji.StrictMode,{children:e.jsx(Di,{children:e.jsx(Ti,{children:e.jsx(Nn,{children:e.jsx(bn,{children:e.jsx(vn,{})})})})})}));
