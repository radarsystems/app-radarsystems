import{a as P,$ as O,r as a,j as e,u as se,L as $,n as A,I as Ns,b as Ta,c as js,d as La,e as de,f as Pe,g as Qe,h as De,_ as le,i as Ma,k as Ra,M as ve,l as L,m as As,o as as,p as we,q as Aa,s as Os,t as Oa,v as $a,w as za,x as Ba,y as Oe,z as be,A as re,B as Xe,C as Va,D as ys,E as Qa,F as Wa,G as ss,H as We,J as Ha,K as Ae,N as Ga,O as Ia,P as he,Q as Ie,R as Re,S as Ja,T as Xa,U as Ka,V as Ya,W as ta,X as Za,Y as Ua,Z as et,a0 as st,a1 as at,a2 as tt,a3 as bs,a4 as $e,a5 as it,a6 as nt,a7 as lt,a8 as ct,a9 as Ke,aa as Cs,ab as ia,ac as na,ad as la,ae as ca,af as ra,ag as rt,ah as oa,ai as da,aj as ma,ak as pa,al as ha,am as xa,an as ua,ao as ja,ap as ga,aq as va,ar as ot,as as $s,at as dt,au as gs,av as mt,aw as pt,ax as ht,ay as xt,az as ut,aA as zs,aB as fa,aC as jt,aD as gt,aE as vt,aF as ft,aG as Nt,aH as yt,aI as bt,aJ as Ct,aK as W,aL as wt,aM as kt}from"./vendor-164d3886.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();const D="https://api.radarsystems.net",ts="https://rar.bio";function Ye(){return window.history.back()}const St=(s,t)=>{const n=document.createElement("a");n.href=s,n.target="_blank",n.download=t+".json",document.body.appendChild(n),n.click(),document.body.removeChild(n)};function _t(s){return new DOMParser().parseFromString(s,"text/html").documentElement.textContent}function ps(s){if(s<1e3)return s.toString();const t=["","k","M","G","T","P","E","Z","Y"],n=Math.floor((""+s).length/3);let i=parseFloat((n!==0?s/Math.pow(1e3,n):s).toPrecision(2));return i%1===0&&(i=i.toFixed(1)),i+t[n]}function Et(s){let t;switch(s){case"sms":t="sms";break;case"em":case"em-mt":t="em";break}return t}async function Ft(s){return await P.get(D+"/api/get/company?id_company="+s,{withCredentials:!0}).then(n=>n.data)}async function Dt(){return await P.post(D+"/api/get/companys",{},{withCredentials:!0}).then(s=>s.data)}function Me(s){return window.location.pathname.includes(s)}function vs(s){let t=document.cookie;t=t.split(";");let n;return t.forEach((i,o)=>{i.indexOf(`${s}=`)>=0&&(n=i.replace(`${s}=`,""))}),n}function Na(s){const t=new URLSearchParams(window.location.search);return t.has(s)?t.get(s):null}function os(s,t,n=!1){var i=new Date;n?i.setTime(i.getTime()-1):i.setDate(i.getDate()+10);var o=s+"="+encodeURIComponent(t)+"; expires="+i.toUTCString()+"; path=/";document.cookie=o}function hs(s){O(s).addClass("await")}function Le(s){O(s).removeClass("await")}function qe(s=15){return Math.random().toString(36).substring(2,s+2)}function Pt(s){let t=!1;return s.type.indexOf("image")>=0&&(t=!0),t}function qt(s,t){return new Promise((n,i)=>{try{let o=s.target.files[0],r={file:"",analize:""},c=new FileReader;c.onload=async function(m){let p=!0,d=m.currentTarget.result.split(`
`),x=d[0].split(","),u=!1;u=["email"].every(h=>x.includes(h)),u?await(async()=>{for(var j=1;j<d.length;j++){let g=d[j].split(",");if(g.length!==x.length){p=!1;break}if(d[j].trim()===""||g.some(v=>v.trim()==="")){p=!1;break}let f=(j+1)/d.length*100;f%5===0&&await new Promise(v=>setTimeout(()=>{t(f),v()},0))}r.analize="good",r.file=o,n(r)})():(r.analize="good",r.file=o,n(r))},c.readAsText(o)}catch{response.analize="bad",i(response)}})}function ws(s,t){return`${D}/api/get/imgtemplate?img=${t}&folder=${s}`}function ue(s,t=void 0){const n=new Date(s*1e3),i=n.getDate(),o=n.getMonth()+1,r=n.getFullYear(),c=n.getHours(),m=n.getMinutes();switch(t){case"full":var p=`${i}/${o}/${r} ${c}:${m}`;break;default:var p=`${i}/${o}/${r}`;break}return p}function ya(s){return s?s=String(s).toLowerCase():s="undefined",s=="undefined"?window.location.origin+"/img/icons/countrys/"+s+".png":window.location.origin+"/img/icons/countrys/"+s+".svg"}function ba(s){let t;switch(s&&(s=String(s).toLocaleLowerCase()),s){case"ve":t="Venezuela";break;case"ca":t="Canada";break;default:t="Undefined";break}return t}function Tt(s){return s!==void 0&&(s=String(s).toLowerCase()),(s.indexOf("mac")>=0||s.indexOf("apple")>=0)&&(s="apple"),s.indexOf("windows")>=0&&(s="windows"),s.indexOf("linux")>=0&&(s="linux"),s.indexOf("android")>=0&&(s="android"),s!=="windows"&&s!=="apple"&&s!=="android"&&s!=="linux"&&(s="undefined"),"/img/icons/systems/"+s+".png"}function Lt(s){return s==""&&(s="default"),"/img/icons/apps/"+s+".png"}function ds(s){return D+"/api/get/previewqr?url="+s}function Mt(s){return{fb:"Facebook",in:"Instagram",x:"X (Twitter)",email:"Correo",sms:"Sms",tik:"Tiktok",linkd:"Linkedin",yt:"Youtube",tele:"Telegram",ws:"Whatsapp",others:"Otros"}[s]||""}function Rt(s){return!!/^[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(s)}function ks(s){var n,i;let t;return(n=s==null?void 0:s.company)!=null&&n.photo?t=D+"/api/get/photoprofile?hash="+((i=s==null?void 0:s.company)==null?void 0:i.photo):t="img/icons/default_profile.png",t}function Bs(s){return s>=1&&s<=9?"0"+s:s.toString()}function fs(s,t){return s.length>t?s.substring(0,t)+"...":s}function At(){const s=navigator.userAgent;return s.match(/Android/i)?"Android":s.match(/iPhone|iPad|iPod/i)?"iPhone":"Desktop"}const K=a.createContext(),Ot=s=>{const[t,n]=a.useState({}),[i,o]=a.useState(!1),[r,c]=a.useState(!0);return a.useEffect(()=>{function m(p){if(p){let d=new FormData;d.append("id_company",p),P.post(D+"/api/get/company",d,{withCredentials:!0}).then(x=>x.data).then(x=>{n(u=>({...u,company:x}))}).finally(()=>{c(!1)})}else c(!1),window.location.href="/companys"}(async function(){vs("token");let p=window.location.pathname,d=vs("company");await P.get(D+"/api/get/my",{withCredentials:!0}).then(x=>x.data).then(x=>{x.id_admin?(o(!0),n(x),m(d??(x==null?void 0:x.company_default)??null)):(p!=="/"&&p!=="/auth"&&!p.startsWith("/buttonsqr/")&&(window.location.href="/"),setTimeout(()=>{c(!1)},500))})})()},[]),e.jsx(K.Provider,{value:{UserInfo:t,setUserInfo:n,Auth:i,LoadingAuth:r},...s})};function $t(){let s=se();const[t,n]=a.useState({user:"",password:""}),{UserInfo:i}=a.useContext(K);function o(c){c.stopPropagation(),c.preventDefault(),O(c.target).addClass("await"),t.password&&t.user?P.post(D+"/api/auth/login",t,{withCredentials:!0}).then(m=>m.data).then(m=>{m.status&&(window.location.href="/home"),m.msg&&A.error(m.msg)}).catch(m=>{A.error(String(m))}).finally(m=>{O(c.target).removeClass("await")}):O(c.target).removeClass("await")}function r(c){n({...t,[c.target.name]:c.target.value})}return a.useEffect(()=>{i!=null&&i.id_admin&&s("/home")},[i]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"row auth",children:[e.jsxs("div",{className:"col-auth-left",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"img/icons/logo-l1.png",alt:""})}),e.jsxs("div",{className:"align",children:[e.jsxs("span",{className:"title-welcome",children:["Bienvenido de nuevo. ",e.jsx("br",{})," Inicia ahora."]}),e.jsxs("span",{className:"text-register",children:["¿Aun no tienes cuenta?, ",e.jsx($,{to:"/register",children:"Registrate ahora"})]}),e.jsxs("form",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Usuario"}),e.jsx("input",{type:"text",name:"user",onChange:r})]}),e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{children:["Password",e.jsx($,{className:"forgot",to:"/recovery",children:"¿Olvidó?"})]}),e.jsx("input",{type:"password",name:"password",onChange:r})]}),e.jsx("span",{}),e.jsxs("button",{className:"sign",onClick:o,children:["INICIAR SESION ",e.jsx("div",{className:"loading"})]})]})]})]}),e.jsx("div",{className:"col-auth-right right",children:e.jsx("div",{className:"align",children:e.jsx("div",{className:"carousel",children:e.jsxs("div",{className:"item",children:[e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestiae perspiciatis nulla commodi accusamus. Reprehenderit, earum quibusdam laboriosam aliquam dolore ullam doloremque ratione possimus ex neque minus velit iste suscipit odit!"}),e.jsx("img",{src:"img/auth/People-welcome.png"})]})})})})]})})}function zt(){const[s,t]=a.useState({user:"",email:"",password:"",rpassword:""}),{UserInfo:n}=a.useContext(K),i=se();function o(c){c.stopPropagation();let m=c.target.name,p=c.target.value;t({...s,[m]:p})}function r(c){c.stopPropagation(),c.preventDefault(),O(c.target).addClass("await"),P.post(D+"/api/auth/register",s,{withCredentials:!0}).then(m=>m.data).then(m=>{m.msg&&A.error(m.msg),m.status&&A.success("Cuenta registrada inicia sesion."),i("/"),O(c.target).removeClass("await")}).catch(m=>{O(c.target).removeClass("await")})}return a.useEffect(()=>{n!=null&&n.id_admin&&i("/home")},[n]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"row auth",children:[e.jsxs("div",{className:"col-auth-left",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"img/icons/logo-l1.png",alt:""})}),e.jsxs("div",{className:"align",children:[e.jsxs("span",{className:"title-welcome",children:["Bienvenido.",e.jsx("br",{})," Registrate ahora!."]}),e.jsxs("span",{className:"text-register",children:["¿Opps ya tienes una cuenta?, ",e.jsx($,{to:"/",children:"Ingresar"})]}),e.jsxs("form",{className:"form",onChange:o,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Usuario"}),e.jsx("input",{type:"text",name:"user"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo"}),e.jsx("input",{type:"text",name:"email"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Contraseña"}),e.jsx("input",{type:"password",name:"password"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Repite Contraseña"}),e.jsx("input",{type:"password",name:"rpassword"})]}),e.jsx("span",{}),e.jsxs("button",{className:"sign",onClick:r,children:["REGISTRARSE",e.jsx("div",{className:"loading"})]})]})]})]}),e.jsx("div",{className:"col-auth-right right",children:e.jsx("div",{className:"align",children:e.jsx("div",{className:"carousel",children:e.jsxs("div",{className:"item",children:[e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestiae perspiciatis nulla commodi accusamus. Reprehenderit, earum quibusdam laboriosam aliquam dolore ullam doloremque ratione possimus ex neque minus velit iste suscipit odit!"}),e.jsx("img",{src:"img/auth/People-welcome.png"})]})})})})]})})}const Ne=a.createContext(),Bt=s=>{const[t,n]=a.useState(0),{Auth:i,UserInfo:o}=a.useContext(K),[r,c]=a.useState({type:"",company:"",loading:!0,process:{}});function m(u,l){switch(l){case"active":O(u).addClass("await");break;case"remove":O(u).removeClass("await");break}}function p(u,l){u.stopPropagation();let h=O(u.target);h.parents(".selector").find(".active").removeClass("active"),h.addClass("active"),l(u.target.value)}function d(u,l){u.stopPropagation();let h=O(u.target);h.parents(".items-result").find(".active").removeClass("active"),h.addClass("active"),l(O(u.target).attr("value"))}function x(){n(t-1)}return a.useEffect(()=>{i&&async function(){if(o.company_default){let u=await Ft(o.company_default);c({...r,loading:!1,company:u})}else c({...r,loading:!1})}()},[i]),a.useEffect(()=>{c(u=>({...u,tutorial_wizard:o.tutorial_wizard}))},[o]),e.jsx(Ne.Provider,{value:{Prev:x,wizard:r,SelectorItem:d,AwaitButton:m,Selector:p,setWizard:c,position:t,setPosition:n},...s})};function ke({Next:s}){const{setPosition:t,position:n}=a.useContext(Ne),{wizard:i,setWizard:o}=a.useContext(Ne),[r,c]=a.useState({});function m(){t(n-1)}return a.useEffect(()=>{i.company&&c(i.company)},[i]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"buttons-action ",children:[(r==null?void 0:r.name)!==void 0?e.jsx(e.Fragment,{children:e.jsxs("button",{className:"button-company",children:[e.jsx("img",{src:"img/icons/default_profile.png",alt:""}),r.name]})}):"",e.jsx("button",{className:"prev",onClick:m,children:"<"}),e.jsxs("button",{className:"next",onClick:s,children:["Siguiente ",e.jsx("div",{className:"loading"})]})]})})}function Vt(){function s(){}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left"}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Subir contactos"}),e.jsx("span",{className:"desc",children:"Sube tus contactos a la lista."})]}),e.jsx("div",{}),e.jsx(ke,{Next:s})]})]})})}function Qt(){const{wizard:s,setWizard:t,setPosition:n,AwaitButton:i}=a.useContext(Ne),[o,r]=a.useState(!1),[c,m]=a.useState({name:""});function p(x){if(o)n(u=>u+1);else{i(x.target,"active");let u=new FormData;u.append("name",c.name),u.append("id_company",s.company.id_company),s.type=="email"?u.append("type_c","email"):s.type=="sms"&&u.append("type_c","sms"),P.post(D+"/api/upload/list",u,{withCredentials:!0}).then(l=>l.data).then(l=>{l.status&&(A.success("Lista creada existosamente!"),n(h=>h+1),r(!0),l.id_list&&t(h=>({...h,process:{...h.process,id_list:l.id_list}}))),l.msg&&A.error(l.msg),i(x.target,"remove")}).catch(l=>{A.error(""+l),i(x.target,"remove")})}}function d(x){m(u=>({...u,[x.target.name]:x.target.value}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Nueva lista"}),e.jsx("img",{src:"img/icons/lists.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crear lista"}),e.jsx("span",{className:"desc",children:"Crea una nueva lista y luego ingresa los contactos"})]}),e.jsx("div",{className:"form",children:e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",name:"name",placeholder:"Nombre de lista",onChange:d})})}),e.jsx(ke,{Next:p})]})]}),o==!0?e.jsx(Vt,{}):""]})}function Wt(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Welcome"}),e.jsx("img",{src:"/img/icons/email-alert.png",alt:""})]})}),e.jsx("div",{className:"right",children:e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"titel",children:"Seleccionar lista"}),e.jsx("span",{className:"desc",children:"Selecciona una lista para integrarla a la campaign que has elegido."})]})})]})})}function Ht(){const{Selector:s,setPosition:t}=a.useContext(Ne),[n,i]=a.useState();function o(c){i(c)}function r(){(n=="new"||n=="select")&&t(c=>c+1)}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elegir lista"}),e.jsx("img",{src:"img/icons/wizard-contacts.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu lista"}),e.jsx("span",{className:"desc",children:"Desde aqui puedes elegir rapidamente una lista de contactos, subirla o subirlos manualmente."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"select",onClick:c=>{s(c,o)},children:"Seleccionar de una lista"}),e.jsx("button",{value:"new",onClick:c=>{s(c,o)},children:"Crear una nueva lista"})]}),e.jsx(ke,{Next:r})]})]}),n=="new"?e.jsx(Qt,{}):n=="select"?e.jsx(Wt,{}):""]})}function Gt(){function s(){}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left"}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Hola"}),e.jsx("span",{className:"desc",children:"hola"})]}),e.jsx(ke,{Next:s})]})]})})}function It(){const{wizard:s,setWizard:t,AwaitButton:n}=a.useContext(Ne),[i,o]=a.useState(!1),r=se();function c(p){n(p.target,"active");let d=new FormData;o("pending"),d.append("id_campaign",s.process.id_campaign),d.append("email",s.process.email),d.append("str_affair",s.process.affair),d.append("str_body",s.process.body),d.append("id_company",s.company.id_company),P.post(D+"/api/send/mt",d,{withCredentials:!0}).then(x=>x.data).then(x=>{n(p.target,"remove"),x.status&&(o(!0),s.tutorial_wizard&&setTimeout(()=>{P.get("/api/get/tutowizard",{withCredentials:!0}),r("/home")},2e3)),x.msg&&A.error(x.msg)}).catch(x=>{n(p.target,"remove")})}function m(p){c(p)}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option active",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Detalles de envio"}),e.jsx("img",{src:"img/icons/send-email2.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Envio de campaign"}),e.jsx("span",{className:"desc",children:"Enhora buena! Has llegado al ultixmo paso."})]}),e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Previsualizacion del envio"}),e.jsx("div",{className:"structure",children:e.jsxs("ul",{children:[e.jsxs("li",{children:["Correo para: ",e.jsx("b",{children:s.process.email})]}),e.jsxs("li",{children:["Asunto: ",e.jsx("b",{children:s.process.affair})]}),e.jsxs("li",{children:["Bajo la compania: ",e.jsx("b",{children:s.company.name})]}),e.jsxs("li",{children:["Status de envio: ",i==!1?e.jsxs("i",{className:"text-yellow",children:[e.jsx(Ns,{})," En espera de confirmacion..."]}):i=="pending"?e.jsxs("i",{children:[e.jsx(Ta,{})," Enviando..."]}):i==!0?e.jsxs("i",{className:"success",children:[e.jsx(js,{})," Enviado"]}):""]})]})})]}),e.jsx(ke,{Next:m})]})]})})}function Jt(){const{setWizard:s,setPosition:t}=a.useContext(Ne),[n,i]=a.useState(),[o,r]=a.useState(!1);function c(){n?(t(m=>m+1),s(m=>({...m,process:{...m.process,email:n}})),r(!0)):A.error("Opps! No has proporcionado un correo valido")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elegir correo"}),e.jsx("img",{src:"img/icons/email-2.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Asignar el correo"}),e.jsx("span",{className:"info",children:"Elige el correo al cual se le enviara este email."})]}),e.jsx("div",{className:"form",children:e.jsx("div",{className:"form-input",children:e.jsx("input",{placeholder:"Correo electronico",type:"email",onChange:m=>{i(m.target.value)}})})}),e.jsx(ke,{Next:c})]})]}),o==!0?e.jsx(It,{}):""]})}function Xt(){const{setPosition:s,wizard:t,setWizard:n}=a.useContext(Ne),[i,o]=a.useState({status:!1,preview:!1,isHtml:!1,file:{},preview_html:"",affair:"",vars:[]});function r(){i.affair?i.preview_html?(n(h=>({...h,process:{...h.process,body:i.preview_html,affair:i.affair,vars:i.vars}})),s(h=>h+1),o(h=>({...h,status:!0}))):A.error("No tienes ningun formato html asignado."):A.error("Opps has dejado el asunto vacio.")}function c(h){let j=h.target.files[0];if(j.type=="text/html"){o(f=>({...i,file:j}));let g=new FileReader;g.onload=function(f){o(v=>({...v,preview_html:f.target.result}))},g.readAsText(j)}}function m(){o(h=>({...h,preview:!0}))}function p(){o(h=>({...h,preview_html:"",preview:!1,file:{}})),document.querySelector(".option.active input[type='file']").value=""}function d(){o(h=>({...h,preview:!1}))}function x(h){o(j=>({...j,affair:h.target.value}))}function u(h){let g=O(h.target).parents(".form-input").find("input"),f=g.val();i.vars.length<8&&(o(v=>({...v,vars:[...v.vars,f]})),g.val(""))}function l(h){let j=h.target.value;o(g=>({...g,vars:g.vars.filter(f=>f!==j)}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[i.preview==!1?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Personaliza tu frontend"}),e.jsx("img",{src:"img/icons/frontend.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Personalizar body"}),e.jsx("span",{className:"desc",children:"Personaliza tu body para tu envio"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"xd",children:"Este campo es especial, dale click al signo de interrogacion para ver sus funcionalidades."}),e.jsx("input",{type:"text",placeholder:"Asunto",onChange:x})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"xd",children:"Estas variables se enviaran en forma organizada, es decir desde el principio al fin. y deben de ser interpretadas en su archivo .html con un $1,$2."}),e.jsxs("div",{className:"special",children:[e.jsx("input",{type:"text",placeholder:"Variables",onChange:x}),e.jsx("button",{className:"action",onClick:u,children:"Agregar"})]}),e.jsx("div",{className:"tags",children:i.vars.map((h,j)=>e.jsx("button",{onClick:l,value:h,children:h},j))})]}),e.jsx("div",{className:"buttons",children:i.file.type=="text/html"?e.jsxs("div",{className:"file-on",children:[e.jsxs("span",{className:"name-file",children:[e.jsx(La,{})," ",i.file.name]}),e.jsx("button",{className:"remove",onClick:p,children:e.jsx(de,{})})]}):e.jsxs("button",{onClick:h=>{document.querySelector(".option.active input[type='file']").click()},children:[e.jsx(Pe,{})," Subir Archivo"]})})]}),e.jsx("div",{className:"buttons",children:i.file.type!=="text/html"?e.jsx("button",{children:"Editor html"}):e.jsx("button",{onClick:m,children:"Vista previa"})}),e.jsx(ke,{Next:r})]})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"preview-html",children:[e.jsxs("div",{className:"actions-preview",children:[e.jsx("button",{className:"left",onClick:d,children:e.jsx(Qe,{})}),e.jsx("button",{className:"left",onClick:p,children:e.jsx(de,{})}),e.jsx("div",{className:"right-preview",children:e.jsxs("button",{className:"upload-new",onClick:h=>{document.querySelector(".option.active input[type='file']").click()},children:[e.jsx(Pe,{})," Subir nuevo archivo"]})})]}),e.jsx("div",{className:"preview",dangerouslySetInnerHTML:{__html:i.preview_html}})]})}),e.jsx("input",{type:"file",accept:".html",onChange:c,hidden:!0})]}),i.status==!0?e.jsx(Jt,{}):""]})}function Kt(){const{Selector:s,setPosition:t}=a.useContext(Ne),[n,i]=a.useState();function o(){(n=="new"||n=="select")&&t(c=>c+1)}function r(c){i(c)}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Selecciona la plantilla"}),e.jsx("img",{src:"img/icons/body-html.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Selecciona tu estructura"}),e.jsx("span",{className:"desc",children:"Selecciona la estructura de correo que usaras para enviar esta campaign"})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"new",onClick:c=>{s(c,r)},children:"Crear un body"}),e.jsx("button",{value:"select",onClick:c=>{s(c,r)},children:"Ya tengo uno"})]}),e.jsx(ke,{Next:o})]})]}),n=="new"?e.jsx(Xt,{}):n=="select"?e.jsx(Gt,{}):""]})}function Ca(){const{Selector:s,setWizard:t,setPosition:n,position:i}=a.useContext(Ne),[o,r]=a.useState();function c(){o!==void 0||o!==""?n(i+1):A.error("!Opps no has seleccionado el tipo de envio")}function m(p){r(p),t(d=>({...d,process:{...d.process,type_send:p}}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Selecciona el tipo"}),e.jsx("img",{src:"img/icons/send-type.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige el tipo de envio"}),e.jsx("span",{className:"desc",children:"Aca tienes que elegir que tipo de envio quieres que sea. Es decir, puedes elegir entre un envio "})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"masive",onClick:p=>{s(p,m)},children:"Envíos de campañas masivas"}),e.jsx("button",{value:"ind",onClick:p=>{s(p,m)},children:"Envio Individual"})]}),e.jsx(ke,{Next:c})]})]}),o=="ind"?e.jsx(Kt,{}):o=="masive"?e.jsx(Ht,{}):""]})}function Yt(){const[s,t]=a.useState({name:"",ocation:"",id_company:""}),{AwaitButton:n,wizard:i,Prev:o,position:r,setPosition:c}=a.useContext(Ne);a.useState(!1);const[m,p]=a.useState(!0);function d(u){n(u.target,"active");let l=new FormData;l.append("name",s.name),l.append("ocation",s.ocation),l.append("id_company",s.id_company),i.type=="email"&&l.append("type_c","em"),i.type=="sms"&&l.append("type_c","sms"),P.post(D+"/api/upload/campaign",l,{withCredentials:!0}).then(h=>h.data).then(h=>{h.msg&&A.error(h.msg),h.status&&c(r+1),n(u.target,"remove")}).catch(h=>{n(u.target,"remove")})}function x(u){t({...s,[u.target.name]:u.target.value})}return a.useEffect(()=>{t({...s,id_company:i.company.id_company})},[i]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Una nueva aventura!"}),e.jsx("img",{src:"img/icons/new-campaign.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crea una nueva campaña"}),e.jsx("span",{className:"desc",children:"Para crear una nueva campaña necesitas informacion basica para darle un nombre y un objetivo a tu campaña."})]}),e.jsxs("div",{className:"form",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",name:"name",placeholder:"Titulo de campaña",onChange:x})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"ocation",id:"",onChange:x,children:[e.jsx("option",{value:"default",children:"Por defecto"}),e.jsx("option",{value:"email",children:"Cumpleaños"})]})})]}),e.jsxs("div",{className:"buttons-action ",children:[e.jsx("button",{className:"prev",onClick:o,children:"<"}),e.jsxs("button",{className:"next",onClick:d,children:["Siguiente ",e.jsx("div",{className:"loading"})]})]})]})]}),m==!0?e.jsx(Ca,{}):""]})}function wa({loading:s}){return e.jsx(e.Fragment,{children:s==!0?e.jsx("div",{className:"wizard-loading-circle"}):""})}function Zt(){const{setPosition:s,setWizard:t,wizard:n,SelectorItem:i}=a.useContext(Ne),[o,r]=a.useState(!0),[c,m]=a.useState(),[p,d]=a.useState([]);function x(){c>=1?s(l=>l+1):le.error("!Opps no has seleccionado una campaign")}function u(l){t(h=>({...h,process:{...h.process,id_campaign:l}})),m(l)}return a.useEffect(()=>{let l=new FormData;l.append("id_company",n.company.id_company),P.post(D+"/api/get/campaign",l,{withCredentials:!0}).then(h=>h.data).then(h=>{d(h.results),r(!1)}).catch(h=>{r(!1)})},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elige tu campaña"}),e.jsx("img",{src:"img/icons/wizard-selectcampaign.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu campaña"}),e.jsx("span",{className:"desc",children:"Selecciona rapidamente una de tus campañas para seguir al siguiente paso."})]}),e.jsxs("div",{className:"items-result",children:[p.map((l,h)=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"item select",value:l.id_campaign,onClick:j=>{i(j,u)},children:[e.jsx("img",{src:"img/icons/campaign_profile.png",alt:""}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:l.name}),e.jsxs("span",{children:["Creada el ",l.time_add]}),e.jsx("div",{className:"circle",children:e.jsx("i",{children:e.jsx(De,{})})})]})]})})),e.jsx(wa,{loading:o})]}),e.jsx(ke,{Next:x})]})]}),Number(c)=="NaN"?e.jsx(Ca,{}):""]})}function Vs(){const[s,t]=a.useState({campaign:"",campaign_name:"",actions:{campaign:""}}),{Selector:n,Prev:i,position:o,setPosition:r}=a.useContext(Ne);function c(){m()}function m(){let d=!1;switch(o){case 2:s.actions.campaign=="new"||s.actions.campaign=="select"?d=!0:A.error("Opps no has seleccionado nada.");break}d&&r(o+1)}function p(d){t({...s,actions:{campaign:d}})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",style:{display:"none"},children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Campañas"}),e.jsx("img",{src:"img/icons/email-alert.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu campana"}),e.jsx("span",{className:"desc",children:"Crea tu campana rapidamente solamente eligiendo un nombre y ajustandola a tus preferencias. Tambien puedes reutilizar alguna campana antigua."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"new",onClick:d=>{n(d,p)},children:"Crear una nueva"}),e.jsx("button",{value:"select",onClick:d=>{n(d,p)},children:"Ya tengo una"})]}),e.jsx(ke,{Next:c})]})]}),s.actions.campaign=="new"?e.jsx(Yt,{}):e.jsx(Zt,{})]})}function _e({color:s,fn:t}){function n(i){i.stopPropagation();let o=O(i.target),r=o.parents(".colors");o.parents(".colors").find(".active").removeClass("active"),o.addClass("active"),r.find("button").css({opacity:"0.5"}),o.css({opacity:"1"})}return e.jsx(e.Fragment,{children:e.jsx("button",{className:"option-color",style:{background:s},value:s,onClick:i=>{t(i.target.value),n(i)}})})}function Ut(){const{Prev:s,AwaitButton:t,setPosition:n}=a.useContext(Ne),[i,o]=a.useState({name:"",type:"",color:"",default:"false"});function r(p){o({...i,color:p})}function c(p){let d=p.target.value,x=p.target.name;o({...i,[x]:d})}function m(p){i.name&&i.type&&i.color?(t(p.target,"active"),P.post(D+"/api/upload/company",i,{withCredentials:!0}).then(d=>d.data).then(d=>{t(p.target,"remove"),d.status&&(A.success("Company creada con exito"),n(1),O("button.active").removeClass("active")),d.msg&&A.error(d.msg)}).catch(d=>{t(p.target,"remove")})):A.error("Opps no has terminado los campos")}return e.jsx(e.Fragment,{children:status==!1?e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Nuevas ideas!"}),e.jsx("img",{src:"img/icons/cohete-men.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crear empresa"}),e.jsx("span",{className:"desc",children:"Personaliza tu empresa, con colores u imagen para poder identificarla si tienes otras empresas por registrar. Elige un nombre y comienza!"})]}),e.jsxs("div",{className:"form",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de empresa",name:"name",onChange:c})}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{htmlFor:"",children:"Tipo de empresa"}),e.jsx("select",{name:"type",id:"",onChange:c})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{children:"Elige un color"}),e.jsx("span",{className:"desc",children:"El color te ayudara a identificar tu empresa."}),e.jsxs("div",{className:"colors",children:[e.jsx(_e,{color:"#2e56ff",fn:r}),e.jsx(_e,{color:"#57c583",fn:r}),e.jsx(_e,{color:"#3fcae9",fn:r}),e.jsx(_e,{color:"#e9d43f",fn:r}),e.jsx(_e,{color:"#d77613",fn:r}),e.jsx(_e,{color:"#c069cb",fn:r}),e.jsx(_e,{color:"#cb6992",fn:r})]})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{children:"Seleccionar como predeterminada"}),e.jsx("span",{className:"desc",children:"Si la eliges como predeterminada automaticamente se usara sin necesidad de seleccionarla."}),e.jsx("br",{}),e.jsxs("select",{name:"default",id:"",onChange:c,children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Si"})]})]})]}),e.jsx(ke,{Prev:s,Next:m})]})]}):e.jsx(e.Fragment,{})})}function ei(){const{wizard:s,setWizard:t,setPosition:n}=a.useContext(Ne),[i,o]=a.useState([]),[r,c]=a.useState(!0);function m(){}a.useEffect(()=>{(async function(){o(await Dt()),c(!1)})()},[]),a.useEffect(()=>{s.company},[s]);function p(d,x){d.stopPropagation();let u=i[x];u.id_company&&(n(1),t({...s,company:u}))}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Usa tu empresa"}),e.jsx("img",{src:"img/icons/hot-company.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige una empresa"}),e.jsx("span",{children:"Elige una de las empresar anteriormente creadas."})]}),e.jsxs("div",{className:"companys",children:[i.map((d,x)=>e.jsxs("div",{className:"company",children:[e.jsx("img",{className:"photo-profile",src:"img/icons/default_profile.png",alt:""}),e.jsxs("span",{className:"title",children:[d.name," ",e.jsx("span",{className:"color",style:{background:d.color}})]}),e.jsx("button",{className:"use",onClick:u=>{p(u,x)},children:"Usar"})]},x)),e.jsx(wa,{loading:r})]}),e.jsx(ke,{Next:m})]})]})})}function si(){const[s,t]=a.useState({action:""}),{Selector:n,Prev:i,position:o,setPosition:r}=a.useContext(Ne);function c(d){t({...s,action:d})}function m(){p()}function p(){let d=!1;switch(s.action){case"go":d=!0;break;case"new":d=!0;break}d?r(o+1):A.error("No has seleccionado ninguna opcion.")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Tu empresa"}),e.jsx("img",{src:"img/icons/hot-company.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:" Elige tu empresa"}),e.jsx("span",{className:"desc",children:"Debes elegir tu empresa para comenzar, o tambien podrias crear una empresa nueva. Estas empresas tendran (estadisticas,contactos,envios) totalmente autonomos."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{onClick:d=>{n(d,c)},value:"go",children:"Ya tengo una"}),e.jsx("button",{onClick:d=>{n(d,c)},value:"new",children:"Crear una nueva"})]})}),e.jsx(ke,{Prev:i,Next:m})]})]}),s.action=="new"?e.jsx(Ut,{}):e.jsx(ei,{})]})}function ai(){return e.jsx(e.Fragment,{children:"xd"})}function ti(){const{position:s,setPosition:t,wizard:n,setWizard:i,Selector:o,Prev:r}=a.useContext(Ne);function c(){m()}function m(){let x=!1;switch(s){case 0:x=!0;break;case 1:if(n.type)switch(n.type){case"email":n.company?x=!0:A.error("No tienes una empresa seleccionada.");break;case"sms":n.company?x=!0:A.error("No tienes una empresa seleccionada.");break;default:x=!0;break}else A.error("No has seleccionado ninguna opcion");break}x&&t(s+1)}function p(x){i({...n,type:x})}a.useEffect(()=>{O(".wizard .option.active").removeClass("active"),O(".wizard .option").eq(s).addClass("active")},[s]);const d={email:e.jsx(Vs,{}),sms:e.jsx(Vs,{}),verifiedEmail:e.jsx(ai,{})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"wizard",children:e.jsxs("div",{className:"body",children:[n.loading?e.jsx("div",{className:"wizard-loading",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{className:"logo-center",src:"img/icons/logo-l1.png",alt:""}),e.jsx("div",{className:"line"})]})}):e.jsx(e.Fragment,{}),e.jsxs("div",{className:"options",children:[e.jsxs("div",{className:"option center active",children:[e.jsxs("div",{className:"center",children:[e.jsx("img",{className:"logo-center",src:"img/icons/logo-l1.png",alt:""}),e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Welcome to RadarSystems"}),e.jsx("span",{className:"desc",children:"Hola este wizard te ayudara a armar tu primera campaign de emails / sms te, te mostraremos paso por paso como hacer lo que necesitas."})]}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"",id:"",children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"Seleccionar Idioma"}),e.jsx("option",{value:"",children:"Espanol"}),e.jsx("option",{value:"",children:"Ingles"})]})})]}),e.jsx("div",{className:"buttons-action ",children:e.jsx("button",{className:"next",onClick:c,children:"Comenzar"})})]}),n.company==""?e.jsx(si,{}):e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Empezemos ahora"}),e.jsx("img",{src:"img/icons/wizard-help.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"¿Qué necesitas?"}),e.jsx("span",{children:"Puedes hacer diferentes acciones en la que podemos ayudarte mediante este wizard. Elige cual es de tu interes, asi podremos ayudarte facilmente."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{onClick:x=>{o(x,p)},value:"ac",children:"Elegir Empresa"}),e.jsx("button",{onClick:x=>{o(x,p)},value:"email",children:"Campañas de Correos"}),e.jsx("button",{onClick:x=>{o(x,p)},value:"sms",children:"Campañas de Sms"}),e.jsx("button",{className:n.tutorial_wizard==!0?"opacity-tutorial":"",onClick:x=>{o(x,p)},value:"vemail",children:"Verificador de Correos"}),e.jsx("button",{className:n.tutorial_wizard==!0?"opacity-tutorial":"",onClick:x=>{o(x,p)},value:"ac",children:"Acortador de Url"})]}),e.jsx(ke,{Prev:r,Next:c})]})]}),d[n.type]]})]})})})}function ii({MenuLeft:s}){const{UserInfo:t}=a.useContext(K),[n,i]=a.useState(),o=se(),[r,c]=a.useState(!0);a.useEffect(()=>{t.company_default==null&&t.company==null&&i(!0),t.company!==void 0&&i(!1)},[t]);function m(p){p.stopPropagation();let d=O(p.target),x=d.parents("li"),u=d.parents("li").find("ul"),l=O(".header-left").find("button.active"),h=O(".header-left").find("ul.active");l.parents("li").index()!==x.index()?(h.slideToggle(),h.removeClass("active"),l.removeClass("active"),d.addClass("active"),u.addClass("active"),u.slideToggle()):(l.removeClass("active"),h.removeClass("active"),h.slideToggle())}return vs("token"),a.useEffect(()=>{c("none")},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`header-left ${s?"active":""}`,children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"/img/icons/logo.png",alt:""})}),e.jsxs("ul",{children:[e.jsx("li",{className:n?"opacity":"",children:e.jsxs("button",{onClick:p=>{o("/home")},children:[e.jsx("i",{className:"icon",children:e.jsx(Ma,{})})," Home ",e.jsx("i",{className:"arrow"})]})}),e.jsxs("li",{children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(Ra,{})})," Configuracion ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/settings-account/account",children:"Cuenta"})}),e.jsx("li",{children:e.jsx($,{to:"/settings-account/security",children:"Seguridad"})}),e.jsx("li",{children:e.jsx($,{to:"/settings-account/footer",children:"Footer"})}),e.jsx("li",{children:e.jsx($,{to:"/settings-account/domains",children:"Dominios"})}),e.jsx("li",{children:e.jsx($,{to:"/settings-account/credentials",children:"API"})})]})]}),e.jsxs("li",{className:n?"opacity":"",children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(L,{icon:"tabler:apps"})})," Kit Marketing ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/buttonsqr",children:"Botonera QR"})}),e.jsx("li",{children:e.jsx($,{to:"/buttons",children:"Botonera URL"})}),e.jsx("li",{children:e.jsx($,{to:"/templates",children:"Boletines"})}),e.jsx("li",{children:e.jsx($,{to:"/surveys",children:"Formulario"})}),e.jsx("li",{children:e.jsx($,{to:"/editor/canvas",children:"Editor Canvas"})}),e.jsx("li",{children:e.jsx($,{to:"/editor/buttons",children:"Editor Botonera"})})]})]}),e.jsxs("li",{children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(As,{})})," Cuentas ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/companys",children:"Mis Cuentas"})}),e.jsx("li",{children:e.jsx($,{to:"/companys/add",children:"Crear Cuenta"})})]})]}),e.jsxs("li",{className:n?"opacity":""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(as,{})})," Recordatorios ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/campaigns",children:"Email "})}),e.jsx("li",{children:e.jsx($,{to:"/campaigns",children:"Sms"})}),e.jsx("li",{children:e.jsx($,{to:"/campaigns/new",children:"Mixto"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:p=>{m(p)},children:[e.jsx("i",{className:"icon",children:e.jsx(as,{})})," Campañas ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/campaigns/em",children:"Email Marketing"})}),e.jsx("li",{children:e.jsx($,{to:"/campaigns/em-mt",children:"Email MT"})}),e.jsx("li",{children:e.jsx($,{to:"/campaigns/sms",children:"SMS Marketing"})}),e.jsx("li",{children:e.jsx($,{to:"/campaigns/sms-mt",children:"SMS MT"})}),e.jsx("li",{children:e.jsx($,{to:"/campaigns/new",children:"Crear Campana"})})]})]}),e.jsx("li",{className:"",children:e.jsxs("button",{onClick:p=>{window.location.href="https://workflows.radarsystems.net/"},children:[e.jsxs("i",{className:"icon",children:[e.jsx(L,{icon:"octicon:workflow-16"})," "]})," Workflow ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]})}),e.jsx("li",{className:"",children:e.jsxs("button",{onClick:p=>{window.location.href="https://tools.radarsystems.net/"},children:[e.jsxs("i",{className:"icon",children:[e.jsx(L,{icon:"octicon:workflow-16"})," "]})," Herramientas ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]})}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(L,{icon:"material-symbols:contacts-outline"})})," Listas ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/contacts",children:"Mis Contactos"})}),e.jsx("li",{children:e.jsx($,{to:"/contacts/lists",children:"Mis Listas"})}),e.jsx("li",{children:e.jsx($,{to:"/contacts/lists/email",children:"Listas Correo"})}),e.jsx("li",{children:e.jsx($,{to:"/contacts/lists/sms",children:"Listas Mensajeria"})}),e.jsx("li",{children:e.jsx($,{to:"/contacts/lists/ws",children:"Listas Whatsapp"})}),e.jsx("li",{children:e.jsx($,{to:"/contacts/segments",children:"Segmentos"})})]})]}),e.jsx("li",{className:"",children:e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(L,{icon:"zmdi:portable-wifi"})})," Portal Cautivo ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]})}),e.jsxs("li",{className:n?"opacity":""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(Ns,{})})," Automatizacion ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{children:"WorkFlow"})}),e.jsx("li",{children:e.jsx($,{children:"Programacion"})}),e.jsx("li",{children:e.jsx($,{children:"Auto-Responders"})})]})]}),e.jsxs("li",{className:n?"opacity":""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(we,{})})," Estadisticas ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{to:"/stats/campaign",children:e.jsx($,{children:"Email Marketing"})}),e.jsx("li",{to:"/stats/campaign",children:e.jsx($,{children:"Email MT"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx($,{children:"Sms Marketing"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx($,{children:"Sms MT"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx($,{children:"Encuestas"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx($,{children:"Botonera QR"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx($,{children:"Botonera URL"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx($,{children:"Medusa"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx($,{children:"Landings"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx($,{children:"Google Analytics"})})]})]}),e.jsxs("li",{className:""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(Aa,{})})," Formulario ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/surveys/editor",children:"Crear Formulario"})}),e.jsx("li",{children:e.jsx($,{to:"/surveys",children:"Mis Formularios"})}),e.jsx("li",{children:e.jsx($,{to:"/surveys",children:"Plantillas"})})]})]}),e.jsxs("li",{className:""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(Os,{})})," Boletines Electronicos ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/templates",children:"Mis Boletines"})}),e.jsx("li",{children:e.jsx($,{to:"/editor/canvas",children:"Crear Boletin"})}),e.jsx("li",{children:e.jsx($,{to:"/landings",children:"Plantillas"})}),e.jsx("li",{children:e.jsx($,{to:"/landings",children:"Plantillas IA"})})]})]}),e.jsxs("li",{className:""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(Os,{})})," Landings Page ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/landings",children:"Mis Landings"})}),e.jsx("li",{children:e.jsx($,{to:"/editor/landings",children:"Crear Landings"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(L,{icon:"ri:links-fill"})})," Embudo de Conversion ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/shorturls/campaigns",children:"Mis Campañas"})}),e.jsx("li",{children:e.jsx($,{to:"/shorturls/campaigns/add",children:"Crear Campana"})}),e.jsx("li",{children:e.jsx($,{to:"/shorturls",children:"Mis Enlaces"})}),e.jsx("li",{children:e.jsx($,{to:"/shorturls/add",children:"Crear Enlace"})})]})]}),e.jsxs("li",{className:""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(Oa,{})})," Botonera QR ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/editor/buttonsqr",children:"Crear Botonera QR"})}),e.jsx("li",{children:e.jsx($,{to:"/buttonsqr",children:"Mis Botoneras QR"})}),e.jsx("li",{children:e.jsx($,{to:"/qr/add",children:"Crear QR individual"})}),e.jsx("li",{children:e.jsx($,{to:"/qr/import",children:"Importar QR"})}),e.jsx("li",{children:e.jsx($,{to:"/qr",children:"Mis Qr's"})})]})]}),e.jsxs("li",{className:""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(L,{icon:"ri:links-fill"})})," Botonera URL ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/editor/buttons",children:"Crear Botonera URL"})}),e.jsx("li",{children:e.jsx($,{to:"/buttons",children:"Mis Botoneras URL"})})]})]}),e.jsxs("li",{className:""+r,children:[e.jsxs("button",{onClick:m,children:[e.jsx("i",{className:"icon",children:e.jsx(As,{})})," Validador Email ",e.jsx("i",{className:"arrow",children:e.jsx(ve,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/companys",children:"Mis Validaciones"})}),e.jsx("li",{children:e.jsx($,{to:"/companys",children:"Crear Validacion"})}),e.jsx("li",{children:e.jsx($,{to:"/companys",children:"Estadisticas"})})]})]})]})]})})}function ni({MenuLeft:s,MenuLeftAction:t}){var x,u,l;const{UserInfo:n}=a.useContext(K),[i,o]=a.useState("ligth"),r=se(),[c,m]=a.useState(!1);function p(){switch(i){case"ligth":o("dark");break;case"dark":o("ligth");break;default:o("ligth");break}}function d(){m(!c)}return a.useEffect(()=>{O(document.body).attr("theme",i)},[i]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"header-top",children:[e.jsx("div",{className:"left mb",children:e.jsx("button",{className:"open",onClick:h=>{t()},children:e.jsx(L,{icon:"iconoir:nav-arrow-right"})})}),e.jsxs("div",{className:"right",children:[e.jsx("div",{className:"company",children:(x=n==null?void 0:n.company)!=null&&x.name?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"body",children:[e.jsx("img",{src:((u=n==null?void 0:n.company)==null?void 0:u.photo)!==void 0?ks(n):"img/icons/default_profile.png",alt:""}),e.jsx("span",{children:(l=n==null?void 0:n.company)==null?void 0:l.name})]})}):e.jsx($,{to:"/companys",className:"select-company",children:"Seleccionar Cuenta"})}),e.jsxs("button",{className:"option",onClick:p,children:[i=="dark"?e.jsx($a,{}):"",i=="ligth"?e.jsx(za,{}):""]}),e.jsx("button",{className:"option",children:e.jsx(Ba,{})}),e.jsxs("div",{className:"user",onClick:d,children:[e.jsx("span",{className:"name",children:n==null?void 0:n.user}),e.jsx("img",{src:"/img/icons/default-user.jpg",alt:""})]})]})]}),c?e.jsx("div",{className:"menu-top-user",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsxs("button",{onClick:h=>{r("")},children:[e.jsx(L,{icon:"material-symbols:report-outline"})," Reportar"]})}),e.jsx("li",{children:e.jsxs("button",{onClick:h=>{r("/logout")},children:[e.jsx(L,{icon:"ic:outline-no-meeting-room"})," Cerrar sesión"]})})]})}):""]})}function X({Element:s,CompanyNeed:t}){var d;const{UserInfo:n}=a.useContext(K);se(),a.useState(!1);const[i,o]=a.useState("wait"),[r,c]=a.useState(!1),m=Oe();function p(x){x==null?r==!0?c(!1):c(!0):c(!1)}return a.useEffect(()=>{p("x")},[m]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"app",children:[e.jsx(ii,{MenuLeftAction:p,MenuLeft:r}),e.jsx(ni,{MenuLeftAction:p,MenuLeft:r}),e.jsx("div",{className:"page",onClick:x=>{p("x")},children:t?(d=n==null?void 0:n.company)!=null&&d.id_company?e.jsx(s,{}):i==!1?e.jsxs("div",{className:"center-loading",children:[e.jsx("img",{src:"/img/icons/oficina.png",alt:""}),e.jsx("p",{children:"No has seleccionado ninguna empresa"})]}):e.jsx("div",{className:"center-loading",children:e.jsx("div",{className:"circle"})}):e.jsx(s,{})})]})})}function Se(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"loding-box",children:e.jsx("div",{className:"loading",children:e.jsx("div",{className:"circle"})})})})}function li({Visible:s,Close:t}){const{UserInfo:n}=a.useContext(K),[i,o]=a.useState(0),[r,c]=a.useState([qe()]),[m,p]=a.useState({type:"",name:"",ocation:""}),d=se();function x(h){h.stopPropagation(),h.preventDefault();let j=O(h.target);j.parents(".options").find(".active").removeClass("active"),j.addClass("active");let g=j.attr("value");p(f=>({...f,type:g}))}function u(h){var f;let j=!1,g=O(h.target);if((i===0&&m.type.includes("em")||m.type.includes("sms"))&&(j=!0),i==1&&m.type!==""&&m.name!==""){g.addClass("await");let v=new FormData;v.append("name",m.name),v.append("ocation",m.ocation),v.append("type_c",m.type),v.append("id_company",(f=n==null?void 0:n.company)==null?void 0:f.id_company),P.post(D+"/api/upload/campaign",v,{withCredentials:!0}).then(w=>w.data).then(w=>{w.status?d("/campaigns/detail/"+w.id_campaign):w.msg&&le.error(w.msg),g.removeClass("await")}).catch(w=>{g.removeClass("await")})}j&&o(v=>v+1)}function l(h){let j=h.target.name,g=h.target.value;p(f=>({...f,[j]:g}))}return a.useEffect(()=>{O(".case.active").removeClass("active"),O(".case").eq(i).addClass("active")},[i]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[i>0?e.jsxs("button",{className:"return",onClick:h=>{o(j=>j-1)},children:[e.jsx(Qe,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:h=>{t(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crea una nueva campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"options flex half",id:`options-${r[0]}`,children:[e.jsxs("div",{className:"selector",onClick:x,value:"em",children:[e.jsx("div",{className:"check",children:e.jsx(be,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA EMAIL MARKETING"}),e.jsx("span",{children:"Crea tu campaña de email con uno de nuestros editores para que la envíes inmediatamente o programes para enviar más tarde."})]})]}),e.jsxs("div",{className:"selector",onClick:x,value:"em-mt",children:[e.jsx("div",{className:"check",children:e.jsx(be,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA EMAIL TRANSACCIONAL"}),e.jsx("span",{children:"Crea tu campaña de email transaccional estas seran enviada 1x1 mediante la conexion a la api."})]})]}),e.jsxs("div",{className:"selector",onClick:x,value:"sms",children:[e.jsx("div",{className:"check",children:e.jsx(be,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA SMS MARKETING"}),e.jsx("span",{children:"Envía mensajes de texto rápidos y confiables a cualquier país con nuestras herramientas de campaña de SMS."})]})]}),e.jsxs("div",{className:"selector",onClick:x,value:"sms-mt",children:[e.jsx("div",{className:"check",children:e.jsx(be,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA SMS TRANSACCIONAL"}),e.jsx("span",{children:"Crea tu campaña de sms transaccional estas seran enviada 1x1 mediante la conexion a la api."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de campaña"}),e.jsx("input",{type:"text",name:"name",onChange:l,placeholder:"Nombre"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Selecciona tipo"}),e.jsxs("select",{name:"ocation",id:"",onChange:l,children:[e.jsx("option",{value:"",selected:!0,children:" Por defecto"}),e.jsx("option",{value:"birthday",children:"Cumpleaños"})]})]}),(m.ocation=="birthday","")]})]}),e.jsxs("div",{className:"actions",children:[e.jsxs("button",{className:"next",onClick:u,children:["Siguiente ",e.jsx("div",{className:"loading"})]}),e.jsx("button",{className:"return",children:e.jsx(re,{icon:"teenyicons:left-outline"})})]})]})]})})}function ge({name:s,buttonName:t,addNew:n=!1,callback:i}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"nofound-items",children:[e.jsx("img",{src:"/img/icons/notfound.png",alt:""}),e.jsxs("p",{children:["No hay ",s??"items","  disponibles"]}),e.jsx("br",{}),n?e.jsxs("button",{onClick:o=>{i()},children:["Crear ",t]}):""]})})}function ci({newFormCampaign:s}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top",children:[e.jsx("ul",{}),e.jsx("div",{className:"right",children:e.jsxs("div",{className:"form-search",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{onChange:s,name:"name",type:"text",placeholder:"Buscar por campañas..."})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{onChange:s,name:"type",id:"",children:[e.jsx("option",{value:"em",children:"Email Marketing"}),e.jsx("option",{value:"em-mt",children:"Email Transaccional"}),e.jsx("option",{value:"sms",children:"Sms Marketing"}),e.jsx("option",{value:"sms-mt",children:"Sms Transaccional"})]})}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"date",onChange:s})})]})})]})})}function ri({idCampaign:s,idCompany:t}){var m,p;const[n,i]=a.useState(!1),[o,r]=a.useState({series:[{name:"Enviados",data:[]},{name:"Clicks",data:[]},{name:"Leidos",data:[]},{name:"Errores",data:[]}],chart:{height:350,type:"area"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{categories:[]},tooltip:{x:{format:"dd/MM/yy HH:mm"}}});function c(){i(!0);let d=new FormData;d.append("id_company",t),d.append("id_campaign",s),d.append("case","campaign"),P.post(D+"/api/get/stats",d,{withCredentials:!0}).then(x=>x.data).then(x=>{x.daysResponse.length&&r(l=>({...l,series:[{...l.series[0],data:l.series[0].data.concat(x.daysResponse.map(h=>h.send))},{...l.series[1],data:l.series[1].data.concat(x.daysResponse.map(h=>h.clicks))},{...l.series[2],data:l.series[2].data.concat(x.daysResponse.map(h=>h.reads))},{...l.series[3],data:l.series[3].data.concat(x.daysResponse.map(h=>h.errors))}],xaxis:{...l.xaxis,categories:x.daysTotal}}))})}return a.useEffect(()=>{n||c()},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"box",children:(p=(m=o==null?void 0:o.series[0])==null?void 0:m.data)!=null&&p.length?e.jsx(Xe,{options:o,series:o.series,type:"area",height:300}):""})})}function Be(){const{UserInfo:s}=a.useContext(K),t=se(),[n,i]=a.useState([]),[o,r]=a.useState(!1),[c,m]=a.useState(!0),[p,d]=a.useState({name:""}),x=Oe();a.useEffect(()=>{Me("/new")&&r(!0)},[x]);function u(g){var w;let f=new FormData;m(!0);let v="em";Me("/em")&&(v="em"),Me("/em-mt")&&(v="em-mt"),Me("/sms")&&(v="sms"),Me("/sms-mt")&&(v="sms-mt"),g||i([]),f.append("id_company",(w=s==null?void 0:s.company)==null?void 0:w.id_company),f.append("type",v),f.append("name",p.name),P.post(D+"/api/get/campaign",f,{withCredentials:!0}).then(q=>q.data).then(q=>{var b;(b=q==null?void 0:q.results)!=null&&b.length&&i(q.results),m(!1)}).catch(q=>{m(!1)})}function l(g){let f=g.target.name,v=g.target.value;d({...p,[f]:v})}a.useEffect(()=>{u(!1)},[x]);function h(g){let f=g.target.dataset.value;t("/campaigns/detail/"+f)}function j(g){i(f=>f.map((w,q)=>q===g?{...w,showStats:!w.showStats}:w))}return a.useEffect(()=>{p.type?t("/campaigns/"+p.type):u(!1)},[p]),e.jsxs(e.Fragment,{children:[e.jsx(li,{Visible:o,Close:r},`${o?"x":"x2"}`),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Campañas"}),e.jsx("span",{children:"Crea y ve tus campañas rapidamente, tambien puedes entrar a nuestro sistema automatizado "})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"go-wizard",onClick:g=>{r(!0)},children:"Crear nueva campaña"}),e.jsx("button",{onClick:g=>{r(!0)},children:"Wizard"})]})]}),e.jsx(ci,{newFormCampaign:l}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[n==null?void 0:n.map((g,f)=>{var v;return e.jsxs("div",{className:"item ",style:{padding:0},children:[e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon-i",children:e.jsxs("i",{style:{color:"var(--details-blue)"},children:[e.jsx(re,{icon:"nimbus:marketing"}),"                                        "]})}),e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:["NOMBRE DE CAMPANA: ",g.name]}),e.jsxs("span",{className:"desc",children:["FECHA: ",ue(g.time_add)]}),e.jsx("br",{style:{marginBottom:"10px"}}),e.jsxs("div",{className:"details-campaign",children:[e.jsxs("span",{className:"desc",children:["Enviados: ",e.jsx("b",{children:g.send})," "]}),e.jsxs("span",{className:"desc",children:["Devueltos: ",e.jsx("b",{children:"12"})," "]}),e.jsxs("span",{className:"desc",children:["Recibidos: ",e.jsx("b",{children:Number(g.send)-Number(g.errors)})]}),e.jsxs("span",{className:"desc",children:["No Leidos: ",e.jsx("b",{children:g.unread})]}),e.jsxs("span",{className:"desc",children:["Leidos: ",e.jsx("b",{children:g.views})]}),e.jsxs("span",{className:"desc",children:["Clicks: ",e.jsx("b",{children:g.clicks})]}),e.jsxs("span",{className:"desc",children:["Removidos: ",e.jsx("b",{children:g.unsubscribe})]})]})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{className:"",onClick:h,"data-value":g.id_campaign,children:e.jsx(re,{icon:"line-md:cog-loop"})}),e.jsx("button",{className:"h-green",onClick:w=>{j(f)},children:g.showStats?e.jsx(re,{icon:"grommet-icons:up"}):e.jsx(re,{icon:"ps:stats"})})]})]}),g.showStats&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"stats",children:e.jsx(ri,{idCampaign:g.id_campaign,idCompany:(v=s==null?void 0:s.company)==null?void 0:v.id_company})})})]})}),c==!1?(n==null?void 0:n.length)==0?e.jsx(ge,{name:"campanas"}):"":e.jsx(Se,{})]})})})]})}function ms(){var t;const{UserInfo:s}=a.useContext(K);return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top",children:[e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:"/companys",children:"Cuentas"})}),((t=s==null?void 0:s.company)==null?void 0:t.id_company)&&e.jsx("li",{children:e.jsx($,{to:"/companys/plans",children:"Planes"})}),e.jsx("li",{children:e.jsx($,{to:"/companys/roles",children:"Roles"})}),e.jsx("li",{children:e.jsx($,{to:"/companys/users",children:"Perfiles"})})]}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"form-search",children:e.jsx("input",{type:"text",placeholder:"Buscar cuenta..."})})})]})})}function me({buttonsActions:s=!0,minWidth:t,maxWidth:n,children:i,width:o,visible:r,buttonSave:c=!0,cancel:m,onClick:p,next:d,callback:x,Pending:u,close:l=function(){}}){const[h,j]=a.useState(r==!1?!1:r),[g,f]=a.useState(qe());function v(w){w.stopPropagation();let q=O(w.target);O(`#modal-${g}`).removeClass("open"),q.parents(".modal-small").addClass("close"),setTimeout(()=>{q.parents(".modal-small").removeClass("close"),j(!1),x(!1)},400)}return a.useEffect(w=>{r==!0?(j(!0),setTimeout(()=>{O(`#modal-${g}`).removeClass("close"),O(`#modal-${g}`).addClass("open")},25)):(O(`#modal-${g}`).addClass("close"),O(`#modal-${g}`).removeClass("open"),l("cerro"))},[r]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"modal-small",id:`modal-${g}`,style:{display:h==!0?"flex":"none",overflow:"auto"},children:[e.jsx("div",{className:"closed"}),e.jsxs("div",{className:"body",style:{maxWidth:n,minWidth:t,width:o},children:[i,s?e.jsxs("div",{className:"actions",children:[e.jsx("button",{id:"close",onClick:v,children:m??"Cancelar"}),c?e.jsxs("button",{className:`done ${u==!0?" await":""}`,onClick:p,children:[d??"Guardar"," ",e.jsx("div",{className:"loading"})]}):""]}):""]})]})})}function oi({name:s,id:t,valueDefault:n,onChange:i}){const[o,r]=a.useState(qe());a.useEffect(()=>{n&&(document.querySelector(`.select-${o}`).value=n)},[]);function c(m){i&&i(m)}return e.jsxs("select",{name:s,id:t,onChange:c,className:`select-${o}`,children:[e.jsx("option",{value:"def",selected:!0,disabled:!0,children:"Seleccionar"}),e.jsx("option",{value:"md",children:"Marketing Digital"}),e.jsx("option",{value:"tec",children:"Tecnología"}),e.jsx("option",{value:"tele",children:"Telecomunicaciones"}),e.jsx("option",{value:"soft",children:"Software"})]})}function Qs(){const[s,t]=a.useState([]),[n,i]=a.useState(!0),[o,r]=a.useState(!1),[c,m]=a.useState(!1),[p,d]=a.useState({}),[x,u]=a.useState({name:"",color:"",type:""}),{setUserInfo:l,UserInfo:h}=a.useContext(K),[j,g]=a.useState(!1),f=Oe();a.useEffect(()=>{Me("/add")&&r(!0)},[f]);function v(){t([]),i(!0),P.post(D+"/api/get/companys",{},{withCredentials:!0}).then(E=>E.data).then(E=>{i(!1),t(E)})}a.useEffect(()=>{v()},[]),a.useEffect(()=>{},[p]);function w(){}function q(E){c?d(N=>({...N,color:E})):u(N=>({...N,color:E}))}function b(E){if(c){let N=O(E.target);N.addClass("await");let F=new FormData;F.append("name",p.name),F.append("color",p.color),F.append("type",p.type),F.append("id_company",p.id_company),P.post(D+"/update/editcompany",F,{withCredentials:!0}).then(C=>C.data).then(C=>{C.status&&(r(!1),A.success("Has editado correctamente."),v()),C.msg&&A.error(C.msg),N.removeClass("await")}).catch(C=>{N.removeClass("await")})}else{g(!0);let N=new FormData;N.append("name",x.name),N.append("color",x.color),N.append("type",x.type),P.post(D+"/api/upload/company",N,{withCredentials:!0}).then(F=>F.data).then(F=>{F.status&&(v(),r(!1),A.success("Has creado tu cuenta correctamente.")),F.msg&&A.error(F.msg),g(!1)}).catch(F=>{g(!1)})}}a.useEffect(()=>{O(".colors .option-color").css({opacity:"0.5"}),O(`.colors .option-color[value='${p.color}']`).addClass("active").css({opacity:1}),O(".form-input input[name='name']").val(p.name)},[p]);function y(E){r(!0),d(s[E])}function _(E,N){E.stopPropagation();try{l(F=>({...F,company:s[N]})),document.cookie=`company=${s[N].id_company}`,A.success("Empresa asignada correctamente.")}catch{}}function k(E,N){E.stopPropagation()}function S(E){c||u(N=>({...N,[E.target.name]:E.target.value}))}return e.jsxs(e.Fragment,{children:[e.jsxs(me,{onClick:b,visible:o,callback:r,close:E=>{d({})},Pending:j,next:`${c?"Editar":"Agregar"}`,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:c?"Editar cuenta":"Agregar cuenta"})}),e.jsxs("div",{className:"content",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre"}),e.jsx("input",{name:"name",type:"text",onChange:S})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Tipo"}),e.jsx(oi,{name:"type",onChange:S,valueDefault:`${c?p.type:"def"}`,callback:w},o?"modal-open":"modal-closed")]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Elige color de tu cuenta"}),e.jsx("span",{className:"desc",children:"El color te ayudara a identificar tu tipo de cuenta."}),e.jsxs("div",{className:"colors",children:[e.jsx(_e,{color:"#2e56ff",fn:q}),e.jsx(_e,{color:"#57c583",fn:q}),e.jsx(_e,{color:"#3fcae9",fn:q}),e.jsx(_e,{color:"#e9d43f",fn:q}),e.jsx(_e,{color:"#d77613",fn:q}),e.jsx(_e,{color:"#c069cb",fn:q}),e.jsx(_e,{color:"#cb6992",fn:q})]},o?"a":"x")]})]})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MIS CUENTAS"}),e.jsx("span",{children:"Crea y administra tus cuentas, agrega Roles y Perfiles"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:E=>{r(!0),m(!1)},children:"Crear nueva cuenta"})})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx(ms,{}),e.jsxs("div",{className:"box box-padding",children:[s.map((E,N)=>{var F;return e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:E.photo?ks({company:{photo:E.photo}}):"img/icons/default_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:E.name}),e.jsxs("span",{className:"desc",children:["Creado el: ",ue(E.time_add,"complete")]})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:C=>{k(C)},children:e.jsx(Va,{})}),e.jsx("button",{onClick:C=>{y(N),m(!0)},children:e.jsx(ys,{})}),e.jsxs("button",{onClick:C=>{_(C,N)},children:[" ",((F=h==null?void 0:h.company)==null?void 0:F.id_company)==E.id_company?e.jsx(Qa,{}):e.jsx(Wa,{})," "]})]})]},N)}),n==!0?e.jsxs(e.Fragment,{children:["  ",e.jsx(Se,{})]}):""]})]})})]})}function Fe({visible:s,onClick:t,callback:n,Pending:i,name:o}){const[r,c]=a.useState(s!=!1),[m,p]=a.useState(qe());function d(x){x.stopPropagation();let u=O(x.target);u.parents(".actions").find(".done.await").length?A.error("No puedes salir en este momento..."):(O(`#modal-${m}`).removeClass("open"),u.parents(".modal-small").addClass("close"),setTimeout(()=>{u.parents(".modal-small").removeClass("close"),c(!1),n(!1)},600))}return a.useEffect(x=>{s==!0?(c(!0),setTimeout(()=>{O(`#modal-${m}`).removeClass("close"),O(`#modal-${m}`).addClass("open")},25)):(O(`#modal-${m}`).addClass("close"),O(`#modal-${m}`).removeClass("open"),close("cerro"))},[s]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"modal-small delete",id:`modal-${m}`,style:{display:r==!0?"flex":"none"},children:[e.jsx("div",{className:"closed"}),e.jsxs("div",{className:"body",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Eliminar"})}),e.jsxs("span",{className:"dialog",children:["Estas apunto de eliminar ",o==null?"este objeto":"esta "+o,". ¿Estas seguro de querer eliminarlo?"]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{id:"close",onClick:d,children:"Cancelar"}),e.jsxs("button",{className:`done ${i==!0?"await":""}`,onClick:t,children:["Eliminar ",e.jsx("div",{className:"loading"})]})]})]})]})})}function di(){const{UserInfo:s,LoadingAuth:t}=a.useContext(K),[n,i]=a.useState(!1),[o,r]=a.useState(!1),[c,m]=a.useState(["delete","read","send","add"]),[p,d]=a.useState(!1);let x={type_add:"",delete:0,add:0,read:0,send:0,sadmin:0};const[u,l]=a.useState(x),[h,j]=a.useState(),[g,f]=a.useState(!0),v=se(),[w,q]=a.useState([]);async function b(){var F;let N=new FormData;N.append("id_company",(F=s==null?void 0:s.company)==null?void 0:F.id_company),q([]),f(!0),P.post(D+"/api/get/roles",N,{withCredentials:!0}).then(C=>C.data).then(C=>{q(C),f(!1)})}a.useEffect(()=>{t||s.company||(v("/companys"),A.error("Selecciona una empresa ")),g&&b()},[t]);function y(N){let F=N.target.value;O(N.target).is("input[type='checkbox']")?(l(C=>({...C,sadmin:0})),O(N.target).is("input[type='checkbox']:checked")?l(C=>({...C,[N.target.name]:1})):l(C=>({...C,[N.target.name]:0}))):(l(C=>({...C,[N.target.name]:F})),F=="sadmin"&&l(C=>({...C,sadmin:1})))}function _(N){let F=new FormData;u.rol!==void 0&&u.type_add!==void 0&&(F.append("sadmin",u!=null&&u.sadmin?u.sadmin:0),F.append("delete",u!=null&&u.delete?u.delete:0),F.append("read",u!=null&&u.read?u.read:0),F.append("add",u!=null&&u.add?u.add:0),F.append("send",u!=null&&u.send?u.send:0),F.append("rol",u.rol),F.append("id_company",s.company.id_company),p?(hs(N.target),F.append("id_rol",u==null?void 0:u.id_rol),P.post(D+"/api/update/permissions",F,{withCredentials:!0}).then(C=>C.data).then(async C=>{C.status&&(await b(),i(!1),Le(N.target)),C.msg&&(A.error("Opps error al aplicar cambios de permisos"),Le(N.target))}).catch(C=>{Le(N.target)})):(hs(N.target),P.post(D+"/api/upload/rol",F,{withCredentials:!0}).then(C=>C.data).then(C=>{C.status?(F.append("id_rol",C.id_rol),P.post(D+"/api/update/permissions",F,{withCredentials:!0}).then(T=>T.data).then(async T=>{T.status&&(await b(),i(!1),Le(N.target)),T.msg&&(A.error("Opps error al aplicar cambios de permisos"),Le(N.target))}).catch(T=>{Le(N.target)})):(C.msg&&A.error(C.msg),Le(N.target))}).catch(C=>{Le(N.target)})))}function k(N){let F=N.target.value;F&&(j(F),r(!0))}function S(N){hs(N.target);let F=new FormData;F.append("id_company",s.company.id_company),F.append("id_rol",h),h?P.post(D+"/api/delete/rol",F,{withCredentials:!0}).then(C=>C.data).then(C=>{C.status&&(r(!1),b()),C.msg&&A.error(C.msg),Le(N.target)}).catch(C=>{Le(N.target)}):A.error("No has seleccionado ningun id")}function E(N){let F=N.target.value;i(!0),d(!0),l(C=>({...C,id_rol:w[F].id_rol,rol:w[F].rol})),setTimeout(()=>{w[F].permissions.sadmin?(l(C=>({...C,type_add:"sadmin"})),document.querySelector("select").value="sadmin"):(l(C=>({...C,type_add:"pers"})),document.querySelector("select").value="pers",c.forEach((C,T)=>{w[F].permissions[C]&&document.querySelector(`input[name='${C}']`).click()}))},25)}return e.jsxs(e.Fragment,{children:[e.jsx(Fe,{visible:o,callback:r,onClick:S},o?"opxen":"clxose"),e.jsxs(me,{onClick:_,maxWidth:380,visible:n,callback:i,next:p?"Actualizar":"Guardar",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:p?"Editar rol":"Agregar rol"})}),e.jsxs("div",{className:"content",children:[p?"":e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de rol",name:"rol",onChange:y,value:(u==null?void 0:u.rol)==null?"":u==null?void 0:u.rol})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"type_add",id:"",onChange:y,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Seleccionar tipo"}),e.jsx("option",{value:"pers",children:"Personalizado"}),e.jsx("option",{value:"sadmin",children:"Super Admin"})]})}),u.type_add=="pers"?e.jsx("table",{children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Permisos"}),e.jsx("td",{children:"Seleccionar"})]}),c.map(N=>e.jsxs("tr",{children:[e.jsx("td",{children:N}),e.jsx("td",{children:e.jsx("input",{type:"checkbox",onChange:y,name:N})})]}))]})}):u.type_add=="sadmin"?e.jsxs("div",{className:"ad",children:[e.jsx("p",{children:"Advertencia"}),e.jsx("span",{children:"Al asignar un rol con permisos de super administrador, le daras derecho a hacer las mismas acciones que tu cuenta principal, podra manipular empresas o hacer cosas que solamente tu puedes hacer."})]}):e.jsx(e.Fragment,{})]})]},n?"open":"close"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus roles"}),e.jsx("span",{children:"Crea y elimina los roles de tu empresa, da permisos a usuarios para que puedan iniciar sesion y manipular tu empresa"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:N=>{i(!0),l(x),d(!1)},children:"Crear nuevo rol"})})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx(ms,{}),e.jsxs("div",{className:"box box-padding",children:[w.map((N,F)=>{var C,T,z,ie,oe,G,B,H;return e.jsxs("div",{className:"item flex",children:[e.jsx("div",{className:"info",children:e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:[N.rol," ",N.permissions.sadmin==!0?e.jsx("span",{className:"super-adm",children:"ADM"}):""," "]}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})}),e.jsxs("div",{children:[e.jsx("p",{children:"Lectura"}),e.jsx("div",{className:"center-roles",children:(C=N==null?void 0:N.permissions)!=null&&C.read?e.jsx("span",{className:"yes",children:e.jsx(De,{})}):((T=N==null?void 0:N.permissions)==null?void 0:T.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(De,{})}):e.jsx("span",{className:"no",children:e.jsx(ss,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Envio"}),e.jsx("div",{className:"center-roles",children:(z=N==null?void 0:N.permissions)!=null&&z.send?e.jsx("span",{className:"yes",children:e.jsx(De,{})}):((ie=N==null?void 0:N.permissions)==null?void 0:ie.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(De,{})}):e.jsx("span",{className:"no",children:e.jsx(ss,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Borrar"}),e.jsx("div",{className:"center-roles",children:(oe=N==null?void 0:N.permissions)!=null&&oe.delete?e.jsx("span",{className:"yes",children:e.jsx(De,{})}):((G=N==null?void 0:N.permissions)==null?void 0:G.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(De,{})}):e.jsx("span",{className:"no",children:e.jsx(ss,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Agregar"}),e.jsx("div",{className:"center-roles",children:(B=N==null?void 0:N.permissions)!=null&&B.add?e.jsx("span",{className:"yes",children:e.jsx(De,{})}):((H=N==null?void 0:N.permissions)==null?void 0:H.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(De,{})}):e.jsx("span",{className:"no",children:e.jsx(ss,{})})})]}),e.jsx("div",{children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:E,value:F,children:e.jsx(ys,{})}),e.jsx("button",{onClick:k,value:N.id_rol,children:e.jsx(de,{})})]})})]},F)}),g?e.jsx(Se,{}):w.length==0?e.jsx(ge,{}):""]})]})})]})}function mi(){const{UserInfo:s}=a.useContext(K),[t,n]=a.useState([]),[i,o]=a.useState(!1),[r,c]=a.useState({name:"",password:"",email:"",id_rol:""}),[m,p]=a.useState(!1),[d,x]=a.useState([]),[u,l]=a.useState(!1),[h,j]=a.useState(),[g,f]=a.useState(!1),[v,w]=a.useState({id_user:"",id_rol:""}),[q,b]=a.useState(!1);function y(C){let T=C.target.value,z=C.target.name;c(ie=>({...ie,[z]:T}))}function _(){var T;l(!0);let C=new FormData;C.append("id_company",(T=s==null?void 0:s.company)==null?void 0:T.id_company),P.post(D+"/api/get/subusers",C,{withCredentials:!0}).then(z=>z.data).then(z=>{l(!1),n(z)}).catch(z=>{l(!1)})}function k(){var C;if(r.name&&r.email&&r.password&&r.id_rol)if(r.password.length>=6){let T=new FormData;p(!0),T.append("name",r.name),T.append("email",r.email),T.append("password",r.password),T.append("id_rol",r.id_rol),T.append("id_company",(C=s.company)==null?void 0:C.id_company),P.post(D+"/api/upload/subuser",T,{withCredentials:!0}).then(z=>z.data).then(z=>{p(!1),z.status?(o(!1),n([]),_()):A.error(z.msg)}).catch(z=>{p(!1)})}else A.error("Tu password no es correcta debe de tener 6 o mas caracteres");else A.error("Opps has dejado campos vacios")}function S(C){w(T=>({...T,id_user:t[C].id,id_rol:t[C].id_rol,name:t[C].name})),setTimeout(()=>{document.querySelector("select").value=t[C].id_rol},20),f(!0)}function E(C){let T=t[C].id_admin;T&&(j(T),b(!0))}a.useEffect(()=>{var T;let C=new FormData;C.append("id_company",(T=s==null?void 0:s.company)==null?void 0:T.id_company),P.post(D+"/api/get/roles",C,{withCredentials:!0}).then(z=>z.data).then(z=>{x(z)}),_()},[]);function N(){var C;if(v.id_rol&&v.id_user){p(!0);let T=new FormData;T.append("id_company",(C=s==null?void 0:s.company)==null?void 0:C.id_company),T.append("id_rol",v.id_rol),T.append("id_user",v.id_user),P.post(D+"/api/update/subuser",T,{withCredentials:!0}).then(z=>z.data).then(z=>{z.status&&(_(),n([]),A.success("Has editato el usuario correctamente."),f(!1)),p(!1)}).catch(z=>{p(!1)})}}function F(){var C;if(h){p(!0);let T=new FormData;T.append("id_user",h),T.append("id_company",(C=s==null?void 0:s.company)==null?void 0:C.id_company),P.post(D+"/api/delete/subuser",T,{withCredentials:!0}).then(z=>z.data).then(z=>{z.status&&(b(!1),p(!1),_(),n([]),A.success("Has borrado el usuario correctamente.")),z.msg&&A.error(z.msg)}).finally(()=>{p(!1)})}else A.error("Opps no has seleccionado nada")}return e.jsxs(e.Fragment,{children:[e.jsx(Fe,{visible:q,callback:b,onClick:F,Pending:m}),e.jsxs(me,{visible:g,callback:f,Pending:m,onClick:N,next:"Editar",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Editar"})}),e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{children:["Editar rol del usuario @",v.name]}),e.jsxs("select",{onChange:C=>{w(T=>({...T,id_rol:C.target.value}))},name:"",id:"",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Seleccionar Rol"}),d.map((C,T)=>e.jsx("option",{value:C.id_rol,children:C.rol}))]})]})]}),e.jsx(me,{visible:i,callback:o,next:"Agregar",onClick:k,Pending:m,children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Agregar"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre",name:"name",onChange:y})}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Email",name:"email",onChange:y})}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"password",placeholder:"Contraseña",name:"password",onChange:y})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"id_rol",id:"",onChange:y,children:[e.jsx("option",{value:"",children:"Seleccionar Rol"}),d.map((C,T)=>e.jsx("option",{value:C.id_rol,children:C.rol}))]})})]})},`${i?"open":"close"}`),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus usuarios"}),e.jsx("span",{children:"Crea y elimina usuarios, estos usuarios son de tu empresa, deben de tener un rol asignado para poder hacer ciertas funciones. Estos usuarios pueden utilizar la api si le das el acceso y podran consumir recursos desde alli."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:C=>{o(!0)},children:"Crear nuevo usuario"})})]}),e.jsx(ms,{}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[t.map((C,T)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default-user.jpg",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:C.user}),C.is_owner?e.jsx("span",{className:"desc",children:"Rol - Creador"}):e.jsxs("span",{className:"desc",children:["Rol - ",C.rol]}),e.jsx("br",{}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:z=>{S(T)},value:T,children:e.jsx(ys,{})}),e.jsx("button",{onClick:z=>{E(T)},value:C.id_rol,children:e.jsx(de,{})})]})})]},T)),u==!1?t.length==0?e.jsx(ge,{name:"usuarios"}):"":e.jsx(Se,{})]})})})]})}function Ws({campaign:s,setFormProgamming:t}){const[n,i]=a.useState("default");function o(m){let p=m.target.value;i(p)}function r(){i("default")}function c(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"return-top",children:e.jsx("button",{onClick:r,children:e.jsx(We,{})})})})}return a.useEffect(()=>{switch(n){case"daysname":t({target:{value:"bucle",name:"p_type"}});break}},[n]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Programar campaña"})}),e.jsxs("div",{className:"data",children:[n=="default"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"select-buttons",children:[e.jsx("button",{onClick:o,value:"date",children:"Fecha especifica"}),e.jsx("button",{onClick:o,value:"daysname",children:"Dias especificos"}),e.jsx("button",{onClick:o,value:"daysnumber",children:"Recordatorios"}),e.jsx("button",{onClick:o,value:"fidelizacion",children:"Fidelizacion"})]})}):"",n=="date"?e.jsxs(e.Fragment,{children:[e.jsx(c,{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"date",name:"date",onChange:t})}),e.jsxs("div",{className:"form-input flex",children:[e.jsx("input",{type:"text",placeholder:"hora",name:"hh",onChange:t}),e.jsx("input",{type:"text",placeholder:"minuto",name:"ii",onChange:t}),e.jsxs("select",{name:"ampm",id:"",children:[e.jsx("option",{value:"pm",children:"p.m."}),e.jsx("option",{value:"am",children:"a.m."})]})]})]}):"",n=="daysname"?e.jsxs(e.Fragment,{children:[e.jsx(c,{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Que dia de la semana quieres que se envie"}),e.jsxs("select",{name:"dd",onChange:t,id:"",children:[e.jsx("option",{value:"Sun",children:"Domingo"}),e.jsx("option",{value:"Mon",children:"Lunes"}),e.jsx("option",{value:"Tues",children:"Martes"}),e.jsx("option",{value:"Wed",children:"Miércoles"}),e.jsx("option",{value:"Thurs",children:"Jueves"}),e.jsx("option",{value:"Fri",children:"Viernes"}),e.jsx("option",{value:"Sat",children:"Sábado"})]})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("button",{children:"Cada 1 mes"}),e.jsx("br",{}),e.jsx("button",{children:"Cada 2 meses"}),e.jsx("br",{}),e.jsx("button",{children:"Cada 3 meses"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Cuando expira"}),e.jsx("input",{type:"date",onChange:t,name:"timeExpire"})]})]}):"",n=="daysnumber"?e.jsxs(e.Fragment,{children:[e.jsx(c,{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Que dia quieres que se envie (Esto enviara el numero elegio cada mes, es decir ejemplo: 01 es igual a los 01 de cada mes)"}),e.jsx("select",{name:"dd",onChange:t,children:Array.from({length:31},(m,p)=>e.jsx("option",{value:String(p+1).padStart(2,"0"),children:String(p+1).padStart(2,"0")},p+1))})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Cuando expira (Si no pones fecha es indefinido)"}),e.jsx("input",{type:"date",onChange:t,name:"timeExpire"})]})]}):"",n=="fidelizacion"?e.jsxs(e.Fragment,{children:[e.jsx(c,{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Que campo validador quieres utilizar (estas campañas funcionan de forma que verifican si en el campo validador elegido esta una fecha en caso de ser asi se enviara un correo al usuario, con los parametros configurados)"}),e.jsxs("select",{name:"dd",onChange:t,children:[e.jsx("option",{value:"",children:"Selecciona el campo"}),e.jsx("option",{value:"",children:"Birthday"}),e.jsx("option",{value:"",children:"Extra 1"}),e.jsx("option",{value:"",children:"Extra 2"}),e.jsx("option",{value:"",children:"Extra 3"}),e.jsx("option",{value:"",children:"Extra 4"}),e.jsx("option",{value:"",children:"Extra 5"})]})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Cuando expira (Si no pones fecha es indefinido)"}),e.jsx("input",{type:"date",onChange:t,name:"timeExpire"})]})]}):""]})]})}function Hs({value:s,defaultValue:t,onChange:n,onSave:i,Send:o=!0,Preview:r=!0}){const c=a.useRef(null),[m,p]=a.useState(""),[d,x]=a.useState(!0),[u,l]=a.useState(0),h=j=>{const g=c.current,f=window.getSelection().toString(),v=g.selectionStart,w=m.substring(0,v),q=m.substring(v),b=w+j+f+q;p(b),g.focus()};return a.useEffect(()=>{n(m),l(m.length)},[m]),a.useEffect(()=>{s&&d&&(x(!1),p(s))},[s]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"textarea-sms",children:[e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:()=>h("$name"),children:"Nombre"}),e.jsx("button",{onClick:()=>h("$lastname"),children:"Apellido"}),e.jsx("button",{onClick:()=>h("$dni"),children:"Dni"}),e.jsx("button",{onClick:()=>h("$code"),children:"Codigo"}),e.jsx("button",{onClick:()=>h("$city"),children:"Ciudad"}),e.jsx("button",{onClick:()=>h("$country"),children:"Pais"}),e.jsx("button",{onClick:()=>h("$birthday"),children:"Nacimiento"}),e.jsx("button",{onClick:()=>h("$address"),children:"Direccion"}),e.jsx("button",{onClick:()=>h("$occupation"),children:"Ocupacion"}),e.jsx("button",{onClick:()=>h("$gender"),children:"Sexo"}),e.jsx("button",{onClick:()=>h("$phone"),children:"Telefono"}),e.jsx("button",{onClick:()=>h("$email"),children:"Correo Electronico"}),e.jsx("button",{onClick:()=>h("$1"),children:"Extra (1)"}),e.jsx("button",{onClick:()=>h("$2"),children:"Extra (2)"}),e.jsx("button",{onClick:()=>h("$3"),children:"Extra (3)"}),e.jsx("button",{onClick:()=>h("$4"),children:"Extra (4)"}),e.jsx("button",{onClick:()=>h("$5"),children:"Extra (5)"}),e.jsx("button",{onClick:()=>h("$6"),children:"Extra (6)"}),e.jsx("button",{onClick:()=>h("$7"),children:"Extra (7)"}),e.jsx("div",{className:"count",children:e.jsxs("i",{children:["166/",u]})})]}),e.jsx("textarea",{ref:c,className:"text",value:s,defaultValue:t,onChange:j=>p(j.target.value)}),e.jsxs("div",{className:"bottom-actions",children:[e.jsxs("button",{children:[e.jsx(Ha,{})," Borrar"]}),r?e.jsxs("button",{children:[e.jsx(Ae,{})," Previsualizar SMS"]}):"",o?e.jsx("button",{className:"preview",onClick:i,children:"Enviar Campaña"}):"",e.jsx("button",{className:"preview",onClick:i,children:"Guardar "})]})]})})}function pi({status:s,PauseCampaign:t,style:n}){return e.jsxs(e.Fragment,{children:[s=="prepare"?e.jsx(e.Fragment,{children:e.jsxs("span",{style:n,className:"wait",children:["En espera... ",e.jsx(L,{icon:"mdi:check"})]})}):"",s=="programmed"?e.jsx(e.Fragment,{children:e.jsxs("span",{style:n,className:"programmed",children:[" Programada ",e.jsx(L,{icon:"fa-solid:check"})]})}):"",s=="sent"?e.jsx(e.Fragment,{children:e.jsxs("span",{style:n,className:"ready-list",children:["Enviado ",e.jsx(L,{icon:"mdi:check-all"})," "]})}):"",s=="sending"?e.jsxs(e.Fragment,{children:[e.jsxs("span",{style:n,className:"ready-list",children:[" Enviando... ",e.jsx(Ga,{})]}),e.jsx("button",{onClick:t,children:e.jsx(Ia,{})})]}):""]})}function hi({Close:s,campaign:t,setCampaign:n}){const[i,o]=a.useState([]),{UserInfo:r}=a.useContext(K),[c,m]=a.useState(!1);function p(){var h;let l=new FormData;l.append("id_company",(h=r==null?void 0:r.company)==null?void 0:h.id_company),l.append("type",Et(t.type_c)),P.post(D+"/api/get/list",l,{withCredentials:!0}).then(j=>j.data).then(j=>{o(j)})}function d(l){var h;if(l.contacts>1&&l.contacts<5){n(g=>{let f={...g};return f.lists_test=l.id_list,f});let j=new FormData;j.append("id_company",(h=r==null?void 0:r.company)==null?void 0:h.id_company),j.append("id_campaign",t.id_campaign),j.append("id_list_test",l.id_list),P.post(D+"/api/update/campaign/idlistest",j,{withCredentials:!0})}else le.error("Tu lista no cumple los requisitos")}function x(){n({...t,lists_test:""})}function u(){var h;m(!0);let l=new FormData;l.append("id_campaign",t.id_campaign),l.append("id_company",(h=r==null?void 0:r.company)==null?void 0:h.id_company),l.append("id_list_test",t.lists_test),P.post(D+"/api/send/campaign",l,{withCredentials:!0}).then(j=>j.data).then(j=>{j.status&&(le.success("Se ha enviado el envio de pruebas."),s(!1))}).finally(()=>{m(!1)})}return a.useEffect(()=>{t.lists_test||p()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Envio de prueba"}),t!=null&&t.lists_test?e.jsx("span",{children:"envia una prueba a tu lista preferida"}):e.jsx("span",{children:"Selecciona una lista para usar en este envio de pruebas no puede exceder los 5 usuarios"})]}),t!=null&&t.lists_test?e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx("div",{className:"box",children:e.jsxs("div",{className:"item flex-wrap",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/lists.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:["Lista ",t==null?void 0:t.lists_test]}),e.jsx("span",{className:"desc",children:"Esta es la lista seleccionada para el envio de pruebas"})]})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{onClick:x,children:e.jsx(de,{})})})]})}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:l=>{s(!1)},children:"Cerrar"}),e.jsxs("button",{className:c?"await":"",onClick:u,children:[" ",e.jsx("div",{className:"loading"})," Enviar"]})]})]}):e.jsx("div",{className:"data",children:e.jsx("div",{className:"row",children:i.map((l,h)=>e.jsx("div",{className:"col-md-12 page-lists",children:e.jsx("div",{className:"box",children:e.jsxs("div",{className:"item flex-wrap select",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/lists.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:l.name}),e.jsxs("span",{className:"desc",children:["Contactos: ",l.contacts]})]})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{onClick:j=>{d(l)},children:e.jsx(Pe,{})})})]})})}))})})]})}function Gs(s,t,n){s(i=>({...i,[t]:n}))}function Is(s,t,n){Gs(n,"downloadContacts",!0);let i=new FormData;i.append("id_company",t),i.append("id_lists",s),P.post(D+"/api/get/downloadContacts",i,{withCredentials:!0}).then(o=>o.data).then(o=>{o.status&&St(D+"/api/get/downloadfile?route=temp&name="+o.name_file,"contacts")}).finally(()=>{Gs(n,"downloadContacts",!1)})}function Ss({type:s="lists,campaigns",id_company:t,id_list:n=null,id_campaign:i=null}){a.useState(!1);const[o,r]=a.useState({downloadContacts:!1});return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"footer-convertion",children:[e.jsxs("div",{className:"title",children:[e.jsx("p",{children:"Acciones Rapidas"}),e.jsx("span",{children:"Elige que quieres hacer de forma rapida y sencilla"})]}),e.jsx("hr",{}),e.jsxs("div",{className:"flex",style:{gap:"10px"},children:[s=="lists"&&e.jsxs(e.Fragment,{children:[e.jsxs($,{to:"/contacts/segments/add",children:[e.jsx(re,{icon:"ph:line-segments"})," Segmentar Lista"]}),e.jsxs("button",{onClick:c=>{Is(n,t,r)},className:o.downloadContacts?"await":"",children:[e.jsx(re,{icon:"material-symbols:download"})," Descargar Contactos ",e.jsx("div",{className:"loading"})]}),e.jsxs($,{to:"/campaigns/new",className:o.downloadContacts?"await":"",children:[e.jsx(re,{icon:"gg:add"})," Crear Campana ",e.jsx("div",{className:"loading"})]})]}),s=="campaign"&&e.jsxs(e.Fragment,{children:[e.jsxs($,{to:"/contacts/segments/add",children:[e.jsx(re,{icon:"ph:line-segments"})," Segmentar Lista"]}),e.jsxs("button",{onClick:c=>{Is(n,t,r)},className:o.downloadContacts?"await":"",children:[e.jsx(re,{icon:"material-symbols:download"})," Descargar Contactos ",e.jsx("div",{className:"loading"})]}),e.jsxs($,{to:"/campaigns/new",className:o.downloadContacts?"await":"",children:[e.jsx(re,{icon:"gg:add"})," Crear Campana ",e.jsx("div",{className:"loading"})]})]})]})]})})}function xi(){var Fs,Ds,Ps,qs,Ts,Ls,Ms,Rs;const s=he(),{UserInfo:t}=a.useContext(K),n=se();a.useState(!1);const[i,o]=a.useState({});let r={lists:!1,body:!1,affair:!1};const[c,m]=a.useState(r),[p,d]=a.useState({lists:[]}),[x,u]=a.useState({lists:!1}),[l,h]=a.useState([]),[j,g]=a.useState({sendCampaign:!1,updateHtml:!1}),[f,v]=a.useState({affair:""}),[w,q]=a.useState(!1),[b,y]=a.useState(),[_,k]=a.useState(!1),[S,E]=a.useState({hh:"",mm:"",dd:"",ii:"",yy:"",timeExpire:"",p_type:"default"}),[N,F]=a.useState(!1);a.useState({});const[C,T]=a.useState(),[z,ie]=a.useState(!1),[oe,G]=a.useState([]),[B,H]=a.useState(!1),[Y,ce]=a.useState(e.jsx(e.Fragment,{})),[pe,M]=a.useState(!1);function J(R){var V;I(!0);let Q=new FormData;Q.append("id_company",(V=t==null?void 0:t.company)==null?void 0:V.id_company),l.lists&&Q.append("ignore_id",l.lists),d(ae=>({...ae,lists:[]})),R&&Q.append("search",R),P.post(D+"/api/get/list",Q,{withCredentials:!0}).then(ae=>ae.data).then(ae=>{d(xe=>({...xe,lists:ae})),I(!1)})}function I(R){u(Q=>({...Q,lists:R}))}let te=0;function je(R){let Q=R.target.value;clearTimeout(te),te=setTimeout(()=>{J(Q)},250)}function fe(){clearTimeout(te)}a.useEffect(()=>{c.lists&&J()},[c]);function ye(){var Q;let R=new FormData;R.append("id_company",(Q=t==null?void 0:t.company)==null?void 0:Q.id_company),R.append("id_campaign",s.id),P.post(D+"/api/get/campaign",R,{withCredentials:!0}).then(V=>V.data).then(V=>{h(V),V.type_c&&(V.type_c=="em"||V.type_c=="sms")&&M(!0)}).catch(V=>{})}a.useEffect(()=>{ye()},[]),a.useEffect(()=>{l!=null&&l.id_template&&Te()},[l]);function Te(){var Q;let R=new FormData;R.append("id_company",(Q=t==null?void 0:t.company)==null?void 0:Q.id_company),R.append("id_template",l==null?void 0:l.id_template),R.append("type","all"),P.post(D+"/api/get/templatejson",R,{withCredentials:!0}).then(V=>V.data).then(V=>{var ae;T((ae=V==null?void 0:V.json)==null?void 0:ae.msg)}).catch(V=>{A.error(String(V))})}function Ze(R){var V,ae;let Q=R.target.value;if(Q){let xe=new FormData;xe.append("id_list",Q),xe.append("id_company",(V=t==null?void 0:t.company)==null?void 0:V.id_company),xe.append("id_campaign",s.id);let Ce=!1;if((ae=l==null?void 0:l.lists)!=null&&ae.length?l.lists.includes(Q)||(Ce=!0,h(Ee=>({...Ee,lists:Ee.lists+","+Q}))):(h(Ee=>({...Ee,lists:Q})),Ce=!0),Ce){let Ee=O(R.target);Ee=Ee.parents(".result"),Ee.hide("x"),P.post(D+"/api/update/addlistcampaign",xe,{withCredentials:!0}).then(Ge=>Ge.data).then(Ge=>{Ge.status}).catch(Ge=>{})}}}function is(R){var V;let Q=R.target.value;if(Q){h(xe=>{let Ce={...xe};return Ce.id_domain=Q,Ce}),A.success("Excelente"),m({...c,domain:!1});let ae=new FormData;ae.append("id_company",(V=t==null?void 0:t.company)==null?void 0:V.id_company),ae.append("id_campaign",l==null?void 0:l.id_campaign),ae.append("id_domain",Q),P.post(D+"/api/update/campaign/domain",ae,{withCredentials:!0}).then(xe=>xe.data).then(xe=>{})}}function ns(R){let Q=R.target.value;if(Q){let V=new FormData;V.append("id_campaign",l.id_campaign),V.append("id_list",Q),V.append("id_company",t.company.id_company),P.post(D+"/api/delete/listscampaign",V,{withCredentials:!0}),h(ae=>{var Ee;let xe={...ae},Ce=xe.lists;if(ae!=null&&ae.lists){Ce=(Ee=ae==null?void 0:ae.lists)==null?void 0:Ee.replace(","+Q,"").replace(Q,"");let Ge=Ce.split(",");Ge[0]||(Ce=Ge[1])}return xe.lists=Ce,xe})}}function He(R){m(r),m(Q=>({...Q,[R]:!0}))}function Ue(){var V,ae;let R=(V=document.querySelectorAll(".item .top"))==null?void 0:V.length,Q=(ae=document.querySelectorAll(".item .top.active"))==null?void 0:ae.length;return R!==Q&&A.error("Opps tienes campos que terminar."),R==Q}function es(R){var Q;if(Ue()){Je("sendCampaign",!0);let V=new FormData;V.append("id_company",(Q=t==null?void 0:t.company)==null?void 0:Q.id_company),V.append("id_campaign",s.id),P.post(D+"/api/send/campaign",V,{withCredentials:!0}).then(ae=>ae.data).then(ae=>{Je("sendCampaign",!1),ae.status&&!ae.msg?(A.success("Campaña enviada!"),h({...l,status:"sending"})):A.error(ae.msg)}).catch(ae=>{Je("sendCampaign",!1)})}}function ls(R){var ae;let Q=O(R.target);Q.addClass("await");let V=new FormData;V.append("affair",f.affair),V.append("id_company",(ae=t==null?void 0:t.company)==null?void 0:ae.id_company),V.append("id_campaign",l.id_campaign),P.post(D+"/api/update/setaffair",V,{withCredentials:!0}).then(xe=>xe.data).then(xe=>{Q.removeClass("await"),xe.status?(m(r),h(Ce=>({...Ce,affair:f.affair}))):A.error(xe.msg)}).catch(xe=>{Q.removeClass("await")})}function Je(R,Q){g(V=>({...V,[R]:Q}))}function cs(){var Q;k(!0);let R=new FormData;R.append("id_company",(Q=t==null?void 0:t.company)==null?void 0:Q.id_company),R.append("id_campaign",s.id),P.post(D+"/api/delete/campaign",R,{withCredentials:!0}).then(V=>V.data).then(V=>{k(!1),V.status&&n("/campaigns")}).catch(V=>{k(!1)})}function rs(R){let Q=R.target.value,V=R.target.name;if(V=="date"){const ae=new Date(Q),xe=ae.getDate()+1,Ce=ae.getFullYear(),Ee=ae.getMonth()+1;E({...S,dd:xe,yy:Ce,mm:Ee})}else E({...S,[V]:Q})}function ee(){var Q;let R=new FormData;F(!0),R.append("id_company",(Q=t==null?void 0:t.company)==null?void 0:Q.id_company),R.append("hh",S.hh?S.hh:"?"),R.append("dd",Bs(S.dd)?Bs(S.dd):"?"),R.append("yy",S.yy?S.yy:"?"),R.append("mm",S.mm?S.mm:"?"),R.append("ii",S.ii?S.ii:"?"),R.append("id_campaign",s.id),R.append("timeExpire",S==null?void 0:S.timeExpire),R.append("p_type",S==null?void 0:S.p_type),R.append("type","campaign"),P.post(D+"/api/update/programming",R,{withCredentials:!0}).then(V=>V.data).then(V=>{F(!1),V.status&&(y(!1),h({...l,status:"programmed"}),A.success("Campana programada con exito"))}).catch(V=>{F(!1)})}function Z(){var Q;let R=new FormData;R.append("msg",C),R.append("id_campaign",s.id),R.append("id_company",(Q=t==null?void 0:t.company)==null?void 0:Q.id_company),R.append("type","sms"),l!=null&&l.id_template&&R.append("id_template",l==null?void 0:l.id_template),P.post(D+"/api/upload/bodycampaign",R,{withCredentials:!0}).then(V=>V.data).then(V=>{V.status&&A.success("Guardado con exito")}).catch(V=>{A.error(String(V))})}function U(){var Q;let R=new FormData;R.append("id_campaign",l==null?void 0:l.id_campaign),R.append("id_company",(Q=t==null?void 0:t.company)==null?void 0:Q.id_company),P.post(D+"/api/update/pausecampaign",R,{withCredentials:!0}).then(V=>V.data).then(V=>{V.status&&h({...l,status:"prepare"})})}function ne(){var Q;let R=new FormData;R.append("id_company",(Q=t==null?void 0:t.company)==null?void 0:Q.id_company),R.append("status",!0),P.post(D+"/api/get/domains",R,{withCredentials:!0}).then(V=>V.data).then(V=>{G(V)})}function ze(){document.querySelector("input[name='body_file']").click()}function Fa(){o({})}function Da(R){if(R.target.files[0].name.indexOf(".html")>=0){o(R.target.files[0]);const Q=new FileReader;Q.onload=function(V){const ae=V.target.result;ce(ae)},Q.onerror=function(){A.error("Error al leer el archivo HTML")},Q.readAsText(R.target.files[0])}else A.error("Opps no es un archivo HTML")}function Pa(){var Q;g({...j,updateHtml:!0});let R=new FormData;R.append("id_campaign",s.id),R.append("id_company",(Q=t==null?void 0:t.company)==null?void 0:Q.id_company),R.append("file",i),R.append("title",i==null?void 0:i.name),R.append("type","email"),P.post(D+"/api/upload/bodycampaign",R,{withCredentials:!0}).then(V=>V.data).then(V=>{V.status&&(A.success("Has subido correctamente tu archivo html"),o(!1),ye())}).finally(()=>{g({...j,updateHtml:!1})})}function qa(){var Q;let R=new FormData;R.append("id_campaign",s.id),R.append("id_company",(Q=t==null?void 0:t.company)==null?void 0:Q.id_company),P.post(D+"/api/update/resetCampaign",R,{withCredentials:!0}).then(V=>V.data).then(V=>{V.status?(h({...l,status:"prepare"}),A.success("Has restablecito tu campaña.")):A.error("Opps error al restablecer tu campaña.")})}function Es(){H(!0)}return e.jsxs(e.Fragment,{children:[B&&e.jsxs("div",{className:"preview-html",children:[e.jsxs("div",{className:"controls",children:[e.jsx("div",{className:"left",children:e.jsx("button",{className:"btn-action",onClick:R=>{H(!1)},children:e.jsx(L,{icon:"icon-park-outline:return"})})}),e.jsx("p",{className:"title",children:"Previsualizar HTML"})]}),e.jsx("div",{className:"body",dangerouslySetInnerHTML:{__html:Y}})]}),e.jsx(me,{maxWidth:400,minWidth:400,visible:z,callback:ie,buttonsActions:!1,children:e.jsx(hi,{Close:ie,setCampaign:h,campaign:l})}),e.jsx(me,{visible:b,callback:y,width:"30%",onClick:ee,maxWidth:"500px",next:"Programar",Pending:N,children:e.jsx(Ws,{setFormProgamming:rs,campaign:l})},Ws?"XD":"xd"),e.jsx(Fe,{visible:w,callback:q,Pending:_,onClick:cs,name:"campana"}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles de campaña"}),e.jsx("span",{children:'Gestiona tus campañas de manera eficiente y optimiza tus estrategias de marketing con nuestra función de "Detalles de Campaña".'})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:R=>{setModalWizard(!0)},children:e.jsx(We,{})})})]}),e.jsxs("div",{className:"menu-top-right",children:[l.status=="programmed"?e.jsx("button",{className:"h-blue",onClick:qa,children:"Reprogramar"}):e.jsxs("button",{className:"h-blue",onClick:R=>{Ue()&&y(!0)},children:[e.jsx(L,{icon:"svg-spinners:clock"})," Programar"]}),e.jsxs("button",{className:"h-blue",onClick:R=>n("/campaigns/stats/"+(s==null?void 0:s.id)),children:[e.jsx(L,{icon:"bx:stats"})," Estadisticas"]}),e.jsxs("button",{className:"h-red ",onClick:R=>{q(!0)},children:[e.jsx(L,{icon:"iconamoon:trash"})," Eliminar"]}),pe&&e.jsx(e.Fragment,{children:l.status!=="programmed"&&l.status!=="sending"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:`h-blue ${j.sendCampaign?"await":""} `,onClick:R=>{ie(!0)},children:[e.jsx(L,{icon:"streamline:interface-share-user-human-person-share-signal-transmit-user"})," Enviar Prueba ",e.jsx("div",{className:"loading"})]}),l.sendsCampaign?e.jsxs("button",{className:`return${j.sendCampaign?"await":""} `,onClick:es,children:[" ",e.jsx(L,{icon:"ant-design:retweet-outlined"})," Reenviar Campaña ",e.jsx("div",{className:"loading"})]}):e.jsxs("button",{className:`send${j.sendCampaign?"await":""} `,onClick:es,children:[e.jsx(L,{icon:"lucide:send"})," Enviar Campaña ",e.jsx("div",{className:"loading"})]})]})})]}),e.jsxs("div",{className:"box steps",children:[e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:[" ",e.jsx("b",{children:"Campaña:"})," ",l.name," "]}),e.jsxs("p",{className:"title",children:[" ",e.jsx("b",{children:"Creada:"})," 29 de may de 2023 "]})]})]}),e.jsxs("div",{style:{position:"relative",top:"21px"},children:[e.jsx("p",{style:{display:"inline"},children:"Estatus:"}),e.jsx(pi,{style:{marginLeft:"9px",fontSize:"16px",position:"relative",top:"-1px"},PauseCampaign:U,status:l==null?void 0:l.status})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(Ie,{})}),e.jsxs("button",{onClick:R=>n("/campaigns/stats/"+(s==null?void 0:s.id)),children:[e.jsx(we,{})," "]})]})]}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top active",children:[e.jsx("div",{className:"check",children:e.jsx(Re,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Crear Campaña"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top active",children:[e.jsx("div",{className:"check active",children:e.jsx(Re,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Elegir Tipo"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{children:"Editar"})})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${l!=null&&l.lists?"active":""} `,children:[e.jsx("div",{className:"check",children:e.jsx(Re,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Contactos"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"}),e.jsx("div",{className:"selects",children:((Fs=l==null?void 0:l.lists)==null?void 0:Fs.length)>=1?(Ds=l==null?void 0:l.lists)==null?void 0:Ds.split(",").map((R,Q)=>e.jsx("div",{className:"select",children:e.jsxs("p",{children:["Lista: ",R," ",e.jsx("button",{className:"delete",onClick:ns,value:R,children:e.jsx(de,{})})]})})):""})]}),c.lists==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsxs("div",{className:"form-input small",children:[e.jsx("label",{children:"Buscar lista... (Solo obtendras las listas con contactos)"}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"search",onKeyUp:je,onKeyDown:fe,placeholder:"Buscar"}),e.jsx("button",{onClick:R=>{n("/contacts/lists/add")},children:"Crear "})]})]}),e.jsxs("div",{className:"search-result",children:[p.lists.map((R,Q)=>e.jsx("div",{className:"result",children:e.jsxs("div",{className:"info",children:[e.jsx("p",{children:R.name}),e.jsxs("span",{children:["Contactos: ",R.contacts]}),e.jsx("span",{children:"Agregado: 05/05/2022"}),e.jsxs("div",{className:"flex",style:{gap:"10px"},children:[e.jsx("button",{className:"select",onClick:Ze,value:R.id_list,children:e.jsx(L,{icon:"tabler:upload"})}),e.jsx("button",{className:"select",onClick:V=>{n("/contacts/detail/"+R.id_list)},children:e.jsx(L,{icon:"lucide:cog"})})]})]})},Q)),x.lists?e.jsx(Se,{}):x.lists==!1&&p.lists.length==0?e.jsx(ge,{name:"listas"}):""]})]})}):e.jsx("div",{className:"right",children:e.jsx("button",{onClick:R=>{He("lists")},children:"Editar"})})]})}),((l==null?void 0:l.type_c)=="em"||(l==null?void 0:l.type_c)=="em-mt")&&e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${l!=null&&l.id_domain?"active":""} `,children:[e.jsx("div",{className:"check",children:e.jsx(Re,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Remitente"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),c.domain==!0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsx("div",{className:"search-result",children:oe==null?void 0:oe.map((R,Q)=>e.jsx("div",{className:"result",children:e.jsxs("div",{className:"info",children:[e.jsx("p",{children:R.domain}),e.jsxs("span",{children:["Correo: ",R.domain_email]}),e.jsx("button",{className:"select",onClick:is,value:R.id_domain,children:e.jsx(Ja,{})})]})},54))})})}):e.jsx("div",{className:"right",children:e.jsx("button",{onClick:R=>{He("domain"),ne()},children:"Editar"})})]})}),(l==null?void 0:l.type_c)=="em"?e.jsx(e.Fragment,{children:e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${l!=null&&l.affair?"active":""} `,children:[e.jsx("div",{className:"check",children:e.jsx(Re,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Asunto"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),c.affair==!0?e.jsx(e.Fragment,{children:e.jsx(Hs,{Preview:!1,Send:!1,onSave:ls,defaultValue:l==null?void 0:l.affair,onChange:R=>{v({...f,affair:R})}})}):e.jsx("div",{className:"right",children:e.jsx("button",{onClick:R=>{He("affair")},children:"Editar"})})]})})}):"",e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${l!=null&&l.template?"active":""} `,children:[e.jsx("div",{className:"check",children:e.jsx(Re,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Plantilla"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),c.body==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[(l==null?void 0:l.type_c)=="em"?e.jsx(e.Fragment,{children:i!=null&&i.name?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"upload-fast",children:[e.jsx("p",{children:i.name}),e.jsx("span",{children:"Actualiza tu plantilla"}),e.jsxs("div",{className:"actions",children:[e.jsxs("button",{onClick:R=>{Es()},children:[e.jsx(L,{icon:"material-symbols:preview"})," Previsualizar"]}),e.jsxs("button",{onClick:Fa,className:`delete ${j!=null&&j.updateHtml?"await":""}`,children:[e.jsx(L,{icon:"akar-icons:trash"})," Eliminar ",e.jsx("div",{className:"loading"})]}),e.jsxs("button",{className:` ${j!=null&&j.updateHtml?"await":""}`,onClick:Pa,children:[e.jsx(L,{icon:"fluent:document-multiple-sync-20-regular"})," Actualizar ",e.jsx("div",{className:"loading"})]})]})]})}):e.jsxs(e.Fragment,{children:[e.jsx("input",{onChange:Da,type:"file",name:"body_file",accept:".html",hidden:!0}),l!=null&&l.template?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"preview-template",children:[e.jsx("p",{children:(Ps=l==null?void 0:l.template)==null?void 0:Ps.title}),e.jsxs("span",{children:["Plantilla creada:  ",ue((qs=l==null?void 0:l.template)==null?void 0:qs.time_add)]}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("img",{src:ws((Ts=t==null?void 0:t.company)==null?void 0:Ts.folder_sftp,(Ls=l==null?void 0:l.template)==null?void 0:Ls.preview_image),alt:""}),(Ms=l==null?void 0:l.template)!=null&&Ms.json?e.jsx($,{to:`/ editor / canvas / ${(Rs=l==null?void 0:l.template)==null?void 0:Rs.id_template}?campaign=`+s.id,children:"Editar plantilla"}):e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:ze,className:"action",children:[e.jsx(L,{icon:"material-symbols:upload"})," Actualizar HTML"]}),e.jsxs("button",{className:"action preview",onClick:R=>{var Q,V;ce(_t((Q=l==null?void 0:l.template)==null?void 0:Q.html)),Es(),console.log((V=l==null?void 0:l.template)==null?void 0:V.html)},children:[e.jsx(L,{icon:"fluent:document-multiple-sync-20-regular"})," Previsualizar ",e.jsx("div",{className:"loading"})]})]})]})}):e.jsxs(e.Fragment,{children:[e.jsx($,{to:"/editor/canvas/?campaign="+s.id,children:"Crear una plantilla"}),e.jsx("br",{}),e.jsxs("button",{onClick:ze,className:"action",children:[e.jsx(L,{icon:"material-symbols:upload"})," Subir Html"]})]})]})}):"",(l==null?void 0:l.type_c)=="sms"?e.jsx(e.Fragment,{children:c.body==!0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsx("div",{className:"form-input flex",children:e.jsx(Hs,{value:C,onChange:T,onSave:Z})})})}):""}):""]})}):"",c.body==!1?e.jsx("div",{className:"right",children:e.jsx("button",{onClick:R=>{He("body")},children:"Editar"})}):""]})})]})]})}function ui({Visible:s,Close:t,Callback:n,loadLists:i}){const{UserInfo:o}=a.useContext(K),[r,c]=a.useState(0),[m,p]=a.useState([qe()]),[d,x]=a.useState({type:"",name:""});se();function u(j){j.stopPropagation(),j.preventDefault();let g=O(j.target);g.parents(".options").find(".active").removeClass("active"),g.addClass("active");let f=g.attr("value");x(v=>({...v,type:f}))}function l(j){var v;let g=!1,f=O(j.target);if((r===0&&d.type=="em"||d.type=="sms")&&(g=!0),r==1&&d.type!==""&&d.name!==""){f.addClass("await");let w=new FormData;w.append("name",d.name),w.append("type_c",d.type),w.append("id_company",(v=o==null?void 0:o.company)==null?void 0:v.id_company),P.post(D+"/api/upload/list",w,{withCredentials:!0}).then(q=>q.data).then(q=>{q.status&&(t(!1),n(!0),i()),f.removeClass("await")}).catch(q=>{f.removeClass("await")})}g&&c(w=>w+1)}function h(j){let g=j.target.name,f=j.target.value;x(v=>({...v,[g]:f}))}return a.useEffect(()=>{O(".case.active").removeClass("active"),O(".case").eq(r).addClass("active")},[r]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[r>0?e.jsxs("button",{className:"return",onClick:j=>{c(g=>g-1)},children:[e.jsx(Qe,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:j=>{t(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear una nueva lista"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de lista que te gustaría crear"})]}),e.jsxs("div",{className:"options flex",id:`options-${m[0]}`,children:[e.jsxs("div",{className:"selector",onClick:u,value:"em",children:[e.jsx("div",{className:"check",children:e.jsx(be,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"LISTA DE EMAIL"}),e.jsx("span",{children:"La lista de email es una herramienta que te permite administrar tus contactos de manera eficiente. Aquí podrás subir tus contactos para realizar envíos de correo electrónico de forma conveniente y efectiva."})]})]}),e.jsxs("div",{className:"selector",onClick:u,value:"sms",children:[e.jsx("div",{className:"check",children:e.jsx(be,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"LISTA TELEFONICA"}),e.jsx("span",{children:"Una lista de números es una herramienta que te permite gestionar y organizar de manera efectiva tus contactos telefónicos. Con ella, podrás enviar mensajes de texto rápidos y confiables a cualquier número, sin importar el país."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar Lista"}),e.jsx("span",{className:"desc",children:"Asignale un nombre a tu nueva lista."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de lista"}),e.jsx("input",{type:"text",name:"name",onChange:h,placeholder:"Nombre"})]})})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:"next",onClick:l,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function ji({functions:s}){let{setSelectMultiple:t,selects:n,resetSelection:i,selectMultiple:o}=s;const r=se();function c(){n.length?r("/contacts/upload/"+JSON.stringify(n)):le.error("No has seleccionado ninguna lista")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top gl",children:[o?e.jsxs(e.Fragment,{children:[e.jsxs("button",{children:["Seleccionando (",n==null?void 0:n.length,")"]}),e.jsx("button",{onClick:c,children:"Subir Contactos"}),e.jsx("button",{onClick:i,children:"Cancelar"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:m=>{t(!0)},children:"Seleccionar Multiple"}),e.jsx("button",{onClick:m=>{r("/contacts/lists/email")},children:"Listas Email"}),e.jsx("button",{onClick:m=>{r("/contacts/lists/sms")},children:"Listas Mensajeria"}),e.jsx("button",{onClick:m=>{r("/contacts/lists/whatsapp")},children:"Listas Whatsapp"})]}),e.jsxs("div",{className:"search",children:[e.jsx("i",{children:e.jsx(Xa,{})}),e.jsx("input",{type:"text",placeholder:"Buscar..."})]})]})})}function ka({type:s,lists:t}){const[n,i]=a.useState(!1),[o,r]=a.useState([]),[c,m]=a.useState(!1),p=se(),d=u=>{r(l=>l.includes(u)?l.filter(h=>h!==u):[...l,u])},x=()=>{r([]),i(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(ji,{functions:{resetSelection:x,selects:o,selectMultiple:n,setSelectMultiple:i}}),e.jsx(Fe,{visible:c,callback:m}),e.jsx("div",{className:"row",children:t.map((u,l)=>e.jsx("div",{className:"col-md-3 page-lists",children:e.jsx("div",{className:"box box-padding",children:e.jsxs("div",{className:"item flex-wrap",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/lists.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",title:u.name,children:[fs(u.name,8),e.jsx("button",{children:e.jsx(re,{icon:"fa-solid:edit"})})]}),e.jsxs("span",{className:"desc",children:["Creado el: ",ue(u.time_add)]}),e.jsx("br",{}),e.jsxs("span",{className:"desc",children:["Contactos: ",u.contacts]}),e.jsx("br",{}),e.jsx("button",{onClick:h=>{p("/contacts/upload/"+u.id_list)},className:"upload",children:e.jsx(re,{icon:"mdi:upload"})}),n&&e.jsx("input",{type:"checkbox",onChange:()=>d(u.id_list),checked:o.includes(u.id_list)})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{className:"blue",onClick:h=>{p("/contacts/detail/"+u.id_list)},children:e.jsx(Ae,{})}),e.jsx("button",{className:"red",onClick:h=>{m(!0)},children:e.jsx(de,{})})]})]})})},l))})]})}function xs(){const[s,t]=a.useState(),[n,i]=a.useState([]),[o,r]=a.useState(!1),{UserInfo:c}=a.useContext(K),m=he(),p=se(),d=Oe();function x(l){l&&t(!1)}function u(){var h;let l=new FormData;l.append("id_company",(h=c==null?void 0:c.company)==null?void 0:h.id_company),l.append("type",m==null?void 0:m.type),r(!0),i([]),P.post(D+"/api/get/list",l,{withCredentials:!0}).then(j=>j.data).then(j=>{i(j),r(!1)})}return a.useEffect(()=>{u(),d.pathname=="/contacts/lists/add"&&t(!0)},[m==null?void 0:m.type]),e.jsxs(e.Fragment,{children:[e.jsx(ui,{Visible:s,Close:t,Callback:x,loadLists:u}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Listas"}),e.jsx("span",{children:"Estas son tus listas de contactos, puedes subir contactos rapidamente creando una lista y seleccionando tu archivo csv"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:l=>{t(!0)},children:"Crear nueva lista"})})]}),m.type==null?e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsx("div",{className:"box select-list",children:e.jsxs("div",{className:"top",children:[e.jsx("img",{src:"/img/icons/email_list.png",alt:""}),e.jsx("span",{children:"Listas Correos"}),e.jsx("button",{onClick:l=>{p("/contacts/lists/em")},children:"Ir"})]})})}),e.jsx("div",{className:"col-md-3",children:e.jsx("div",{className:"box select-list",children:e.jsxs("div",{className:"top",children:[e.jsx("img",{src:"/img/icons/message_list.png",alt:""}),e.jsx("span",{children:"Listas Telefonicas"}),e.jsx("button",{onClick:l=>{p("/contacts/lists/sms")},children:"Ir"})]})})})]}):e.jsx(ka,{lists:n,type:m==null?void 0:m.type}),e.jsx(Ss,{type:"lists"})]})}function gi({Status:s}){return e.jsx(e.Fragment,{children:s=="wait"?e.jsxs("span",{className:"wait-list",children:[e.jsx(Ka,{})," Subiendo..."]}):s=="ready"?e.jsxs("span",{className:"ready-list",children:[e.jsx(be,{}),"  Activa"]}):s=="error"?e.jsxs("span",{className:"error-list",children:[e.jsx(Ya,{})," Error"]}):e.jsxs("span",{className:"setting-list",children:[e.jsx(ta,{})," En espera..."]})})}function vi(){var x;const{UserInfo:s}=a.useContext(K),t=he(),[n,i]=a.useState(!1),[o,r]=a.useState(!1),[c,m]=a.useState({}),p=se();a.useState(!1),a.useState(!0),a.useEffect(()=>{var l;let u=new FormData;u.append("id_list",t.id),u.append("id_company",(l=s==null?void 0:s.company)==null?void 0:l.id_company),P.post(D+"/api/get/list",u,{withCredentials:!0}).then(h=>h.data).then(h=>{m(h)})},[]);function d(){var l;let u=new FormData;r(!0),u.append("id_list",t.id),u.append("id_company",(l=s==null?void 0:s.company)==null?void 0:l.id_company),P.post(D+"/api/delete/list",u,{withCredentials:!0}).then(h=>h.data).then(h=>{h.status&&(p("/contacts/lists"),le.success("Lista eliminada"))}).finally(()=>{r(!1)})}return e.jsxs(e.Fragment,{children:[e.jsx(Fe,{Pending:o,onClick:d,visible:n,name:"lista",callback:i}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles de lista"}),e.jsx("span",{children:"Ve los detalle de tus listas y ve si estan listas para ser utilizadas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:Ye,children:e.jsx(We,{})})})]}),e.jsxs("div",{className:"menu-top-right",children:[e.jsxs("button",{className:"programming",onClick:u=>{p("/contacts/lists/contacts/"+t.id)},children:[e.jsx(re,{icon:"material-symbols:contacts-sharp"})," Contactos"]}),e.jsxs("button",{className:"programming",onClick:u=>{p("/contacts/lists/logs/"+t.id)},children:[e.jsx(re,{icon:"f7:doc-fill"})," Detalles"]})]}),e.jsxs("div",{className:"box steps",children:[e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:c.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Contactos"}),e.jsx("span",{children:c.contacts})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Tipo"}),e.jsx("span",{children:c.type})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Estatus"}),e.jsx(gi,{Status:c.status})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:u=>{p("/contacts/upload/"+t.id)},children:e.jsx(Pe,{})}),e.jsx("button",{onClick:u=>{i(!0)},children:e.jsx(de,{})})]})]}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"check active",children:e.jsx(Re,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Crear Lista"}),e.jsx("span",{className:"desc approve",children:e.jsx("span",{className:"ready-list",children:"Completado !"})})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"check active",children:e.jsx(Re,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Elegir Tipo"}),e.jsx("span",{className:"desc approve",children:e.jsx("span",{className:"ready-list",children:"Completado !"})})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:`check ${c.contacts>0?"active":""}`,children:e.jsx(Re,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Subir Contactos"}),e.jsx("span",{className:"desc",children:c.contacts==0?e.jsx("span",{className:"wait-list",children:"Pendiente"}):e.jsx("span",{className:"ready-list",children:"Completado !"})})]}),e.jsx("div",{className:"right",children:e.jsx("button",{onClick:u=>{p("/contacts/upload/"+t.id)},children:"Subir"})})]})})]}),e.jsx(Ss,{type:"lists",id_company:(x=s==null?void 0:s.company)==null?void 0:x.id_company,id_list:t.id})]})}function fi({update:s}){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"form",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre"}),e.jsx("input",{type:"text",onChange:s,name:"name",placeholder:"Ej: Pablito"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Apellido"}),e.jsx("input",{type:"text",onChange:s,name:"lastname",placeholder:"Ej: Montana"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo"}),e.jsx("input",{type:"text",onChange:s,name:"email",placeholder:"Ej: pablitomontana@gmail.com"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Telefono"}),e.jsx("input",{type:"text",onChange:s,name:"phone",placeholder:"Ej: +58412000000"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Documento Identidad"}),e.jsx("input",{type:"text",onChange:s,name:"dni",placeholder:"Ej: 29000000"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Sexo"}),e.jsxs("select",{onChange:s,name:"sex",id:"",children:[e.jsx("option",{value:"",children:"Seleccionar Sexo"}),e.jsx("option",{value:"M",children:"Masculino"}),e.jsx("option",{value:"F",children:"Femenino"}),e.jsx("option",{value:"O",children:"Otros"})]})]})}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Pais"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{onChange:s,type:"text",name:"country",placeholder:"Ej: Venezuela"})})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Estado"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{onChange:s,type:"text",name:"state",placeholder:"Ej: Miranda"})})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Ciudad"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{onChange:s,type:"text",name:"city",placeholder:"Ej: Miranda"})})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Direccion"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{onChange:s,type:"text",name:"direction",placeholder:"Ej: Miranda"})})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Cumpleaños"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{onChange:s,type:"date",name:"birthday",placeholder:"Ej: Miranda"})})]}),e.jsxs("div",{className:"col-md-6",children:[e.jsx("label",{children:"Ocupacion"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{onChange:s,type:"text",name:"occupation",placeholder:"Ej: Abogado"})})]})]})})})}function Ni({Visible:s,Close:t,Callback:n}){var G;const{UserInfo:i}=a.useContext(K),[o,r]=a.useState(0),[c,m]=a.useState([qe()]),[p,d]=a.useState({type:"",file:{}}),x={analize:!1,percentAnalize:"0",approve:!1},[u,l]=a.useState(x),[h,j]=a.useState([]),[g,f]=a.useState(!1),[v,w]=a.useState(!1),[q,b]=a.useState({});let y=O("input[type='file']");const _=se(),k=he();function S(B){let H=B.target.name,Y=B.target.value;b({...q,[H]:Y})}function E(B){B.stopPropagation(),B.preventDefault();let H=O(B.target);H.parents(".options").find(".active").removeClass("active"),H.addClass("active");let Y=H.attr("value");d(ce=>({...ce,type:Y}))}function N(B){var Y;let H=!1;switch(O(B.target),(o===0&&p.type=="auto"||p.type=="manu")&&(H=!0),p.type){case"auto":o==1&&((Y=p==null?void 0:p.file)==null?void 0:Y.name)!==void 0&&ie();break;case"manu":if(o==1)if(g)if(q.email||q.phone)if(q.name){const ce=h.some(pe=>pe.email!==void 0&&pe.email===q.email);h.some(pe=>pe.phone===q.phone),ce?(A.error("Ya este contacto existe"),H=!1):(r(1),f(!1),H=!1,j(pe=>{let M=[...pe];return M.push(q),M}))}else A.error("Opps el contacto debe de contar con un nombre"),H=!1;else A.error("Opps no tienes ningun elemento de contacto agendado"),H=!1;else H=!1,F();break}H&&r(ce=>ce+1)}a.useEffect(()=>{O(".case.active").removeClass("active"),O(".case").eq(o).addClass("active")},[o]);function F(){var H;let B=new FormData;B.append("id_company",(H=i==null?void 0:i.company)==null?void 0:H.id_company),B.append("contacts",JSON.stringify(h)),B.append("id_list",k.id),P.post(D+"/api/upload/contactsWeb",B,{withCredentials:!0}).then(Y=>Y.data).then(Y=>{Y.status&&(A.success("Contactos subidos"),_("/contacts/detail/"+k.id))})}function C(){document.querySelector("input[type='file']").click()}function T(B){l(H=>({...H,percentAnalize:B}))}function z(B){l(H=>({...H,analize:!0})),qt(B,T).then(H=>{H.analize=="good"&&(l(Y=>({...Y,approve:!0})),d(Y=>({...Y,file:H.file})))}).catch(H=>{oe(),A.error("Opps! el archivo que intentastes subir no es compatible o tiene algun error."),l(Y=>({...Y,analize:!1,percentAnalize:0}))})}function ie(){var H;w(!0);let B=new FormData;B.append("id_list",k.id),B.append("contacts",p.file),B.append("id_company",(H=i==null?void 0:i.company)==null?void 0:H.id_company),P.post(D+"/api/upload/contacts",B,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}).then(Y=>Y.data).then(Y=>{w(!1),Y.status?_("/contacts/detail/"+k.id):A.error(Y.msg)}).catch(Y=>{w(!1)})}function oe(){d(B=>({...B,file:{}})),l(x),y.val("")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[o>0?e.jsxs("button",{className:"return",onClick:B=>{r(H=>H-1)},children:[e.jsx(Qe,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:B=>{_("/contacts/detail/"+k.id)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Subir nuevos contactos"}),e.jsx("span",{className:"desc",children:"Selecciona de que manera quieres subir los contactos"})]}),e.jsxs("div",{className:"options flex",id:`options-${c[0]}`,children:[e.jsxs("div",{className:"selector",onClick:E,value:"manu",children:[e.jsx("div",{className:"check",children:e.jsx(be,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"SUBIR MANUALMENTE"}),e.jsx("span",{children:"Agrega tus contactos de forma rápida y sencilla, uno por uno, rellenando los campos de manera dinámica. Con solo unos pocos clics, podrás tener tus contactos listos para comunicarte con ellos de manera personalizada."})]})]}),e.jsxs("div",{className:"selector",onClick:E,value:"auto",children:[e.jsx("div",{className:"check",children:e.jsx(be,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"SUBIR MEDIANTE ARCHIVO"}),e.jsx("span",{children:"Importa tus contactos de manera rápida y eficiente mediante un archivo. Solo necesitas preparar un archivo en formato (.csv o .txt) con los detalles de tus contactos y nuestro sistema se encargará de procesarlo y añadirlos a tu lista en un instante."})]})]})]})]}),p.type=="manu"&&e.jsx(e.Fragment,{children:g==!1?e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Contactos Manuales"}),e.jsx("span",{className:"desc",children:"Crea tu contacto manualmente"})]}),e.jsx("div",{className:"contacts",children:e.jsxs("div",{className:"row",children:[h.map((B,H)=>e.jsx("div",{className:"col-md-4",children:e.jsx("div",{className:"box box-padding stat",onClick:Y=>{f(!0)},children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:B.email||B.phone}),e.jsx("span",{children:B.name}),e.jsx("button",{className:"add-button",style:{fontSize:"40px",color:"var(--bs-danger)"},children:e.jsx(re,{icon:"ph:trash-light"})})]})})})),h.length==0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"box box-padding stat",onClick:B=>{f(!0)},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"No hay contactos!"}),e.jsx("span",{children:"Crea uno rapidamente"})]}),e.jsx("button",{className:"add-button",children:e.jsx(re,{icon:"solar:add-circle-line-duotone"})})]})})}):e.jsx(e.Fragment,{children:e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"box box-padding stat",onClick:B=>{f(!0)},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Agregar Contacto"}),e.jsx("span",{children:"Crea uno nuevo"})]}),e.jsx("button",{className:"add-button",children:e.jsx(re,{icon:"solar:add-circle-line-duotone"})})]})})})]})})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"case",children:[e.jsx("div",{className:"top",children:e.jsx("p",{className:"title",children:"Crear Contacto"})}),e.jsx(fi,{update:S})]})})}),p.type=="auto"&&e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Subir Archivo"}),e.jsx("span",{className:"desc",children:"Sube tu archivo rapidamente para procesarlo en tu lista de contactos."})]}),e.jsxs(e.Fragment,{children:[u.approve==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"file-adjunt",children:[e.jsx("i",{className:"icon",children:e.jsx(Za,{})}),e.jsxs("div",{className:"file",children:[e.jsx("p",{children:(G=p==null?void 0:p.file)==null?void 0:G.name}),e.jsxs("div",{className:"info",children:[e.jsxs("span",{children:["Tipo de archivo: ",p.file.type]}),e.jsxs("span",{children:["Peso: ",p.file.size," kb"]})]}),e.jsx("button",{className:"delete",onClick:oe,children:e.jsx(de,{})})]})]})}):e.jsxs("div",{className:"upload-contact",children:[e.jsx("input",{type:"file",accept:".csv,.txt",onChange:z,hidden:!0}),u.analize==!0?e.jsx(e.Fragment,{children:e.jsxs("p",{children:["Estamos analizando tu archivo... ",u.percentAnalize,"%"]})}):e.jsx("center",{children:e.jsxs("div",{className:"select-upload",onClick:C,children:[e.jsx("i",{className:"icon",children:e.jsx(Ua,{})}),e.jsx("p",{children:"Selecciona tu archivo de contactos"})]})})]}),e.jsxs("div",{className:"box box-stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{style:{fontSize:"18px",marginBottom:"0px"},className:"title",children:"Descarga un archivo de pruebas"}),e.jsx("span",{className:"desc",children:"descarga desde aqui un archivo de pruebas para saber como funciona nuestro sistema."})]}),e.jsx("div",{className:"actions",children:e.jsx($,{to:"/TestUploadContacts.csv",target:"_blank",children:e.jsxs("button",{className:"download-file",children:["Descargar ",e.jsx(re,{icon:"solar:file-download-linear"})]})})})]})]})]}),e.jsx("div",{className:"actions center",children:e.jsxs("button",{className:`next ${v==!0?"await":""}`,onClick:N,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function yi(){return e.jsx(e.Fragment,{children:e.jsx(Ni,{Visible:!0})})}function Js(){const[s,t]=a.useState(!0),[n,i]=a.useState(!1),[o,r]=a.useState({save:!1,campaign:!1}),[c,m]=a.useState({results:[],loadingTemplate:!1}),[p,d]=a.useState(!1),[x,u]=a.useState({}),[l,h]=a.useState({width:"",left:""}),[j,g]=a.useState(""),[f,v]=a.useState(),[w,q]=a.useState(!1),{UserInfo:b}=a.useContext(K),y=he(),[_,k]=a.useState();let S=["Cargando editor...","Nos tardaremos un poco","Que tal tu dia?","Vamos! con mucha imaginacion.","Ahora es un buen momento!","Un poco mas...","Ya casi!","Había una vez!"];function E(M){let J=M.target.dataset.value;console.log(M.target),v(J),h(I=>({...I,width:M.target.offsetWidth,left:M.target.offsetLeft}))}const N=se();function F(M,J){var I=document.createElement("script");I.src=M,I.onload=J,document.head.appendChild(I)}a.useEffect(()=>{i(!0),n&&(F("//editor.unlayer.com/embed.js",function(M){}),F("/draganddrop/dist/js/body.js",function(M){setTimeout(()=>{t(!1)},3500)}))},[n]);function C(){unlayer.exportHtml(async function(M){var J;if(j==""||j==null)A.error("Opps debes definir un titulo primero"),d(!0);else{z("save",!0);let I=new FormData,te=await ie().then(je=>je);I.append("preview",te),I.append("title",j),I.append("html",M.html),I.append("json",JSON.stringify(M.design)),I.append("id_company",(J=b==null?void 0:b.company)==null?void 0:J.id_company),I.append("type","email"),y.id&&I.append("id_template",y.id),P.post(D+"/api/upload/bodycampaign",I,{withCredentials:!0}).then(je=>je.data).then(je=>{je.status&&y.id==null&&N(`/editor/canvas/${je.id_body}`),z("save",!1)}).catch(je=>{z("save",!1)})}})}function T(){i(!0),O("#editor").html(""),N("/editor/canvas")}function z(M,J){r(I=>({...I,[M]:J}))}async function ie(){return new Promise((M,J)=>{let I=document.querySelector(".preview-template");try{unlayer.exportHtml(te=>{I.innerHTML=te.html,I.innerHTML&&bs(I,{allowTaint:!1,useCORS:!0}).then(je=>{let fe=je.toDataURL("image/png");M(fe)})})}catch(te){J(te)}})}function oe(){var J;let M=new FormData;M.append("id_company",(J=b==null?void 0:b.company)==null?void 0:J.id_company),P.post(D+"/api/get/templatesall",M,{withCredentials:!0}).then(I=>I.data).then(I=>{m(te=>({...te,results:I}))}).catch(I=>{})}function G(){q(!0)}function B(M){var I;let J=new FormData;J.append("id_company",(I=b==null?void 0:b.company)==null?void 0:I.id_company),J.append("id_campaign",M),P.post(D+"/api/get/campaign",J,{withCredentials:!0}).then(te=>te.data).then(te=>{te&&u(te)})}a.useEffect(()=>{let J=new URLSearchParams(window.location.search).get("campaign");J&&B(J),oe();let I=0;k(S[0]),setInterval(()=>{let te=S.length;I=I+1,k(S[I-1]),I>=te&&(I=0)},4500)},[]),a.useEffect(()=>{var M;if(y.id){let J=new FormData;t(!0),J.append("id_template",y.id),J.append("id_company",(M=b==null?void 0:b.company)==null?void 0:M.id_company),P.post(D+"/api/get/templatejson",J,{withCredentials:!0}).then(I=>I.data).then(I=>{t(!1),I.json?unlayer.loadDesign(JSON.parse(I.json)):A.error("Error al cargar la template")}).catch(I=>{t(!1)})}},[y==null?void 0:y.id]);function H(M){g(M.target.value)}function Y(M){N(`/editor/canvas/${M}${x!=null&&x.id_campaign?"?campaign="+x.id_campaign:""}`)}function ce(){var J;z("campaign",!0);let M=new FormData;M.append("id_campaign",x.id_campaign),M.append("id_company",(J=b==null?void 0:b.company)==null?void 0:J.id_company),M.append("id_template",y.id),P.post(D+"/api/update/settemplate",M,{withCredentials:!0}).then(I=>I.data).then(I=>{z("campaign",!1),I.status&&(A.success(I.msg),u(te=>({...te,id_template:y.id})))}).catch(I=>{z("campaign",!1)})}function pe(){var J;let M=new FormData;M.append("id_campaign",x.id_campaign),M.append("id_company",(J=b==null?void 0:b.company)==null?void 0:J.id_company),u(I=>({...I,id_template:""})),P.post(D+"/api/delete/settemplate",M,{withCredentials:!0}).then(I=>I.data).then(I=>{})}return a.useEffect(()=>{console.log(f)},[f]),e.jsxs(e.Fragment,{children:[s?e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:[_," ",e.jsx("div",{className:"loading"})]})]})})}):"",e.jsxs(me,{visible:p,onClick:M=>{d(!1)},next:"Asignar",callback:d,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Elige un titulo"})}),e.jsx("br",{}),e.jsx("div",{className:"content",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Esto te ayudara a identificar tu plantilla"}),e.jsx("input",{type:"text",placeholder:"Titulo de template",onChange:H})]})}),e.jsx("br",{})]}),e.jsxs(me,{visible:w,minWidth:"50%",buttonSave:!1,maxWidth:"150px",callback:q,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Plantillas"}),e.jsx("span",{children:"Aca tendras todas las plantillas disponibles"})]}),e.jsx("br",{}),e.jsx("div",{className:"menu-change span",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsxs("button",{className:`${f=="my"?"active":""}`,onClick:E,"data-value":"my",children:[e.jsx(re,{icon:"carbon:template"})," ",e.jsx("span",{children:"Mis Plantillas"})]})}),e.jsx("li",{children:e.jsxs("button",{className:`${f=="all"?"active":""}`,onClick:E,"data-value":"all",children:[e.jsx(re,{icon:"carbon:template"})," ",e.jsx("span",{children:"Plantillas"})]})}),e.jsx("div",{className:"hover",style:{left:l.left+"px",width:l.width+"px"}})]})}),e.jsx("div",{className:"content row",children:f=="my"&&e.jsxs(e.Fragment,{children:[c.results.map((M,J)=>{var I;return e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"template",onClick:te=>{Y(M.id_template)},children:[e.jsx("p",{children:M.title}),e.jsxs("span",{children:["Agregada: ",ue(M.time_add)]}),e.jsx("img",{src:ws((I=b==null?void 0:b.company)==null?void 0:I.folder_sftp,M.preview_image)})]})},J)}),c.loadingTemplate==!1&&c.results.length==0?e.jsx(ge,{name:"plantillas"}):""]})})]}),e.jsxs("div",{className:"editor-canvas",children:[e.jsx("header",{children:e.jsx("link",{href:"/draganddrop/dist/css/style.css",rel:"stylesheet",type:"text/css"})}),e.jsxs("div",{className:"topnav1",children:[e.jsxs("div",{className:"buttons",children:[e.jsxs("button",{style:{background:"transparent"},onClick:Ye,children:[e.jsx(We,{})," Volver"]}),x.name?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"campaign",children:[e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""}),e.jsx("p",{children:x==null?void 0:x.name}),e.jsx("span",{children:"Campaña seleccionada"})]}),x.id_template!==y.id?e.jsxs("button",{className:`${o.campaign==!0?"await":""}`,onClick:ce,children:[e.jsx(et,{})," Usar Plantilla",e.jsx("div",{className:"loading"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"use",children:"Utilizando plantilla"}),e.jsx("button",{onClick:pe,children:e.jsx(de,{})})]})]}):""]}),e.jsxs("div",{className:"buttons right",children:[e.jsxs("button",{className:`${o.save==!0?"await":""}`,onClick:C,children:[y.id?e.jsxs(e.Fragment,{children:[e.jsx(Ie,{})," Editar"]}):e.jsxs(e.Fragment,{children:[" ",e.jsx(st,{})," Guardar"]}),e.jsx("div",{className:"loading"})]}),e.jsxs("button",{onClick:G,children:[e.jsx(Pe,{})," Cargar plantilla"]}),e.jsxs("button",{onClick:T,children:[e.jsx(at,{})," Nuevo"]}),e.jsx("button",{onClick:G,children:e.jsx(tt,{})})]})]}),e.jsx("div",{className:"preview-template"}),e.jsx("div",{id:"editor"})]})]})}function bi(){const s=se(),[t,n]=a.useState([]),[i,o]=a.useState(!0),[r,c]=a.useState({id_delete:void 0,pending:!1}),[m,p]=a.useState(!1);Oe();const{UserInfo:d}=a.useContext(K);function x(){var h;o(!0);let l=new FormData;l.append("id_company",(h=d==null?void 0:d.company)==null?void 0:h.id_company),P.post(D+"/api/get/surveys",l,{withCredentials:!0}).then(j=>j.data).then(j=>{n(j),o(!1)}).catch(j=>{o(!1),A.error(String(j))})}a.useEffect(()=>{i&&x()},[]);function u(){var h;c(j=>({...j,pending:!0}));let l=new FormData;l.append("id_company",(h=d==null?void 0:d.company)==null?void 0:h.id_company),l.append("id_survey",r.id_delete),P.post(D+"/api/delete/survey",l,{withCredentials:!0}).then(j=>j.data).then(j=>{p(!1),j.status&&x(),c(g=>({...g,pending:!1}))}).catch(j=>{c(g=>({...g,pending:!1}))})}return e.jsxs(e.Fragment,{children:[e.jsx(Fe,{visible:m,Pending:r.pending,onClick:u,callback:p}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis encuestas"}),e.jsx("span",{children:"Gestiona tus encuestas rapidamente y optimiza tus estrategias"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:l=>{s("/surveys/editor")},children:"Crear nueva encuesta"})})]}),e.jsxs("div",{className:"row",children:[i==!1?t.map((l,h)=>{var j;return e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${D}/api/get/previewsurvey?miniature=${l.miniature})`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{onClick:g=>{p(!0),c(f=>({...f,id_delete:l.id_survey}))},children:e.jsx(de,{})}),e.jsx("button",{onClick:g=>{s("/surveys/editor/"+l.id_survey)},children:e.jsx(Ie,{})}),e.jsx("button",{onClick:g=>{s(`/stats/survey/${l.id_survey}`)},children:e.jsx($e,{})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:(j=l==null?void 0:l.header)==null?void 0:j.title}),e.jsxs("span",{children:["Encuesta agregada el: ",ue(l.time_add)]})]})]})},h)}):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(Se,{})})}),i==!1&&t.length==0?e.jsx(ge,{name:"encuestas"}):""]})]})}function Ci({header:s,value:t,keyid:n,setModalImage:i,page:o,setEdit:r,setJson:c}){var h;function m(j,g,f){p(f),r({type:j,key:g,page:o})}function p(j){let g=O(j.target).parents(".question");O(".question.active").removeClass("active"),g.addClass("active")}function d(j){let g=j.target.value;c(f=>{let v=[...f];return v[o].quests[n].type=g,v})}function x(j){p(j),j.stopPropagation(),r({});let g=!0;c(f=>{const v=[...f];return g&&(v[o].quests[n].questions.push({}),g=!1),v})}function u(j,g){j.stopPropagation();let f=!0;c(v=>{var q;let w=[...v];if(f&&(q=w[o])!=null&&q.quests[n]){let b=[];w[o].quests[n].questions.forEach((y,_)=>{_!==g?b.push(y):f=!1}),w[o].quests[n].questions=b}return w})}function l(j){j.stopPropagation();let g=!0;c(f=>{let v=[...f],w=[];return v[o].quests.forEach((q,b)=>{b!==n&&w.push(q)}),g&&(v[o].quests=w,g=!1),v})}return O(document).on("click",".options button",function(j){j.stopImmediatePropagation(),O(".edit-active").removeClass("edit-active"),O(this).parents(".options").parents(".quest").addClass("edit-active")}),O(document).on("click",".top p, .top span",function(j){j.stopImmediatePropagation(),O(".edit-active").removeClass("edit-active"),O(this).addClass("edit-active")}),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"question edit",colorBox:s.colorBox,style:{borderRadius:s.borderRadius+"px"},children:[e.jsx("button",{className:"delete-question",onClick:j=>{l(j),r({})},children:e.jsx(de,{})}),e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",onClick:j=>{m("title",n,j)},children:t!=null&&t.title?t.title:"Elige un titulo..."}),e.jsx("span",{onClick:j=>{m("desc",n,j)},children:t!=null&&t.desc?t.desc:"Elige una descripcion... (opcional)"})]}),t!=null&&t.img?e.jsx("img",{className:"img-quest",src:t.img}):"",e.jsxs("div",{className:"select-types",children:[e.jsx("button",{onClick:x,className:"add-quest",children:"Agregar pregunta"}),e.jsx("button",{onClick:j=>{i(!0),r({key:n,type:"add-image",page:o})},children:e.jsx(it,{})}),e.jsxs("select",{onChange:d,children:[e.jsx("option",{value:"input",children:"Respuesta corta"}),e.jsx("option",{value:"input-large",children:"Respuesta larga"}),e.jsx("option",{value:"radio",children:"Opcion multiple"}),e.jsx("option",{value:"check",children:"Casillas de verificacion"})]})]}),(h=t==null?void 0:t.questions)==null?void 0:h.map((j,g)=>e.jsxs("div",{className:"quest",children:[t.type=="input"?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",disabled:!0,placeholder:`${j.title?j.title:"Elige una descripcion"}`}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:f=>{u(f,g)},children:e.jsx(de,{})}),e.jsx("button",{onClick:f=>{r({key:n,type:"title-quest",quest_key:g,page:o})},children:e.jsx(Ie,{})})]})]}):"",t.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:n})," ",e.jsx("span",{children:j.title?j.title:"Elige una descripcion..."}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:f=>{u(f,g)},children:e.jsx(de,{})}),e.jsx("button",{onClick:f=>{r({key:n,type:"title-quest",quest_key:g,page:o})},children:e.jsx(Ie,{})})]})]}):"",t.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:n})," ",e.jsx("span",{children:j.title?j.title:"Elige una descripcion..."}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:f=>{u(f,g)},children:e.jsx(de,{})}),e.jsx("button",{onClick:f=>{r({key:n,type:"title-quest",quest_key:g,page:o})},children:e.jsx(Ie,{})})]})]}):"",t.type=="input-large"?e.jsxs(e.Fragment,{children:[e.jsx("textarea",{type:"checkbox",name:n,placeholder:j.title,style:{width:"100%"}}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:f=>{u(f,g)},children:e.jsx(de,{})}),e.jsx("button",{onClick:f=>{r({key:n,type:"title-quest",quest_key:g,page:o})},children:e.jsx(Ie,{})})]})]}):""]},g))]})})}function wi({json:s=[],header:t={},setJson:n,setEdit:i,edit:o}){var q,b;const[r,c]=a.useState(!1),[m,p]=a.useState(!1);a.useState([]);const[d,x]=a.useState("email"),[u,l]=a.useState({width:"",left:""});se();function h(){n(y=>[...y,{quests:[{title:"",desc:"",type:"radio",questions:[]}]}])}function j(y){let _=!0;n(k=>{var N;let S=[...k],E=(N=S[y])==null?void 0:N.quests;return _&&(S[y].quests=[...E,{title:"",desc:"",type:"radio",img:"",questions:[]}],_=!1),S})}function g(y){n(_=>{let k=[..._],S=[];return k.forEach((E,N)=>{N!==y&&S.push(E)}),k=S,k})}function f(){let y=document.querySelector("#image-edit").value;n(_=>{let k=[..._];return k[o.page].quests[o.key].img=y,k}),c(!1)}function v(){window.localStorage.setItem("surveyPreview",JSON.stringify(s)),window.localStorage.setItem("surveyPreviewHead",JSON.stringify(t)),window.open("/surveys/preview","_blank")}function w(y){let _=y.target.value;x(_),l(k=>({...k,width:y.target.offsetWidth,left:y.target.offsetLeft}))}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{onClick:v,children:[e.jsx(Ae,{})," Previsualizar"]}),e.jsxs("button",{onClick:y=>{p(!0)},children:[e.jsx(as,{})," Enviar"]})]})}),e.jsxs(me,{visible:m,minWidth:"35%",callback:p,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enviar"}),e.jsx("span",{children:"Tienes distintas opciones para enviar esta encuesta"})]}),t.short_link==null?e.jsx("span",{className:"alert-save",children:"Opps! aun no puedes usar esta funcion no has guardado la encuesta."}):"",e.jsx("div",{className:"menu-change",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("span",{children:"Enviar por"})}),e.jsx("li",{children:e.jsx("button",{className:`${d=="email"?"active":""}`,onClick:w,value:"email",children:e.jsx(nt,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${d=="link"?"active":""}`,onClick:w,value:"link",children:e.jsx(lt,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${d=="embed"?"active":""}`,onClick:w,value:"embed",children:e.jsx(ct,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${d=="settings"?"active":""}`,onClick:w,value:"settings",children:e.jsx(ta,{})})}),e.jsx("div",{className:"hover",style:{left:u.left+"px",width:u.width+"px"}})]})}),e.jsxs("div",{className:`result-menu ${t.short_link==null?"disabled":""} ${d=="email"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo electronico"}),e.jsx("input",{type:"text",placeholder:"contactos"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Asunto"}),e.jsx("input",{type:"text",placeholder:"informacion de contacto"})]})]}),e.jsxs("div",{className:`result-menu ${t.short_link==null?"disabled":""} ${d=="link"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Enlace"}),e.jsx("input",{type:"text",placeholder:"contactos",value:`${ts}/survey/${t.token}`,disabled:!0})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Enlace Corto"}),e.jsx("input",{type:"text",placeholder:"url corta",value:t.short_link,disabled:!0})]})]}),e.jsx("div",{className:`result-menu ${t.short_link==null?"disabled":""} ${d=="embed"?"show":""}`,children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Incorporar HTML"}),e.jsx("input",{type:"text",placeholder:"contactos"})]})}),e.jsxs("div",{className:`result-menu ${t.short_link==null?"disabled":""} ${d=="settings"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Condicion de respuesta "}),e.jsxs("select",{name:"",id:"",children:[e.jsx("option",{value:"",children:"Responder varias veces"}),e.jsx("option",{value:"",children:"Responder solo una vez"})]})]}),e.jsx("div",{className:"form-input"})]})]}),e.jsxs(me,{visible:r,callback:c,onClick:f,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Url de imagen"}),e.jsx("span",{children:"Ingresa la url de la imagen que quieres integrar en tu pregunta"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",id:"image-edit",placeholder:"https://image.com/image.png"})})]}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${t.blur}px)brightness(${t.brightness})`,background:t.background2}}),e.jsxs("div",{className:"survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(q=t==null?void 0:t.logo)!=null&&q.length?e.jsx("img",{className:"logo",src:t==null?void 0:t.logo}):"",(b=t==null?void 0:t.title)!=null&&b.length?e.jsx("p",{className:"",children:t.title}):""]})}),s==null?void 0:s.map((y,_)=>{var k;return e.jsxs("div",{className:"page",children:[e.jsxs("div",{className:"info-page",children:[e.jsxs("p",{children:["Pagina ",_+1]}),e.jsx("button",{className:"delete",onClick:S=>{g(_)},children:e.jsx(de,{})})]}),(k=y.quests)==null?void 0:k.map((S,E)=>e.jsx(Ci,{header:t,setModalImage:c,value:S,page:_,keyid:E,setEdit:i,setJson:n},E)),e.jsxs("button",{className:"add-new",onClick:S=>{j(_)},children:[e.jsx(Ke,{})," Nueva pregunta"]})]},_)}),e.jsxs("div",{className:"add-new",onClick:h,children:[e.jsx(Ke,{})," Nueva pagina"]})]})]})}function ki({setHeader:s,header:t,json:n}){const[i,o]=a.useState(!1),{UserInfo:r}=a.useContext(K);a.useState();function c(p){let d=p.target.value,x=p.target.name;x=="background"&&(d.indexOf("http")>=0||d.indexOf("www")>=0)&&(d=`url(${d})`),s(u=>({...u,[x]:d}))}async function m(){var d;let p=new FormData;if(t.id_survey&&p.append("id_survey",t.id_survey),p.append("header",JSON.stringify(t)),p.append("id_company",(d=r==null?void 0:r.company)==null?void 0:d.id_company),p.append("json",JSON.stringify(n)),t.title)if(n.length>=1){let x=await new Promise((u,l)=>{bs(document.querySelector(".center"),{allowTaint:!1,useCORS:!0}).then(h=>{let j=h.toDataURL("image/png");u(j)})});x&&p.append("miniature",x.replace("data:image/png;base64,","")),o(!0),P.post(D+"/api/upload/survey",p,{withCredentials:!0}).then(u=>u.data).then(u=>{u.status&&(u.id_survey&&(t.id_survey||s(l=>({...l,id_survey:u.id_survey}))),u.token&&s(l=>({...l,token:u.token})),u.short_link&&s(l=>({...l,short_link:u.short_link}))),o(!1)}).catch(u=>{o(!1)})}else A.error("Opps no has agregado una pregunta.");else A.error("Opps no has elegido un titulo")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar encuesta"}),e.jsx("span",{children:"Personaliza tu encuesta, imagen, fondo, titulo y logo."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Titulo"}),e.jsx("input",{type:"text",onChange:c,defaultValue:t.title,name:"title",placeholder:"Ej: Encuesta de fidelidad"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Ingresa url de tu logo"}),e.jsx("input",{type:"text",onChange:c,defaultValue:t.logo,name:"logo"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",onChange:c,defaultValue:t.background,name:"background"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",defaultValue:0,step:"0.1",max:"10",value:t.blur,onChange:c,name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",defaultValue:1,step:"0.0",max:"1",value:t.brightness,onChange:c,name:"brightness"})]}),e.jsx("br",{}),e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar Cajas"}),e.jsx("span",{children:"Personaliza de tu manera preferida tus cajas."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border Radius"}),e.jsx("input",{type:"range",defaultValue:.1,step:"0.1",max:"20",onChange:c,name:"borderRadius"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{onClick:p=>{c(p)},name:"colorBox",value:"ligth",children:"Modo Claro"}),e.jsx("button",{onClick:p=>{c(p)},name:"colorBox",value:"dark",children:"Modo Oscuro"}),e.jsx("button",{onClick:p=>{c(p)},name:"colorBox",value:"transparent",children:"Transparente"})]})]}),e.jsx("div",{className:"option",children:e.jsxs("button",{className:`save ${i?"await":""}`,onClick:m,children:["Guardar ",e.jsx("div",{className:"loading"})]})})]})}function Si({value:s,page:t,setJson:n,keyid:i}){function o(r){let c=r.target.value;n(m=>{const p=[...m];return p[t].quests[i].title=c,p[t].quests[i].response=0,p})}return a.useEffect(()=>{s!=null&&s.title&&(document.querySelector("#title-edit").value=s.title)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo de pregunta"}),e.jsx("input",{id:"title-edit",onChange:o,type:"text",placeholder:"Ej: Como te llamas?"})]})})})}function _i({page:s,value:t,setJson:n,keyid:i}){function o(r){let c=r.target.value;n(m=>{const p=[...m];return p[s].quests[i].desc=c,p})}return a.useEffect(()=>{t!=null&&t.desc&&(document.querySelector("#title-edit").value=t.desc)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descripcion de pregunta"}),e.jsx("input",{id:"title-edit",onChange:o,type:"text",placeholder:"Ej: Tu nombre es importante por que..."})]})})})}function Ei({quest_key:s,page:t,value:n,setJson:i,keyid:o}){function r(c){c.stopPropagation();let m=c.target.value;i(p=>{let d=[...p];return d[t].quests[o].questions[s].title=m,d})}return a.useEffect(()=>{},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo de pregunta"}),e.jsx("input",{id:"title-edit",onChange:r,type:"text",placeholder:"Ej: Como te llamas?"})]})})})}function Fi({edit:s,json:t,setJson:n}){var i;return e.jsxs(e.Fragment,{children:[s.type=="title"?e.jsx(Si,{page:s.page,value:t[s.key],setJson:n,keyid:s.key},s.key):"",s.type=="desc"?e.jsx(_i,{page:s.page,value:t[s.key],setJson:n,keyid:s.key},s.key):"",s.type=="title-quest"?e.jsx(Ei,{page:s.page,quest_key:s.quest_key,value:(i=t[s.page].quests[s.key])==null?void 0:i.questions[s.quest_key],setJson:n,keyid:s.key},s.key):""]})}function Xs(){const[s,t]=a.useState({title:"",logo:"",background:"",blur:"0.5",brightness:""}),[n,i]=a.useState([]),[o,r]=a.useState({type:"",key:"",quest_key:"",page:""}),{UserInfo:c}=a.useContext(K),m=he(),[p,d]=a.useState(!0);function x(){var l;d(!0);let u=new FormData;u.append("id_survey",m.idsurvey),u.append("id_company",(l=c==null?void 0:c.company)==null?void 0:l.id_company),P.post(D+"/api/get/surveys",u,{withCredentials:!0}).then(h=>h.data).then(h=>{d(!1),h.header&&t(JSON.parse(h.header)),h.json&&i(JSON.parse(h.json))}).catch(h=>{d(!1),A.error(String(h))})}return a.useEffect(()=>{m.idsurvey?x():setTimeout(()=>{d(!1)},1e3)},[]),e.jsxs(e.Fragment,{children:[p?e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:["Cargando... ",e.jsx("div",{className:"loading"})]})]})}):"",e.jsx("div",{className:"editor-surveys",children:e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:"left",children:e.jsx(ki,{setHeader:t,header:s,json:n})}),e.jsx("div",{className:"center",style:{background:s.background},children:e.jsx(wi,{json:n,header:s,edit:o,setJson:i,setEdit:r})}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"type-editor",children:e.jsx(Fi,{edit:o,setJson:i,json:n,header:s})})})]})})]})}function Ks(){var x,u,l,h;const[s,t]=a.useState([]),[n,i]=a.useState(0),[o,r]=a.useState({}),[c,m]=a.useState(0);a.useEffect(()=>{t(JSON.parse(window.localStorage.getItem("surveyPreview"))),r(JSON.parse(window.localStorage.getItem("surveyPreviewHead")))},[]),a.useEffect(()=>{s.length&&i(s.length)},[s]);function p(){m(j=>j+1)}function d(){m(j=>j-1)}return e.jsxs("div",{className:"survey real",colorBox:o==null?void 0:o.colorBox,style:{background:o==null?void 0:o.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${o.blur}px)brightness(${o.brightness})`}}),e.jsxs("div",{className:"margin-survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(x=o==null?void 0:o.logo)!=null&&x.length?e.jsx("img",{className:"logo",src:o==null?void 0:o.logo}):"",(u=o==null?void 0:o.title)!=null&&u.length?e.jsx("p",{className:"",children:o.title}):""]})}),(h=(l=s[c])==null?void 0:l.quests)==null?void 0:h.map((j,g)=>{var f;return e.jsxs("div",{className:"question",style:{borderRadius:(o==null?void 0:o.borderRadius)+"px"},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:j.title}),e.jsx("span",{children:j.desc})]}),j!=null&&j.img?e.jsx("img",{className:"img-quest",src:j.img}):"",(f=j==null?void 0:j.questions)==null?void 0:f.map((v,w)=>e.jsxs("div",{className:"quest",children:[j.type=="input"?e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",disabled:!0,placeholder:`${v.title}`})}):"",j.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:0})," ",e.jsx("span",{children:v.title})]}):"",j.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:0})," ",e.jsx("span",{children:v.title})]}):"",j.type=="input-large"?e.jsx(e.Fragment,{children:e.jsx("textarea",{name:0,placeholder:v.title,style:{width:"100%"}})}):""]},w))]},g)}),e.jsx("div",{className:"buttons-bottom",children:c==n-1?e.jsxs(e.Fragment,{children:[c?e.jsx("button",{onClick:d,children:"Volver"}):"",e.jsx("button",{children:"Terminar"})]}):c<n-1?e.jsxs(e.Fragment,{children:[c?e.jsx("button",{onClick:d,children:"Volver"}):"",e.jsx("button",{onClick:p,children:"Siguiente"})]}):""})]})]})}function Di(){var g,f;const s=he(),[t,n]=a.useState([]),[i,o]=a.useState(!0),[r,c]=a.useState([]),[m,p]=a.useState(),[d,x]=a.useState(0);function u(){let v=new FormData;v.append("key",s.id),P.post(D+"/api/get/survey",v,{withCredentials:!0}).then(w=>w.data).then(w=>{o(!1),n(w)}).catch(w=>{o(!1)})}function l(v){v.preventDefault(),x(w=>w+1)}function h(v){v.preventDefault(),x(w=>w-1)}a.useEffect(()=>{s.id&&i==!0&&u()},[]),a.useEffect(()=>{t.header&&(p(JSON==null?void 0:JSON.parse(t==null?void 0:t.header)),c(JSON.parse(t.json)))},[t]);function j(v){v.preventDefault();let w=document.querySelector("#form"),q=new FormData(w);q.append("key",s.id),P.post(D+"/api/upload/responseSurvey",q,{withCredentials:!0})}return e.jsx(e.Fragment,{children:i?e.jsx("div",{className:"app",children:e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:["Cargando encuesta... ",e.jsx("div",{className:"loading"})]})]})})}):e.jsxs("div",{className:"survey real",colorBox:m==null?void 0:m.colorBox,style:{background:m==null?void 0:m.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${m==null?void 0:m.blur}px)brightness(${m==null?void 0:m.brightness})`}}),e.jsxs("div",{className:"margin-survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(g=m==null?void 0:m.logo)!=null&&g.length?e.jsx("img",{className:"logo",src:m==null?void 0:m.logo}):"",(f=m==null?void 0:m.title)!=null&&f.length?e.jsx("p",{className:"",children:m.title}):""]})}),e.jsx("form",{method:"POST",encType:"multipart/form-data",id:"form",children:r.map((v,w)=>{var q;return e.jsx("div",{className:`page ${w==d?"active":""}`,children:(q=v==null?void 0:v.quests)==null?void 0:q.map((b,y)=>{var _;return e.jsxs("div",{className:"question",style:{borderRadius:(m==null?void 0:m.borderRadius)+"px"},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:b.title}),e.jsx("span",{children:b.desc})]}),b!=null&&b.img?e.jsx("img",{className:"img-quest",src:b.img}):"",(_=b==null?void 0:b.questions)==null?void 0:_.map((k,S)=>e.jsxs("div",{className:"quest",children:[b.type=="input"?e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",name:`${w}-${y}-${S}`,placeholder:`${k.title}`})}):"",b.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:`${w}-${y}`,value:k.title})," ",e.jsx("span",{children:k.title})]}):"",b.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:`${w}-${y}-${S}`})," ",e.jsx("span",{children:k.title})]}):"",b.type=="input-large"?e.jsx(e.Fragment,{children:e.jsx("textarea",{name:`${w}-${y}-${S}`,placeholder:k.title,style:{width:"100%"}})}):""]},S))]},y)})})})}),e.jsx("div",{className:"buttons-bottom",children:d==r.length-1?e.jsxs(e.Fragment,{children:[d?e.jsx("button",{onClick:h,children:"Volver"}):"",e.jsxs("button",{onClick:j,className:"pending",children:["Terminar ",e.jsx("div",{className:"loading"})]})]}):e.jsxs(e.Fragment,{children:[d?e.jsx("button",{onClick:h,children:"Volver"}):"",e.jsx("button",{onClick:l,children:"Siguiente"})]})})]})]})})}function _s(){const s=he();return e.jsx(e.Fragment,{children:e.jsx("div",{className:"menu-top",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:`/stats/survey/${s.id}`,children:"Estadisticas"})}),e.jsx("li",{children:e.jsx($,{to:`/stats/survey/${s.id}/detail`,children:"Detalles de respuestas"})}),e.jsx("li",{children:e.jsx($,{to:`/stats/survey/${s.id}/response`,children:"Respuestas"})})]})})})}function Pi(){const{UserInfo:s}=a.useContext(K),[t,n]=a.useState(!1);a.useState({});const[i,o]=a.useState([]),[r,c]=a.useState([]),[m,p]=a.useState([]),[d,x]=a.useState({}),[u,l]=a.useState({options:{chart:{id:"basic-bar"},xaxis:{categories:[]}},series:[{name:"series-1",data:[]}]}),h=he();function j(){var f;let g=new FormData;g.append("id_company",(f=s==null?void 0:s.company)==null?void 0:f.id_company),g.append("id_survey",h.id),P.post(D+"/api/get/statsurvey",g,{withCredentials:!0}).then(v=>v.data).then(v=>{c(v.days),x(v),p(v.daysResponse),o(v.countrys)})}return a.useEffect(()=>{j(),n(!0)},[t]),a.useEffect(()=>{l(g=>({...g,options:{...g.options,xaxis:{categories:r}},series:[{name:"serie 1",data:m}]}))},[m]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Encuesta: ",h.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu encuesta"})]})}),e.jsx(_s,{}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Respuestas este mes"})}),e.jsx(Xe,{options:u.options,series:u.series,type:"area",height:300})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Preguntas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:d==null?void 0:d.totalQuestions})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Paginas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:d==null?void 0:d.pageTotal})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Respuestas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:d.totalResponse})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Visitas"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"100"})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{className:"title",children:"Tops Paises"})}),e.jsx("div",{className:"result countryr",children:i.map((g,f)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:ya(g.country),alt:""}),e.jsx("p",{className:"",children:g.country==""?"Undefined":ba(String(g.country).toLocaleLowerCase())}),e.jsxs("span",{children:["(",g.amount,")"]})]},f))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding",children:e.jsx("div",{className:"top",children:e.jsx("p",{className:"title",children:"Tops Respuestas"})})})})]})})]})}function qi(){const s=he(),t=se(),{UserInfo:n}=a.useContext(K),[i,o]=a.useState([]),[r,c]=a.useState(!1),[m,p]=a.useState({series:[{name:"Respuestas",data:[]}],chart:{type:"area",height:350,stacked:!0},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:[]}}),[d,x]=a.useState({series:[],theme:{palette:"palette3"},labels:[],chart:{type:"donut"}}),u=()=>{let j=new FormData;j.append("key",s.id),P.post(D+"/api/get/survey",j,{withCredentials:!0}).then(g=>g.data).then(g=>{o(JSON.parse(g.json)),l(g)})};function l(j){let g=JSON.parse(j.json),f=[],v=[],w=[],q=[];g.map((b,y)=>{b.quests.map((_,k)=>{_.type=="radio"&&_.questions.map((S,E)=>{f.push(`${S.title} (${y+1})`),v.push(S.response),w.push(`${_.title} - ${S.title}`),q.push(S.response),p(N=>({...N,xaxis:{...N,categories:f}})),p(N=>(N.series=[{name:"Respuesta",data:v}],N)),x(N=>(N.labels=w,N.series=q,N))})})})}function h(j){var f;let g=new FormData;g.append("id_company",(f=n==null?void 0:n.company)==null?void 0:f.id_company),g.append("id_survey",s.id),g.append("case",j),P.post(D+"/api/get/downloadsurvey",g,{withCredentials:!0}).then(v=>v.data).then(v=>{})}return a.useEffect(()=>{u()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"modal-map",style:{display:r?"block":"none"},children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Mapa completo"}),e.jsx("span",{children:"Puedes ver el mapa completamente de las respuestas de los usuarios."}),e.jsx("button",{className:"close",onClick:j=>{c(!1)},children:e.jsx(ss,{})})]}),e.jsx("div",{className:"map-suv complete",children:i==null?void 0:i.map((j,g)=>e.jsxs("div",{className:"pg",children:[e.jsx("div",{className:"info",children:e.jsxs("p",{children:["Pagina ",g+1]})}),e.jsx("div",{className:"separate"}),j.quests.map((f,v)=>e.jsxs("div",{className:"quests",children:[e.jsx("div",{className:"info",children:e.jsx("p",{children:f.title})}),e.jsx("div",{className:"separate"}),e.jsx("div",{className:"questions-type",children:f.questions.map((w,q)=>e.jsxs("div",{className:"question",children:[e.jsx("div",{className:"separate quest"}),e.jsxs("span",{className:"value",children:[w.title,f.type=="radio"?e.jsxs(e.Fragment,{children:[" (",w.response,") "]}):""]})]}))})]},v))]}))})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles De Encuesta "}),e.jsx("span",{children:"Estas son los detalles de las respuestas"})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"go-wizard",children:"Descargar (CSV)"}),e.jsx("button",{className:"go-wizard",onClick:j=>{h("json")},children:"Descargar (JSON)"}),e.jsx("button",{className:"go-wizard",onClick:j=>{t(`/stats/survey/${s.id}/response`)},children:"Respuestas"})]})]}),e.jsx(_s,{}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Estadisticas de respuestas"}),e.jsx("span",{children:"Estadisticas de las respuestas, veras cuantas veces respondieron a algo."})]}),e.jsx(Xe,{options:m,series:m.series,type:"bar",height:300})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top ",children:[e.jsx("p",{children:"Porcentaje de respuesta"}),e.jsx("span",{children:"Este es el porcentaje de respuesta por cada pregunta."})]}),d.labels.length?e.jsx(Xe,{options:d,series:d.series,type:"donut",height:300}):""]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top ",children:[e.jsx("p",{children:"Mapa de encuesta"}),e.jsx("span",{children:"Este es mapa de tu encuesta, donde veras un mapa sobre la encuesta ejecutada."})]}),e.jsx("div",{className:"map-suv maxheight",children:i==null?void 0:i.map((j,g)=>e.jsxs("div",{className:"pg",children:[e.jsx("div",{className:"info",children:e.jsxs("p",{children:["Pagina ",g+1]})}),e.jsx("div",{className:"separate"}),j.quests.map((f,v)=>e.jsxs("div",{className:"quests",children:[e.jsx("div",{className:"info",children:e.jsx("p",{children:f.title})}),e.jsx("div",{className:"separate"}),e.jsx("div",{className:"questions-type",children:f.questions.map((w,q)=>e.jsxs("div",{className:"question",children:[e.jsx("div",{className:"separate quest"}),e.jsxs("span",{className:"value",children:[w.title,f.type=="radio"?e.jsxs(e.Fragment,{children:[" (",w.response,") "]}):""]})]}))})]},v))]}))}),e.jsx("button",{className:"action-complete",onClick:j=>{c(!0)},children:"Ver mapa completo"})]})})]})]})}function Ti(){let s=he();const[t,n]=a.useState([]),[i,o]=a.useState([]),[r,c]=a.useState(!1),{UserInfo:m}=a.useContext(K);function p(){var x;let d=new FormData;d.append("id_survey",s.id),d.append("id_company",(x=m==null?void 0:m.company)==null?void 0:x.id_company),P.post(D+"/api/get/responsesurvey",d,{withCredentials:!0}).then(u=>u.data).then(u=>{u.length&&(n(u),u.forEach((l,h)=>{o(j=>[...j,JSON.parse(l.json_response)])}))})}return a.useEffect(()=>{c(!0),r&&p()},[r]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Respuestas"}),e.jsx("span",{children:"Ver todas las respuestas hechas en tu encuesta"})]}),e.jsx("div",{className:"right"})]}),e.jsx(_s,{}),e.jsx("div",{className:"row",children:i.map((d,x)=>e.jsx("div",{className:"col-6",children:e.jsx("div",{className:"box box-padding",children:e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"top",children:e.jsx("div",{className:"top",children:e.jsxs("p",{children:["Respuesta #",x+1]})})}),e.jsx("div",{className:"response",children:Object.entries(d).map(([u,l])=>e.jsx("div",{children:e.jsxs("span",{children:[u,": ",l]})},u))})]})})},x))})]})}function Ys(){const s=se(),[t,n]=a.useState([]),[i,o]=a.useState(!0),{UserInfo:r}=a.useContext(K),[c,m]=a.useState(!1),[p,d]=a.useState(!1),[x,u]=a.useState({url:""}),[l,h]=a.useState(!1),[j,g]=a.useState(!1),f=Oe();a.useEffect(()=>{Me("/add")&&d(!0)},[f]);function v(b=!1){var _;let y=new FormData;y.append("id_company",(_=r==null?void 0:r.company)==null?void 0:_.id_company),o(!0),b||n([]),P.post(D+"/api/get/myurls",y,{withCredentials:!0}).then(k=>k.data).then(k=>{o(!1),n(k)})}function w(){var y;let b=new FormData;b.append("url",x.url),b.append("name",x.name),b.append("id_company",(y=r==null?void 0:r.company)==null?void 0:y.id_company),x.url?(m(!0),P.post(D+"/api/upload/shortlink",b,{withCredentials:!0}).then(_=>_.data).then(_=>{m(!1),_.status&&(v(),d(!1))}).catch(_=>{m(!1)})):le.error("Opps no has ingresado el enlace correctamente")}function q(b){let y=b.target.name,_=b.target.value;u({...x,[y]:_})}return a.useEffect(()=>{v()},[]),e.jsxs(e.Fragment,{children:[e.jsx(Fe,{visible:l,callback:h,name:"enlace"}),e.jsxs(me,{visible:p,onClick:w,callback:d,Pending:c,next:"Crear",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nuevo enlace"}),e.jsx("span",{children:"Crea tu nuevo enlace rapidamente con esta herramienta"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"name",placeholder:"Nombre de Enlace",name:"name",onChange:q})}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"url",placeholder:"Enlace",name:"url",onChange:q})})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus urls "}),e.jsx("span",{children:"Estas son tus urls cortas que has creado donde podras llevar las estadisticas de cada una."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:b=>{d(!0)},children:"Crear nueva URL"})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[t.map((b,y)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:"URL CORTA"}),b.name&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"desc",children:["NOMBRE: ",b.name]})," ",e.jsx("br",{})]}),e.jsxs("span",{className:"desc",children:["ENLACE CORTO: ",e.jsx($,{target:"_blank",to:`${ts}/${b.token}`,children:b.token})]})]})]}),e.jsxs("div",{children:[e.jsx("p",{children:"URL"}),e.jsx("span",{children:b.real_link})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:_=>{h(!0),g(b.id_shortlink)},children:e.jsx(de,{})}),e.jsxs("button",{onClick:_=>{s("/shorturls/"+b.id_shortlink)},children:[e.jsx(we,{})," "]})]})]},y)),i==!0?e.jsx(Se,{}):i==!1&&t.length==0?e.jsx(ge,{name:"urls"}):""]})})})]})}function Li(){var g,f;const s=he(),{UserInfo:t}=a.useContext(K),[n,i]=a.useState([]);a.useState([]);const[o,r]=a.useState(),[c,m]=a.useState([]),[p,d]=a.useState(0),x=a.useRef(null),[u,l]=a.useState({series:[{name:"Respuestas",data:[]}],chart:{type:"area",height:350,stacked:!0},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:[]}}),h=new Cs({width:600,height:600,image:"/img/icons/iconsvg.png",dotsOptions:{color:"gradient",type:"extra-rounded",gradient:{colorStops:[{offset:0,color:"#000"},{offset:1,color:"#000"}]}},imageOptions:{crossOrigin:"anonymous",margin:20}});function j(v){var q;let w=new FormData;w.append("id_company",(q=t==null?void 0:t.company)==null?void 0:q.id_company),w.append("month",v.month),w.append("year",v.year),w.append("id_shortlink",s.id),P.post(D+"/api/get/statshortlink",w,{withCredentials:!0}).then(b=>b.data).then(b=>{i(b.countrys),m(b.devices),d(b.total),l(y=>(y.series[0].data=b.dayResponse,y.xaxis.categories=b.days,y)),r(b.token)})}return a.useEffect(()=>{j({month:new Date().getMonth()+1})},[]),a.useEffect(()=>{o&&(h.append(x.current),h.update({data:ts+"/"+o+"?qr=true"}))},[o]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Detalle de enlace: ",s.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu enlace corto"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:Ye,children:"Volver"})})]}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Clicks este mes"}),e.jsx("span",{children:"Aca podras evaluar los clicks hecho por el mes actual y anteriores."})]}),(f=(g=u==null?void 0:u.series[0])==null?void 0:g.data)!=null&&f.length?e.jsx(Xe,{options:u,series:u.series,type:"area",height:300}):""]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Visitas"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:p})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"QR Code"})}),e.jsx("div",{className:"resp-number",children:e.jsx("div",{className:"qr-code",children:e.jsx("div",{ref:x})})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Tops Paises"}),e.jsx("span",{children:"Tops de los paises que mas visitaron el enlace"})]}),e.jsx("div",{className:"result countryr",children:n.map((v,w)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:ya(v.country),alt:""}),e.jsx("p",{className:"",children:v.country==""?"Undefined":ba(v.country)}),e.jsxs("span",{children:["(",v.count,")"]})]},w))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Tops Os"}),e.jsx("span",{children:"Top de los sistemas operativos mas usado por los usuarios"})]}),e.jsx("div",{className:"result countryr",children:c.map((v,w)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:Tt(v.device),alt:""}),e.jsx("p",{className:"",children:v.device}),e.jsxs("span",{children:["(",v.count,")"]})]},w))})]})})]})})]})}function Mi(){const[s,t]=a.useState(-1),n=[{name:"Clics Totales",value:5e3,fill:"#000000"},{name:"Facebook",value:3e3,fill:"#1E40AF"},{name:"Instagram",value:1500,fill:"#9333EA"},{name:"YouTube",value:500,fill:"#DC2626"}],i=r=>{const c=n[0].value;return Math.round(r/c*100)},o=r=>{const{x:c,y:m,width:p,height:d,value:x,index:u}=r,l=10,h=12,j=20,g=u===s;return e.jsx("g",{children:e.jsxs("text",{x:c+p+l*2,y:m+d/2,fill:"#000",fontSize:h,fontWeight:g?"bold":"normal",textAnchor:"start",dominantBaseline:"middle",children:[e.jsx("tspan",{x:c+p+l*2,dy:"-1em",children:n[u].name}),e.jsxs("tspan",{x:c+p+l*2,dy:j,children:[x," (",i(x),"%)"]})]})})};return e.jsx("div",{className:"w-full max-w-4xl mx-auto bg-white shadow-md rounded-lg overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Embudo de Conversión - Acortador de Enlaces"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Estadísticas de tráfico por plataforma"}),e.jsx("div",{className:"w-full h-[400px]",children:e.jsx(ia,{width:"100%",height:"100%",children:e.jsxs(na,{children:[e.jsx(la,{formatter:(r,c)=>[`${r} (${i(r)}%)`,c],contentStyle:{backgroundColor:"white",border:"1px solid #ccc",borderRadius:"4px",padding:"10px"}}),e.jsx(ca,{dataKey:"value",data:n,isAnimationActive:!0,activeIndex:s,onMouseEnter:(r,c)=>t(c),onMouseLeave:()=>t(-1),children:e.jsx(ra,{position:"right",content:o})})]})})})]})})}function Zs(){const[s,t]=a.useState(),n=se(),[i,o]=a.useState(!1),[r,c]=a.useState([]),[m,p]=a.useState(!1),[d,x]=a.useState({name:""}),{UserInfo:u}=a.useContext(K),l=Oe();a.useEffect(()=>{Me("/add")&&o(!0)},[l]);function h(){var f;let g=new FormData;g.append("id_company",(f=u==null?void 0:u.company)==null?void 0:f.id_company),t(!0),P.post(D+"/api/get/shortlinkcampaigns",g,{withCredentials:!0}).then(v=>v.data).then(v=>{t(!1),c(v)}).catch(v=>{t(!1)})}function j(){var f;const g=new FormData;p(!0),g.append("name",d.name),g.append("id_company",(f=u==null?void 0:u.company)==null?void 0:f.id_company),P.post(D+"/api/upload/shortlinkcampaign",g,{withCredentials:!0}).then(v=>v.data).then(v=>{p(!1),v.status&&(h(),o(!1))}).catch(v=>{p(!1)})}return a.useEffect(()=>{h()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(me,{visible:i,onClick:j,callback:o,maxWidth:"250px",Pending:m,next:"Agregar",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nueva campaña"}),e.jsx("span",{children:"Crea tu nueva campaña rapidamente para analizar tus multiples enlaces"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de campaña",name:"name",onChange:g=>{x({...d,name:g.target.value})}})})]},i),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Campañas"}),e.jsx("span",{children:"Aca puedes visualizar o crear campañas para enlaces multiples sobre una campaña"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:g=>{o(!0)},children:"Crear nueva campaña"})})]}),e.jsx("div",{className:"body-stats",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[r.map((g,f)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:g.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(de,{})}),e.jsx("button",{onClick:v=>{n("/shorturls/campaigns/"+g.id_campaign)},children:e.jsx($e,{})})]})]})),s?e.jsx(Se,{}):r.length==0?e.jsx(ge,{name:"campañas"}):""]})})})})]})}function Ri({data:s}){const[t,n]=a.useState(-1),i=r=>{const c=s[0].value;return Math.round(r/c*100)},o=r=>{const{x:c,y:m,width:p,height:d,value:x,index:u}=r,l=10,h=12,j=20,g=u===t;return e.jsx("g",{children:e.jsxs("text",{x:c+p+l*2,y:m+d/2,fill:"#000",fontSize:h,fontWeight:g?"bold":"normal",textAnchor:"start",dominantBaseline:"middle",children:[e.jsx("tspan",{x:c+p+l*2,dy:"-1em",children:s[u].name}),e.jsxs("tspan",{x:c+p+l*2,dy:j,children:[x," (",i(x),"%)"]})]})})};return e.jsx("div",{className:"w-full h-[400px]",children:e.jsx(ia,{width:"100%",height:"100%",children:e.jsxs(na,{children:[e.jsx(la,{formatter:(r,c)=>[`${r} (${i(r)}%)`,c],contentStyle:{backgroundColor:"white",border:"1px solid #ccc",borderRadius:"4px",padding:"10px"}}),e.jsx(ca,{dataKey:"value",data:s,isAnimationActive:!0,activeIndex:t,onMouseEnter:(r,c)=>n(c),onMouseLeave:()=>n(-1),children:e.jsx(ra,{position:"right",content:o})})]})})})}function Ai(){var S,E,N,F;const s=he(),[t,n]=a.useState(!1),[i,o]=a.useState(!1),{UserInfo:r}=a.useContext(K),[c,m]=a.useState(!0),[p,d]=a.useState(!1),[x,u]=a.useState({});let l={url:"",app:"others"};const[h,j]=a.useState(l),[g,f]=a.useState([]),[v,w]=a.useState({series:[{name:"Funnel Series",data:[]}],chart:{type:"bar",height:350},plotOptions:{bar:{borderRadius:0,horizontal:!0,distributed:!0,barHeight:"80%",isFunnel:!0}},dataLabels:{enabled:!0,formatter:function(C,T){return T.w.globals.labels[T.dataPointIndex]+":  "+C}},colors:["#F44F5E","#E55A89","#D863B1","#CA6CD8","#B57BED","#8D95EB","#62ACEA","#4BC3E6"],xaxis:{categories:[]},legend:{show:!0}});function q(C){C.stopPropagation(),j({...h,[C.target.name]:C.target.value})}const b=()=>{const C=["#8A2BE2","#4169E1","#00CED1","#3CB371","#9370DB","#1E90FF","#20B2AA","#32CD32"];return{all:C,random:()=>{const z=Math.floor(Math.random()*C.length);return C[z]}}};function y(){var T;let C=new FormData;m(!0),u({}),C.append("id_company",(T=r==null?void 0:r.company)==null?void 0:T.id_company),C.append("id_campaign",s.id),P.post(D+"/api/get/shortlinkcampaign",C,{withCredentials:!0}).then(z=>z.data).then(z=>{var B,H;m(!1),u(z);const ie=[];let oe=[],G=0;(B=z==null?void 0:z.stats)==null||B.forEach((Y,ce)=>{G=G+Y.count}),(H=z==null?void 0:z.stats)==null||H.forEach((Y,ce)=>{f(pe=>{let M=[...pe];return M.push({value:Number(Y.views),name:Mt(Y.app),fill:b().random()}),M})}),w(Y=>{const ce={...Y};return ce.series[0].data=ie,ce.xaxis.categories=oe,ce})}).catch(z=>{})}function _(){var T;o(!0);let C=new FormData;C.append("id_company",(T=r==null?void 0:r.company)==null?void 0:T.id_company),C.append("id_campaign",s==null?void 0:s.id),C.append("url",h.url),C.append("app",h.app),P.post(D+"/api/upload/shortlink",C,{withCredentials:!0}).then(z=>z.data).then(z=>{o(!1),z.status&&(n(!1),y()),z.msg&&A.error(z.msg)}).catch(z=>{o(!1)})}a.useEffect(()=>{p||(w(C=>{const T={...C};return T.series[0].data=[],T.xaxis.categories=[],T}),y())},[p]);function k(C){window.open(ts+"/"+C)}return e.jsxs(e.Fragment,{children:[e.jsxs(me,{next:"Agregar",visible:t,callback:n,onClick:_,Pending:i,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nuevo enlace"}),e.jsx("span",{children:"Agrega un nuevo enlace a tu campana"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"URL destino",onChange:q,name:"url"})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"app",id:"",onChange:q,children:[e.jsx("option",{value:"",children:"Selecciona la aplicacion"}),e.jsx("option",{value:"fb",children:"Facebook"}),e.jsx("option",{value:"in",children:"Instagram"}),e.jsx("option",{value:"x",children:"X (Twitter)"}),e.jsx("option",{value:"email",children:"Correo"}),e.jsx("option",{value:"sms",children:"Sms"}),e.jsx("option",{value:"tik",children:"Tiktok"}),e.jsx("option",{value:"linkd",children:"Linkedin"}),e.jsx("option",{value:"yt",children:"Youtube"}),e.jsx("option",{value:"tele",children:"Telegram"}),e.jsx("option",{value:"ws",children:"Whatsapp"}),e.jsx("option",{value:"others",children:"Otros"})]})})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Campaña de enlace: ",s.id]}),e.jsx("span",{children:"Agrega nuevos enlaces para tu campana general de urls"})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{onClick:Ye,className:"add",children:"Volver"}),e.jsx("button",{onClick:C=>{n(!0)},className:"add",children:"Agregar nuevo enlace"})]})]}),((S=x.links)==null?void 0:S.length)==0&&e.jsx(e.Fragment,{children:e.jsx(ge,{callback:()=>{n(!0)},name:"Enlaces",addNew:!0,buttonName:"Mi Primer Tracking"})}),((E=x.links)==null?void 0:E.length)>=1&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[x.links.length>=3?e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Clicks este mes"}),e.jsx("span",{children:"Aca podras evaluar los clicks hecho por el mes actual y anteriores."})]}),e.jsx(Ri,{data:g})]})}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"box",children:[e.jsx("br",{}),e.jsxs("div",{className:"nofound-items",children:[e.jsx("img",{src:"   https://cdn-icons-png.flaticon.com/512/7574/7574854.png ",alt:""}),e.jsx("p",{children:"Para ver el embudo de conversion necesitas al menos 3 enlaces!"}),e.jsx("br",{})]}),"                                "]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[(N=x==null?void 0:x.links)==null?void 0:N.map((C,T)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_link.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:C.real_link}),e.jsx("span",{className:"desc",children:ts+"/"+C.token}),e.jsx("br",{}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"title",children:"App"}),e.jsx("span",{children:e.jsx("img",{className:"icon-app",src:Lt(C.app),alt:""})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"title",children:"Visitas"}),e.jsx("span",{children:C.views})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx($e,{})}),e.jsx("button",{onClick:z=>{k(C.token)},children:e.jsx(re,{icon:"streamline:web"})})]})]},T)),c?e.jsx(Se,{}):((F=x==null?void 0:x.links)!=null&&F.length,"")]})})]})})})]})}function Sa({Visible:s,Close:t,loadQrs:n=()=>{},callbackUrl:i=(o,r)=>{}}){const{UserInfo:o}=a.useContext(K);a.useRef(null);const[r,c]=a.useState(0),[m,p]=a.useState([qe()]),[d,x]=a.useState({type:""});a.useState({});const[u,l]=a.useState(!1),h=qe(),j=new Cs({width:600,height:600,margin:0,qrOptions:{typeNumber:"0",mode:"Byte",errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,margin:10},dotsOptions:{type:"dots",color:"#000000"},backgroundOptions:{color:"#ffffff",gradient:null},image:"/img/icons/logo_color_1.png",dotsOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#6a1a4c",color2:"#6a1a4c",rotation:"0"}},cornersSquareOptions:{type:"extra-rounded",color:"#000000"},cornersSquareOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},cornersDotOptions:{type:"dot",color:"#000000"},cornersDotOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},backgroundOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#ffffff",color2:"#ffffff",rotation:"0"}}});function g(S){let E=S.target.files;E[0]&&(E[0].type.indexOf("/pdf")>=0||E[0].type.indexOf("imag")>=0?x({...d,file:E[0]}):(A.error("El archivo no es una imagen / pdf"),S.target.value=""))}let f={url:""};const[v,w]=a.useState(f);se();function q(S){S.stopPropagation(),S.preventDefault();let E=O(S.target);E.parents(".options").find(".active").removeClass("active"),E.addClass("active");let N=E.attr("value");x(F=>({...F,type:N}))}async function b(){return new Promise((S,E)=>{var F;let N=new FormData;N.append("id_company",(F=o==null?void 0:o.company)==null?void 0:F.id_company),N.append("file",d.file),P.post(D+"/api/upload/fileqr",N,{withCredentials:!0}).then(C=>C.data).then(C=>{S(C)}).catch(()=>{E({})}).finally(()=>{})})}async function y(S){let E=!1;if(O(S.target),(r===0&&d.type=="qr-stand"||d.type=="qr-contact"||d.type=="qr-file")&&(E=!0),r===1){const N=document.querySelector(".qr-result");d.type=="qr-contact"?j.update({data:`BEGIN:VCARD
VERSION:3.0
`+(v.lname?"N:"+v.lname+";"+(v.fname||"")+`;;;
`:"")+(v.fname?"FN:"+v.fname+" "+(v.lname||"")+`
`:"")+(v.company?"ORG:"+v.company+`;
`:"")+(v.jobtitle?"TITLE:"+v.jobtitle+`
`:"")+(v.number?"TEL;type=CELL:"+v.number+`
`:"")+(v.officenum?"TEL;type=WORK:"+v.officenum+`
`:"")+(v.email?"EMAIL;type=INTERNET;type=WORK;type=pref:"+v.email+`
`:"")+(v.web?"URL:"+v.web+`
`:"")+(v.address1?"ADR;TYPE=work:;;"+v.address1+";"+(v.address2||"")+";"+(v.city||"")+";"+(v.province||"")+";"+(v.country||"")+";"+(v.pcode||"")+`
`:"")+"REV:"+new Date+`
END:VCARD`}):(d.type=="qr-stand"&&j.update({data:v.url}),d.type=="qr-file"&&(l(!0),await b().then(F=>{j.update({data:F.download})}).catch(F=>{A.error("Opps error al subir archivo")}).finally(()=>{l(!1)}))),N.innerHTML="",j.append(N),await j.getRawData().then(F=>{let C=new FileReader;C.onload=function(T){const z=T.target.result;x({...d,base64:z})},C.readAsDataURL(F)}),E=!0}if(r===2)if(v.name){let N=new FormData;l(!0),d.type=="qr-stand"?await new Promise((F,C)=>{var T;N.append("url",v.url),N.append("id_company",(T=o==null?void 0:o.company)==null?void 0:T.id_company),P.post(D+"/api/upload/shortlink",N,{withCredentials:!0}).then(z=>z.data).then(z=>{j.update({data:z.shortlink}),j.getRawData().then(ie=>{let oe=new FileReader;oe.onload=function(G){const B=G.target.result;_(B,z.id_shortlink,v.url)},oe.readAsDataURL(ie)})})}):_(d.base64)}else E=!1,A.error("Opps no has elegido un nombre para tu qr");E&&c(N=>N+1)}function _(S,E=void 0,N){var C;let F=new FormData;F.append("formqr",JSON.stringify(v)),F.append("id_company",(C=o==null?void 0:o.company)==null?void 0:C.id_company),F.append("type",d.type),F.append("preview",S),F.append("dataQr",N),E&&F.append("id_concat",E),P.post(D+"/api/upload/qr",F,{withCredentials:!0}).then(T=>T.data).then(T=>{if(T.status){try{n(),i(v.name,T.img)}catch{}A.success("Has subido tu qr con exito")}t(!1),l(!1)}).catch(T=>{l(!1)})}function k(S){let E=S.target.name,N=S.target.value;w(F=>({...F,[E]:N}))}return a.useEffect(()=>{O(`#modal-${h} .case.active`).removeClass("active"),O(`#modal-${h} .case`).eq(r).addClass("active")},[r]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,id:`modal-${h}`,children:[e.jsxs("div",{className:"top-actions",children:[r>0?e.jsxs("button",{className:"return",onClick:S=>{c(E=>E-1)},children:[e.jsx(Qe,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:S=>{t(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case active",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear un nuevo QR individual"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de qr que quieres crear"})]}),e.jsxs("div",{className:"options ",id:`options-${m[0]}`,children:[e.jsxs("div",{className:"selector",style:{marginBottom:"10px"},onClick:q,value:"qr-stand",children:[e.jsx("div",{className:"check",children:e.jsx(be,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"QR Estandar"}),e.jsx("span",{children:"Qr Estandar es un qr basico donde podras almacenar enlaces de tus webs"})]})]}),e.jsxs("div",{className:"selector",style:{marginBottom:"10px"},onClick:q,value:"qr-contact",children:[e.jsx("div",{className:"check",children:e.jsx(be,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"QR Contacto"}),e.jsx("span",{children:"Qr Contacto, este es un qr donde podras escanearlo y almacenar un contacto con informacion importante"})]})]}),e.jsxs("div",{className:"selector",style:{marginBottom:"10px"},onClick:q,value:"qr-file",children:[e.jsx("div",{className:"check",children:e.jsx(be,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"QR Archivo"}),e.jsx("span",{children:"Qr Archivo, este es un qr donde podras guardar un archivo de tu preferencia"})]})]})]})]}),d.type=="qr-stand"&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Enlace del qr"}),e.jsx("input",{type:"url",name:"url",onChange:k,placeholder:"Enlace"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre del qr"}),e.jsx("input",{type:"text",onChange:k,name:"name",placeholder:"Nombre para tu QR"})]})]})]})}),d.type=="qr-file"&&e.jsx("div",{className:"case",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Qr archivo"}),e.jsx("span",{className:"desc",children:"Sube tu archivo de tu preferencia para crear tu qr y luego utilizarlo en la nube"}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"file",onChange:g})}),e.jsx("br",{})]})}),d.type=="qr-contact"&&e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personaliza tu QR"}),e.jsx("span",{className:"desc",children:"Este es un QR de contacto para generar tu tarjeta de presentacion, puedes personalizarlo con tu informacion necesaria."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre del QR"}),e.jsx("input",{type:"text",onChange:k,name:"name",placeholder:"Nombre para tu QR"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre"}),e.jsx("input",{type:"text",name:"fname",onChange:k,placeholder:"ej: Roberto"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Apellido"}),e.jsx("input",{type:"text",name:"lname",onChange:k,placeholder:"ej: Martinez"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Empresa"}),e.jsx("input",{type:"text",name:"company",onChange:k,placeholder:"ej: Cocacola"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Cargo"}),e.jsx("input",{type:"text",name:"jobtitle",onChange:k,placeholder:"ej: Director"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Celular"}),e.jsx("input",{type:"text",name:"number",onChange:k,placeholder:"ej: +58412000000"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Numero de Oficina"}),e.jsx("input",{type:"text",name:"officenum",onChange:k,placeholder:"ej: (12)"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo Electronico"}),e.jsx("input",{type:"text",name:"email",onChange:k,placeholder:"ej: example@example.com"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Pagina Web"}),e.jsx("input",{type:"text",name:"web",onChange:k,placeholder:"ej: www.example.com"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Direccion"}),e.jsx("input",{type:"text",name:"address1",onChange:k,placeholder:"ej: Chicago, ST "})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Direccion del Trabajo"}),e.jsx("input",{type:"text",name:"address2",onChange:k,placeholder:"ej: Chicago ST, Down Ryder "})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Ciudad"}),e.jsx("input",{type:"text",name:"city",onChange:k,placeholder:"ej: Chicago"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Estado"}),e.jsx("input",{type:"text",name:"province",onChange:k,placeholder:"ej: Chicago"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Pais"}),e.jsx("input",{type:"text",name:"country",onChange:k,placeholder:"ej: Estados Unidos"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Codigo postal"}),e.jsx("input",{type:"text",name:"pcode",onChange:k,placeholder:"ej: (15306)"})]})})]})})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Previsualiza tu QR "}),e.jsx("span",{className:"desc",children:"Este es el QR que has creado, dale click para subirlo."})]}),e.jsx("div",{className:"qr-result",children:e.jsx("canvas",{})})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:`next ${u?"await":" "}`,onClick:y,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function Oi({Close:s,callback:t}){const[n,i]=a.useState(!1),[o,r]=a.useState(null),[c,m]=a.useState(null);a.useEffect(()=>(setTimeout(()=>{i(!0)},2e3),()=>{o&&o.getTracks().forEach(d=>d.stop())}),[]);const p=()=>{if(c&&o instanceof MediaStream){const d=o.getVideoTracks()[0],x=document.createElement("video");x.srcObject=new MediaStream([d]),x.onloadedmetadata=()=>{c.getContext("2d").drawImage(x,0,0,c.width,c.height);const l=c.toDataURL("image/jpeg");t&&t(l)},x.play().catch(u=>console.error("Error reproduciendo video: ",u))}};return e.jsx(e.Fragment,{children:n&&e.jsxs("div",{className:"camera",children:[e.jsx("video",{style:{width:"100%",height:"auto"},ref:d=>{d&&!o&&navigator.mediaDevices.getUserMedia({video:!0}).then(x=>{d.srcObject=x,r(x)}).catch(x=>console.error("Error al acceder a la cámara: ",x))},autoPlay:!0,playsInline:!0}),e.jsx("canvas",{ref:d=>{d&&m(d)},style:{display:"none"},width:640,height:480}),e.jsx("button",{className:"capture",onClick:p})]})})}function _a({Visible:s,Close:t,Return:n=!0}){const{UserInfo:i}=a.useContext(K);a.useRef(null);const[o,r]=a.useState(0);a.useState([qe()]);const[c,m]=a.useState({type:""}),[p,d]=a.useState(!1),[x,u]=a.useState(!1);se();async function l(v){var w;if(O(v.target),c.name&&c.image){d(!0);let q=new FormData;q.append("preview",c.image),q.append("id_company",(w=i==null?void 0:i.company)==null?void 0:w.id_company),q.append("type","qr-stand"),q.append("formqr",JSON.stringify(c)),P.post(D+"/api/upload/qr",q,{withCredentials:!0}).then(b=>b.data).then(b=>{d(!1),b.status&&(t(!1),A.success("Se ha subido tu qr correctamente")),b.msg&&A.error(b.msg)}).catch(b=>{d(!1)})}else A.error("Opps hay algo imcompleto")}function h(v){let w=v.target.name,q=v.target.value;m(b=>({...b,[w]:q}))}function j(){O("#file").click()}function g(v){let w=v.target.files,q=O(v.target);if(w.length){let b=new FileReader;b.onload=function(y){if(w[0].type.indexOf("image")>=0){let _=new Image;_.src=y.target.result,_.onload=function(){_.width<=6e3&&_.height<=6e3?m({...c,image:_.src}):A.error(`Opps maximo 600x600 tu imagen es de ${_.width}x${_.height}`)}}else q.val(""),A.error("Opps solo aceptamos imagenes")},b.readAsDataURL(w[0])}}a.useEffect(()=>{O("#wizard2").find(".case").eq(0).addClass("active")},[]);function f(v){m({...c,image:v})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,id:"wizard2",children:[e.jsxs("div",{className:"top-actions",children:[o>0?e.jsxs("button",{className:"return",onClick:v=>{r(w=>w-1)},children:[e.jsx(Qe,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:v=>{t(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case ",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Importar QR"}),e.jsx("span",{className:"desc",children:"Guarda la imagen del QR de tu preferencia y subela a la botonera"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre para tu QR"}),e.jsx("input",{type:"text",onChange:h,name:"name",placeholder:"Nombre para tu QR"})]}),e.jsxs("div",{className:"upload-qr",children:[c.image==null?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"upload",onClick:j,children:[e.jsx(L,{icon:"basil:upload-outline"}),e.jsx("p",{className:"upload-desc",children:"Has click aca para buscar tu archivo"})]}),x?e.jsx(Oi,{callback:f,Close:u}):"",e.jsx("br",{}),e.jsx("span",{style:{fontSize:"14px",opacity:"0.8"},children:"Cuando le das activar camara toma la foto al QR de tu preferencia, luego dale click en la opcacion Subir Imagen, busca el QR y agregalo a tu botonera."}),e.jsxs("button",{className:"open-cam",onClick:v=>{u(!0)},children:[e.jsx(L,{icon:"ph:camera"})," Activar Camara"]})]}):e.jsx("div",{className:"preview",children:e.jsx("img",{src:c.image,alt:""})}),e.jsx("input",{type:"file",id:"file",onChange:g,hidden:!0})]})]})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:`next ${p?"await":" "}`,onClick:l,children:["Subir imagen ",e.jsx("div",{className:"loading"})]})})]})]})})}function us(){const[s,t]=a.useState(!1),[n,i]=a.useState(!1),[o,r]=a.useState(!1),[c,m]=a.useState([{},{}]),{UserInfo:p}=a.useContext(K),[d,x]=a.useState(!1),[u,l]=a.useState(),h=Oe(),j=se(),[g,f]=a.useState(!1);a.useEffect(()=>{Me("/add")&&t(!0),Me("/import")&&i(!0)},[h]);function v(){var y;let b=new FormData;b.append("id_company",(y=p==null?void 0:p.company)==null?void 0:y.id_company),P.post(D+"/api/get/qrs",b,{withCredentials:!0}).then(_=>_.data).then(_=>{m(_)})}function w(b){let y=O(b.target),_=y.parents(".item").find("img")[0].src;y.parents(".item").find(".title").text();let k=document.createElement("a");k.href=_,k.download="",k.rel="noopener noreferrer",k.target="_blank",document.querySelector("#root").appendChild(k),k.click(),document.querySelector("#root").removeChild(k)}a.useEffect(()=>{v()},[]);function q(){var y;f(!0);let b=new FormData;b.append("id_company",(y=p==null?void 0:p.company)==null?void 0:y.id_company),b.append("id_qr",u),P.post(D+"/api/delete/qr",b,{withCredentials:!0}).then(_=>_.data).then(_=>{_.status&&(x(!1),A.success("Has borrado el qr con exito"),m(k=>k.filter(E=>E.id_qr!==u)))}).finally(()=>{f(!1)})}return e.jsxs(e.Fragment,{children:[e.jsx(Fe,{visible:d,callback:x,Pending:g,onClick:q}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"QR"}),e.jsx("span",{children:"Crea qr personalizados con enlaces para tus webs o qr de contacto"})]}),e.jsx(Sa,{Visible:s,Close:t,setModalView:t,loadQrs:v},s?"x1":"x2"),e.jsx(_a,{Visible:n,Close:i,setModalView:i,loadQrs:v},n?"x":"a"),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"add",onClick:b=>{t(!0)},children:" Crear nuevo QR"}),e.jsxs("button",{className:"go-wizard",onClick:b=>{i(!0)},children:[e.jsx(Pe,{})," Importar QR"]})]})]}),e.jsxs("div",{className:"box box-padding",children:[c.map((b,y)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:ds(b.qr_preview),alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:b.title}),e.jsxs("span",{className:"desc",children:["Creado el: ",ue(b.time_add)]})]})]}),e.jsx("div",{className:"info",children:e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:"Tipo de QR"}),e.jsx("span",{className:"desc",children:b.type_qr})]})}),e.jsxs("div",{className:"actions",children:[b!=null&&b.id_concat?e.jsx("button",{onClick:_=>{j("/shorturls/"+b.id_concat)},children:e.jsx(L,{icon:"ion:stats-chart-outline"})}):"",e.jsx("button",{onClick:w,children:e.jsx(rt,{})}),e.jsx("button",{onClick:_=>{l(b.id_qr),x(!0)},children:e.jsx(de,{})})]})]})),o?e.jsx(Se,{}):c.length==0?e.jsx("div",{className:"item",children:e.jsx(ge,{name:"Qrs"})}):""]})]})}function $i({setButtons:s}){function t(n){let i=n.target.value;n.target.name=="background"&&i.indexOf("http")>=0&&(i=`url(${i})`),s(r=>{let c={...r};return c.header[n.target.name]=i,c})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar botonera"}),e.jsx("span",{children:"Personaliza tu botonera, cambiando imagenes, fondo, texto, botones, enlaces."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",defaultValue:"#fff",onChange:t,name:"background"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",onChange:t,defaultValue:0,step:"0.1",max:"10",name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",onChange:t,defaultValue:1,step:"0.1",max:"1",name:"brightness"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border radius"}),e.jsx("input",{type:"range",onChange:t,defaultValue:1,step:"0.1",max:"50",name:"radius"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{name:"colorBox",onClick:t,value:"ligth",children:"Modo Claro"}),e.jsx("button",{name:"colorBox",onClick:t,value:"dark",children:"Modo Oscuro"})]})]})]})}function zi({buttons:s,setButtons:t,editor:n,setEditor:i}){var y,_,k,S,E,N,F,C,T,z,ie,oe;const[o,r]=a.useState(!1),[c,m]=a.useState(!1),[p,d]=a.useState(!1),[x,u]=a.useState(void 0),{UserInfo:l}=a.useContext(K),h=he();function j(){t(G=>({...G,buttons:G.buttons.concat({})}))}function g(G){G.preventDefault(),G.stopPropagation();let B=O(G.target);switch(O(".page.buttonsbody .active").removeClass("active"),B.addClass("active"),B.attr("type")){case"buttons":var H=B.attr("id");i({type:"button",key:H});break;case"rs":var H=B.attr("id");i({type:"rs",key:H});break;default:i({type:B.attr("type")});break}return!1}function f(G){t(B=>{const H={...B};return H.buttons=H.buttons.filter((Y,ce)=>ce!==G),i({type:"",key:""}),H})}function v(){let G=document.querySelector("#select-rs").value,B=document.querySelector("#input-rs").value;(s==null?void 0:s.rs.length)<=3?t(H=>{const Y=[...H.rs];return Y.push({type:G,url:B}),{...H,rs:Y}}):A.error("Opps ya has agregado muchas redes sociales")}async function w(){var G,B,H;if(((B=(G=s.header)==null?void 0:G.titlegl)==null?void 0:B.length)>=1){d(!0);let Y=new FormData;Y.append("json",JSON.stringify(s)),x==null?Y.append("title",s.header.titlegl):Y.append("id_buttons",x),Y.append("id_company",(H=l==null?void 0:l.company)==null?void 0:H.id_company);let ce=await bs(document.querySelector(".page .center"),{allowTaint:!1,useCORS:!0}).then(pe=>pe.toDataURL());Y.append("preview",ce),P.post(D+"/api/upload/buttons",Y,{withCredentials:!0}).then(pe=>pe.data).then(pe=>{d(!1),pe.id_buttons&&u(pe.id_buttons),pe.msg&&A.error(pe.msg)}).catch(pe=>{d(!1)})}else m(!0),A.error("Opps no puedes avanzar si tu plantilla no posee un titulo")}function q(G){let B=G.target.value;t(H=>{let Y={...H};return Y.header.titlegl=B,Y})}function b(){s.header.titlegl&&(m(!1),A.success("El titulo se aplico con exito"))}return a.useEffect(()=>{var G;if(h.id){let B=new FormData;B.append("id_buttons",h.id),B.append("id_company",(G=l==null?void 0:l.company)==null?void 0:G.id_company),P.post(D+"/api/get/editbuttons",B,{withCredentials:!0}).then(H=>H.data).then(H=>{H.id_buttons&&(t(JSON.parse(H.json)),u(H.id_buttons))})}},[]),e.jsxs(e.Fragment,{children:[e.jsxs(me,{visible:c,close:m,callback:m,onClick:b,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("span",{children:"Elige un titulo general para esta plantilla"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Titulo general"}),e.jsx("input",{onChange:q,type:"text",placeholder:"ej: plantilla 1"})]})]}),e.jsx(me,{visible:o,callback:r,onClick:v,children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Redes Sociales"}),e.jsx("span",{children:"Selecciona que red social quieres agregar"}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("input",{type:"url",placeholder:"Enlace (URL)",id:"input-rs"}),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("select",{name:"",id:"select-rs",children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"Seleccionar"}),e.jsx("option",{value:"fb",children:"Facebook"}),e.jsx("option",{value:"x",children:"X (Twitter)"}),e.jsx("option",{value:"in",children:"Instagram"}),e.jsx("option",{value:"link",children:"Linkedin"}),e.jsx("option",{value:"disc",children:"Discord"}),e.jsx("option",{value:"tik",children:"TikTok"}),e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"spot",children:"Spotify"}),e.jsx("option",{value:"tele",children:"Telegram"}),e.jsx("option",{value:"ws",children:"Whatsapp"})]}),e.jsx("br",{})]})]})}),e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{children:[e.jsx(Ae,{})," Previsualizar"]}),e.jsxs("button",{className:p?"await":"",onClick:w,children:[e.jsx(as,{})," Guardar ",e.jsx("div",{className:"loading"})]})]})}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(y=s==null?void 0:s.header)==null?void 0:y.blur}px)brightness(${(_=s==null?void 0:s.header)==null?void 0:_.brightness})`,background:(k=s==null?void 0:s.header)==null?void 0:k.background2}}),e.jsxs("div",{className:`${"page buttonsbody "+((S=s==null?void 0:s.header)==null?void 0:S.colorBox)}`,children:[e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",onClick:g,type:"logo",src:(E=s==null?void 0:s.header)!=null&&E.logo?(N=s==null?void 0:s.header)==null?void 0:N.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{onClick:g,type:"title",children:(F=s==null?void 0:s.header)!=null&&F.title?(C=s==null?void 0:s.header)==null?void 0:C.title:"Agregar titulo"}),e.jsx("span",{onClick:g,type:"desc",children:(T=s==null?void 0:s.header)!=null&&T.desc?(z=s==null?void 0:s.header)==null?void 0:z.desc:"Agregar Descripcion"})]}),e.jsx("div",{className:"buttons",children:(ie=s==null?void 0:s.buttons)==null?void 0:ie.map((G,B)=>{var H;return e.jsxs("div",{children:[e.jsx("div",{className:"edit-active",children:e.jsx("button",{onClick:Y=>{f(B)},children:e.jsx(de,{})})}),e.jsxs("a",{onClick:g,style:{borderRadius:((H=s==null?void 0:s.header)==null?void 0:H.radius)+"px"},type:"buttons",id:B,href:G.url,children:[" ",G!=null&&G.name?G==null?void 0:G.name:"Elegir nombre..."]},B)]},B)})}),e.jsx("div",{className:"rs",children:(oe=s==null?void 0:s.rs)==null?void 0:oe.map((G,B)=>e.jsx("div",{className:"r",children:e.jsxs("a",{href:"",onClick:g,id:B,type:"rs",children:[G.type=="in"?e.jsx(oa,{}):"",G.type=="tik"?e.jsx(da,{}):"",G.type=="disc"?e.jsx(ma,{}):"",G.type=="spot"?e.jsx(pa,{}):"",G.type=="tele"?e.jsx(ha,{}):"",G.type=="ws"?e.jsx(xa,{}):"",G.type=="email"?e.jsx(ua,{}):"",G.type=="fb"?e.jsx(ja,{}):"",G.type=="x"?e.jsx(ga,{}):"",G.type=="link"?e.jsx(va,{}):""]})},B))}),e.jsxs("div",{className:"add-new",onClick:j,children:[e.jsx(Ke,{})," Agregar Boton"]}),e.jsx("br",{}),e.jsxs("div",{className:"add-new",onClick:G=>{r(!0)},children:[e.jsx(Ke,{})," Agregar Red Social"]})]})]})}function Bi({editor:s,buttons:t,setButtons:n,setEditor:i}){var c;function o(m){let p=m.target.value;n(d=>{let x={...d};return x.rs[s.key].url=p,x})}function r(m){n(p=>{const d={...p};return d.rs=d.rs.filter((x,u)=>u!==Number(s.key)),i({type:"",key:""}),d})}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enlace"}),e.jsx("input",{id:"title-edit",onChange:o,type:"text",value:(c=t==null?void 0:t.rs[s.key])==null?void 0:c.url,placeholder:"https://image.com/jfop2.jpg"})]})}),e.jsx("div",{children:e.jsx("button",{className:"delete",onClick:r,children:"Eliminar"})})]})}function Vi({editor:s,buttons:t,setButtons:n}){function i(o){const{name:r,value:c}=o.target;n(m=>{let p={...m};return p.buttons[s.key][r]=c,p})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nombre de boton"}),e.jsx("input",{onChange:i,value:t.buttons[s.key].name?t.buttons[s.key].name:"",name:"name",id:"title-edit",type:"text",placeholder:"Ej: Mi tienda virtual"})]}),e.jsx("br",{}),e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enlace"}),e.jsx("input",{onChange:i,value:t.buttons[s.key].url?t.buttons[s.key].url:"",name:"url",id:"title-edit",type:"text",placeholder:"https://example.com"})]})]})})}function Qi({setButtons:s,buttons:t}){var i;function n(o){s(r=>{let c={...r};return c.header.desc=o.target.value,c})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descripcion"}),e.jsx("input",{onChange:n,id:"title-edit",type:"text",placeholder:"Ej: Mis redes sociales",value:(i=t==null?void 0:t.header)==null?void 0:i.desc})]})})})}function Wi({setButtons:s,buttons:t}){function n(i){let o=i.target.value;s(r=>{let c={...r};return c.header.logo=o,c})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Logo"}),e.jsx("input",{onChange:n,id:"title-edit",type:"text",placeholder:"https://image.com/jfop2.jpg"})]})})})}function Hi({setButtons:s,buttons:t}){var i;function n(o){s(r=>{let c={...r};return c.header.title=o.target.value,c})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("input",{onChange:n,id:"title-edit",type:"text",placeholder:"Ej: Mis redes sociales",value:(i=t==null?void 0:t.header)==null?void 0:i.title})]})})})}function Gi({editor:s,buttons:t,setButtons:n,setEditor:i}){return e.jsxs(e.Fragment,{children:[s.type=="button"?e.jsx(Vi,{editor:s,buttons:t,setButtons:n}):"",s.type=="title"?e.jsx(Hi,{editor:s,buttons:t,setButtons:n}):"",s.type=="desc"?e.jsx(Qi,{editor:s,buttons:t,setButtons:n}):"",s.type=="logo"?e.jsx(Wi,{editor:s,buttons:t,setButtons:n}):"",s.type=="rs"?e.jsx(Bi,{editor:s,buttons:t,setButtons:n,setEditor:i}):""]})}function Us(){var o;a.useState(!0);const[s,t]=a.useState({header:{title:"",desc:"",img:"",background:""},buttons:[],rs:[]}),[n,i]=a.useState({});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"editor-surveys",children:e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:"left",children:e.jsx($i,{editor:n,setButtons:t,buttons:s})}),e.jsx("div",{className:"center",style:{background:(o=s==null?void 0:s.header)==null?void 0:o.background},children:e.jsx(zi,{editor:n,setEditor:i,buttons:s,setButtons:t})}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"type-editor",children:e.jsx(Gi,{editor:n,buttons:s,setButtons:t,setEditor:i})})})]})})})}function Ea({Visible:s,CallbackVisible:t,value:n}){const i=se();let o={facebook:"https://www.facebook.com/sharer.php?u="+(n||window.location.href),whatsapp:"https://api.whatsapp.com/send/?text=Mira esta nueva botonera de enlace "+(n||window.location.href),linkedin:"https://www.linkedin.com/sharing/share-offsite/?url="+(n||window.location.href),messenger:"https://www.messenger.com/new",instagram:"https://instagram.com/share",tiktok:"",x:"https://x.com/intent/tweet?text=Entra ahora con este link compartido "+(n||window.location.href),email:"mailto:?subject= Check out this Radarsystems! &body= Mira esta nueva botonera de enlace "+(n||window.location.href)};function r(c){let m=c.target.dataset.type,p=o[m];window.open(p,"_blank")}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"modal-share",style:{display:`${s?"flex":"none"}`},children:e.jsx("div",{className:"body",children:e.jsxs("div",{className:"bk",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Compartir desde Radarsystems"}),e.jsx("button",{onClick:c=>{t(!1)},className:"closed",children:e.jsx(L,{icon:"carbon:close-large"})})]}),e.jsxs("div",{className:"buttons",children:[e.jsxs("button",{onClick:r,"data-type":"facebook",children:[e.jsx("i",{className:"left",children:e.jsx(L,{icon:"logos:facebook"})})," Compartir en Facebook ",e.jsx("i",{className:"right",children:e.jsx(L,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:r,"data-type":"linkedin",children:[e.jsx("i",{className:"left",children:e.jsx(L,{icon:"logos:linkedin-icon"})})," Compartir en Linkedln ",e.jsx("i",{className:"right",children:e.jsx(L,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:r,"data-type":"whatsapp",children:[e.jsx("i",{className:"left",children:e.jsx(L,{icon:"logos:whatsapp-icon"})})," Compartir en Whatsapp ",e.jsx("i",{className:"right",children:e.jsx(L,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:r,"data-type":"messenger",children:[e.jsx("i",{className:"left",children:e.jsx(L,{icon:"logos:messenger"})})," Compartir en Messenger ",e.jsx("i",{className:"right",children:e.jsx(L,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:r,"data-type":"instagram",children:[e.jsx("i",{className:"left",children:e.jsx(L,{icon:"skill-icons:instagram"})})," Compartir en Instagram ",e.jsx("i",{className:"right",children:e.jsx(L,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:r,"data-type":"x",children:[e.jsx("i",{className:"left",children:e.jsx(L,{icon:"devicon:twitter"})})," Compartir en X ",e.jsx("i",{className:"right",children:e.jsx(L,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:r,"data-type":"email",children:[e.jsx("i",{className:"left",children:e.jsx(L,{icon:"logos:mailgun-icon"})})," Compartir en Correo Electronico ",e.jsx("i",{className:"right",children:e.jsx(L,{icon:"uiw:right"})})]})]}),e.jsx("div",{className:"url",children:e.jsx("span",{children:n??window.location.href})}),e.jsxs("div",{className:"register",children:[e.jsx("p",{children:"Crear tu cuenta en rar.bio"}),e.jsx("span",{children:"Comparte tu enlace con mas de 6 Billons de personas"}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:c=>{i("/register")},children:"Crear cuenta"}),e.jsx("button",{onClick:c=>{i("/auth")},children:"Inicia sesión"})]})]})]})})})})}function Ii(){var d,x,u,l,h,j,g,f,v,w,q,b,y;const[s,t]=a.useState({}),[n,i]=a.useState(!1),[o,r]=a.useState(!0),c=he();function m(){let _=new FormData;_.append("token",c.id),P.post(D+"/api/get/buttons",_).then(k=>k.data).then(k=>{if(t(k),k){let S=new FormData;S.append("type_stat","visit"),S.append("type","buttons"),S.append("token",c.id),P.post(D+"/api/get/capturestatsbuttons",S)}})}a.useEffect(()=>{m()},[]);function p(_){_.preventDefault(),_.stopPropagation();let k=_.target.href;if(o){r(!1);let S=new FormData;S.append("type","buttons"),S.append("type_stat","click"),S.append("data",k),S.append("token",c.id),P.post(D+"/api/get/capturestatsbuttons",S).then(E=>E.data).then(E=>{r(!0),window.open(k)}).catch(E=>{r(!0)})}}return e.jsxs(e.Fragment,{children:[e.jsx(Ea,{Visible:n,CallbackVisible:i}),e.jsx("div",{className:"editor-surveys btnactive prod-buttons",children:e.jsx("div",{className:"rows",children:e.jsxs("div",{className:"center",style:{background:(d=s==null?void 0:s.header)==null?void 0:d.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(x=s==null?void 0:s.header)==null?void 0:x.blur}px)brightness(${(u=s==null?void 0:s.header)==null?void 0:u.brightness})`,background:(l=s==null?void 0:s.header)==null?void 0:l.background2}}),e.jsxs("div",{className:`${"page buttonsbody "+((h=s==null?void 0:s.header)==null?void 0:h.colorBox)}`,children:[e.jsx("div",{className:"share-now",children:e.jsx("button",{onClick:_=>{i(!0)},children:e.jsx(ot,{})})}),e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",type:"logo",src:(j=s==null?void 0:s.header)!=null&&j.logo?(g=s==null?void 0:s.header)==null?void 0:g.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{type:"title",children:(f=s==null?void 0:s.header)!=null&&f.title?(v=s==null?void 0:s.header)==null?void 0:v.title:""}),e.jsx("span",{type:"desc",children:(w=s==null?void 0:s.header)!=null&&w.desc?(q=s==null?void 0:s.header)==null?void 0:q.desc:""})]}),e.jsx("div",{className:"buttons",children:(b=s==null?void 0:s.buttons)==null?void 0:b.map((_,k)=>{var S;return e.jsx("div",{children:e.jsxs("a",{onClick:p,style:{borderRadius:((S=s==null?void 0:s.header)==null?void 0:S.radius)+"px"},type:"buttons",id:k,href:_.url,children:[" ",_!=null&&_.name?_==null?void 0:_.name:"Elegir nombre..."]},k)},k)})}),e.jsx("div",{className:"rs",children:(y=s==null?void 0:s.rs)==null?void 0:y.map((_,k)=>e.jsx("div",{className:"r",children:e.jsxs("a",{href:"",id:k,type:"rs",children:[_.type=="in"?e.jsx(oa,{}):"",_.type=="tik"?e.jsx(da,{}):"",_.type=="disc"?e.jsx(ma,{}):"",_.type=="spot"?e.jsx(pa,{}):"",_.type=="tele"?e.jsx(ha,{}):"",_.type=="ws"?e.jsx(xa,{}):"",_.type=="email"?e.jsx(ua,{}):"",_.type=="fb"?e.jsx(ja,{}):"",_.type=="x"?e.jsx(ga,{}):"",_.type=="link"?e.jsx(va,{}):""]})},k))}),e.jsxs("div",{className:"footer",children:[e.jsx("br",{}),e.jsx("hr",{}),e.jsx("p",{children:"Powered by RadarSystems. ​​​​​​​Copyright © 1998 - 2022 Todos los derechos reservados."})]})]})]})})})]})}function ea({onClick:s}){let t=[{color:"#000"},{color:"#fff"},{color:"#FFDDC1"},{color:"#FFA07A"},{color:"#FFB6C1"},{color:"#87CEEB"},{color:"#B0C4DE"},{color:"#ADD8E6"},{color:"#FFE4E1"},{color:"#F0FFF0"},{color:"#F5F5DC"},{color:"#F0E68C"},{color:"#E0FFFF"},{color:"#FAFAD2"},{color:"#FFEBCD"},{color:"#E6E6FA"},{color:"#F08080"},{color:"#FF6347"},{color:"#FFD700"},{color:"#FFA500"},{color:"#FF4500"},{color:"#E9967A"},{color:"#CD5C5C"},{color:"#FF8C00"},{color:"#FF69B4"},{color:"#FF1493"},{color:"#DB7093"},{color:"#800000"},{color:"#A52A2A"},{color:"#D2691E"},{color:"#8B4513"},{color:"#8B0000"},{color:"#800080"}];return e.jsx(e.Fragment,{children:e.jsx("div",{className:"colorPicker-basic",children:t.map((n,i)=>e.jsx("div",{className:"color",style:{background:n.color},"data-value":n.color,onClick:o=>{s(o.target.dataset.value)}}))})})}function Ji({setButtons:s,Visible:t,VisibleMenu:n}){const[i,o]=a.useState({}),[r,c]=a.useState(!1),[m,p]=a.useState(!1),[d,x]=a.useState(),{UserInfo:u}=a.useContext(K);function l(q){let b=q.target.value,y=q.target.name;(y=="background"||y=="backgroundHeader")&&b.indexOf("http")>=0&&(b=`url(${b})`),s(_=>{let k={..._};return k.header[q.target.name]=b,k})}function h(q){s(b=>{let y={...b};return y.header.background=q,y})}function j(q){s(b=>{let y={...b};return y.header.backgroundHeader=q,y})}function g(){document.querySelector("input[name='file-wallpaper']").click()}function f(q){let b=q.target.files[0];Pt(b)&&o(b)}function v(){o({}),document.querySelector("input[name='file-wallpaper']").value=""}function w(){var q;if(i!=null&&i.name){p(!0);let b=new FormData;b.append("id_company",(q=u==null?void 0:u.company)==null?void 0:q.id_company),b.append("file",i),P.post(D+"/api/upload/fileqr",b,{withCredentials:!0}).then(y=>y.data).then(y=>{y.download&&s(_=>{let k={..._};return d=="background"&&(k.header.background=`url(${y.download})`),d=="backgroundHeader"&&(k.header.backgroundHeader=`url(${y.download})`),k}),c(!1),p(!1)}).catch(y=>{p(!1)})}else le.error("Opps no has seleccionado ningun archivo")}return a.useEffect(()=>{document.querySelector("input[name='background']").value="a"},[]),e.jsxs(e.Fragment,{children:[e.jsxs(me,{visible:r,callback:c,onClick:w,Pending:m,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Subir imagen"}),e.jsx("span",{children:"sube tu imagen que no sea mayor a 5MB"})]}),e.jsx("input",{type:"file",onChange:f,name:"file-wallpaper",accept:".png,.jpg,.jpeg",hidden:!0}),e.jsx("div",{className:"select-file",children:i.name?e.jsxs("div",{className:"file",children:[e.jsx("div",{className:"right",children:e.jsx("button",{onClick:v,children:e.jsx(de,{})})}),e.jsx("div",{className:"preview",children:e.jsxs("div",{className:"fi",children:[e.jsx("div",{className:"icon",children:e.jsx($e,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:i==null?void 0:i.name}),e.jsx("span",{children:i==null?void 0:i.type})]})]})})]}):e.jsxs("div",{className:"drop-file",onClick:g,children:[e.jsx("i",{children:e.jsx(Pe,{})}),e.jsx("span",{className:"desc",children:"Has click aca para buscar tu archivo"})]})})]}),e.jsx("img",{src:"/img/icons/logo_color_1.png",alt:"",hidden:!0}),e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar botonera"}),e.jsx("span",{children:"Personaliza tu botonera, cambiando imagenes, fondo, texto, botones, enlaces."}),e.jsx("button",{className:"close mb",onClick:n,children:e.jsx(L,{icon:"teenyicons:x-outline"})})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",defaultValue:"#fff",onChange:l,name:"background"}),e.jsxs("button",{onClick:q=>{c(!0),x("background")},className:"action-complete",children:[e.jsx(L,{icon:"material-symbols:upload-rounded"})," Elegir Imagen"]}),e.jsx("hr",{}),e.jsx("p",{className:"title",children:"Colores"}),e.jsx(ea,{onClick:h}),e.jsx("br",{})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el header"}),e.jsx("input",{type:"text",defaultValue:"#fff",onChange:l,name:"backgroundHeader"}),e.jsxs("button",{onClick:q=>{c(!0),x("backgroundHeader")},className:"action-complete",children:[e.jsx(L,{icon:"material-symbols:upload-rounded"})," Elegir Imagen"]}),e.jsx("hr",{}),e.jsx("p",{className:"title",children:"Colores"}),e.jsx(ea,{onClick:j}),e.jsx("br",{})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{name:"theme",onClick:l,value:"ligth",children:"Modo Claro"}),e.jsx("button",{name:"theme",onClick:l,value:"dark",children:"Modo Oscuro"})]})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",onChange:l,defaultValue:0,step:"0.1",max:"10",name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",onChange:l,defaultValue:1,step:"0.1",max:"1",name:"brightness"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border radius"}),e.jsx("input",{type:"range",onChange:l,defaultValue:1,step:"0.1",max:"50",name:"radius"})]})]})}function Xi({VisibleMenu:s,getMyQrs:t,addNewQr:n,setVisibleQr:i,boxType:o,editor:r,buttons:c,setButtons:m}){const[p,d]=a.useState(!1);a.useState(!1);const[x,u]=a.useState(!1),[l,h]=a.useState(!1),[j,g]=a.useState({});a.useState({});const[f,v]=a.useState(),[w,q]=a.useState(""),[b,y]=a.useState({ssid:"",password:"",encrypt:""}),[_,k]=a.useState({rs:!1,modalFile:!1}),[S,E]=a.useState(),{UserInfo:N}=a.useContext(K),F=a.useRef(null),C={instagram:"https://www.instagram.com/",twitter:"https://x.com/",facebook:"https://facebook.com/",tiktok:"https://tiktok.com/",whatsapp:"https://api.whatsapp.com/send/?phone=",websiteurl:""};function T(M,J){if(O(M.target).css("opacity")!=="0.5")switch(v(J),J){case"qrs":t(),i(!0);break;case"vcard":i(!0),t("qr-contact");break;case"vcard-add":document.querySelector(".head-top .right button").click(),setTimeout(()=>{document.querySelectorAll(".wizard-home.open .case.active .selector")[1].click()},20),setTimeout(()=>{O(document.querySelector(".wizard-home.open .next")).click()},20);break;case"instagram":case"facebook":case"tiktok":case"twitter":case"whatsapp":case"websiteurl":h(!0);break;case"wifi":u(!0);break;case"pdf":case"img":d(!0);break}else le.error("Este boton no esta habilitado para este apartado.")}const z=new Cs({width:600,height:600,margin:0,qrOptions:{typeNumber:"0",mode:"Byte",errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,margin:10},dotsOptions:{type:"dots",color:"#000000"},backgroundOptions:{color:"#ffffff",gradient:null},image:"/img/icons/logo_color_1.png",dotsOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#6a1a4c",color2:"#6a1a4c",rotation:"0"}},cornersSquareOptions:{type:"extra-rounded",color:"#000000"},cornersSquareOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},cornersDotOptions:{type:"dot",color:"#000000"},cornersDotOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},backgroundOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#ffffff",color2:"#ffffff",rotation:"0"}}});function ie(){O("input[name='file']").click()}function oe(M){let J=M.target.files;J[0]&&(J[0].type.indexOf("/pdf")>=0||J[0].type.indexOf("imag")>=0?g(J[0]):le.error("El archivo no es una imagen / pdf"))}function G(M){g({}),O("input[name='file']").val("")}function B(M,J){k({...J,[M]:J})}async function H(M){var I;let J=!1;if(l&&w&&(J=!0),x&&b.encrypt&&b.password.length&&b.ssid&&(J=!0),p&&M&&(J=!0),J){B("rs",!0),z.append(F.current);let te=new FormData,je=M;te.append("url",M),te.append("id_company",(I=N==null?void 0:N.company)==null?void 0:I.id_company),x?(z.update({data:M}),z.getRawData().then(fe=>{let ye=new FileReader;ye.onload=function(Te){Y(Te.target.result,Number(M.id_shortlink),M)},ye.readAsDataURL(fe)})):P.post(D+"/api/upload/shortlink",te,{withCredentials:!0}).then(fe=>fe.data).then(fe=>{z.update({data:fe.shortlink}),z.getRawData().then(ye=>{let Te=new FileReader;Te.onload=function(Ze){Y(Ze.target.result,Number(fe.id_shortlink),je)},Te.readAsDataURL(ye)})}).catch(fe=>{le.error(String(fe))}).finally(()=>{B("rs",!1)})}}function Y(M,J=null,I){var fe;let te=new FormData;J&&te.append("id_concat",J);let je=`${f+"-"+(new Date/1e3).toFixed()}`;switch(te.append("preview",M),te.append("dataQr",I),te.append("id_company",(fe=N==null?void 0:N.company)==null?void 0:fe.id_company),S==null?te.append("formqr",JSON.stringify({name:je})):(je=S,te.append("formqr",JSON.stringify({name:S}))),console.log(f),f){case"facebook":case"instagram":case"x":case"twitter":case"linkedin":case"whatsapp":te.append("type","qr-rs");break;case"pdf":case"img":te.append("type","qr-file");break;case"wifi":te.append("type","qr-wifi");break}P.post(D+"/api/upload/qr",te,{withCredentials:!0}).then(ye=>ye.data).then(ye=>{if(B("rs",!1),ye.status){s(!1),h(!1);try{n(je,ye.img),le.success("QR agregado con exito"),d(!1),u(!1),h(!1)}catch(Te){le.error(String(Te))}}else le.error(`${ye.msg}`);E(null)}).catch(ye=>{E(null),B("rs",!1)})}a.useEffect(()=>{l||q("")},[l]);function ce(M){let J=M.target.name,I=M.target.value;y({...b,[J]:I})}async function pe(){var J;B("modalFile",!0);let M=new FormData;M.append("file",j),M.append("id_company",(J=N==null?void 0:N.company)==null?void 0:J.id_company),P.post(D+"/api/upload/fileqr",M,{withCredentials:!0}).then(I=>I.data).then(async I=>{I.status&&(le.success("Se ha subido tu archivo correctamente, se esta procesando el QR"),await H(I.download),B("modalFile",!1),d(!1))}).catch(I=>{B("modalFile",!1)})}return a.useEffect(()=>{p||g([])},[p]),e.jsxs(e.Fragment,{children:[e.jsxs(me,{visible:x,onClick:M=>{H(`WIFI:T:${b.encrypt};S:${b.ssid};P:${b.password};;`)},callback:u,maxWidth:400,Pending:_==null?void 0:_.rs,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Red WiFi"}),e.jsx("span",{children:"Agrega tu red Wi-Fi favorita e integra el código QR dentro de tu botonera"})]}),e.jsxs("div",{className:"data",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"ssid",children:"Nombre QR"}),e.jsx("input",{type:"text",onChange:M=>{E(M.target.value)},name:"user",placeholder:f=="websiteurl"?"https://mysiteweb.com":"Nombre del QR"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"ssid",children:"SSID"}),e.jsx("input",{type:"text",onChange:ce,name:"ssid",placeholder:"Nombre de red"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"password",children:"Contraseña"}),e.jsx("input",{type:"text",onChange:ce,name:"password",placeholder:"Contraseña de red"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"encryption",children:"Selecciona el cifrado"}),e.jsxs("select",{name:"encrypt",id:"encryption",onChange:ce,children:[e.jsx("option",{value:"WPA",children:"WPA"}),e.jsx("option",{value:"WPA2",children:"WPA2"}),e.jsx("option",{value:"WEP",children:"WEP"}),e.jsx("option",{value:"nopass",children:"Sin cifrado"})]})]})]})]},x?"x23":"x24"),e.jsxs(me,{visible:l,callback:h,Pending:_.rs,maxWidth:450,next:"Crear",onClick:()=>{H(f=="tiktok"?C[f]+"@"+w:C[f]+w)},children:[f=="websiteurl"?e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Web"}),e.jsx("span",{children:"Agrega la url de tu sitio web"})]}):e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Red social"}),e.jsx("span",{children:"Agrega tu red social favorita y integra el QR dentro de tu botonera"})]}),e.jsxs("div",{className:"data",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",onChange:M=>{E(M.target.value)},name:"user",placeholder:"Nombre del QR"})}),e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{htmlFor:"",children:[C[f],w]}),e.jsx("input",{type:"text",onChange:M=>{q(M.target.value)},name:"user",placeholder:f=="websiteurl"?"https://mysiteweb.com":"@usuario"})]})]})]},l?"12":"13"),e.jsxs(me,{visible:p,Pending:_==null?void 0:_.modalFile,callback:d,next:"Subir",onClick:pe,children:[e.jsx("input",{type:"file",name:"file",onChange:oe,hidden:!0}),e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Subir archivo"}),e.jsx("span",{children:"Sube tu imagen o pdf que no sea mayor a 5 MB"})]}),e.jsxs("div",{className:"select-file",children:[e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",onChange:M=>{E(M.target.value)},name:"user",placeholder:f=="websiteurl"?"https://mysiteweb.com":"Nombre del QR"})}),j.name?e.jsxs("div",{className:"file",children:[e.jsx("div",{className:"right",children:e.jsx("button",{onClick:G,children:e.jsx(de,{})})}),e.jsx("div",{className:"preview",children:e.jsxs("div",{className:"fi",children:[e.jsx("div",{className:"icon",children:e.jsx($e,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:j==null?void 0:j.name}),e.jsx("span",{children:j==null?void 0:j.type})]})]})})]}):e.jsxs("div",{className:"drop-file",onClick:ie,children:[e.jsx("i",{children:e.jsx(Pe,{})}),e.jsx("span",{className:"desc",children:"Has click aca para buscar tu archivo"})]})]})]},p?"14sd":"15asdas"),e.jsxs("div",{className:`buttons-services ${o}`,children:[e.jsx("div",{className:"qr-result-2",ref:F,hidden:!0}),e.jsxs("div",{className:"top-title",children:[e.jsx("p",{children:"Mis QR"}),e.jsx("button",{className:"close mb",onClick:M=>{s(!1)},children:e.jsx(L,{icon:"teenyicons:x-outline"})})]}),e.jsxs("div",{className:"button",type:"all",onClick:M=>{T(M,"qrs")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps.svg",alt:""})}),e.jsx("p",{children:"Mis QRS Favoritos"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"top-title",children:[e.jsx("p",{children:"1. Servicios QR"}),e.jsx("button",{className:"close mb",onClick:M=>{s(!1)},children:e.jsx(L,{icon:"teenyicons:x-outline"})})]}),e.jsxs("div",{className:"button",onClick:M=>{T(M,"vcard-add")},type:"vcard",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/vCard.svg",alt:""})}),e.jsx("p",{children:"Crear Tarjeta De Presentacion QR"}),e.jsx("span",{children:"Comparte "})]}),e.jsxs("div",{className:"button",onClick:M=>{T(M,"vcard")},type:"vcard",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/vCard.svg",alt:""})}),e.jsx("p",{children:"Mis Tarjeta De Presentacion QR"}),e.jsx("span",{children:"Comparte "})]}),e.jsxs("div",{className:"submenu",children:[e.jsx("p",{children:"Social Media"}),e.jsx("i",{children:e.jsx($s,{})})]}),e.jsx("br",{}),e.jsxs("div",{className:"button",onClick:M=>{T(M,"whatsapp")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/whatsapp-icon.svg",alt:""})}),e.jsx("p",{children:"Crear Whatsapp"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:M=>{T(M,"instagram")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/instagram.svg",alt:""})}),e.jsx("p",{children:"Crear Instagram"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:M=>{T(M,"facebook")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/facebook.svg",alt:""})}),e.jsx("p",{children:"Crear Facebook"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:M=>{T(M,"twitter")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/twitter.svg",alt:""})}),e.jsx("p",{children:"Crear X"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:M=>{T(M,"tiktok")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/tiktok.svg",alt:""})}),e.jsx("p",{children:"Crear Tiktok"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:M=>{T(M,"websiteurl")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/website.png",alt:""})}),e.jsx("p",{children:"Crear Website URL"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsx("br",{}),e.jsxs("div",{className:"submenu",children:[e.jsx("p",{children:"Crear Otros QR's"}),e.jsx("i",{children:e.jsx($s,{})})]}),e.jsx("br",{}),e.jsxs("div",{className:"button",onClick:M=>{T(M,"pdf")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/pdf.svg",alt:""})}),e.jsx("p",{children:"Subir PDF"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:M=>{T(M,"img")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/images.svg",alt:""})}),e.jsx("p",{children:"Subir Imagenes"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:M=>{T(M,"wifi")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/wifi.svg",alt:""})}),e.jsx("p",{children:"Crear Acceso WIFI"}),e.jsx("span",{children:"Link to a website of your choice"})]})]})]})}function Ki({addNewQr:s,setMyQrs:t,VisibleMenu:n,type:i,visibleQr:o,setVisibleQr:r,buttons:c,setBoxType:m,setButtons:p,editor:d,setEditor:x}){var ns,He,Ue,es,ls,Je,cs,rs;const[u,l]=a.useState(!1),[h,j]=a.useState(void 0),[g,f]=a.useState(),[v,w]=a.useState(!1),[q,b]=a.useState(!1),[y,_]=a.useState(!1),[k,S]=a.useState(!1);a.useState(!0);const[E,N]=a.useState(!1),[F,C]=a.useState(!1),[T,z]=a.useState({}),ie=he(),oe=se(),{UserInfo:G}=a.useContext(K);function B(ee){ee.preventDefault(),ee.stopPropagation();let Z=O(ee.target);switch(O(".page.buttonsbody .active").removeClass("active"),Z.addClass("active"),Z.attr("type")){case"addqr":var U=Z.attr("id");switch(x({type:"addqr",key:U}),U){case"0":m("vcard");break;case"1":m("rs");break;default:m("all");break}break;case"rs":var U=Z.attr("id");x({type:"rs",key:U});break;case"titlespace":x({type:"titlespace",key:Number(Z.attr("id"))});break;default:x({type:Z.attr("type")});break}return!1}function H(ee){ee.stopPropagation();let Z=!0;p(U=>{const ne={...U};return Z&&(Z=!1,ne.elements.push({qrs:[]})),ne})}function Y(ee,Z){p(U=>{const ne={...U};return ne.elements[ee]&&ne.elements[ee].qrs[Z]&&ne.elements[ee].qrs.splice(Z,1),ne})}async function ce(){var ee;if(c.header.titlegl.length>=1){w(!0);let Z=new FormData;Z.append("json",JSON.stringify(c)),h==null?Z.append("title",c.header.titlegl):Z.append("id_buttonsqr",h),Z.append("id_company",(ee=G==null?void 0:G.company)==null?void 0:ee.id_company);let U=[];Z.append("preview",U),P.post(D+"/api/upload/buttonsqr",Z,{withCredentials:!0}).then(ne=>ne.data).then(ne=>{w(!1),ne.id_buttonsqr&&(j(Number(ne.id_buttonsqr)),f(ne.token),ie.id||oe(`/editor/buttonsqr/${Number(ne.id_buttonsqr)}`)),ne.status&&A.success("Guardado con exito"),ne.msg&&A.error(ne.msg)}).catch(ne=>{w(!1)})}else l(!0),A.error("Opps no puedes avanzar si tu plantilla no posee un titulo")}function pe(ee){let Z=ee.target.value;p(U=>{let ne={...U};return ne.header.titlegl=Z,ne})}function M(){c.header.titlegl&&(l(!1),A.success("El titulo se aplico con exito"),ce())}function J(){var ee,Z,U;O("#title").val((ee=c==null?void 0:c.header)==null?void 0:ee.title),O("#desc").val((Z=c==null?void 0:c.header)==null?void 0:Z.desc),(U=c==null?void 0:c.elements)==null||U.forEach((ne,ze)=>{O("p[type='titlespace']").eq(ze).text(ne.title)})}a.useEffect(()=>{var ee;if(ie.id){let Z=new FormData;Z.append("id_buttonsqr",ie.id),Z.append("id_company",(ee=G==null?void 0:G.company)==null?void 0:ee.id_company),P.post(D+"/api/get/editbuttonsqr",Z,{withCredentials:!0}).then(U=>U.data).then(U=>{U.id_buttonsqr&&(p(JSON.parse(U.json)),j(U.id_buttonsqr),f(U.token))})}},[]),a.useEffect(()=>{var ee;F||(i==="company"&&h===void 0&&((ee=c.elements[0])==null?void 0:ee.title)==="Business Card"||i!=="company")&&c&&c.elements.length>0&&(J(),C(!0))},[h,i,c]);function I(ee){p(Z=>{let U={...Z};return U.header.title=ee.target.value,U})}function te(ee){p(Z=>{let U={...Z};return U.header.desc=ee.target.value,U})}function je(ee){p(Z=>{let U={...Z};return U.elements[d.key].title=ee.target.textContent,U})}function fe(ee){let Z=!0;p(U=>{let ne={...U};return Z&&(Z=!1,ne.elements.splice(ee,1)),ne})}function ye(){document.querySelector("input[name='photo']").click()}function Te(ee){let Z=ee.target.files[0];Z&&((Z==null?void 0:Z.type.indexOf("image"))>=0?z(Z):A.error("El archivo no es compatible"))}function Ze(){var ee;if(b(!0),T){let Z=new FormData;Z.append("id_company",(ee=G==null?void 0:G.company)==null?void 0:ee.id_company),Z.append("file",T),P.post(D+"/api/upload/fileqr",Z,{withCredentials:!0}).then(U=>U.data).then(U=>{b(!1),U.status&&(p(ne=>{let ze={...ne};return ze.header.logo=U.download,ze}),is(),N(!1),A.success("Nueva imagen!"))}).catch(U=>{b(!1)})}}function is(){z({}),document.querySelector("input[name='photo']").value=""}return a.useEffect(()=>{n()},[E,y]),e.jsxs(e.Fragment,{children:[e.jsxs(me,{visible:E,next:"Agregar",callback:N,onClick:Ze,Pending:q,children:[e.jsx("input",{type:"file",name:"photo",onChange:Te,hidden:!0}),e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Subir archivo"}),e.jsx("span",{children:"Sube tu imagen que no sea mayor a 5 MB"})]}),e.jsx("div",{className:"select-file",children:T.name?e.jsxs("div",{className:"file",children:[e.jsx("div",{className:"right",children:e.jsx("button",{onClick:is,children:e.jsx(de,{})})}),e.jsx("div",{className:"preview",children:e.jsxs("div",{className:"fi",children:[e.jsx("div",{className:"icon",children:e.jsx($e,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:T==null?void 0:T.name}),e.jsx("span",{children:T==null?void 0:T.type})]})]})})]}):e.jsxs("div",{className:"drop-file",onClick:ye,children:[e.jsx("i",{children:e.jsx(Pe,{})}),e.jsx("span",{className:"desc",children:"Has click aca para buscar tu archivo"})]})})]}),e.jsxs(me,{visible:u,close:l,callback:l,onClick:M,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("span",{children:"Elige un titulo general para esta plantilla"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Titulo general"}),e.jsx("input",{onChange:pe,type:"text",placeholder:"ej: plantilla 1"})]})]}),e.jsx(_a,{Visible:y,Close:_},y?"x12":"x23"),e.jsx(Sa,{callbackUrl:s,Visible:k,Close:S},k?"s14":"s15"),e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{onClick:ee=>{S(!0)},children:[e.jsx(Pe,{})," Crear QR"]}),e.jsxs("button",{onClick:ee=>{_(!0)},children:[e.jsx(Pe,{})," Importar QR"]}),e.jsxs("button",{onClick:ee=>{},children:[e.jsx(Ae,{})," Previsualizar"]}),g?e.jsxs("button",{onClick:ee=>{oe(`/buttonsqr/${g}?install=true`)},children:[e.jsx(L,{icon:"ic:round-install-mobile"})," Instalar"]}):"",e.jsxs("button",{className:v?"await":"",onClick:ce,children:[e.jsx(as,{})," Guardar ",e.jsx("div",{className:"loading"})]})]})}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(ns=c==null?void 0:c.header)==null?void 0:ns.blur}px)brightness(${(He=c==null?void 0:c.header)==null?void 0:He.brightness})`,WebkitBackdropFilter:`blur(${(Ue=c==null?void 0:c.header)==null?void 0:Ue.blur}px)`,background:(es=c==null?void 0:c.header)==null?void 0:es.background2}}),e.jsx("div",{className:"header",style:{background:(ls=c==null?void 0:c.header)==null?void 0:ls.backgroundHeader}}),e.jsx("div",{className:`${"page buttonsbody buttonsqr editmode "+((Je=c==null?void 0:c.header)==null?void 0:Je.theme)}`,children:e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",onClick:B,type:"logo",src:(cs=c==null?void 0:c.header)!=null&&cs.logo?(rs=c==null?void 0:c.header)==null?void 0:rs.logo:"/img/icons/default-img.jpg",alt:""}),e.jsxs("button",{className:"action",onClick:ee=>{N(!0)},children:[e.jsx(dt,{})," Agregar Imagen"]}),e.jsx("br",{}),e.jsx("input",{id:"title",onClick:B,onChange:I,suppressContentEditableWarning:!0,contentEditable:!0,placeholder:"Nombre"}),e.jsx("textarea",{placeholder:"Descripcion",id:"desc",onClick:B,onChange:te,suppressContentEditableWarning:!0,contentEditable:!0,type:"desc"}),e.jsx("br",{}),e.jsx("br",{}),c.elements.map((ee,Z)=>e.jsxs("div",{className:"boxqr",children:[e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"top-left",children:e.jsx("p",{id:Z,suppressContentEditableWarning:!0,contentEditable:!0,type:"titlespace",onInput:je,onClick:U=>{B(U)},children:"Escribe titulo..."})}),e.jsxs("div",{className:"top-right",children:[e.jsxs("button",{className:`${(d==null?void 0:d.key)==Z&&(d==null?void 0:d.type)=="addqr"?"select":""}`,id:Z,type:"addqr",onClick:U=>{B(U),n("right")},children:[e.jsx("i",{children:e.jsx(De,{})}),"  Seleccionar QR"]}),e.jsx("button",{id:Z,onClick:U=>{fe(Z)},children:"Eliminar"})]})]}),e.jsx(gs.Carousel,{showThumbs:!1,showStatus:!1,children:ee.qrs.map((U,ne)=>e.jsxs("div",{className:"qr",children:[e.jsx("button",{className:"delete",onClick:ze=>{Y(Z,ne)},children:e.jsx(de,{})}),e.jsx("img",{src:U.image}),e.jsx("p",{children:U.title}),e.jsx("br",{})]},ne))}),ee.qrs.length==0?e.jsx("div",{className:"add-qr",children:"+"}):""]},Z)),e.jsxs("div",{className:"add-new",onClick:H,children:[e.jsx(Ke,{})," Agregar Caja"]}),e.jsx("br",{}),e.jsxs("div",{className:"actions-bottom",children:[e.jsxs("button",{className:v?"await":"",onClick:ce,children:[e.jsx(Ke,{})," Guardar ",e.jsx("div",{className:"loading"})]}),e.jsx("br",{}),e.jsxs("button",{onClick:ee=>{oe(`/buttonsqr/${g}?install=true`)},children:[e.jsx(L,{icon:"ic:round-install-mobile"})," Instalar"]})]})]})})]})}function Yi({Visible:s,Close:t,Callback:n,setType:i,TypeSelect:o}){a.useContext(K);const[r,c]=a.useState(0),[m,p]=a.useState([qe()]),[d,x]=a.useState({type:"",name:""});se();function u(j){j.stopPropagation(),j.preventDefault();let g=O(j.target);g.parents(".options").find(".active").removeClass("active"),g.addClass("active");let f=g.attr("value");x(v=>({...v,type:f}))}function l(j){let g=!1;O(j.target),(r===0&&d.type=="company"||d.type=="personal")&&(g=!0),g&&d.type&&(i(d.type),n(!1))}function h(j){let g=j.target.name,f=j.target.value;x(v=>({...v,[g]:f}))}return a.useEffect(()=>{O(".case.active").removeClass("active"),O(".case").eq(r).addClass("active")},[r]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[r>0?e.jsxs("button",{className:"return",onClick:j=>{c(g=>g-1)},children:[e.jsx(Qe,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",o?e.jsx("button",{className:"closed",onClick:j=>{n(!1)},children:"X"}):""]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crea tu botonera QR"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de botonera QR que deseas crear"})]}),e.jsxs("div",{className:"options flex",id:`options-${m[0]}`,children:[e.jsxs("div",{className:"selector",onClick:u,value:"personal",children:[e.jsx("div",{className:"check",children:e.jsx(be,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Botonera Personal"}),e.jsx("span",{children:"Crea tu botonera y unifica toda tu presencia personal / online de manera sencilla, rápida y gratuita."})]})]}),e.jsxs("div",{className:"selector",onClick:u,value:"company",children:[e.jsx("div",{className:"check",children:e.jsx(be,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Botonera Empresarial"}),e.jsx("span",{children:"La botonera empresarial viene con una plantilla predeterminada, donde podras generar multiples QR's y donde puedes crear a tu estilo, fondos y colores."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar Lista"}),e.jsx("span",{className:"desc",children:"Asignale un nombre a tu nueva lista."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de lista"}),e.jsx("input",{type:"text",name:"name",onChange:h,placeholder:"Nombre"})]})})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:"next",onClick:l,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function sa(){var _;const[s,t]=a.useState({header:{titlegl:"",title:"",desc:"",img:"",background:"",theme:"ligth"},elements:[]}),[n,i]=a.useState({key:"",type:""}),o=he(),[r,c]=a.useState(void 0),[m,p]=a.useState(!1),[d,x]=a.useState(),[u,l]=a.useState(!1),[h,j]=a.useState([]),{UserInfo:g}=a.useContext(K),[f,v]=a.useState({left:!1,right:!1});a.useEffect(()=>{switch(r){case"personal":t({header:{titlegl:"",title:"",desc:"",img:"",background:""},elements:[]});break;case"company":t({header:{titlegl:"",title:"",desc:"",img:"",background:""},elements:[{title:"Business Card",qrs:[]},{title:"Redes Sociales",qrs:[]},{title:"Presentaciones",qrs:[]}]});break}},[r]);function w(k){let S={left:!1,right:!1};switch(k){case"left":S={...S,left:!0};break;case"right":S={...S,right:!0};break}v(S)}function q(k,S){let E=!0;l(!1),le.success("Qr agregado con exito"),t(N=>{const F={...N};if(E){E=!1;const C=[...F.elements[n.key].qrs,{image:S,title:k}];F.elements[n.key].qrs=C}return F})}function b(k){var E;let S=new FormData;S.append("id_company",(E=g==null?void 0:g.company)==null?void 0:E.id_company),k&&S.append("type",k),P.post(D+"/api/get/qrs",S,{withCredentials:!0}).then(N=>N.data).then(N=>{j(N)})}a.useEffect(()=>{b(),o.id||p(!0)},[]),a.useEffect(()=>{w()},[u]);function y(k){var N;k.preventDefault(),k.stopPropagation();let S=Number(k.target.dataset.idqr);j(F=>F.filter(T=>T.id_qr!==S)),le.success("Qr Eliminado");let E=new FormData;E.append("id_company",(N=g==null?void 0:g.company)==null?void 0:N.id_company),E.append("id_qr",S),P.post(D+"/api/delete/qr",E,{withCredentials:!0}).finally(()=>{})}return e.jsxs(e.Fragment,{children:[e.jsxs(me,{visible:u,maxWidth:"450px",callback:l,buttonSave:!1,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Galeria de Qr's"}),e.jsx("span",{children:"Tu galeria de qrs, donde podras seleccionar que qr quieres integrar"})]}),e.jsx("div",{className:"data row flex control-scroll-qrs",children:h.map((k,S)=>e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"qrs",onClick:E=>{q(k==null?void 0:k.title,ds(k.qr_preview))},image:ds(k.qr_preview),title:k.title,children:[e.jsx("img",{src:ds(k.qr_preview),alt:""}),e.jsx("p",{children:k.title}),e.jsx("button",{className:"delete",onClick:y,"data-idqr":k.id_qr,children:e.jsx(L,{icon:"ph:trash-bold"})})]})},S))})]}),e.jsx(Yi,{Visible:m,Callback:p,setType:c,TypeSelect:r}),e.jsxs("div",{className:"editor-surveys",children:[e.jsx("button",{className:"fixed-button-right mb",onClick:k=>{w("left")},children:e.jsx(L,{icon:"streamline:paint-palette"})}),e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:`left ${f.left==!0?"active":""}`,children:e.jsx(Ji,{VisibleMenu:w,Visible:f.left,editor:n,setEditor:i,buttons:s,setButtons:t})}),e.jsx("div",{className:"center ",style:{background:(_=s==null?void 0:s.header)==null?void 0:_.background},children:e.jsx(Ki,{setMyQrs:j,addNewQr:q,VisibleMenu:w,type:r,setVisibleQr:l,visibleQr:u,boxType:d,setBoxType:x,editor:n,setEditor:i,buttons:s,setButtons:t})}),e.jsx("div",{className:`right ${f.right==!0?"active":""}`,children:e.jsx("div",{className:"type-editor",children:e.jsx(Xi,{VisibleMenu:w,Visible:f.right,getMyQrs:b,addNewQr:q,setVisibleQr:l,visibleQr:u,boxType:d,setBoxType:x,editor:n,setEditor:i,buttons:s,setButtons:t})})})]})]})]})}function Zi(){const[s,t]=a.useState(0),n=se(),[i,o]=a.useState({user:null,existsAccount:null,code:null,intent:0}),[r,c]=a.useState(!1);function m(){let l=new FormData;l.append("user",i.user),i.user?(c(!0),P.post(D+"/api/recovery/existsuser",l).then(h=>h.data).then(async h=>{h.status?(await x(),c(!1),t(1),A.success("Tu codigo ha sido enviado al correo electronico")):(A.error("Opps no se ha conseguido este usuario"),c(!1))}).catch(h=>{A.error("Opps error al enviar la peticion."),c(!1)})):A.error("Has dejado el usuario vacido")}function p(){let l=new FormData;l.append("user",i==null?void 0:i.user),l.append("code",i==null?void 0:i.code),P.post(D+"/api/recovery/checkcode",l).then(h=>h.data).then(h=>{h.status?(t(2),A.success("Has ingresado el codigo correctamente")):(o({...i,intent:i.intent+1}),A.error("Error con tu codigo de seguridad"))})}function d(l){let h=l.target.name,j=l.target.value;o({...i,[h]:j})}async function x(){let l=new FormData;l.append("user",i==null?void 0:i.user),c(!0),P.post(D+"/api/recovery/requestcode",l).then(h=>h.data).then(h=>{c(!1),h.status?A.success("Codigo enviado correctamente."):A.error("Opps error al obtener un nuevo codigo, espera un momento...")}).catch(h=>{c(!1)})}function u(){let l=new FormData;l.append("user",i.user),l.append("password",i.password),l.append("password2",i.password2),l.append("code",i.code),i.password&&i.password2?i.password==i.password2?P.post(D+"/api/recovery/changepassword",l).then(h=>h.data).then(h=>{h.status?(A.success("Has cambiado la password correctamente"),n("/")):A.error("Opps error al cambiar la password")}):A.error("Las passwords no coiciden"):A.error("Has dejado campos vacios")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"recovery",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Recupera tu cuenta"}),e.jsx("span",{children:"Recupera tu cuenta con un correo o el nombre de usuario"})]}),e.jsx("br",{}),s==0?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Usuario / email"}),e.jsx("input",{type:"text",name:"user",onChange:d,placeholder:"guest@gmail.com"})]}),e.jsxs("button",{className:`go ${r?"await":""}`,onClick:m,children:["Buscar cuenta... ",e.jsx("div",{className:"loading"})]})]}):"",s==1?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{htmlFor:"",children:["Ingresa el codigo enviado a (",e.jsx("b",{children:i.user}),") "]}),e.jsx("input",{type:"password",name:"code",onChange:d,placeholder:"Codigo",style:{textAlign:"center"}})]}),i.intent?e.jsx(e.Fragment,{children:e.jsxs("button",{className:`transparent ${r?"await":""}`,onClick:x,children:["Pedir nuevo codigo ",e.jsx("div",{className:"loading"})]})}):"",e.jsxs("button",{className:`go ${r?"await":""}`,onClick:p,children:["Confirmar Codigo",e.jsx("div",{className:"loading"})]})]}):"",s==2?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Contraseña Nueva"}),e.jsx("input",{type:"password",name:"password",onChange:d,placeholder:"••••••••"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Repita contraseña nueva"}),e.jsx("input",{type:"password",name:"password2",onChange:d,placeholder:"••••••••"})]}),e.jsxs("button",{className:`go ${r?"await":""}`,onClick:u,children:["Actualizar Contraseña",e.jsx("div",{className:"loading"})]})]}):""]})})}function Ui(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top",children:[e.jsx("ul",{}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"form-search",children:e.jsx("input",{type:"text",placeholder:"Buscar usuario..."})})})]})})}function en(){const[s,t]=a.useState([]),{UserInfo:n}=a.useContext(K);function i(o,r){var m;let c=new FormData;c.append("id_company",(m=n==null?void 0:n.company)==null?void 0:m.id_company),P.post(D+"/api/get/contacts",c,{withCredentials:!0}).then(p=>p.data).then(p=>{t(p.result)})}return a.useEffect(()=>{i()},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Contactos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]})}),e.jsx(Ui,{}),e.jsx("div",{className:"box box-padding",children:e.jsx("table",{children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Email"}),e.jsx("td",{children:"Nombre"}),e.jsx("td",{children:"Apellido"}),e.jsx("td",{children:"Dni"}),e.jsx("td",{children:"Numero"}),e.jsx("td",{children:"Sexo"}),e.jsx("td",{children:"Email Verificado"}),e.jsx("td",{children:"Estatus"})]}),s.map((o,r)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("span",{children:o.email?o.email:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:o.name?o.name:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:o.lastname?o.lastname:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:o.dni?o.dni:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:o.phone?o.phone:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:o.sexo?o.name:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:o.email_verified?o.email_Verified:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:o.status?o.status:"No disponible"})})]}))]})})})]})}function sn(){var c;const s=a.useRef(null);let{UserInfo:t}=a.useContext(K);const[n,i]=a.useState(!1),o=se();a.useEffect(()=>{const m=mt.init({container:s.current,plugins:[pt,ht,xt,ut]});return m.Storage.destroy(),m.Panels.addButton("options",{id:"return",label:"Volver",command:async function(){o("/landings")}}),m.Panels.addButton("options",{id:"save-html-button",className:"save-html-button-class",label:"Guardar",command:async function(){const p=m.getHtml(),d=m.getCss(),x=await m.store("export").then(h=>JSON.stringify(h));let u=new FormData,l=O("input[name='name']").val();u.append("id_company",O("#id_company").val()),u.append("html",p),u.append("name",l),u.append("css",d),u.append("json",x),Number(O("#id_edit").val())>=1&&u.append("id",O("#id_edit").val()),l.length?P.post(D+"/api/upload/landing",u,{withCredentials:!0}).then(h=>h.data).then(h=>{h.status&&(A.success("Guardado con exito"),h.id_create&&O("#id_edit").val(h.id_create))}):(A.error("Opps no has elegido un titulo"),i(!0))}}),m.Panels.addButton("options",{id:"gallery",label:"Galeria",command:async function(){}}),()=>{m.destroy()}},[]);function r(){O("input[name='name']").val()?i(!1):A.error("Opps no has asignado un titulo")}return e.jsx(e.Fragment,{children:e.jsxs("body",{theme:"ligth",children:[e.jsxs(me,{visible:n,callback:i,close:i,onClick:r,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Elegir titulo"}),e.jsx("span",{children:"elige un titulo para esta plantilla"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{name:"name",type:"text",placeholder:"Titulo"})})]}),e.jsx("input",{type:"number",id:"id_edit",hidden:!0}),e.jsx("input",{type:"number",id:"id_company",value:(c=t==null?void 0:t.company)==null?void 0:c.id_company,hidden:!0}),e.jsx("div",{ref:s})]})})}function an(){const[s,t]=a.useState([]),{UserInfo:n}=a.useContext(K),[i,o]=a.useState(!0),r=se();function c(){var p;let m=new FormData;m.append("id_company",(p=n==null?void 0:n.company)==null?void 0:p.id_company),P.post(D+"/api/get/landings",m,{withCredentials:!0}).then(d=>d.data).then(d=>{t(d),o(!1)})}return a.useEffect(()=>{c()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Landings"}),e.jsx("span",{children:"Aqui veras todas tus landings creadas con anterioridad podras editarlas o eliminarlas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:m=>{r("/editor/landings")},children:"Crear nueva landing"})})]}),e.jsx("div",{className:"row",children:i==!1?s.map((m,p)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:"url(/img/icons/default-img.jpg)"},children:e.jsx("div",{className:"right-top",children:e.jsx("button",{onClick:d=>{r(`/landing/${m.token}`)},children:e.jsx(Ae,{})})})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:m==null?void 0:m.name}),e.jsxs("span",{children:["Encuesta agregada el: ",ue(m.time_add)]})]})]})},p)):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(Se,{})})})})]})}function tn(){const s=he();return a.useEffect(()=>{function t(){const n=new FormData;n.append("token",s.id),P.post(D+"/api/get/landing",n).then(i=>i.data).then(i=>{document.documentElement.innerHTML="",document.documentElement.innerHTML=i.html})}t()},[s.id]),null}function nn(){const s=se(),{UserInfo:t}=a.useContext(K),[n,i]=a.useState([]),[o,r]=a.useState({id_delete:null,pending:!1}),[c,m]=a.useState(!1);function p(){var x;let d=new FormData;d.append("id_company",(x=t==null?void 0:t.company)==null?void 0:x.id_company),P.post(D+"/api/get/buttons",d,{withCredentials:!0}).then(u=>u.data).then(u=>{i(u)})}return a.useEffect(()=>{p()},[]),e.jsxs(e.Fragment,{children:[e.jsx(Fe,{visible:c,callback:m,Pending:o.pending}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MIS BOTONERAS URL"}),e.jsx("span",{children:"Previsualiza, edita, elimina y visualiza las estadisticas de tus botoneras de URL."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:d=>{s("/editor/buttons")},children:"Crear nueva botonera"})})]}),e.jsx("div",{className:"row",children:n.map((d,x)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${D}/api/get/previewbuttons?hash=${d.preview}&w=buttons)`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{title:"Editar",onClick:u=>{s("/editor/buttons/"+d.id_buttons)},children:e.jsx(L,{icon:"carbon:edit"})}),e.jsx("button",{title:"Previsualizar",onClick:u=>{s(`/stats/buttons/${d.token}`)},children:e.jsx(L,{icon:"mingcute:eye-line"})}),e.jsx("button",{title:"Estadisticas",onClick:u=>{s(`/buttons/${d.token}`)},children:e.jsx(L,{icon:"ps:stats"})}),e.jsx("button",{title:"Eliminar",onClick:u=>{m(!0)},children:e.jsx(L,{icon:"ph:trash"})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:d==null?void 0:d.title}),e.jsxs("span",{children:["Botonera agregada el: ",ue(d.time_add)]})]})]})},x))})]})}function ln(){const s=se(),{UserInfo:t}=a.useContext(K),[n,i]=a.useState([]),[o,r]=a.useState(null),[c,m]=a.useState(!1),[p,d]=a.useState(!1),x=se(),[u,l]=a.useState(!1);function h(){var f;let g=new FormData;l(!0),g.append("id_company",(f=t==null?void 0:t.company)==null?void 0:f.id_company),P.post(D+"/api/get/buttonsqr",g,{withCredentials:!0}).then(v=>v.data).then(v=>{i(v),l(!1)}).catch(v=>{l(!1)})}function j(){var g;if(o){m(!0);let f=new FormData;f.append("id_company",(g=t==null?void 0:t.company)==null?void 0:g.id_company),f.append("id_buttonqr",o),P.post(D+"/api/delete/buttonsqr",f,{withCredentials:!0}).then(v=>v.data).then(v=>{v.status&&(d(!1),le.success("Se ha borrado con exito!"),h()),m(!1)}).catch(v=>{m(!1)})}}return a.useEffect(()=>{h()},[]),e.jsxs(e.Fragment,{children:[e.jsx(Fe,{visible:p,onClick:j,Pending:c,callback:d}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MIS BOTONERAS QR"}),e.jsx("span",{children:"Previsualiza, edita, elimina y visualiza las estadisticas de tus QR's."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:g=>{s("/editor/buttonsqr")},children:"Crear nueva botoneraQR"})})]}),e.jsx("div",{className:"loading-box",children:u?e.jsx(Se,{}):n.length==0?e.jsx(ge,{addNew:!0,name:"botoneras",callback:g=>{x("/editor/buttonsqr")}}):""}),e.jsx("div",{className:"row",children:n.map((g,f)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${D}/api/get/previewbuttons?hash=${g.preview}&w=buttonsqr)`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{title:"editar",onClick:v=>{x("/editor/buttonsqr/"+g.id_buttonsqr)},children:e.jsx(L,{icon:"carbon:edit"})}),e.jsx("button",{title:"previsualizar",onClick:v=>{x(`/buttonsqr/${g.token}`)},children:e.jsx(L,{icon:"mingcute:eye-line"})}),e.jsx("button",{title:"eliminar",onClick:v=>{d(!0),r(g.id_buttonsqr)},children:e.jsx(L,{icon:"ph:trash"})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:g==null?void 0:g.title}),e.jsxs("span",{children:["Botonera agregada el: ",ue(g.time_add)]})]})]})},f))})]})}function cn(){var l,h,j,g,f,v,w,q,b,y,_,k;let s=he();const[t,n]=a.useState(!1),[i,o]=a.useState({elements:[]}),[r,c]=a.useState(!1),[m,p]=a.useState(null),d=se();function x(){let S=new FormData;S.append("token",s.id),P.post(D+"/api/get/buttonsqr",S).then(E=>E.data).then(E=>{o(E)})}a.useEffect(()=>{x(),Na("install")=="true"&&n(!0)},[]);function u(S){let E=new FormData;S=new URL(S).searchParams.get("url"),E.append("img",S),P.post(D+"/api/get/dataqr",E,{withCredentials:!0}).then(F=>F.data).then(async F=>{if(F.length){let C=F[0];C.data_qr?At()=="Desktop"?(p(C.data_qr),c(!0)):await navigator.share({title:"Compartir",text:"test",url:C.data_qr}):le.error("Opps este QR no tiene datos para compartir.")}else le.error("Opps error al localizar el qr")})}return a.useEffect(()=>{r||p(null)},[r]),e.jsxs(e.Fragment,{children:[e.jsx(Ea,{Visible:r,CallbackVisible:c,value:m}),t?e.jsxs(me,{visible:!0,maxWidth:250,next:"Listo",onClick:S=>{n(!1),d("/buttonsqr/"+s.id)},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Instalar"}),e.jsx("span",{children:"instalar acceso directo rapidamente en iphone."}),e.jsx("br",{}),e.jsx("br",{})]}),e.jsx("div",{className:"img-tuto-buttonsqr",children:e.jsxs(gs.Carousel,{showThumbs:!1,children:[e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone1.png",alt:""}),e.jsx("span",{children:"Preciona el boton de compartir en la parte de abajo"})]}),e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone2.png",alt:""}),e.jsx("span",{children:"Luego ve al final con el scroll"})]}),e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone3.png",alt:""}),e.jsx("span",{children:"Agrega a inicio"})]}),e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone4.png",alt:""}),e.jsx("span",{children:"Ahora configura y guarda"})]}),e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone5.png",alt:""}),e.jsx("span",{children:"Listo ya tienes tu acceso directo."})]})]})})]}):"",e.jsx("div",{className:"editor-surveys prodbuttonsqr",children:e.jsxs("div",{className:"center",style:{background:(l=i==null?void 0:i.header)==null?void 0:l.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(h=i==null?void 0:i.header)==null?void 0:h.blur}px)brightness(${(j=i==null?void 0:i.header)==null?void 0:j.brightness})`,background:(g=i==null?void 0:i.header)==null?void 0:g.background2}}),e.jsx("div",{className:"header",style:{background:(f=i==null?void 0:i.header)==null?void 0:f.backgroundHeader}}),e.jsx("div",{className:`${"page buttonsbody buttonsqr "+((v=i==null?void 0:i.header)==null?void 0:v.theme)}`,children:e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",type:"logo",src:(w=i==null?void 0:i.header)!=null&&w.logo?(q=i==null?void 0:i.header)==null?void 0:q.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{type:"title",children:(b=i==null?void 0:i.header)!=null&&b.title?(y=i==null?void 0:i.header)==null?void 0:y.title:""}),e.jsx("span",{type:"desc",children:(_=i==null?void 0:i.header)!=null&&_.desc?(k=i==null?void 0:i.header)==null?void 0:k.desc:""}),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("div",{className:"share",children:[e.jsx("button",{onClick:S=>{d("/")},children:"Home"}),e.jsx("button",{onClick:S=>{c(!0)},children:"Recomendar"}),e.jsx("button",{className:"update",onClick:S=>{window.location.href=window.location.href},children:"Actualizar"})]}),i.elements.map((S,E)=>{var N;return e.jsx(e.Fragment,{children:(N=S==null?void 0:S.qrs)!=null&&N.length?e.jsxs("div",{className:"boxqr",children:[e.jsx("div",{className:"top",children:e.jsx("div",{className:"top-left",children:e.jsx("p",{id:E,type:"titlespace",children:S.title?S.title:""})})}),e.jsx(gs.Carousel,{showThumbs:!1,showIndicators:!1,showStatus:!1,children:S.qrs.map((F,C)=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"qr",children:[e.jsx("p",{style:{textTransform:"uppercase",fontSize:"13px"},children:F.title}),e.jsx("img",{src:F.image})]}),e.jsxs("div",{className:"buttons-qrs",children:[e.jsx("button",{onClick:T=>{u(F.image)},children:"Compartir"}),e.jsx("button",{className:"info",onClick:T=>{alert("Si dejas presionada el QR podras habilitar funciones especiales de tu sistema operativo")},children:e.jsx(L,{icon:"carbon:information-filled"})})]})]}))})]}):""})})]})})]})})]})}function rn(){const s=he();a.useState();const{UserInfo:t}=a.useContext(K);function n(){var o;let i=new FormData;i.append("token",s.id),i.append("id_company",(o=t==null?void 0:t.company)==null?void 0:o.id_company),P.post(D+"/api/get/statbuttons",i,{withCredentials:!0})}return a.useEffect(()=>{n()},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Botonera: ",s.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu encuesta"})]})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Estadisticas de enlaces"})}),e.jsx("div",{className:"result countryr"})]})}),e.jsx("div",{className:"col-md-6",children:"lorem"})]})]})}function on(){var x,u;const s=he(),[t,n]=a.useState(!1),i=se(),{UserInfo:o}=a.useContext(K),[r,c]=a.useState({total_clicks:0,total_errors:0,total_reads:0,total_sends:0,last_sends:[],last_errors:[]}),[m,p]=a.useState({series:[{name:"Enviados",data:[]},{name:"Clicks",data:[]},{name:"Leidos",data:[]},{name:"Errores",data:[]}],chart:{height:350,type:"line"},dataLabels:{enabled:!1},stroke:{curve:"straight"},xaxis:{categories:[]},tooltip:{x:{format:"dd/MM/yy HH:mm"}}});function d(){var l;if(t){let h=new FormData;h.append("id_company",(l=o==null?void 0:o.company)==null?void 0:l.id_company),h.append("id_campaign",s.id),h.append("case","campaign"),P.post(D+"/api/get/stats",h,{withCredentials:!0}).then(j=>j.data).then(j=>{let g=j.daysResponse.length;c({...r,total_sends:j.total_sends,total_reads:j.total_reads,total_errors:j.total_errors,total_clicks:j.total_clicks,last_sends:j.last_sends,last_errors:j.last_errors,type_campaign:j.type_campaign}),g&&p(f=>({...f,series:[{...f.series[0],data:f.series[0].data.concat(j.daysResponse.map(v=>v.send))},{...f.series[1],data:f.series[1].data.concat(j.daysResponse.map(v=>v.clicks))},{...f.series[2],data:f.series[2].data.concat(j.daysResponse.map(v=>v.reads))},{...f.series[3],data:f.series[3].data.concat(j.daysResponse.map(v=>v.errors))}],xaxis:{...f.xaxis,categories:j.daysTotal}}))}).catch(j=>{})}}return a.useEffect(()=>{n(!0),t&&d()},[t]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Estadisticas de campaña: ",s==null?void 0:s.id]}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:l=>{i("/campaigns/detail/"+s.id)},children:e.jsx(We,{})})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Enviados"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:Number(r.total_sends)})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Devueltos"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:Number(r.total_errors)})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Recibidos"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:Number(r.total_sends)-Number(r.total_errors)})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Leidos"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:Number(r.total_clicks)})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"No Leidos "})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:Number(r.total_errors)})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Opt Out"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:Number(r.total_errors)})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Opt Net"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:Number(r.total_errors)})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Rep Spam"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:Number(r.total_errors)})})]})})]}),e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Estadisticas Generales"}),e.jsx("span",{children:"ve las estadisticas de forma general y recorre por cada dia y mes"})]}),(u=(x=m==null?void 0:m.series[0])==null?void 0:x.data)!=null&&u.length?e.jsx(Xe,{options:m,series:m.series,type:"line",height:300}):""]}),e.jsxs("div",{className:"row ",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Analisis General"}),e.jsx("span",{children:"Analisis generales"})]}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Enviados:"})," ",r.total_sends]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Clicks:"})," ",r.total_clicks]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Leidos:"})," ",r.total_reads]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Errores:"})," ",r.total_errors]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Aceptacion General:"})," ",r.total_sends," %"]})})]}),e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimos Errores"}),e.jsx("span",{children:"Los ultimos errores registrados"})]}),e.jsxs("div",{className:"results",children:[r.last_errors.map((l,h)=>e.jsxs("div",{className:"item flex",children:[e.jsx("div",{children:e.jsx("span",{children:r.type_campaign=="em"?l.email:""})}),e.jsxs("div",{children:[e.jsx("button",{className:"status-send",children:e.jsx($e,{})}),e.jsx("button",{className:`status-send ${l.error?"error":""}`,children:l.error?e.jsxs(e.Fragment,{children:["Error ",e.jsx(zs,{})]}):e.jsxs(e.Fragment,{children:["Enviado  ",e.jsx(be,{})]})})]})]})),r.last_errors.length==0?e.jsx(e.Fragment,{children:e.jsx(ge,{name:"errores"})}):e.jsx("div",{className:"show-all",children:e.jsx("button",{onClick:l=>{i("/campaigns/stats/detail/"+s.id)},children:"Ver detalles completo"})})]})]})]}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimos Enviados"}),e.jsx("span",{children:"Los ultimos envios salientes"})]}),e.jsxs("div",{className:"results",children:[r.last_sends.map((l,h)=>e.jsxs("div",{className:"item flex",children:[e.jsx("div",{children:e.jsx("span",{children:r.type_campaign.indexOf("em")>=0?l.email:r.type_campaign.indexOf("sms")>=0?l.phone:""})}),e.jsx("div",{children:e.jsx("button",{className:`status-send ${l.error?"error":""}`,children:l.error?e.jsxs(e.Fragment,{children:["Error ",e.jsx(zs,{})]}):e.jsxs(e.Fragment,{children:["Enviado  ",e.jsx(be,{})]})})})]})),r.last_sends.length==0?e.jsx(e.Fragment,{children:e.jsx(ge,{name:"errores"})}):e.jsx("div",{className:"show-all",children:e.jsx("button",{onClick:l=>{i("/campaigns/stats/detail/"+s.id)},children:" Ver detalles completo"})})]})]})})]}),e.jsx(Ss,{type:"campaign"})]})}function dn(){const{UserInfo:s}=a.useContext(K),[t,n]=a.useState([]),i=se();function o(){var c;let r=new FormData;r.append("id_company",(c=s==null?void 0:s.company)==null?void 0:c.id_company),r.append("is_segment",1),P.post(D+"/api/get/list",r,{withCredentials:!0}).then(m=>m.data).then(m=>{n(m)})}return a.useEffect(()=>{o()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Segmentos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:r=>{i("/contacts/segments/add")},children:"Crear nuevo segmento"})})]}),e.jsx(ka,{lists:t})]})}function mn(){const[s,t]=a.useState(!1),[n,i]=a.useState([]),[o,r]=a.useState(!1),[c,m]=a.useState(!1),[p,d]=a.useState({domain:null}),{UserInfo:x}=a.useContext(K);function u(){var g;let j=new FormData;j.append("id_company",(g=x==null?void 0:x.company)==null?void 0:g.id_company),i([]),t(!0),r(!0),P.post(D+"/api/get/domains",j,{withCredentials:!0}).then(f=>f.data).then(f=>{i(f),t(!1),r(!1),m(!1)}).catch(f=>{t(!1)})}function l(){var g;let j=new FormData;j.append("domain",p.domain),j.append("id_company",(g=x==null?void 0:x.company)==null?void 0:g.id_company),Rt(p.domain)?P.post(D+"/api/upload/domain",j,{withCredentials:!0}).then(f=>f.data).then(f=>{f.status&&u()}):le.error("Opps este dominio no es veridico.")}function h(j){let g=j.target.value,f=j.target.name;d({...p,[f]:g})}return a.useEffect(()=>{u()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(me,{visible:c,Pending:o,callback:m,maxWidth:"450px",onClick:l,next:"Subir",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ingresar dominio"}),e.jsx("span",{children:"integra un nuevo dominio para utilizarlo en los envios de correo, recuerda que durara un tiempo en verificarse el dominio en nuestro servidor."})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Dominio:"}),e.jsx("input",{type:"url",onChange:h,name:"domain",placeholder:"mail.radarsystems.net"})]}),e.jsx("br",{})]},c?"xd":"xd2"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Dominios"}),e.jsx("span",{children:"Esta es tu lista de dominios que puedes utilizar en el envio de correos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:j=>{m(!0)},children:"Subir nuevo dominio"})})]}),e.jsxs("div",{className:"box box-padding",children:[n.map((j,g)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_link.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:j.domain}),e.jsx("p",{className:"desc",children:j.status?"Activo":"En verificacion..."}),e.jsx("span",{className:"desc",children:ue(j.time_add)})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:f=>{},children:e.jsx($e,{})}),e.jsx("button",{onClick:f=>{},children:e.jsx(de,{})})]})]})),s?e.jsx(Se,{}):n.length==0?e.jsx("div",{className:"item",children:e.jsx(ge,{name:"dominios"})}):""]})]})}function pn({Visible:s=!0,Close:t}){a.useContext(K);const[n,i]=a.useState(0);a.useState([qe()]),a.useState({type:"",name:"",ocation:""}),se();function o(r){let c=!1;O(r.target),n===0&&(c=!0),c&&i(m=>m+1)}return a.useEffect(()=>{O(".case.active").removeClass("active"),O(".case").eq(n).addClass("active")},[n]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[n>0?e.jsxs("button",{className:"return",onClick:r=>{i(c=>c-1)},children:[e.jsx(Qe,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:r=>{t(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"CREA UN NUEVO SEGMENTO"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Nombre del Segmento"}),e.jsx("input",{type:"text",placeholder:"Mi segmento 1"})]})]}),e.jsxs("div",{className:"actions",children:[e.jsxs("button",{className:"next",onClick:o,children:["Siguiente ",e.jsx("div",{className:"loading"})]}),e.jsx("button",{className:"return",children:e.jsx(re,{icon:"teenyicons:left-outline"})})]})]})]})})}function hn(){var v,w,q,b,y,_,k,S;const[s,t]=a.useState({type:void 0,map:{}}),[n,i]=a.useState({}),[o,r]=a.useState(!1),[c,m]=a.useState({name:"",desc:""}),{UserInfo:p}=a.useContext(K),d=se();function x(E){let N=E.target.name,F=E.target.value;t({...s,[N]:F})}function u(E){let N=E.target.name,F=E.target.value;switch(E.target.getAttribute("action")){case"add":t(T=>({...T,map:{...T.map,[N]:F}}));break;case"push":t({...s,...s.map,[N]:F});break}}function l(){var N;let E=new FormData;E.append("id_company",(N=p==null?void 0:p.company)==null?void 0:N.id_company),P.post(D+"/api/get/list",E,{withCredentials:!0}).then(F=>F.data).then(F=>{i(C=>(C.lists=F,C))})}function h(E){E.preventDefault(),t(N=>{let F={...N};F.map.wheres||(F.map.wheres=[]);const C={[F.map.typeWhereContact]:F.formValue};return F.map.wheres.some(z=>Object.keys(z).some(ie=>z[ie]===C[ie]))||F.map.wheres.push(C),F})}function j(){var N;let E=new FormData;r(!0),E.append("json",JSON.stringify(s)),E.append("id_company",(N=p==null?void 0:p.company)==null?void 0:N.id_company),E.append("name",c.name),E.append("desc",c.desc),P.post(D+"/api/upload/segments",E,{withCredentials:!0}).then(F=>F.data).then(F=>{F.msg&&le.error(F.msg),F.status&&d("/contacts/detail/"+F.id_list)}).finally(()=>{r(!1)})}function g(E){let N=E.target.name,F=E.target.value;N&&F&&m({...c,[N]:F})}function f(E){E.preventDefault();const N=E.target.dataset.key;t(F=>{const C=F.map.wheres.filter(T=>!Object.keys(T).includes(N));return{...F,map:{...F.map,wheres:C}}})}return a.useEffect(()=>{s.type=="lists"&&l()},[s.type]),e.jsxs(e.Fragment,{children:[e.jsx(pn,{}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Segmentos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:Ye,children:"Cancelar Creacion"})})]}),e.jsxs("div",{className:"segments-creator",children:[e.jsxs("form",{id:"form-segment",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Nombre"}),e.jsx("input",{type:"text",name:"name",onChange:g,placeholder:"Nombre del segmento"})]}),e.jsxs("div",{className:"inputs",children:[e.jsxs("select",{id:"",name:"type",onChange:x,children:[e.jsx("option",{disabled:!0,selected:!0,children:"Selecciona un tipo"}),e.jsx("option",{value:"lists",children:"Listas"}),e.jsx("option",{value:"campaings",children:"Campañas"}),e.jsx("option",{value:"surveys",children:"Encuestas"})]}),s.type=="lists"?e.jsxs(e.Fragment,{children:[e.jsxs("select",{id:"",name:"type_lists",action:"add",onChange:u,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Selecciona..."}),e.jsx("option",{value:"all",children:"Todas las listas"}),e.jsx("option",{value:"where",children:"Lista Especifica"})]}),e.jsx("i",{className:"some",children:" = "}),(s==null?void 0:s.map.type_lists)=="all"?e.jsx(e.Fragment,{children:e.jsx("option",{value:""})}):((v=s==null?void 0:s.map)==null?void 0:v.type_lists)=="where"?e.jsxs(e.Fragment,{children:[e.jsxs("select",{name:"lists",action:"add",id:"",onChange:u,children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"Selecciona la lista..."}),(w=n==null?void 0:n.lists)==null?void 0:w.map((E,N)=>e.jsx("option",{value:E.id_list,children:E.name}))]}),((q=s==null?void 0:s.map)==null?void 0:q.lists)>=1?e.jsxs("div",{className:"multiple",children:[e.jsxs("div",{className:"",children:[e.jsxs("select",{name:"typeWhereContact",action:"add",onChange:u,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Selecciona una condicion"}),e.jsx("option",{value:"email",children:"Correo"}),e.jsx("option",{value:"age",children:"Edad"}),e.jsx("option",{value:"country",children:"Pais"})]}),((b=s==null?void 0:s.map)==null?void 0:b.typeWhereContact)=="email"?e.jsxs("select",{name:"formValue",onChange:x,children:[e.jsx("option",{value:".es",children:".es"}),e.jsx("option",{value:".com",children:".com"}),e.jsx("option",{value:".net",children:".net"}),e.jsx("option",{value:".org",children:".org"}),e.jsx("option",{value:"gmail.com",children:"gmail.com"}),e.jsx("option",{value:"hotmail.com",children:"hotmail.com"}),e.jsx("option",{value:"hotmail.es",children:"hotmail.es"}),e.jsx("option",{value:"outlook.com",children:"outlook.com"}),e.jsx("option",{value:"outlook.es",children:"outlook.es"}),e.jsx("option",{value:"icloud.com",children:"icloud.com"})]}):"",["name","lastname","age","country"].includes((y=s==null?void 0:s.map)==null?void 0:y.typeWhereContact)&&e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",name:"formValue",onChange:x,placeholder:(_=s==null?void 0:s.map)==null?void 0:_.typeWhereContact})}),e.jsx("button",{className:"add-button",onClick:h,children:e.jsx(js,{})})]}),(S=(k=s==null?void 0:s.map)==null?void 0:k.wheres)==null?void 0:S.map((E,N)=>e.jsx("div",{children:Object.entries(E).map(([F,C])=>e.jsxs("div",{className:"where-contact",children:[e.jsxs("p",{children:[F," (Where)"]}),e.jsx("p",{children:C}),e.jsx("button",{className:"trash",onClick:f,"data-key":F,children:e.jsx(de,{})})]},F))},N))]}):""]}):"",["name","lastname","age","country","state"].includes(s==null?void 0:s.type_where_now)&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",placeholder:s==null?void 0:s.type_where_now}),e.jsx("button",{children:e.jsx(js,{})})]})]}):""]})]}),e.jsxs("div",{className:"buttons-right",children:[e.jsx("button",{children:"Cancelar"}),e.jsxs("button",{className:`save ${o?"await":""}`,onClick:j,children:["Guardar ",e.jsx("div",{className:"loading"})]})]})]})]})}function aa(){se();const{UserInfo:s}=a.useContext(K),[t,n]=a.useState([]),[i,o]=a.useState([]),[r,c]=a.useState([]),[m,p]=a.useState([]),[d,x]=a.useState([]);a.useState([]),a.useState([]);const[u,l]=a.useState([]),[h,j]=a.useState([]),[g,f]=a.useState({});function v(y){var k;let _=new FormData;_.append("id_company",(k=s==null?void 0:s.company)==null?void 0:k.id_company),P.post(D+"/api/get/stats/global",_,{withCredentials:!0}).then(S=>S.data).then(S=>{f(S)})}function w(y){var k;let _=new FormData;_.append("id_company",(k=s==null?void 0:s.company)==null?void 0:k.id_company),_.append("type",y),_.append("limit","5"),P.post(D+"/api/get/campaign",_,{withCredentials:!0}).then(S=>S.data).then(S=>{switch(y){case"sms":n(S.results);break;case"em":o(S.results??[]);break;case"em-mt":c(S.results??[]);break;case"sms-mt":p(S.results??[]);break}})}function q(){var _;let y=new FormData;y.append("id_company",(_=s==null?void 0:s.company)==null?void 0:_.id_company),y.append("limit","10"),P.post(D+"/api/get/templatesall",y,{withCredentials:!0}).then(k=>k.data).then(k=>{l(k)})}function b(){var _;let y=new FormData;y.append("id_company",(_=s==null?void 0:s.company)==null?void 0:_.id_company),P.post(D+"/api/get/surveys",y,{withCredentials:!0}).then(k=>k.data).then(k=>{j(k)})}return a.useEffect(()=>{w("em"),w("em-mt"),w("sms"),w("sms-mt"),q(),b(),v()},[]),e.jsxs(e.Fragment,{children:[e.jsx(me,{visible:!1,children:"STATS"}),e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MI INICIO"}),e.jsx("span",{children:"Bienvenido a RadarSystems aca podras ver todas tus estadisticas y estados de tu cuenta"})]})}),e.jsx("div",{className:"body-stat",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total Envios Emails"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:g.total_sends})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total Envios Sms"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:g.total_sends_sms})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Campañas Creadas"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:g.total_campaigns})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total Contactos"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:g.total_contacts})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding hr",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Top's Campañas EMAIL"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]})})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding hr",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Top's Campañas SMS"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]})})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Email Marketing"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Campaña"}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Rec."}),e.jsx("td",{children:"Lei."}),e.jsx("td",{children:"No Lei."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:"Rep. Spam"}),e.jsx("td",{children:"Opt. Out"}),e.jsx("td",{children:"Opt. Net"}),e.jsx("td",{children:e.jsx(we,{})})]}),i.map((y,_)=>e.jsxs("tr",{id:_,children:[e.jsxs("td",{children:[e.jsx("span",{children:y.name}),e.jsx("br",{}),ue(y.time_add)]}),e.jsx("td",{children:y.send}),e.jsx("td",{children:y.send}),e.jsx("td",{children:y.returned}),e.jsx("td",{children:y.reads}),e.jsx("td",{children:y.clicks}),e.jsx("td",{children:y.clicks}),e.jsx("td",{children:y.clicks}),e.jsx("td",{children:y.clicks}),e.jsx("td",{children:y.clicks}),e.jsx("td",{children:e.jsx($,{to:"/campaigns/detail/"+y.id_campaign,children:e.jsx(we,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Email Transaccional (MT)"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Campaña"}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Rec."}),e.jsx("td",{children:"Lei."}),e.jsx("td",{children:"No Lei."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:"Rep. Spam"}),e.jsx("td",{children:"Opt. Out"}),e.jsx("td",{children:"Opt. Net"}),e.jsx("td",{children:e.jsx(we,{})})]}),r.map((y,_)=>e.jsxs("tr",{id:_,children:[e.jsxs("td",{children:[e.jsx("span",{children:y.name}),e.jsx("br",{}),ue(y.time_add)]}),e.jsx("td",{children:y.send}),e.jsx("td",{children:y.send}),e.jsx("td",{children:y.returned}),e.jsx("td",{children:y.reads}),e.jsx("td",{children:y.clicks}),e.jsx("td",{children:y.clicks}),e.jsx("td",{children:y.clicks}),e.jsx("td",{children:y.clicks}),e.jsx("td",{children:y.clicks}),e.jsx("td",{children:e.jsx($,{children:e.jsx(we,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Sms Marketing"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Campaña"}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Rec."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:e.jsx(we,{})})]}),t.map((y,_)=>e.jsxs("tr",{id:_,children:[e.jsxs("td",{children:[e.jsx("span",{children:y.name}),e.jsx("br",{}),ue(y.time_add)]}),e.jsx("td",{children:y.send}),e.jsx("td",{children:y.returned}),e.jsx("td",{children:y.reads}),e.jsx("td",{children:y.clicks}),e.jsx("td",{children:e.jsx($,{children:e.jsx(we,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Sms Transaccional (MT)"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Campaña"}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Rec."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:e.jsx(we,{})})]}),m.map((y,_)=>e.jsxs("tr",{id:_,children:[e.jsxs("td",{children:[e.jsx("span",{children:y.name}),e.jsx("br",{}),ue(y.time_add)]}),e.jsx("td",{children:y.send}),e.jsx("td",{children:y.returned}),e.jsx("td",{children:y.reads}),e.jsx("td",{children:y.clicks}),e.jsx("td",{children:e.jsx($,{children:e.jsx(we,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Whatsapp Marketing"}),e.jsx("span",{children:"Ve las campanas mas demandadas de whatsapp"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Campaña"}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Rec."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:e.jsx(we,{})})]}),d.map((y,_)=>e.jsxs("tr",{id:_,children:[e.jsxs("td",{children:[e.jsx("span",{children:y.name}),e.jsx("br",{}),ue(y.time_add)]}),e.jsx("td",{children:y.send}),e.jsx("td",{children:y.returned}),e.jsx("td",{children:y.reads}),e.jsx("td",{children:y.clicks}),e.jsx("td",{children:e.jsx($,{children:e.jsx(we,{})})})]}))]}),d.length==0?e.jsx(ge,{name:"Whatsapp"}):""]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Whatsapp Transaccional (MT)"}),e.jsx("span",{children:"Ve las campanas mas demandadas de whatsapp"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Campaña"}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Rec."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:e.jsx(we,{})})]}),d.map((y,_)=>e.jsxs("tr",{id:_,children:[e.jsxs("td",{children:[e.jsx("span",{children:y.name}),e.jsx("br",{}),ue(y.time_add)]}),e.jsx("td",{children:y.send}),e.jsx("td",{children:y.returned}),e.jsx("td",{children:y.reads}),e.jsx("td",{children:y.clicks}),e.jsx("td",{children:e.jsx($,{children:e.jsx(we,{})})})]}))]}),d.length==0?e.jsx(ge,{name:"Whatsapp"}):""]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Plantillas Creadas"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsx("div",{className:"result-go",children:u.map((y,_)=>e.jsxs("div",{className:"i",children:[e.jsxs("div",{className:"left",children:[e.jsx("p",{className:"name",children:y.title}),e.jsx("span",{className:"date",children:ue(y.time_add)})]}),e.jsx("div",{className:"right",children:e.jsxs("button",{children:[e.jsx(Ae,{})," Ver "]})})]}))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Encuestas"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsx("div",{className:"result-go",children:h.map((y,_)=>e.jsxs("div",{className:"i",children:[e.jsxs("div",{className:"left",children:[e.jsx("p",{className:"name",children:y.header.title}),e.jsx("span",{className:"date",children:ue(y.time_add)})]}),e.jsx("div",{className:"right",children:e.jsxs("button",{children:[e.jsx(Ae,{})," Ver"]})})]}))})]})})]})})]})}function xn(){const s=se(),t=he(),n=Oe(),{UserInfo:i}=a.useContext(K);a.useState(null);const[o,r]=a.useState([]),[c,m]=a.useState(!0);function p(d=void 0){var u;let x=new FormData;m(!0),x.append("id_company",(u=i==null?void 0:i.company)==null?void 0:u.id_company),x.append("id_campaign",t.id),d!==void 0&&x.append("type",d),P.post(D+"/api/get/detailsends",x,{withCredentials:!0}).then(l=>l.data).then(l=>{r(l),m(!1)})}return a.useEffect(()=>{p()},[]),a.useEffect(()=>{let d=new URLSearchParams(n.search).get("where");d&&p(d)},[n]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Estadisticas de campaña: ",t==null?void 0:t.id]}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"go-wizard",onClick:d=>{s("/campaigns/stats/"+t.id)},children:e.jsx(We,{})}),e.jsx("button",{className:"go-wizard",onClick:d=>{s("/campaigns/stats/"+t.id)},children:"Crear Segmento"}),e.jsx("button",{className:"go-wizard",onClick:d=>{s("/campaigns/stats/"+t.id)},children:"Descargar"})]})]}),e.jsx("div",{className:"menu-top",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx($,{to:`/campaigns/stats/detail/${t.id}`,children:"General"})}),e.jsx("li",{children:e.jsx($,{to:`/campaigns/stats/detail/${t.id}?where=error`,children:"Errores"})}),e.jsx("li",{children:e.jsx($,{to:`/campaigns/stats/detail/${t.id}?where=clicks`,children:"Clicks"})}),e.jsx("li",{children:e.jsx($,{to:`/campaigns/stats/detail/${t.id}?where=reads`,children:"Leidos"})})]})}),e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Resultados de busqueda"}),e.jsx("span",{children:"Te mostraremos el listado detallado de tus envios"})]}),e.jsx("div",{className:"control-scroll stats-detail",children:e.jsx("div",{className:"row",children:e.jsx(fa,{hasMore:!0,dataLength:10,children:o.map((d,x)=>e.jsx("div",{className:"item flex",children:e.jsx("div",{children:e.jsx("span",{children:d.email})})}))})})})]})]})}function un(){const s=se(),[t,n]=a.useState(!1),[i,o]=a.useState([]),{UserInfo:r}=a.useContext(K);function c(){var p;let m=new FormData;m.append("id_company",(p=r==null?void 0:r.company)==null?void 0:p.id_company),P.post(D+"/api/get/templatesall",m,{withCredentials:!0}).then(d=>d.data).then(d=>{o(d)})}return a.useEffect(()=>{c()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"BOLETINES ELECTRONICOS"}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:m=>{s("/editor/canvas")},children:"Crear Nuevo Boletin"})})]}),e.jsx("div",{className:"row",children:t==!1?i.map((m,p)=>{var d;return e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${ws((d=r==null?void 0:r.company)==null?void 0:d.folder_sftp,m.preview_image)})`},children:e.jsx("div",{className:"right-top",children:e.jsx("button",{onClick:x=>{s(`/landing/${m.token}`)},children:e.jsx(Ae,{})})})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:m==null?void 0:m.title}),e.jsxs("span",{children:["Boletin agregado el: ",ue(m.time_add)]})]})]})},p)}):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(Se,{})})})})]})}O(document).on("click",".settings-account .case .info button",function(s){s.preventDefault(),s.stopImmediatePropagation();let t=O(this).parents(".case");O(".settings-account .case.active").removeClass("active"),t.addClass("active")});function jn(){O(".settings-account .case.active").removeClass("active")}function gn(){const{UserInfo:s}=a.useContext(K),[t,n]=a.useState({}),[i,o]=a.useState(),[r,c]=a.useState({photo:""});function m(x){let u=x.nativeEvent.target.files;if(u.length){let l=u[0];if(l.type.indexOf("image")>=0){n(l);let h=URL.createObjectURL(l);o(h)}}}function p(x){O("input[name='photo']").val(""),o(""),n({})}function d(){var u;let x=new FormData;x.append("file",t),x.append("id_company",(u=s==null?void 0:s.company)==null?void 0:u.id_company),c({photo:"await"}),P.post(D+"/api/upload/newphoto",x,{withCredentials:!0}).then(l=>l.data).then(l=>{l.status&&(O(".header-top .body  img").attr("src",i),jn(),n({}),le.success("Has cambiado correctamente la foto de perfil")),c({photo:""})}).catch(l=>{c({photo:""})})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"settings-account",children:e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Establece una foto de perfil"}),e.jsx("span",{children:"cambia la foto de perfil y integra una foto con tu logo o algo de tu marca"}),e.jsx("button",{children:"Cambiar"})]}),e.jsx("div",{className:"action",children:e.jsxs("div",{className:"change-photo",children:[e.jsx("div",{className:"photo",style:{background:`url(${i||ks(s)})`}}),e.jsx("div",{className:"buttons",children:t!=null&&t.name?e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:r.photo,onClick:d,children:["Guardar ",e.jsx("div",{className:"loading"})]}),e.jsx("button",{onClick:p,children:"Cancelar"})]}):e.jsxs("button",{onClick:x=>{O("input[name='photo']").click()},children:["Subir ",e.jsx("i",{children:e.jsx(jt,{})})," "]})}),e.jsx("input",{type:"file",name:"photo",onChange:m,hidden:!0})]})})]})})})}function vn(){const[s,t]=a.useState([]),[n,i]=a.useState({domain:"",domain_email:""}),[o,r]=a.useState(!1),{UserInfo:c}=a.useContext(K),[m,p]=a.useState(!1),[d,x]=a.useState(!1),[u,l]=a.useState(!1),[h,j]=a.useState(null),[g,f]=a.useState(!1),v=se();function w(k){let S=k.target.name,E=k.target.value;i({...n,[S]:E})}function q(){var S;let k=new FormData;r(!0),k.append("domain",n.domain),k.append("domain_email",n.domain_email),k.append("id_company",(S=c==null?void 0:c.company)==null?void 0:S.id_company),P.post(D+"/api/upload/domain",k,{withCredentials:!0}).then(E=>E.data).then(E=>{r(!1),E.status&&(p(!1),le.success("Has subido el dominio con exito"),b()),E.msg&&le.error(E.msg)}).catch(E=>{r(!1)})}function b(){var S;let k=new FormData;r(!0),k.append("id_company",(S=c==null?void 0:c.company)==null?void 0:S.id_company),P.post(D+"/api/get/domains",k,{withCredentials:!0}).then(E=>E.data).then(E=>{t(E)}).finally(E=>{r(!1)})}function y(k){let S=Number(k.target.dataset.value);j(S),l(!0)}function _(){var S;let k=new FormData;f(!0),k.append("id_domain",h),k.append("id_company",(S=c==null?void 0:c.company)==null?void 0:S.id_company),P.post(D+"/api/delete/domain",k,{withCredentials:!0}).then(E=>E.data).then(E=>{E.status&&(le.success("Has borrado el dominio con exito"),b())}).finally(E=>{l(!1),f(!1)})}return a.useEffect(()=>{b()},[]),e.jsxs(e.Fragment,{children:[e.jsx(Fe,{onClick:_,Pending:g,visible:u,callback:l}),e.jsxs(me,{visible:m,callback:p,maxWidth:"300px",onClick:q,Pending:o,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Agregar"}),e.jsx("span",{children:"agrega un nuevo dominio, el dominio quedara en verificacion para poder ser utilizado"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Dominio destinatario"}),e.jsx("input",{type:"text",name:"domain",onChange:w,placeholder:"dominio.com"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo del dominio"}),e.jsx("input",{type:"text",name:"domain_email",onChange:w,placeholder:"example@dominio.com"})]})]}),e.jsx(Fe,{visible:d,callback:x,onClick:"",Pending:""}),e.jsx("div",{className:"settings-account",children:e.jsxs("div",{className:"case active",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Dominios"}),e.jsx("span",{children:"Estos dominios son los que has configurado para ser manejados en tu campanas de envios email"}),e.jsx("button",{onClick:k=>{p(!0)},children:"Agregar Dominio"})]}),e.jsxs("div",{className:"action",children:[e.jsx("div",{className:"row domains",children:s.map((k,S)=>e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"domain",children:[e.jsxs("p",{children:[e.jsx(gt,{}),"  ",k.domain]}),e.jsx("span",{children:k.domain_email}),e.jsx("br",{}),e.jsxs("span",{children:["Estatus: ",k.status?e.jsx(vt,{}):e.jsx(ft,{})]}),e.jsxs("div",{className:"buttons",children:[e.jsx("button",{onClick:E=>{v(`/settings-account/domain/${k.id_domain}`)},children:e.jsx(L,{icon:"icon-park-outline:config"})}),e.jsx("button",{onClick:y,"data-value":k.id_domain,children:e.jsx(de,{})})]})]})}))}),s.length==0?e.jsx(ge,{name:"dominios"}):""]})]})})]})}function fn(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading-modal",children:e.jsx("div",{className:"circle"})})})}function Nn(){const s=se(),t=he(),[n,i]=a.useState([]),[o,r]=a.useState(!1),{UserInfo:c}=a.useContext(K),[m,p]=a.useState(),[d,x]=a.useState([]),[u,l]=a.useState({width:"",left:""}),[h,j]=a.useState("gl"),[g,f]=a.useState(!0),[v,w]=a.useState(),[q,b]=a.useState(!1),[y,_]=a.useState({csv:!1,json:!1});function k(){var F;let N=new FormData;N.append("id_list",t.id),N.append("id_company",(F=c==null?void 0:c.company)==null?void 0:F.id_company),P.post(D+"/api/get/logslists",N,{withCredentials:!0}).then(C=>C.data).then(C=>{C.length&&i(C)}).catch(C=>{})}function S(N,F=!1,C=null,T=!1,z=null){var oe;w(!0),F||(f(!1),r(!0),p(N),x([]),C!=="error"&&T!==!0&&(l({width:"70",left:"10"}),j("gl")));let ie=new FormData;ie.append("id_list",t.id),ie.append("id_company",(oe=c==null?void 0:c.company)==null?void 0:oe.id_company),ie.append("detail",N),d.length&&F&&ie.append("last_id",d.slice(-1)[0].id_log),T&&ie.append("download",z),C!==null&&ie.append("type",C),P.post(D+"/api/get/logslists",ie,{withCredentials:!0}).then(G=>G.data).then(G=>{if(T){_({...y,[z]:!0});const B=new Blob([JSON.stringify(G)],{type:T=="json"?"application/json":"text/csv"}),H=URL.createObjectURL(B),Y=document.createElement("a");Y.href=H,Y.setAttribute("download",`upload-${m}-list-${t.id}.json`),document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),setTimeout(()=>{_({...y,[z]:!1})},1e3)}f(!0),w(!1),x(F===!1?G:B=>[...B,...G])}).catch(G=>{w(!1)})}a.useEffect(()=>{k()},[]),a.useEffect(()=>{o&&(h=="error"&&S(m,!1,"error"),h=="gl"&&S(m,!1),h=="dw"?b(!0):b(!1))},[h]);function E(N){let F=N.target.value;j(F),l(C=>({...C,width:N.target.offsetWidth,left:N.target.offsetLeft}))}return e.jsxs(e.Fragment,{children:[e.jsxs(me,{visible:o,callback:r,maxWidth:"500px",minWidth:"500px",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Detalles"}),e.jsxs("span",{children:["detalles de la subida: ",m]})]}),e.jsx("div",{className:"menu-change",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("button",{className:`${h=="gl"?"active":""}`,onClick:E,value:"gl",style:{fontSize:"13px"},children:"Global"})}),e.jsx("li",{children:e.jsx("button",{className:`${h=="error"?"active":""}`,onClick:E,value:"error",style:{fontSize:"13px"},children:"Errores"})}),e.jsx("li",{children:e.jsx("button",{className:`${h=="dw"?"active":""}`,onClick:E,value:"dw",style:{fontSize:"13px"},children:"Descargar"})}),e.jsx("div",{className:"hover",style:{left:u.left+"px",width:u.width+"px"}})]})}),q?e.jsx(e.Fragment,{children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descargar logs"}),e.jsxs("span",{children:["Puedes descargar los logs de esta subida ",m," mediante un archivo csv / json"]}),e.jsxs("div",{className:"actions-item complete",children:[e.jsxs("button",{className:`download ${y.csv?"await":""}`,onClick:N=>{S(m,!1,null,!0,"json")},children:["Descargar CSV ",e.jsx("div",{className:"loading"})]}),e.jsxs("button",{className:`download ${y.json?"await":""}`,onClick:N=>{S(m,!1,null,!0,"json")},children:["Descargar JSON ",e.jsx("div",{className:"loading"})]})]})]})})})})}):e.jsx("div",{className:"data",children:e.jsx(fa,{scrollableTarget:"scrollableDiv",hasMore:g,next:()=>{S(m,!0)},dataLength:d.length,children:e.jsx("div",{className:"control-scroll lists-detail",id:"scrollableDiv",children:e.jsxs("div",{className:"row",children:[d==null?void 0:d.map((N,F)=>e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"item box box-padding",children:e.jsxs("div",{className:"top",children:[e.jsxs("span",{children:["Correo: ",N.email?N.email:"No aplica"]}),e.jsx("br",{}),e.jsxs("span",{children:["Telefono: ",N.phone?N.phone:"No aplica"]}),e.jsx("br",{}),e.jsxs("span",{children:["Calidad de subida: ",N.error?"error":"success"]})]})})})),v?e.jsx(fn,{}):"",(d==null?void 0:d.length)===0&&v===!1?e.jsx(ge,{name:h=="gl"?"registros":"errores"}):""]})})})})]},o?"Xd":"x"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Logs de lista: ",t.id]}),e.jsx("span",{children:"Ve los detalle de tus listas y ve si estan listas para ser utilizadas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:N=>{s("/contacts/detail/"+t.id)},children:e.jsx(We,{})})})]}),e.jsx("div",{className:"row",children:n.map((N,F)=>e.jsx("div",{className:"col-md-4  page-lists",children:e.jsx("div",{className:"box box-padding ",children:e.jsxs("div",{className:"item flex-wrap",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/upload_arrow2.webp",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:["Subida: ",e.jsx("b",{children:N.id_upload})]}),e.jsxs("span",{className:"desc",children:["Fecha: ",ue(N.time_add,"full")]}),e.jsx("br",{}),e.jsxs("span",{className:"desc",children:["Fecha de finalización: ",ue(N.time_finish,"full")]}),e.jsx("br",{}),e.jsxs("span",{className:"desc",children:["Contactos Subidos: 1",N==null?void 0:N.contacts_total]}),e.jsx("br",{}),e.jsx("span",{className:"desc",children:"Calidad de subida:"}),N!=null&&N.insert?e.jsxs("span",{className:"quality-upload good",children:[e.jsx(De,{})," Muy Buena"]}):N!=null&&N.error?e.jsxs("span",{className:"quality-upload error",children:[" ",e.jsx(Nt,{})," Regular / Mala"]}):e.jsxs("span",{className:"quality-upload await",children:[" ",e.jsx(Ns,{})," En espera... "]})]})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{onClick:C=>{S(N.id_upload)},children:e.jsx($e,{})})})]})})},F))})]})}function yn(){return e.jsx("div",{className:"iphone",style:{background:"url(img/devices/iphone.png)"},children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"hour",children:e.jsx("span",{children:"12:45"})}),e.jsxs("div",{className:"battery",children:[e.jsxs("span",{className:"signal",children:[e.jsx("i",{children:e.jsx(L,{icon:"oi:signal"})}),e.jsx("span",{children:"LTE"})]}),e.jsx("i",{className:"battery",children:e.jsx(L,{icon:"ph:battery-high-fill"})})]}),e.jsx("div",{className:"content",children:e.jsx("div",{class:"editor-surveys prodbuttonsqr"})})]})})}function bn(){return se(),a.useEffect(()=>{P.get(D+"/api/get/logout",{withCredentials:!0}).then(s=>s.json).then(s=>{os("token","",!0),os("company","",!0),window.location.href="/"}).catch(s=>{os("token","",!0),os("company","",!0),window.location.href="/"})},[]),e.jsx(e.Fragment,{})}function Ve({value:s,Transparent:t=!1}){function n(i){let o=i.target.dataset.value;o&&(navigator.clipboard?navigator.clipboard.writeText(o).then(()=>{A.success("Has copiado correctamente")}).catch(r=>{A.error("Error al copiar el texto")}):A.error("Error Al copiar"))}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"input-config",style:{background:t?"transparent":""},children:[e.jsx("span",{children:s}),e.jsx("button",{onClick:n,"data-value":s,children:e.jsx(L,{icon:"material-symbols:copy-all-outline"})})]})})}function Cn(){const s=he(),{UserInfo:t}=a.useContext(K),[n,i]=a.useState({}),[o,r]=a.useState(!1),[c,m]=a.useState(!1),[p,d]=a.useState(!0);function x(){var h;m(!0);let l=new FormData;l.append("id_company",(h=t==null?void 0:t.company)==null?void 0:h.id_company),l.append("id_domain",s.id),P.post(D+"/api/get/domaindns",l,{withCredentials:!0}).then(j=>j.data).then(j=>{m(!1),i(g=>{let f={...g};return f.spf=j.spf,f.dmarc=j.dmarc,f.dkim=j.dkim,f}),j.spf&&j.dkim&&j.dmarc?(r(!0),A.success("Tu dominio se ha verificado completamente")):A.info("test")})}function u(){var h;d(!0);let l=new FormData;l.append("id_company",(h=t==null?void 0:t.company)==null?void 0:h.id_company),l.append("id_domain",s.id),P.post(D+"/api/get/domain",l,{withCredentials:!0}).then(j=>j.data).then(j=>{d(!1),i(j),j.spf&&j.cname&&j.dkim&&j.mx?r(!0):r(!1)}).catch(j=>{d(!1),console.log(j)})}return a.useEffect(()=>{u()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsx("div",{className:"",children:e.jsxs("p",{className:"title",children:["Dominio: ",s.id]})}),e.jsx("div",{className:"right",children:e.jsxs("button",{onClick:x,className:`go-wizard ${c?"await":null}`,children:[e.jsx(L,{icon:"material-symbols-light:pending-actions-rounded"})," Verificar Dominio ",e.jsx("div",{className:"loading"})]})})]}),p?e.jsx("div",{className:"loading-box",children:e.jsx(Se,{})}):e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding stat domain",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Registros de Envio"}),e.jsx("span",{children:"Se requieren registros TXT (conocidos como SPF y DKIM) para enviar y recibir correo electrónico con Radarsystems."})]}),e.jsxs("div",{className:"space-config",children:[e.jsx("p",{className:"title",children:"SPF"}),e.jsx("span",{className:"register-type",children:"Tipo: TXT"}),e.jsxs("table",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Status"}),e.jsx("td",{children:"Hostname"}),e.jsx("td",{children:"Valor"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:n!=null&&n.spf?e.jsx("span",{className:"success",children:"Verificado"}):e.jsx("span",{className:"error",children:"Pendiente"})}),e.jsx("td",{children:e.jsx(Ve,{Transparent:!0,value:n.domain})}),e.jsx("td",{children:e.jsx(Ve,{value:"v=spf1 include:_spf.radarmailer1.me ~all"})})]})]})]}),e.jsxs("div",{className:"space-config",children:[e.jsx("p",{className:"title",children:"DKIM"}),e.jsx("span",{className:"register-type",children:"Tipo: CNAME"}),e.jsxs("table",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Status"}),e.jsx("td",{children:"Hostname"}),e.jsx("td",{children:"Valor"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:n!=null&&n.dkim?e.jsx("span",{className:"success",children:"Verificado"}):e.jsx("span",{className:"error",children:"Pendiente"})}),e.jsx("td",{children:e.jsx(Ve,{Transparent:!0,value:"radar._domainkey."+n.domain})}),e.jsx("td",{children:e.jsx(Ve,{value:"dkim.email.radarmailer1.me"})})]})]})]})]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding stat domain",children:[e.jsxs("div",{className:"space-config",children:[e.jsx("p",{className:"title",children:"DMARC"}),e.jsx("span",{className:"register-type",children:"Tipo: TXT"}),e.jsxs("table",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Status"}),e.jsx("td",{children:"Hostname"}),e.jsx("td",{children:"Valor"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:n!=null&&n.dmarc?e.jsx("span",{className:"success",children:"Verificado"}):e.jsx("span",{className:"error",children:"Pendiente"})}),e.jsx("td",{children:e.jsx(Ve,{Transparent:!0,value:"_dmarc"})}),e.jsx("td",{children:e.jsx(Ve,{value:`v=DMARC1; p=quarantine; sp=quarantine; rua=mailto:postmarter@${n.domain}; Ruf=mailto:postmaster@${n.domain}; pct=100; adkim=r; fo=1; ri=43200`})})]})]})]}),e.jsxs("div",{className:"space-config",children:[e.jsx("p",{className:"title",children:"DMARC"}),e.jsx("span",{className:"register-type",children:"Tipo: CNAME"}),e.jsxs("table",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Status"}),e.jsx("td",{children:"Hostname"}),e.jsx("td",{children:"Valor"})]}),e.jsxs("tr",{children:[e.jsx("td",{children:n!=null&&n.dmarc?e.jsx("span",{className:"success",children:"Verificado"}):e.jsx("span",{className:"error",children:"Pendiente"})}),e.jsx("td",{children:e.jsx(Ve,{Transparent:!0,value:`radar.${n.domain}`})}),e.jsx("td",{children:e.jsx(Ve,{value:"bounce.email.radarmailer1.me"})})]})]})]})]})})]})]})}function wn({data:s,onClick:t}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"box box-padding plans",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:String(s.name).replace(/\s/g,`
`)}),e.jsx("span",{children:s.desc_text})]}),e.jsxs("div",{className:"price",children:[s.before_price&&e.jsx("div",{className:"before-price",children:e.jsxs("span",{children:["$",Number(s.before_price).toFixed(2)]})}),e.jsxs("div",{className:"fix",children:[e.jsx("span",{className:"symbol",children:"$"}),e.jsx("span",{className:"price-number",children:Number(s.price).toFixed(2)}),e.jsx("span",{className:"time",children:"/ Month"})]})]}),e.jsx("button",{className:"start",onClick:n=>{t(s.id_plan)},children:"Comenzar Ahora!"}),e.jsxs("div",{className:"offers",children:[e.jsx("p",{children:"El plan incluye:"}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"IA (Inteligencia Artificial)"})]}),e.jsxs("div",{className:"include",children:[e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}),e.jsxs("span",{className:"title",children:["Envios de Correos (",ps(Number(s.email_quantity)),")"]})]}),e.jsxs("div",{className:"include",children:[e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}),e.jsxs("span",{className:"title",children:["Envios de Sms (",ps(Number(s.sms_quantity)),") "]})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Marketing Automatizado "})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Programacion de Campaña"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"WorkFlow"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Encuestas"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Encuestas Avanzadas"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Formularios"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Modulo de Citas"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Pasarelas de Pagos"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"BlackList"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Verificacion Datos"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Informe Metricas"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Segmentacion "})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Plantillas"})]}),e.jsxs("div",{className:"include",children:[s.marketing_auto?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Segmentacion Premium"})]}),e.jsxs("div",{className:"include",children:[s.landing_page?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Paginas / Ecommerce "})]}),e.jsxs("div",{className:"include",children:[s.auto_response?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Auto Responder"})]}),e.jsxs("div",{className:"include",children:[s.stats_shortlink?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Acortador de Enlaces"})]}),e.jsxs("div",{className:"include",children:[s.stats_shortlink?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Estadisticas Enlaces"})]}),e.jsxs("div",{className:"include",children:[s.personalize_shortlink?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Personalizar Enlaces"})]}),e.jsxs("div",{className:"include",children:[s.buttons_qr?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Botonera QR"})]}),e.jsxs("div",{className:"include",children:[s.buttons_url?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Botonera Enlaces"})]}),e.jsxs("div",{className:"include",children:[s.gallery_qr?e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}):e.jsx("span",{className:"no",children:e.jsx(L,{icon:"ph:x-circle"})}),e.jsx("span",{className:"title",children:"Galeria QR"})]}),e.jsxs("div",{className:"include",children:[e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}),e.jsx("b",{children:e.jsxs("span",{className:"title",children:["Contactos (",ps(s.contacts_quantity),")"]})})]}),e.jsxs("div",{className:"include",children:[e.jsx("span",{className:"check",children:e.jsx(L,{icon:"material-symbols:check-circle-outline"})}),e.jsxs("span",{className:"title",children:["Verificador Correos (",s.verified_emails,")"]})]})]})]})})}function kn(){const{UserInfo:s}=a.useContext(K),[t,n]=a.useState([]);a.useState(!1);const[i,o]=a.useState({});function r(){var d;let p=new FormData;p.append("id_company",(d=s==null?void 0:s.company)==null?void 0:d.id_company),P.post(D+"/api/get/plans",p,{withCredentials:!0}).then(x=>x.data).then(x=>{n(x)})}function c(){var d;let p=new FormData;p.append("id_company",(d=s==null?void 0:s.company)==null?void 0:d.id_company),P.post(D+"/api/get/my/resumen",p,{withCredentials:!0}).then(x=>x.data).then(x=>{o(x)})}function m(p){P.get(D+"/api/payment/control",{withCredentials:!0}).then(d=>d.request.responseText).then(d=>{d&&(window.location.href="https://paytest.megasoft.com.ve/action/paymentgatewayuniversal-data?control="+d)})}return a.useEffect(()=>{r(),c()},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Planes"}),e.jsx("span",{children:"Observa todos los planes disponibles para disfrutar de nuestros servicios"})]})}),e.jsx(ms,{}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Resumen"}),e.jsx("span",{children:"Observa cuanto te queda disponible este mes en tu plan adquirido"})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"box resumen-plans box-padding",children:[e.jsx("p",{children:"Emails"}),e.jsx("span",{children:i==null?void 0:i.emails_quantity})]})}),e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"box resumen-plans box-padding",children:[e.jsx("p",{children:"Mensajes"}),e.jsx("span",{children:i==null?void 0:i.sms_quantity})]})}),e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"box resumen-plans box-padding",children:[e.jsx("p",{children:"Contactos"}),e.jsx("span",{children:i==null?void 0:i.contacts_quantity})]})})]})]})})}),e.jsx("div",{className:"row",children:t.map((p,d)=>e.jsx("div",{className:"col-md-3",children:e.jsx(wn,{data:p,onClick:m})},d))})]})}function Sn(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"checkout",children:[e.jsx("iframe",{width:"860",height:"484",src:"https://paytest.megasoft.com.ve/action/paymentgatewayuniversal-data?control=1720535014751287973"}),";"]})})}function _n(){const{UserInfo:s}=a.useContext(K),[t,n]=a.useState({}),[i,o]=a.useState(!1);function r(){var d;let p=new FormData;p.append("id_company",(d=s==null?void 0:s.company)==null?void 0:d.id_company),P.post(D+"/api/get/api/credentials",p,{withCredentials:!0}).then(x=>x.data).then(x=>{n(x)})}function c(p){navigator.clipboard.writeText(t==null?void 0:t[p]),p=="client_id"?le.success("Has copiado tu Client ID"):le.success("Has copiado tu Secret Key")}function m(){let p=new FormData;p.append("client_id",t.client_id),P.post(D+"/api/auth/newkey",p,{withCredentials:!0}).then(d=>d.data).then(d=>{d.status&&(le.success("Secret Key actualizada con exito"),r())})}return a.useEffect(()=>{r()},[]),a.useEffect(()=>{i&&setTimeout(()=>{o(!1),le.success("Se oculto automaticamente por seguridad")},2500)},[i]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Credenciales"}),e.jsx("span",{children:"Obten tus credenciales para poder manejarte por nuestra API"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{onClick:m,className:"add",children:"Actualizar Secret"})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Client ID"}),e.jsx("span",{children:"Este es tu indentificador de cliente es el ID unico que te identificara."})]}),e.jsxs("div",{className:"form-credentials",children:[e.jsx("input",{className:"client",type:"text",value:t.client_id,disabled:!0}),e.jsx("button",{onClick:p=>{c("client_id")},children:e.jsx(re,{icon:"material-symbols:copy-all-outline"})})]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Secret Key"}),e.jsxs("span",{children:["Esta es la clave secreta, que funciona para indentificarte junto tu ",e.jsx("b",{children:"CLIENT ID"})]})]}),i?e.jsxs("div",{className:"form-credentials",children:[e.jsx("input",{className:"secret",type:"text",value:t.secret_key,disabled:!0}),e.jsx("button",{onClick:p=>{c("secret_key")},children:e.jsx(re,{icon:"material-symbols:copy-all-outline"})})]}):e.jsxs("div",{className:"form-credentials",children:[e.jsx("input",{className:"secret",type:"text",value:"- - - - - - - - - - - - - -",disabled:!0}),e.jsx("button",{onClick:p=>{o(!0)},children:e.jsx(re,{icon:"ph:eye-closed"})})]})]})})]})]})}function En(){he();const[s,t]=a.useState("");function n(){const i=Na("control");i&&P.get(`http://localhost:8000/api/payment/check?control=${i}`,{headers:{"Content-Type":"application/json",Accept:"application/xml"}}).then(o=>{const r=o.data,p=new DOMParser().parseFromString(r,"application/xml").getElementsByTagName("voucher")[0];if(p){const d=p.textContent.trim();console.log(d),t(d)}else console.error("Elemento <voucher> no encontrado.")}).catch(o=>{console.error("Error fetching data:",o)})}return a.useEffect(()=>{n()},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"checkout",children:e.jsxs("div",{className:"facture box",children:[e.jsx("img",{className:"logo",src:"/img/icons/logo-l1.png",alt:""}),e.jsx("hr",{}),e.jsx("div",{className:"info",children:e.jsx("p",{children:"Factura"})}),e.jsx("br",{}),e.jsx("pre",{children:s})]})})})}function Fn(){var f,v;const{UserInfo:s}=a.useContext(K),[t,n]=a.useState({contacts:[]}),[i,o]=a.useState(!1),[r,c]=a.useState({delete:!1}),[m,p]=a.useState(null),d=he(),[x,u]=a.useState(!0),l=se();function h(){var q;let w=new FormData;w.append("id_company",(q=s==null?void 0:s.company)==null?void 0:q.id_company),w.append("id_list",d.id),P.post(D+"/api/get/lists/contacts",w,{withCredentials:!0}).then(b=>b.data).then(b=>{n(b)}).finally(()=>{u(!1)})}function j(){var q;let w=new FormData;m?(c({...r,delete:!0}),w.append("id_company",(q=s==null?void 0:s.company)==null?void 0:q.id_company),w.append("id_list",d.id),w.append("id_user",m),P.post(D+"/api/delete/lists/contacts",w,{withCredentials:!0}).then(b=>b.data).then(b=>{b.status&&(le.success("Contacto eliminado de la lista"),o(!1),n(y=>({...y,contacts:y.contacts.filter(_=>_.id_user!==m)})))}).finally(()=>{p(null),c({...r,delete:!1})})):le.error("Error al intentar eliminar")}function g(){l("/contacts/upload/"+d.id)}return a.useEffect(()=>{h()},[]),e.jsxs(e.Fragment,{children:[e.jsx(Fe,{Pending:r==null?void 0:r.delete,onClick:j,visible:i,callback:o,name:"contacto"}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["CONTACTOS: ",e.jsx($,{to:"/contacts/detail/"+d.id,children:(f=t==null?void 0:t.list)==null?void 0:f.name})," "]}),e.jsx("span",{children:"Ve todos los contactos que estan en esta lista"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:Ye,children:e.jsx(We,{})})})]}),x==!1&&((v=t==null?void 0:t.contacts)==null?void 0:v.length)<=0&&e.jsx(e.Fragment,{children:e.jsx(ge,{name:"contactos",addNew:!0,buttonName:"Contactos",callback:g})}),e.jsx("div",{className:"row",children:t==null?void 0:t.contacts.map((w,q)=>e.jsx("div",{className:"col-md-3 page-lists",children:e.jsx("div",{className:"box box-padding",children:e.jsxs("div",{className:"item flex-wrap",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/contacts.webp",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",title:w.name,children:fs(w.name,10)}),e.jsxs("span",{className:"desc",children:[e.jsx(re,{icon:"mdi:email"})," ",fs(w.email,10),"  "]}),w.phone&&e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsxs("span",{className:"desc",children:[e.jsx(re,{icon:"mdi:phone"})," ",w.phone]})]}),e.jsx("br",{})]})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{className:"red",onClick:b=>{o(!0),p(w.id_user)},children:e.jsx(re,{icon:"iconoir:trash"})})})]})})}))})]})}function Dn(){const{LoadingAuth:s}=a.useContext(K);return e.jsxs(e.Fragment,{children:[e.jsx(yt,{}),s?e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:["Cargando... ",e.jsx("div",{className:"loading"})]})]})})}):e.jsx(e.Fragment,{}),e.jsx(bt,{children:e.jsxs(Ct,{children:[e.jsx(W,{path:"/",element:e.jsx($t,{})}),e.jsx(W,{path:"/register",element:e.jsx(zt,{})}),e.jsx(W,{path:"/wizard",element:e.jsx(ti,{})}),e.jsx(W,{path:"/settings-account/account",element:e.jsx(X,{CompanyNeed:!0,Element:gn})}),e.jsx(W,{path:"/settings-account/security",element:e.jsx(X,{CompanyNeed:!0,Element:Be})}),e.jsx(W,{path:"/settings-account/footer",element:e.jsx(X,{CompanyNeed:!0,Element:Be})}),e.jsx(W,{path:"/settings-account/domains",element:e.jsx(X,{CompanyNeed:!0,Element:vn})}),e.jsx(W,{path:"/settings-account/domain/:id",element:e.jsx(X,{CompanyNeed:!0,Element:Cn})}),e.jsx(W,{path:"/settings-account/credentials",element:e.jsx(X,{CompanyNeed:!0,Element:_n})}),e.jsx(W,{path:"/",element:e.jsx(X,{CompanyNeed:!0,Element:aa})}),e.jsx(W,{path:"/home",element:e.jsx(X,{CompanyNeed:!0,Element:aa})}),e.jsx(W,{path:"/campaigns",element:e.jsx(X,{CompanyNeed:!0,Element:Be})}),e.jsx(W,{path:"/campaigns/em",element:e.jsx(X,{CompanyNeed:!0,Element:Be})}),e.jsx(W,{path:"/campaigns/sms",element:e.jsx(X,{CompanyNeed:!0,Element:Be})}),e.jsx(W,{path:"/campaigns/sms-mt",element:e.jsx(X,{CompanyNeed:!0,Element:Be})}),e.jsx(W,{path:"/campaigns/em-mt",element:e.jsx(X,{CompanyNeed:!0,Element:Be})}),e.jsx(W,{path:"/campaigns/new",element:e.jsx(X,{CompanyNeed:!0,Element:Be})}),e.jsx(W,{path:"/campaigns/stats/:id",element:e.jsx(X,{CompanyNeed:!0,Element:on})}),e.jsx(W,{path:"/campaigns/stats/detail/:id",element:e.jsx(X,{CompanyNeed:!0,Element:xn})}),e.jsx(W,{path:"/campaigns/detail/:id",element:e.jsx(X,{CompanyNeed:!0,Element:xi})}),e.jsx(W,{path:"/companys",element:e.jsx(X,{CompanyNeed:!1,Element:Qs})}),e.jsx(W,{path:"/companys/add",element:e.jsx(X,{CompanyNeed:!1,Element:Qs})}),e.jsx(W,{path:"/companys/roles",element:e.jsx(X,{CompanyNeed:!0,Element:di})}),e.jsx(W,{path:"/companys/users",element:e.jsx(X,{CompanyNeed:!0,Element:mi})}),e.jsx(W,{path:"/companys/plans",element:e.jsx(X,{CompanyNeed:!0,Element:kn})}),e.jsx(W,{path:"/checkout/:id",element:e.jsx(X,{CompanyNeed:!0,Element:Sn})}),e.jsx(W,{path:"/checkout/check",element:e.jsx(X,{CompanyNeed:!0,Element:En})}),e.jsx(W,{path:"/contacts/lists",element:e.jsx(X,{CompanyNeed:!0,Element:xs})}),e.jsx(W,{path:"/contacts/lists/add",element:e.jsx(X,{CompanyNeed:!0,Element:xs})}),e.jsx(W,{path:"/contacts/lists/logs/:id",element:e.jsx(X,{CompanyNeed:!0,Element:Nn})}),e.jsx(W,{path:"/contacts/lists/contacts/:id",element:e.jsx(X,{CompanyNeed:!0,Element:Fn})}),e.jsx(W,{path:"/contacts/lists/:type",element:e.jsx(X,{CompanyNeed:!0,Element:xs})}),e.jsx(W,{path:"/contacts/detail/:id",element:e.jsx(X,{CompanyNeed:!0,Element:vi})}),e.jsx(W,{path:"/contacts/upload/:id",element:e.jsx(X,{CompanyNeed:!0,Element:yi})}),e.jsx(W,{path:"/contacts/segments",element:e.jsx(X,{CompanyNeed:!0,Element:dn})}),e.jsx(W,{path:"/contacts/segments/add",element:e.jsx(X,{CompanyNeed:!0,Element:hn})}),e.jsx(W,{path:"/contacts",element:e.jsx(X,{CompanyNeed:!0,Element:en})}),e.jsx(W,{path:"/editor/canvas/:id",element:e.jsx(X,{CompanyNeed:!0,Element:Js})}),e.jsx(W,{path:"/editor/canvas/",element:e.jsx(X,{CompanyNeed:!0,Element:Js})}),e.jsx(W,{path:"/surveys",element:e.jsx(X,{CompanyNeed:!0,Element:bi})}),e.jsx(W,{path:"/surveys/editor",element:e.jsx(X,{CompanyNeed:!0,Element:Xs})}),e.jsx(W,{path:"/surveys/editor/:idsurvey",element:e.jsx(X,{CompanyNeed:!0,Element:Xs})}),e.jsx(W,{path:"/stats/survey/:id",element:e.jsx(X,{CompanyNeed:!0,Element:Pi})}),e.jsx(W,{path:"/stats/survey/:id/detail",element:e.jsx(X,{CompanyNeed:!0,Element:qi})}),e.jsx(W,{path:"/stats/survey/:id/response",element:e.jsx(X,{CompanyNeed:!0,Element:Ti})}),e.jsx(W,{path:"/surveys/preview",element:e.jsx(Ks,{})}),e.jsx(W,{path:"/surveys/preview/:id",element:e.jsx(Ks,{})}),e.jsx(W,{path:"/survey/:id",element:e.jsx(Di,{})}),e.jsx(W,{path:"/shorturls",element:e.jsx(X,{CompanyNeed:!0,Element:Ys})}),e.jsx(W,{path:"/shorturls/add",element:e.jsx(X,{CompanyNeed:!0,Element:Ys})}),e.jsx(W,{path:"/shorturls/:id",element:e.jsx(X,{CompanyNeed:!0,Element:Li})}),e.jsx(W,{path:"/shorturls/campaigns",element:e.jsx(X,{CompanyNeed:!0,Element:Zs})}),e.jsx(W,{path:"/shorturls/campaigns/add",element:e.jsx(X,{CompanyNeed:!0,Element:Zs})}),e.jsx(W,{path:"/shorturls/campaigns/:id",element:e.jsx(X,{CompanyNeed:!0,Element:Ai})}),e.jsx(W,{path:"/qr",element:e.jsx(X,{CompanyNeed:!0,Element:us})}),e.jsx(W,{path:"/qr/add",element:e.jsx(X,{CompanyNeed:!0,Element:us})}),e.jsx(W,{path:"/qr/import",element:e.jsx(X,{CompanyNeed:!0,Element:us})}),e.jsx(W,{path:"/domains",element:e.jsx(X,{CompanyNeed:!0,Element:mn})}),e.jsx(W,{path:"/editor/buttons",element:e.jsx(X,{CompanyNeed:!0,Element:Us})}),e.jsx(W,{path:"/editor/buttons/:id",element:e.jsx(X,{CompanyNeed:!0,Element:Us})}),e.jsx(W,{path:"/buttons/:id",element:e.jsx(Ii,{})}),e.jsx(W,{path:"/buttons",element:e.jsx(X,{CompanyNeed:!0,Element:nn})}),e.jsx(W,{path:"/stats/buttons/:id",element:e.jsx(X,{CompanyNeed:!0,Element:rn})}),e.jsx(W,{path:"/editor/buttonsqr",element:e.jsx(X,{CompanyNeed:!0,Element:sa})}),e.jsx(W,{path:"/editor/buttonsqr/:id",element:e.jsx(X,{CompanyNeed:!0,Element:sa})}),e.jsx(W,{path:"/buttonsqr",element:e.jsx(X,{CompanyNeed:!0,Element:ln})}),e.jsx(W,{path:"/buttonsqr/:id",element:e.jsx(cn,{})}),e.jsx(W,{path:"/test",element:e.jsx(Mi,{})}),e.jsx(W,{path:"/testiphone",element:e.jsx(yn,{})}),e.jsx(W,{path:"/recovery",element:e.jsx(Zi,{})}),e.jsx(W,{path:"/editor/landings",element:e.jsx(sn,{})}),e.jsx(W,{path:"/landings",element:e.jsx(X,{CompanyNeed:!0,Element:an})}),e.jsx(W,{path:"/landing/:id",element:e.jsx(tn,{})}),e.jsx(W,{path:"/templates",element:e.jsx(X,{CompanyNeed:!0,Element:un})}),e.jsx(W,{path:"/logout",element:e.jsx(bn,{})})]})})]})}const Pn=a.createContext(),qn=s=>{const[t,n]=a.useState({});return e.jsx(Pn.Provider,{value:{App:t,setApp:n},...s})},Tn=a.createContext();function Ln(s){const[t,n]=a.useState();return a.useEffect(()=>{document.title=t},[t]),a.useEffect(()=>{n("Radarsystems - App")},[]),e.jsx(Tn.Provider,{value:{setTitle:n},...s})}wt.createRoot(document.getElementById("root")).render(e.jsx(kt.StrictMode,{children:e.jsx(Ot,{children:e.jsx(Bt,{children:e.jsx(qn,{children:e.jsx(Ln,{children:e.jsx(Dn,{})})})})})}));
