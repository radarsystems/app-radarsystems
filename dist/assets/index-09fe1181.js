import{u as Z,r as t,j as e,L as O,$ as q,a as P,n as M,I as Ke,b as Is,c as ss,d as Hs,e as te,f as Ee,g as Oe,h as Ne,_ as ve,i as Gs,k as Js,M as pe,V as Xs,l as Ze,m as We,o as Ks,p as re,q as Ys,s as os,A as Zs,t as Us,v as ea,w as sa,x as aa,y as ta,z as ia,B as na,C as xe,D as Me,E as fe,F as la,G as as,H as ca,J as ra,K as Ve,N as Re,O as da,P as ye,Q as ps,R as oa,S as pa,T as ne,U as Pe,W as De,X as ma,Y as xa,Z as ha,a0 as ua,a1 as Es,a2 as ja,a3 as ga,a4 as va,a5 as fa,a6 as Na,a7 as ya,a8 as Ye,a9 as Ca,aa as ba,ab as wa,ac as ka,ad as Qe,ae as ze,af as ts,ag as Sa,ah as _s,ai as Fs,aj as Ds,ak as Ps,al as Ts,am as qs,an as Ls,ao as As,ap as Os,aq as Ms,ar as Ea,as as ms,at as _a,au as Rs,av as Fa,aw as Da,ax as Pa,ay as Ta,az as qa,aA as xs,aB as $s,aC as La,aD as Aa,aE as Oa,aF as Ma,aG as Ra,aH as $a,aI as za,aJ as Ba,aK as B,aL as Va,aM as Wa}from"./vendor-6b4b0c5b.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function c(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(i){if(i.ep)return;i.ep=!0;const l=c(i);fetch(i.href,l)}})();const E="https://api.radarsystems.net",Je="https://radarsystems.net";function Qa(){let s=Z();const[a,c]=t.useState({user:"",password:""});function n(l){l.stopPropagation(),l.preventDefault(),q(l.target).addClass("await"),a.password&&a.user?P.post(E+"/api/auth/login",a,{withCredentials:!0}).then(o=>o.data).then(o=>{o.status&&s("/home"),o.msg&&M.error(o.msg),q(l.target).removeClass("await")}).catch(o=>{M.error(String(o)),q(l.target).removeClass("await")}):q(l.target).removeClass("await")}function i(l){c({...a,[l.target.name]:l.target.value})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"row auth",children:[e.jsxs("div",{className:"col-auth-left",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"img/icons/logo-l1.png",alt:""})}),e.jsxs("div",{className:"align",children:[e.jsxs("span",{className:"title-welcome",children:["Bienvenido de nuevo. ",e.jsx("br",{})," Inicia ahora."]}),e.jsxs("span",{className:"text-register",children:["¿Aun no tienes cuenta?, ",e.jsx(O,{to:"/register",children:"Registrate ahora"})]}),e.jsxs("form",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Usuario"}),e.jsx("input",{type:"text",name:"user",onChange:i})]}),e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{children:["Password",e.jsx(O,{className:"forgot",to:"/recovery",children:"¿Olvidó?"})]}),e.jsx("input",{type:"password",name:"password",onChange:i})]}),e.jsx("span",{}),e.jsxs("button",{className:"sign",onClick:n,children:["INICIAR SESION ",e.jsx("div",{className:"loading"})]})]})]})]}),e.jsx("div",{className:"col-auth-right right",children:e.jsx("div",{className:"align",children:e.jsx("div",{className:"carousel",children:e.jsxs("div",{className:"item",children:[e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestiae perspiciatis nulla commodi accusamus. Reprehenderit, earum quibusdam laboriosam aliquam dolore ullam doloremque ratione possimus ex neque minus velit iste suscipit odit!"}),e.jsx("img",{src:"img/auth/People-welcome.png"})]})})})})]})})}function Ia(){const[s,a]=t.useState({user:"",email:"",password:"",rpassword:""});function c(i){i.stopPropagation();let l=i.target.name,o=i.target.value;a({...s,[l]:o})}function n(i){i.stopPropagation(),i.preventDefault(),q(i.target).addClass("await"),P.post(E+"/api/auth/register",s,{withCredentials:!0}).then(l=>l.data).then(l=>{l.msg&&M.error(l.msg),q(i.target).removeClass("await")}).catch(l=>{q(i.target).removeClass("await")})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"row auth",children:[e.jsxs("div",{className:"col-auth-left",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"img/icons/logo-l1.png",alt:""})}),e.jsxs("div",{className:"align",children:[e.jsxs("span",{className:"title-welcome",children:["Bienvenido.",e.jsx("br",{})," Registrate ahora!."]}),e.jsxs("span",{className:"text-register",children:["¿Opps ya tienes una cuenta?, ",e.jsx(O,{to:"/",children:"Ingresar"})]}),e.jsxs("form",{className:"form",onChange:c,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Usuario"}),e.jsx("input",{type:"text",name:"user"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo"}),e.jsx("input",{type:"text",name:"email"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Contraseña"}),e.jsx("input",{type:"password",name:"password"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Repite Contraseña"}),e.jsx("input",{type:"password",name:"rpassword"})]}),e.jsx("span",{}),e.jsxs("button",{className:"sign",onClick:n,children:["REGISTRARSE",e.jsx("div",{className:"loading"})]})]})]})]}),e.jsx("div",{className:"col-auth-right right",children:e.jsx("div",{className:"align",children:e.jsx("div",{className:"carousel",children:e.jsxs("div",{className:"item",children:[e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestiae perspiciatis nulla commodi accusamus. Reprehenderit, earum quibusdam laboriosam aliquam dolore ullam doloremque ratione possimus ex neque minus velit iste suscipit odit!"}),e.jsx("img",{src:"img/auth/People-welcome.png"})]})})})})]})})}async function Ha(s){return await P.get(E+"/api/get/company?id_company="+s,{withCredentials:!0}).then(c=>c.data)}async function Ga(){return await P.post(E+"/api/get/companys",{},{withCredentials:!0}).then(s=>s.data)}function Se(s){return window.location.pathname.includes(s)}function Xe(s){let a=document.cookie;a=a.split(";");let c;return a.forEach((n,i)=>{n.indexOf(`${s}=`)>=0&&(c=n.replace(`${s}=`,""))}),c}function Ue(s){q(s).addClass("await")}function ke(s){q(s).removeClass("await")}function Ce(s=15){return Math.random().toString(36).substring(2,s+2)}function Ja(s,a){return new Promise((c,n)=>{try{let i=s.target.files[0],l={file:"",analize:""},o=new FileReader;o.onload=async function(p){let u=!0,x=p.currentTarget.result.split(`
`),d=x[0].split(","),h=!1;d.forEach(g=>{(g=="email"||g=="phone")&&(h=!0)}),h?await(async()=>{for(var j=1;j<x.length;j++){let r=d.length,m=x[j].split(",").length;r!==m&&(u=!1);let v=(j+1)/x.length*100;v%5===0&&await new Promise(f=>setTimeout(()=>{a(v),f()},0))}u?(l.analize="good",l.file=i,c(l)):(l.analize="bad",n(l))})():(l.analize="bad",n(l))},o.readAsText(i)}catch{response.analize="bad",n(response)}})}function is(s,a){return`${E}/api/get/imgtemplate?img=${a}&folder=${s}`}function le(s,a=void 0){const c=new Date(s*1e3),n=c.getDate(),i=c.getMonth()+1,l=c.getFullYear(),o=c.getHours(),p=c.getMinutes();switch(a){case"full":var u=`${n}/${i}/${l} ${o}:${p}`;break;default:var u=`${n}/${i}/${l}`;break}return u}function zs(s){return s?s=String(s).toLowerCase():s="undefined",s=="undefined"?window.location.origin+"/img/icons/countrys/"+s+".png":window.location.origin+"/img/icons/countrys/"+s+".svg"}function Bs(s){let a;switch(s&&(s=String(s).toLocaleLowerCase()),s){case"ve":a="Venezuela";break;case"ca":a="Canada";break;default:a="Undefined";break}return a}function Xa(s){return s!==void 0&&(s=String(s).toLowerCase()),(s.indexOf("mac")>=0||s.indexOf("apple")>=0)&&(s="apple"),s.indexOf("windows")>=0&&(s="windows"),s.indexOf("linux")>=0&&(s="linux"),s.indexOf("android")>=0&&(s="android"),s!=="windows"&&s!=="apple"&&s!=="android"&&s!=="linux"&&(s="undefined"),"/img/icons/systems/"+s+".png"}function Ka(s){return"/img/icons/apps/"+s+".png"}function Ge(s){return E+"/api/get/previewqr?url="+s}function Ya(s){return{fb:"Facebook",in:"Instagram",x:"X (Twitter)",email:"Correo",sms:"Sms",tik:"Tiktok",linkd:"Linkedin",yt:"Youtube",tele:"Telegram",ws:"Whatsapp",others:"Otros"}[s]||""}function Za(s){return!!/^[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(s)}function ns(s){var c,n;let a;return(c=s==null?void 0:s.company)!=null&&c.photo?a=E+"/api/get/photoprofile?hash="+((n=s==null?void 0:s.company)==null?void 0:n.photo):a="img/icons/default_profile.png",a}function hs(s){return s>=1&&s<=9?"0"+s:s.toString()}function Ua(s,a){return s.length>a?s.substring(0,a)+"...":s}const J=t.createContext(),et=s=>{const[a,c]=t.useState({}),[n,i]=t.useState(!1),[l,o]=t.useState(!0);return t.useEffect(()=>{function p(){let u=Xe("company"),x=new FormData;x.append("id_company",u),u&&P.post(E+"/api/get/company",x,{withCredentials:!0}).then(d=>d.data).then(d=>{c({...a,company:d[0]})})}(async function(){Xe("token")&&await P.get(E+"/api/get/my",{withCredentials:!0}).then(x=>x.data).then(x=>{x.id_admin&&(i(!0),c(x),p(),o(!1))})})()},[]),e.jsx(J.Provider,{value:{UserInfo:a,setUserInfo:c,Auth:n,LoadingAuth:l},...s})},de=t.createContext(),st=s=>{const[a,c]=t.useState(0),{Auth:n,UserInfo:i}=t.useContext(J),[l,o]=t.useState({type:"",company:"",loading:!0,process:{}});function p(h,g){switch(g){case"active":q(h).addClass("await");break;case"remove":q(h).removeClass("await");break}}function u(h,g){h.stopPropagation();let j=q(h.target);j.parents(".selector").find(".active").removeClass("active"),j.addClass("active"),g(h.target.value)}function x(h,g){h.stopPropagation();let j=q(h.target);j.parents(".items-result").find(".active").removeClass("active"),j.addClass("active"),g(q(h.target).attr("value"))}function d(){c(a-1)}return t.useEffect(()=>{n&&async function(){if(i.company_default){let h=await Ha(i.company_default);o({...l,loading:!1,company:h})}else o({...l,loading:!1})}()},[n]),t.useEffect(()=>{o(h=>({...h,tutorial_wizard:i.tutorial_wizard}))},[i]),e.jsx(de.Provider,{value:{Prev:d,wizard:l,SelectorItem:x,AwaitButton:p,Selector:u,setWizard:o,position:a,setPosition:c},...s})};function he({Next:s}){const{setPosition:a,position:c}=t.useContext(de),{wizard:n,setWizard:i}=t.useContext(de),[l,o]=t.useState({});function p(){a(c-1)}return t.useEffect(()=>{n.company&&o(n.company)},[n]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"buttons-action ",children:[(l==null?void 0:l.name)!==void 0?e.jsx(e.Fragment,{children:e.jsxs("button",{className:"button-company",children:[e.jsx("img",{src:"img/icons/default_profile.png",alt:""}),l.name]})}):"",e.jsx("button",{className:"prev",onClick:p,children:"<"}),e.jsxs("button",{className:"next",onClick:s,children:["Siguiente ",e.jsx("div",{className:"loading"})]})]})})}function at(){function s(){}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left"}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Subir contactos"}),e.jsx("span",{className:"desc",children:"Sube tus contactos a la lista."})]}),e.jsx("div",{}),e.jsx(he,{Next:s})]})]})})}function tt(){const{wizard:s,setWizard:a,setPosition:c,AwaitButton:n}=t.useContext(de),[i,l]=t.useState(!1),[o,p]=t.useState({name:""});function u(d){if(i)c(h=>h+1);else{n(d.target,"active");let h=new FormData;h.append("name",o.name),h.append("id_company",s.company.id_company),s.type=="email"?h.append("type_c","email"):s.type=="sms"&&h.append("type_c","sms"),P.post(E+"/api/upload/list",h,{withCredentials:!0}).then(g=>g.data).then(g=>{g.status&&(M.success("Lista creada existosamente!"),c(j=>j+1),l(!0),g.id_list&&a(j=>({...j,process:{...j.process,id_list:g.id_list}}))),g.msg&&M.error(g.msg),n(d.target,"remove")}).catch(g=>{M.error(""+g),n(d.target,"remove")})}}function x(d){p(h=>({...h,[d.target.name]:d.target.value}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Nueva lista"}),e.jsx("img",{src:"img/icons/lists.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crear lista"}),e.jsx("span",{className:"desc",children:"Crea una nueva lista y luego ingresa los contactos"})]}),e.jsx("div",{className:"form",children:e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",name:"name",placeholder:"Nombre de lista",onChange:x})})}),e.jsx(he,{Next:u})]})]}),i==!0?e.jsx(at,{}):""]})}function it(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Welcome"}),e.jsx("img",{src:"/img/icons/email-alert.png",alt:""})]})}),e.jsx("div",{className:"right",children:e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"titel",children:"Seleccionar lista"}),e.jsx("span",{className:"desc",children:"Selecciona una lista para integrarla a la campaign que has elegido."})]})})]})})}function nt(){const{Selector:s,setPosition:a}=t.useContext(de),[c,n]=t.useState();function i(o){n(o)}function l(){(c=="new"||c=="select")&&a(o=>o+1)}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elegir lista"}),e.jsx("img",{src:"img/icons/wizard-contacts.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu lista"}),e.jsx("span",{className:"desc",children:"Desde aqui puedes elegir rapidamente una lista de contactos, subirla o subirlos manualmente."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"select",onClick:o=>{s(o,i)},children:"Seleccionar de una lista"}),e.jsx("button",{value:"new",onClick:o=>{s(o,i)},children:"Crear una nueva lista"})]}),e.jsx(he,{Next:l})]})]}),c=="new"?e.jsx(tt,{}):c=="select"?e.jsx(it,{}):""]})}function lt(){function s(){}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left"}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Hola"}),e.jsx("span",{className:"desc",children:"hola"})]}),e.jsx(he,{Next:s})]})]})})}function ct(){const{wizard:s,setWizard:a,AwaitButton:c}=t.useContext(de),[n,i]=t.useState(!1),l=Z();function o(u){c(u.target,"active");let x=new FormData;i("pending"),x.append("id_campaign",s.process.id_campaign),x.append("email",s.process.email),x.append("str_affair",s.process.affair),x.append("str_body",s.process.body),x.append("id_company",s.company.id_company),P.post(E+"/api/send/mt",x,{withCredentials:!0}).then(d=>d.data).then(d=>{c(u.target,"remove"),d.status&&(i(!0),s.tutorial_wizard&&setTimeout(()=>{P.get("/api/get/tutowizard",{withCredentials:!0}),l("/home")},2e3)),d.msg&&M.error(d.msg)}).catch(d=>{c(u.target,"remove")})}function p(u){o(u)}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option active",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Detalles de envio"}),e.jsx("img",{src:"img/icons/send-email2.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Envio de campaign"}),e.jsx("span",{className:"desc",children:"Enhora buena! Has llegado al ultixmo paso."})]}),e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Previsualizacion del envio"}),e.jsx("div",{className:"structure",children:e.jsxs("ul",{children:[e.jsxs("li",{children:["Correo para: ",e.jsx("b",{children:s.process.email})]}),e.jsxs("li",{children:["Asunto: ",e.jsx("b",{children:s.process.affair})]}),e.jsxs("li",{children:["Bajo la compania: ",e.jsx("b",{children:s.company.name})]}),e.jsxs("li",{children:["Status de envio: ",n==!1?e.jsxs("i",{className:"text-yellow",children:[e.jsx(Ke,{})," En espera de confirmacion..."]}):n=="pending"?e.jsxs("i",{children:[e.jsx(Is,{})," Enviando..."]}):n==!0?e.jsxs("i",{className:"success",children:[e.jsx(ss,{})," Enviado"]}):""]})]})})]}),e.jsx(he,{Next:p})]})]})})}function rt(){const{setWizard:s,setPosition:a}=t.useContext(de),[c,n]=t.useState(),[i,l]=t.useState(!1);function o(){c?(a(p=>p+1),s(p=>({...p,process:{...p.process,email:c}})),l(!0)):M.error("Opps! No has proporcionado un correo valido")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elegir correo"}),e.jsx("img",{src:"img/icons/email-2.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Asignar el correo"}),e.jsx("span",{className:"info",children:"Elige el correo al cual se le enviara este email."})]}),e.jsx("div",{className:"form",children:e.jsx("div",{className:"form-input",children:e.jsx("input",{placeholder:"Correo electronico",type:"email",onChange:p=>{n(p.target.value)}})})}),e.jsx(he,{Next:o})]})]}),i==!0?e.jsx(ct,{}):""]})}function dt(){const{setPosition:s,wizard:a,setWizard:c}=t.useContext(de),[n,i]=t.useState({status:!1,preview:!1,isHtml:!1,file:{},preview_html:"",affair:"",vars:[]});function l(){n.affair?n.preview_html?(c(j=>({...j,process:{...j.process,body:n.preview_html,affair:n.affair,vars:n.vars}})),s(j=>j+1),i(j=>({...j,status:!0}))):M.error("No tienes ningun formato html asignado."):M.error("Opps has dejado el asunto vacio.")}function o(j){let r=j.target.files[0];if(r.type=="text/html"){i(v=>({...n,file:r}));let m=new FileReader;m.onload=function(v){i(f=>({...f,preview_html:v.target.result}))},m.readAsText(r)}}function p(){i(j=>({...j,preview:!0}))}function u(){i(j=>({...j,preview_html:"",preview:!1,file:{}})),document.querySelector(".option.active input[type='file']").value=""}function x(){i(j=>({...j,preview:!1}))}function d(j){i(r=>({...r,affair:j.target.value}))}function h(j){let m=q(j.target).parents(".form-input").find("input"),v=m.val();n.vars.length<8&&(i(f=>({...f,vars:[...f.vars,v]})),m.val(""))}function g(j){let r=j.target.value;i(m=>({...m,vars:m.vars.filter(v=>v!==r)}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[n.preview==!1?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Personaliza tu frontend"}),e.jsx("img",{src:"img/icons/frontend.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Personalizar body"}),e.jsx("span",{className:"desc",children:"Personaliza tu body para tu envio"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"xd",children:"Este campo es especial, dale click al signo de interrogacion para ver sus funcionalidades."}),e.jsx("input",{type:"text",placeholder:"Asunto",onChange:d})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"xd",children:"Estas variables se enviaran en forma organizada, es decir desde el principio al fin. y deben de ser interpretadas en su archivo .html con un $1,$2."}),e.jsxs("div",{className:"special",children:[e.jsx("input",{type:"text",placeholder:"Variables",onChange:d}),e.jsx("button",{className:"action",onClick:h,children:"Agregar"})]}),e.jsx("div",{className:"tags",children:n.vars.map((j,r)=>e.jsx("button",{onClick:g,value:j,children:j},r))})]}),e.jsx("div",{className:"buttons",children:n.file.type=="text/html"?e.jsxs("div",{className:"file-on",children:[e.jsxs("span",{className:"name-file",children:[e.jsx(Hs,{})," ",n.file.name]}),e.jsx("button",{className:"remove",onClick:u,children:e.jsx(te,{})})]}):e.jsxs("button",{onClick:j=>{document.querySelector(".option.active input[type='file']").click()},children:[e.jsx(Ee,{})," Subir Archivo"]})})]}),e.jsx("div",{className:"buttons",children:n.file.type!=="text/html"?e.jsx("button",{children:"Editor html"}):e.jsx("button",{onClick:p,children:"Vista previa"})}),e.jsx(he,{Next:l})]})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"preview-html",children:[e.jsxs("div",{className:"actions-preview",children:[e.jsx("button",{className:"left",onClick:x,children:e.jsx(Oe,{})}),e.jsx("button",{className:"left",onClick:u,children:e.jsx(te,{})}),e.jsx("div",{className:"right-preview",children:e.jsxs("button",{className:"upload-new",onClick:j=>{document.querySelector(".option.active input[type='file']").click()},children:[e.jsx(Ee,{})," Subir nuevo archivo"]})})]}),e.jsx("div",{className:"preview",dangerouslySetInnerHTML:{__html:n.preview_html}})]})}),e.jsx("input",{type:"file",accept:".html",onChange:o,hidden:!0})]}),n.status==!0?e.jsx(rt,{}):""]})}function ot(){const{Selector:s,setPosition:a}=t.useContext(de),[c,n]=t.useState();function i(){(c=="new"||c=="select")&&a(o=>o+1)}function l(o){n(o)}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Selecciona la plantilla"}),e.jsx("img",{src:"img/icons/body-html.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Selecciona tu estructura"}),e.jsx("span",{className:"desc",children:"Selecciona la estructura de correo que usaras para enviar esta campaign"})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"new",onClick:o=>{s(o,l)},children:"Crear un body"}),e.jsx("button",{value:"select",onClick:o=>{s(o,l)},children:"Ya tengo uno"})]}),e.jsx(he,{Next:i})]})]}),c=="new"?e.jsx(dt,{}):c=="select"?e.jsx(lt,{}):""]})}function Vs(){const{Selector:s,setWizard:a,setPosition:c,position:n}=t.useContext(de),[i,l]=t.useState();function o(){i!==void 0||i!==""?c(n+1):M.error("!Opps no has seleccionado el tipo de envio")}function p(u){l(u),a(x=>({...x,process:{...x.process,type_send:u}}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Selecciona el tipo"}),e.jsx("img",{src:"img/icons/send-type.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige el tipo de envio"}),e.jsx("span",{className:"desc",children:"Aca tienes que elegir que tipo de envio quieres que sea. Es decir, puedes elegir entre un envio "})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"masive",onClick:u=>{s(u,p)},children:"Envíos de campañas masivas"}),e.jsx("button",{value:"ind",onClick:u=>{s(u,p)},children:"Envio Individual"})]}),e.jsx(he,{Next:o})]})]}),i=="ind"?e.jsx(ot,{}):i=="masive"?e.jsx(nt,{}):""]})}function pt(){const[s,a]=t.useState({name:"",ocation:"",id_company:""}),{AwaitButton:c,wizard:n,Prev:i,position:l,setPosition:o}=t.useContext(de);t.useState(!1);const[p,u]=t.useState(!0);function x(h){c(h.target,"active");let g=new FormData;g.append("name",s.name),g.append("ocation",s.ocation),g.append("id_company",s.id_company),n.type=="email"&&g.append("type_c","em"),n.type=="sms"&&g.append("type_c","sms"),P.post(E+"/api/upload/campaign",g,{withCredentials:!0}).then(j=>j.data).then(j=>{j.msg&&M.error(j.msg),j.status&&o(l+1),c(h.target,"remove")}).catch(j=>{c(h.target,"remove")})}function d(h){a({...s,[h.target.name]:h.target.value})}return t.useEffect(()=>{a({...s,id_company:n.company.id_company})},[n]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Una nueva aventura!"}),e.jsx("img",{src:"img/icons/new-campaign.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crea una nueva campaña"}),e.jsx("span",{className:"desc",children:"Para crear una nueva campaña necesitas informacion basica para darle un nombre y un objetivo a tu campaña."})]}),e.jsxs("div",{className:"form",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",name:"name",placeholder:"Titulo de campaña",onChange:d})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"ocation",id:"",onChange:d,children:[e.jsx("option",{value:"default",children:"Por defecto"}),e.jsx("option",{value:"email",children:"Cumpleaños"})]})})]}),e.jsxs("div",{className:"buttons-action ",children:[e.jsx("button",{className:"prev",onClick:i,children:"<"}),e.jsxs("button",{className:"next",onClick:x,children:["Siguiente ",e.jsx("div",{className:"loading"})]})]})]})]}),p==!0?e.jsx(Vs,{}):""]})}function Ws({loading:s}){return e.jsx(e.Fragment,{children:s==!0?e.jsx("div",{className:"wizard-loading-circle"}):""})}function mt(){const{setPosition:s,setWizard:a,wizard:c,SelectorItem:n}=t.useContext(de),[i,l]=t.useState(!0),[o,p]=t.useState(),[u,x]=t.useState([]);function d(){o>=1?s(g=>g+1):ve.error("!Opps no has seleccionado una campaign")}function h(g){a(j=>({...j,process:{...j.process,id_campaign:g}})),p(g)}return t.useEffect(()=>{let g=new FormData;g.append("id_company",c.company.id_company),P.post(E+"/api/get/campaign",g,{withCredentials:!0}).then(j=>j.data).then(j=>{x(j.results),l(!1)}).catch(j=>{l(!1)})},[]),t.useEffect(()=>{console.log(c)},[c]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elige tu campaña"}),e.jsx("img",{src:"img/icons/wizard-selectcampaign.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu campaña"}),e.jsx("span",{className:"desc",children:"Selecciona rapidamente una de tus campañas para seguir al siguiente paso."})]}),e.jsxs("div",{className:"items-result",children:[u.map((g,j)=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"item select",value:g.id_campaign,onClick:r=>{n(r,h)},children:[e.jsx("img",{src:"img/icons/campaign_profile.png",alt:""}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:g.name}),e.jsxs("span",{children:["Creada el ",g.time_add]}),e.jsx("div",{className:"circle",children:e.jsx("i",{children:e.jsx(Ne,{})})})]})]})})),e.jsx(Ws,{loading:i})]}),e.jsx(he,{Next:d})]})]}),Number(o)=="NaN"?e.jsx(Vs,{}):""]})}function us(){const[s,a]=t.useState({campaign:"",campaign_name:"",actions:{campaign:""}}),{Selector:c,Prev:n,position:i,setPosition:l}=t.useContext(de);function o(){p()}function p(){let x=!1;switch(i){case 2:s.actions.campaign=="new"||s.actions.campaign=="select"?x=!0:M.error("Opps no has seleccionado nada.");break}x&&l(i+1)}function u(x){a({...s,actions:{campaign:x}})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",style:{display:"none"},children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Campañas"}),e.jsx("img",{src:"img/icons/email-alert.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu campana"}),e.jsx("span",{className:"desc",children:"Crea tu campana rapidamente solamente eligiendo un nombre y ajustandola a tus preferencias. Tambien puedes reutilizar alguna campana antigua."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"new",onClick:x=>{c(x,u)},children:"Crear una nueva"}),e.jsx("button",{value:"select",onClick:x=>{c(x,u)},children:"Ya tengo una"})]}),e.jsx(he,{Next:o})]})]}),s.actions.campaign=="new"?e.jsx(pt,{}):e.jsx(mt,{})]})}function ue({color:s,fn:a}){function c(n){n.stopPropagation();let i=q(n.target),l=i.parents(".colors");i.parents(".colors").find(".active").removeClass("active"),i.addClass("active"),l.find("button").css({opacity:"0.5"}),i.css({opacity:"1"})}return e.jsx(e.Fragment,{children:e.jsx("button",{className:"option-color",style:{background:s},value:s,onClick:n=>{a(n.target.value),c(n)}})})}function xt(){const{Prev:s,AwaitButton:a,setPosition:c}=t.useContext(de),[n,i]=t.useState({name:"",type:"",color:"",default:"false"});function l(u){i({...n,color:u})}function o(u){let x=u.target.value,d=u.target.name;i({...n,[d]:x})}function p(u){n.name&&n.type&&n.color?(a(u.target,"active"),P.post(E+"/api/upload/company",n,{withCredentials:!0}).then(x=>x.data).then(x=>{a(u.target,"remove"),x.status&&(M.success("Company creada con exito"),c(1),q("button.active").removeClass("active")),x.msg&&M.error(x.msg)}).catch(x=>{a(u.target,"remove")})):M.error("Opps no has terminado los campos")}return e.jsx(e.Fragment,{children:status==!1?e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Nuevas ideas!"}),e.jsx("img",{src:"img/icons/cohete-men.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crear empresa"}),e.jsx("span",{className:"desc",children:"Personaliza tu empresa, con colores u imagen para poder identificarla si tienes otras empresas por registrar. Elige un nombre y comienza!"})]}),e.jsxs("div",{className:"form",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de empresa",name:"name",onChange:o})}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{htmlFor:"",children:"Tipo de empresa"}),e.jsx("select",{name:"type",id:"",onChange:o})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{children:"Elige un color"}),e.jsx("span",{className:"desc",children:"El color te ayudara a identificar tu empresa."}),e.jsxs("div",{className:"colors",children:[e.jsx(ue,{color:"#2e56ff",fn:l}),e.jsx(ue,{color:"#57c583",fn:l}),e.jsx(ue,{color:"#3fcae9",fn:l}),e.jsx(ue,{color:"#e9d43f",fn:l}),e.jsx(ue,{color:"#d77613",fn:l}),e.jsx(ue,{color:"#c069cb",fn:l}),e.jsx(ue,{color:"#cb6992",fn:l})]})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{children:"Seleccionar como predeterminada"}),e.jsx("span",{className:"desc",children:"Si la eliges como predeterminada automaticamente se usara sin necesidad de seleccionarla."}),e.jsx("br",{}),e.jsxs("select",{name:"default",id:"",onChange:o,children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Si"})]})]})]}),e.jsx(he,{Prev:s,Next:p})]})]}):e.jsx(e.Fragment,{})})}function ht(){const{wizard:s,setWizard:a,setPosition:c}=t.useContext(de),[n,i]=t.useState([]),[l,o]=t.useState(!0);function p(){}t.useEffect(()=>{(async function(){i(await Ga()),o(!1)})()},[]),t.useEffect(()=>{s.company},[s]);function u(x,d){x.stopPropagation();let h=n[d];h.id_company&&(c(1),a({...s,company:h}))}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Usa tu empresa"}),e.jsx("img",{src:"img/icons/hot-company.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige una empresa"}),e.jsx("span",{children:"Elige una de las empresar anteriormente creadas."})]}),e.jsxs("div",{className:"companys",children:[n.map((x,d)=>e.jsxs("div",{className:"company",children:[e.jsx("img",{className:"photo-profile",src:"img/icons/default_profile.png",alt:""}),e.jsxs("span",{className:"title",children:[x.name," ",e.jsx("span",{className:"color",style:{background:x.color}})]}),e.jsx("button",{className:"use",onClick:h=>{u(h,d)},children:"Usar"})]},d)),e.jsx(Ws,{loading:l})]}),e.jsx(he,{Next:p})]})]})})}function ut(){const[s,a]=t.useState({action:""}),{Selector:c,Prev:n,position:i,setPosition:l}=t.useContext(de);function o(x){a({...s,action:x})}function p(){u()}function u(){let x=!1;switch(s.action){case"go":x=!0;break;case"new":x=!0;break}x?l(i+1):M.error("No has seleccionado ninguna opcion.")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Tu empresa"}),e.jsx("img",{src:"img/icons/hot-company.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:" Elige tu empresa"}),e.jsx("span",{className:"desc",children:"Debes elegir tu empresa para comenzar, o tambien podrias crear una empresa nueva. Estas empresas tendran (estadisticas,contactos,envios) totalmente autonomos."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{onClick:x=>{c(x,o)},value:"go",children:"Ya tengo una"}),e.jsx("button",{onClick:x=>{c(x,o)},value:"new",children:"Crear una nueva"})]})}),e.jsx(he,{Prev:n,Next:p})]})]}),s.action=="new"?e.jsx(xt,{}):e.jsx(ht,{})]})}function jt(){return e.jsx(e.Fragment,{children:"xd"})}function gt(){const{position:s,setPosition:a,wizard:c,setWizard:n,Selector:i,Prev:l}=t.useContext(de);function o(){p()}function p(){let d=!1;switch(s){case 0:d=!0;break;case 1:if(c.type)switch(c.type){case"email":c.company?d=!0:M.error("No tienes una empresa seleccionada.");break;case"sms":c.company?d=!0:M.error("No tienes una empresa seleccionada.");break;default:d=!0;break}else M.error("No has seleccionado ninguna opcion");break}d&&a(s+1)}function u(d){n({...c,type:d})}t.useEffect(()=>{q(".wizard .option.active").removeClass("active"),q(".wizard .option").eq(s).addClass("active")},[s]);const x={email:e.jsx(us,{}),sms:e.jsx(us,{}),verifiedEmail:e.jsx(jt,{})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"wizard",children:e.jsxs("div",{className:"body",children:[c.loading?e.jsx("div",{className:"wizard-loading",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{className:"logo-center",src:"img/icons/logo-l1.png",alt:""}),e.jsx("div",{className:"line"})]})}):e.jsx(e.Fragment,{}),e.jsxs("div",{className:"options",children:[e.jsxs("div",{className:"option center active",children:[e.jsxs("div",{className:"center",children:[e.jsx("img",{className:"logo-center",src:"img/icons/logo-l1.png",alt:""}),e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Welcome to RadarSystems"}),e.jsx("span",{className:"desc",children:"Hola este wizard te ayudara a armar tu primera campaign de emails / sms te, te mostraremos paso por paso como hacer lo que necesitas."})]}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"",id:"",children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"Seleccionar Idioma"}),e.jsx("option",{value:"",children:"Espanol"}),e.jsx("option",{value:"",children:"Ingles"})]})})]}),e.jsx("div",{className:"buttons-action ",children:e.jsx("button",{className:"next",onClick:o,children:"Comenzar"})})]}),c.company==""?e.jsx(ut,{}):e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Empezemos ahora"}),e.jsx("img",{src:"img/icons/wizard-help.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"¿Qué necesitas?"}),e.jsx("span",{children:"Puedes hacer diferentes acciones en la que podemos ayudarte mediante este wizard. Elige cual es de tu interes, asi podremos ayudarte facilmente."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{onClick:d=>{i(d,u)},value:"ac",children:"Elegir Empresa"}),e.jsx("button",{onClick:d=>{i(d,u)},value:"email",children:"Campañas de Correos"}),e.jsx("button",{onClick:d=>{i(d,u)},value:"sms",children:"Campañas de Sms"}),e.jsx("button",{className:c.tutorial_wizard==!0?"opacity-tutorial":"",onClick:d=>{i(d,u)},value:"vemail",children:"Verificador de Correos"}),e.jsx("button",{className:c.tutorial_wizard==!0?"opacity-tutorial":"",onClick:d=>{i(d,u)},value:"ac",children:"Acortador de Url"})]}),e.jsx(he,{Prev:l,Next:o})]})]}),x[c.type]]})]})})})}function vt(){const{UserInfo:s}=t.useContext(J),[a,c]=t.useState(),n=Z();t.useEffect(()=>{s.company_default==null&&s.company==null&&c(!0),s.company!==void 0&&c(!1)},[s]);function i(l){l.stopPropagation();let o=q(l.target),p=o.parents("li"),u=o.parents("li").find("ul"),x=q(".header-left").find("button.active"),d=q(".header-left").find("ul.active");x.parents("li").index()!==p.index()?(d.slideToggle(),d.removeClass("active"),x.removeClass("active"),o.addClass("active"),u.addClass("active"),u.slideToggle()):(x.removeClass("active"),d.removeClass("active"),d.slideToggle())}return Xe("token"),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"header-left",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"/img/icons/logo.png",alt:""})}),e.jsxs("ul",{children:[e.jsx("li",{className:a?"opacity":"",children:e.jsxs("button",{onClick:l=>{n("/home")},children:[e.jsx("i",{className:"icon",children:e.jsx(Gs,{})})," Home ",e.jsx("i",{className:"arrow"})]})}),e.jsxs("li",{children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(Js,{})})," Configuracion ",e.jsx("i",{className:"arrow",children:e.jsx(pe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(O,{to:"/settings-account/account",children:"Cuenta"})}),e.jsx("li",{children:e.jsx(O,{to:"/settings-account/security",children:"Seguridad"})}),e.jsx("li",{children:e.jsx(O,{to:"/settings-account/footer",children:"Footer"})}),e.jsx("li",{children:e.jsx(O,{to:"/settings-account/domains",children:"Dominios"})})]})]}),e.jsxs("li",{className:a?"opacity":"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(Xs,{})})," Herramientas ",e.jsx("i",{className:"arrow",children:e.jsx(pe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(O,{to:"/editor/canvas",children:"Editor Canvas"})}),e.jsx("li",{children:e.jsx(O,{to:"/editor/buttons",children:"Editor Botonera"})})]})]}),e.jsxs("li",{children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(Ze,{})})," Cuentas ",e.jsx("i",{className:"arrow",children:e.jsx(pe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(O,{to:"/companys",children:"Mis Cuentas"})}),e.jsx("li",{children:e.jsx(O,{to:"/companys/add",children:"Crear Cuenta"})})]})]}),e.jsxs("li",{className:a?"opacity":"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(We,{})})," Recordatorios ",e.jsx("i",{className:"arrow",children:e.jsx(pe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(O,{to:"/campaigns",children:"Email "})}),e.jsx("li",{children:e.jsx(O,{to:"/campaigns",children:"Sms"})}),e.jsx("li",{children:e.jsx(O,{to:"/campaigns/new",children:"Mixto"})})]})]}),e.jsxs("li",{className:a?"opacity":"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(We,{})})," Campañas ",e.jsx("i",{className:"arrow",children:e.jsx(pe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(O,{to:"/campaigns/em",children:"Email Marketing"})}),e.jsx("li",{children:e.jsx(O,{to:"/campaigns/em-mt",children:"Email MT"})}),e.jsx("li",{children:e.jsx(O,{to:"/campaigns/sms",children:"SMS Marketing"})}),e.jsx("li",{children:e.jsx(O,{to:"/campaigns/sms-mt",children:"SMS MT"})}),e.jsx("li",{children:e.jsx(O,{to:"/campaigns/new",children:"Crear Campana"})})]})]}),e.jsxs("li",{className:a?"opacity":"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(Ks,{})})," Listas ",e.jsx("i",{className:"arrow",children:e.jsx(pe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(O,{to:"/contacts",children:"Mis Contactos"})}),e.jsx("li",{children:e.jsx(O,{to:"/contacts/lists",children:"Mis Listas"})}),e.jsx("li",{children:e.jsx(O,{to:"/contacts/lists/email",children:"Listas Correo"})}),e.jsx("li",{children:e.jsx(O,{to:"/contacts/lists/sms",children:"Listas Mensajeria"})}),e.jsx("li",{children:e.jsx(O,{to:"/contacts/lists/ws",children:"Listas Whatsapp"})}),e.jsx("li",{children:e.jsx(O,{to:"/contacts/segments",children:"Segmentos"})})]})]}),e.jsxs("li",{className:a?"opacity":"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(Ke,{})})," Automatizacion ",e.jsx("i",{className:"arrow",children:e.jsx(pe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(O,{children:"WorkFlow"})}),e.jsx("li",{children:e.jsx(O,{children:"Programacion"})}),e.jsx("li",{children:e.jsx(O,{children:"Auto-Responders"})})]})]}),e.jsxs("li",{className:a?"opacity":"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(re,{})})," Estadisticas ",e.jsx("i",{className:"arrow",children:e.jsx(pe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{to:"/stats/campaign",children:e.jsx(O,{children:"Email Marketing"})}),e.jsx("li",{to:"/stats/campaign",children:e.jsx(O,{children:"Email MT"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(O,{children:"Sms Marketing"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(O,{children:"Sms MT"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(O,{children:"Encuestas"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(O,{children:"Botonera QR"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(O,{children:"Botonera URL"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(O,{children:"Medusa"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(O,{children:"Landings"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(O,{children:"Google Analytics"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(Ys,{})})," Encuestas ",e.jsx("i",{className:"arrow",children:e.jsx(pe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(O,{to:"/surveys",children:"Mis Encuestas"})}),e.jsx("li",{children:e.jsx(O,{to:"/surveys/editor",children:"Crear Encuesta"})}),e.jsx("li",{children:e.jsx(O,{to:"/surveys",children:"Plantillas"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(os,{})})," Boletines Electronicos ",e.jsx("i",{className:"arrow",children:e.jsx(pe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(O,{to:"/templates",children:"Mis Boletines"})}),e.jsx("li",{children:e.jsx(O,{to:"/editor/canvas",children:"Crear Boletin"})}),e.jsx("li",{children:e.jsx(O,{to:"/landings",children:"Plantillas"})}),e.jsx("li",{children:e.jsx(O,{to:"/landings",children:"Plantillas IA"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(os,{})})," Landings Page ",e.jsx("i",{className:"arrow",children:e.jsx(pe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(O,{to:"/landings",children:"Mis Landings"})}),e.jsx("li",{children:e.jsx(O,{to:"/editor/landings",children:"Crear Landings"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(Zs,{})})," Medusa ",e.jsx("i",{className:"arrow",children:e.jsx(pe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(O,{to:"/shorturls/campaigns",children:"Mis Campañas"})}),e.jsx("li",{children:e.jsx(O,{to:"/shorturls/campaigns/add",children:"Crear Campana"})}),e.jsx("li",{children:e.jsx(O,{to:"/shorturls",children:"Mis Enlaces"})}),e.jsx("li",{children:e.jsx(O,{to:"/shorturls/add",children:"Crear Enlace"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(Us,{})})," Botonera QR ",e.jsx("i",{className:"arrow",children:e.jsx(pe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(O,{to:"/buttonsqr",children:"Botoneras QR"})}),e.jsx("li",{children:e.jsx(O,{to:"/editor/buttonsqr",children:"Crear Botonera QR"})}),e.jsx("li",{children:e.jsx(O,{to:"/qr",children:"Mis Qr's"})}),e.jsx("li",{children:e.jsx(O,{to:"/qr/add",children:"Crear QR"})}),e.jsx("li",{children:e.jsx(O,{to:"/qr/import",children:"Importar QR"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(ea,{})})," Botonera URL ",e.jsx("i",{className:"arrow",children:e.jsx(pe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(O,{to:"/buttons",children:"Mis Botoneras URL"})}),e.jsx("li",{children:e.jsx(O,{to:"/editor/buttons",children:"Crear Botonera URL"})})]})]}),e.jsxs("li",{children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(Ze,{})})," Validador Email ",e.jsx("i",{className:"arrow",children:e.jsx(pe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(O,{to:"/companys",children:"Mis Validaciones"})}),e.jsx("li",{children:e.jsx(O,{to:"/companys",children:"Crear Validacion"})}),e.jsx("li",{children:e.jsx(O,{to:"/companys",children:"Estadisticas"})})]})]}),e.jsxs("li",{children:[e.jsxs("button",{onClick:i,children:[e.jsx("i",{className:"icon",children:e.jsx(Ze,{})}),"  API ",e.jsx("i",{className:"arrow",children:e.jsx(pe,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(O,{to:"/companys",children:"Mis Credenciales"})}),e.jsx("li",{children:e.jsx(O,{to:"/companys",children:"Crear Validacion"})}),e.jsx("li",{children:e.jsx(O,{to:"/companys",children:"Estadisticas"})})]})]})]})]})})}function ft(){var i,l,o;const{UserInfo:s}=t.useContext(J),[a,c]=t.useState("dark");function n(){switch(a){case"ligth":c("dark");break;case"dark":c("ligth");break;default:c("ligth");break}}return t.useEffect(()=>{q(document.body).attr("theme",a)},[a]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"header-top",children:e.jsxs("div",{className:"right",children:[e.jsx("div",{className:"company",children:(i=s==null?void 0:s.company)!=null&&i.name?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"body",children:[e.jsx("img",{src:((l=s==null?void 0:s.company)==null?void 0:l.photo)!==void 0?ns(s):"img/icons/default_profile.png",alt:""}),e.jsx("span",{children:(o=s==null?void 0:s.company)==null?void 0:o.name})]})}):e.jsx(O,{to:"/companys",className:"select-company",children:"Seleccionar Empresa"})}),e.jsx("button",{className:"option",children:e.jsx(sa,{})}),e.jsxs("button",{className:"option",onClick:n,children:[a=="dark"?e.jsx(aa,{}):"",a=="ligth"?e.jsx(ta,{}):""]}),e.jsx("button",{className:"option",children:e.jsx(ia,{})}),e.jsxs("div",{className:"user",children:[e.jsx("img",{src:"img/icons/default-user.jpg",alt:""}),e.jsxs("p",{className:"name",children:[s.user,e.jsx("i",{children:e.jsx(na,{})})]})]})]})})})}function G({Element:s,CompanyNeed:a}){var o;const{UserInfo:c}=t.useContext(J),n=Z();t.useState(!1);const[i,l]=t.useState("wait");return t.useEffect(()=>{Xe("company")||(n("/companys"),l(!1))},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"app",children:[e.jsx(vt,{}),e.jsx(ft,{}),e.jsx("div",{className:"page",children:a?(o=c==null?void 0:c.company)!=null&&o.id_company?e.jsx(s,{}):i==!1?e.jsxs("div",{className:"center-loading",children:[e.jsx("img",{src:"/img/icons/oficina.png",alt:""}),e.jsx("p",{children:"No has seleccionado ninguna empresa"})]}):e.jsx("div",{className:"center-loading",children:e.jsx("div",{className:"circle"})}):e.jsx(s,{})})]})})}function je(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading",children:e.jsx("div",{className:"circle"})})})}function Nt({Visible:s,Close:a}){const{UserInfo:c}=t.useContext(J),[n,i]=t.useState(0),[l,o]=t.useState([Ce()]),[p,u]=t.useState({type:"",name:"",ocation:""}),x=Z();function d(j){j.stopPropagation(),j.preventDefault();let r=q(j.target);r.parents(".options").find(".active").removeClass("active"),r.addClass("active");let m=r.attr("value");u(v=>({...v,type:m}))}function h(j){var v;let r=!1,m=q(j.target);if((n===0&&p.type.includes("em")||p.type.includes("sms"))&&(r=!0),n==1&&p.type!==""&&p.name!==""){m.addClass("await");let f=new FormData;f.append("name",p.name),f.append("ocation",p.ocation),f.append("type_c",p.type),f.append("id_company",(v=c==null?void 0:c.company)==null?void 0:v.id_company),P.post(E+"/api/upload/campaign",f,{withCredentials:!0}).then(C=>C.data).then(C=>{C.status?x("/campaigns/detail/"+C.id_campaign):C.msg&&ve.error(C.msg),m.removeClass("await")}).catch(C=>{m.removeClass("await")})}r&&i(f=>f+1)}function g(j){let r=j.target.name,m=j.target.value;u(v=>({...v,[r]:m}))}return t.useEffect(()=>{q(".case.active").removeClass("active"),q(".case").eq(n).addClass("active")},[n]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[n>0?e.jsxs("button",{className:"return",onClick:j=>{i(r=>r-1)},children:[e.jsx(Oe,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:j=>{a(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear una nueva campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"options flex half",id:`options-${l[0]}`,children:[e.jsxs("div",{className:"selector",onClick:d,value:"em",children:[e.jsx("div",{className:"check",children:e.jsx(xe,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA EMAIL MARKETING"}),e.jsx("span",{children:"Crea tu campaña de email con uno de nuestros editores para que la envíes inmediatamente o programes para enviar más tarde."})]})]}),e.jsxs("div",{className:"selector",onClick:d,value:"em-mt",children:[e.jsx("div",{className:"check",children:e.jsx(xe,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA EMAIL TRANSACCIONAL"}),e.jsx("span",{children:"Crea tu campaña de email transaccional estas seran enviada 1x1 mediante la conexion a la api."})]})]}),e.jsxs("div",{className:"selector",onClick:d,value:"sms",children:[e.jsx("div",{className:"check",children:e.jsx(xe,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA SMS MARKETING"}),e.jsx("span",{children:"Envía mensajes de texto rápidos y confiables a cualquier país con nuestras herramientas de campaña de SMS."})]})]}),e.jsxs("div",{className:"selector",onClick:d,value:"sms-mt",children:[e.jsx("div",{className:"check",children:e.jsx(xe,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA SMS TRANSACCIONAL"}),e.jsx("span",{children:"Crea tu campaña de sms transaccional estas seran enviada 1x1 mediante la conexion a la api."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de campaña"}),e.jsx("input",{type:"text",name:"name",onChange:g,placeholder:"Nombre"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Selecciona tipo"}),e.jsxs("select",{name:"ocation",id:"",onChange:g,children:[e.jsx("option",{value:"",selected:!0,children:" Por defecto"}),e.jsx("option",{value:"birthday",children:"Cumpleaños"})]})]}),(p.ocation=="birthday","")]})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:"next",onClick:h,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function me({name:s}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"nofound-items",children:[e.jsx("img",{src:"/img/icons/notfound.png",alt:""}),e.jsxs("p",{children:["No hay ",s??"items","  disponibles"]})]})})}function Te(){const{UserInfo:s}=t.useContext(J),a=Z(),[c,n]=t.useState([]),[i,l]=t.useState(!1),[o,p]=t.useState(!0),u=Me();t.useEffect(()=>{Se("/new")&&l(!0)},[u]);function x(h){var r;let g=new FormData;p(!0);let j="em";Se("/em")&&(j="em"),Se("/em-mt")&&(j="em-mt"),Se("/sms-mt")&&(j="sms-mt"),Se("/sms")&&(j="sms"),h||n([]),g.append("id_company",(r=s==null?void 0:s.company)==null?void 0:r.id_company),g.append("type",j),P.post(E+"/api/get/campaign",g,{withCredentials:!0}).then(m=>m.data).then(m=>{var v;(v=m==null?void 0:m.results)!=null&&v.length&&n(m.results),p(!1)}).catch(m=>{p(!1)})}t.useEffect(()=>{x(!1)},[u]);function d(h){let g=h.target.value;a("/campaigns/detail/"+g)}return e.jsxs(e.Fragment,{children:[e.jsx(Nt,{Visible:i,Close:l},`${i?"x":"x2"}`),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Campañas"}),e.jsx("span",{children:"Crea y ve tus campañas rapidamente, tambien puedes entrar a nuestro sistema automatizado "})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"add",onClick:h=>{l(!0)},children:"Crear nueva campaña"}),e.jsx("button",{className:"go-wizard",onClick:h=>{l(!0)},children:"Wizard"})]})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[c==null?void 0:c.map((h,g)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:h.name}),e.jsxs("span",{className:"desc",children:["Creado el: ",le(h.time_add)]})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:d,value:h.id_campaign,children:e.jsx(fe,{})}),e.jsx("button",{children:e.jsx(re,{})})]})]})),o==!1?(c==null?void 0:c.length)==0?e.jsx(me,{name:"campanas"}):"":e.jsx(je,{})]})})})]})}function ls(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top",children:[e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(O,{to:"/companys",children:"Cuentas"})}),e.jsx("li",{children:e.jsx(O,{to:"/companys/users",children:"Usuarios"})}),e.jsx("li",{children:e.jsx(O,{to:"/companys/roles",children:"Roles"})})]}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"form-search",children:e.jsx("input",{type:"text",placeholder:"Buscar empresa..."})})})]})})}function ie({minWidth:s,maxWidth:a,children:c,width:n,visible:i,buttonSave:l=!0,cancel:o,onClick:p,next:u,callback:x,Pending:d,close:h=function(){}}){const[g,j]=t.useState(i==!1?!1:i),[r,m]=t.useState(Ce());function v(f){f.stopPropagation();let C=q(f.target);q(`#modal-${r}`).removeClass("open"),C.parents(".modal-small").addClass("close"),setTimeout(()=>{C.parents(".modal-small").removeClass("close"),j(!1),x(!1)},400)}return t.useEffect(f=>{i==!0?(j(!0),setTimeout(()=>{q(`#modal-${r}`).removeClass("close"),q(`#modal-${r}`).addClass("open")},25)):(q(`#modal-${r}`).addClass("close"),q(`#modal-${r}`).removeClass("open"),h("cerro"))},[i]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"modal-small",id:`modal-${r}`,style:{display:g==!0?"flex":"none"},children:[e.jsx("div",{className:"closed"}),e.jsxs("div",{className:"body",style:{maxWidth:a,minWidth:s,width:n},children:[c,e.jsxs("div",{className:"actions",children:[e.jsx("button",{id:"close",onClick:v,children:o??"Cancelar"}),l?e.jsxs("button",{className:`done ${d==!0?" await":""}`,onClick:p,children:[u??"Guardar"," ",e.jsx("div",{className:"loading"})]}):""]})]})]})})}function yt({name:s,id:a,valueDefault:c,onChange:n}){const[i,l]=t.useState(Ce());t.useEffect(()=>{c&&(document.querySelector(`.select-${i}`).value=c)},[]);function o(p){n&&n(p)}return e.jsxs("select",{name:s,id:a,onChange:o,className:`select-${i}`,children:[e.jsx("option",{value:"def",selected:!0,disabled:!0,children:"Seleccionar"}),e.jsx("option",{value:"md",children:"Marketing Digital"}),e.jsx("option",{value:"tec",children:"Tecnología"}),e.jsx("option",{value:"tele",children:"Telecomunicaciones"}),e.jsx("option",{value:"soft",children:"Software"})]})}function js(){const[s,a]=t.useState([]),[c,n]=t.useState(!0),[i,l]=t.useState(!1),[o,p]=t.useState(!1),[u,x]=t.useState({}),[d,h]=t.useState({name:"",color:"",type:""}),{setUserInfo:g,UserInfo:j}=t.useContext(J),[r,m]=t.useState(!1),v=Me();t.useEffect(()=>{Se("/add")&&l(!0)},[v]);function f(){a([]),n(!0),P.post(E+"/api/get/companys",{},{withCredentials:!0}).then(L=>L.data).then(L=>{n(!1),a(L)})}t.useEffect(()=>{f()},[]),t.useEffect(()=>{},[u]);function C(){}function b(L){o?x(N=>({...N,color:L})):h(N=>({...N,color:L}))}function k(L){if(o){let N=q(L.target);N.addClass("await");let _=new FormData;_.append("name",u.name),_.append("color",u.color),_.append("type",u.type),_.append("id_company",u.id_company),P.post(E+"/update/editcompany",_,{withCredentials:!0}).then(y=>y.data).then(y=>{y.status&&(l(!1),M.success("Has editado correctamente."),f()),y.msg&&M.error(y.msg),N.removeClass("await")}).catch(y=>{N.removeClass("await")})}else{m(!0);let N=new FormData;N.append("name",d.name),N.append("color",d.color),N.append("type",d.type),P.post(E+"/api/upload/company",N,{withCredentials:!0}).then(_=>_.data).then(_=>{_.status&&(f(),l(!1),M.success("Has creado tu empresa correctamente.")),_.msg&&M.error(_.msg),m(!1)}).catch(_=>{m(!1)})}}t.useEffect(()=>{q(".colors .option-color").css({opacity:"0.5"}),q(`.colors .option-color[value='${u.color}']`).addClass("active").css({opacity:1}),q(".form-input input[name='name']").val(u.name)},[u]);function F(L){l(!0),x(s[L])}function w(L,N){L.stopPropagation();try{g(_=>({..._,company:s[N]})),document.cookie=`company=${s[N].id_company}`,M.success("Empresa asignada correctamente.")}catch{}}function S(L,N){L.stopPropagation()}function A(L){console.log(o),o||h(N=>({...N,[L.target.name]:L.target.value}))}return e.jsxs(e.Fragment,{children:[e.jsxs(ie,{onClick:k,visible:i,callback:l,close:L=>{x({})},Pending:r,next:`${o?"Editar":"Agregar"}`,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:o?"Editar empresa":"Agregar empresa"})}),e.jsxs("div",{className:"content",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre"}),e.jsx("input",{name:"name",type:"text",onChange:A})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Tipo"}),e.jsx(yt,{name:"type",onChange:A,valueDefault:`${o?u.type:"def"}`,callback:C},i?"modal-open":"modal-closed")]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Elige color de empresa"}),e.jsx("span",{className:"desc",children:"El color te ayudara a identificar tu empresa."}),e.jsxs("div",{className:"colors",children:[e.jsx(ue,{color:"#2e56ff",fn:b}),e.jsx(ue,{color:"#57c583",fn:b}),e.jsx(ue,{color:"#3fcae9",fn:b}),e.jsx(ue,{color:"#e9d43f",fn:b}),e.jsx(ue,{color:"#d77613",fn:b}),e.jsx(ue,{color:"#c069cb",fn:b}),e.jsx(ue,{color:"#cb6992",fn:b})]},i?"a":"x")]})]})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MIS CUENTAS"}),e.jsx("span",{children:"Crea y administra tus empresas, agrega nuevos encargados u nuevos cargos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:L=>{l(!0),p(!1)},children:"Crear nueva empresa"})})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx(ls,{}),e.jsxs("div",{className:"box box-padding",children:[s.map((L,N)=>{var _;return e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:L.photo?ns({company:{photo:L.photo}}):"img/icons/default_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:L.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:y=>{S(y)},children:e.jsx(la,{})}),e.jsx("button",{onClick:y=>{F(N),p(!0)},children:e.jsx(as,{})}),e.jsxs("button",{onClick:y=>{w(y,N)},children:[" ",((_=j==null?void 0:j.company)==null?void 0:_.id_company)==L.id_company?e.jsx(ca,{}):e.jsx(ra,{})," "]})]})]},N)}),c==!0?e.jsxs(e.Fragment,{children:["  ",e.jsx(je,{})]}):""]})]})})]})}function $e({visible:s,onClick:a,callback:c,Pending:n,name:i}){const[l,o]=t.useState(s!=!1),[p,u]=t.useState(Ce());function x(d){d.stopPropagation();let h=q(d.target);h.parents(".actions").find(".done.await").length?M.error("No puedes salir en este momento..."):(q(`#modal-${p}`).removeClass("open"),h.parents(".modal-small").addClass("close"),setTimeout(()=>{h.parents(".modal-small").removeClass("close"),o(!1),c(!1)},600))}return t.useEffect(d=>{s==!0?(o(!0),setTimeout(()=>{q(`#modal-${p}`).removeClass("close"),q(`#modal-${p}`).addClass("open")},25)):(q(`#modal-${p}`).addClass("close"),q(`#modal-${p}`).removeClass("open"),close("cerro"))},[s]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"modal-small delete",id:`modal-${p}`,style:{display:l==!0?"flex":"none"},children:[e.jsx("div",{className:"closed"}),e.jsxs("div",{className:"body",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Eliminar"})}),e.jsxs("span",{className:"dialog",children:["Estas apunto de eliminar ",i==null?"este objeto":"esta "+i,", estas seguro que quieres eliminarlo?"]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{id:"close",onClick:x,children:"Cancelar"}),e.jsxs("button",{className:`done ${n==!0?"await":""}`,onClick:a,children:["Eliminar ",e.jsx("div",{className:"loading"})]})]})]})]})})}function Ct(){const{UserInfo:s,LoadingAuth:a}=t.useContext(J),[c,n]=t.useState(!1),[i,l]=t.useState(!1),[o,p]=t.useState(["delete","read","send","add"]),[u,x]=t.useState(!1);let d={type_add:"",delete:0,add:0,read:0,send:0,sadmin:0};const[h,g]=t.useState(d),[j,r]=t.useState(),[m,v]=t.useState(!0),f=Z(),[C,b]=t.useState([]);async function k(){var _;let N=new FormData;N.append("id_company",(_=s==null?void 0:s.company)==null?void 0:_.id_company),b([]),v(!0),P.post(E+"/api/get/roles",N,{withCredentials:!0}).then(y=>y.data).then(y=>{b(y),v(!1)})}t.useEffect(()=>{a||s.company||(f("/companys"),M.error("Selecciona una empresa ")),m&&k()},[a]);function F(N){let _=N.target.value;q(N.target).is("input[type='checkbox']")?(g(y=>({...y,sadmin:0})),q(N.target).is("input[type='checkbox']:checked")?g(y=>({...y,[N.target.name]:1})):g(y=>({...y,[N.target.name]:0}))):(g(y=>({...y,[N.target.name]:_})),_=="sadmin"&&g(y=>({...y,sadmin:1})))}function w(N){let _=new FormData;h.rol!==void 0&&h.type_add!==void 0&&(_.append("sadmin",h!=null&&h.sadmin?h.sadmin:0),_.append("delete",h!=null&&h.delete?h.delete:0),_.append("read",h!=null&&h.read?h.read:0),_.append("add",h!=null&&h.add?h.add:0),_.append("send",h!=null&&h.send?h.send:0),_.append("rol",h.rol),_.append("id_company",s.company.id_company),u?(Ue(N.target),_.append("id_rol",h==null?void 0:h.id_rol),P.post(E+"/api/update/permissions",_,{withCredentials:!0}).then(y=>y.data).then(async y=>{y.status&&(await k(),n(!1),ke(N.target)),y.msg&&(M.error("Opps error al aplicar cambios de permisos"),ke(N.target))}).catch(y=>{ke(N.target)})):(Ue(N.target),P.post(E+"/api/upload/rol",_,{withCredentials:!0}).then(y=>y.data).then(y=>{y.status?(_.append("id_rol",y.id_rol),P.post(E+"/api/update/permissions",_,{withCredentials:!0}).then(z=>z.data).then(async z=>{z.status&&(await k(),n(!1),ke(N.target)),z.msg&&(M.error("Opps error al aplicar cambios de permisos"),ke(N.target))}).catch(z=>{ke(N.target)})):(y.msg&&M.error(y.msg),ke(N.target))}).catch(y=>{ke(N.target)})))}function S(N){let _=N.target.value;_&&(r(_),l(!0))}function A(N){Ue(N.target);let _=new FormData;_.append("id_company",s.company.id_company),_.append("id_rol",j),j?P.post(E+"/api/delete/rol",_,{withCredentials:!0}).then(y=>y.data).then(y=>{y.status&&(l(!1),k()),y.msg&&M.error(y.msg),ke(N.target)}).catch(y=>{ke(N.target)}):M.error("No has seleccionado ningun id")}function L(N){let _=N.target.value;n(!0),x(!0),g(y=>({...y,id_rol:C[_].id_rol,rol:C[_].rol})),setTimeout(()=>{C[_].permissions.sadmin?(g(y=>({...y,type_add:"sadmin"})),document.querySelector("select").value="sadmin"):(g(y=>({...y,type_add:"pers"})),document.querySelector("select").value="pers",o.forEach((y,z)=>{C[_].permissions[y]&&document.querySelector(`input[name='${y}']`).click()}))},25)}return e.jsxs(e.Fragment,{children:[e.jsx($e,{visible:i,callback:l,onClick:A},i?"opxen":"clxose"),e.jsxs(ie,{onClick:w,maxWidth:380,visible:c,callback:n,next:u?"Actualizar":"Guardar",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:u?"Editar rol":"Agregar rol"})}),e.jsxs("div",{className:"content",children:[u?"":e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de rol",name:"rol",onChange:F,value:(h==null?void 0:h.rol)==null?"":h==null?void 0:h.rol})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"type_add",id:"",onChange:F,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Seleccionar tipo"}),e.jsx("option",{value:"pers",children:"Personalizado"}),e.jsx("option",{value:"sadmin",children:"Super Admin"})]})}),h.type_add=="pers"?e.jsx("table",{children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Permisos"}),e.jsx("td",{children:"Seleccionar"})]}),o.map(N=>e.jsxs("tr",{children:[e.jsx("td",{children:N}),e.jsx("td",{children:e.jsx("input",{type:"checkbox",onChange:F,name:N})})]}))]})}):h.type_add=="sadmin"?e.jsxs("div",{className:"ad",children:[e.jsx("p",{children:"Advertencia"}),e.jsx("span",{children:"Al asignar un rol con permisos de super administrador, le daras derecho a hacer las mismas acciones que tu cuenta principal, podra manipular empresas o hacer cosas que solamente tu puedes hacer."})]}):e.jsx(e.Fragment,{})]})]},c?"open":"close"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus roles"}),e.jsx("span",{children:"Crea y elimina los roles de tu empresa, da permisos a usuarios para que puedan iniciar sesion y manipular tu empresa"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:N=>{n(!0),g(d),x(!1)},children:"Crear nuevo rol"})})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx(ls,{}),e.jsxs("div",{className:"box box-padding",children:[C.map((N,_)=>{var y,z,H,U,ce,W,R,D;return e.jsxs("div",{className:"item flex",children:[e.jsx("div",{className:"info",children:e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:[N.rol," ",N.permissions.sadmin==!0?e.jsx("span",{className:"super-adm",children:"ADM"}):""," "]}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})}),e.jsxs("div",{children:[e.jsx("p",{children:"Lectura"}),e.jsx("div",{className:"center-roles",children:(y=N==null?void 0:N.permissions)!=null&&y.read?e.jsx("span",{className:"yes",children:e.jsx(Ne,{})}):((z=N==null?void 0:N.permissions)==null?void 0:z.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(Ne,{})}):e.jsx("span",{className:"no",children:e.jsx(Ve,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Envio"}),e.jsx("div",{className:"center-roles",children:(H=N==null?void 0:N.permissions)!=null&&H.send?e.jsx("span",{className:"yes",children:e.jsx(Ne,{})}):((U=N==null?void 0:N.permissions)==null?void 0:U.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(Ne,{})}):e.jsx("span",{className:"no",children:e.jsx(Ve,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Borrar"}),e.jsx("div",{className:"center-roles",children:(ce=N==null?void 0:N.permissions)!=null&&ce.delete?e.jsx("span",{className:"yes",children:e.jsx(Ne,{})}):((W=N==null?void 0:N.permissions)==null?void 0:W.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(Ne,{})}):e.jsx("span",{className:"no",children:e.jsx(Ve,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Agregar"}),e.jsx("div",{className:"center-roles",children:(R=N==null?void 0:N.permissions)!=null&&R.add?e.jsx("span",{className:"yes",children:e.jsx(Ne,{})}):((D=N==null?void 0:N.permissions)==null?void 0:D.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(Ne,{})}):e.jsx("span",{className:"no",children:e.jsx(Ve,{})})})]}),e.jsx("div",{children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:L,value:_,children:e.jsx(as,{})}),e.jsx("button",{onClick:S,value:N.id_rol,children:e.jsx(te,{})})]})})]},_)}),m?e.jsx(je,{}):C.length==0?e.jsx(me,{}):""]})]})})]})}function bt(){const{UserInfo:s}=t.useContext(J),[a,c]=t.useState([]),[n,i]=t.useState(!1),[l,o]=t.useState({name:"",password:"",email:"",id_rol:""}),[p,u]=t.useState(!1),[x,d]=t.useState([]),[h,g]=t.useState(!1),[j,r]=t.useState(),[m,v]=t.useState(!1),[f,C]=t.useState({id_user:"",id_rol:""}),[b,k]=t.useState(!1);function F(y){let z=y.target.value,H=y.target.name;o(U=>({...U,[H]:z}))}function w(){var z;g(!0);let y=new FormData;y.append("id_company",(z=s==null?void 0:s.company)==null?void 0:z.id_company),P.post(E+"/api/get/subusers",y,{withCredentials:!0}).then(H=>H.data).then(H=>{g(!1),c(H)}).catch(H=>{g(!1)})}function S(){var y;if(l.name&&l.email&&l.password&&l.id_rol)if(l.password.length>=6){let z=new FormData;u(!0),z.append("name",l.name),z.append("email",l.email),z.append("password",l.password),z.append("id_rol",l.id_rol),z.append("id_company",(y=s.company)==null?void 0:y.id_company),P.post(E+"/api/upload/subuser",z,{withCredentials:!0}).then(H=>H.data).then(H=>{u(!1),H.status&&(i(!1),c([]),w())}).catch(H=>{u(!1)})}else M.error("Tu password no es correcta debe de tener 6 o mas caracteres");else M.error("Opps has dejado campos vacios")}function A(y){C(z=>({...z,id_user:a[y].id,id_rol:a[y].id_rol,name:a[y].name})),setTimeout(()=>{document.querySelector("select").value=a[y].id_rol},20),v(!0)}function L(y){let z=a[y].id;z&&(r(z),k(!0))}t.useEffect(()=>{var z;let y=new FormData;y.append("id_company",(z=s==null?void 0:s.company)==null?void 0:z.id_company),P.post(E+"/api/get/roles",y,{withCredentials:!0}).then(H=>H.data).then(H=>{d(H)}),w()},[]);function N(){var y;if(f.id_rol&&f.id_user){u(!0);let z=new FormData;z.append("id_company",(y=s==null?void 0:s.company)==null?void 0:y.id_company),z.append("id_rol",f.id_rol),z.append("id_user",f.id_user),P.post(E+"/api/update/subuser",z,{withCredentials:!0}).then(H=>H.data).then(H=>{H.status&&(w(),c([]),M.success("Has editato el usuario correctamente."),v(!1)),u(!1)}).catch(H=>{u(!1)})}}function _(){var y;if(j){u(!0);let z=new FormData;z.append("id_user",j),z.append("id_company",(y=s==null?void 0:s.company)==null?void 0:y.id_company),P.post(E+"/api/delete/subuser",z,{withCredentials:!0}).then(H=>H.data).then(H=>{H.status&&(k(!1),u(!1),w(),c([]),M.success("Has borrado el usuario correctamente."))})}else M.error("Opps no has seleccionado nada")}return e.jsxs(e.Fragment,{children:[e.jsx($e,{visible:b,callback:k,onClick:_,Pending:p}),e.jsxs(ie,{visible:m,callback:v,Pending:p,onClick:N,next:"Editar",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Editar"})}),e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{children:["Editar rol del usuario @",f.name]}),e.jsxs("select",{onChange:y=>{C(z=>({...z,id_rol:y.target.value}))},name:"",id:"",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Seleccionar Rol"}),x.map((y,z)=>e.jsx("option",{value:y.id_rol,children:y.rol}))]})]})]}),e.jsx(ie,{visible:n,callback:i,next:"Agregar",onClick:S,Pending:p,children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Agregar"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre",name:"name",onChange:F})}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Email",name:"email",onChange:F})}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"password",placeholder:"Contraseña",name:"password",onChange:F})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"id_rol",id:"",onChange:F,children:[e.jsx("option",{value:"",children:"Seleccionar Rol"}),x.map((y,z)=>e.jsx("option",{value:y.id_rol,children:y.rol}))]})})]})},`${n?"open":"close"}`),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus usuarios"}),e.jsx("span",{children:"Crea y elimina usuarios, estos usuarios son de tu empresa, deben de tener un rol asignado para poder hacer ciertas funciones. Estos usuarios pueden utilizar la api si le das el acceso y podran consumir recursos desde alli."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:y=>{i(!0)},children:"Crear nuevo usuario"})})]}),e.jsx(ls,{}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[a.map((y,z)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default-user.jpg",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:y.name}),e.jsxs("span",{className:"desc",children:["Rol - ",y.rol]}),e.jsx("br",{}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:H=>{A(z)},value:z,children:e.jsx(as,{})}),e.jsx("button",{onClick:H=>{L(z)},value:y.id_rol,children:e.jsx(te,{})})]})})]},z)),h==!1?a.length==0?e.jsx(me,{name:"usuarios"}):"":e.jsx(je,{})]})})})]})}function gs({campaign:s,setFormProgamming:a}){const[c,n]=t.useState("default");function i(p){let u=p.target.value;n(u)}function l(){n("default")}function o(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"return-top",children:e.jsx("button",{onClick:l,children:e.jsx(Re,{})})})})}return t.useEffect(()=>{switch(c){case"daysname":a({target:{value:"bucle",name:"p_type"}});break}},[c]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Programar campaña"})}),e.jsxs("div",{className:"data",children:[c=="default"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"select-buttons",children:[e.jsx("button",{onClick:i,value:"date",children:"Fecha especifica"}),e.jsx("button",{onClick:i,value:"daysname",children:"Dias especificos"}),e.jsx("button",{onClick:i,value:"daysnumber",children:"Recordatorios"}),e.jsx("button",{onClick:i,value:"fidelizacion",children:"Fidelizacion"})]})}):"",c=="date"?e.jsxs(e.Fragment,{children:[e.jsx(o,{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"date",name:"date",onChange:a})}),e.jsxs("div",{className:"form-input flex",children:[e.jsx("input",{type:"text",placeholder:"hora",name:"hh",onChange:a}),e.jsx("input",{type:"text",placeholder:"minuto",name:"ii",onChange:a}),e.jsxs("select",{name:"x",id:"",children:[e.jsx("option",{value:"pm",children:"p.m."}),e.jsx("option",{value:"am",children:"a.m."})]})]})]}):"",c=="daysname"?e.jsxs(e.Fragment,{children:[e.jsx(o,{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Que dia de la semana quieres que se envie"}),e.jsxs("select",{name:"dd",onChange:a,id:"",children:[e.jsx("option",{value:"Sun",children:"Domingo"}),e.jsx("option",{value:"Mon",children:"Lunes"}),e.jsx("option",{value:"Tues",children:"Martes"}),e.jsx("option",{value:"Wed",children:"Miércoles"}),e.jsx("option",{value:"Thurs",children:"Jueves"}),e.jsx("option",{value:"Fri",children:"Viernes"}),e.jsx("option",{value:"Sat",children:"Sábado"})]})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("button",{children:"Cada 1 mes"}),e.jsx("br",{}),e.jsx("button",{children:"Cada 2 meses"}),e.jsx("br",{}),e.jsx("button",{children:"Cada 3 meses"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Cuando expira"}),e.jsx("input",{type:"date",onChange:a,name:"timeExpire"})]})]}):"",c=="daysnumber"?e.jsxs(e.Fragment,{children:[e.jsx(o,{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Que dia quieres que se envie (Esto enviara el numero elegio cada mes, es decir ejemplo: 01 es igual a los 01 de cada mes)"}),e.jsx("select",{name:"dd",onChange:a,children:Array.from({length:31},(p,u)=>e.jsx("option",{value:String(u+1).padStart(2,"0"),children:String(u+1).padStart(2,"0")},u+1))})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Cuando expira (Si no pones fecha es indefinido)"}),e.jsx("input",{type:"date",onChange:a,name:"timeExpire"})]})]}):"",c=="fidelizacion"?e.jsxs(e.Fragment,{children:[e.jsx(o,{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Que campo validador quieres utilizar"}),e.jsxs("select",{name:"dd",onChange:a,children:[e.jsx("option",{value:"",children:"Selecciona el campo"}),e.jsx("option",{value:"",children:"Birthday"}),e.jsx("option",{value:"",children:"Extra 1"}),e.jsx("option",{value:"",children:"Extra 2"}),e.jsx("option",{value:"",children:"Extra 3"}),e.jsx("option",{value:"",children:"Extra 4"}),e.jsx("option",{value:"",children:"Extra 5"})]})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Cuando expira (Si no pones fecha es indefinido)"}),e.jsx("input",{type:"date",onChange:a,name:"timeExpire"})]})]}):""]})]})}function wt({value:s,onChange:a,onSave:c}){const n=t.useRef(null),[i,l]=t.useState(""),[o,p]=t.useState(!0),[u,x]=t.useState(0),d=h=>{const g=n.current,j=window.getSelection().toString(),r=g.selectionStart,m=i.substring(0,r),v=i.substring(r),f=m+h+j+v;l(f),g.focus()};return t.useEffect(()=>{a(i),x(i.length)},[i]),t.useEffect(()=>{s&&o&&(p(!1),l(s))},[s]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"textarea-sms",children:[e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:()=>d("$name"),children:"Nombre"}),e.jsx("button",{onClick:()=>d("$lastname"),children:"Apellido"}),e.jsx("button",{onClick:()=>d("$dni"),children:"Dni"}),e.jsx("button",{onClick:()=>d("$code"),children:"Codigo"}),e.jsx("button",{onClick:()=>d("$city"),children:"Ciudad"}),e.jsx("button",{onClick:()=>d("$country"),children:"Pais"}),e.jsx("button",{onClick:()=>d("$birthday"),children:"Nacimiento"}),e.jsx("button",{onClick:()=>d("$address"),children:"Direccion"}),e.jsx("button",{onClick:()=>d("$occupation"),children:"Ocupacion"}),e.jsx("button",{onClick:()=>d("$gender"),children:"Sexo"}),e.jsx("button",{onClick:()=>d("$phone"),children:"Telefono"}),e.jsx("button",{onClick:()=>d("$email"),children:"Correo Electronico"}),e.jsx("button",{onClick:()=>d("$1"),children:"Extra (1)"}),e.jsx("button",{onClick:()=>d("$2"),children:"Extra (2)"}),e.jsx("button",{onClick:()=>d("$3"),children:"Extra (3)"}),e.jsx("button",{onClick:()=>d("$4"),children:"Extra (4)"}),e.jsx("button",{onClick:()=>d("$5"),children:"Extra (5)"}),e.jsx("button",{onClick:()=>d("$6"),children:"Extra (6)"}),e.jsx("button",{onClick:()=>d("$7"),children:"Extra (7)"}),e.jsx("div",{className:"count",children:e.jsxs("i",{children:["166/",u]})})]}),e.jsx("textarea",{ref:n,className:"text",value:s,onChange:h=>l(h.target.value)}),e.jsxs("div",{className:"bottom-actions",children:[e.jsxs("button",{children:[e.jsx(da,{})," Borrar"]}),e.jsxs("button",{children:[e.jsx(ye,{})," Previsualizar SMS"]}),e.jsx("button",{className:"preview",onClick:c,children:"Enviar Campaña"}),e.jsx("button",{className:"preview",onClick:c,children:"Guardar "})]})]})})}function kt({status:s,PauseCampaign:a}){return e.jsxs(e.Fragment,{children:[s=="prepare"?e.jsx(e.Fragment,{children:e.jsxs("span",{children:[e.jsx(ps,{})," En espera..."]})}):"",s=="programmed"?e.jsx(e.Fragment,{children:e.jsxs("span",{className:"wait-list",children:[e.jsx(Ke,{})," Programada "]})}):"",s=="sent"?e.jsx(e.Fragment,{children:e.jsxs("span",{className:"ready-list",children:[e.jsx(oa,{})," Enviado"]})}):"",s=="sending"?e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"ready-list",children:[e.jsx(ps,{})," Enviando..."]}),e.jsx("button",{onClick:a,children:e.jsx(pa,{})})]}):""]})}function St(){var X,ee,be,Be,Ie,rs,ds;const s=ne(),{UserInfo:a}=t.useContext(J),c=Z();t.useState(!1);let n={lists:!1,body:!1,affair:!1};const[i,l]=t.useState(n),[o,p]=t.useState({lists:[]}),[u,x]=t.useState({lists:!1}),[d,h]=t.useState([]),[g,j]=t.useState({sendCampaign:!1}),[r,m]=t.useState({affair:""}),[v,f]=t.useState(!1),[C,b]=t.useState(),[k,F]=t.useState(!1),[w,S]=t.useState({hh:"",mm:"",dd:"",ii:"",yy:"",timeExpire:"",p_type:"default"}),[A,L]=t.useState(!1);t.useState({});const[N,_]=t.useState();function y($){var V;z(!0);let I=new FormData;I.append("id_company",(V=a==null?void 0:a.company)==null?void 0:V.id_company),d.lists&&I.append("ignore_id",d.lists),p(se=>({...se,lists:[]})),$&&I.append("search",$),P.post(E+"/api/get/list",I,{withCredentials:!0}).then(se=>se.data).then(se=>{p(oe=>({...oe,lists:se})),z(!1)})}function z($){x(I=>({...I,lists:$}))}let H=0;function U($){let I=$.target.value;clearTimeout(H),H=setTimeout(()=>{y(I)},250)}function ce(){clearTimeout(H)}t.useEffect(()=>{i.lists&&y()},[i]),t.useEffect(()=>{var I;let $=new FormData;$.append("id_company",(I=a==null?void 0:a.company)==null?void 0:I.id_company),$.append("id_campaign",s.id),P.post(E+"/api/get/campaign",$,{withCredentials:!0}).then(V=>V.data).then(V=>{h(V)}).catch(V=>{})},[]),t.useEffect(()=>{d!=null&&d.id_template&&W()},[d]);function W(){var I;let $=new FormData;$.append("id_company",(I=a==null?void 0:a.company)==null?void 0:I.id_company),$.append("id_template",d==null?void 0:d.id_template),$.append("type","all"),P.post(E+"/api/get/templatejson",$,{withCredentials:!0}).then(V=>V.data).then(V=>{var se;_((se=V==null?void 0:V.json)==null?void 0:se.msg)}).catch(V=>{M.error(String(V))})}function R($){var V,se;let I=$.target.value;if(I){let oe=new FormData;oe.append("id_list",I),oe.append("id_company",(V=a==null?void 0:a.company)==null?void 0:V.id_company),oe.append("id_campaign",s.id);let Ae=!1;if((se=d==null?void 0:d.lists)!=null&&se.length?d.lists.includes(I)||(Ae=!0,h(we=>({...we,lists:we.lists+","+I}))):(h(we=>({...we,lists:I})),Ae=!0),Ae){let we=q($.target);we=we.parents(".result"),we.hide("x"),P.post(E+"/api/update/addlistcampaign",oe,{withCredentials:!0}).then(He=>He.data).then(He=>{He.status}).catch(He=>{})}}}function D($){let I=$.target.value;if(I){let V=new FormData;V.append("id_campaign",d.id_campaign),V.append("id_list",I),V.append("id_company",a.company.id_company),P.post(E+"/api/delete/listscampaign",V,{withCredentials:!0}),h(se=>{var oe;return{...se,lists:(oe=se==null?void 0:se.lists)==null?void 0:oe.replace(","+I,"").replace(I,"")}})}}function T($){l(n),l(I=>({...I,[$]:!0}))}function K($){var V;Fe("sendCampaign",!0);let I=new FormData;I.append("id_company",(V=a==null?void 0:a.company)==null?void 0:V.id_company),I.append("id_campaign",s.id),P.post(E+"/api/send/campaign",I,{withCredentials:!0}).then(se=>se.data).then(se=>{Fe("sendCampaign",!1),se.status&&M.success("Campaña enviada!")}).catch(se=>{Fe("sendCampaign",!1)})}function ae($){let I=$.target.name,V=$.target.value;m(se=>({...se,[I]:V}))}function _e($){var se;let I=q($.target);I.addClass("await");let V=new FormData;V.append("affair",r.affair),V.append("id_company",(se=a==null?void 0:a.company)==null?void 0:se.id_company),V.append("id_campaign",d.id_campaign),P.post(E+"/api/update/setaffair",V,{withCredentials:!0}).then(oe=>oe.data).then(oe=>{I.removeClass("await"),oe.status&&(l(n),h(Ae=>({...Ae,affair:r.affair})))}).catch(oe=>{I.removeClass("await")})}function Fe($,I){j(V=>({...V,[$]:I}))}function qe(){var I;F(!0);let $=new FormData;$.append("id_company",(I=a==null?void 0:a.company)==null?void 0:I.id_company),$.append("id_campaign",s.id),P.post(E+"/api/delete/campaign",$,{withCredentials:!0}).then(V=>V.data).then(V=>{F(!1),V.status&&c("/campaigns")}).catch(V=>{F(!1)})}function ge($){let I=$.target.value,V=$.target.name;if(V=="date"){const se=new Date(I),oe=se.getDate(),Ae=se.getFullYear(),we=se.getMonth()+1;S({...w,dd:oe,yy:Ae,mm:we})}else S({...w,[V]:I})}function Le(){var I;let $=new FormData;L(!0),$.append("id_company",(I=a==null?void 0:a.company)==null?void 0:I.id_company),$.append("hh",w.hh?w.hh:"?"),$.append("dd",hs(w.dd)?hs(w.dd):"?"),$.append("yy",w.yy?w.yy:"?"),$.append("mm",w.mm?w.mm:"?"),$.append("ii",w.ii?w.ii:"?"),$.append("id_campaign",s.id),$.append("timeExpire",w==null?void 0:w.timeExpire),$.append("p_type",w==null?void 0:w.p_type),$.append("type","campaign"),P.post(E+"/api/update/programming",$,{withCredentials:!0}).then(V=>V.data).then(V=>{L(!1),V.status&&(b(!1),M.success("Campana programada con exito"))}).catch(V=>{L(!1)})}function Y(){var I;let $=new FormData;$.append("msg",N),$.append("id_campaign",s.id),$.append("id_company",(I=a==null?void 0:a.company)==null?void 0:I.id_company),$.append("type","sms"),d!=null&&d.id_template&&$.append("id_template",d==null?void 0:d.id_template),P.post(E+"/api/upload/bodycampaign",$,{withCredentials:!0}).then(V=>V.data).then(V=>{console.log(V),V.status&&M.success("Guardado con exito")}).catch(V=>{M.error(String(V))})}function Q(){var I;let $=new FormData;$.append("id_campaign",d==null?void 0:d.id_campaign),$.append("id_company",(I=a==null?void 0:a.company)==null?void 0:I.id_company),P.post(E+"/api/update/pausecampaign",$,{withCredentials:!0}).then(V=>V.data).then(V=>{V.status&&h({...d,status:"prepare"})})}return t.useEffect(()=>{console.log(w)},[w]),e.jsxs(e.Fragment,{children:[e.jsx(ie,{visible:C,callback:b,width:"30%",onClick:Le,maxWidth:"500px",next:"Programar",Pending:A,children:e.jsx(gs,{setFormProgamming:ge,campaign:d})},gs?"XD":"xd"),e.jsx($e,{visible:v,callback:f,Pending:k,onClick:qe,name:"campana"}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles de campaña"}),e.jsx("span",{children:'Gestiona tus campañas de manera eficiente y optimiza tus estrategias de marketing con nuestra función de "Detalles de Campaña".'})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:$=>{setModalWizard(!0)},children:e.jsx(Re,{})})})]}),e.jsxs("div",{className:"menu-top-right",children:[e.jsx("button",{className:"programming",onClick:$=>{b(!0)},children:"Programar"}),e.jsx("button",{className:"programming",onClick:$=>c("/campaigns/stats/"+(s==null?void 0:s.id)),children:"Estadisticas"}),e.jsx("button",{className:"programming",onClick:$=>{f(!0)},children:"Eliminar"}),e.jsxs("button",{className:`programming ${g.sendCampaign?"await":""}`,onClick:K,children:["Enviar Prueba ",e.jsx("div",{className:"loading"})]}),e.jsxs("button",{className:`send-campaign ${g.sendCampaign?"await":""}`,onClick:K,children:["Enviar Campaña ",e.jsx("div",{className:"loading"})]})]}),e.jsxs("div",{className:"box steps",children:[e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:d.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Estatus"}),e.jsx(kt,{PauseCampaign:Q,status:d==null?void 0:d.status})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(Pe,{})}),e.jsxs("button",{children:[e.jsx(re,{})," "]})]})]}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top active",children:[e.jsx("div",{className:"check",children:e.jsx(De,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Crear Campaña"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top active",children:[e.jsx("div",{className:"check active",children:e.jsx(De,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Elegir Tipo"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{children:"Editar"})})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${d!=null&&d.lists?"active":""}`,children:[e.jsx("div",{className:"check",children:e.jsx(De,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Contactos"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"}),e.jsx("div",{className:"selects",children:((X=d==null?void 0:d.lists)==null?void 0:X.length)>=1?(ee=d==null?void 0:d.lists)==null?void 0:ee.split(",").map(($,I)=>e.jsx("div",{className:"select",children:e.jsxs("p",{children:["Lista: ",$," ",e.jsx("button",{className:"delete",onClick:D,value:$,children:e.jsx(te,{})})]})})):""})]}),i.lists==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Buscar lista... (Solo obtendras las listas con contactos)"}),e.jsx("input",{type:"search",onKeyUp:U,onKeyDown:ce,placeholder:"Buscar"})]}),e.jsxs("div",{className:"search-result",children:[o.lists.map(($,I)=>e.jsx("div",{className:"result",children:e.jsxs("div",{className:"info",children:[e.jsx("p",{children:$.name}),e.jsxs("span",{children:["Contactos: ",$.contacts]}),e.jsx("span",{children:"Agregado: 05/05/2022"}),e.jsx("button",{className:"select",onClick:R,value:$.id_list,children:e.jsx(ma,{})})]})},I)),u.lists?e.jsx(je,{}):u.lists==!1&&o.lists.length==0?e.jsx(me,{name:"listas"}):""]})]})}):e.jsx("div",{className:"right",children:e.jsx("button",{onClick:$=>{T("lists")},children:"Editar"})})]})}),(d==null?void 0:d.type_c)=="em"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${d!=null&&d.sender?"active":""}`,children:[e.jsx("div",{className:"check",children:e.jsx(De,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Remitente"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{onClick:$=>{T("body")},children:"Editar"})})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${d!=null&&d.affair?"active":""}`,children:[e.jsx("div",{className:"check",children:e.jsx(De,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Asunto"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),i.affair==!0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"form-input flex",children:[e.jsx("input",{type:"search",onChange:ae,name:"affair",placeholder:"Asunto..."}),e.jsx("button",{onClick:_e,className:"save",children:"Guardar"})]})})}):e.jsx("div",{className:"right",children:e.jsx("button",{onClick:$=>{T("affair")},children:"Editar"})})]})})]}):"",e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${d!=null&&d.template?"active":""}`,children:[e.jsx("div",{className:"check",children:e.jsx(De,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Plantilla"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),i.body==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[(d==null?void 0:d.type_c)=="em"?e.jsx(e.Fragment,{children:d!=null&&d.template?e.jsxs("div",{className:"preview-template",children:[e.jsx("p",{children:(be=d==null?void 0:d.template)==null?void 0:be.title}),e.jsxs("span",{children:["Plantilla creada:  ",le((Be=d==null?void 0:d.template)==null?void 0:Be.time_add)]}),e.jsx("img",{src:is((Ie=a==null?void 0:a.company)==null?void 0:Ie.folder_sftp,(rs=d==null?void 0:d.template)==null?void 0:rs.preview_image),alt:""}),e.jsx("br",{}),e.jsx(O,{to:`/editor/canvas/${(ds=d==null?void 0:d.template)==null?void 0:ds.id_template}?campaign=`+s.id,children:"Editar plantilla"})]}):e.jsx(O,{to:"/editor/canvas/?campaign="+s.id,children:"Crear una plantilla"})}):"",(d==null?void 0:d.type_c)=="sms"?e.jsx(e.Fragment,{children:i.body==!0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsx("div",{className:"form-input flex",children:e.jsx(wt,{value:N,onChange:_,onSave:Y})})})}):""}):""]})}):"",i.body==!1?e.jsx("div",{className:"right",children:e.jsx("button",{onClick:$=>{T("body")},children:"Editar"})}):""]})})]})]})}function Et({Visible:s,Close:a,Callback:c,loadLists:n}){const{UserInfo:i}=t.useContext(J),[l,o]=t.useState(0),[p,u]=t.useState([Ce()]),[x,d]=t.useState({type:"",name:""});Z();function h(r){r.stopPropagation(),r.preventDefault();let m=q(r.target);m.parents(".options").find(".active").removeClass("active"),m.addClass("active");let v=m.attr("value");d(f=>({...f,type:v}))}function g(r){var f;let m=!1,v=q(r.target);if((l===0&&x.type=="em"||x.type=="sms")&&(m=!0),l==1&&x.type!==""&&x.name!==""){v.addClass("await");let C=new FormData;C.append("name",x.name),C.append("type_c",x.type),C.append("id_company",(f=i==null?void 0:i.company)==null?void 0:f.id_company),P.post(E+"/api/upload/list",C,{withCredentials:!0}).then(b=>b.data).then(b=>{b.status&&(a(!1),c(!0),n()),v.removeClass("await")}).catch(b=>{v.removeClass("await")})}m&&o(C=>C+1)}function j(r){let m=r.target.name,v=r.target.value;d(f=>({...f,[m]:v}))}return t.useEffect(()=>{q(".case.active").removeClass("active"),q(".case").eq(l).addClass("active")},[l]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[l>0?e.jsxs("button",{className:"return",onClick:r=>{o(m=>m-1)},children:[e.jsx(Oe,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:r=>{a(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear una nueva lista"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de lista que te gustaría crear"})]}),e.jsxs("div",{className:"options flex",id:`options-${p[0]}`,children:[e.jsxs("div",{className:"selector",onClick:h,value:"em",children:[e.jsx("div",{className:"check",children:e.jsx(xe,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"LISTA DE EMAIL"}),e.jsx("span",{children:"La lista de email es una herramienta que te permite administrar tus contactos de manera eficiente. Aquí podrás subir tus contactos para realizar envíos de correo electrónico de forma conveniente y efectiva."})]})]}),e.jsxs("div",{className:"selector",onClick:h,value:"sms",children:[e.jsx("div",{className:"check",children:e.jsx(xe,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"LISTA TELEFONICA"}),e.jsx("span",{children:"Una lista de números es una herramienta que te permite gestionar y organizar de manera efectiva tus contactos telefónicos. Con ella, podrás enviar mensajes de texto rápidos y confiables a cualquier número, sin importar el país."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar Lista"}),e.jsx("span",{className:"desc",children:"Asignale un nombre a tu nueva lista."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de lista"}),e.jsx("input",{type:"text",name:"name",onChange:j,placeholder:"Nombre"})]})})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:"next",onClick:g,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function _t({functions:s}){let{setSelectMultiple:a,selects:c,resetSelection:n,selectMultiple:i}=s;const l=Z();function o(){c.length?l("/contacts/upload/"+JSON.stringify(c)):ve.error("No has seleccionado ninguna lista")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top gl",children:[i?e.jsxs(e.Fragment,{children:[e.jsxs("button",{children:["Seleccionando (",c==null?void 0:c.length,")"]}),e.jsx("button",{onClick:o,children:"Subir Contactos"}),e.jsx("button",{onClick:n,children:"Cancelar"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:p=>{a(!0)},children:"Seleccionar Multiple"}),e.jsx("button",{onClick:p=>{l("/contacts/lists/email")},children:"Listas Email"}),e.jsx("button",{onClick:p=>{l("/contacts/lists/sms")},children:"Listas Mensajeria"}),e.jsx("button",{onClick:p=>{l("/contacts/lists/whatsapp")},children:"Listas Whatsapp"})]}),e.jsxs("div",{className:"search",children:[e.jsx("i",{children:e.jsx(xa,{})}),e.jsx("input",{type:"text",placeholder:"Buscar..."})]})]})})}function Ft({type:s,lists:a}){const[c,n]=t.useState(!1),[i,l]=t.useState([]),[o,p]=t.useState(!1),u=Z(),x=h=>{l(g=>g.includes(h)?g.filter(j=>j!==h):[...g,h])},d=()=>{l([]),n(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(_t,{functions:{resetSelection:d,selects:i,selectMultiple:c,setSelectMultiple:n}}),e.jsx($e,{visible:o,callback:p}),e.jsx("div",{className:"row",children:a.map((h,g)=>e.jsx("div",{className:"col-md-3 page-lists",children:e.jsx("div",{className:"box box-padding",children:e.jsxs("div",{className:"item flex-wrap",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/lists.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",title:h.name,children:Ua(h.name,15)}),e.jsxs("span",{className:"desc",children:["Creado el: ",le(h.time_add)]}),e.jsx("br",{}),c&&e.jsx("input",{type:"checkbox",onChange:()=>x(h.id_list),checked:i.includes(h.id_list)})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:j=>{u("/contacts/detail/"+h.id_list)},children:e.jsx(ye,{})}),e.jsx("button",{onClick:j=>{p(!0)},children:e.jsx(te,{})})]})]})})},g))})]})}function vs(){const[s,a]=t.useState(),[c,n]=t.useState([]),[i,l]=t.useState(!1),{UserInfo:o}=t.useContext(J),p=ne(),u=Z();function x(h){h&&a(!1)}function d(){var g;let h=new FormData;h.append("id_company",(g=o==null?void 0:o.company)==null?void 0:g.id_company),h.append("type",p==null?void 0:p.type),l(!0),n([]),P.post(E+"/api/get/list",h,{withCredentials:!0}).then(j=>j.data).then(j=>{n(j),l(!1)})}return t.useEffect(()=>{d()},[p==null?void 0:p.type]),e.jsxs(e.Fragment,{children:[e.jsx(Et,{Visible:s,Close:a,Callback:x,loadLists:d}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Listas"}),e.jsx("span",{children:"Estas son tus listas de contactos, puedes subir contactos rapidamente creando una lista y seleccionando tu archivo csv"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:h=>{a(!0)},children:"Crear nueva lista"})})]}),p.type==null?e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsx("div",{className:"box select-list",children:e.jsxs("div",{className:"top",children:[e.jsx("img",{src:"/img/icons/email_list.png",alt:""}),e.jsx("span",{children:"Listas Correos"}),e.jsx("button",{onClick:h=>{u("/contacts/lists/em")},children:"Ir"})]})})}),e.jsx("div",{className:"col-md-3",children:e.jsx("div",{className:"box select-list",children:e.jsxs("div",{className:"top",children:[e.jsx("img",{src:"/img/icons/message_list.png",alt:""}),e.jsx("span",{children:"Listas Telefonicas"}),e.jsx("button",{onClick:h=>{u("/contacts/lists/sms")},children:"Ir"})]})})})]}):e.jsx(Ft,{lists:c,type:p==null?void 0:p.type})]})}function Dt({Status:s}){return e.jsx(e.Fragment,{children:s=="wait"?e.jsxs("span",{className:"wait-list",children:[e.jsx(ha,{})," Subiendo..."]}):s=="ready"?e.jsxs("span",{className:"ready-list",children:[e.jsx(xe,{}),"  Activa"]}):s=="error"?e.jsxs("span",{className:"error-list",children:[e.jsx(ua,{})," Error"]}):e.jsxs("span",{className:"setting-list",children:[e.jsx(Es,{})," En espera..."]})})}function Pt(){const{UserInfo:s}=t.useContext(J),a=ne(),[c,n]=t.useState({}),i=Z();return t.useState(!1),t.useState(!0),t.useEffect(()=>{var o;let l=new FormData;l.append("id_list",a.id),l.append("id_company",(o=s==null?void 0:s.company)==null?void 0:o.id_company),P.post(E+"/api/get/list",l,{withCredentials:!0}).then(p=>p.data).then(p=>{n(p)})},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles de lista"}),e.jsx("span",{children:"Ve los detalle de tus listas y ve si estan listas para ser utilizadas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:l=>{i("/contacts/lists")},children:e.jsx(Re,{})})})]}),e.jsx("div",{className:"menu-top-right",children:e.jsx("button",{className:"programming",onClick:l=>{i("/contacts/lists/logs/"+a.id)},children:"Logs"})}),e.jsxs("div",{className:"box steps",children:[e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:c.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Contactos"}),e.jsx("span",{children:c.contacts})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Tipo"}),e.jsx("span",{children:c.type})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Estatus"}),e.jsx(Dt,{Status:c.status})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(fe,{})}),e.jsx("button",{onClick:l=>{i("/contacts/upload/"+a.id)},children:e.jsx(Ee,{})}),e.jsx("button",{children:e.jsx(te,{})})]})]}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"check active",children:e.jsx(De,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Crear Lista"}),e.jsx("span",{className:"desc approve",children:e.jsx("span",{className:"ready-list",children:"Completado !"})})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"check active",children:e.jsx(De,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Elegir Tipo"}),e.jsx("span",{className:"desc approve",children:e.jsx("span",{className:"ready-list",children:"Completado !"})})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:`check ${c.contacts>0?"active":""}`,children:e.jsx(De,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Subir Contactos"}),e.jsx("span",{className:"desc",children:c.contacts==0?e.jsx("span",{className:"wait-list",children:"Pendiente"}):e.jsx("span",{className:"ready-list",children:"Completado !"})})]}),e.jsx("div",{className:"right",children:e.jsx("button",{onClick:l=>{i("/contacts/upload/"+a.id)},children:"Subir"})})]})})]})]})}function Tt({Visible:s,Close:a,Callback:c}){var L;const{UserInfo:n}=t.useContext(J),[i,l]=t.useState(0),[o,p]=t.useState([Ce()]),[u,x]=t.useState({type:"",file:{}}),d={analize:!1,percentAnalize:"0",approve:!1},[h,g]=t.useState(d),[j,r]=t.useState(!1);let m=q("input[type='file']");const v=Z(),f=ne();function C(N){N.stopPropagation(),N.preventDefault();let _=q(N.target);_.parents(".options").find(".active").removeClass("active"),_.addClass("active");let y=_.attr("value");x(z=>({...z,type:y}))}function b(N){var y;let _=!1;switch(q(N.target),(i===0&&u.type=="auto"||u.type=="manu")&&(_=!0),u.type){case"auto":i==1&&((y=u==null?void 0:u.file)==null?void 0:y.name)!==void 0&&S();break}_&&l(z=>z+1)}t.useEffect(()=>{q(".case.active").removeClass("active"),q(".case").eq(i).addClass("active")},[i]);function k(){document.querySelector("input[type='file']").click()}function F(N){g(_=>({..._,percentAnalize:N}))}function w(N){g(_=>({..._,analize:!0})),Ja(N,F).then(_=>{console.log(_),_.analize=="good"&&(g(y=>({...y,approve:!0})),x(y=>({...y,file:_.file})))}).catch(_=>{A(),M.error("Opps! el archivo que intentastes subir no es compatible o tiene algun error."),g(y=>({...y,analize:!1,percentAnalize:0}))})}function S(){var _;r(!0);let N=new FormData;N.append("id_list",f.id),N.append("contacts",u.file),N.append("id_company",(_=n==null?void 0:n.company)==null?void 0:_.id_company),P.post(E+"/api/upload/contacts",N,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}).then(y=>y.data).then(y=>{r(!1),y.status?v("/contacts/detail/"+f.id):M.error(y.msg)}).catch(y=>{r(!1)})}function A(){x(N=>({...N,file:{}})),g(d),m.val("")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[i>0?e.jsxs("button",{className:"return",onClick:N=>{l(_=>_-1)},children:[e.jsx(Oe,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:N=>{v("/contacts/detail/"+f.id)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Subir nuevos contactos"}),e.jsx("span",{className:"desc",children:"Selecciona de que manera quieres subir los contactos"})]}),e.jsxs("div",{className:"options flex",id:`options-${o[0]}`,children:[e.jsxs("div",{className:"selector",onClick:C,value:"manu",children:[e.jsx("div",{className:"check",children:e.jsx(xe,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"SUBIR MANUALMENTE"}),e.jsx("span",{children:"Agrega tus contactos de forma rápida y sencilla, uno por uno, rellenando los campos de manera dinámica. Con solo unos pocos clics, podrás tener tus contactos listos para comunicarte con ellos de manera personalizada."})]})]}),e.jsxs("div",{className:"selector",onClick:C,value:"auto",children:[e.jsx("div",{className:"check",children:e.jsx(xe,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"SUBIR MEDIANTE ARCHIVO"}),e.jsx("span",{children:"Importa tus contactos de manera rápida y eficiente mediante un archivo. Solo necesitas preparar un archivo en formato (.csv o .txt) con los detalles de tus contactos y nuestro sistema se encargará de procesarlo y añadirlos a tu lista en un instante."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Subir Archivo"}),e.jsx("span",{className:"desc",children:"Sube tu archivo rapidamente para procesarlo en tu lista de contactos."})]}),h.approve==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"file-adjunt",children:[e.jsx("i",{className:"icon",children:e.jsx(ja,{})}),e.jsxs("div",{className:"file",children:[e.jsx("p",{children:(L=u==null?void 0:u.file)==null?void 0:L.name}),e.jsxs("div",{className:"info",children:[e.jsxs("span",{children:["Tipo de archivo: ",u.file.type]}),e.jsxs("span",{children:["Peso: ",u.file.size," kb"]})]}),e.jsx("button",{className:"delete",onClick:A,children:e.jsx(te,{})})]})]})}):e.jsxs("div",{className:"upload-contact",children:[e.jsx("input",{type:"file",accept:".csv,.txt",onChange:w,hidden:!0}),h.analize==!0?e.jsx(e.Fragment,{children:e.jsxs("p",{children:["Estamos analizando tu archivo... ",h.percentAnalize,"%"]})}):e.jsx("center",{children:e.jsxs("div",{className:"select-upload",onClick:k,children:[e.jsx("i",{className:"icon",children:e.jsx(ga,{})}),e.jsx("p",{children:"Selecciona tu archivo de contactos"})]})})]})]}),e.jsx("div",{className:"actions center",children:e.jsxs("button",{className:`next ${j==!0?"await":""}`,onClick:b,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function qt(){return e.jsx(e.Fragment,{children:e.jsx(Tt,{Visible:!0})})}function fs(){const[s,a]=t.useState(!0),[c,n]=t.useState(!1),[i,l]=t.useState({save:!1,campaign:!1}),[o,p]=t.useState({results:[],loadingTemplate:!1}),[u,x]=t.useState(!1),[d,h]=t.useState({}),[g,j]=t.useState(""),[r,m]=t.useState(!1),{UserInfo:v}=t.useContext(J),f=ne(),[C,b]=t.useState();let k=["Cargando editor...","Nos tardaremos un poco","Que tal tu dia?","Vamos! con mucha imaginacion.","Ahora es un buen momento!","Un poco mas...","Ya casi!","Había una vez!"];const F=Z();function w(R,D){var T=document.createElement("script");T.src=R,T.onload=D,document.head.appendChild(T)}t.useEffect(()=>{n(!0),c&&(w("//editor.unlayer.com/embed.js",function(R){console.log(R)}),w("/draganddrop/dist/js/body.js",function(R){console.log(R),setTimeout(()=>{a(!1)},3500)}))},[c]);function S(){unlayer.exportHtml(async function(R){var D;if(g==""||g==null)M.error("Opps debes definir un titulo primero"),x(!0);else{L("save",!0);let T=new FormData,K=await N().then(ae=>ae);T.append("preview",K),T.append("title",g),T.append("html",R.html),T.append("json",JSON.stringify(R.design)),T.append("id_company",(D=v==null?void 0:v.company)==null?void 0:D.id_company),T.append("type","email"),f.id&&T.append("id_template",f.id),P.post(E+"/api/upload/bodycampaign",T,{withCredentials:!0}).then(ae=>ae.data).then(ae=>{ae.status&&f.id==null&&F(`/editor/canvas/${ae.id_body}`),L("save",!1)}).catch(ae=>{L("save",!1)})}})}function A(){n(!0),q("#editor").html(""),F("/editor/canvas")}function L(R,D){l(T=>({...T,[R]:D}))}async function N(){return new Promise((R,D)=>{let T=document.querySelector(".preview-template");try{unlayer.exportHtml(K=>{T.innerHTML=K.html,T.innerHTML&&Ye(T,{allowTaint:!1,useCORS:!0}).then(ae=>{let _e=ae.toDataURL("image/png");R(_e)})})}catch(K){D(K)}})}function _(){var D;let R=new FormData;R.append("id_company",(D=v==null?void 0:v.company)==null?void 0:D.id_company),P.post(E+"/api/get/templatesall",R,{withCredentials:!0}).then(T=>T.data).then(T=>{p(K=>({...K,results:T}))}).catch(T=>{})}function y(){m(!0)}function z(R){var T;let D=new FormData;D.append("id_company",(T=v==null?void 0:v.company)==null?void 0:T.id_company),D.append("id_campaign",R),P.post(E+"/api/get/campaign",D,{withCredentials:!0}).then(K=>K.data).then(K=>{K&&h(K)})}t.useEffect(()=>{let D=new URLSearchParams(window.location.search).get("campaign");D&&z(D),_();let T=0;b(k[0]),setInterval(()=>{let K=k.length;T=T+1,b(k[T-1]),T>=K&&(T=0)},4500)},[]),t.useEffect(()=>{var R;if(f.id){let D=new FormData;a(!0),D.append("id_template",f.id),D.append("id_company",(R=v==null?void 0:v.company)==null?void 0:R.id_company),P.post(E+"/api/get/templatejson",D,{withCredentials:!0}).then(T=>T.data).then(T=>{a(!1),T.json?unlayer.loadDesign(JSON.parse(T.json)):M.error("Error al cargar la template")}).catch(T=>{a(!1)})}},[f==null?void 0:f.id]);function H(R){j(R.target.value)}function U(R){F(`/editor/canvas/${R}${d!=null&&d.id_campaign?"?campaign="+d.id_campaign:""}`)}function ce(){var D;L("campaign",!0);let R=new FormData;R.append("id_campaign",d.id_campaign),R.append("id_company",(D=v==null?void 0:v.company)==null?void 0:D.id_company),R.append("id_template",f.id),P.post(E+"/api/update/settemplate",R,{withCredentials:!0}).then(T=>T.data).then(T=>{L("campaign",!1),T.status&&(M.success(T.msg),h(K=>({...K,id_template:f.id})))}).catch(T=>{L("campaign",!1)})}function W(){var D;let R=new FormData;R.append("id_campaign",d.id_campaign),R.append("id_company",(D=v==null?void 0:v.company)==null?void 0:D.id_company),h(T=>({...T,id_template:""})),P.post(E+"/api/delete/settemplate",R,{withCredentials:!0}).then(T=>T.data).then(T=>{})}return e.jsxs(e.Fragment,{children:[s?e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:[C," ",e.jsx("div",{className:"loading"})]})]})})}):"",e.jsxs(ie,{visible:u,onClick:R=>{x(!1)},next:"Asignar",callback:x,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Elige un titulo"})}),e.jsx("br",{}),e.jsx("div",{className:"content",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Esto te ayudara a identificar tu plantilla"}),e.jsx("input",{type:"text",placeholder:"Titulo de template",onChange:H})]})}),e.jsx("br",{})]}),e.jsxs(ie,{visible:r,minWidth:"50%",buttonSave:!1,maxWidth:"150px",callback:m,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Mis Plantillas"})}),e.jsx("br",{}),e.jsxs("div",{className:"content row",children:[o.results.map((R,D)=>{var T;return e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"template",onClick:K=>{U(R.id_template)},children:[e.jsx("p",{children:R.title}),e.jsxs("span",{children:["Agregada: ",le(R.time_add)]}),e.jsx("img",{src:is((T=v==null?void 0:v.company)==null?void 0:T.folder_sftp,R.preview_image)})]})},D)}),o.loadingTemplate==!1&&o.results.length==0?e.jsx(me,{name:"plantillas"}):""]})]}),e.jsxs("div",{className:"editor-canvas",children:[e.jsx("header",{children:e.jsx("link",{href:"/draganddrop/dist/css/style.css",rel:"stylesheet",type:"text/css"})}),e.jsxs("div",{className:"topnav1",children:[e.jsxs("div",{className:"buttons",children:[e.jsxs("button",{style:{background:"transparent"},onClick:R=>{F("/home")},children:[e.jsx(Re,{})," Volver"]}),d.name?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"campaign",children:[e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""}),e.jsx("p",{children:d==null?void 0:d.name}),e.jsx("span",{children:"Campaña seleccionada"})]}),d.id_template!==f.id?e.jsxs("button",{className:`${i.campaign==!0?"await":""}`,onClick:ce,children:[e.jsx(va,{})," Usar Plantilla",e.jsx("div",{className:"loading"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"use",children:"Utilizando plantilla"}),e.jsx("button",{onClick:W,children:e.jsx(te,{})})]})]}):""]}),e.jsxs("div",{className:"buttons right",children:[e.jsxs("button",{className:`${i.save==!0?"await":""}`,onClick:S,children:[f.id?e.jsxs(e.Fragment,{children:[e.jsx(Pe,{})," Editar"]}):e.jsxs(e.Fragment,{children:[" ",e.jsx(fa,{})," Guardar"]}),e.jsx("div",{className:"loading"})]}),e.jsxs("button",{onClick:y,children:[e.jsx(Ee,{})," Cargar plantilla"]}),e.jsxs("button",{onClick:A,children:[e.jsx(Na,{})," Nuevo"]}),e.jsx("button",{onClick:y,children:e.jsx(ya,{})})]})]}),e.jsx("div",{className:"preview-template"}),e.jsx("div",{id:"editor"})]})]})}function Lt(){const s=Z(),[a,c]=t.useState([]),[n,i]=t.useState(!0),[l,o]=t.useState({id_delete:void 0,pending:!1}),[p,u]=t.useState(!1);Me();const{UserInfo:x}=t.useContext(J);function d(){var j;i(!0);let g=new FormData;g.append("id_company",(j=x==null?void 0:x.company)==null?void 0:j.id_company),P.post(E+"/api/get/surveys",g,{withCredentials:!0}).then(r=>r.data).then(r=>{c(r),i(!1)}).catch(r=>{i(!1),M.error(String(r))})}t.useEffect(()=>{n&&d()},[]);function h(){var j;o(r=>({...r,pending:!0}));let g=new FormData;g.append("id_company",(j=x==null?void 0:x.company)==null?void 0:j.id_company),g.append("id_survey",l.id_delete),P.post(E+"/api/delete/survey",g,{withCredentials:!0}).then(r=>r.data).then(r=>{u(!1),r.status&&d(),o(m=>({...m,pending:!1}))}).catch(r=>{o(m=>({...m,pending:!1}))})}return e.jsxs(e.Fragment,{children:[e.jsx($e,{visible:p,Pending:l.pending,onClick:h,callback:u}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis encuestas"}),e.jsx("span",{children:"Gestiona tus encuestas rapidamente y optimiza tus estrategias"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:g=>{s("/surveys/editor")},children:"Crear nueva encuesta"})})]}),e.jsxs("div",{className:"row",children:[n==!1?a.map((g,j)=>{var r;return e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${E}/api/get/previewsurvey?miniature=${g.miniature})`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{onClick:m=>{u(!0),o(v=>({...v,id_delete:g.id_survey}))},children:e.jsx(te,{})}),e.jsx("button",{onClick:m=>{s("/surveys/editor/"+g.id_survey)},children:e.jsx(Pe,{})}),e.jsx("button",{onClick:m=>{s(`/stats/survey/${g.id_survey}`)},children:e.jsx(fe,{})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:(r=g==null?void 0:g.header)==null?void 0:r.title}),e.jsxs("span",{children:["Encuesta agregada el: ",le(g.time_add)]})]})]})},j)}):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(je,{})})}),n==!1&&a.length==0?e.jsx(me,{name:"encuestas"}):""]})]})}function At({header:s,value:a,keyid:c,setModalImage:n,page:i,setEdit:l,setJson:o}){var j;function p(r,m,v){u(v),l({type:r,key:m,page:i})}function u(r){let m=q(r.target).parents(".question");q(".question.active").removeClass("active"),m.addClass("active")}function x(r){let m=r.target.value;o(v=>{let f=[...v];return f[i].quests[c].type=m,f})}function d(r){u(r),r.stopPropagation(),l({});let m=!0;o(v=>{const f=[...v];return m&&(f[i].quests[c].questions.push({}),m=!1),f})}function h(r,m){r.stopPropagation();let v=!0;o(f=>{var b;let C=[...f];if(v&&(b=C[i])!=null&&b.quests[c]){let k=[];C[i].quests[c].questions.forEach((F,w)=>{w!==m?k.push(F):v=!1}),C[i].quests[c].questions=k}return C})}function g(r){r.stopPropagation();let m=!0;o(v=>{let f=[...v],C=[];return f[i].quests.forEach((b,k)=>{k!==c&&C.push(b)}),m&&(f[i].quests=C,m=!1),f})}return q(document).on("click",".options button",function(r){r.stopImmediatePropagation(),q(".edit-active").removeClass("edit-active"),q(this).parents(".options").parents(".quest").addClass("edit-active")}),q(document).on("click",".top p, .top span",function(r){r.stopImmediatePropagation(),q(".edit-active").removeClass("edit-active"),q(this).addClass("edit-active")}),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"question edit",colorBox:s.colorBox,style:{borderRadius:s.borderRadius+"px"},children:[e.jsx("button",{className:"delete-question",onClick:r=>{g(r),l({})},children:e.jsx(te,{})}),e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",onClick:r=>{p("title",c,r)},children:a!=null&&a.title?a.title:"Elige un titulo..."}),e.jsx("span",{onClick:r=>{p("desc",c,r)},children:a!=null&&a.desc?a.desc:"Elige una descripcion... (opcional)"})]}),a!=null&&a.img?e.jsx("img",{className:"img-quest",src:a.img}):"",e.jsxs("div",{className:"select-types",children:[e.jsx("button",{onClick:d,className:"add-quest",children:"Agregar pregunta"}),e.jsx("button",{onClick:r=>{n(!0),l({key:c,type:"add-image",page:i})},children:e.jsx(Ca,{})}),e.jsxs("select",{onChange:x,children:[e.jsx("option",{value:"input",children:"Respuesta corta"}),e.jsx("option",{value:"input-large",children:"Respuesta larga"}),e.jsx("option",{value:"radio",children:"Opcion multiple"}),e.jsx("option",{value:"check",children:"Casillas de verificacion"})]})]}),(j=a==null?void 0:a.questions)==null?void 0:j.map((r,m)=>e.jsxs("div",{className:"quest",children:[a.type=="input"?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",disabled:!0,placeholder:`${r.title?r.title:"Elige una descripcion"}`}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:v=>{h(v,m)},children:e.jsx(te,{})}),e.jsx("button",{onClick:v=>{l({key:c,type:"title-quest",quest_key:m,page:i})},children:e.jsx(Pe,{})})]})]}):"",a.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:c})," ",e.jsx("span",{children:r.title?r.title:"Elige una descripcion..."}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:v=>{h(v,m)},children:e.jsx(te,{})}),e.jsx("button",{onClick:v=>{l({key:c,type:"title-quest",quest_key:m,page:i})},children:e.jsx(Pe,{})})]})]}):"",a.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:c})," ",e.jsx("span",{children:r.title?r.title:"Elige una descripcion..."}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:v=>{h(v,m)},children:e.jsx(te,{})}),e.jsx("button",{onClick:v=>{l({key:c,type:"title-quest",quest_key:m,page:i})},children:e.jsx(Pe,{})})]})]}):"",a.type=="input-large"?e.jsxs(e.Fragment,{children:[e.jsx("textarea",{type:"checkbox",name:c,placeholder:r.title,style:{width:"100%"}}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:v=>{h(v,m)},children:e.jsx(te,{})}),e.jsx("button",{onClick:v=>{l({key:c,type:"title-quest",quest_key:m,page:i})},children:e.jsx(Pe,{})})]})]}):""]},m))]})})}function Ot({json:s=[],header:a={},setJson:c,setEdit:n,edit:i}){var b,k;const[l,o]=t.useState(!1),[p,u]=t.useState(!1);t.useState([]);const[x,d]=t.useState("email"),[h,g]=t.useState({width:"",left:""});Z();function j(){c(F=>[...F,{quests:[{title:"",desc:"",type:"radio",questions:[]}]}])}function r(F){let w=!0;c(S=>{var N;let A=[...S],L=(N=A[F])==null?void 0:N.quests;return w&&(A[F].quests=[...L,{title:"",desc:"",type:"radio",img:"",questions:[]}],w=!1),A})}function m(F){c(w=>{let S=[...w],A=[];return S.forEach((L,N)=>{N!==F&&(console.log(F===N),A.push(L))}),S=A,S})}function v(){let F=document.querySelector("#image-edit").value;c(w=>{let S=[...w];return S[i.page].quests[i.key].img=F,S}),o(!1)}function f(){window.localStorage.setItem("surveyPreview",JSON.stringify(s)),window.localStorage.setItem("surveyPreviewHead",JSON.stringify(a)),window.open("/surveys/preview","_blank")}function C(F){let w=F.target.value;d(w),g(S=>({...S,width:F.target.offsetWidth,left:F.target.offsetLeft}))}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{onClick:f,children:[e.jsx(ye,{})," Previsualizar"]}),e.jsxs("button",{onClick:F=>{u(!0)},children:[e.jsx(We,{})," Enviar"]})]})}),e.jsxs(ie,{visible:p,minWidth:"35%",callback:u,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enviar"}),e.jsx("span",{children:"Tienes distintas opciones para enviar esta encuesta"})]}),a.short_link==null?e.jsx("span",{className:"alert-save",children:"Opps! aun no puedes usar esta funcion no has guardado la encuesta."}):"",e.jsx("div",{className:"menu-change",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("span",{children:"Enviar por"})}),e.jsx("li",{children:e.jsx("button",{className:`${x=="email"?"active":""}`,onClick:C,value:"email",children:e.jsx(ba,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${x=="link"?"active":""}`,onClick:C,value:"link",children:e.jsx(wa,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${x=="embed"?"active":""}`,onClick:C,value:"embed",children:e.jsx(ka,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${x=="settings"?"active":""}`,onClick:C,value:"settings",children:e.jsx(Es,{})})}),e.jsx("div",{className:"hover",style:{left:h.left+"px",width:h.width+"px"}})]})}),e.jsxs("div",{className:`result-menu ${a.short_link==null?"disabled":""} ${x=="email"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo electronico"}),e.jsx("input",{type:"text",placeholder:"contactos"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Asunto"}),e.jsx("input",{type:"text",placeholder:"informacion de contacto"})]})]}),e.jsxs("div",{className:`result-menu ${a.short_link==null?"disabled":""} ${x=="link"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Enlace"}),e.jsx("input",{type:"text",placeholder:"contactos",value:`${Je}/survey/${a.token}`,disabled:!0})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Enlace Corto"}),e.jsx("input",{type:"text",placeholder:"url corta",value:a.short_link,disabled:!0})]})]}),e.jsx("div",{className:`result-menu ${a.short_link==null?"disabled":""} ${x=="embed"?"show":""}`,children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Incorporar HTML"}),e.jsx("input",{type:"text",placeholder:"contactos"})]})}),e.jsxs("div",{className:`result-menu ${a.short_link==null?"disabled":""} ${x=="settings"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Condicion de respuesta "}),e.jsxs("select",{name:"",id:"",children:[e.jsx("option",{value:"",children:"Responder varias veces"}),e.jsx("option",{value:"",children:"Responder solo una vez"})]})]}),e.jsx("div",{className:"form-input"})]})]}),e.jsxs(ie,{visible:l,callback:o,onClick:v,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Url de imagen"}),e.jsx("span",{children:"Ingresa la url de la imagen que quieres integrar en tu pregunta"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",id:"image-edit",placeholder:"https://image.com/image.png"})})]}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${a.blur}px)brightness(${a.brightness})`,background:a.background2}}),e.jsxs("div",{className:"survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(b=a==null?void 0:a.logo)!=null&&b.length?e.jsx("img",{className:"logo",src:a==null?void 0:a.logo}):"",(k=a==null?void 0:a.title)!=null&&k.length?e.jsx("p",{className:"",children:a.title}):""]})}),s==null?void 0:s.map((F,w)=>{var S;return e.jsxs("div",{className:"page",children:[e.jsxs("div",{className:"info-page",children:[e.jsxs("p",{children:["Pagina ",w+1]}),e.jsx("button",{className:"delete",onClick:A=>{m(w)},children:e.jsx(te,{})})]}),(S=F.quests)==null?void 0:S.map((A,L)=>e.jsx(At,{header:a,setModalImage:o,value:A,page:w,keyid:L,setEdit:n,setJson:c},L)),e.jsxs("button",{className:"add-new",onClick:A=>{r(w)},children:[e.jsx(Qe,{})," Nueva pregunta"]})]},w)}),e.jsxs("div",{className:"add-new",onClick:j,children:[e.jsx(Qe,{})," Nueva pagina"]})]})]})}function Mt({setHeader:s,header:a,json:c}){const[n,i]=t.useState(!1),{UserInfo:l}=t.useContext(J);t.useState();function o(u){let x=u.target.value,d=u.target.name;d=="background"&&(x.indexOf("http")>=0||x.indexOf("www")>=0)&&(x=`url(${x})`),s(h=>({...h,[d]:x}))}async function p(){var x;let u=new FormData;if(a.id_survey&&u.append("id_survey",a.id_survey),u.append("header",JSON.stringify(a)),u.append("id_company",(x=l==null?void 0:l.company)==null?void 0:x.id_company),u.append("json",JSON.stringify(c)),a.title)if(c.length>=1){let d=await new Promise((h,g)=>{Ye(document.querySelector(".center"),{allowTaint:!1,useCORS:!0}).then(j=>{let r=j.toDataURL("image/png");h(r)})});d&&u.append("miniature",d.replace("data:image/png;base64,","")),i(!0),P.post(E+"/api/upload/survey",u,{withCredentials:!0}).then(h=>h.data).then(h=>{h.status&&(h.id_survey&&(a.id_survey||s(g=>({...g,id_survey:h.id_survey}))),h.token&&s(g=>({...g,token:h.token})),h.short_link&&s(g=>({...g,short_link:h.short_link}))),i(!1)}).catch(h=>{i(!1)})}else M.error("Opps no has agregado una pregunta.");else M.error("Opps no has elegido un titulo")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar encuesta"}),e.jsx("span",{children:"Personaliza tu encuesta, imagen, fondo, titulo y logo."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Titulo"}),e.jsx("input",{type:"text",onChange:o,defaultValue:a.title,name:"title",placeholder:"Ej: Encuesta de fidelidad"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Ingresa url de tu logo"}),e.jsx("input",{type:"text",onChange:o,defaultValue:a.logo,name:"logo"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",onChange:o,defaultValue:a.background,name:"background"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",defaultValue:0,step:"0.1",max:"10",value:a.blur,onChange:o,name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",defaultValue:1,step:"0.0",max:"1",value:a.brightness,onChange:o,name:"brightness"})]}),e.jsx("br",{}),e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar Cajas"}),e.jsx("span",{children:"Personaliza de tu manera preferida tus cajas."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border Radius"}),e.jsx("input",{type:"range",defaultValue:.1,step:"0.1",max:"20",onChange:o,name:"borderRadius"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{onClick:u=>{o(u)},name:"colorBox",value:"ligth",children:"Modo Claro"}),e.jsx("button",{onClick:u=>{o(u)},name:"colorBox",value:"dark",children:"Modo Oscuro"}),e.jsx("button",{onClick:u=>{o(u)},name:"colorBox",value:"transparent",children:"Transparente"})]})]}),e.jsx("div",{className:"option",children:e.jsxs("button",{className:`save ${n?"await":""}`,onClick:p,children:["Guardar ",e.jsx("div",{className:"loading"})]})})]})}function Rt({value:s,page:a,setJson:c,keyid:n}){function i(l){let o=l.target.value;c(p=>{const u=[...p];return u[a].quests[n].title=o,u[a].quests[n].response=0,u})}return t.useEffect(()=>{s!=null&&s.title&&(console.log("ok"),document.querySelector("#title-edit").value=s.title)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo de pregunta"}),e.jsx("input",{id:"title-edit",onChange:i,type:"text",placeholder:"Ej: Como te llamas?"})]})})})}function $t({page:s,value:a,setJson:c,keyid:n}){function i(l){let o=l.target.value;c(p=>{const u=[...p];return u[s].quests[n].desc=o,u})}return t.useEffect(()=>{a!=null&&a.desc&&(console.log("ok"),document.querySelector("#title-edit").value=a.desc)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descripcion de pregunta"}),e.jsx("input",{id:"title-edit",onChange:i,type:"text",placeholder:"Ej: Tu nombre es importante por que..."})]})})})}function zt({quest_key:s,page:a,value:c,setJson:n,keyid:i}){function l(o){o.stopPropagation();let p=o.target.value;n(u=>{let x=[...u];return x[a].quests[i].questions[s].title=p,x})}return t.useEffect(()=>{console.log(c)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo de pregunta"}),e.jsx("input",{id:"title-edit",onChange:l,type:"text",placeholder:"Ej: Como te llamas?"})]})})})}function Bt({edit:s,json:a,setJson:c}){var n;return e.jsxs(e.Fragment,{children:[s.type=="title"?e.jsx(Rt,{page:s.page,value:a[s.key],setJson:c,keyid:s.key},s.key):"",s.type=="desc"?e.jsx($t,{page:s.page,value:a[s.key],setJson:c,keyid:s.key},s.key):"",s.type=="title-quest"?e.jsx(zt,{page:s.page,quest_key:s.quest_key,value:(n=a[s.page].quests[s.key])==null?void 0:n.questions[s.quest_key],setJson:c,keyid:s.key},s.key):""]})}function Ns(){const[s,a]=t.useState({title:"",logo:"",background:"",blur:"0.5",brightness:""}),[c,n]=t.useState([]),[i,l]=t.useState({type:"",key:"",quest_key:"",page:""}),{UserInfo:o}=t.useContext(J),p=ne(),[u,x]=t.useState(!0);function d(){var g;x(!0);let h=new FormData;h.append("id_survey",p.idsurvey),h.append("id_company",(g=o==null?void 0:o.company)==null?void 0:g.id_company),P.post(E+"/api/get/surveys",h,{withCredentials:!0}).then(j=>j.data).then(j=>{x(!1),j.header&&a(JSON.parse(j.header)),j.json&&n(JSON.parse(j.json))}).catch(j=>{x(!1),M.error(String(j))})}return t.useEffect(()=>{p.idsurvey?d():setTimeout(()=>{x(!1)},1e3)},[]),e.jsxs(e.Fragment,{children:[u?e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:["Cargando... ",e.jsx("div",{className:"loading"})]})]})}):"",e.jsx("div",{className:"editor-surveys",children:e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:"left",children:e.jsx(Mt,{setHeader:a,header:s,json:c})}),e.jsx("div",{className:"center",style:{background:s.background},children:e.jsx(Ot,{json:c,header:s,edit:i,setJson:n,setEdit:l})}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"type-editor",children:e.jsx(Bt,{edit:i,setJson:n,json:c,header:s})})})]})})]})}function ys(){var d,h,g,j;const[s,a]=t.useState([]),[c,n]=t.useState(0),[i,l]=t.useState({}),[o,p]=t.useState(0);t.useEffect(()=>{a(JSON.parse(window.localStorage.getItem("surveyPreview"))),l(JSON.parse(window.localStorage.getItem("surveyPreviewHead")))},[]),t.useEffect(()=>{s.length&&n(s.length)},[s]);function u(){p(r=>r+1)}function x(){p(r=>r-1)}return e.jsxs("div",{className:"survey real",colorBox:i==null?void 0:i.colorBox,style:{background:i==null?void 0:i.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${i.blur}px)brightness(${i.brightness})`}}),e.jsxs("div",{className:"margin-survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(d=i==null?void 0:i.logo)!=null&&d.length?e.jsx("img",{className:"logo",src:i==null?void 0:i.logo}):"",(h=i==null?void 0:i.title)!=null&&h.length?e.jsx("p",{className:"",children:i.title}):""]})}),(j=(g=s[o])==null?void 0:g.quests)==null?void 0:j.map((r,m)=>{var v;return e.jsxs("div",{className:"question",style:{borderRadius:(i==null?void 0:i.borderRadius)+"px"},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:r.title}),e.jsx("span",{children:r.desc})]}),r!=null&&r.img?e.jsx("img",{className:"img-quest",src:r.img}):"",(v=r==null?void 0:r.questions)==null?void 0:v.map((f,C)=>e.jsxs("div",{className:"quest",children:[r.type=="input"?e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",disabled:!0,placeholder:`${f.title}`})}):"",r.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:0})," ",e.jsx("span",{children:f.title})]}):"",r.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:0})," ",e.jsx("span",{children:f.title})]}):"",r.type=="input-large"?e.jsx(e.Fragment,{children:e.jsx("textarea",{name:0,placeholder:f.title,style:{width:"100%"}})}):""]},C))]},m)}),e.jsx("div",{className:"buttons-bottom",children:o==c-1?e.jsxs(e.Fragment,{children:[o?e.jsx("button",{onClick:x,children:"Volver"}):"",e.jsx("button",{children:"Terminar"})]}):o<c-1?e.jsxs(e.Fragment,{children:[o?e.jsx("button",{onClick:x,children:"Volver"}):"",e.jsx("button",{onClick:u,children:"Siguiente"})]}):""})]})]})}function Vt(){var m,v;const s=ne(),[a,c]=t.useState([]),[n,i]=t.useState(!0),[l,o]=t.useState([]),[p,u]=t.useState(),[x,d]=t.useState(0);function h(){let f=new FormData;f.append("key",s.id),P.post(E+"/api/get/survey",f,{withCredentials:!0}).then(C=>C.data).then(C=>{i(!1),c(C)}).catch(C=>{i(!1)})}function g(f){f.preventDefault(),d(C=>C+1)}function j(f){f.preventDefault(),d(C=>C-1)}t.useEffect(()=>{s.id&&n==!0&&h()},[]),t.useEffect(()=>{a.header&&(u(JSON==null?void 0:JSON.parse(a==null?void 0:a.header)),o(JSON.parse(a.json)))},[a]);function r(f){f.preventDefault();let C=document.querySelector("#form"),b=new FormData(C);b.append("key",s.id),P.post(E+"/api/upload/responseSurvey",b,{withCredentials:!0})}return e.jsx(e.Fragment,{children:n?e.jsx("div",{className:"app",children:e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:["Cargando encuesta... ",e.jsx("div",{className:"loading"})]})]})})}):e.jsxs("div",{className:"survey real",colorBox:p==null?void 0:p.colorBox,style:{background:p==null?void 0:p.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${p==null?void 0:p.blur}px)brightness(${p==null?void 0:p.brightness})`}}),e.jsxs("div",{className:"margin-survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(m=p==null?void 0:p.logo)!=null&&m.length?e.jsx("img",{className:"logo",src:p==null?void 0:p.logo}):"",(v=p==null?void 0:p.title)!=null&&v.length?e.jsx("p",{className:"",children:p.title}):""]})}),e.jsx("form",{method:"POST",encType:"multipart/form-data",id:"form",children:l.map((f,C)=>{var b;return e.jsx("div",{className:`page ${C==x?"active":""}`,children:(b=f==null?void 0:f.quests)==null?void 0:b.map((k,F)=>{var w;return e.jsxs("div",{className:"question",style:{borderRadius:(p==null?void 0:p.borderRadius)+"px"},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:k.title}),e.jsx("span",{children:k.desc})]}),k!=null&&k.img?e.jsx("img",{className:"img-quest",src:k.img}):"",(w=k==null?void 0:k.questions)==null?void 0:w.map((S,A)=>e.jsxs("div",{className:"quest",children:[k.type=="input"?e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",name:`${C}-${F}-${A}`,placeholder:`${S.title}`})}):"",k.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:`${C}-${F}`,value:S.title})," ",e.jsx("span",{children:S.title})]}):"",k.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:`${C}-${F}-${A}`})," ",e.jsx("span",{children:S.title})]}):"",k.type=="input-large"?e.jsx(e.Fragment,{children:e.jsx("textarea",{name:`${C}-${F}-${A}`,placeholder:S.title,style:{width:"100%"}})}):""]},A))]},F)})})})}),e.jsx("div",{className:"buttons-bottom",children:x==l.length-1?e.jsxs(e.Fragment,{children:[x?e.jsx("button",{onClick:j,children:"Volver"}):"",e.jsxs("button",{onClick:r,className:"pending",children:["Terminar ",e.jsx("div",{className:"loading"})]})]}):e.jsxs(e.Fragment,{children:[x?e.jsx("button",{onClick:j,children:"Volver"}):"",e.jsx("button",{onClick:g,children:"Siguiente"})]})})]})]})})}function cs(){const s=ne();return e.jsx(e.Fragment,{children:e.jsx("div",{className:"menu-top",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(O,{to:`/stats/survey/${s.id}`,children:"Estadisticas"})}),e.jsx("li",{children:e.jsx(O,{to:`/stats/survey/${s.id}/detail`,children:"Detalles de respuestas"})}),e.jsx("li",{children:e.jsx(O,{to:`/stats/survey/${s.id}/response`,children:"Respuestas"})})]})})})}function Wt(){const{UserInfo:s}=t.useContext(J),[a,c]=t.useState(!1);t.useState({});const[n,i]=t.useState([]),[l,o]=t.useState([]),[p,u]=t.useState([]),[x,d]=t.useState({}),[h,g]=t.useState({options:{chart:{id:"basic-bar"},xaxis:{categories:[]}},series:[{name:"series-1",data:[]}]}),j=ne();function r(){var v;let m=new FormData;m.append("id_company",(v=s==null?void 0:s.company)==null?void 0:v.id_company),m.append("id_survey",j.id),P.post(E+"/api/get/statsurvey",m,{withCredentials:!0}).then(f=>f.data).then(f=>{o(f.days),d(f),u(f.daysResponse),i(f.countrys)})}return t.useEffect(()=>{r(),c(!0)},[a]),t.useEffect(()=>{g(m=>({...m,options:{...m.options,xaxis:{categories:l}},series:[{name:"serie 1",data:p}]}))},[p]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Encuesta: ",j.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu encuesta"})]})}),e.jsx(cs,{}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Respuestas este mes"})}),e.jsx(ze,{options:h.options,series:h.series,type:"area",height:300})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Preguntas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:x==null?void 0:x.totalQuestions})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Paginas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:x==null?void 0:x.pageTotal})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Respuestas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:x.totalResponse})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Visitas"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"100"})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{className:"title",children:"Tops Paises"})}),e.jsx("div",{className:"result countryr",children:n.map((m,v)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:zs(m.country),alt:""}),e.jsx("p",{className:"",children:m.country==""?"Undefined":Bs(String(m.country).toLocaleLowerCase())}),e.jsxs("span",{children:["(",m.amount,")"]})]},v))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding",children:e.jsx("div",{className:"top",children:e.jsx("p",{className:"title",children:"Tops Respuestas"})})})})]})})]})}function Qt(){const s=ne(),a=Z(),{UserInfo:c}=t.useContext(J),[n,i]=t.useState([]),[l,o]=t.useState(!1),[p,u]=t.useState({series:[{name:"Respuestas",data:[]}],chart:{type:"area",height:350,stacked:!0},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:[]}}),[x,d]=t.useState({series:[],theme:{palette:"palette3"},labels:[],chart:{type:"donut"}}),h=()=>{let r=new FormData;r.append("key",s.id),P.post(E+"/api/get/survey",r,{withCredentials:!0}).then(m=>m.data).then(m=>{i(JSON.parse(m.json)),g(m)})};function g(r){let m=JSON.parse(r.json),v=[],f=[],C=[],b=[];m.map((k,F)=>{k.quests.map((w,S)=>{w.type=="radio"&&w.questions.map((A,L)=>{v.push(`${A.title} (${F+1})`),f.push(A.response),C.push(`${w.title} - ${A.title}`),b.push(A.response),u(N=>({...N,xaxis:{...N,categories:v}})),u(N=>(N.series=[{name:"Respuesta",data:f}],N)),d(N=>(N.labels=C,N.series=b,N))})})})}function j(r){var v;let m=new FormData;m.append("id_company",(v=c==null?void 0:c.company)==null?void 0:v.id_company),m.append("id_survey",s.id),m.append("case",r),P.post(E+"/api/get/downloadsurvey",m,{withCredentials:!0}).then(f=>f.data).then(f=>{console.log(f)})}return t.useEffect(()=>{h()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"modal-map",style:{display:l?"block":"none"},children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Mapa completo"}),e.jsx("span",{children:"Puedes ver el mapa completamente de las respuestas de los usuarios."}),e.jsx("button",{className:"close",onClick:r=>{o(!1)},children:e.jsx(Ve,{})})]}),e.jsx("div",{className:"map-suv complete",children:n==null?void 0:n.map((r,m)=>e.jsxs("div",{className:"pg",children:[e.jsx("div",{className:"info",children:e.jsxs("p",{children:["Pagina ",m+1]})}),e.jsx("div",{className:"separate"}),r.quests.map((v,f)=>e.jsxs("div",{className:"quests",children:[e.jsx("div",{className:"info",children:e.jsx("p",{children:v.title})}),e.jsx("div",{className:"separate"}),e.jsx("div",{className:"questions-type",children:v.questions.map((C,b)=>e.jsxs("div",{className:"question",children:[e.jsx("div",{className:"separate quest"}),e.jsxs("span",{className:"value",children:[C.title,v.type=="radio"?e.jsxs(e.Fragment,{children:[" (",C.response,") "]}):""]})]}))})]},f))]}))})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles De Encuesta "}),e.jsx("span",{children:"Estas son los detalles de las respuestas"})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"go-wizard",children:"Descargar (CSV)"}),e.jsx("button",{className:"go-wizard",onClick:r=>{j("json")},children:"Descargar (JSON)"}),e.jsx("button",{className:"go-wizard",onClick:r=>{a(`/stats/survey/${s.id}/response`)},children:"Respuestas"})]})]}),e.jsx(cs,{}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Estadisticas de respuestas"}),e.jsx("span",{children:"Estadisticas de las respuestas, veras cuantas veces respondieron a algo."})]}),e.jsx(ze,{options:p,series:p.series,type:"bar",height:300})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top ",children:[e.jsx("p",{children:"Porcentaje de respuesta"}),e.jsx("span",{children:"Este es el porcentaje de respuesta por cada pregunta."})]}),x.labels.length?e.jsx(ze,{options:x,series:x.series,type:"donut",height:300}):""]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top ",children:[e.jsx("p",{children:"Mapa de encuesta"}),e.jsx("span",{children:"Este es mapa de tu encuesta, donde veras un mapa sobre la encuesta ejecutada."})]}),e.jsx("div",{className:"map-suv maxheight",children:n==null?void 0:n.map((r,m)=>e.jsxs("div",{className:"pg",children:[e.jsx("div",{className:"info",children:e.jsxs("p",{children:["Pagina ",m+1]})}),e.jsx("div",{className:"separate"}),r.quests.map((v,f)=>e.jsxs("div",{className:"quests",children:[e.jsx("div",{className:"info",children:e.jsx("p",{children:v.title})}),e.jsx("div",{className:"separate"}),e.jsx("div",{className:"questions-type",children:v.questions.map((C,b)=>e.jsxs("div",{className:"question",children:[e.jsx("div",{className:"separate quest"}),e.jsxs("span",{className:"value",children:[C.title,v.type=="radio"?e.jsxs(e.Fragment,{children:[" (",C.response,") "]}):""]})]}))})]},f))]}))}),e.jsx("button",{className:"action-complete",onClick:r=>{o(!0)},children:"Ver mapa completo"})]})})]})]})}function It(){let s=ne();const[a,c]=t.useState([]),[n,i]=t.useState([]),[l,o]=t.useState(!1),{UserInfo:p}=t.useContext(J);function u(){var d;let x=new FormData;x.append("id_survey",s.id),x.append("id_company",(d=p==null?void 0:p.company)==null?void 0:d.id_company),P.post(E+"/api/get/responsesurvey",x,{withCredentials:!0}).then(h=>h.data).then(h=>{h.length&&(c(h),h.forEach((g,j)=>{i(r=>[...r,JSON.parse(g.json_response)])}))})}return t.useEffect(()=>{o(!0),l&&u()},[l]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Respuestas"}),e.jsx("span",{children:"Ver todas las respuestas hechas en tu encuesta"})]}),e.jsx("div",{className:"right"})]}),e.jsx(cs,{}),e.jsx("div",{className:"row",children:n.map((x,d)=>e.jsx("div",{className:"col-6",children:e.jsx("div",{className:"box box-padding",children:e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"top",children:e.jsx("div",{className:"top",children:e.jsxs("p",{children:["Respuesta #",d+1]})})}),e.jsx("div",{className:"response",children:Object.entries(x).map(([h,g])=>e.jsx("div",{children:e.jsxs("span",{children:[h,": ",g]})},h))})]})})},d))})]})}function Cs(){const s=Z(),[a,c]=t.useState([]),[n,i]=t.useState(!0),{UserInfo:l}=t.useContext(J),[o,p]=t.useState(!1),[u,x]=t.useState(!1),[d,h]=t.useState({url:""}),g=Me();t.useEffect(()=>{Se("/add")&&x(!0)},[g]);function j(m=!1){var f;let v=new FormData;v.append("id_company",(f=l==null?void 0:l.company)==null?void 0:f.id_company),i(!0),m||c([]),P.post(E+"/api/get/myurls",v,{withCredentials:!0}).then(C=>C.data).then(C=>{i(!1),c(C)})}function r(){var v;let m=new FormData;m.append("url",d.url),m.append("id_company",(v=l==null?void 0:l.company)==null?void 0:v.id_company),p(!0),P.post(E+"/api/upload/shortlink",m,{withCredentials:!0}).then(f=>f.data).then(f=>{p(!1),f.status&&(j(),x(!1))}).catch(f=>{p(!1)})}return t.useEffect(()=>{j()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(ie,{visible:u,onClick:r,callback:x,Pending:o,next:"Crear",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nuevo enlace"}),e.jsx("span",{children:"Crea tu nuevo enlace rapidamente con esta herramienta"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"url",placeholder:"Enlace",onChange:m=>{h({url:m.target.value})}})})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus urls "}),e.jsx("span",{children:"Estas son tus urls cortas que has creado donde podras llevar las estadisticas de cada una."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:m=>{x(!0)},children:"Crear nueva URL"})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[a.map((m,v)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:"URL CORTA"}),e.jsxs("span",{className:"desc",children:[Je,"/",m.token]}),e.jsx("br",{}),e.jsxs("span",{className:"desc",children:[Je,"/",m.token]})]})]}),e.jsxs("div",{children:[e.jsx("p",{children:"URL"}),e.jsx("span",{children:m.real_link})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:f=>{s("")},children:e.jsx(te,{})}),e.jsxs("button",{onClick:f=>{s("/shorturls/"+m.id_shortlink)},children:[e.jsx(re,{})," "]})]})]},v)),n==!0?e.jsx(je,{}):n==!1&&a.length==0?e.jsx(me,{name:"urls"}):""]})})})]})}function Ht(){var j,r;const s=ne(),{UserInfo:a}=t.useContext(J),[c,n]=t.useState([]);t.useState([]);const[i,l]=t.useState(),[o,p]=t.useState([]),u=t.useRef(null),[x,d]=t.useState({series:[{name:"Respuestas",data:[]}],chart:{type:"area",height:350,stacked:!0},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:[]}}),h=new ts({width:600,height:600,image:"/img/icons/iconsvg.png",dotsOptions:{color:"gradient",type:"extra-rounded",gradient:{colorStops:[{offset:0,color:"#000"},{offset:1,color:"#000"}]}},imageOptions:{crossOrigin:"anonymous",margin:20}});function g(m){var f;let v=new FormData;v.append("id_company",(f=a==null?void 0:a.company)==null?void 0:f.id_company),v.append("month",m.month),v.append("year",m.year),v.append("id_shortlink",s.id),P.post(E+"/api/get/statshortlink",v,{withCredentials:!0}).then(C=>C.data).then(C=>{n(C.countrys),p(C.devices),d(b=>(b.series[0].data=C.dayResponse,b.xaxis.categories=C.days,b)),l(C.token)})}return t.useEffect(()=>{g({month:new Date().getMonth()+1})},[]),t.useEffect(()=>{i&&(h.append(u.current),h.update({data:Je+"/"+i+"?qr=true"}))},[i]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Detalle de enlace: ",s.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu enlace corto"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:"",children:"Volver"})})]}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Clicks este mes"}),e.jsx("span",{children:"Aca podras evaluar los clicks hecho por el mes actual y anteriores."})]}),(r=(j=x==null?void 0:x.series[0])==null?void 0:j.data)!=null&&r.length?e.jsx(ze,{options:x,series:x.series,type:"area",height:300}):""]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Visitas"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"20"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"QR Code"})}),e.jsx("div",{className:"resp-number",children:e.jsx("div",{className:"qr-code",children:e.jsx("div",{ref:u})})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Tops Paises"}),e.jsx("span",{children:"Tops de los paises que mas visitaron el enlace"})]}),e.jsx("div",{className:"result countryr",children:c.map((m,v)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:zs(m.country),alt:""}),e.jsx("p",{className:"",children:m.country==""?"Undefined":Bs(m.country)}),e.jsxs("span",{children:["(",m.count,")"]})]},v))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Tops Os"}),e.jsx("span",{children:"Top de los sistemas operativos mas usado por los usuarios"})]}),e.jsx("div",{className:"result countryr",children:o.map((m,v)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:Xa(m.device),alt:""}),e.jsx("p",{className:"",children:m.device}),e.jsxs("span",{children:["(",m.count,")"]})]},v))})]})})]})})]})}function Gt(){}function bs(){const[s,a]=t.useState(),c=Z(),[n,i]=t.useState(!1),[l,o]=t.useState([]),[p,u]=t.useState(!1),[x,d]=t.useState({name:""}),{UserInfo:h}=t.useContext(J),g=Me();t.useEffect(()=>{Se("/add")&&i(!0)},[g]);function j(){var v;let m=new FormData;m.append("id_company",(v=h==null?void 0:h.company)==null?void 0:v.id_company),a(!0),P.post(E+"/api/get/shortlinkcampaigns",m,{withCredentials:!0}).then(f=>f.data).then(f=>{a(!1),o(f)}).catch(f=>{a(!1)})}function r(){var v;const m=new FormData;u(!0),m.append("name",x.name),m.append("id_company",(v=h==null?void 0:h.company)==null?void 0:v.id_company),P.post(E+"/api/upload/shortlinkcampaign",m,{withCredentials:!0}).then(f=>f.data).then(f=>{u(!1),f.status&&(j(),i(!1))}).catch(f=>{u(!1)})}return t.useEffect(()=>{j()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(ie,{visible:n,onClick:r,callback:i,maxWidth:"250px",Pending:p,next:"Agregar",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nueva campaña"}),e.jsx("span",{children:"Crea tu nueva campaña rapidamente para analizar tus multiples enlaces"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de campaña",name:"name",onChange:m=>{d({...x,name:m.target.value})}})})]},n),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Campañas"}),e.jsx("span",{children:"Aca puedes visualizar o crear campañas para enlaces multiples sobre una campaña"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:m=>{i(!0)},children:"Crear nueva campaña"})})]}),e.jsx("div",{className:"body-stats",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[l.map((m,v)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:m.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(te,{})}),e.jsx("button",{onClick:f=>{c("/shorturls/campaigns/"+m.id_campaign)},children:e.jsx(fe,{})})]})]})),s?e.jsx(je,{}):l.length==0?e.jsx(me,{name:"campañas"}):""]})})})})]})}function Jt(){var k,F;const s=ne(),[a,c]=t.useState(!1),[n,i]=t.useState(!1),{UserInfo:l}=t.useContext(J),[o,p]=t.useState(!0),[u,x]=t.useState(!1),[d,h]=t.useState({});let g={url:"",app:"others"};const[j,r]=t.useState(g),[m,v]=t.useState({series:[{name:"Funnel Series",data:[]}],chart:{type:"bar",height:350},plotOptions:{bar:{borderRadius:0,horizontal:!0,distributed:!0,barHeight:"80%",isFunnel:!0}},dataLabels:{enabled:!0,formatter:function(w,S){return S.w.globals.labels[S.dataPointIndex]+":  "+w}},colors:["#F44F5E","#E55A89","#D863B1","#CA6CD8","#B57BED","#8D95EB","#62ACEA","#4BC3E6"],xaxis:{categories:[]},legend:{show:!0}});function f(w){w.stopPropagation(),r({...j,[w.target.name]:w.target.value})}function C(){var S;let w=new FormData;p(!0),h({}),w.append("id_company",(S=l==null?void 0:l.company)==null?void 0:S.id_company),w.append("id_campaign",s.id),P.post(E+"/api/get/shortlinkcampaign",w,{withCredentials:!0}).then(A=>A.data).then(A=>{var y,z;p(!1),h(A);const L=[];let N=[],_=0;(y=A==null?void 0:A.stats)==null||y.forEach((H,U)=>{_=_+H.count}),(z=A==null?void 0:A.stats)==null||z.forEach((H,U)=>{console.log(_),L.push(H.count),N.push(Ya(H.app)+" ("+(H.count*100/_).toFixed(0)+"%)")}),v(H=>{const U={...H};return U.series[0].data=L,U.xaxis.categories=N,U})}).catch(A=>{})}function b(){var S;i(!0);let w=new FormData;w.append("id_company",(S=l==null?void 0:l.company)==null?void 0:S.id_company),w.append("id_campaign",s==null?void 0:s.id),w.append("url",j.url),w.append("app",j.app),P.post(E+"/api/upload/shortlink",w,{withCredentials:!0}).then(A=>A.data).then(A=>{i(!1),A.status&&(c(!1),C()),A.msg&&M.error(A.msg)}).catch(A=>{i(!1)})}return t.useEffect(()=>{u||(v(w=>{const S={...w};return S.series[0].data=[],S.xaxis.categories=[],S}),C())},[u]),e.jsxs(e.Fragment,{children:[e.jsxs(ie,{next:"Agregar",visible:a,callback:c,onClick:b,Pending:n,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nuevo enlace"}),e.jsx("span",{children:"Agrega un nuevo enlace a tu campana"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"URL destino",onChange:f,name:"url"})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"app",id:"",onChange:f,children:[e.jsx("option",{value:"",children:"Selecciona la aplicacion"}),e.jsx("option",{value:"fb",children:"Facebook"}),e.jsx("option",{value:"in",children:"Instagram"}),e.jsx("option",{value:"x",children:"X (Twitter)"}),e.jsx("option",{value:"email",children:"Correo"}),e.jsx("option",{value:"sms",children:"Sms"}),e.jsx("option",{value:"tik",children:"Tiktok"}),e.jsx("option",{value:"linkd",children:"Linkedin"}),e.jsx("option",{value:"yt",children:"Youtube"}),e.jsx("option",{value:"tele",children:"Telegram"}),e.jsx("option",{value:"ws",children:"Whatsapp"}),e.jsx("option",{value:"others",children:"Otros"})]})})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Campaña de enlace: ",s.id]}),e.jsx("span",{children:"Agrega nuevos enlaces para tu campana general de urls"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{onClick:w=>{c(!0)},className:"add",children:"Agregar nuevo enlace"})})]}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Clicks este mes"}),e.jsx("span",{children:"Aca podras evaluar los clicks hecho por el mes actual y anteriores."})]}),o==!1?e.jsx(ze,{options:m,series:m.series,type:"bar",height:300}):""]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[(k=d==null?void 0:d.links)==null?void 0:k.map((w,S)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_link.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:w.real_link}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"title",children:"App"}),e.jsx("span",{children:e.jsx("img",{className:"icon-app",src:Ka(w.app),alt:""})})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{children:e.jsx(fe,{})})})]},S)),o?e.jsx(je,{}):((F=d==null?void 0:d.links)!=null&&F.length,"")]})})]})})]})}function Xt({Visible:s,Close:a,loadQrs:c}){const{UserInfo:n}=t.useContext(J),i=t.useRef(null),[l,o]=t.useState(0),[p,u]=t.useState([Ce()]),[x,d]=t.useState({type:""});t.useState({});const[h,g]=t.useState(!1),j=new ts({width:600,height:600,image:"/img/icons/iconsvg.png",dotsOptions:{color:"gradient",type:"extra-rounded",gradient:{colorStops:[{offset:0,color:"#000"},{offset:1,color:"#000"}]}},imageOptions:{crossOrigin:"anonymous",margin:20}});let r={url:""};const[m,v]=t.useState(r);Z();function f(k){k.stopPropagation(),k.preventDefault();let F=q(k.target);F.parents(".options").find(".active").removeClass("active"),F.addClass("active");let w=F.attr("value");d(S=>({...S,type:w}))}async function C(k){var w;let F=!1;if(q(k.target),(l===0&&x.type=="qr-stand"||x.type=="qr-contact")&&(F=!0),l===1&&(j.append(i.current),x.type=="qr-contact"?j.update({data:"BEGIN:VCARD                 VERSION:3.0                 N:"+m.lname+";"+m.fname+`;;;
FN:`+m.fname+" "+m.lname+`
ORG:`+m.company+`;
TITLE:`+m.jobtitle+`
TEL;type=CELL:`+m.number+`
TEL;type=WORK:`+m.officenum+`
EMAIL;type=INTERNET;type=WORK;type=pref:`+m.email+`
URL%3A`+m.web+`%0A
ADR;TYPE=work:;;`+m.address1+";"+m.address2+";"+m.city+";"+m.province+";"+m.country+";"+m.pcode+`
REV:`+new Date+`
END:VCARD`}):j.update({data:m.url}),F=!0),l===2)if(m.name){g(!0);let S=new FormData;S.append("formqr",JSON.stringify(m)),S.append("id_company",(w=n==null?void 0:n.company)==null?void 0:w.id_company),S.append("type",x.type);let A=await new Promise((L,N)=>{let y=document.querySelector(".qr-result canvas").toDataURL("image/png");L(y)});S.append("preview",A),P.post(E+"/api/upload/qr",S,{withCredentials:!0}).then(L=>L.data).then(L=>{a(!1),L.status&&c(),g(!1)}).catch(L=>{g(!1)})}else F=!1,M.error("Opps no has elegido un nombre para tu qr");F&&o(S=>S+1)}function b(k){let F=k.target.name,w=k.target.value;v(S=>({...S,[F]:w}))}return t.useEffect(()=>{q(".case.active").removeClass("active"),q(".case").eq(l).addClass("active")},[l]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[l>0?e.jsxs("button",{className:"return",onClick:k=>{o(F=>F-1)},children:[e.jsx(Oe,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:k=>{a(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear un nuevo QR"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de qr que quieres crear"})]}),e.jsxs("div",{className:"options flex",id:`options-${p[0]}`,children:[e.jsxs("div",{className:"selector",onClick:f,value:"qr-stand",children:[e.jsx("div",{className:"check",children:e.jsx(xe,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"QR Estandar"}),e.jsx("span",{children:"Qr Estandar es un qr basico donde podras almacenar enlaces de tus webs"})]})]}),e.jsxs("div",{className:"selector",onClick:f,value:"qr-contact",children:[e.jsx("div",{className:"check",children:e.jsx(xe,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"QR Contacto"}),e.jsx("span",{children:"Qr Contacto, este es un qr donde podras escanearlo y almacenar un contacto con informacion importante"})]})]})]})]}),x.type=="qr-stand"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Enlace del qr"}),e.jsx("input",{type:"url",name:"url",onChange:b,placeholder:"Enlace"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre del qr"}),e.jsx("input",{type:"text",onChange:b,name:"name",placeholder:"Nombre para tu QR"})]})]})]})}):e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personaliza tu QR"}),e.jsx("span",{className:"desc",children:"Este es un qr para agregar contactos a un dispositivo movil, puedes personalizarlo con tu informacion necesaria"})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre"}),e.jsx("input",{type:"text",name:"fname",onChange:b,placeholder:"ej: Roberto"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Apellido"}),e.jsx("input",{type:"text",name:"lname",onChange:b,placeholder:"ej: Martinez"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Empresa"}),e.jsx("input",{type:"text",name:"company",onChange:b,placeholder:"ej: Cocacola"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Cargo"}),e.jsx("input",{type:"text",name:"jobtitle",onChange:b,placeholder:"ej: Director"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Celular"}),e.jsx("input",{type:"text",name:"number",onChange:b,placeholder:"ej: +58412000000"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Numero de Oficina"}),e.jsx("input",{type:"text",name:"officenum",onChange:b,placeholder:"ej: (12)"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo Electronico"}),e.jsx("input",{type:"text",name:"email",onChange:b,placeholder:"ej: example@example.com"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Pagina Web"}),e.jsx("input",{type:"text",name:"web",onChange:b,placeholder:"ej: www.example.com"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Direccion"}),e.jsx("input",{type:"text",name:"address1",onChange:b,placeholder:"ej: Chicago, ST "})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Direccion del Trabajo"}),e.jsx("input",{type:"text",name:"address2",onChange:b,placeholder:"ej: Chicago ST, Down Ryder "})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Ciudad"}),e.jsx("input",{type:"text",name:"city",onChange:b,placeholder:"ej: Chicago"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Estado"}),e.jsx("input",{type:"text",name:"province",onChange:b,placeholder:"ej: Chicago"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Pais"}),e.jsx("input",{type:"text",name:"country",onChange:b,placeholder:"ej: Estados Unidos"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Codigo postal"}),e.jsx("input",{type:"text",name:"pcode",onChange:b,placeholder:"ej: (15306)"})]})})]})})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Elige un nombre"}),e.jsx("span",{className:"desc",children:"Elige un nombre a tu qr para poder identificarlo"})]}),e.jsx("div",{className:"qr-result",ref:i})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:`next ${h?"await":" "}`,onClick:C,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function Qs({Visible:s,Close:a,Return:c=!0}){const{UserInfo:n}=t.useContext(J);t.useRef(null);const[i,l]=t.useState(0);t.useState([Ce()]);const[o,p]=t.useState({type:""}),[u,x]=t.useState(!1);Z();async function d(r){var m;if(q(r.target),o.name&&o.image){let v=new FormData;v.append("preview",o.image),v.append("id_company",(m=n==null?void 0:n.company)==null?void 0:m.id_company),v.append("type","qr-stand"),v.append("formqr",JSON.stringify(o)),P.post(E+"/api/upload/qr",v,{withCredentials:!0}).then(f=>f.data).then(f=>{f.status&&(a(!1),M.success("Se ha subido tu qr correctamente")),f.msg&&M.error(f.msg)})}else M.error("Opps hay algo imcompleto")}function h(r){let m=r.target.name,v=r.target.value;p(f=>({...f,[m]:v}))}function g(){q("#file").click()}function j(r){let m=r.target.files,v=q(r.target);if(m.length){let f=new FileReader;f.onload=function(C){if(m[0].type.indexOf("image")>=0){let b=new Image;b.src=C.target.result,b.onload=function(){b.width<=6e3&&b.height<=6e3?p({...o,image:b.src}):M.error(`Opps maximo 600x600 tu imagen es de ${b.width}x${b.height}`)}}else v.val(""),M.error("Opps solo aceptamos imagenes")},f.readAsDataURL(m[0])}}return t.useEffect(()=>{q("#wizard2").find(".case").eq(0).addClass("active")},[]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,id:"wizard2",children:[e.jsxs("div",{className:"top-actions",children:[i>0?e.jsxs("button",{className:"return",onClick:r=>{l(m=>m-1)},children:[e.jsx(Oe,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:r=>{a(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case ",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Subir nuevo QR"}),e.jsx("span",{className:"desc",children:"Importa la imagen del nuevo qr que quieres integrar"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre del qr"}),e.jsx("input",{type:"text",onChange:h,name:"name",placeholder:"Nombre para tu QR"})]}),e.jsxs("div",{className:"upload-qr",children:[o.image==null?e.jsx("div",{className:"upload",onClick:g,children:e.jsx(Ee,{})}):e.jsx("div",{className:"preview",children:e.jsx("img",{src:o.image,alt:""})}),e.jsx("input",{type:"file",id:"file",onChange:j,hidden:!0})]})]})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:`next ${u?"await":" "}`,onClick:d,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function es(){const[s,a]=t.useState(!1),[c,n]=t.useState(!1),[i,l]=t.useState(!1),[o,p]=t.useState([{},{}]),{UserInfo:u}=t.useContext(J),[x,d]=t.useState(!1),[h,g]=t.useState(),j=Me();t.useEffect(()=>{Se("/add")&&a(!0),Se("/import")&&n(!0)},[j]);function r(){var C;let f=new FormData;f.append("id_company",(C=u==null?void 0:u.company)==null?void 0:C.id_company),P.post(E+"/api/get/qrs",f,{withCredentials:!0}).then(b=>b.data).then(b=>{p(b)})}function m(f){let C=q(f.target),b=C.parents(".item").find("img")[0].src;C.parents(".item").find(".title").text();let k=document.createElement("a");k.href=b,k.download="",k.rel="noopener noreferrer",k.target="_blank",document.querySelector("#root").appendChild(k),k.click(),document.querySelector("#root").removeChild(k)}t.useEffect(()=>{r()},[]);function v(){var C;let f=new FormData;f.append("id_company",(C=u==null?void 0:u.company)==null?void 0:C.id_company),f.append("id_qr",h),P.post(E+"/api/delete/qr",f,{withCredentials:!0}).then(b=>b.data).then(b=>{})}return e.jsxs(e.Fragment,{children:[e.jsx($e,{visible:x,callback:d,onClick:v}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"QR"}),e.jsx("span",{children:"Crea qr personalizados con enlaces para tus webs o qr de contacto"})]}),e.jsx(Xt,{Visible:s,Close:a,setModalView:a,loadQrs:r}),e.jsx(Qs,{Visible:c,Close:n,setModalView:n,loadQrs:r},c?"x":"a"),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"add",onClick:f=>{a(!0)},children:" Crear nuevo QR"}),e.jsxs("button",{className:"go-wizard",onClick:f=>{n(!0)},children:[e.jsx(Ee,{})," Importar QR"]})]})]}),e.jsxs("div",{className:"box box-padding",children:[o.map((f,C)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:Ge(f.qr_preview),alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:f.title}),e.jsxs("span",{className:"desc",children:["Creado el: ",le(f.time_add)]})]})]}),e.jsx("div",{className:"info",children:e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:"Tipo de QR"}),e.jsx("span",{className:"desc",children:f.type_qr})]})}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:m,children:e.jsx(Sa,{})}),e.jsx("button",{onClick:b=>{g(f.id_qr),d(!0)},children:e.jsx(te,{})})]})]})),i?e.jsx(je,{}):o.length==0?e.jsx("div",{className:"item",children:e.jsx(me,{name:"Qrs"})}):""]})]})}function Kt({setButtons:s}){function a(c){let n=c.target.value;c.target.name=="background"&&n.indexOf("http")>=0&&(n=`url(${n})`),s(l=>{let o={...l};return o.header[c.target.name]=n,o})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar botonera"}),e.jsx("span",{children:"Personaliza tu botonera, cambiando imagenes, fondo, texto, botones, enlaces."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",defaultValue:"#fff",onChange:a,name:"background"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",onChange:a,defaultValue:0,step:"0.1",max:"10",name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",onChange:a,defaultValue:1,step:"0.1",max:"1",name:"brightness"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border radius"}),e.jsx("input",{type:"range",onChange:a,defaultValue:1,step:"0.1",max:"50",name:"radius"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{name:"colorBox",onClick:a,value:"ligth",children:"Modo Claro"}),e.jsx("button",{name:"colorBox",onClick:a,value:"dark",children:"Modo Oscuro"})]})]})]})}function Yt({buttons:s,setButtons:a,editor:c,setEditor:n}){var F,w,S,A,L,N,_,y,z,H,U,ce;const[i,l]=t.useState(!1),[o,p]=t.useState(!1),[u,x]=t.useState(!1),[d,h]=t.useState(void 0),{UserInfo:g}=t.useContext(J),j=ne();t.useEffect(()=>{console.log(s)},[s]);function r(){a(W=>({...W,buttons:W.buttons.concat({})}))}function m(W){W.preventDefault(),W.stopPropagation();let R=q(W.target);switch(q(".page.buttonsbody .active").removeClass("active"),R.addClass("active"),R.attr("type")){case"buttons":var D=R.attr("id");n({type:"button",key:D});break;case"rs":var D=R.attr("id");n({type:"rs",key:D});break;default:n({type:R.attr("type")});break}return!1}function v(W){a(R=>{const D={...R};return D.buttons=D.buttons.filter((T,K)=>K!==W),n({type:"",key:""}),D})}function f(){let W=document.querySelector("#select-rs").value,R=document.querySelector("#input-rs").value;(s==null?void 0:s.rs.length)<=3?a(D=>{const T=[...D.rs];return T.push({type:W,url:R}),{...D,rs:T}}):M.error("Opps ya has agregado muchas redes sociales")}async function C(){var W,R,D;if(((R=(W=s.header)==null?void 0:W.titlegl)==null?void 0:R.length)>=1){x(!0);let T=new FormData;T.append("json",JSON.stringify(s)),d==null?T.append("title",s.header.titlegl):T.append("id_buttons",d),T.append("id_company",(D=g==null?void 0:g.company)==null?void 0:D.id_company);let K=await Ye(document.querySelector(".page .center"),{allowTaint:!1,useCORS:!0}).then(ae=>ae.toDataURL());T.append("preview",K),P.post(E+"/api/upload/buttons",T,{withCredentials:!0}).then(ae=>ae.data).then(ae=>{x(!1),ae.id_buttons&&h(ae.id_buttons),ae.msg&&M.error(ae.msg)}).catch(ae=>{x(!1)})}else p(!0),M.error("Opps no puedes avanzar si tu plantilla no posee un titulo")}function b(W){let R=W.target.value;a(D=>{let T={...D};return T.header.titlegl=R,T})}function k(){s.header.titlegl&&(p(!1),M.success("El titulo se aplico con exito"))}return t.useEffect(()=>{var W;if(j.id){let R=new FormData;R.append("id_buttons",j.id),R.append("id_company",(W=g==null?void 0:g.company)==null?void 0:W.id_company),P.post(E+"/api/get/editbuttons",R,{withCredentials:!0}).then(D=>D.data).then(D=>{D.id_buttons&&(a(JSON.parse(D.json)),h(D.id_buttons))})}},[]),e.jsxs(e.Fragment,{children:[e.jsxs(ie,{visible:o,close:p,callback:p,onClick:k,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("span",{children:"Elige un titulo general para esta plantilla"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Titulo general"}),e.jsx("input",{onChange:b,type:"text",placeholder:"ej: plantilla 1"})]})]}),e.jsx(ie,{visible:i,callback:l,onClick:f,children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Redes Sociales"}),e.jsx("span",{children:"Selecciona que red social quieres agregar"}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("input",{type:"url",placeholder:"Enlace (URL)",id:"input-rs"}),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("select",{name:"",id:"select-rs",children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"Seleccionar"}),e.jsx("option",{value:"fb",children:"Facebook"}),e.jsx("option",{value:"x",children:"X (Twitter)"}),e.jsx("option",{value:"in",children:"Instagram"}),e.jsx("option",{value:"link",children:"Linkedin"}),e.jsx("option",{value:"disc",children:"Discord"}),e.jsx("option",{value:"tik",children:"TikTok"}),e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"spot",children:"Spotify"}),e.jsx("option",{value:"tele",children:"Telegram"}),e.jsx("option",{value:"ws",children:"Whatsapp"})]}),e.jsx("br",{})]})]})}),e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{children:[e.jsx(ye,{})," Previsualizar"]}),e.jsxs("button",{className:u?"await":"",onClick:C,children:[e.jsx(We,{})," Guardar ",e.jsx("div",{className:"loading"})]})]})}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(F=s==null?void 0:s.header)==null?void 0:F.blur}px)brightness(${(w=s==null?void 0:s.header)==null?void 0:w.brightness})`,background:(S=s==null?void 0:s.header)==null?void 0:S.background2}}),e.jsxs("div",{className:`${"page buttonsbody "+((A=s==null?void 0:s.header)==null?void 0:A.colorBox)}`,children:[e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",onClick:m,type:"logo",src:(L=s==null?void 0:s.header)!=null&&L.logo?(N=s==null?void 0:s.header)==null?void 0:N.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{onClick:m,type:"title",children:(_=s==null?void 0:s.header)!=null&&_.title?(y=s==null?void 0:s.header)==null?void 0:y.title:"Agregar titulo"}),e.jsx("span",{onClick:m,type:"desc",children:(z=s==null?void 0:s.header)!=null&&z.desc?(H=s==null?void 0:s.header)==null?void 0:H.desc:"Agregar Descripcion"})]}),e.jsx("div",{className:"buttons",children:(U=s==null?void 0:s.buttons)==null?void 0:U.map((W,R)=>{var D;return e.jsxs("div",{children:[e.jsx("div",{className:"edit-active",children:e.jsx("button",{onClick:T=>{v(R)},children:e.jsx(te,{})})}),e.jsxs("a",{onClick:m,style:{borderRadius:((D=s==null?void 0:s.header)==null?void 0:D.radius)+"px"},type:"buttons",id:R,href:W.url,children:[" ",W!=null&&W.name?W==null?void 0:W.name:"Elegir nombre..."]},R)]},R)})}),e.jsx("div",{className:"rs",children:(ce=s==null?void 0:s.rs)==null?void 0:ce.map((W,R)=>e.jsx("div",{className:"r",children:e.jsxs("a",{href:"",onClick:m,id:R,type:"rs",children:[W.type=="in"?e.jsx(_s,{}):"",W.type=="tik"?e.jsx(Fs,{}):"",W.type=="disc"?e.jsx(Ds,{}):"",W.type=="spot"?e.jsx(Ps,{}):"",W.type=="tele"?e.jsx(Ts,{}):"",W.type=="ws"?e.jsx(qs,{}):"",W.type=="email"?e.jsx(Ls,{}):"",W.type=="fb"?e.jsx(As,{}):"",W.type=="x"?e.jsx(Os,{}):"",W.type=="link"?e.jsx(Ms,{}):""]})},R))}),e.jsxs("div",{className:"add-new",onClick:r,children:[e.jsx(Qe,{})," Agregar Boton"]}),e.jsx("br",{}),e.jsxs("div",{className:"add-new",onClick:W=>{l(!0)},children:[e.jsx(Qe,{})," Agregar Red Social"]})]})]})}function Zt({editor:s,buttons:a,setButtons:c,setEditor:n}){var o;function i(p){let u=p.target.value;c(x=>{let d={...x};return d.rs[s.key].url=u,d})}function l(p){c(u=>{const x={...u};return console.log(s),x.rs=x.rs.filter((d,h)=>h!==Number(s.key)),n({type:"",key:""}),x})}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enlace"}),e.jsx("input",{id:"title-edit",onChange:i,type:"text",value:(o=a==null?void 0:a.rs[s.key])==null?void 0:o.url,placeholder:"https://image.com/jfop2.jpg"})]})}),e.jsx("div",{children:e.jsx("button",{className:"delete",onClick:l,children:"Eliminar"})})]})}function Ut({editor:s,buttons:a,setButtons:c}){function n(i){const{name:l,value:o}=i.target;c(p=>{let u={...p};return u.buttons[s.key][l]=o,u})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nombre de boton"}),e.jsx("input",{onChange:n,value:a.buttons[s.key].name?a.buttons[s.key].name:"",name:"name",id:"title-edit",type:"text",placeholder:"Ej: Mi tienda virtual"})]}),e.jsx("br",{}),e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enlace"}),e.jsx("input",{onChange:n,value:a.buttons[s.key].url?a.buttons[s.key].url:"",name:"url",id:"title-edit",type:"text",placeholder:"https://example.com"})]})]})})}function ei({setButtons:s,buttons:a}){var n;function c(i){s(l=>{let o={...l};return o.header.desc=i.target.value,o})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descripcion"}),e.jsx("input",{onChange:c,id:"title-edit",type:"text",placeholder:"Ej: Mis redes sociales",value:(n=a==null?void 0:a.header)==null?void 0:n.desc})]})})})}function si({setButtons:s,buttons:a}){function c(n){let i=n.target.value;s(l=>{let o={...l};return o.header.logo=i,o})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Logo"}),e.jsx("input",{onChange:c,id:"title-edit",type:"text",placeholder:"https://image.com/jfop2.jpg"})]})})})}function ai({setButtons:s,buttons:a}){var n;function c(i){s(l=>{let o={...l};return o.header.title=i.target.value,o})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("input",{onChange:c,id:"title-edit",type:"text",placeholder:"Ej: Mis redes sociales",value:(n=a==null?void 0:a.header)==null?void 0:n.title})]})})})}function ti({editor:s,buttons:a,setButtons:c,setEditor:n}){return e.jsxs(e.Fragment,{children:[s.type=="button"?e.jsx(Ut,{editor:s,buttons:a,setButtons:c}):"",s.type=="title"?e.jsx(ai,{editor:s,buttons:a,setButtons:c}):"",s.type=="desc"?e.jsx(ei,{editor:s,buttons:a,setButtons:c}):"",s.type=="logo"?e.jsx(si,{editor:s,buttons:a,setButtons:c}):"",s.type=="rs"?e.jsx(Zt,{editor:s,buttons:a,setButtons:c,setEditor:n}):""]})}function ws(){var i;t.useState(!0);const[s,a]=t.useState({header:{title:"",desc:"",img:"",background:""},buttons:[],rs:[]}),[c,n]=t.useState({});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"editor-surveys",children:e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:"left",children:e.jsx(Kt,{editor:c,setButtons:a,buttons:s})}),e.jsx("div",{className:"center",style:{background:(i=s==null?void 0:s.header)==null?void 0:i.background},children:e.jsx(Yt,{editor:c,setEditor:n,buttons:s,setButtons:a})}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"type-editor",children:e.jsx(ti,{editor:c,buttons:s,setButtons:a,setEditor:n})})})]})})})}function ii(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"modal-share",children:e.jsx("div",{className:"body",children:e.jsxs("div",{className:"bk",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Compartir desde Radarsystems"})}),e.jsxs("div",{className:"buttons",children:[e.jsx("button",{children:"Compartir en Snapchat"}),e.jsx("button",{children:"Compartir en Facebook"}),e.jsx("button",{children:"Compartir en Tiktok"}),e.jsx("button",{children:"Compartir en Linkedln"}),e.jsx("button",{children:"Compartir en Whatsapp"}),e.jsx("button",{children:"Compartir en Messenger"})]}),e.jsx("div",{className:"url",children:e.jsx("span",{children:window.location.href})}),e.jsxs("div",{className:"register",children:[e.jsx("p",{children:"Create your own Linktree"}),e.jsx("span",{children:"The only link in bio trusted by 35M+ people."}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:"Sign up free"}),e.jsx("button",{children:"Find out more"})]})]})]})})})})}function ni(){var p,u,x,d,h,g,j,r,m,v,f,C,b;const[s,a]=t.useState({}),[c,n]=t.useState(!0),i=ne();function l(){let k=new FormData;k.append("token",i.id),P.post(E+"/api/get/buttons",k).then(F=>F.data).then(F=>{if(a(F),F){let w=new FormData;w.append("type_stat","visit"),w.append("type","buttons"),w.append("token",i.id),P.post(E+"/api/get/capturestatsbuttons",w)}})}t.useEffect(()=>{l()},[]);function o(k){k.preventDefault(),k.stopPropagation();let F=k.target.href;if(c){n(!1);let w=new FormData;w.append("type","buttons"),w.append("type_stat","click"),w.append("data",F),w.append("token",i.id),P.post(E+"/api/get/capturestatsbuttons",w).then(S=>S.data).then(S=>{n(!0),window.open(F)}).catch(S=>{n(!0)})}}return e.jsxs(e.Fragment,{children:[e.jsx(ii,{}),e.jsx("div",{className:"editor-surveys btnactive prod-buttons",children:e.jsx("div",{className:"rows",children:e.jsxs("div",{className:"center",style:{background:(p=s==null?void 0:s.header)==null?void 0:p.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(u=s==null?void 0:s.header)==null?void 0:u.blur}px)brightness(${(x=s==null?void 0:s.header)==null?void 0:x.brightness})`,background:(d=s==null?void 0:s.header)==null?void 0:d.background2}}),e.jsxs("div",{className:`${"page buttonsbody "+((h=s==null?void 0:s.header)==null?void 0:h.colorBox)}`,children:[e.jsx("div",{className:"share-now",children:e.jsx("button",{children:e.jsx(Ea,{})})}),e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",type:"logo",src:(g=s==null?void 0:s.header)!=null&&g.logo?(j=s==null?void 0:s.header)==null?void 0:j.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{type:"title",children:(r=s==null?void 0:s.header)!=null&&r.title?(m=s==null?void 0:s.header)==null?void 0:m.title:""}),e.jsx("span",{type:"desc",children:(v=s==null?void 0:s.header)!=null&&v.desc?(f=s==null?void 0:s.header)==null?void 0:f.desc:""})]}),e.jsx("div",{className:"buttons",children:(C=s==null?void 0:s.buttons)==null?void 0:C.map((k,F)=>{var w;return e.jsx("div",{children:e.jsxs("a",{onClick:o,style:{borderRadius:((w=s==null?void 0:s.header)==null?void 0:w.radius)+"px"},type:"buttons",id:F,href:k.url,children:[" ",k!=null&&k.name?k==null?void 0:k.name:"Elegir nombre..."]},F)},F)})}),e.jsx("div",{className:"rs",children:(b=s==null?void 0:s.rs)==null?void 0:b.map((k,F)=>e.jsx("div",{className:"r",children:e.jsxs("a",{href:"",id:F,type:"rs",children:[k.type=="in"?e.jsx(_s,{}):"",k.type=="tik"?e.jsx(Fs,{}):"",k.type=="disc"?e.jsx(Ds,{}):"",k.type=="spot"?e.jsx(Ps,{}):"",k.type=="tele"?e.jsx(Ts,{}):"",k.type=="ws"?e.jsx(qs,{}):"",k.type=="email"?e.jsx(Ls,{}):"",k.type=="fb"?e.jsx(As,{}):"",k.type=="x"?e.jsx(Os,{}):"",k.type=="link"?e.jsx(Ms,{}):""]})},F))}),e.jsxs("div",{className:"footer",children:[e.jsx("br",{}),e.jsx("hr",{}),e.jsx("p",{children:"Powered by RadarSystems. ​​​​​​​Copyright © 1998 - 2022 Todos los derechos reservados."})]})]})]})})})]})}function li({onClick:s}){let a=[{color:"#FFDDC1"},{color:"#FFA07A"},{color:"#FFB6C1"},{color:"#87CEEB"},{color:"#B0C4DE"},{color:"#ADD8E6"},{color:"#FFE4E1"},{color:"#F0FFF0"},{color:"#F5F5DC"},{color:"#F0E68C"},{color:"#E0FFFF"},{color:"#FAFAD2"},{color:"#FFEBCD"},{color:"#E6E6FA"},{color:"#F08080"},{color:"#FF6347"},{color:"#FFD700"},{color:"#FFA500"},{color:"#FF4500"},{color:"#E9967A"},{color:"#CD5C5C"},{color:"#FF8C00"},{color:"#FF69B4"},{color:"#FF1493"},{color:"#DB7093"},{color:"#800000"},{color:"#A52A2A"},{color:"#D2691E"},{color:"#8B4513"},{color:"#8B0000"},{color:"#800080"}];return e.jsx(e.Fragment,{children:e.jsx("div",{className:"colorPicker-basic",children:a.map((c,n)=>e.jsx("div",{className:"color",style:{background:c.color},"data-value":c.color,onClick:i=>{s(i.target.dataset.value)}}))})})}function ci({setButtons:s}){function a(n){let i=n.target.value;n.target.name=="background"&&i.indexOf("http")>=0&&(i=`url(${i})`),s(o=>{let p={...o};return p.header[n.target.name]=i,p})}function c(n){s(i=>{let l={...i};return l.header.background=n,l})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar botonera"}),e.jsx("span",{children:"Personaliza tu botonera, cambiando imagenes, fondo, texto, botones, enlaces."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",defaultValue:"#fff",onChange:a,name:"background"}),e.jsx("hr",{}),e.jsx("p",{className:"title",children:"Colores"}),e.jsx(li,{onClick:c}),e.jsx("br",{})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",onChange:a,defaultValue:0,step:"0.1",max:"10",name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",onChange:a,defaultValue:1,step:"0.1",max:"1",name:"brightness"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border radius"}),e.jsx("input",{type:"range",onChange:a,defaultValue:1,step:"0.1",max:"50",name:"radius"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{name:"colorBox",onClick:a,value:"ligth",children:"Modo Claro"}),e.jsx("button",{name:"colorBox",onClick:a,value:"dark",children:"Modo Oscuro"})]})]})]})}function ri({getMyQrs:s,addNewQr:a,setVisibleQr:c,boxType:n,editor:i,buttons:l,setButtons:o}){const[p,u]=t.useState(!1);t.useState(!1);const[x,d]=t.useState(!1),[h,g]=t.useState(!1),[j,r]=t.useState({});t.useState({});const[m,v]=t.useState(),[f,C]=t.useState(""),[b,k]=t.useState({ssid:"",password:"",encrypt:""}),[F,w]=t.useState({rs:!1,modalFile:!1}),{UserInfo:S}=t.useContext(J),A=t.useRef(null),L={instagram:"https://www.instagram.com/",twitter:"https://x.com/",facebook:"https://m.facebook.com/",tiktok:"https://tiktok.com/",websiteurl:""};function N(D,T){if(q(D.target).css("opacity")!=="0.5")switch(v(T),T){case"qrs":s(),c(!0);break;case"vcard":c(!0),s("qr-contact");break;case"instagram":case"facebook":case"tiktok":case"twitter":case"whatsapp":case"websiteurl":g(!0);break;case"wifi":d(!0);break;case"pdf":case"img":u(!0);break}else ve.error("Este boton no esta habilitado para este apartado.")}const _=new ts({width:600,height:600,image:"/img/icons/iconsvg.png",dotsOptions:{color:"gradient",type:"extra-rounded",gradient:{colorStops:[{offset:0,color:"#000"},{offset:1,color:"#000"}]}},imageOptions:{crossOrigin:"anonymous",margin:20}});function y(){q("input[name='file']").click()}function z(D){let T=D.target.files;T[0]&&(T[0].type.indexOf("/pdf")>=0||T[0].type.indexOf("imag")>=0?r(T[0]):ve.error("El archivo no es una imagen / pdf"))}function H(D){r({}),q("input[name='file']").val("")}function U(D,T){w({...T,[D]:T})}async function ce(D){let T=new FormData,K=!1;console.log(D);let ae="";h&&(f?K=!0:ae="Opps no has agregado ningun usuario"),x&&(console.log(b),b.encrypt&&b.password.length&&b.ssid?K=!0:ae="Has dejado campos vacios en la red wifi"),p&&D&&(K=!0),K?(U("rs",!0),_.append(A.current),_.update({data:D}),setTimeout(async()=>{var qe;let _e=await new Promise((ge,Le)=>{let Q=document.querySelector(".qr-result canvas").toDataURL("image/png");ge(Q)}),Fe=`${m+"-"+(new Date/1e3).toFixed()}`;switch(T.append("preview",_e),T.append("id_company",(qe=S==null?void 0:S.company)==null?void 0:qe.id_company),T.append("formqr",JSON.stringify({name:Fe})),m){case"facebook":case"instagram":case"twitter":case"x":case"twitter":case"linkedin":T.append("type","qr-rs");break;case"wifi":T.append("type","qr-wifi");break}P.post(E+"/api/upload/qr",T,{withCredentials:!0}).then(ge=>ge.data).then(ge=>{if(U("rs",!1),ge.status){g(!1);try{a(Fe,ge.img),ve.success("QR agregado con exito")}catch(Le){ve.error(String(Le))}}}).catch(ge=>{U("rs",!1)})},150)):ve.error(ae)}t.useEffect(()=>{h||C("")},[h]);function W(D){let T=D.target.name,K=D.target.value;k({...b,[T]:K})}async function R(){var T;U("modalFile",!0);let D=new FormData;D.append("file",j),D.append("id_company",(T=S==null?void 0:S.company)==null?void 0:T.id_company),P.post(E+"/api/upload/fileqr",D,{withCredentials:!0}).then(K=>K.data).then(async K=>{K.status&&(ve.success("Se ha subido tu archivo correctamente, se esta procesando el QR"),await ce(K.download),U("modalFile",!1))}).catch(K=>{U("modalFile",!1)})}return e.jsxs(e.Fragment,{children:[e.jsxs(ie,{visible:x,onClick:D=>{ce(`WIFI:T:${b.encrypt};S:${b.ssid};P:${b.password};;`)},callback:d,maxWidth:400,Pending:F==null?void 0:F.rs,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Red WiFi"}),e.jsx("span",{children:"Agrega tu red Wi-Fi favorita e integra el código QR dentro de tu botonera"})]}),e.jsxs("div",{className:"data",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"ssid",children:"SSID"}),e.jsx("input",{type:"text",onChange:W,name:"ssid",placeholder:"Nombre de red"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"password",children:"Contraseña"}),e.jsx("input",{type:"text",onChange:W,name:"password",placeholder:"Contraseña de red"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"encryption",children:"Selecciona el cifrado"}),e.jsxs("select",{name:"encrypt",id:"encryption",onChange:W,children:[e.jsx("option",{value:"WPA",children:"WPA"}),e.jsx("option",{value:"WPA2",children:"WPA2"}),e.jsx("option",{value:"WEP",children:"WEP"}),e.jsx("option",{value:"nopass",children:"Sin cifrado"})]})]})]})]},Ce()),e.jsxs(ie,{visible:h,callback:g,Pending:F.rs,maxWidth:450,next:"Crear",onClick:()=>{ce(m=="tiktok"?L[m]+"@"+f:L[m]+f)},children:[m=="websiteurl"?e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Web"}),e.jsx("span",{children:"Agrega la url de tu sitio web"})]}):e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Red social"}),e.jsx("span",{children:"Agrega tu red social favorita y integra el QR dentro de tu botonera"})]}),e.jsx("div",{className:"data",children:e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{htmlFor:"",children:[L[m],f]}),e.jsx("input",{type:"text",onChange:D=>{C(D.target.value)},name:"user",placeholder:m=="websiteurl"?"https://mysiteweb.com":"@usuario"})]})})]},h?"xd":"XD"),e.jsxs(ie,{visible:p,Pending:F==null?void 0:F.modalFile,callback:u,next:"Subir",onClick:R,children:[e.jsx("input",{type:"file",name:"file",onChange:z,hidden:!0}),e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Subir archivo"}),e.jsx("span",{children:"Sube tu imagen o pdf que no sea mayor a 5 MB"})]}),e.jsx("div",{className:"select-file",children:j.name?e.jsxs("div",{className:"file",children:[e.jsx("div",{className:"right",children:e.jsx("button",{onClick:H,children:e.jsx(te,{})})}),e.jsx("div",{className:"preview",children:e.jsxs("div",{className:"fi",children:[e.jsx("div",{className:"icon",children:e.jsx(fe,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:j==null?void 0:j.name}),e.jsx("span",{children:j==null?void 0:j.type})]})]})})]}):e.jsx("div",{className:"drop-file",onClick:y,children:e.jsx("i",{children:e.jsx(Ee,{})})})})]}),e.jsxs("div",{className:`buttons-services ${n}`,children:[e.jsx("div",{className:"qr-result",ref:A,hidden:!0}),e.jsx("p",{children:"1. Servicios QR"}),e.jsxs("div",{className:"button",onClick:D=>{N(D,"vcard")},type:"vcard",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/vCard.svg",alt:""})}),e.jsx("p",{children:"Tarjeta de presentacion"}),e.jsx("span",{children:"Comparte "})]}),e.jsxs("div",{className:"submenu",children:[e.jsx("p",{children:"Social Media"}),e.jsx("i",{children:e.jsx(ms,{})})]}),e.jsx("br",{}),e.jsxs("div",{className:"button",onClick:D=>{N(D,"whatsapp")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/whatsapp-icon.svg",alt:""})}),e.jsx("p",{children:"Whatsapp"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:D=>{N(D,"instagram")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/instagram.svg",alt:""})}),e.jsx("p",{children:"Instagram"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:D=>{N(D,"facebook")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/facebook.svg",alt:""})}),e.jsx("p",{children:"Facebook"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:D=>{N(D,"twitter")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/twitter.svg",alt:""})}),e.jsx("p",{children:"X"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:D=>{N(D,"tiktok")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/tiktok.svg",alt:""})}),e.jsx("p",{children:"Tiktok"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:D=>{N(D,"websiteurl")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/website.png",alt:""})}),e.jsx("p",{children:"Website URL"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsx("br",{}),e.jsxs("div",{className:"submenu",children:[e.jsx("p",{children:"Documentos"}),e.jsx("i",{children:e.jsx(ms,{})})]}),e.jsx("br",{}),e.jsxs("div",{className:"button",onClick:D=>{N(D,"pdf")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/pdf.svg",alt:""})}),e.jsx("p",{children:"PDF"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:D=>{N(D,"img")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/images.svg",alt:""})}),e.jsx("p",{children:"Imagenes"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsx("br",{}),e.jsxs("div",{className:"button",onClick:D=>{N(D,"wifi")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/wifi.svg",alt:""})}),e.jsx("p",{children:"WIFI"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:D=>{N(D,"qrs")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps.svg",alt:""})}),e.jsx("p",{children:"Mis QRS Favoritos"}),e.jsx("span",{children:"Link to a website of your choice"})]})]})]})}function di({type:s,visibleQr:a,setVisibleQr:c,buttons:n,setBoxType:i,setButtons:l,editor:o,setEditor:p}){var ae,_e,Fe,qe,ge,Le;const[u,x]=t.useState(!1),[d,h]=t.useState(void 0),[g,j]=t.useState(!1),[r,m]=t.useState(!1),[v,f]=t.useState(!1);t.useState(!0);const[C,b]=t.useState(!1),[k,F]=t.useState({}),w=ne(),{UserInfo:S}=t.useContext(J);function A(Y){Y.preventDefault(),Y.stopPropagation();let Q=q(Y.target);switch(q(".page.buttonsbody .active").removeClass("active"),Q.addClass("active"),Q.attr("type")){case"addqr":var X=Q.attr("id");switch(p({type:"addqr",key:X}),X){case"0":i("vcard");break;case"1":i("rs");break;default:i("all");break}break;case"rs":var X=Q.attr("id");p({type:"rs",key:X});break;case"titlespace":console.log(X),p({type:"titlespace",key:Number(Q.attr("id"))});break;default:p({type:Q.attr("type")});break}return!1}function L(Y){Y.stopPropagation();let Q=!0;l(X=>{const ee={...X};return Q&&(Q=!1,ee.elements.push({qrs:[]})),ee})}function N(Y,Q){l(X=>{const ee={...X};return ee.elements[Y]&&ee.elements[Y].qrs[Q]&&ee.elements[Y].qrs.splice(Q,1),ee})}async function _(){var Y;if(n.header.titlegl.length>=1){j(!0);let Q=new FormData;Q.append("json",JSON.stringify(n)),d==null?Q.append("title",n.header.titlegl):Q.append("id_buttonsqr",d),Q.append("id_company",(Y=S==null?void 0:S.company)==null?void 0:Y.id_company);let X=await Ye(document.querySelector(".page .center"),{allowTaint:!1,useCORS:!0}).then(ee=>ee.toDataURL());Q.append("preview",X),P.post(E+"/api/upload/buttonsqr",Q,{withCredentials:!0}).then(ee=>ee.data).then(ee=>{j(!1),ee.id_buttonsqr&&h(ee.id_buttonsqr),ee.msg&&M.error(ee.msg)}).catch(ee=>{j(!1)})}else x(!0),M.error("Opps no puedes avanzar si tu plantilla no posee un titulo")}function y(Y){let Q=Y.target.value;l(X=>{let ee={...X};return ee.header.titlegl=Q,ee})}function z(){n.header.titlegl&&(x(!1),M.success("El titulo se aplico con exito"))}function H(){var Y,Q,X,ee,be;q("#title").text((Y=n==null?void 0:n.header)!=null&&Y.title?(Q=n==null?void 0:n.header)==null?void 0:Q.title:"Agregar Nombre..."),q("#desc").text((X=n==null?void 0:n.header)!=null&&X.desc?(ee=n==null?void 0:n.header)==null?void 0:ee.des:"Agregar descripcion..."),(be=n==null?void 0:n.elements)==null||be.forEach((Be,Ie)=>{console.log(Be),q("p[type='titlespace']").eq(Ie).text(Be.title)})}t.useEffect(()=>{var Y;if(w.id){let Q=new FormData;Q.append("id_buttonsqr",w.id),Q.append("id_company",(Y=S==null?void 0:S.company)==null?void 0:Y.id_company),P.post(E+"/api/get/editbuttonsqr",Q,{withCredentials:!0}).then(X=>X.data).then(X=>{X.id_buttonsqr&&(l(JSON.parse(X.json)),h(X.id_buttonsqr))})}},[]),t.useEffect(()=>{H()},[d,s]);function U(Y){l(Q=>{let X={...Q};return X.header.title=Y.target.textContent,X})}function ce(Y){l(Q=>{let X={...Q};return X.elements[o.key].title=Y.target.textContent,X})}function W(Y){let Q=!0;l(X=>{let ee={...X};return Q&&(Q=!1,ee.elements.splice(Y,1)),ee})}function R(){document.querySelector("input[name='photo']").click()}function D(Y){let Q=Y.target.files[0];Q&&((Q==null?void 0:Q.type.indexOf("image"))>=0?F(Q):M.error("El archivo no es compatible"))}function T(){var Y;if(m(!0),k){let Q=new FormData;Q.append("id_company",(Y=S==null?void 0:S.company)==null?void 0:Y.id_company),Q.append("file",k),P.post(E+"/api/upload/fileqr",Q,{withCredentials:!0}).then(X=>X.data).then(X=>{m(!1),X.status&&(l(ee=>{let be={...ee};return be.header.logo=X.download,be}),K(),b(!1),M.success("Nueva imagen!"))}).catch(X=>{m(!1)})}}function K(){F({}),document.querySelector("input[name='photo']").value=""}return e.jsxs(e.Fragment,{children:[e.jsxs(ie,{visible:C,callback:b,onClick:T,Pending:r,children:[e.jsx("input",{type:"file",name:"photo",onChange:D,hidden:!0}),e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Subir archivo"}),e.jsx("span",{children:"Sube tu imagen que no sea mayor a 5 MB"})]}),e.jsx("div",{className:"select-file",children:k.name?e.jsxs("div",{className:"file",children:[e.jsx("div",{className:"right",children:e.jsx("button",{onClick:K,children:e.jsx(te,{})})}),e.jsx("div",{className:"preview",children:e.jsxs("div",{className:"fi",children:[e.jsx("div",{className:"icon",children:e.jsx(fe,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:k==null?void 0:k.name}),e.jsx("span",{children:k==null?void 0:k.type})]})]})})]}):e.jsx("div",{className:"drop-file",onClick:R,children:e.jsx("i",{children:e.jsx(Ee,{})})})})]}),e.jsxs(ie,{visible:u,close:x,callback:x,onClick:z,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("span",{children:"Elige un titulo general para esta plantilla"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Titulo general"}),e.jsx("input",{onChange:y,type:"text",placeholder:"ej: plantilla 1"})]})]}),e.jsx(Qs,{Visible:v,Close:f}),e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{children:[e.jsx(Ee,{})," Subir QR"]}),e.jsxs("button",{onClick:Y=>{f(!0)},children:[e.jsx(Ee,{})," Importar QR"]}),e.jsxs("button",{children:[e.jsx(ye,{})," Previsualizar"]}),e.jsxs("button",{className:g?"await":"",onClick:_,children:[e.jsx(We,{})," Guardar ",e.jsx("div",{className:"loading"})]})]})}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(ae=n==null?void 0:n.header)==null?void 0:ae.blur}px)brightness(${(_e=n==null?void 0:n.header)==null?void 0:_e.brightness})`,background:(Fe=n==null?void 0:n.header)==null?void 0:Fe.background2}}),e.jsx("div",{className:`${"page buttonsbody buttonsqr editmode "+((qe=n==null?void 0:n.header)==null?void 0:qe.colorBox)}`,children:e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",onClick:A,type:"logo",src:(ge=n==null?void 0:n.header)!=null&&ge.logo?(Le=n==null?void 0:n.header)==null?void 0:Le.logo:"/img/icons/default-img.jpg",alt:""}),e.jsxs("button",{className:"action",onClick:Y=>{b(!0)},children:[e.jsx(_a,{})," Cambiar Foto"]}),e.jsx("br",{}),e.jsx("p",{id:"title",onClick:A,onInput:U,suppressContentEditableWarning:!0,contentEditable:!0,children:"Agregar titulo"}),e.jsx("span",{id:"desc",onClick:A,suppressContentEditableWarning:!0,contentEditable:!0,type:"desc",children:"Agregar Descripcion"}),e.jsx("br",{}),e.jsx("br",{}),n.elements.map((Y,Q)=>e.jsxs("div",{className:"boxqr",children:[e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"top-left",children:e.jsx("p",{id:Q,suppressContentEditableWarning:!0,contentEditable:!0,type:"titlespace",onInput:ce,onClick:X=>{A(X)},children:"Escribe titulo..."})}),e.jsxs("div",{className:"top-right",children:[e.jsxs("button",{className:`${(o==null?void 0:o.key)==Q&&(o==null?void 0:o.type)=="addqr"?"select":""}`,id:Q,type:"addqr",onClick:X=>{A(X)},children:[e.jsx("i",{children:e.jsx(Ne,{})}),"  Agregar"]}),e.jsx("button",{id:Q,onClick:X=>{W(Q)},children:"Eliminar"})]})]}),e.jsx(Rs.Carousel,{showThumbs:!1,showStatus:!1,children:Y.qrs.map((X,ee)=>e.jsxs("div",{className:"qr",children:[e.jsx("button",{className:"delete",onClick:be=>{N(Q,ee)},children:e.jsx(te,{})}),e.jsx("img",{src:X.image}),e.jsx("p",{children:X.title}),e.jsx("br",{})]},ee))}),Y.qrs.length==0?e.jsx("div",{className:"add-qr",children:"+"}):""]},Q)),e.jsxs("div",{className:"add-new",onClick:L,children:[e.jsx(Qe,{})," Agregar Caja"]})]})})]})}function oi({Visible:s,Close:a,Callback:c,setType:n,TypeSelect:i}){t.useContext(J);const[l,o]=t.useState(0),[p,u]=t.useState([Ce()]),[x,d]=t.useState({type:"",name:""});Z();function h(r){r.stopPropagation(),r.preventDefault();let m=q(r.target);m.parents(".options").find(".active").removeClass("active"),m.addClass("active");let v=m.attr("value");d(f=>({...f,type:v}))}function g(r){let m=!1;q(r.target),(l===0&&x.type=="company"||x.type=="personal")&&(m=!0),m&&x.type&&(n(x.type),c(!1))}function j(r){let m=r.target.name,v=r.target.value;d(f=>({...f,[m]:v}))}return t.useEffect(()=>{q(".case.active").removeClass("active"),q(".case").eq(l).addClass("active")},[l]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[l>0?e.jsxs("button",{className:"return",onClick:r=>{o(m=>m-1)},children:[e.jsx(Oe,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",i?e.jsx("button",{className:"closed",onClick:r=>{c(!1)},children:"X"}):""]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear una nueva botonera QR"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de lista que te gustaría crear"})]}),e.jsxs("div",{className:"options flex",id:`options-${p[0]}`,children:[e.jsxs("div",{className:"selector",onClick:h,value:"personal",children:[e.jsx("div",{className:"check",children:e.jsx(xe,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Botonera Personal"}),e.jsx("span",{children:"La botonera personal, es totalmente vacia y modificable a tu manera"})]})]}),e.jsxs("div",{className:"selector",onClick:h,value:"company",children:[e.jsx("div",{className:"check",children:e.jsx(xe,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Botonera Empresarial"}),e.jsx("span",{children:"La botonera empresarial viene con una plantilla predeterminada para ingresar qrs referente al tema"})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar Lista"}),e.jsx("span",{className:"desc",children:"Asignale un nombre a tu nueva lista."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de lista"}),e.jsx("input",{type:"text",name:"name",onChange:j,placeholder:"Nombre"})]})})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:"next",onClick:g,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function ks(){var C;const[s,a]=t.useState({header:{titlegl:"",title:"",desc:"",img:"",background:""},elements:[]}),[c,n]=t.useState({key:"",type:""}),i=ne(),[l,o]=t.useState(void 0),[p,u]=t.useState(!1),[x,d]=t.useState(),[h,g]=t.useState(!1),[j,r]=t.useState([]),{UserInfo:m}=t.useContext(J);t.useEffect(()=>{switch(l){case"personal":a({header:{titlegl:"",title:"",desc:"",img:"",background:""},elements:[]});break;case"company":a({header:{titlegl:"",title:"",desc:"",img:"",background:""},elements:[{title:"Business Card",qrs:[]},{title:"Redes Sociales",qrs:[]},{title:"Presentaciones",qrs:[]}]});break}},[l]);function v(b,k){let F=!0;a(w=>{const S={...w};if(F){F=!1;const A=[...S.elements[c.key].qrs,{image:k,title:b}];S.elements[c.key].qrs=A}return S})}function f(b){var F;let k=new FormData;k.append("id_company",(F=m==null?void 0:m.company)==null?void 0:F.id_company),b&&k.append("type",b),P.post(E+"/api/get/qrs",k,{withCredentials:!0}).then(w=>w.data).then(w=>{r(w)})}return t.useEffect(()=>{f(),i.id||u(!0)},[]),e.jsxs(e.Fragment,{children:[e.jsxs(ie,{visible:h,maxWidth:"450px",callback:g,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Galeria de Qr's"}),e.jsx("span",{children:"Tu galeria de qrs, donde podras seleccionar que qr quieres integrar"})]}),e.jsx("div",{className:"data row flex control-scroll-qrs",children:j.map((b,k)=>e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"qrs",onClick:F=>{v(b==null?void 0:b.title,Ge(b.qr_preview))},image:Ge(b.qr_preview),title:b.title,children:[e.jsx("img",{src:Ge(b.qr_preview),alt:""}),e.jsx("p",{children:b.title})]})},k))})]}),e.jsx(oi,{Visible:p,Callback:u,setType:o,TypeSelect:l}),e.jsx("div",{className:"editor-surveys",children:e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:"left",children:e.jsx(ci,{editor:c,setEditor:n,buttons:s,setButtons:a})}),e.jsx("div",{className:"center ",style:{background:(C=s==null?void 0:s.header)==null?void 0:C.background},children:e.jsx(di,{type:l,setVisibleQr:g,visibleQr:h,boxType:x,setBoxType:d,editor:c,setEditor:n,buttons:s,setButtons:a})}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"type-editor",children:e.jsx(ri,{getMyQrs:f,addNewQr:v,setVisibleQr:g,visibleQr:h,boxType:x,setBoxType:d,editor:c,setEditor:n,buttons:s,setButtons:a})})})]})})]})}function pi(){const[s,a]=t.useState(0),c=Z(),[n,i]=t.useState({user:null,existsAccount:null,code:null,intent:0}),[l,o]=t.useState(!1);function p(){let g=new FormData;g.append("user",n.user),n.user?(o(!0),P.post(E+"/api/recovery/existsuser",g).then(j=>j.data).then(async j=>{j.status?(await d(),o(!1),a(1),M.success("Tu codigo ha sido enviado al correo electronico")):(M.error("Opps no se ha conseguido este usuario"),o(!1))}).catch(j=>{M.error("Opps error al enviar la peticion."),o(!1)})):M.error("Has dejado el usuario vacido")}function u(){let g=new FormData;g.append("user",n==null?void 0:n.user),g.append("code",n==null?void 0:n.code),P.post(E+"/api/recovery/checkcode",g).then(j=>j.data).then(j=>{j.status?(a(2),M.success("Has ingresado el codigo correctamente")):(i({...n,intent:n.intent+1}),M.error("Error con tu codigo de seguridad"))})}function x(g){let j=g.target.name,r=g.target.value;i({...n,[j]:r})}async function d(){let g=new FormData;g.append("user",n==null?void 0:n.user),o(!0),P.post(E+"/api/recovery/requestcode",g).then(j=>j.data).then(j=>{o(!1),j.status?M.success("Codigo enviado correctamente."):M.error("Opps error al obtener un nuevo codigo, espera un momento...")}).catch(j=>{o(!1)})}function h(){let g=new FormData;g.append("user",n.user),g.append("password",n.password),g.append("password2",n.password2),g.append("code",n.code),n.password&&n.password2?n.password==n.password2?P.post(E+"/api/recovery/changepassword",g).then(j=>j.data).then(j=>{j.status?(M.success("Has cambiado la password correctamente"),c("/")):M.error("Opps error al cambiar la password")}):M.error("Las passwords no coiciden"):M.error("Has dejado campos vacios")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"recovery",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Recupera tu cuenta"}),e.jsx("span",{children:"Recupera tu cuenta con un correo o el nombre de usuario"})]}),e.jsx("br",{}),s==0?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Usuario / email"}),e.jsx("input",{type:"text",name:"user",onChange:x,placeholder:"guest@gmail.com"})]}),e.jsxs("button",{className:`go ${l?"await":""}`,onClick:p,children:["Buscar cuenta... ",e.jsx("div",{className:"loading"})]})]}):"",s==1?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{htmlFor:"",children:["Ingresa el codigo enviado a (",e.jsx("b",{children:n.user}),") "]}),e.jsx("input",{type:"password",name:"code",onChange:x,placeholder:"Codigo",style:{textAlign:"center"}})]}),n.intent?e.jsx(e.Fragment,{children:e.jsxs("button",{className:`transparent ${l?"await":""}`,onClick:d,children:["Pedir nuevo codigo ",e.jsx("div",{className:"loading"})]})}):"",e.jsxs("button",{className:`go ${l?"await":""}`,onClick:u,children:["Confirmar Codigo",e.jsx("div",{className:"loading"})]})]}):"",s==2?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Contraseña Nueva"}),e.jsx("input",{type:"password",name:"password",onChange:x,placeholder:"••••••••"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Repita contraseña nueva"}),e.jsx("input",{type:"password",name:"password2",onChange:x,placeholder:"••••••••"})]}),e.jsxs("button",{className:`go ${l?"await":""}`,onClick:h,children:["Actualizar Contraseña",e.jsx("div",{className:"loading"})]})]}):""]})})}function mi(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top",children:[e.jsx("ul",{}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"form-search",children:e.jsx("input",{type:"text",placeholder:"Buscar usuario..."})})})]})})}function xi(){const[s,a]=t.useState([]),{UserInfo:c}=t.useContext(J);function n(i,l){var p;let o=new FormData;o.append("id_company",(p=c==null?void 0:c.company)==null?void 0:p.id_company),P.post(E+"/api/get/contacts",o,{withCredentials:!0}).then(u=>u.data).then(u=>{a(u.result)})}return t.useEffect(()=>{n()},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Contactos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]})}),e.jsx(mi,{}),e.jsx("div",{className:"box box-padding",children:e.jsx("table",{children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Email"}),e.jsx("td",{children:"Nombre"}),e.jsx("td",{children:"Apellido"}),e.jsx("td",{children:"Dni"}),e.jsx("td",{children:"Numero"}),e.jsx("td",{children:"Sexo"}),e.jsx("td",{children:"Email Verificado"}),e.jsx("td",{children:"Estatus"})]}),s.map((i,l)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("span",{children:i.email?i.email:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:i.name?i.name:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:i.lastname?i.lastname:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:i.dni?i.dni:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:i.phone?i.phone:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:i.sexo?i.name:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:i.email_verified?i.email_Verified:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:i.status?i.status:"No disponible"})})]}))]})})})]})}function hi(){var o;const s=t.useRef(null);let{UserInfo:a}=t.useContext(J);const[c,n]=t.useState(!1),i=Z();t.useEffect(()=>{const p=Fa.init({container:s.current,plugins:[Da,Pa,Ta,qa]});return p.Storage.destroy(),p.Panels.addButton("options",{id:"return",label:"Volver",command:async function(){i("/landings")}}),p.Panels.addButton("options",{id:"save-html-button",className:"save-html-button-class",label:"Guardar",command:async function(){const u=p.getHtml(),x=p.getCss(),d=await p.store("export").then(j=>JSON.stringify(j));let h=new FormData,g=q("input[name='name']").val();h.append("id_company",q("#id_company").val()),h.append("html",u),h.append("name",g),h.append("css",x),h.append("json",d),Number(q("#id_edit").val())>=1&&h.append("id",q("#id_edit").val()),g.length?P.post(E+"/api/upload/landing",h,{withCredentials:!0}).then(j=>j.data).then(j=>{j.status&&(M.success("Guardado con exito"),j.id_create&&q("#id_edit").val(j.id_create))}):(M.error("Opps no has elegido un titulo"),n(!0))}}),p.Panels.addButton("options",{id:"gallery",label:"Galeria",command:async function(){}}),()=>{p.destroy()}},[]);function l(){q("input[name='name']").val()?n(!1):M.error("Opps no has asignado un titulo")}return e.jsx(e.Fragment,{children:e.jsxs("body",{theme:"ligth",children:[e.jsxs(ie,{visible:c,callback:n,close:n,onClick:l,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Elegir titulo"}),e.jsx("span",{children:"elige un titulo para esta plantilla"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{name:"name",type:"text",placeholder:"Titulo"})})]}),e.jsx("input",{type:"number",id:"id_edit",hidden:!0}),e.jsx("input",{type:"number",id:"id_company",value:(o=a==null?void 0:a.company)==null?void 0:o.id_company,hidden:!0}),e.jsx("div",{ref:s})]})})}function ui(){const[s,a]=t.useState([]),{UserInfo:c}=t.useContext(J),[n,i]=t.useState(!0),l=Z();function o(){var u;let p=new FormData;p.append("id_company",(u=c==null?void 0:c.company)==null?void 0:u.id_company),P.post(E+"/api/get/landings",p,{withCredentials:!0}).then(x=>x.data).then(x=>{a(x),i(!1)})}return t.useEffect(()=>{o()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Landings"}),e.jsx("span",{children:"Aqui veras todas tus landings creadas con anterioridad podras editarlas o eliminarlas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:p=>{l("/editor/landings")},children:"Crear nueva landing"})})]}),e.jsx("div",{className:"row",children:n==!1?s.map((p,u)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:"url(/img/icons/default-img.jpg)"},children:e.jsx("div",{className:"right-top",children:e.jsx("button",{onClick:x=>{l(`/landing/${p.token}`)},children:e.jsx(ye,{})})})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:p==null?void 0:p.name}),e.jsxs("span",{children:["Encuesta agregada el: ",le(p.time_add)]})]})]})},u)):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(je,{})})})})]})}function ji(){const s=ne();return t.useEffect(()=>{function a(){const c=new FormData;c.append("token",s.id),P.post(E+"/api/get/landing",c).then(n=>n.data).then(n=>{document.documentElement.innerHTML="",document.documentElement.innerHTML=n.html})}a()},[s.id]),null}function gi(){const s=Z(),{UserInfo:a}=t.useContext(J),[c,n]=t.useState([]);function i(){var o;let l=new FormData;l.append("id_company",(o=a==null?void 0:a.company)==null?void 0:o.id_company),P.post(E+"/api/get/buttons",l,{withCredentials:!0}).then(p=>p.data).then(p=>{n(p)})}return t.useEffect(()=>{i()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"BOTONERAS URL"}),e.jsx("span",{children:"Gestiona tus botoneras estandares"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:l=>{s("/editor/buttons")},children:"Crear nueva botonera"})})]}),e.jsx("div",{className:"row",children:c.map((l,o)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${E}/api/get/previewbuttons?hash=${l.preview}&w=buttons)`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{onClick:p=>{s("/editor/buttons/"+l.id_buttons)},children:e.jsx(Pe,{})}),e.jsx("button",{onClick:p=>{s(`/stats/buttons/${l.token}`)},children:e.jsx(fe,{})}),e.jsx("button",{onClick:p=>{s(`/buttons/${l.token}`)},children:e.jsx(ye,{})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:l==null?void 0:l.title}),e.jsxs("span",{children:["Encuesta agregada el: ",le(l.time_add)]})]})]})},o))})]})}function vi(){const s=Z(),{UserInfo:a}=t.useContext(J),[c,n]=t.useState([]),i=Z();function l(){var p;let o=new FormData;o.append("id_company",(p=a==null?void 0:a.company)==null?void 0:p.id_company),P.post(E+"/api/get/buttonsqr",o,{withCredentials:!0}).then(u=>u.data).then(u=>{n(u)}).catch(u=>{})}return t.useEffect(()=>{l()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"BOTONERAS QR"}),e.jsx("span",{children:"Gestiona tus botoneras estandares"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:o=>{s("/editor/buttonsqr")},children:"Crear nueva botoneraQR"})})]}),e.jsx("div",{className:"row",children:c.map((o,p)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${E}/api/get/previewbuttons?hash=${o.preview}&w=buttonsqr)`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{onClick:u=>{i("/editor/buttonsqr/"+o.id_buttonsqr)},children:e.jsx(Pe,{})}),e.jsx("button",{onClick:u=>{i(`/stats/survey/${o.id_survey}`)},children:e.jsx(fe,{})}),e.jsx("button",{onClick:u=>{i(`/buttonsqr/${o.token}`)},children:e.jsx(ye,{})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:o==null?void 0:o.title}),e.jsxs("span",{children:["Encuesta agregada el: ",le(o.time_add)]})]})]})},p))})]})}function fi(){var i,l,o,p,u,x,d,h,g,j,r;let s=ne();const[a,c]=t.useState({elements:[]});function n(){let m=new FormData;m.append("token",s.id),P.post(E+"/api/get/buttonsqr",m).then(v=>v.data).then(v=>{c(v)})}return t.useEffect(()=>{n()},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"editor-surveys prodbuttonsqr",children:e.jsxs("div",{className:"center",style:{background:(i=a==null?void 0:a.header)==null?void 0:i.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(l=a==null?void 0:a.header)==null?void 0:l.blur}px)brightness(${(o=a==null?void 0:a.header)==null?void 0:o.brightness})`,background:(p=a==null?void 0:a.header)==null?void 0:p.background2}}),e.jsx("div",{className:`${"page buttonsbody buttonsqr "+((u=a==null?void 0:a.header)==null?void 0:u.colorBox)}`,children:e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",type:"logo",src:(x=a==null?void 0:a.header)!=null&&x.logo?(d=a==null?void 0:a.header)==null?void 0:d.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{type:"title",children:(h=a==null?void 0:a.header)!=null&&h.title?(g=a==null?void 0:a.header)==null?void 0:g.title:""}),e.jsx("span",{type:"desc",children:(j=a==null?void 0:a.header)!=null&&j.desc?(r=a==null?void 0:a.header)==null?void 0:r.desc:""}),e.jsx("br",{}),e.jsx("br",{}),a.elements.map((m,v)=>e.jsxs("div",{className:"boxqr",children:[e.jsx("div",{className:"top",children:e.jsx("div",{className:"top-left",children:e.jsx("p",{id:v,type:"titlespace",children:m.title?m.title:""})})}),e.jsx(Rs.Carousel,{showThumbs:!1,showIndicators:!1,showStatus:!1,children:m.qrs.map((f,C)=>e.jsxs("div",{className:"qr",children:[e.jsx("img",{src:f.image}),e.jsx("p",{children:f.title})]}))}),m.qrs.length==0?e.jsx("div",{className:"add-qr",children:"+"}):""]}))]})})]})})})}function Ni(){const s=ne();t.useState();const{UserInfo:a}=t.useContext(J);function c(){var i;let n=new FormData;n.append("token",s.id),n.append("id_company",(i=a==null?void 0:a.company)==null?void 0:i.id_company),P.post(E+"/api/get/statbuttons",n,{withCredentials:!0})}return t.useEffect(()=>{c()},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Botonera: ",s.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu encuesta"})]})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Estadisticas de enlaces"})}),e.jsx("div",{className:"result countryr"})]})}),e.jsx("div",{className:"col-md-6",children:"lorem"})]})]})}function yi(){var d,h;const s=ne(),[a,c]=t.useState(!1),n=Z(),{UserInfo:i}=t.useContext(J),[l,o]=t.useState({total_clicks:0,total_errors:0,total_reads:0,total_sends:0,last_sends:[],last_errors:[]}),[p,u]=t.useState({series:[{name:"Enviados",data:[]},{name:"Clicks",data:[]},{name:"Leidos",data:[]},{name:"Errores",data:[]}],chart:{height:350,type:"area"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{categories:[]},tooltip:{x:{format:"dd/MM/yy HH:mm"}}});function x(){var g;if(a){let j=new FormData;j.append("id_company",(g=i==null?void 0:i.company)==null?void 0:g.id_company),j.append("id_campaign",s.id),j.append("case","campaign"),P.post(E+"/api/get/stats",j,{withCredentials:!0}).then(r=>r.data).then(r=>{let m=r.daysResponse.length;o({...l,total_sends:r.total_sends,total_reads:r.total_reads,total_errors:r.total_errors,total_clicks:r.total_clicks,last_sends:r.last_sends,last_errors:r.last_errors,type_campaign:r.type_campaign}),m&&u(v=>({...v,series:[{...v.series[0],data:v.series[0].data.concat(r.daysResponse.map(f=>f.send))},{...v.series[1],data:v.series[1].data.concat(r.daysResponse.map(f=>f.clicks))},{...v.series[2],data:v.series[2].data.concat(r.daysResponse.map(f=>f.reads))},{...v.series[3],data:v.series[3].data.concat(r.daysResponse.map(f=>f.errors))}],xaxis:{...v.xaxis,categories:r.daysTotal}}))}).catch(r=>{})}}return t.useEffect(()=>{c(!0),a&&x()},[a]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Estadisticas de campaña: ",s==null?void 0:s.id]}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:g=>{n("/campaigns/detail/"+s.id)},children:e.jsx(Re,{})})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Enviados"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:l.total_sends})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Clicks"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:l.total_clicks})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Leidos"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:l.total_reads})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Errores"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:l.total_errors})})]})})]}),e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Estadisticas Generales"}),e.jsx("span",{children:"ve las estadisticas de forma general y recorre por cada dia y mes"})]}),(h=(d=p==null?void 0:p.series[0])==null?void 0:d.data)!=null&&h.length?e.jsx(ze,{options:p,series:p.series,type:"area",height:300}):""]}),e.jsxs("div",{className:"row ",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Analisis General"}),e.jsx("span",{children:"Analisis generales"})]}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Enviados:"})," ",l.total_sends]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Clicks:"})," ",l.total_clicks]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Leidos:"})," ",l.total_reads]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Errores:"})," ",l.total_errors]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Aceptacion General:"})," ",l.total_sends," %"]})})]}),e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimos Errores"}),e.jsx("span",{children:"Los ultimos errores registrados"})]}),e.jsxs("div",{className:"results",children:[l.last_errors.map((g,j)=>e.jsxs("div",{className:"item flex",children:[e.jsx("div",{children:e.jsx("span",{children:l.type_campaign=="em"?g.email:""})}),e.jsxs("div",{children:[e.jsx("button",{className:"status-send",children:e.jsx(fe,{})}),e.jsx("button",{className:`status-send ${g.error?"error":""}`,children:g.error?e.jsxs(e.Fragment,{children:["Error ",e.jsx(xs,{})]}):e.jsxs(e.Fragment,{children:["Enviado  ",e.jsx(xe,{})]})})]})]})),l.last_errors.length==0?e.jsx(e.Fragment,{children:e.jsx(me,{name:"errores"})}):e.jsx("div",{className:"show-all",children:e.jsx("button",{onClick:g=>{n("/campaigns/stats/detail/"+s.id)},children:"Ver detalles completo"})})]})]})]}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimos Enviados"}),e.jsx("span",{children:"Los ultimos envios salientes"})]}),e.jsxs("div",{className:"results",children:[l.last_sends.map((g,j)=>e.jsxs("div",{className:"item flex",children:[e.jsx("div",{children:e.jsx("span",{children:l.type_campaign=="em"?g.email:""})}),e.jsx("div",{children:e.jsx("button",{className:`status-send ${g.error?"error":""}`,children:g.error?e.jsxs(e.Fragment,{children:["Error ",e.jsx(xs,{})]}):e.jsxs(e.Fragment,{children:["Enviado  ",e.jsx(xe,{})]})})})]})),l.last_sends.length==0?e.jsx(e.Fragment,{children:e.jsx(me,{name:"errores"})}):e.jsx("div",{className:"show-all",children:e.jsx("button",{onClick:g=>{n("/campaigns/stats/detail/"+s.id)},children:" Ver detalles completo"})})]})]})})]})]})}function Ci(){const s=Z();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Segmentos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:a=>{s("/contacts/segments/add")},children:"Crear nuevo segmento"})})]})})}function bi(){const[s,a]=t.useState(!1),[c,n]=t.useState([]),[i,l]=t.useState(!1),[o,p]=t.useState(!1),[u,x]=t.useState({domain:null}),{UserInfo:d}=t.useContext(J);function h(){var m;let r=new FormData;r.append("id_company",(m=d==null?void 0:d.company)==null?void 0:m.id_company),n([]),a(!0),l(!0),P.post(E+"/api/get/domains",r,{withCredentials:!0}).then(v=>v.data).then(v=>{n(v),a(!1),l(!1),p(!1)}).catch(v=>{a(!1)})}function g(){var m;let r=new FormData;r.append("domain",u.domain),r.append("id_company",(m=d==null?void 0:d.company)==null?void 0:m.id_company),Za(u.domain)?P.post(E+"/api/upload/domain",r,{withCredentials:!0}).then(v=>v.data).then(v=>{v.status&&h()}):ve.error("Opps este dominio no es veridico.")}function j(r){let m=r.target.value,v=r.target.name;x({...u,[v]:m})}return t.useEffect(()=>{h()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(ie,{visible:o,Pending:i,callback:p,maxWidth:"450px",onClick:g,next:"Subir",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ingresar dominio"}),e.jsx("span",{children:"integra un nuevo dominio para utilizarlo en los envios de correo, recuerda que durara un tiempo en verificarse el dominio en nuestro servidor."})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Dominio:"}),e.jsx("input",{type:"url",onChange:j,name:"domain",placeholder:"mail.radarsystems.net"})]}),e.jsx("br",{})]},o?"xd":"xd2"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Dominios"}),e.jsx("span",{children:"Esta es tu lista de dominios que puedes utilizar en el envio de correos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:r=>{p(!0)},children:"Subir nuevo dominio"})})]}),e.jsxs("div",{className:"box box-padding",children:[c.map((r,m)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_link.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:r.domain}),e.jsx("p",{className:"desc",children:r.status?"Activo":"En verificacion..."}),e.jsx("span",{className:"desc",children:le(r.time_add)})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:v=>{},children:e.jsx(fe,{})}),e.jsx("button",{onClick:v=>{},children:e.jsx(te,{})})]})]})),s?e.jsx(je,{}):c.length==0?e.jsx("div",{className:"item",children:e.jsx(me,{name:"dominios"})}):""]})]})}function wi(){var m,v,f,C,b,k,F,w;const[s,a]=t.useState({type:void 0,map:{}}),[c,n]=t.useState({}),[i,l]=t.useState(!1),[o,p]=t.useState({name:"",desc:""}),{UserInfo:u}=t.useContext(J);function x(S){let A=S.target.name,L=S.target.value;a({...s,[A]:L})}function d(S){let A=S.target.name,L=S.target.value,N=S.target.getAttribute("action");switch(console.log(N),N){case"add":a(_=>({..._,map:{..._.map,[A]:L}}));break;case"push":a({...s,...s.map,[A]:L});break}}function h(){var A;let S=new FormData;S.append("id_company",(A=u==null?void 0:u.company)==null?void 0:A.id_company),P.post(E+"/api/get/list",S,{withCredentials:!0}).then(L=>L.data).then(L=>{n(N=>(N.lists=L,N))})}function g(S){S.preventDefault(),a(A=>{let L={...A};return L.map.wheres||(L.map.wheres=[]),L.map.wheres.push({[L.map.typeWhereContact]:L.formValue}),L})}function j(){var A;let S=new FormData;S.append("json",JSON.stringify(s)),S.append("id_company",(A=u==null?void 0:u.company)==null?void 0:A.id_company),S.append("name",o.name),S.append("desc",o.desc),P.post(E+"/api/upload/segments",S,{withCredentials:!0}).then(L=>L.data).then(L=>{console.log(L)})}function r(S){let A=S.target.name,L=S.target.value;A&&L&&p({...o,[A]:L})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Segmentos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",children:"Cancelar Creacion"})})]}),e.jsxs("div",{className:"segments-creator",children:[e.jsxs("form",{id:"form-segment",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Nombre"}),e.jsx("input",{type:"text",name:"name",onChange:r,placeholder:"Nombre del segmento"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Descripcion"}),e.jsx("input",{type:"text",name:"desc",onChange:r,placeholder:"Descripcion del segmento"})]}),e.jsxs("div",{className:"inputs",children:[e.jsxs("select",{id:"",name:"type",onChange:x,children:[e.jsx("option",{disabled:!0,selected:!0,children:"Selecciona un tipo"}),e.jsx("option",{value:"lists",children:"Listas"}),e.jsx("option",{value:"campaings",children:"Campañas"}),e.jsx("option",{value:"surveys",children:"Encuestas"})]}),s.type=="lists"?e.jsxs(e.Fragment,{children:[e.jsxs("select",{id:"",name:"type_lists",action:"add",onChange:d,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Selecciona..."}),e.jsx("option",{value:"all",children:"Todas las listas"}),e.jsx("option",{value:"where",children:"Lista Especifica"})]}),e.jsx("i",{children:"="}),(s==null?void 0:s.map.type_lists)=="all"?e.jsx(e.Fragment,{children:e.jsx("option",{value:""})}):((m=s==null?void 0:s.map)==null?void 0:m.type_lists)=="where"?e.jsxs(e.Fragment,{children:[h(),e.jsxs("select",{name:"lists",action:"add",id:"",onChange:d,children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"Selecciona la lista..."}),(v=c==null?void 0:c.lists)==null?void 0:v.map((S,A)=>e.jsx("option",{value:S.id_list,children:S.name}))]}),((f=s==null?void 0:s.map)==null?void 0:f.lists)>=1?e.jsxs("div",{className:"multiple",children:[e.jsxs("div",{className:"",children:[e.jsxs("select",{name:"typeWhereContact",action:"add",onChange:d,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Selecciona una condicion"}),e.jsx("option",{value:"email",children:"Correo"}),e.jsx("option",{value:"name",children:"Nombre"}),e.jsx("option",{value:"lastname",children:"Apellido"}),e.jsx("option",{value:"age",children:"Edad"}),e.jsx("option",{value:"country",children:"Pais"})]}),((C=s==null?void 0:s.map)==null?void 0:C.typeWhereContact)=="email"?e.jsxs("select",{name:"formValue",onChange:x,children:[e.jsx("option",{value:".es",children:".es"}),e.jsx("option",{value:".com",children:".com"}),e.jsx("option",{value:".net",children:".net"}),e.jsx("option",{value:".org",children:".org"}),e.jsx("option",{value:"gmail.com",children:"gmail.com"}),e.jsx("option",{value:"hotmail.com",children:"hotmail.com"}),e.jsx("option",{value:"hotmail.es",children:"hotmail.es"}),e.jsx("option",{value:"outlook.com",children:"outlook.com"}),e.jsx("option",{value:"outlook.es",children:"outlook.es"}),e.jsx("option",{value:"icloud.com",children:"icloud.com"})]}):"",["name","lastname","age","country"].includes((b=s==null?void 0:s.map)==null?void 0:b.typeWhereContact)&&e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",name:"formValue",onChange:x,placeholder:(k=s==null?void 0:s.map)==null?void 0:k.typeWhereContact})}),e.jsx("button",{className:"add-button",onClick:g,children:e.jsx(ss,{})})]}),(w=(F=s==null?void 0:s.map)==null?void 0:F.wheres)==null?void 0:w.map((S,A)=>e.jsx("div",{children:Object.entries(S).map(([L,N])=>e.jsxs("div",{className:"where-contact",children:[e.jsxs("p",{children:[L," (Where)"]}),e.jsx("p",{children:N}),e.jsx("button",{children:e.jsx(te,{})})]},L))},A))]}):""]}):"",["name","lastname","age","country","state"].includes(s==null?void 0:s.type_where_now)&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",placeholder:s==null?void 0:s.type_where_now}),e.jsx("button",{children:e.jsx(ss,{})})]})]}):""]})]}),e.jsxs("div",{className:"buttons-right",children:[e.jsx("button",{children:"Cancelar"}),e.jsxs("button",{className:`save ${i?"await":""}`,onClick:j,children:["Guardar ",e.jsx("div",{className:"loading"})]})]})]})]})}function Ss(){Z();const{UserInfo:s}=t.useContext(J),[a,c]=t.useState([]),[n,i]=t.useState([]),[l,o]=t.useState([]);t.useState([]),t.useState([]);const[p,u]=t.useState([]),[x,d]=t.useState([]);t.useState({});function h(r){var v;let m=new FormData;m.append("id_company",(v=s==null?void 0:s.company)==null?void 0:v.id_company),m.append("type",r),m.append("limit","5"),P.post(E+"/api/get/campaign",m,{withCredentials:!0}).then(f=>f.data).then(f=>{switch(r){case"sms":c(f.results);break;case"em":i(f.results);break}})}function g(){var m;let r=new FormData;r.append("id_company",(m=s==null?void 0:s.company)==null?void 0:m.id_company),r.append("limit","10"),P.post(E+"/api/get/templatesall",r,{withCredentials:!0}).then(v=>v.data).then(v=>{u(v)})}function j(){var m;let r=new FormData;r.append("id_company",(m=s==null?void 0:s.company)==null?void 0:m.id_company),P.post(E+"/api/get/surveys",r,{withCredentials:!0}).then(v=>v.data).then(v=>{d(v)})}return t.useEffect(()=>{h("em"),h("sms"),g(),j()},[]),e.jsxs(e.Fragment,{children:[e.jsx(ie,{visible:!0,children:"STATS"}),e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MI INICIO"}),e.jsx("span",{children:"Bienvenido a RadarSystems aca podras ver todas tus estadisticas y estados de tu cuenta"})]})}),e.jsx("div",{className:"body-stat",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total email marketing enviados"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"1"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total email transaccional enviados"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"12"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total campañas sms marketing"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"13"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total campañas sms transaccional"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"1"})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding hr",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Top's Campañas EMAIL"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]})})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding hr",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Top's Campañas SMS"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]})})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Email Marketing"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Campaña"}),e.jsx("td",{children:"Enviados"}),e.jsx("td",{children:"Devueltos"}),e.jsx("td",{children:"Leidos"}),e.jsx("td",{children:"Click"}),e.jsx("td",{children:"Rep. Spam"}),e.jsx("td",{children:"Opt. Out"}),e.jsx("td",{children:"Opt. Net"}),e.jsx("td",{children:e.jsx(re,{})})]}),n.map((r,m)=>e.jsxs("tr",{id:m,children:[e.jsxs("td",{children:[e.jsx("span",{children:r.name}),e.jsx("br",{}),le(r.time_add)]}),e.jsx("td",{children:r.send}),e.jsx("td",{children:r.returned}),e.jsx("td",{children:r.reads}),e.jsx("td",{children:r.clicks}),e.jsx("td",{children:r.clicks}),e.jsx("td",{children:r.clicks}),e.jsx("td",{children:r.clicks}),e.jsx("td",{children:e.jsx(O,{children:e.jsx(re,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Email Transaccional (MT)"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Campaña"}),e.jsx("td",{children:"Enviados"}),e.jsx("td",{children:"Devueltos"}),e.jsx("td",{children:"Leidos"}),e.jsx("td",{children:"Click"}),e.jsx("td",{children:"Rep. Spam"}),e.jsx("td",{children:"Opt. Out"}),e.jsx("td",{children:"Opt. Net"}),e.jsx("td",{children:e.jsx(re,{})})]}),n.map((r,m)=>e.jsxs("tr",{id:m,children:[e.jsxs("td",{children:[e.jsx("span",{children:r.name}),e.jsx("br",{}),le(r.time_add)]}),e.jsx("td",{children:r.send}),e.jsx("td",{children:r.returned}),e.jsx("td",{children:r.reads}),e.jsx("td",{children:r.clicks}),e.jsx("td",{children:r.clicks}),e.jsx("td",{children:r.clicks}),e.jsx("td",{children:r.clicks}),e.jsx("td",{children:e.jsx(O,{children:e.jsx(re,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Sms Marketing"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Campaña"}),e.jsx("td",{children:"Enviados"}),e.jsx("td",{children:"Devueltos"}),e.jsx("td",{children:"Recibidos"}),e.jsx("td",{children:"Click"}),e.jsx("td",{children:e.jsx(re,{})})]}),n.map((r,m)=>e.jsxs("tr",{id:m,children:[e.jsxs("td",{children:[e.jsx("span",{children:r.name}),e.jsx("br",{}),le(r.time_add)]}),e.jsx("td",{children:r.send}),e.jsx("td",{children:r.returned}),e.jsx("td",{children:r.reads}),e.jsx("td",{children:r.clicks}),e.jsx("td",{children:e.jsx(O,{children:e.jsx(re,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Sms Transaccional (MT)"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Campaña"}),e.jsx("td",{children:"Enviados"}),e.jsx("td",{children:"Devueltos"}),e.jsx("td",{children:"Recibidos"}),e.jsx("td",{children:"Click"}),e.jsx("td",{children:e.jsx(re,{})})]}),n.map((r,m)=>e.jsxs("tr",{id:m,children:[e.jsxs("td",{children:[e.jsx("span",{children:r.name}),e.jsx("br",{}),le(r.time_add)]}),e.jsx("td",{children:r.send}),e.jsx("td",{children:r.returned}),e.jsx("td",{children:r.reads}),e.jsx("td",{children:r.clicks}),e.jsx("td",{children:e.jsx(O,{children:e.jsx(re,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Whatsapp Marketing"}),e.jsx("span",{children:"Ve las campanas mas demandadas de whatsapp"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Campaña"}),e.jsx("td",{children:"Enviados"}),e.jsx("td",{children:"Devueltos"}),e.jsx("td",{children:"Recibidos"}),e.jsx("td",{children:"Click"}),e.jsx("td",{children:e.jsx(re,{})})]}),l.map((r,m)=>e.jsxs("tr",{id:m,children:[e.jsxs("td",{children:[e.jsx("span",{children:r.name}),e.jsx("br",{}),le(r.time_add)]}),e.jsx("td",{children:r.send}),e.jsx("td",{children:r.returned}),e.jsx("td",{children:r.reads}),e.jsx("td",{children:r.clicks}),e.jsx("td",{children:e.jsx(O,{children:e.jsx(re,{})})})]}))]}),l.length==0?e.jsx(me,{name:"Whatsapp"}):""]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Whatsapp Transaccional (MT)"}),e.jsx("span",{children:"Ve las campanas mas demandadas de whatsapp"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Campaña"}),e.jsx("td",{children:"Enviados"}),e.jsx("td",{children:"Devueltos"}),e.jsx("td",{children:"Recibidos"}),e.jsx("td",{children:"Click"}),e.jsx("td",{children:e.jsx(re,{})})]}),l.map((r,m)=>e.jsxs("tr",{id:m,children:[e.jsxs("td",{children:[e.jsx("span",{children:r.name}),e.jsx("br",{}),le(r.time_add)]}),e.jsx("td",{children:r.send}),e.jsx("td",{children:r.returned}),e.jsx("td",{children:r.reads}),e.jsx("td",{children:r.clicks}),e.jsx("td",{children:e.jsx(O,{children:e.jsx(re,{})})})]}))]}),l.length==0?e.jsx(me,{name:"Whatsapp"}):""]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Plantillas Creadas"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsx("div",{className:"result-go",children:p.map((r,m)=>e.jsxs("div",{className:"i",children:[e.jsxs("div",{className:"left",children:[e.jsx("p",{className:"name",children:r.title}),e.jsx("span",{className:"date",children:le(r.time_add)})]}),e.jsx("div",{className:"right",children:e.jsxs("button",{children:[e.jsx(ye,{})," Ver "]})})]}))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Encuestas"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsx("div",{className:"result-go",children:x.map((r,m)=>e.jsxs("div",{className:"i",children:[e.jsxs("div",{className:"left",children:[e.jsx("p",{className:"name",children:r.header.title}),e.jsx("span",{className:"date",children:le(r.time_add)})]}),e.jsx("div",{className:"right",children:e.jsxs("button",{children:[e.jsx(ye,{})," Ver"]})})]}))})]})})]})})]})}function ki(){const s=Z(),a=ne(),c=Me(),{UserInfo:n}=t.useContext(J);t.useState(null);const[i,l]=t.useState([]),[o,p]=t.useState(!0);function u(x=void 0){var h;let d=new FormData;p(!0),d.append("id_company",(h=n==null?void 0:n.company)==null?void 0:h.id_company),d.append("id_campaign",a.id),x!==void 0&&d.append("type",x),P.post(E+"/api/get/detailsends",d,{withCredentials:!0}).then(g=>g.data).then(g=>{l(g),p(!1)})}return t.useEffect(()=>{u()},[]),t.useEffect(()=>{let x=new URLSearchParams(c.search).get("where");x&&u(x)},[c]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Estadisticas de campaña: ",a==null?void 0:a.id]}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"go-wizard",onClick:x=>{s("/campaigns/stats/"+a.id)},children:e.jsx(Re,{})}),e.jsx("button",{className:"go-wizard",onClick:x=>{s("/campaigns/stats/"+a.id)},children:"Crear Segmento"}),e.jsx("button",{className:"go-wizard",onClick:x=>{s("/campaigns/stats/"+a.id)},children:"Descargar"})]})]}),e.jsx("div",{className:"menu-top",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(O,{to:`/campaigns/stats/detail/${a.id}`,children:"General"})}),e.jsx("li",{children:e.jsx(O,{to:`/campaigns/stats/detail/${a.id}?where=error`,children:"Errores"})}),e.jsx("li",{children:e.jsx(O,{to:`/campaigns/stats/detail/${a.id}?where=clicks`,children:"Clicks"})}),e.jsx("li",{children:e.jsx(O,{to:`/campaigns/stats/detail/${a.id}?where=reads`,children:"Leidos"})})]})}),e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Resultados de busqueda"}),e.jsx("span",{children:"Te mostraremos el listado detallado de tus envios"})]}),e.jsx("div",{className:"control-scroll stats-detail",children:e.jsx("div",{className:"row",children:e.jsx($s,{hasMore:!0,dataLength:10,children:i.map((x,d)=>e.jsx("div",{className:"item flex",children:e.jsx("div",{children:e.jsx("span",{children:x.email})})}))})})})]})]})}function Si(){const s=Z(),[a,c]=t.useState(!1),[n,i]=t.useState([]),{UserInfo:l}=t.useContext(J);function o(){var u;let p=new FormData;p.append("id_company",(u=l==null?void 0:l.company)==null?void 0:u.id_company),P.post(E+"/api/get/templatesall",p,{withCredentials:!0}).then(x=>x.data).then(x=>{i(x)})}return t.useEffect(()=>{o()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"BOLETINES ELECTRONICOS"}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:p=>{s("/editor/canvas")},children:"Crear Nuevo Boletin"})})]}),e.jsx("div",{className:"row",children:a==!1?n.map((p,u)=>{var x;return e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${is((x=l==null?void 0:l.company)==null?void 0:x.folder_sftp,p.preview_image)})`},children:e.jsx("div",{className:"right-top",children:e.jsx("button",{onClick:d=>{s(`/landing/${p.token}`)},children:e.jsx(ye,{})})})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:p==null?void 0:p.title}),e.jsxs("span",{children:["Boletin agregado el: ",le(p.time_add)]})]})]})},u)}):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(je,{})})})})]})}q(document).on("click",".settings-account .case .info button",function(s){s.preventDefault(),s.stopImmediatePropagation();let a=q(this).parents(".case");q(".settings-account .case.active").removeClass("active"),a.addClass("active")});function Ei(){q(".settings-account .case.active").removeClass("active")}function _i(){const{UserInfo:s}=t.useContext(J),[a,c]=t.useState({}),[n,i]=t.useState(),[l,o]=t.useState({photo:""});function p(d){let h=d.nativeEvent.target.files;if(h.length){let g=h[0];if(g.type.indexOf("image")>=0){c(g);let j=URL.createObjectURL(g);i(j)}}}function u(d){q("input[name='photo']").val(""),i(""),c({})}function x(){var h;let d=new FormData;d.append("file",a),d.append("id_company",(h=s==null?void 0:s.company)==null?void 0:h.id_company),o({photo:"await"}),P.post(E+"/api/upload/newphoto",d,{withCredentials:!0}).then(g=>g.data).then(g=>{g.status&&(q(".header-top .body  img").attr("src",n),Ei(),c({}),ve.success("Has cambiado correctamente la foto de perfil")),o({photo:""})}).catch(g=>{o({photo:""})})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"settings-account",children:e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Establece una foto de perfil"}),e.jsx("span",{children:"cambia la foto de perfil y integra una foto con tu logo o algo de tu marca"}),e.jsx("button",{children:"Cambiar"})]}),e.jsx("div",{className:"action",children:e.jsxs("div",{className:"change-photo",children:[e.jsx("div",{className:"photo",style:{background:`url(${n||ns(s)})`}}),e.jsx("div",{className:"buttons",children:a!=null&&a.name?e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:l.photo,onClick:x,children:["Guardar ",e.jsx("div",{className:"loading"})]}),e.jsx("button",{onClick:u,children:"Cancelar"})]}):e.jsxs("button",{onClick:d=>{q("input[name='photo']").click()},children:["Subir ",e.jsx("i",{children:e.jsx(La,{})})," "]})}),e.jsx("input",{type:"file",name:"photo",onChange:p,hidden:!0})]})})]})})})}function Fi(){const[s,a]=t.useState([]),[c,n]=t.useState({domain:"",domain_email:""}),[i,l]=t.useState(!1),{UserInfo:o}=t.useContext(J),[p,u]=t.useState(!1),[x,d]=t.useState(!1);function h(r){let m=r.target.name,v=r.target.value;n({...c,[m]:v})}function g(){var m;let r=new FormData;l(!0),r.append("domain",c.domain),r.append("domain_email",c.domain_email),r.append("id_company",(m=o==null?void 0:o.company)==null?void 0:m.id_company),P.post(E+"/api/upload/domain",r,{withCredentials:!0}).then(v=>v.data).then(v=>{l(!1),v.status&&u(!1),v.msg&&ve.error(v.msg)}).catch(v=>{l(!1)})}function j(){var m;let r=new FormData;r.append("id_company",(m=o==null?void 0:o.company)==null?void 0:m.id_company),P.post(E+"/api/get/domains",r,{withCredentials:!0}).then(v=>v.data).then(v=>{a(v)})}return t.useEffect(()=>{j()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(ie,{visible:p,callback:u,maxWidth:"300px",onClick:g,Pending:i,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Agregar"}),e.jsx("span",{children:"agrega un nuevo dominio, el dominio quedara en verificacion para poder ser utilizado"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Dominio destinatario"}),e.jsx("input",{type:"text",name:"domain",onChange:h,placeholder:"dominio.com"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo del dominio"}),e.jsx("input",{type:"text",name:"domain_email",onChange:h,placeholder:"example@dominio.com"})]})]}),e.jsx($e,{visible:x,callback:d,onClick:"",Pending:""}),e.jsx("div",{className:"settings-account",children:e.jsxs("div",{className:"case active",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Dominios"}),e.jsx("span",{children:"Estos dominios son los que has configurado para ser manejados en tu campanas de envios email"}),e.jsx("button",{onClick:r=>{u(!0)},children:"Agregar Dominio"})]}),e.jsxs("div",{className:"action",children:[e.jsx("div",{className:"row domains",children:s.map((r,m)=>e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"domain",children:[e.jsxs("p",{children:[e.jsx(Aa,{}),"  ",r.domain]}),e.jsx("span",{children:r.domain_email}),e.jsx("br",{}),e.jsxs("span",{children:["Estatus: ",r.status?e.jsx(Oa,{}):e.jsx(Ma,{})]}),e.jsxs("div",{className:"buttons",children:[e.jsx("button",{children:e.jsx(re,{})}),e.jsx("button",{children:e.jsx(te,{})})]})]})}))}),s.length==0?e.jsx(me,{name:"dominios"}):""]})]})})]})}function Di(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading-modal",children:e.jsx("div",{className:"circle"})})})}function Pi(){const s=Z(),a=ne(),[c,n]=t.useState([]),[i,l]=t.useState(!1),{UserInfo:o}=t.useContext(J),[p,u]=t.useState(),[x,d]=t.useState([]),[h,g]=t.useState({width:"",left:""}),[j,r]=t.useState("gl"),[m,v]=t.useState(!0),[f,C]=t.useState(),[b,k]=t.useState(!1),[F,w]=t.useState({csv:!1,json:!1});function S(){var _;let N=new FormData;N.append("id_list",a.id),N.append("id_company",(_=o==null?void 0:o.company)==null?void 0:_.id_company),P.post(E+"/api/get/logslists",N,{withCredentials:!0}).then(y=>y.data).then(y=>{y.length&&n(y)}).catch(y=>{})}function A(N,_=!1,y=null,z=!1,H=null){var ce;C(!0),_||(v(!1),l(!0),u(N),d([]),y!=="error"&&z!==!0&&(g({width:"70",left:"10"}),r("gl")));let U=new FormData;U.append("id_list",a.id),U.append("id_company",(ce=o==null?void 0:o.company)==null?void 0:ce.id_company),U.append("detail",N),x.length&&_&&U.append("last_id",x.slice(-1)[0].id_log),z&&U.append("download",H),y!==null&&U.append("type",y),P.post(E+"/api/get/logslists",U,{withCredentials:!0}).then(W=>W.data).then(W=>{if(z){w({...F,[H]:!0});const R=new Blob([JSON.stringify(W)],{type:z=="json"?"application/json":"text/csv"}),D=URL.createObjectURL(R),T=document.createElement("a");T.href=D,T.setAttribute("download",`upload-${p}-list-${a.id}.json`),document.body.appendChild(T),T.click(),document.body.removeChild(T),setTimeout(()=>{w({...F,[H]:!1})},1e3)}v(!0),C(!1),d(_===!1?W:R=>[...R,...W])}).catch(W=>{C(!1)})}t.useEffect(()=>{S()},[]),t.useEffect(()=>{i&&(j=="error"&&A(p,!1,"error"),j=="gl"&&A(p,!1),j=="dw"?k(!0):k(!1))},[j]);function L(N){let _=N.target.value;r(_),g(y=>({...y,width:N.target.offsetWidth,left:N.target.offsetLeft}))}return e.jsxs(e.Fragment,{children:[e.jsxs(ie,{visible:i,callback:l,maxWidth:"500px",minWidth:"500px",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Detalles"}),e.jsxs("span",{children:["detalles de la subida: ",p]})]}),e.jsx("div",{className:"menu-change",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("button",{className:`${j=="gl"?"active":""}`,onClick:L,value:"gl",style:{fontSize:"13px"},children:"Global"})}),e.jsx("li",{children:e.jsx("button",{className:`${j=="error"?"active":""}`,onClick:L,value:"error",style:{fontSize:"13px"},children:"Errores"})}),e.jsx("li",{children:e.jsx("button",{className:`${j=="dw"?"active":""}`,onClick:L,value:"dw",style:{fontSize:"13px"},children:"Descargar"})}),e.jsx("div",{className:"hover",style:{left:h.left+"px",width:h.width+"px"}})]})}),b?e.jsx(e.Fragment,{children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descargar logs"}),e.jsxs("span",{children:["Puedes descargar los logs de esta subida ",p," mediante un archivo csv / json"]}),e.jsxs("div",{className:"actions-item complete",children:[e.jsxs("button",{className:`download ${F.csv?"await":""}`,onClick:N=>{A(p,!1,null,!0,"json")},children:["Descargar CSV ",e.jsx("div",{className:"loading"})]}),e.jsxs("button",{className:`download ${F.json?"await":""}`,onClick:N=>{A(p,!1,null,!0,"json")},children:["Descargar JSON ",e.jsx("div",{className:"loading"})]})]})]})})})})}):e.jsx("div",{className:"data",children:e.jsx($s,{scrollableTarget:"scrollableDiv",hasMore:m,next:()=>{A(p,!0)},dataLength:x.length,children:e.jsx("div",{className:"control-scroll lists-detail",id:"scrollableDiv",children:e.jsxs("div",{className:"row",children:[x==null?void 0:x.map((N,_)=>e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"item box box-padding",children:e.jsxs("div",{className:"top",children:[e.jsxs("span",{children:["Correo: ",N.email?N.email:"No aplica"]}),e.jsx("br",{}),e.jsxs("span",{children:["Telefono: ",N.phone?N.phone:"No aplica"]}),e.jsx("br",{}),e.jsxs("span",{children:["Calidad de subida: ",N.error?"error":"success"]})]})})})),f?e.jsx(Di,{}):"",(x==null?void 0:x.length)===0&&f===!1?e.jsx(me,{name:j=="gl"?"registros":"errores"}):""]})})})})]},i?"Xd":"x"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Logs de lista: ",a.id]}),e.jsx("span",{children:"Ve los detalle de tus listas y ve si estan listas para ser utilizadas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:N=>{s("/contacts/detail/"+a.id)},children:e.jsx(Re,{})})})]}),e.jsx("div",{className:"row",children:c.map((N,_)=>e.jsx("div",{className:"col-md-4  page-lists",children:e.jsx("div",{className:"box box-padding ",children:e.jsxs("div",{className:"item flex-wrap",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/upload_arrow2.webp",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:["Subida: ",e.jsx("b",{children:N.id_upload})]}),e.jsxs("span",{className:"desc",children:["Fecha: ",le(N.time_add,"full")]}),e.jsx("br",{}),e.jsxs("span",{className:"desc",children:["Fecha de finalización: ",le(N.time_finish,"full")]}),e.jsx("br",{}),e.jsxs("span",{className:"desc",children:["Contactos Subidos: 1",N==null?void 0:N.contacts_total]}),e.jsx("br",{}),e.jsx("span",{className:"desc",children:"Calidad de subida:"}),N!=null&&N.insert?e.jsxs("span",{className:"quality-upload good",children:[e.jsx(Ne,{})," Muy Buena"]}):N!=null&&N.error?e.jsxs("span",{className:"quality-upload error",children:[" ",e.jsx(Ra,{})," Regular / Mala"]}):e.jsxs("span",{className:"quality-upload await",children:[" ",e.jsx(Ke,{})," En espera... "]})]})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{onClick:y=>{A(N.id_upload)},children:e.jsx(fe,{})})})]})})},_))})]})}function Ti(){return e.jsxs(e.Fragment,{children:[e.jsx($a,{}),e.jsx(za,{children:e.jsxs(Ba,{children:[e.jsx(B,{path:"/",element:e.jsx(Qa,{})}),e.jsx(B,{path:"/register",element:e.jsx(Ia,{})}),e.jsx(B,{path:"/wizard",element:e.jsx(gt,{})}),e.jsx(B,{path:"/settings-account/account",element:e.jsx(G,{CompanyNeed:!0,Element:_i})}),e.jsx(B,{path:"/settings-account/security",element:e.jsx(G,{CompanyNeed:!0,Element:Te})}),e.jsx(B,{path:"/settings-account/footer",element:e.jsx(G,{CompanyNeed:!0,Element:Te})}),e.jsx(B,{path:"/settings-account/domains",element:e.jsx(G,{CompanyNeed:!0,Element:Fi})}),e.jsx(B,{path:"/",element:e.jsx(G,{CompanyNeed:!0,Element:Ss})}),e.jsx(B,{path:"/home",element:e.jsx(G,{CompanyNeed:!0,Element:Ss})}),e.jsx(B,{path:"/campaigns",element:e.jsx(G,{CompanyNeed:!0,Element:Te})}),e.jsx(B,{path:"/campaigns/em",element:e.jsx(G,{CompanyNeed:!0,Element:Te})}),e.jsx(B,{path:"/campaigns/sms",element:e.jsx(G,{CompanyNeed:!0,Element:Te})}),e.jsx(B,{path:"/campaigns/sms-mt",element:e.jsx(G,{CompanyNeed:!0,Element:Te})}),e.jsx(B,{path:"/campaigns/em-mt",element:e.jsx(G,{CompanyNeed:!0,Element:Te})}),e.jsx(B,{path:"/campaigns/new",element:e.jsx(G,{CompanyNeed:!0,Element:Te})}),e.jsx(B,{path:"/campaigns/stats/:id",element:e.jsx(G,{CompanyNeed:!0,Element:yi})}),e.jsx(B,{path:"/campaigns/stats/detail/:id",element:e.jsx(G,{CompanyNeed:!0,Element:ki})}),e.jsx(B,{path:"/campaigns/detail/:id",element:e.jsx(G,{CompanyNeed:!0,Element:St})}),e.jsx(B,{path:"/companys",element:e.jsx(G,{CompanyNeed:!1,Element:js})}),e.jsx(B,{path:"/companys/add",element:e.jsx(G,{CompanyNeed:!1,Element:js})}),e.jsx(B,{path:"/companys/roles",element:e.jsx(G,{CompanyNeed:!0,Element:Ct})}),e.jsx(B,{path:"/companys/users",element:e.jsx(G,{CompanyNeed:!0,Element:bt})}),e.jsx(B,{path:"/contacts/lists",element:e.jsx(G,{CompanyNeed:!0,Element:vs})}),e.jsx(B,{path:"/contacts/lists/logs/:id",element:e.jsx(G,{CompanyNeed:!0,Element:Pi})}),e.jsx(B,{path:"/contacts/lists/:type",element:e.jsx(G,{CompanyNeed:!0,Element:vs})}),e.jsx(B,{path:"/contacts/detail/:id",element:e.jsx(G,{CompanyNeed:!0,Element:Pt})}),e.jsx(B,{path:"/contacts/upload/:id",element:e.jsx(G,{CompanyNeed:!0,Element:qt})}),e.jsx(B,{path:"/contacts/segments",element:e.jsx(G,{CompanyNeed:!0,Element:Ci})}),e.jsx(B,{path:"/contacts/segments/add",element:e.jsx(G,{CompanyNeed:!0,Element:wi})}),e.jsx(B,{path:"/contacts",element:e.jsx(G,{CompanyNeed:!0,Element:xi})}),e.jsx(B,{path:"/editor/canvas/:id",element:e.jsx(G,{CompanyNeed:!0,Element:fs})}),e.jsx(B,{path:"/editor/canvas/",element:e.jsx(G,{CompanyNeed:!0,Element:fs})}),e.jsx(B,{path:"/surveys",element:e.jsx(G,{CompanyNeed:!0,Element:Lt})}),e.jsx(B,{path:"/surveys/editor",element:e.jsx(G,{CompanyNeed:!0,Element:Ns})}),e.jsx(B,{path:"/surveys/editor/:idsurvey",element:e.jsx(G,{CompanyNeed:!0,Element:Ns})}),e.jsx(B,{path:"/stats/survey/:id",element:e.jsx(G,{CompanyNeed:!0,Element:Wt})}),e.jsx(B,{path:"/stats/survey/:id/detail",element:e.jsx(G,{CompanyNeed:!0,Element:Qt})}),e.jsx(B,{path:"/stats/survey/:id/response",element:e.jsx(G,{CompanyNeed:!0,Element:It})}),e.jsx(B,{path:"/surveys/preview",element:e.jsx(ys,{})}),e.jsx(B,{path:"/surveys/preview/:id",element:e.jsx(ys,{})}),e.jsx(B,{path:"/survey/:id",element:e.jsx(Vt,{})}),e.jsx(B,{path:"/shorturls",element:e.jsx(G,{CompanyNeed:!0,Element:Cs})}),e.jsx(B,{path:"/shorturls/add",element:e.jsx(G,{CompanyNeed:!0,Element:Cs})}),e.jsx(B,{path:"/shorturls/:id",element:e.jsx(G,{CompanyNeed:!0,Element:Ht})}),e.jsx(B,{path:"/shorturls/campaigns",element:e.jsx(G,{CompanyNeed:!0,Element:bs})}),e.jsx(B,{path:"/shorturls/campaigns/add",element:e.jsx(G,{CompanyNeed:!0,Element:bs})}),e.jsx(B,{path:"/shorturls/campaigns/:id",element:e.jsx(G,{CompanyNeed:!0,Element:Jt})}),e.jsx(B,{path:"/qr",element:e.jsx(G,{CompanyNeed:!0,Element:es})}),e.jsx(B,{path:"/qr/add",element:e.jsx(G,{CompanyNeed:!0,Element:es})}),e.jsx(B,{path:"/qr/import",element:e.jsx(G,{CompanyNeed:!0,Element:es})}),e.jsx(B,{path:"/domains",element:e.jsx(G,{CompanyNeed:!0,Element:bi})}),e.jsx(B,{path:"/editor/buttons",element:e.jsx(G,{CompanyNeed:!0,Element:ws})}),e.jsx(B,{path:"/editor/buttons/:id",element:e.jsx(G,{CompanyNeed:!0,Element:ws})}),e.jsx(B,{path:"/buttons/:id",element:e.jsx(ni,{})}),e.jsx(B,{path:"/buttons",element:e.jsx(G,{CompanyNeed:!0,Element:gi})}),e.jsx(B,{path:"/stats/buttons/:id",element:e.jsx(G,{CompanyNeed:!0,Element:Ni})}),e.jsx(B,{path:"/editor/buttonsqr",element:e.jsx(G,{CompanyNeed:!0,Element:ks})}),e.jsx(B,{path:"/editor/buttonsqr/:id",element:e.jsx(G,{CompanyNeed:!0,Element:ks})}),e.jsx(B,{path:"/buttonsqr",element:e.jsx(G,{CompanyNeed:!0,Element:vi})}),e.jsx(B,{path:"/buttonsqr/:id",element:e.jsx(fi,{})}),e.jsx(B,{path:"/test",element:e.jsx(Gt,{})}),e.jsx(B,{path:"/recovery",element:e.jsx(pi,{})}),e.jsx(B,{path:"/editor/landings",element:e.jsx(hi,{})}),e.jsx(B,{path:"/landings",element:e.jsx(G,{CompanyNeed:!0,Element:ui})}),e.jsx(B,{path:"/landing/:id",element:e.jsx(ji,{})}),e.jsx(B,{path:"/templates",element:e.jsx(G,{CompanyNeed:!0,Element:Si})})]})})]})}const qi=t.createContext(),Li=s=>{const[a,c]=t.useState({});return e.jsx(qi.Provider,{value:{App:a,setApp:c},...s})},Ai=t.createContext();function Oi(s){const[a,c]=t.useState();return t.useEffect(()=>{document.title=a},[a]),t.useEffect(()=>{c("Radarsystems - App")},[]),e.jsx(Ai.Provider,{value:{setTitle:c},...s})}Va.createRoot(document.getElementById("root")).render(e.jsx(Wa.StrictMode,{children:e.jsx(et,{children:e.jsx(st,{children:e.jsx(Li,{children:e.jsx(Oi,{children:e.jsx(Ti,{})})})})})}));
