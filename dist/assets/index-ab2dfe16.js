import{a as T,$ as M,r as a,j as e,u as Y,L as z,n as A,I as ss,b as Ys,c as ls,d as Ks,e as ae,f as be,g as Me,h as ye,_ as he,i as Zs,k as Us,M as me,V as ea,l as ts,m as Xe,o as sa,p as de,q as aa,s as js,t as K,v as ta,w as ia,x as na,y as la,z as qe,A as ue,B as Ce,C as ra,D as ds,E as ca,F as da,G as Je,H as Oe,J as oa,K as Fe,N as pa,O as ma,P as re,Q as Re,R as Ee,S as ha,T as ua,U as xa,W as ja,X as Ps,Y as ga,Z as va,a0 as fa,a1 as Na,a2 as ya,a3 as ba,a4 as as,a5 as Ca,a6 as wa,a7 as ka,a8 as Sa,a9 as Ae,aa as $e,ab as os,ac as _a,ad as qs,ae as Ls,af as Rs,ag as Ms,ah as Os,ai as As,aj as $s,ak as zs,al as Bs,am as Vs,an as Ea,ao as gs,ap as Fa,aq as rs,ar as Da,as as Ta,at as Pa,au as qa,av as La,aw as vs,ax as Qs,ay as Ra,az as Ma,aA as Oa,aB as Aa,aC as $a,aD as za,aE as Ba,aF as Va,aG as Q,aH as Qa,aI as Wa}from"./vendor-7eef4f3b.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const n of c)if(n.type==="childList")for(const p of n.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function l(c){const n={};return c.integrity&&(n.integrity=c.integrity),c.referrerPolicy&&(n.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?n.credentials="include":c.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(c){if(c.ep)return;c.ep=!0;const n=l(c);fetch(c.href,n)}})();const _="https://api.radarsystems.net",es="https://radarsystems.net";function Ha(s){let t;switch(s){case"sms":t="sms";break;case"em":case"em-mt":t="em";break}return t}async function Ia(s){return await T.get(_+"/api/get/company?id_company="+s,{withCredentials:!0}).then(l=>l.data)}async function Ga(){return await T.post(_+"/api/get/companys",{},{withCredentials:!0}).then(s=>s.data)}function Se(s){return window.location.pathname.includes(s)}function cs(s){let t=document.cookie;t=t.split(";");let l;return t.forEach((i,c)=>{i.indexOf(`${s}=`)>=0&&(l=i.replace(`${s}=`,""))}),l}function Ja(s){const t=new URLSearchParams(window.location.search);return t.has(s)?t.get(s):null}function Ze(s,t,l=!1){var i=new Date;l?i.setTime(i.getTime()-1):i.setDate(i.getDate()+10);var c=s+"="+encodeURIComponent(t)+"; expires="+i.toUTCString()+"; path=/";document.cookie=c}function is(s){M(s).addClass("await")}function ke(s){M(s).removeClass("await")}function _e(s=15){return Math.random().toString(36).substring(2,s+2)}function Xa(s){let t=!1;return s.type.indexOf("image")>=0&&(t=!0),t}function Ya(s,t){return new Promise((l,i)=>{try{let c=s.target.files[0],n={file:"",analize:""},p=new FileReader;p.onload=async function(m){let u=!0,d=m.currentTarget.result.split(`
`),r=d[0].split(","),h=!1;r.forEach(g=>{(g=="email"||g=="phone")&&(h=!0)}),h?await(async()=>{for(var v=1;v<d.length;v++){let o=r.length,x=d[v].split(",").length;o!==x&&(u=!1);let j=(v+1)/d.length*100;j%5===0&&await new Promise(f=>setTimeout(()=>{t(j),f()},0))}u?(n.analize="good",n.file=c,l(n)):(n.analize="bad",i(n))})():(n.analize="bad",i(n))},p.readAsText(c)}catch{response.analize="bad",i(response)}})}function ps(s,t){return`${_}/api/get/imgtemplate?img=${t}&folder=${s}`}function ce(s,t=void 0){const l=new Date(s*1e3),i=l.getDate(),c=l.getMonth()+1,n=l.getFullYear(),p=l.getHours(),m=l.getMinutes();switch(t){case"full":var u=`${i}/${c}/${n} ${p}:${m}`;break;default:var u=`${i}/${c}/${n}`;break}return u}function Ws(s){return s?s=String(s).toLowerCase():s="undefined",s=="undefined"?window.location.origin+"/img/icons/countrys/"+s+".png":window.location.origin+"/img/icons/countrys/"+s+".svg"}function Hs(s){let t;switch(s&&(s=String(s).toLocaleLowerCase()),s){case"ve":t="Venezuela";break;case"ca":t="Canada";break;default:t="Undefined";break}return t}function Ka(s){return s!==void 0&&(s=String(s).toLowerCase()),(s.indexOf("mac")>=0||s.indexOf("apple")>=0)&&(s="apple"),s.indexOf("windows")>=0&&(s="windows"),s.indexOf("linux")>=0&&(s="linux"),s.indexOf("android")>=0&&(s="android"),s!=="windows"&&s!=="apple"&&s!=="android"&&s!=="linux"&&(s="undefined"),"/img/icons/systems/"+s+".png"}function Za(s){return"/img/icons/apps/"+s+".png"}function Ue(s){return _+"/api/get/previewqr?url="+s}function Ua(s){return{fb:"Facebook",in:"Instagram",x:"X (Twitter)",email:"Correo",sms:"Sms",tik:"Tiktok",linkd:"Linkedin",yt:"Youtube",tele:"Telegram",ws:"Whatsapp",others:"Otros"}[s]||""}function et(s){return!!/^[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(s)}function ms(s){var l,i;let t;return(l=s==null?void 0:s.company)!=null&&l.photo?t=_+"/api/get/photoprofile?hash="+((i=s==null?void 0:s.company)==null?void 0:i.photo):t="img/icons/default_profile.png",t}function fs(s){return s>=1&&s<=9?"0"+s:s.toString()}function st(s,t){return s.length>t?s.substring(0,t)+"...":s}const X=a.createContext(),at=s=>{const[t,l]=a.useState({}),[i,c]=a.useState(!1),[n,p]=a.useState(!0);return a.useEffect(()=>{function m(u){if(u){let d=new FormData;d.append("id_company",u),T.post(_+"/api/get/company",d,{withCredentials:!0}).then(r=>r.data).then(r=>{l(h=>{let g={...h};return g.company=r,g})})}else window.location.href="/companys"}(async function(){cs("token");let u=window.location.pathname,d=cs("company");await T.get(_+"/api/get/my",{withCredentials:!0}).then(r=>r.data).then(r=>{r.id_admin?(c(!0),l(r),m(d??(r==null?void 0:r.company_default)??null),p(!1)):(u!=="/"&&u!=="/auth"&&!u.startsWith("/buttonsqr/")&&(window.location.href="/"),setTimeout(()=>{p(!1)},500))})})()},[]),e.jsx(X.Provider,{value:{UserInfo:t,setUserInfo:l,Auth:i,LoadingAuth:n},...s})};function tt(){let s=Y();const[t,l]=a.useState({user:"",password:""}),{UserInfo:i}=a.useContext(X);function c(p){p.stopPropagation(),p.preventDefault(),M(p.target).addClass("await"),t.password&&t.user?T.post(_+"/api/auth/login",t,{withCredentials:!0}).then(m=>m.data).then(m=>{m.status&&(window.location.href="/home"),m.msg&&A.error(m.msg),M(p.target).removeClass("await")}).catch(m=>{A.error(String(m)),M(p.target).removeClass("await")}):M(p.target).removeClass("await")}function n(p){l({...t,[p.target.name]:p.target.value})}return a.useEffect(()=>{i!=null&&i.id_admin&&s("/home")},[i]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"row auth",children:[e.jsxs("div",{className:"col-auth-left",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"img/icons/logo-l1.png",alt:""})}),e.jsxs("div",{className:"align",children:[e.jsxs("span",{className:"title-welcome",children:["Bienvenido de nuevo. ",e.jsx("br",{})," Inicia ahora."]}),e.jsxs("span",{className:"text-register",children:["¿Aun no tienes cuenta?, ",e.jsx(z,{to:"/register",children:"Registrate ahora"})]}),e.jsxs("form",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Usuario"}),e.jsx("input",{type:"text",name:"user",onChange:n})]}),e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{children:["Password",e.jsx(z,{className:"forgot",to:"/recovery",children:"¿Olvidó?"})]}),e.jsx("input",{type:"password",name:"password",onChange:n})]}),e.jsx("span",{}),e.jsxs("button",{className:"sign",onClick:c,children:["INICIAR SESION ",e.jsx("div",{className:"loading"})]})]})]})]}),e.jsx("div",{className:"col-auth-right right",children:e.jsx("div",{className:"align",children:e.jsx("div",{className:"carousel",children:e.jsxs("div",{className:"item",children:[e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestiae perspiciatis nulla commodi accusamus. Reprehenderit, earum quibusdam laboriosam aliquam dolore ullam doloremque ratione possimus ex neque minus velit iste suscipit odit!"}),e.jsx("img",{src:"img/auth/People-welcome.png"})]})})})})]})})}function it(){const[s,t]=a.useState({user:"",email:"",password:"",rpassword:""}),{UserInfo:l}=a.useContext(X),i=Y();function c(p){p.stopPropagation();let m=p.target.name,u=p.target.value;t({...s,[m]:u})}function n(p){p.stopPropagation(),p.preventDefault(),M(p.target).addClass("await"),T.post(_+"/api/auth/register",s,{withCredentials:!0}).then(m=>m.data).then(m=>{m.msg&&A.error(m.msg),m.status&&A.success("Cuenta registrada inicia sesion."),i("/"),M(p.target).removeClass("await")}).catch(m=>{M(p.target).removeClass("await")})}return a.useEffect(()=>{l!=null&&l.id_admin&&i("/home")},[l]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"row auth",children:[e.jsxs("div",{className:"col-auth-left",children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"img/icons/logo-l1.png",alt:""})}),e.jsxs("div",{className:"align",children:[e.jsxs("span",{className:"title-welcome",children:["Bienvenido.",e.jsx("br",{})," Registrate ahora!."]}),e.jsxs("span",{className:"text-register",children:["¿Opps ya tienes una cuenta?, ",e.jsx(z,{to:"/",children:"Ingresar"})]}),e.jsxs("form",{className:"form",onChange:c,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Usuario"}),e.jsx("input",{type:"text",name:"user"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo"}),e.jsx("input",{type:"text",name:"email"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Contraseña"}),e.jsx("input",{type:"password",name:"password"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Repite Contraseña"}),e.jsx("input",{type:"password",name:"rpassword"})]}),e.jsx("span",{}),e.jsxs("button",{className:"sign",onClick:n,children:["REGISTRARSE",e.jsx("div",{className:"loading"})]})]})]})]}),e.jsx("div",{className:"col-auth-right right",children:e.jsx("div",{className:"align",children:e.jsx("div",{className:"carousel",children:e.jsxs("div",{className:"item",children:[e.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Molestiae perspiciatis nulla commodi accusamus. Reprehenderit, earum quibusdam laboriosam aliquam dolore ullam doloremque ratione possimus ex neque minus velit iste suscipit odit!"}),e.jsx("img",{src:"img/auth/People-welcome.png"})]})})})})]})})}const oe=a.createContext(),nt=s=>{const[t,l]=a.useState(0),{Auth:i,UserInfo:c}=a.useContext(X),[n,p]=a.useState({type:"",company:"",loading:!0,process:{}});function m(h,g){switch(g){case"active":M(h).addClass("await");break;case"remove":M(h).removeClass("await");break}}function u(h,g){h.stopPropagation();let v=M(h.target);v.parents(".selector").find(".active").removeClass("active"),v.addClass("active"),g(h.target.value)}function d(h,g){h.stopPropagation();let v=M(h.target);v.parents(".items-result").find(".active").removeClass("active"),v.addClass("active"),g(M(h.target).attr("value"))}function r(){l(t-1)}return a.useEffect(()=>{i&&async function(){if(c.company_default){let h=await Ia(c.company_default);p({...n,loading:!1,company:h})}else p({...n,loading:!1})}()},[i]),a.useEffect(()=>{p(h=>({...h,tutorial_wizard:c.tutorial_wizard}))},[c]),e.jsx(oe.Provider,{value:{Prev:r,wizard:n,SelectorItem:d,AwaitButton:m,Selector:u,setWizard:p,position:t,setPosition:l},...s})};function xe({Next:s}){const{setPosition:t,position:l}=a.useContext(oe),{wizard:i,setWizard:c}=a.useContext(oe),[n,p]=a.useState({});function m(){t(l-1)}return a.useEffect(()=>{i.company&&p(i.company)},[i]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"buttons-action ",children:[(n==null?void 0:n.name)!==void 0?e.jsx(e.Fragment,{children:e.jsxs("button",{className:"button-company",children:[e.jsx("img",{src:"img/icons/default_profile.png",alt:""}),n.name]})}):"",e.jsx("button",{className:"prev",onClick:m,children:"<"}),e.jsxs("button",{className:"next",onClick:s,children:["Siguiente ",e.jsx("div",{className:"loading"})]})]})})}function lt(){function s(){}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left"}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Subir contactos"}),e.jsx("span",{className:"desc",children:"Sube tus contactos a la lista."})]}),e.jsx("div",{}),e.jsx(xe,{Next:s})]})]})})}function rt(){const{wizard:s,setWizard:t,setPosition:l,AwaitButton:i}=a.useContext(oe),[c,n]=a.useState(!1),[p,m]=a.useState({name:""});function u(r){if(c)l(h=>h+1);else{i(r.target,"active");let h=new FormData;h.append("name",p.name),h.append("id_company",s.company.id_company),s.type=="email"?h.append("type_c","email"):s.type=="sms"&&h.append("type_c","sms"),T.post(_+"/api/upload/list",h,{withCredentials:!0}).then(g=>g.data).then(g=>{g.status&&(A.success("Lista creada existosamente!"),l(v=>v+1),n(!0),g.id_list&&t(v=>({...v,process:{...v.process,id_list:g.id_list}}))),g.msg&&A.error(g.msg),i(r.target,"remove")}).catch(g=>{A.error(""+g),i(r.target,"remove")})}}function d(r){m(h=>({...h,[r.target.name]:r.target.value}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Nueva lista"}),e.jsx("img",{src:"img/icons/lists.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crear lista"}),e.jsx("span",{className:"desc",children:"Crea una nueva lista y luego ingresa los contactos"})]}),e.jsx("div",{className:"form",children:e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",name:"name",placeholder:"Nombre de lista",onChange:d})})}),e.jsx(xe,{Next:u})]})]}),c==!0?e.jsx(lt,{}):""]})}function ct(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Welcome"}),e.jsx("img",{src:"/img/icons/email-alert.png",alt:""})]})}),e.jsx("div",{className:"right",children:e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"titel",children:"Seleccionar lista"}),e.jsx("span",{className:"desc",children:"Selecciona una lista para integrarla a la campaign que has elegido."})]})})]})})}function dt(){const{Selector:s,setPosition:t}=a.useContext(oe),[l,i]=a.useState();function c(p){i(p)}function n(){(l=="new"||l=="select")&&t(p=>p+1)}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elegir lista"}),e.jsx("img",{src:"img/icons/wizard-contacts.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu lista"}),e.jsx("span",{className:"desc",children:"Desde aqui puedes elegir rapidamente una lista de contactos, subirla o subirlos manualmente."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"select",onClick:p=>{s(p,c)},children:"Seleccionar de una lista"}),e.jsx("button",{value:"new",onClick:p=>{s(p,c)},children:"Crear una nueva lista"})]}),e.jsx(xe,{Next:n})]})]}),l=="new"?e.jsx(rt,{}):l=="select"?e.jsx(ct,{}):""]})}function ot(){function s(){}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left"}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Hola"}),e.jsx("span",{className:"desc",children:"hola"})]}),e.jsx(xe,{Next:s})]})]})})}function pt(){const{wizard:s,setWizard:t,AwaitButton:l}=a.useContext(oe),[i,c]=a.useState(!1),n=Y();function p(u){l(u.target,"active");let d=new FormData;c("pending"),d.append("id_campaign",s.process.id_campaign),d.append("email",s.process.email),d.append("str_affair",s.process.affair),d.append("str_body",s.process.body),d.append("id_company",s.company.id_company),T.post(_+"/api/send/mt",d,{withCredentials:!0}).then(r=>r.data).then(r=>{l(u.target,"remove"),r.status&&(c(!0),s.tutorial_wizard&&setTimeout(()=>{T.get("/api/get/tutowizard",{withCredentials:!0}),n("/home")},2e3)),r.msg&&A.error(r.msg)}).catch(r=>{l(u.target,"remove")})}function m(u){p(u)}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option active",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Detalles de envio"}),e.jsx("img",{src:"img/icons/send-email2.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Envio de campaign"}),e.jsx("span",{className:"desc",children:"Enhora buena! Has llegado al ultixmo paso."})]}),e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Previsualizacion del envio"}),e.jsx("div",{className:"structure",children:e.jsxs("ul",{children:[e.jsxs("li",{children:["Correo para: ",e.jsx("b",{children:s.process.email})]}),e.jsxs("li",{children:["Asunto: ",e.jsx("b",{children:s.process.affair})]}),e.jsxs("li",{children:["Bajo la compania: ",e.jsx("b",{children:s.company.name})]}),e.jsxs("li",{children:["Status de envio: ",i==!1?e.jsxs("i",{className:"text-yellow",children:[e.jsx(ss,{})," En espera de confirmacion..."]}):i=="pending"?e.jsxs("i",{children:[e.jsx(Ys,{})," Enviando..."]}):i==!0?e.jsxs("i",{className:"success",children:[e.jsx(ls,{})," Enviado"]}):""]})]})})]}),e.jsx(xe,{Next:m})]})]})})}function mt(){const{setWizard:s,setPosition:t}=a.useContext(oe),[l,i]=a.useState(),[c,n]=a.useState(!1);function p(){l?(t(m=>m+1),s(m=>({...m,process:{...m.process,email:l}})),n(!0)):A.error("Opps! No has proporcionado un correo valido")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elegir correo"}),e.jsx("img",{src:"img/icons/email-2.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Asignar el correo"}),e.jsx("span",{className:"info",children:"Elige el correo al cual se le enviara este email."})]}),e.jsx("div",{className:"form",children:e.jsx("div",{className:"form-input",children:e.jsx("input",{placeholder:"Correo electronico",type:"email",onChange:m=>{i(m.target.value)}})})}),e.jsx(xe,{Next:p})]})]}),c==!0?e.jsx(pt,{}):""]})}function ht(){const{setPosition:s,wizard:t,setWizard:l}=a.useContext(oe),[i,c]=a.useState({status:!1,preview:!1,isHtml:!1,file:{},preview_html:"",affair:"",vars:[]});function n(){i.affair?i.preview_html?(l(v=>({...v,process:{...v.process,body:i.preview_html,affair:i.affair,vars:i.vars}})),s(v=>v+1),c(v=>({...v,status:!0}))):A.error("No tienes ningun formato html asignado."):A.error("Opps has dejado el asunto vacio.")}function p(v){let o=v.target.files[0];if(o.type=="text/html"){c(j=>({...i,file:o}));let x=new FileReader;x.onload=function(j){c(f=>({...f,preview_html:j.target.result}))},x.readAsText(o)}}function m(){c(v=>({...v,preview:!0}))}function u(){c(v=>({...v,preview_html:"",preview:!1,file:{}})),document.querySelector(".option.active input[type='file']").value=""}function d(){c(v=>({...v,preview:!1}))}function r(v){c(o=>({...o,affair:v.target.value}))}function h(v){let x=M(v.target).parents(".form-input").find("input"),j=x.val();i.vars.length<8&&(c(f=>({...f,vars:[...f.vars,j]})),x.val(""))}function g(v){let o=v.target.value;c(x=>({...x,vars:x.vars.filter(j=>j!==o)}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[i.preview==!1?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Personaliza tu frontend"}),e.jsx("img",{src:"img/icons/frontend.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Personalizar body"}),e.jsx("span",{className:"desc",children:"Personaliza tu body para tu envio"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"xd",children:"Este campo es especial, dale click al signo de interrogacion para ver sus funcionalidades."}),e.jsx("input",{type:"text",placeholder:"Asunto",onChange:r})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"xd",children:"Estas variables se enviaran en forma organizada, es decir desde el principio al fin. y deben de ser interpretadas en su archivo .html con un $1,$2."}),e.jsxs("div",{className:"special",children:[e.jsx("input",{type:"text",placeholder:"Variables",onChange:r}),e.jsx("button",{className:"action",onClick:h,children:"Agregar"})]}),e.jsx("div",{className:"tags",children:i.vars.map((v,o)=>e.jsx("button",{onClick:g,value:v,children:v},o))})]}),e.jsx("div",{className:"buttons",children:i.file.type=="text/html"?e.jsxs("div",{className:"file-on",children:[e.jsxs("span",{className:"name-file",children:[e.jsx(Ks,{})," ",i.file.name]}),e.jsx("button",{className:"remove",onClick:u,children:e.jsx(ae,{})})]}):e.jsxs("button",{onClick:v=>{document.querySelector(".option.active input[type='file']").click()},children:[e.jsx(be,{})," Subir Archivo"]})})]}),e.jsx("div",{className:"buttons",children:i.file.type!=="text/html"?e.jsx("button",{children:"Editor html"}):e.jsx("button",{onClick:m,children:"Vista previa"})}),e.jsx(xe,{Next:n})]})]}):e.jsx(e.Fragment,{children:e.jsxs("div",{className:"preview-html",children:[e.jsxs("div",{className:"actions-preview",children:[e.jsx("button",{className:"left",onClick:d,children:e.jsx(Me,{})}),e.jsx("button",{className:"left",onClick:u,children:e.jsx(ae,{})}),e.jsx("div",{className:"right-preview",children:e.jsxs("button",{className:"upload-new",onClick:v=>{document.querySelector(".option.active input[type='file']").click()},children:[e.jsx(be,{})," Subir nuevo archivo"]})})]}),e.jsx("div",{className:"preview",dangerouslySetInnerHTML:{__html:i.preview_html}})]})}),e.jsx("input",{type:"file",accept:".html",onChange:p,hidden:!0})]}),i.status==!0?e.jsx(mt,{}):""]})}function ut(){const{Selector:s,setPosition:t}=a.useContext(oe),[l,i]=a.useState();function c(){(l=="new"||l=="select")&&t(p=>p+1)}function n(p){i(p)}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Selecciona la plantilla"}),e.jsx("img",{src:"img/icons/body-html.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Selecciona tu estructura"}),e.jsx("span",{className:"desc",children:"Selecciona la estructura de correo que usaras para enviar esta campaign"})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"new",onClick:p=>{s(p,n)},children:"Crear un body"}),e.jsx("button",{value:"select",onClick:p=>{s(p,n)},children:"Ya tengo uno"})]}),e.jsx(xe,{Next:c})]})]}),l=="new"?e.jsx(ht,{}):l=="select"?e.jsx(ot,{}):""]})}function Is(){const{Selector:s,setWizard:t,setPosition:l,position:i}=a.useContext(oe),[c,n]=a.useState();function p(){c!==void 0||c!==""?l(i+1):A.error("!Opps no has seleccionado el tipo de envio")}function m(u){n(u),t(d=>({...d,process:{...d.process,type_send:u}}))}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Selecciona el tipo"}),e.jsx("img",{src:"img/icons/send-type.png",alt:""})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige el tipo de envio"}),e.jsx("span",{className:"desc",children:"Aca tienes que elegir que tipo de envio quieres que sea. Es decir, puedes elegir entre un envio "})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"masive",onClick:u=>{s(u,m)},children:"Envíos de campañas masivas"}),e.jsx("button",{value:"ind",onClick:u=>{s(u,m)},children:"Envio Individual"})]}),e.jsx(xe,{Next:p})]})]}),c=="ind"?e.jsx(ut,{}):c=="masive"?e.jsx(dt,{}):""]})}function xt(){const[s,t]=a.useState({name:"",ocation:"",id_company:""}),{AwaitButton:l,wizard:i,Prev:c,position:n,setPosition:p}=a.useContext(oe);a.useState(!1);const[m,u]=a.useState(!0);function d(h){l(h.target,"active");let g=new FormData;g.append("name",s.name),g.append("ocation",s.ocation),g.append("id_company",s.id_company),i.type=="email"&&g.append("type_c","em"),i.type=="sms"&&g.append("type_c","sms"),T.post(_+"/api/upload/campaign",g,{withCredentials:!0}).then(v=>v.data).then(v=>{v.msg&&A.error(v.msg),v.status&&p(n+1),l(h.target,"remove")}).catch(v=>{l(h.target,"remove")})}function r(h){t({...s,[h.target.name]:h.target.value})}return a.useEffect(()=>{t({...s,id_company:i.company.id_company})},[i]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Una nueva aventura!"}),e.jsx("img",{src:"img/icons/new-campaign.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crea una nueva campaña"}),e.jsx("span",{className:"desc",children:"Para crear una nueva campaña necesitas informacion basica para darle un nombre y un objetivo a tu campaña."})]}),e.jsxs("div",{className:"form",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",name:"name",placeholder:"Titulo de campaña",onChange:r})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"ocation",id:"",onChange:r,children:[e.jsx("option",{value:"default",children:"Por defecto"}),e.jsx("option",{value:"email",children:"Cumpleaños"})]})})]}),e.jsxs("div",{className:"buttons-action ",children:[e.jsx("button",{className:"prev",onClick:c,children:"<"}),e.jsxs("button",{className:"next",onClick:d,children:["Siguiente ",e.jsx("div",{className:"loading"})]})]})]})]}),m==!0?e.jsx(Is,{}):""]})}function Gs({loading:s}){return e.jsx(e.Fragment,{children:s==!0?e.jsx("div",{className:"wizard-loading-circle"}):""})}function jt(){const{setPosition:s,setWizard:t,wizard:l,SelectorItem:i}=a.useContext(oe),[c,n]=a.useState(!0),[p,m]=a.useState(),[u,d]=a.useState([]);function r(){p>=1?s(g=>g+1):he.error("!Opps no has seleccionado una campaign")}function h(g){t(v=>({...v,process:{...v.process,id_campaign:g}})),m(g)}return a.useEffect(()=>{let g=new FormData;g.append("id_company",l.company.id_company),T.post(_+"/api/get/campaign",g,{withCredentials:!0}).then(v=>v.data).then(v=>{d(v.results),n(!1)}).catch(v=>{n(!1)})},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option ",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Elige tu campaña"}),e.jsx("img",{src:"img/icons/wizard-selectcampaign.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu campaña"}),e.jsx("span",{className:"desc",children:"Selecciona rapidamente una de tus campañas para seguir al siguiente paso."})]}),e.jsxs("div",{className:"items-result",children:[u.map((g,v)=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"item select",value:g.id_campaign,onClick:o=>{i(o,h)},children:[e.jsx("img",{src:"img/icons/campaign_profile.png",alt:""}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:g.name}),e.jsxs("span",{children:["Creada el ",g.time_add]}),e.jsx("div",{className:"circle",children:e.jsx("i",{children:e.jsx(ye,{})})})]})]})})),e.jsx(Gs,{loading:c})]}),e.jsx(xe,{Next:r})]})]}),Number(p)=="NaN"?e.jsx(Is,{}):""]})}function Ns(){const[s,t]=a.useState({campaign:"",campaign_name:"",actions:{campaign:""}}),{Selector:l,Prev:i,position:c,setPosition:n}=a.useContext(oe);function p(){m()}function m(){let d=!1;switch(c){case 2:s.actions.campaign=="new"||s.actions.campaign=="select"?d=!0:A.error("Opps no has seleccionado nada.");break}d&&n(c+1)}function u(d){t({...s,actions:{campaign:d}})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",style:{display:"none"},children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Campañas"}),e.jsx("img",{src:"img/icons/email-alert.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige tu campana"}),e.jsx("span",{className:"desc",children:"Crea tu campana rapidamente solamente eligiendo un nombre y ajustandola a tus preferencias. Tambien puedes reutilizar alguna campana antigua."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{value:"new",onClick:d=>{l(d,u)},children:"Crear una nueva"}),e.jsx("button",{value:"select",onClick:d=>{l(d,u)},children:"Ya tengo una"})]}),e.jsx(xe,{Next:p})]})]}),s.actions.campaign=="new"?e.jsx(xt,{}):e.jsx(jt,{})]})}function ge({color:s,fn:t}){function l(i){i.stopPropagation();let c=M(i.target),n=c.parents(".colors");c.parents(".colors").find(".active").removeClass("active"),c.addClass("active"),n.find("button").css({opacity:"0.5"}),c.css({opacity:"1"})}return e.jsx(e.Fragment,{children:e.jsx("button",{className:"option-color",style:{background:s},value:s,onClick:i=>{t(i.target.value),l(i)}})})}function gt(){const{Prev:s,AwaitButton:t,setPosition:l}=a.useContext(oe),[i,c]=a.useState({name:"",type:"",color:"",default:"false"});function n(u){c({...i,color:u})}function p(u){let d=u.target.value,r=u.target.name;c({...i,[r]:d})}function m(u){i.name&&i.type&&i.color?(t(u.target,"active"),T.post(_+"/api/upload/company",i,{withCredentials:!0}).then(d=>d.data).then(d=>{t(u.target,"remove"),d.status&&(A.success("Company creada con exito"),l(1),M("button.active").removeClass("active")),d.msg&&A.error(d.msg)}).catch(d=>{t(u.target,"remove")})):A.error("Opps no has terminado los campos")}return e.jsx(e.Fragment,{children:status==!1?e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Nuevas ideas!"}),e.jsx("img",{src:"img/icons/cohete-men.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Crear empresa"}),e.jsx("span",{className:"desc",children:"Personaliza tu empresa, con colores u imagen para poder identificarla si tienes otras empresas por registrar. Elige un nombre y comienza!"})]}),e.jsxs("div",{className:"form",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de empresa",name:"name",onChange:p})}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{htmlFor:"",children:"Tipo de empresa"}),e.jsx("select",{name:"type",id:"",onChange:p})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{children:"Elige un color"}),e.jsx("span",{className:"desc",children:"El color te ayudara a identificar tu empresa."}),e.jsxs("div",{className:"colors",children:[e.jsx(ge,{color:"#2e56ff",fn:n}),e.jsx(ge,{color:"#57c583",fn:n}),e.jsx(ge,{color:"#3fcae9",fn:n}),e.jsx(ge,{color:"#e9d43f",fn:n}),e.jsx(ge,{color:"#d77613",fn:n}),e.jsx(ge,{color:"#c069cb",fn:n}),e.jsx(ge,{color:"#cb6992",fn:n})]})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("label",{children:"Seleccionar como predeterminada"}),e.jsx("span",{className:"desc",children:"Si la eliges como predeterminada automaticamente se usara sin necesidad de seleccionarla."}),e.jsx("br",{}),e.jsxs("select",{name:"default",id:"",onChange:p,children:[e.jsx("option",{value:"false",children:"No"}),e.jsx("option",{value:"true",children:"Si"})]})]})]}),e.jsx(xe,{Prev:s,Next:m})]})]}):e.jsx(e.Fragment,{})})}function vt(){const{wizard:s,setWizard:t,setPosition:l}=a.useContext(oe),[i,c]=a.useState([]),[n,p]=a.useState(!0);function m(){}a.useEffect(()=>{(async function(){c(await Ga()),p(!1)})()},[]),a.useEffect(()=>{s.company},[s]);function u(d,r){d.stopPropagation();let h=i[r];h.id_company&&(l(1),t({...s,company:h}))}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Usa tu empresa"}),e.jsx("img",{src:"img/icons/hot-company.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Elige una empresa"}),e.jsx("span",{children:"Elige una de las empresar anteriormente creadas."})]}),e.jsxs("div",{className:"companys",children:[i.map((d,r)=>e.jsxs("div",{className:"company",children:[e.jsx("img",{className:"photo-profile",src:"img/icons/default_profile.png",alt:""}),e.jsxs("span",{className:"title",children:[d.name," ",e.jsx("span",{className:"color",style:{background:d.color}})]}),e.jsx("button",{className:"use",onClick:h=>{u(h,r)},children:"Usar"})]},r)),e.jsx(Gs,{loading:n})]}),e.jsx(xe,{Next:m})]})]})})}function ft(){const[s,t]=a.useState({action:""}),{Selector:l,Prev:i,position:c,setPosition:n}=a.useContext(oe);function p(d){t({...s,action:d})}function m(){u()}function u(){let d=!1;switch(s.action){case"go":d=!0;break;case"new":d=!0;break}d?n(c+1):A.error("No has seleccionado ninguna opcion.")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Tu empresa"}),e.jsx("img",{src:"img/icons/hot-company.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:" Elige tu empresa"}),e.jsx("span",{className:"desc",children:"Debes elegir tu empresa para comenzar, o tambien podrias crear una empresa nueva. Estas empresas tendran (estadisticas,contactos,envios) totalmente autonomos."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{onClick:d=>{l(d,p)},value:"go",children:"Ya tengo una"}),e.jsx("button",{onClick:d=>{l(d,p)},value:"new",children:"Crear una nueva"})]})}),e.jsx(xe,{Prev:i,Next:m})]})]}),s.action=="new"?e.jsx(gt,{}):e.jsx(vt,{})]})}function Nt(){return e.jsx(e.Fragment,{children:"xd"})}function yt(){const{position:s,setPosition:t,wizard:l,setWizard:i,Selector:c,Prev:n}=a.useContext(oe);function p(){m()}function m(){let r=!1;switch(s){case 0:r=!0;break;case 1:if(l.type)switch(l.type){case"email":l.company?r=!0:A.error("No tienes una empresa seleccionada.");break;case"sms":l.company?r=!0:A.error("No tienes una empresa seleccionada.");break;default:r=!0;break}else A.error("No has seleccionado ninguna opcion");break}r&&t(s+1)}function u(r){i({...l,type:r})}a.useEffect(()=>{M(".wizard .option.active").removeClass("active"),M(".wizard .option").eq(s).addClass("active")},[s]);const d={email:e.jsx(Ns,{}),sms:e.jsx(Ns,{}),verifiedEmail:e.jsx(Nt,{})};return e.jsx(e.Fragment,{children:e.jsx("div",{className:"wizard",children:e.jsxs("div",{className:"body",children:[l.loading?e.jsx("div",{className:"wizard-loading",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{className:"logo-center",src:"img/icons/logo-l1.png",alt:""}),e.jsx("div",{className:"line"})]})}):e.jsx(e.Fragment,{}),e.jsxs("div",{className:"options",children:[e.jsxs("div",{className:"option center active",children:[e.jsxs("div",{className:"center",children:[e.jsx("img",{className:"logo-center",src:"img/icons/logo-l1.png",alt:""}),e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"Welcome to RadarSystems"}),e.jsx("span",{className:"desc",children:"Hola este wizard te ayudara a armar tu primera campaign de emails / sms te, te mostraremos paso por paso como hacer lo que necesitas."})]}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"",id:"",children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"Seleccionar Idioma"}),e.jsx("option",{value:"",children:"Espanol"}),e.jsx("option",{value:"",children:"Ingles"})]})})]}),e.jsx("div",{className:"buttons-action ",children:e.jsx("button",{className:"next",onClick:p,children:"Comenzar"})})]}),l.company==""?e.jsx(ft,{}):e.jsxs("div",{className:"option",children:[e.jsx("div",{className:"left",children:e.jsxs("div",{className:"img-center",children:[e.jsx("p",{children:"Empezemos ahora"}),e.jsx("img",{src:"img/icons/wizard-help.png"})]})}),e.jsxs("div",{className:"right",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{className:"title",children:"¿Qué necesitas?"}),e.jsx("span",{children:"Puedes hacer diferentes acciones en la que podemos ayudarte mediante este wizard. Elige cual es de tu interes, asi podremos ayudarte facilmente."})]}),e.jsxs("div",{className:"buttons selector",children:[e.jsx("button",{onClick:r=>{c(r,u)},value:"ac",children:"Elegir Empresa"}),e.jsx("button",{onClick:r=>{c(r,u)},value:"email",children:"Campañas de Correos"}),e.jsx("button",{onClick:r=>{c(r,u)},value:"sms",children:"Campañas de Sms"}),e.jsx("button",{className:l.tutorial_wizard==!0?"opacity-tutorial":"",onClick:r=>{c(r,u)},value:"vemail",children:"Verificador de Correos"}),e.jsx("button",{className:l.tutorial_wizard==!0?"opacity-tutorial":"",onClick:r=>{c(r,u)},value:"ac",children:"Acortador de Url"})]}),e.jsx(xe,{Prev:n,Next:p})]})]}),d[l.type]]})]})})})}function bt({MenuLeft:s}){const{UserInfo:t}=a.useContext(X),[l,i]=a.useState(),c=Y();a.useEffect(()=>{t.company_default==null&&t.company==null&&i(!0),t.company!==void 0&&i(!1)},[t]);function n(p){p.stopPropagation();let m=M(p.target),u=m.parents("li"),d=m.parents("li").find("ul"),r=M(".header-left").find("button.active"),h=M(".header-left").find("ul.active");r.parents("li").index()!==u.index()?(h.slideToggle(),h.removeClass("active"),r.removeClass("active"),m.addClass("active"),d.addClass("active"),d.slideToggle()):(r.removeClass("active"),h.removeClass("active"),h.slideToggle())}return cs("token"),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`header-left ${s?"active":""}`,children:[e.jsx("div",{className:"logo",children:e.jsx("img",{src:"/img/icons/logo.png",alt:""})}),e.jsxs("ul",{children:[e.jsx("li",{className:l?"opacity":"",children:e.jsxs("button",{onClick:p=>{c("/home")},children:[e.jsx("i",{className:"icon",children:e.jsx(Zs,{})})," Home ",e.jsx("i",{className:"arrow"})]})}),e.jsxs("li",{children:[e.jsxs("button",{onClick:n,children:[e.jsx("i",{className:"icon",children:e.jsx(Us,{})})," Configuracion ",e.jsx("i",{className:"arrow",children:e.jsx(me,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/settings-account/account",children:"Cuenta"})}),e.jsx("li",{children:e.jsx(z,{to:"/settings-account/security",children:"Seguridad"})}),e.jsx("li",{children:e.jsx(z,{to:"/settings-account/footer",children:"Footer"})}),e.jsx("li",{children:e.jsx(z,{to:"/settings-account/domains",children:"Dominios"})})]})]}),e.jsxs("li",{className:l?"opacity":"none",children:[e.jsxs("button",{onClick:n,children:[e.jsx("i",{className:"icon",children:e.jsx(ea,{})})," Herramientas ",e.jsx("i",{className:"arrow",children:e.jsx(me,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/editor/canvas",children:"Editor Canvas"})}),e.jsx("li",{children:e.jsx(z,{to:"/editor/buttons",children:"Editor Botonera"})})]})]}),e.jsxs("li",{className:"none",children:[e.jsxs("button",{onClick:n,children:[e.jsx("i",{className:"icon",children:e.jsx(ts,{})})," Cuentas ",e.jsx("i",{className:"arrow",children:e.jsx(me,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/companys",children:"Mis Cuentas"})}),e.jsx("li",{children:e.jsx(z,{to:"/companys/add",children:"Crear Cuenta"})})]})]}),e.jsxs("li",{className:l?"opacity":"none",children:[e.jsxs("button",{onClick:n,children:[e.jsx("i",{className:"icon",children:e.jsx(Xe,{})})," Recordatorios ",e.jsx("i",{className:"arrow",children:e.jsx(me,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/campaigns",children:"Email "})}),e.jsx("li",{children:e.jsx(z,{to:"/campaigns",children:"Sms"})}),e.jsx("li",{children:e.jsx(z,{to:"/campaigns/new",children:"Mixto"})})]})]}),e.jsxs("li",{className:l?"opacity":"none",children:[e.jsxs("button",{onClick:n,children:[e.jsx("i",{className:"icon",children:e.jsx(Xe,{})})," Campañas ",e.jsx("i",{className:"arrow",children:e.jsx(me,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/campaigns/em",children:"Email Marketing"})}),e.jsx("li",{children:e.jsx(z,{to:"/campaigns/em-mt",children:"Email MT"})}),e.jsx("li",{children:e.jsx(z,{to:"/campaigns/sms",children:"SMS Marketing"})}),e.jsx("li",{children:e.jsx(z,{to:"/campaigns/sms-mt",children:"SMS MT"})}),e.jsx("li",{children:e.jsx(z,{to:"/campaigns/new",children:"Crear Campana"})})]})]}),e.jsxs("li",{className:l?"opacity":"none",children:[e.jsxs("button",{onClick:n,children:[e.jsx("i",{className:"icon",children:e.jsx(sa,{})})," Listas ",e.jsx("i",{className:"arrow",children:e.jsx(me,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/contacts",children:"Mis Contactos"})}),e.jsx("li",{children:e.jsx(z,{to:"/contacts/lists",children:"Mis Listas"})}),e.jsx("li",{children:e.jsx(z,{to:"/contacts/lists/email",children:"Listas Correo"})}),e.jsx("li",{children:e.jsx(z,{to:"/contacts/lists/sms",children:"Listas Mensajeria"})}),e.jsx("li",{children:e.jsx(z,{to:"/contacts/lists/ws",children:"Listas Whatsapp"})}),e.jsx("li",{children:e.jsx(z,{to:"/contacts/segments",children:"Segmentos"})})]})]}),e.jsxs("li",{className:l?"opacity":"none",children:[e.jsxs("button",{onClick:n,children:[e.jsx("i",{className:"icon",children:e.jsx(ss,{})})," Automatizacion ",e.jsx("i",{className:"arrow",children:e.jsx(me,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{children:"WorkFlow"})}),e.jsx("li",{children:e.jsx(z,{children:"Programacion"})}),e.jsx("li",{children:e.jsx(z,{children:"Auto-Responders"})})]})]}),e.jsxs("li",{className:l?"opacity":"none",children:[e.jsxs("button",{onClick:n,children:[e.jsx("i",{className:"icon",children:e.jsx(de,{})})," Estadisticas ",e.jsx("i",{className:"arrow",children:e.jsx(me,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{to:"/stats/campaign",children:e.jsx(z,{children:"Email Marketing"})}),e.jsx("li",{to:"/stats/campaign",children:e.jsx(z,{children:"Email MT"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(z,{children:"Sms Marketing"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(z,{children:"Sms MT"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(z,{children:"Encuestas"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(z,{children:"Botonera QR"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(z,{children:"Botonera URL"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(z,{children:"Medusa"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(z,{children:"Landings"})}),e.jsx("li",{to:"/stats/quests",children:e.jsx(z,{children:"Google Analytics"})})]})]}),e.jsxs("li",{className:"none",children:[e.jsxs("button",{onClick:n,children:[e.jsx("i",{className:"icon",children:e.jsx(aa,{})})," Formulario ",e.jsx("i",{className:"arrow",children:e.jsx(me,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/surveys/editor",children:"Crear Formulario"})}),e.jsx("li",{children:e.jsx(z,{to:"/surveys",children:"Mis Formularios"})}),e.jsx("li",{children:e.jsx(z,{to:"/surveys",children:"Plantillas"})})]})]}),e.jsxs("li",{className:"none",children:[e.jsxs("button",{onClick:n,children:[e.jsx("i",{className:"icon",children:e.jsx(js,{})})," Boletines Electronicos ",e.jsx("i",{className:"arrow",children:e.jsx(me,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/templates",children:"Mis Boletines"})}),e.jsx("li",{children:e.jsx(z,{to:"/editor/canvas",children:"Crear Boletin"})}),e.jsx("li",{children:e.jsx(z,{to:"/landings",children:"Plantillas"})}),e.jsx("li",{children:e.jsx(z,{to:"/landings",children:"Plantillas IA"})})]})]}),e.jsxs("li",{className:"none",children:[e.jsxs("button",{onClick:n,children:[e.jsx("i",{className:"icon",children:e.jsx(js,{})})," Landings Page ",e.jsx("i",{className:"arrow",children:e.jsx(me,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/landings",children:"Mis Landings"})}),e.jsx("li",{children:e.jsx(z,{to:"/editor/landings",children:"Crear Landings"})})]})]}),e.jsxs("li",{className:"none",children:[e.jsxs("button",{onClick:n,children:[e.jsx("i",{className:"icon",children:e.jsx(K,{icon:"mdi:jellyfish-outline"})})," Medusa ",e.jsx("i",{className:"arrow",children:e.jsx(me,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/shorturls/campaigns",children:"Mis Campañas"})}),e.jsx("li",{children:e.jsx(z,{to:"/shorturls/campaigns/add",children:"Crear Campana"})}),e.jsx("li",{children:e.jsx(z,{to:"/shorturls",children:"Mis Enlaces"})}),e.jsx("li",{children:e.jsx(z,{to:"/shorturls/add",children:"Crear Enlace"})})]})]}),e.jsxs("li",{className:"",children:[e.jsxs("button",{onClick:n,children:[e.jsx("i",{className:"icon",children:e.jsx(ta,{})})," Botonera QR ",e.jsx("i",{className:"arrow",children:e.jsx(me,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/editor/buttonsqr",children:"Crear Botonera QR"})}),e.jsx("li",{children:e.jsx(z,{to:"/buttonsqr",children:"Mis Botoneras QR"})}),e.jsx("li",{children:e.jsx(z,{to:"/qr/add",children:"Crear QR individual"})}),e.jsx("li",{children:e.jsx(z,{to:"/qr/import",children:"Importar QR"})}),e.jsx("li",{children:e.jsx(z,{to:"/qr",children:"Mis Qr's"})})]})]}),e.jsxs("li",{className:"none",children:[e.jsxs("button",{onClick:n,children:[e.jsx("i",{className:"icon",children:e.jsx(K,{icon:"ri:links-fill"})})," Botonera URL ",e.jsx("i",{className:"arrow",children:e.jsx(me,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/editor/buttons",children:"Crear Botonera URL"})}),e.jsx("li",{children:e.jsx(z,{to:"/buttons",children:"Mis Botoneras URL"})})]})]}),e.jsxs("li",{className:"none",children:[e.jsxs("button",{onClick:n,children:[e.jsx("i",{className:"icon",children:e.jsx(ts,{})})," Validador Email ",e.jsx("i",{className:"arrow",children:e.jsx(me,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/companys",children:"Mis Validaciones"})}),e.jsx("li",{children:e.jsx(z,{to:"/companys",children:"Crear Validacion"})}),e.jsx("li",{children:e.jsx(z,{to:"/companys",children:"Estadisticas"})})]})]}),e.jsxs("li",{className:"none",children:[e.jsxs("button",{onClick:n,children:[e.jsx("i",{className:"icon",children:e.jsx(ts,{})}),"  API ",e.jsx("i",{className:"arrow",children:e.jsx(me,{})})]}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/companys",children:"Mis Credenciales"})}),e.jsx("li",{children:e.jsx(z,{to:"/companys",children:"Crear Validacion"})}),e.jsx("li",{children:e.jsx(z,{to:"/companys",children:"Estadisticas"})})]})]})]})]})})}function Ct({MenuLeft:s,MenuLeftAction:t}){var r,h,g;const{UserInfo:l}=a.useContext(X),[i,c]=a.useState("dark"),n=Y(),[p,m]=a.useState(!1);function u(){switch(i){case"ligth":c("dark");break;case"dark":c("ligth");break;default:c("ligth");break}}function d(){m(!p)}return a.useEffect(()=>{M(document.body).attr("theme",i)},[i]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"header-top",children:[e.jsx("div",{className:"left mb",children:e.jsx("button",{className:"open",onClick:v=>{t()},children:e.jsx(K,{icon:"iconoir:nav-arrow-right"})})}),e.jsxs("div",{className:"right",children:[e.jsx("div",{className:"company",children:(r=l==null?void 0:l.company)!=null&&r.name?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"body",children:[e.jsx("img",{src:((h=l==null?void 0:l.company)==null?void 0:h.photo)!==void 0?ms(l):"img/icons/default_profile.png",alt:""}),e.jsx("span",{children:(g=l==null?void 0:l.company)==null?void 0:g.name})]})}):e.jsx(z,{to:"/companys",className:"select-company",children:"Seleccionar Cuenta"})}),e.jsxs("button",{className:"option",onClick:u,children:[i=="dark"?e.jsx(ia,{}):"",i=="ligth"?e.jsx(na,{}):""]}),e.jsx("button",{className:"option",children:e.jsx(la,{})}),e.jsxs("div",{className:"user",onClick:d,children:[e.jsx("span",{className:"name",children:l==null?void 0:l.user}),e.jsx("img",{src:"/img/icons/default-user.jpg",alt:""})]})]})]}),p?e.jsx("div",{className:"menu-top-user",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsxs("button",{onClick:v=>{n("")},children:[e.jsx(K,{icon:"material-symbols:report-outline"})," Reportar"]})}),e.jsx("li",{children:e.jsxs("button",{onClick:v=>{n("/logout")},children:[e.jsx(K,{icon:"ic:outline-no-meeting-room"})," Cerrar sesión"]})})]})}):""]})}function J({Element:s,CompanyNeed:t}){var d;const{UserInfo:l}=a.useContext(X);Y(),a.useState(!1);const[i,c]=a.useState("wait"),[n,p]=a.useState(!1),m=qe();function u(r){r==null?n==!0?p(!1):p(!0):p(!1)}return a.useEffect(()=>{u("x")},[m]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"app",children:[e.jsx(bt,{MenuLeftAction:u,MenuLeft:n}),e.jsx(Ct,{MenuLeftAction:u,MenuLeft:n}),e.jsx("div",{className:"page",onClick:r=>{u("x")},children:t?(d=l==null?void 0:l.company)!=null&&d.id_company?e.jsx(s,{}):i==!1?e.jsxs("div",{className:"center-loading",children:[e.jsx("img",{src:"/img/icons/oficina.png",alt:""}),e.jsx("p",{children:"No has seleccionado ninguna empresa"})]}):e.jsx("div",{className:"center-loading",children:e.jsx("div",{className:"circle"})}):e.jsx(s,{})})]})})}function ve(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"loding-box",children:e.jsx("div",{className:"loading",children:e.jsx("div",{className:"circle"})})})})}function wt({Visible:s,Close:t}){const{UserInfo:l}=a.useContext(X),[i,c]=a.useState(0),[n,p]=a.useState([_e()]),[m,u]=a.useState({type:"",name:"",ocation:""}),d=Y();function r(v){v.stopPropagation(),v.preventDefault();let o=M(v.target);o.parents(".options").find(".active").removeClass("active"),o.addClass("active");let x=o.attr("value");u(j=>({...j,type:x}))}function h(v){var j;let o=!1,x=M(v.target);if((i===0&&m.type.includes("em")||m.type.includes("sms"))&&(o=!0),i==1&&m.type!==""&&m.name!==""){x.addClass("await");let f=new FormData;f.append("name",m.name),f.append("ocation",m.ocation),f.append("type_c",m.type),f.append("id_company",(j=l==null?void 0:l.company)==null?void 0:j.id_company),T.post(_+"/api/upload/campaign",f,{withCredentials:!0}).then(y=>y.data).then(y=>{y.status?d("/campaigns/detail/"+y.id_campaign):y.msg&&he.error(y.msg),x.removeClass("await")}).catch(y=>{x.removeClass("await")})}o&&c(f=>f+1)}function g(v){let o=v.target.name,x=v.target.value;u(j=>({...j,[o]:x}))}return a.useEffect(()=>{M(".case.active").removeClass("active"),M(".case").eq(i).addClass("active")},[i]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[i>0?e.jsxs("button",{className:"return",onClick:v=>{c(o=>o-1)},children:[e.jsx(Me,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:v=>{t(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear una nueva campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"options flex half",id:`options-${n[0]}`,children:[e.jsxs("div",{className:"selector",onClick:r,value:"em",children:[e.jsx("div",{className:"check",children:e.jsx(ue,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA EMAIL MARKETING"}),e.jsx("span",{children:"Crea tu campaña de email con uno de nuestros editores para que la envíes inmediatamente o programes para enviar más tarde."})]})]}),e.jsxs("div",{className:"selector",onClick:r,value:"em-mt",children:[e.jsx("div",{className:"check",children:e.jsx(ue,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA EMAIL TRANSACCIONAL"}),e.jsx("span",{children:"Crea tu campaña de email transaccional estas seran enviada 1x1 mediante la conexion a la api."})]})]}),e.jsxs("div",{className:"selector",onClick:r,value:"sms",children:[e.jsx("div",{className:"check",children:e.jsx(ue,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA SMS MARKETING"}),e.jsx("span",{children:"Envía mensajes de texto rápidos y confiables a cualquier país con nuestras herramientas de campaña de SMS."})]})]}),e.jsxs("div",{className:"selector",onClick:r,value:"sms-mt",children:[e.jsx("div",{className:"check",children:e.jsx(ue,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"CAMPAÑA SMS TRANSACCIONAL"}),e.jsx("span",{children:"Crea tu campaña de sms transaccional estas seran enviada 1x1 mediante la conexion a la api."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de campaña"}),e.jsx("input",{type:"text",name:"name",onChange:g,placeholder:"Nombre"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Selecciona tipo"}),e.jsxs("select",{name:"ocation",id:"",onChange:g,children:[e.jsx("option",{value:"",selected:!0,children:" Por defecto"}),e.jsx("option",{value:"birthday",children:"Cumpleaños"})]})]}),(m.ocation=="birthday","")]})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:"next",onClick:h,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function pe({name:s,buttonName:t,addNew:l=!1,callback:i}){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"nofound-items",children:[e.jsx("img",{src:"/img/icons/notfound.png",alt:""}),e.jsxs("p",{children:["No hay ",s??"items","  disponibles"]}),e.jsx("br",{}),l?e.jsxs("button",{onClick:c=>{i()},children:["Crear ",t]}):""]})})}function Pe(){const{UserInfo:s}=a.useContext(X),t=Y(),[l,i]=a.useState([]),[c,n]=a.useState(!1),[p,m]=a.useState(!0),u=qe();a.useEffect(()=>{Se("/new")&&n(!0)},[u]);function d(h){var o;let g=new FormData;m(!0);let v="em";Se("/em")&&(v="em"),Se("/em-mt")&&(v="em-mt"),Se("/sms-mt")&&(v="sms-mt"),Se("/sms")&&(v="sms"),h||i([]),g.append("id_company",(o=s==null?void 0:s.company)==null?void 0:o.id_company),g.append("type",v),T.post(_+"/api/get/campaign",g,{withCredentials:!0}).then(x=>x.data).then(x=>{var j;(j=x==null?void 0:x.results)!=null&&j.length&&i(x.results),m(!1)}).catch(x=>{m(!1)})}a.useEffect(()=>{d(!1)},[u]);function r(h){let g=h.target.value;t("/campaigns/detail/"+g)}return e.jsxs(e.Fragment,{children:[e.jsx(wt,{Visible:c,Close:n},`${c?"x":"x2"}`),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Campañas"}),e.jsx("span",{children:"Crea y ve tus campañas rapidamente, tambien puedes entrar a nuestro sistema automatizado "})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"add",onClick:h=>{n(!0)},children:"Crear nueva campaña"}),e.jsx("button",{className:"go-wizard",onClick:h=>{n(!0)},children:"Wizard"})]})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[l==null?void 0:l.map((h,g)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:h.name}),e.jsxs("span",{className:"desc",children:["Creado el: ",ce(h.time_add)]})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:r,value:h.id_campaign,children:e.jsx(Ce,{})}),e.jsx("button",{children:e.jsx(de,{})})]})]})),p==!1?(l==null?void 0:l.length)==0?e.jsx(pe,{name:"campanas"}):"":e.jsx(ve,{})]})})})]})}function hs(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top",children:[e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:"/companys",children:"Cuentas"})}),e.jsx("li",{children:e.jsx(z,{to:"/companys/roles",children:"Roles"})}),e.jsx("li",{children:e.jsx(z,{to:"/companys/users",children:"Perfiles"})})]}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"form-search",children:e.jsx("input",{type:"text",placeholder:"Buscar cuenta..."})})})]})})}function te({buttonsActions:s=!0,minWidth:t,maxWidth:l,children:i,width:c,visible:n,buttonSave:p=!0,cancel:m,onClick:u,next:d,callback:r,Pending:h,close:g=function(){}}){const[v,o]=a.useState(n==!1?!1:n),[x,j]=a.useState(_e());function f(y){y.stopPropagation();let P=M(y.target);M(`#modal-${x}`).removeClass("open"),P.parents(".modal-small").addClass("close"),setTimeout(()=>{P.parents(".modal-small").removeClass("close"),o(!1),r(!1)},400)}return a.useEffect(y=>{n==!0?(o(!0),setTimeout(()=>{M(`#modal-${x}`).removeClass("close"),M(`#modal-${x}`).addClass("open")},25)):(M(`#modal-${x}`).addClass("close"),M(`#modal-${x}`).removeClass("open"),g("cerro"))},[n]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"modal-small",id:`modal-${x}`,style:{display:v==!0?"flex":"none",overflow:"auto"},children:[e.jsx("div",{className:"closed"}),e.jsxs("div",{className:"body",style:{maxWidth:l,minWidth:t,width:c},children:[i,s?e.jsxs("div",{className:"actions",children:[e.jsx("button",{id:"close",onClick:f,children:m??"Cancelar"}),p?e.jsxs("button",{className:`done ${h==!0?" await":""}`,onClick:u,children:[d??"Guardar"," ",e.jsx("div",{className:"loading"})]}):""]}):""]})]})})}function kt({name:s,id:t,valueDefault:l,onChange:i}){const[c,n]=a.useState(_e());a.useEffect(()=>{l&&(document.querySelector(`.select-${c}`).value=l)},[]);function p(m){i&&i(m)}return e.jsxs("select",{name:s,id:t,onChange:p,className:`select-${c}`,children:[e.jsx("option",{value:"def",selected:!0,disabled:!0,children:"Seleccionar"}),e.jsx("option",{value:"md",children:"Marketing Digital"}),e.jsx("option",{value:"tec",children:"Tecnología"}),e.jsx("option",{value:"tele",children:"Telecomunicaciones"}),e.jsx("option",{value:"soft",children:"Software"})]})}function ys(){const[s,t]=a.useState([]),[l,i]=a.useState(!0),[c,n]=a.useState(!1),[p,m]=a.useState(!1),[u,d]=a.useState({}),[r,h]=a.useState({name:"",color:"",type:""}),{setUserInfo:g,UserInfo:v}=a.useContext(X),[o,x]=a.useState(!1),j=qe();a.useEffect(()=>{Se("/add")&&n(!0)},[j]);function f(){t([]),i(!0),T.post(_+"/api/get/companys",{},{withCredentials:!0}).then(E=>E.data).then(E=>{i(!1),t(E)})}a.useEffect(()=>{f()},[]),a.useEffect(()=>{},[u]);function y(){}function P(E){p?d(N=>({...N,color:E})):h(N=>({...N,color:E}))}function q(E){if(p){let N=M(E.target);N.addClass("await");let F=new FormData;F.append("name",u.name),F.append("color",u.color),F.append("type",u.type),F.append("id_company",u.id_company),T.post(_+"/update/editcompany",F,{withCredentials:!0}).then(C=>C.data).then(C=>{C.status&&(n(!1),A.success("Has editado correctamente."),f()),C.msg&&A.error(C.msg),N.removeClass("await")}).catch(C=>{N.removeClass("await")})}else{x(!0);let N=new FormData;N.append("name",r.name),N.append("color",r.color),N.append("type",r.type),T.post(_+"/api/upload/company",N,{withCredentials:!0}).then(F=>F.data).then(F=>{F.status&&(f(),n(!1),A.success("Has creado tu cuenta correctamente.")),F.msg&&A.error(F.msg),x(!1)}).catch(F=>{x(!1)})}}a.useEffect(()=>{M(".colors .option-color").css({opacity:"0.5"}),M(`.colors .option-color[value='${u.color}']`).addClass("active").css({opacity:1}),M(".form-input input[name='name']").val(u.name)},[u]);function R(E){n(!0),d(s[E])}function b(E,N){E.stopPropagation();try{g(F=>({...F,company:s[N]})),document.cookie=`company=${s[N].id_company}`,A.success("Empresa asignada correctamente.")}catch{}}function w(E,N){E.stopPropagation()}function k(E){p||h(N=>({...N,[E.target.name]:E.target.value}))}return e.jsxs(e.Fragment,{children:[e.jsxs(te,{onClick:q,visible:c,callback:n,close:E=>{d({})},Pending:o,next:`${p?"Editar":"Agregar"}`,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:p?"Editar cuenta":"Agregar cuenta"})}),e.jsxs("div",{className:"content",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre"}),e.jsx("input",{name:"name",type:"text",onChange:k})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Tipo"}),e.jsx(kt,{name:"type",onChange:k,valueDefault:`${p?u.type:"def"}`,callback:y},c?"modal-open":"modal-closed")]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Elige color de tu cuenta"}),e.jsx("span",{className:"desc",children:"El color te ayudara a identificar tu tipo de cuenta."}),e.jsxs("div",{className:"colors",children:[e.jsx(ge,{color:"#2e56ff",fn:P}),e.jsx(ge,{color:"#57c583",fn:P}),e.jsx(ge,{color:"#3fcae9",fn:P}),e.jsx(ge,{color:"#e9d43f",fn:P}),e.jsx(ge,{color:"#d77613",fn:P}),e.jsx(ge,{color:"#c069cb",fn:P}),e.jsx(ge,{color:"#cb6992",fn:P})]},c?"a":"x")]})]})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MIS CUENTAS"}),e.jsx("span",{children:"Crea y administra tus cuentas, agrega Roles y Perfiles"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:E=>{n(!0),m(!1)},children:"Crear nueva cuenta"})})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx(hs,{}),e.jsxs("div",{className:"box box-padding",children:[s.map((E,N)=>{var F;return e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:E.photo?ms({company:{photo:E.photo}}):"img/icons/default_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:E.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:C=>{w(C)},children:e.jsx(ra,{})}),e.jsx("button",{onClick:C=>{R(N),m(!0)},children:e.jsx(ds,{})}),e.jsxs("button",{onClick:C=>{b(C,N)},children:[" ",((F=v==null?void 0:v.company)==null?void 0:F.id_company)==E.id_company?e.jsx(ca,{}):e.jsx(da,{})," "]})]})]},N)}),l==!0?e.jsxs(e.Fragment,{children:["  ",e.jsx(ve,{})]}):""]})]})})]})}function De({visible:s,onClick:t,callback:l,Pending:i,name:c}){const[n,p]=a.useState(s!=!1),[m,u]=a.useState(_e());function d(r){r.stopPropagation();let h=M(r.target);h.parents(".actions").find(".done.await").length?A.error("No puedes salir en este momento..."):(M(`#modal-${m}`).removeClass("open"),h.parents(".modal-small").addClass("close"),setTimeout(()=>{h.parents(".modal-small").removeClass("close"),p(!1),l(!1)},600))}return a.useEffect(r=>{s==!0?(p(!0),setTimeout(()=>{M(`#modal-${m}`).removeClass("close"),M(`#modal-${m}`).addClass("open")},25)):(M(`#modal-${m}`).addClass("close"),M(`#modal-${m}`).removeClass("open"),close("cerro"))},[s]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"modal-small delete",id:`modal-${m}`,style:{display:n==!0?"flex":"none"},children:[e.jsx("div",{className:"closed"}),e.jsxs("div",{className:"body",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Eliminar"})}),e.jsxs("span",{className:"dialog",children:["Estas apunto de eliminar ",c==null?"este objeto":"esta "+c,". ¿Estas seguro de querer eliminarlo?"]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{id:"close",onClick:d,children:"Cancelar"}),e.jsxs("button",{className:`done ${i==!0?"await":""}`,onClick:t,children:["Eliminar ",e.jsx("div",{className:"loading"})]})]})]})]})})}function St(){const{UserInfo:s,LoadingAuth:t}=a.useContext(X),[l,i]=a.useState(!1),[c,n]=a.useState(!1),[p,m]=a.useState(["delete","read","send","add"]),[u,d]=a.useState(!1);let r={type_add:"",delete:0,add:0,read:0,send:0,sadmin:0};const[h,g]=a.useState(r),[v,o]=a.useState(),[x,j]=a.useState(!0),f=Y(),[y,P]=a.useState([]);async function q(){var F;let N=new FormData;N.append("id_company",(F=s==null?void 0:s.company)==null?void 0:F.id_company),P([]),j(!0),T.post(_+"/api/get/roles",N,{withCredentials:!0}).then(C=>C.data).then(C=>{P(C),j(!1)})}a.useEffect(()=>{t||s.company||(f("/companys"),A.error("Selecciona una empresa ")),x&&q()},[t]);function R(N){let F=N.target.value;M(N.target).is("input[type='checkbox']")?(g(C=>({...C,sadmin:0})),M(N.target).is("input[type='checkbox']:checked")?g(C=>({...C,[N.target.name]:1})):g(C=>({...C,[N.target.name]:0}))):(g(C=>({...C,[N.target.name]:F})),F=="sadmin"&&g(C=>({...C,sadmin:1})))}function b(N){let F=new FormData;h.rol!==void 0&&h.type_add!==void 0&&(F.append("sadmin",h!=null&&h.sadmin?h.sadmin:0),F.append("delete",h!=null&&h.delete?h.delete:0),F.append("read",h!=null&&h.read?h.read:0),F.append("add",h!=null&&h.add?h.add:0),F.append("send",h!=null&&h.send?h.send:0),F.append("rol",h.rol),F.append("id_company",s.company.id_company),u?(is(N.target),F.append("id_rol",h==null?void 0:h.id_rol),T.post(_+"/api/update/permissions",F,{withCredentials:!0}).then(C=>C.data).then(async C=>{C.status&&(await q(),i(!1),ke(N.target)),C.msg&&(A.error("Opps error al aplicar cambios de permisos"),ke(N.target))}).catch(C=>{ke(N.target)})):(is(N.target),T.post(_+"/api/upload/rol",F,{withCredentials:!0}).then(C=>C.data).then(C=>{C.status?(F.append("id_rol",C.id_rol),T.post(_+"/api/update/permissions",F,{withCredentials:!0}).then(O=>O.data).then(async O=>{O.status&&(await q(),i(!1),ke(N.target)),O.msg&&(A.error("Opps error al aplicar cambios de permisos"),ke(N.target))}).catch(O=>{ke(N.target)})):(C.msg&&A.error(C.msg),ke(N.target))}).catch(C=>{ke(N.target)})))}function w(N){let F=N.target.value;F&&(o(F),n(!0))}function k(N){is(N.target);let F=new FormData;F.append("id_company",s.company.id_company),F.append("id_rol",v),v?T.post(_+"/api/delete/rol",F,{withCredentials:!0}).then(C=>C.data).then(C=>{C.status&&(n(!1),q()),C.msg&&A.error(C.msg),ke(N.target)}).catch(C=>{ke(N.target)}):A.error("No has seleccionado ningun id")}function E(N){let F=N.target.value;i(!0),d(!0),g(C=>({...C,id_rol:y[F].id_rol,rol:y[F].rol})),setTimeout(()=>{y[F].permissions.sadmin?(g(C=>({...C,type_add:"sadmin"})),document.querySelector("select").value="sadmin"):(g(C=>({...C,type_add:"pers"})),document.querySelector("select").value="pers",p.forEach((C,O)=>{y[F].permissions[C]&&document.querySelector(`input[name='${C}']`).click()}))},25)}return e.jsxs(e.Fragment,{children:[e.jsx(De,{visible:c,callback:n,onClick:k},c?"opxen":"clxose"),e.jsxs(te,{onClick:b,maxWidth:380,visible:l,callback:i,next:u?"Actualizar":"Guardar",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:u?"Editar rol":"Agregar rol"})}),e.jsxs("div",{className:"content",children:[u?"":e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de rol",name:"rol",onChange:R,value:(h==null?void 0:h.rol)==null?"":h==null?void 0:h.rol})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"type_add",id:"",onChange:R,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Seleccionar tipo"}),e.jsx("option",{value:"pers",children:"Personalizado"}),e.jsx("option",{value:"sadmin",children:"Super Admin"})]})}),h.type_add=="pers"?e.jsx("table",{children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Permisos"}),e.jsx("td",{children:"Seleccionar"})]}),p.map(N=>e.jsxs("tr",{children:[e.jsx("td",{children:N}),e.jsx("td",{children:e.jsx("input",{type:"checkbox",onChange:R,name:N})})]}))]})}):h.type_add=="sadmin"?e.jsxs("div",{className:"ad",children:[e.jsx("p",{children:"Advertencia"}),e.jsx("span",{children:"Al asignar un rol con permisos de super administrador, le daras derecho a hacer las mismas acciones que tu cuenta principal, podra manipular empresas o hacer cosas que solamente tu puedes hacer."})]}):e.jsx(e.Fragment,{})]})]},l?"open":"close"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus roles"}),e.jsx("span",{children:"Crea y elimina los roles de tu empresa, da permisos a usuarios para que puedan iniciar sesion y manipular tu empresa"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:N=>{i(!0),g(r),d(!1)},children:"Crear nuevo rol"})})]}),e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx(hs,{}),e.jsxs("div",{className:"box box-padding",children:[y.map((N,F)=>{var C,O,H,Z,ee,I,$,V;return e.jsxs("div",{className:"item flex",children:[e.jsx("div",{className:"info",children:e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:[N.rol," ",N.permissions.sadmin==!0?e.jsx("span",{className:"super-adm",children:"ADM"}):""," "]}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})}),e.jsxs("div",{children:[e.jsx("p",{children:"Lectura"}),e.jsx("div",{className:"center-roles",children:(C=N==null?void 0:N.permissions)!=null&&C.read?e.jsx("span",{className:"yes",children:e.jsx(ye,{})}):((O=N==null?void 0:N.permissions)==null?void 0:O.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(ye,{})}):e.jsx("span",{className:"no",children:e.jsx(Je,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Envio"}),e.jsx("div",{className:"center-roles",children:(H=N==null?void 0:N.permissions)!=null&&H.send?e.jsx("span",{className:"yes",children:e.jsx(ye,{})}):((Z=N==null?void 0:N.permissions)==null?void 0:Z.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(ye,{})}):e.jsx("span",{className:"no",children:e.jsx(Je,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Borrar"}),e.jsx("div",{className:"center-roles",children:(ee=N==null?void 0:N.permissions)!=null&&ee.delete?e.jsx("span",{className:"yes",children:e.jsx(ye,{})}):((I=N==null?void 0:N.permissions)==null?void 0:I.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(ye,{})}):e.jsx("span",{className:"no",children:e.jsx(Je,{})})})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Agregar"}),e.jsx("div",{className:"center-roles",children:($=N==null?void 0:N.permissions)!=null&&$.add?e.jsx("span",{className:"yes",children:e.jsx(ye,{})}):((V=N==null?void 0:N.permissions)==null?void 0:V.sadmin)==!0?e.jsx("span",{className:"yes",children:e.jsx(ye,{})}):e.jsx("span",{className:"no",children:e.jsx(Je,{})})})]}),e.jsx("div",{children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:E,value:F,children:e.jsx(ds,{})}),e.jsx("button",{onClick:w,value:N.id_rol,children:e.jsx(ae,{})})]})})]},F)}),x?e.jsx(ve,{}):y.length==0?e.jsx(pe,{}):""]})]})})]})}function _t(){const{UserInfo:s}=a.useContext(X),[t,l]=a.useState([]),[i,c]=a.useState(!1),[n,p]=a.useState({name:"",password:"",email:"",id_rol:""}),[m,u]=a.useState(!1),[d,r]=a.useState([]),[h,g]=a.useState(!1),[v,o]=a.useState(),[x,j]=a.useState(!1),[f,y]=a.useState({id_user:"",id_rol:""}),[P,q]=a.useState(!1);function R(C){let O=C.target.value,H=C.target.name;p(Z=>({...Z,[H]:O}))}function b(){var O;g(!0);let C=new FormData;C.append("id_company",(O=s==null?void 0:s.company)==null?void 0:O.id_company),T.post(_+"/api/get/subusers",C,{withCredentials:!0}).then(H=>H.data).then(H=>{g(!1),l(H)}).catch(H=>{g(!1)})}function w(){var C;if(n.name&&n.email&&n.password&&n.id_rol)if(n.password.length>=6){let O=new FormData;u(!0),O.append("name",n.name),O.append("email",n.email),O.append("password",n.password),O.append("id_rol",n.id_rol),O.append("id_company",(C=s.company)==null?void 0:C.id_company),T.post(_+"/api/upload/subuser",O,{withCredentials:!0}).then(H=>H.data).then(H=>{u(!1),H.status&&(c(!1),l([]),b())}).catch(H=>{u(!1)})}else A.error("Tu password no es correcta debe de tener 6 o mas caracteres");else A.error("Opps has dejado campos vacios")}function k(C){y(O=>({...O,id_user:t[C].id,id_rol:t[C].id_rol,name:t[C].name})),setTimeout(()=>{document.querySelector("select").value=t[C].id_rol},20),j(!0)}function E(C){let O=t[C].id;O&&(o(O),q(!0))}a.useEffect(()=>{var O;let C=new FormData;C.append("id_company",(O=s==null?void 0:s.company)==null?void 0:O.id_company),T.post(_+"/api/get/roles",C,{withCredentials:!0}).then(H=>H.data).then(H=>{r(H)}),b()},[]);function N(){var C;if(f.id_rol&&f.id_user){u(!0);let O=new FormData;O.append("id_company",(C=s==null?void 0:s.company)==null?void 0:C.id_company),O.append("id_rol",f.id_rol),O.append("id_user",f.id_user),T.post(_+"/api/update/subuser",O,{withCredentials:!0}).then(H=>H.data).then(H=>{H.status&&(b(),l([]),A.success("Has editato el usuario correctamente."),j(!1)),u(!1)}).catch(H=>{u(!1)})}}function F(){var C;if(v){u(!0);let O=new FormData;O.append("id_user",v),O.append("id_company",(C=s==null?void 0:s.company)==null?void 0:C.id_company),T.post(_+"/api/delete/subuser",O,{withCredentials:!0}).then(H=>H.data).then(H=>{H.status&&(q(!1),u(!1),b(),l([]),A.success("Has borrado el usuario correctamente."))})}else A.error("Opps no has seleccionado nada")}return e.jsxs(e.Fragment,{children:[e.jsx(De,{visible:P,callback:q,onClick:F,Pending:m}),e.jsxs(te,{visible:x,callback:j,Pending:m,onClick:N,next:"Editar",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Editar"})}),e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{children:["Editar rol del usuario @",f.name]}),e.jsxs("select",{onChange:C=>{y(O=>({...O,id_rol:C.target.value}))},name:"",id:"",children:[e.jsx("option",{disabled:!0,selected:!0,children:"Seleccionar Rol"}),d.map((C,O)=>e.jsx("option",{value:C.id_rol,children:C.rol}))]})]})]}),e.jsx(te,{visible:i,callback:c,next:"Agregar",onClick:w,Pending:m,children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Agregar"}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre",name:"name",onChange:R})}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Email",name:"email",onChange:R})}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"password",placeholder:"Contraseña",name:"password",onChange:R})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"id_rol",id:"",onChange:R,children:[e.jsx("option",{value:"",children:"Seleccionar Rol"}),d.map((C,O)=>e.jsx("option",{value:C.id_rol,children:C.rol}))]})})]})},`${i?"open":"close"}`),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus usuarios"}),e.jsx("span",{children:"Crea y elimina usuarios, estos usuarios son de tu empresa, deben de tener un rol asignado para poder hacer ciertas funciones. Estos usuarios pueden utilizar la api si le das el acceso y podran consumir recursos desde alli."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:C=>{c(!0)},children:"Crear nuevo usuario"})})]}),e.jsx(hs,{}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[t.map((C,O)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default-user.jpg",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:C.name}),e.jsxs("span",{className:"desc",children:["Rol - ",C.rol]}),e.jsx("br",{}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:H=>{k(O)},value:O,children:e.jsx(ds,{})}),e.jsx("button",{onClick:H=>{E(O)},value:C.id_rol,children:e.jsx(ae,{})})]})})]},O)),h==!1?t.length==0?e.jsx(pe,{name:"usuarios"}):"":e.jsx(ve,{})]})})})]})}function bs({campaign:s,setFormProgamming:t}){const[l,i]=a.useState("default");function c(m){let u=m.target.value;i(u)}function n(){i("default")}function p(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"return-top",children:e.jsx("button",{onClick:n,children:e.jsx(Oe,{})})})})}return a.useEffect(()=>{switch(l){case"daysname":t({target:{value:"bucle",name:"p_type"}});break}},[l]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Programar campaña"})}),e.jsxs("div",{className:"data",children:[l=="default"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"select-buttons",children:[e.jsx("button",{onClick:c,value:"date",children:"Fecha especifica"}),e.jsx("button",{onClick:c,value:"daysname",children:"Dias especificos"}),e.jsx("button",{onClick:c,value:"daysnumber",children:"Recordatorios"}),e.jsx("button",{onClick:c,value:"fidelizacion",children:"Fidelizacion"})]})}):"",l=="date"?e.jsxs(e.Fragment,{children:[e.jsx(p,{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"date",name:"date",onChange:t})}),e.jsxs("div",{className:"form-input flex",children:[e.jsx("input",{type:"text",placeholder:"hora",name:"hh",onChange:t}),e.jsx("input",{type:"text",placeholder:"minuto",name:"ii",onChange:t}),e.jsxs("select",{name:"x",id:"",children:[e.jsx("option",{value:"pm",children:"p.m."}),e.jsx("option",{value:"am",children:"a.m."})]})]})]}):"",l=="daysname"?e.jsxs(e.Fragment,{children:[e.jsx(p,{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Que dia de la semana quieres que se envie"}),e.jsxs("select",{name:"dd",onChange:t,id:"",children:[e.jsx("option",{value:"Sun",children:"Domingo"}),e.jsx("option",{value:"Mon",children:"Lunes"}),e.jsx("option",{value:"Tues",children:"Martes"}),e.jsx("option",{value:"Wed",children:"Miércoles"}),e.jsx("option",{value:"Thurs",children:"Jueves"}),e.jsx("option",{value:"Fri",children:"Viernes"}),e.jsx("option",{value:"Sat",children:"Sábado"})]})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("button",{children:"Cada 1 mes"}),e.jsx("br",{}),e.jsx("button",{children:"Cada 2 meses"}),e.jsx("br",{}),e.jsx("button",{children:"Cada 3 meses"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Cuando expira"}),e.jsx("input",{type:"date",onChange:t,name:"timeExpire"})]})]}):"",l=="daysnumber"?e.jsxs(e.Fragment,{children:[e.jsx(p,{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Que dia quieres que se envie (Esto enviara el numero elegio cada mes, es decir ejemplo: 01 es igual a los 01 de cada mes)"}),e.jsx("select",{name:"dd",onChange:t,children:Array.from({length:31},(m,u)=>e.jsx("option",{value:String(u+1).padStart(2,"0"),children:String(u+1).padStart(2,"0")},u+1))})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Cuando expira (Si no pones fecha es indefinido)"}),e.jsx("input",{type:"date",onChange:t,name:"timeExpire"})]})]}):"",l=="fidelizacion"?e.jsxs(e.Fragment,{children:[e.jsx(p,{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Que campo validador quieres utilizar (estas campañas funcionan de forma que verifican si en el campo validador elegido esta una fecha en caso de ser asi se enviara un correo al usuario, con los parametros configurados)"}),e.jsxs("select",{name:"dd",onChange:t,children:[e.jsx("option",{value:"",children:"Selecciona el campo"}),e.jsx("option",{value:"",children:"Birthday"}),e.jsx("option",{value:"",children:"Extra 1"}),e.jsx("option",{value:"",children:"Extra 2"}),e.jsx("option",{value:"",children:"Extra 3"}),e.jsx("option",{value:"",children:"Extra 4"}),e.jsx("option",{value:"",children:"Extra 5"})]})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Cuando expira (Si no pones fecha es indefinido)"}),e.jsx("input",{type:"date",onChange:t,name:"timeExpire"})]})]}):""]})]})}function Et({value:s,onChange:t,onSave:l}){const i=a.useRef(null),[c,n]=a.useState(""),[p,m]=a.useState(!0),[u,d]=a.useState(0),r=h=>{const g=i.current,v=window.getSelection().toString(),o=g.selectionStart,x=c.substring(0,o),j=c.substring(o),f=x+h+v+j;n(f),g.focus()};return a.useEffect(()=>{t(c),d(c.length)},[c]),a.useEffect(()=>{s&&p&&(m(!1),n(s))},[s]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"textarea-sms",children:[e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:()=>r("$name"),children:"Nombre"}),e.jsx("button",{onClick:()=>r("$lastname"),children:"Apellido"}),e.jsx("button",{onClick:()=>r("$dni"),children:"Dni"}),e.jsx("button",{onClick:()=>r("$code"),children:"Codigo"}),e.jsx("button",{onClick:()=>r("$city"),children:"Ciudad"}),e.jsx("button",{onClick:()=>r("$country"),children:"Pais"}),e.jsx("button",{onClick:()=>r("$birthday"),children:"Nacimiento"}),e.jsx("button",{onClick:()=>r("$address"),children:"Direccion"}),e.jsx("button",{onClick:()=>r("$occupation"),children:"Ocupacion"}),e.jsx("button",{onClick:()=>r("$gender"),children:"Sexo"}),e.jsx("button",{onClick:()=>r("$phone"),children:"Telefono"}),e.jsx("button",{onClick:()=>r("$email"),children:"Correo Electronico"}),e.jsx("button",{onClick:()=>r("$1"),children:"Extra (1)"}),e.jsx("button",{onClick:()=>r("$2"),children:"Extra (2)"}),e.jsx("button",{onClick:()=>r("$3"),children:"Extra (3)"}),e.jsx("button",{onClick:()=>r("$4"),children:"Extra (4)"}),e.jsx("button",{onClick:()=>r("$5"),children:"Extra (5)"}),e.jsx("button",{onClick:()=>r("$6"),children:"Extra (6)"}),e.jsx("button",{onClick:()=>r("$7"),children:"Extra (7)"}),e.jsx("div",{className:"count",children:e.jsxs("i",{children:["166/",u]})})]}),e.jsx("textarea",{ref:i,className:"text",value:s,onChange:h=>n(h.target.value)}),e.jsxs("div",{className:"bottom-actions",children:[e.jsxs("button",{children:[e.jsx(oa,{})," Borrar"]}),e.jsxs("button",{children:[e.jsx(Fe,{})," Previsualizar SMS"]}),e.jsx("button",{className:"preview",onClick:l,children:"Enviar Campaña"}),e.jsx("button",{className:"preview",onClick:l,children:"Guardar "})]})]})})}function Ft({status:s,PauseCampaign:t,style:l}){return e.jsxs(e.Fragment,{children:[s=="prepare"?e.jsx(e.Fragment,{children:e.jsxs("span",{style:l,children:["En espera... ",e.jsx(K,{icon:"mdi:check"})]})}):"",s=="programmed"?e.jsx(e.Fragment,{children:e.jsxs("span",{style:l,className:"wait-list",children:[" Programada ",e.jsx(ss,{})]})}):"",s=="sent"?e.jsx(e.Fragment,{children:e.jsxs("span",{style:l,className:"ready-list",children:["Enviado ",e.jsx(K,{icon:"mdi:check-all"})," "]})}):"",s=="sending"?e.jsxs(e.Fragment,{children:[e.jsxs("span",{style:l,className:"ready-list",children:[" Enviando... ",e.jsx(pa,{})]}),e.jsx("button",{onClick:t,children:e.jsx(ma,{})})]}):""]})}function Dt({Close:s,campaign:t,setCampaign:l}){const[i,c]=a.useState([]),{UserInfo:n}=a.useContext(X);function p(){var r;let d=new FormData;d.append("id_company",(r=n==null?void 0:n.company)==null?void 0:r.id_company),d.append("type",Ha(t.type_c)),T.post(_+"/api/get/list",d,{withCredentials:!0}).then(h=>h.data).then(h=>{c(h)})}function m(d){d.contacts>1&&d.contacts<5?l(r=>{let h={...r};return h.lists_test=d.id_list,h}):he.error("Tu lista no cumple los requisitos")}function u(){l({...t,lists_test:""})}return a.useEffect(()=>{t.lists_test||p()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Envio de prueba"}),t!=null&&t.lists_test?e.jsx("span",{children:"envia una prueba a tu lista preferida"}):e.jsx("span",{children:"Selecciona una lista para usar en este envio de pruebas no puede exceder los 5 usuarios"})]}),t!=null&&t.lists_test?e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx("div",{className:"box",children:e.jsxs("div",{className:"item flex-wrap",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/lists.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:["Lista ",t==null?void 0:t.lists_test]}),e.jsx("span",{className:"desc",children:"Esta es la lista seleccionada para el envio de pruebas"})]})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{onClick:u,children:e.jsx(ae,{})})})]})}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:d=>{s(!1)},children:"Cerrar"}),e.jsx("button",{children:"Enviar"})]})]}):e.jsx("div",{className:"data",children:e.jsx("div",{className:"row",children:i.map((d,r)=>e.jsx("div",{className:"col-md-12 page-lists",children:e.jsx("div",{className:"box",children:e.jsxs("div",{className:"item flex-wrap select",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/lists.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:d.name}),e.jsxs("span",{className:"desc",children:["Contactos: ",d.contacts]})]})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{onClick:h=>{m(d)},children:e.jsx(be,{})})})]})})}))})})]})}function Tt(){var Be,Ve,Qe,We,He,Ie,Ge;const s=re(),{UserInfo:t}=a.useContext(X),l=Y();a.useState(!1);let i={lists:!1,body:!1,affair:!1};const[c,n]=a.useState(i),[p,m]=a.useState({lists:[]}),[u,d]=a.useState({lists:!1}),[r,h]=a.useState([]),[g,v]=a.useState({sendCampaign:!1}),[o,x]=a.useState({affair:""}),[j,f]=a.useState(!1),[y,P]=a.useState(),[q,R]=a.useState(!1),[b,w]=a.useState({hh:"",mm:"",dd:"",ii:"",yy:"",timeExpire:"",p_type:"default"}),[k,E]=a.useState(!1);a.useState({});const[N,F]=a.useState(),[C,O]=a.useState(!1);function H(S){var L;Z(!0);let D=new FormData;D.append("id_company",(L=t==null?void 0:t.company)==null?void 0:L.id_company),r.lists&&D.append("ignore_id",r.lists),m(W=>({...W,lists:[]})),S&&D.append("search",S),T.post(_+"/api/get/list",D,{withCredentials:!0}).then(W=>W.data).then(W=>{m(le=>({...le,lists:W})),Z(!1)})}function Z(S){d(D=>({...D,lists:S}))}let ee=0;function I(S){let D=S.target.value;clearTimeout(ee),ee=setTimeout(()=>{H(D)},250)}function $(){clearTimeout(ee)}a.useEffect(()=>{c.lists&&H()},[c]),a.useEffect(()=>{var D;let S=new FormData;S.append("id_company",(D=t==null?void 0:t.company)==null?void 0:D.id_company),S.append("id_campaign",s.id),T.post(_+"/api/get/campaign",S,{withCredentials:!0}).then(L=>L.data).then(L=>{h(L)}).catch(L=>{})},[]),a.useEffect(()=>{r!=null&&r.id_template&&V()},[r]);function V(){var D;let S=new FormData;S.append("id_company",(D=t==null?void 0:t.company)==null?void 0:D.id_company),S.append("id_template",r==null?void 0:r.id_template),S.append("type","all"),T.post(_+"/api/get/templatejson",S,{withCredentials:!0}).then(L=>L.data).then(L=>{var W;F((W=L==null?void 0:L.json)==null?void 0:W.msg)}).catch(L=>{A.error(String(L))})}function B(S){var L,W;let D=S.target.value;if(D){let le=new FormData;le.append("id_list",D),le.append("id_company",(L=t==null?void 0:t.company)==null?void 0:L.id_company),le.append("id_campaign",s.id);let Le=!1;if((W=r==null?void 0:r.lists)!=null&&W.length?r.lists.includes(D)||(Le=!0,h(we=>({...we,lists:we.lists+","+D}))):(h(we=>({...we,lists:D})),Le=!0),Le){let we=M(S.target);we=we.parents(".result"),we.hide("x"),T.post(_+"/api/update/addlistcampaign",le,{withCredentials:!0}).then(Ke=>Ke.data).then(Ke=>{Ke.status}).catch(Ke=>{})}}}function U(S){let D=S.target.value;if(D){let L=new FormData;L.append("id_campaign",r.id_campaign),L.append("id_list",D),L.append("id_company",t.company.id_company),T.post(_+"/api/delete/listscampaign",L,{withCredentials:!0}),h(W=>{var le;return{...W,lists:(le=W==null?void 0:W.lists)==null?void 0:le.replace(","+D,"").replace(D,"")}})}}function se(S){n(i),n(D=>({...D,[S]:!0}))}function G(S){var L;je("sendCampaign",!0);let D=new FormData;D.append("id_company",(L=t==null?void 0:t.company)==null?void 0:L.id_company),D.append("id_campaign",s.id),T.post(_+"/api/send/campaign",D,{withCredentials:!0}).then(W=>W.data).then(W=>{je("sendCampaign",!1),W.status?A.success("Campaña enviada!"):A.error(W.msg)}).catch(W=>{je("sendCampaign",!1)})}function ie(S){let D=S.target.name,L=S.target.value;x(W=>({...W,[D]:L}))}function ne(S){var W;let D=M(S.target);D.addClass("await");let L=new FormData;L.append("affair",o.affair),L.append("id_company",(W=t==null?void 0:t.company)==null?void 0:W.id_company),L.append("id_campaign",r.id_campaign),T.post(_+"/api/update/setaffair",L,{withCredentials:!0}).then(le=>le.data).then(le=>{D.removeClass("await"),le.status&&(n(i),h(Le=>({...Le,affair:o.affair})))}).catch(le=>{D.removeClass("await")})}function je(S,D){v(L=>({...L,[S]:D}))}function Ne(){var D;R(!0);let S=new FormData;S.append("id_company",(D=t==null?void 0:t.company)==null?void 0:D.id_company),S.append("id_campaign",s.id),T.post(_+"/api/delete/campaign",S,{withCredentials:!0}).then(L=>L.data).then(L=>{R(!1),L.status&&l("/campaigns")}).catch(L=>{R(!1)})}function fe(S){let D=S.target.value,L=S.target.name;if(L=="date"){const W=new Date(D),le=W.getDate(),Le=W.getFullYear(),we=W.getMonth()+1;w({...b,dd:le,yy:Le,mm:we})}else w({...b,[L]:D})}function Te(){var D;let S=new FormData;E(!0),S.append("id_company",(D=t==null?void 0:t.company)==null?void 0:D.id_company),S.append("hh",b.hh?b.hh:"?"),S.append("dd",fs(b.dd)?fs(b.dd):"?"),S.append("yy",b.yy?b.yy:"?"),S.append("mm",b.mm?b.mm:"?"),S.append("ii",b.ii?b.ii:"?"),S.append("id_campaign",s.id),S.append("timeExpire",b==null?void 0:b.timeExpire),S.append("p_type",b==null?void 0:b.p_type),S.append("type","campaign"),T.post(_+"/api/update/programming",S,{withCredentials:!0}).then(L=>L.data).then(L=>{E(!1),L.status&&(P(!1),A.success("Campana programada con exito"))}).catch(L=>{E(!1)})}function ze(){var D;let S=new FormData;S.append("msg",N),S.append("id_campaign",s.id),S.append("id_company",(D=t==null?void 0:t.company)==null?void 0:D.id_company),S.append("type","sms"),r!=null&&r.id_template&&S.append("id_template",r==null?void 0:r.id_template),T.post(_+"/api/upload/bodycampaign",S,{withCredentials:!0}).then(L=>L.data).then(L=>{L.status&&A.success("Guardado con exito")}).catch(L=>{A.error(String(L))})}function Ye(){var D;let S=new FormData;S.append("id_campaign",r==null?void 0:r.id_campaign),S.append("id_company",(D=t==null?void 0:t.company)==null?void 0:D.id_company),T.post(_+"/api/update/pausecampaign",S,{withCredentials:!0}).then(L=>L.data).then(L=>{L.status&&h({...r,status:"prepare"})})}return e.jsxs(e.Fragment,{children:[e.jsx(te,{maxWidth:400,minWidth:400,visible:C,callback:O,buttonsActions:!1,children:e.jsx(Dt,{Close:O,setCampaign:h,campaign:r})}),e.jsx(te,{visible:y,callback:P,width:"30%",onClick:Te,maxWidth:"500px",next:"Programar",Pending:k,children:e.jsx(bs,{setFormProgamming:fe,campaign:r})},bs?"XD":"xd"),e.jsx(De,{visible:j,callback:f,Pending:q,onClick:Ne,name:"campana"}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles de campaña"}),e.jsx("span",{children:'Gestiona tus campañas de manera eficiente y optimiza tus estrategias de marketing con nuestra función de "Detalles de Campaña".'})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:S=>{setModalWizard(!0)},children:e.jsx(Oe,{})})})]}),e.jsxs("div",{className:"menu-top-right",children:[e.jsx("button",{className:"programming",onClick:S=>{P(!0)},children:"Programar"}),e.jsx("button",{className:"programming",onClick:S=>l("/campaigns/stats/"+(s==null?void 0:s.id)),children:"Estadisticas"}),e.jsx("button",{className:"programming",onClick:S=>{f(!0)},children:"Eliminar"}),e.jsxs("button",{className:`programming ${g.sendCampaign?"await":""}`,onClick:S=>{O(!0)},children:["Enviar Prueba ",e.jsx("div",{className:"loading"})]}),e.jsxs("button",{className:`send-campaign ${g.sendCampaign?"await":""}`,onClick:G,children:["Enviar Campaña ",e.jsx("div",{className:"loading"})]})]}),e.jsxs("div",{className:"box steps",children:[e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:r.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{style:{position:"relative",top:"21px"},children:[e.jsx("p",{style:{display:"inline"},children:"Estatus:"}),e.jsx(Ft,{style:{marginLeft:"9px",fontSize:"13px",position:"relative",top:"-1px"},PauseCampaign:Ye,status:r==null?void 0:r.status})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(Re,{})}),e.jsxs("button",{children:[e.jsx(de,{})," "]})]})]}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top active",children:[e.jsx("div",{className:"check",children:e.jsx(Ee,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Crear Campaña"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top active",children:[e.jsx("div",{className:"check active",children:e.jsx(Ee,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Elegir Tipo"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{children:"Editar"})})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${r!=null&&r.lists?"active":""}`,children:[e.jsx("div",{className:"check",children:e.jsx(Ee,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Contactos"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"}),e.jsx("div",{className:"selects",children:((Be=r==null?void 0:r.lists)==null?void 0:Be.length)>=1?(Ve=r==null?void 0:r.lists)==null?void 0:Ve.split(",").map((S,D)=>e.jsx("div",{className:"select",children:e.jsxs("p",{children:["Lista: ",S," ",e.jsx("button",{className:"delete",onClick:U,value:S,children:e.jsx(ae,{})})]})})):""})]}),c.lists==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Buscar lista... (Solo obtendras las listas con contactos)"}),e.jsx("input",{type:"search",onKeyUp:I,onKeyDown:$,placeholder:"Buscar"})]}),e.jsxs("div",{className:"search-result",children:[p.lists.map((S,D)=>e.jsx("div",{className:"result",children:e.jsxs("div",{className:"info",children:[e.jsx("p",{children:S.name}),e.jsxs("span",{children:["Contactos: ",S.contacts]}),e.jsx("span",{children:"Agregado: 05/05/2022"}),e.jsx("button",{className:"select",onClick:B,value:S.id_list,children:e.jsx(ha,{})})]})},D)),u.lists?e.jsx(ve,{}):u.lists==!1&&p.lists.length==0?e.jsx(pe,{name:"listas"}):""]})]})}):e.jsx("div",{className:"right",children:e.jsx("button",{onClick:S=>{se("lists")},children:"Editar"})})]})}),(r==null?void 0:r.type_c)=="em"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${r!=null&&r.sender?"active":""}`,children:[e.jsx("div",{className:"check",children:e.jsx(Ee,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Remitente"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{onClick:S=>{se("body")},children:"Editar"})})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${r!=null&&r.affair?"active":""}`,children:[e.jsx("div",{className:"check",children:e.jsx(Ee,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Asunto"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),c.affair==!0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"form-input flex",children:[e.jsx("input",{type:"search",onChange:ie,name:"affair",placeholder:"Asunto..."}),e.jsx("button",{onClick:ne,className:"save",children:"Guardar"})]})})}):e.jsx("div",{className:"right",children:e.jsx("button",{onClick:S=>{se("affair")},children:"Editar"})})]})})]}):"",e.jsx("div",{className:"item",children:e.jsxs("div",{className:`top ${r!=null&&r.template?"active":""}`,children:[e.jsx("div",{className:"check",children:e.jsx(Ee,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Plantilla"}),e.jsx("span",{className:"desc approve",children:"Aprobado!"})]}),c.body==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[(r==null?void 0:r.type_c)=="em"?e.jsx(e.Fragment,{children:r!=null&&r.template?e.jsxs("div",{className:"preview-template",children:[e.jsx("p",{children:(Qe=r==null?void 0:r.template)==null?void 0:Qe.title}),e.jsxs("span",{children:["Plantilla creada:  ",ce((We=r==null?void 0:r.template)==null?void 0:We.time_add)]}),e.jsx("img",{src:ps((He=t==null?void 0:t.company)==null?void 0:He.folder_sftp,(Ie=r==null?void 0:r.template)==null?void 0:Ie.preview_image),alt:""}),e.jsx("br",{}),e.jsx(z,{to:`/editor/canvas/${(Ge=r==null?void 0:r.template)==null?void 0:Ge.id_template}?campaign=`+s.id,children:"Editar plantilla"})]}):e.jsx(z,{to:"/editor/canvas/?campaign="+s.id,children:"Crear una plantilla"})}):"",(r==null?void 0:r.type_c)=="sms"?e.jsx(e.Fragment,{children:c.body==!0?e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsx("div",{className:"form-input flex",children:e.jsx(Et,{value:N,onChange:F,onSave:ze})})})}):""}):""]})}):"",c.body==!1?e.jsx("div",{className:"right",children:e.jsx("button",{onClick:S=>{se("body")},children:"Editar"})}):""]})})]})]})}function Pt({Visible:s,Close:t,Callback:l,loadLists:i}){const{UserInfo:c}=a.useContext(X),[n,p]=a.useState(0),[m,u]=a.useState([_e()]),[d,r]=a.useState({type:"",name:""});Y();function h(o){o.stopPropagation(),o.preventDefault();let x=M(o.target);x.parents(".options").find(".active").removeClass("active"),x.addClass("active");let j=x.attr("value");r(f=>({...f,type:j}))}function g(o){var f;let x=!1,j=M(o.target);if((n===0&&d.type=="em"||d.type=="sms")&&(x=!0),n==1&&d.type!==""&&d.name!==""){j.addClass("await");let y=new FormData;y.append("name",d.name),y.append("type_c",d.type),y.append("id_company",(f=c==null?void 0:c.company)==null?void 0:f.id_company),T.post(_+"/api/upload/list",y,{withCredentials:!0}).then(P=>P.data).then(P=>{P.status&&(t(!1),l(!0),i()),j.removeClass("await")}).catch(P=>{j.removeClass("await")})}x&&p(y=>y+1)}function v(o){let x=o.target.name,j=o.target.value;r(f=>({...f,[x]:j}))}return a.useEffect(()=>{M(".case.active").removeClass("active"),M(".case").eq(n).addClass("active")},[n]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[n>0?e.jsxs("button",{className:"return",onClick:o=>{p(x=>x-1)},children:[e.jsx(Me,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:o=>{t(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear una nueva lista"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de lista que te gustaría crear"})]}),e.jsxs("div",{className:"options flex",id:`options-${m[0]}`,children:[e.jsxs("div",{className:"selector",onClick:h,value:"em",children:[e.jsx("div",{className:"check",children:e.jsx(ue,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"LISTA DE EMAIL"}),e.jsx("span",{children:"La lista de email es una herramienta que te permite administrar tus contactos de manera eficiente. Aquí podrás subir tus contactos para realizar envíos de correo electrónico de forma conveniente y efectiva."})]})]}),e.jsxs("div",{className:"selector",onClick:h,value:"sms",children:[e.jsx("div",{className:"check",children:e.jsx(ue,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"LISTA TELEFONICA"}),e.jsx("span",{children:"Una lista de números es una herramienta que te permite gestionar y organizar de manera efectiva tus contactos telefónicos. Con ella, podrás enviar mensajes de texto rápidos y confiables a cualquier número, sin importar el país."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar Lista"}),e.jsx("span",{className:"desc",children:"Asignale un nombre a tu nueva lista."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de lista"}),e.jsx("input",{type:"text",name:"name",onChange:v,placeholder:"Nombre"})]})})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:"next",onClick:g,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function qt({functions:s}){let{setSelectMultiple:t,selects:l,resetSelection:i,selectMultiple:c}=s;const n=Y();function p(){l.length?n("/contacts/upload/"+JSON.stringify(l)):he.error("No has seleccionado ninguna lista")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top gl",children:[c?e.jsxs(e.Fragment,{children:[e.jsxs("button",{children:["Seleccionando (",l==null?void 0:l.length,")"]}),e.jsx("button",{onClick:p,children:"Subir Contactos"}),e.jsx("button",{onClick:i,children:"Cancelar"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:m=>{t(!0)},children:"Seleccionar Multiple"}),e.jsx("button",{onClick:m=>{n("/contacts/lists/email")},children:"Listas Email"}),e.jsx("button",{onClick:m=>{n("/contacts/lists/sms")},children:"Listas Mensajeria"}),e.jsx("button",{onClick:m=>{n("/contacts/lists/whatsapp")},children:"Listas Whatsapp"})]}),e.jsxs("div",{className:"search",children:[e.jsx("i",{children:e.jsx(ua,{})}),e.jsx("input",{type:"text",placeholder:"Buscar..."})]})]})})}function Lt({type:s,lists:t}){const[l,i]=a.useState(!1),[c,n]=a.useState([]),[p,m]=a.useState(!1),u=Y(),d=h=>{n(g=>g.includes(h)?g.filter(v=>v!==h):[...g,h])},r=()=>{n([]),i(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(qt,{functions:{resetSelection:r,selects:c,selectMultiple:l,setSelectMultiple:i}}),e.jsx(De,{visible:p,callback:m}),e.jsx("div",{className:"row",children:t.map((h,g)=>e.jsx("div",{className:"col-md-3 page-lists",children:e.jsx("div",{className:"box box-padding",children:e.jsxs("div",{className:"item flex-wrap",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/lists.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",title:h.name,children:st(h.name,15)}),e.jsxs("span",{className:"desc",children:["Creado el: ",ce(h.time_add)]}),e.jsx("br",{}),l&&e.jsx("input",{type:"checkbox",onChange:()=>d(h.id_list),checked:c.includes(h.id_list)})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:v=>{u("/contacts/detail/"+h.id_list)},children:e.jsx(Fe,{})}),e.jsx("button",{onClick:v=>{m(!0)},children:e.jsx(ae,{})})]})]})})},g))})]})}function Cs(){const[s,t]=a.useState(),[l,i]=a.useState([]),[c,n]=a.useState(!1),{UserInfo:p}=a.useContext(X),m=re(),u=Y();function d(h){h&&t(!1)}function r(){var g;let h=new FormData;h.append("id_company",(g=p==null?void 0:p.company)==null?void 0:g.id_company),h.append("type",m==null?void 0:m.type),n(!0),i([]),T.post(_+"/api/get/list",h,{withCredentials:!0}).then(v=>v.data).then(v=>{i(v),n(!1)})}return a.useEffect(()=>{r()},[m==null?void 0:m.type]),e.jsxs(e.Fragment,{children:[e.jsx(Pt,{Visible:s,Close:t,Callback:d,loadLists:r}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Listas"}),e.jsx("span",{children:"Estas son tus listas de contactos, puedes subir contactos rapidamente creando una lista y seleccionando tu archivo csv"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:h=>{t(!0)},children:"Crear nueva lista"})})]}),m.type==null?e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsx("div",{className:"box select-list",children:e.jsxs("div",{className:"top",children:[e.jsx("img",{src:"/img/icons/email_list.png",alt:""}),e.jsx("span",{children:"Listas Correos"}),e.jsx("button",{onClick:h=>{u("/contacts/lists/em")},children:"Ir"})]})})}),e.jsx("div",{className:"col-md-3",children:e.jsx("div",{className:"box select-list",children:e.jsxs("div",{className:"top",children:[e.jsx("img",{src:"/img/icons/message_list.png",alt:""}),e.jsx("span",{children:"Listas Telefonicas"}),e.jsx("button",{onClick:h=>{u("/contacts/lists/sms")},children:"Ir"})]})})})]}):e.jsx(Lt,{lists:l,type:m==null?void 0:m.type})]})}function Rt({Status:s}){return e.jsx(e.Fragment,{children:s=="wait"?e.jsxs("span",{className:"wait-list",children:[e.jsx(xa,{})," Subiendo..."]}):s=="ready"?e.jsxs("span",{className:"ready-list",children:[e.jsx(ue,{}),"  Activa"]}):s=="error"?e.jsxs("span",{className:"error-list",children:[e.jsx(ja,{})," Error"]}):e.jsxs("span",{className:"setting-list",children:[e.jsx(Ps,{})," En espera..."]})})}function Mt(){const{UserInfo:s}=a.useContext(X),t=re(),[l,i]=a.useState({}),c=Y();return a.useState(!1),a.useState(!0),a.useEffect(()=>{var p;let n=new FormData;n.append("id_list",t.id),n.append("id_company",(p=s==null?void 0:s.company)==null?void 0:p.id_company),T.post(_+"/api/get/list",n,{withCredentials:!0}).then(m=>m.data).then(m=>{i(m)})},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles de lista"}),e.jsx("span",{children:"Ve los detalle de tus listas y ve si estan listas para ser utilizadas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:n=>{c("/contacts/lists")},children:e.jsx(Oe,{})})})]}),e.jsx("div",{className:"menu-top-right",children:e.jsx("button",{className:"programming",onClick:n=>{c("/contacts/lists/logs/"+t.id)},children:"Logs"})}),e.jsxs("div",{className:"box steps",children:[e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:l.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Contactos"}),e.jsx("span",{children:l.contacts})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Tipo"}),e.jsx("span",{children:l.type})]}),e.jsxs("div",{children:[e.jsx("p",{children:"Estatus"}),e.jsx(Rt,{Status:l.status})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(Ce,{})}),e.jsx("button",{onClick:n=>{c("/contacts/upload/"+t.id)},children:e.jsx(be,{})}),e.jsx("button",{children:e.jsx(ae,{})})]})]}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"check active",children:e.jsx(Ee,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Crear Lista"}),e.jsx("span",{className:"desc approve",children:e.jsx("span",{className:"ready-list",children:"Completado !"})})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"check active",children:e.jsx(Ee,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Elegir Tipo"}),e.jsx("span",{className:"desc approve",children:e.jsx("span",{className:"ready-list",children:"Completado !"})})]})]})}),e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:`check ${l.contacts>0?"active":""}`,children:e.jsx(Ee,{})}),e.jsxs("div",{className:"information",children:[e.jsx("p",{className:"title",children:"Subir Contactos"}),e.jsx("span",{className:"desc",children:l.contacts==0?e.jsx("span",{className:"wait-list",children:"Pendiente"}):e.jsx("span",{className:"ready-list",children:"Completado !"})})]}),e.jsx("div",{className:"right",children:e.jsx("button",{onClick:n=>{c("/contacts/upload/"+t.id)},children:"Subir"})})]})})]})]})}function Ot({Visible:s,Close:t,Callback:l}){var E;const{UserInfo:i}=a.useContext(X),[c,n]=a.useState(0),[p,m]=a.useState([_e()]),[u,d]=a.useState({type:"",file:{}}),r={analize:!1,percentAnalize:"0",approve:!1},[h,g]=a.useState(r),[v,o]=a.useState(!1);let x=M("input[type='file']");const j=Y(),f=re();function y(N){N.stopPropagation(),N.preventDefault();let F=M(N.target);F.parents(".options").find(".active").removeClass("active"),F.addClass("active");let C=F.attr("value");d(O=>({...O,type:C}))}function P(N){var C;let F=!1;switch(M(N.target),(c===0&&u.type=="auto"||u.type=="manu")&&(F=!0),u.type){case"auto":c==1&&((C=u==null?void 0:u.file)==null?void 0:C.name)!==void 0&&w();break}F&&n(O=>O+1)}a.useEffect(()=>{M(".case.active").removeClass("active"),M(".case").eq(c).addClass("active")},[c]);function q(){document.querySelector("input[type='file']").click()}function R(N){g(F=>({...F,percentAnalize:N}))}function b(N){g(F=>({...F,analize:!0})),Ya(N,R).then(F=>{F.analize=="good"&&(g(C=>({...C,approve:!0})),d(C=>({...C,file:F.file})))}).catch(F=>{k(),A.error("Opps! el archivo que intentastes subir no es compatible o tiene algun error."),g(C=>({...C,analize:!1,percentAnalize:0}))})}function w(){var F;o(!0);let N=new FormData;N.append("id_list",f.id),N.append("contacts",u.file),N.append("id_company",(F=i==null?void 0:i.company)==null?void 0:F.id_company),T.post(_+"/api/upload/contacts",N,{withCredentials:!0,headers:{"Content-Type":"multipart/form-data"}}).then(C=>C.data).then(C=>{o(!1),C.status?j("/contacts/detail/"+f.id):A.error(C.msg)}).catch(C=>{o(!1)})}function k(){d(N=>({...N,file:{}})),g(r),x.val("")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[c>0?e.jsxs("button",{className:"return",onClick:N=>{n(F=>F-1)},children:[e.jsx(Me,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:N=>{j("/contacts/detail/"+f.id)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Subir nuevos contactos"}),e.jsx("span",{className:"desc",children:"Selecciona de que manera quieres subir los contactos"})]}),e.jsxs("div",{className:"options flex",id:`options-${p[0]}`,children:[e.jsxs("div",{className:"selector",onClick:y,value:"manu",children:[e.jsx("div",{className:"check",children:e.jsx(ue,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"SUBIR MANUALMENTE"}),e.jsx("span",{children:"Agrega tus contactos de forma rápida y sencilla, uno por uno, rellenando los campos de manera dinámica. Con solo unos pocos clics, podrás tener tus contactos listos para comunicarte con ellos de manera personalizada."})]})]}),e.jsxs("div",{className:"selector",onClick:y,value:"auto",children:[e.jsx("div",{className:"check",children:e.jsx(ue,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"SUBIR MEDIANTE ARCHIVO"}),e.jsx("span",{children:"Importa tus contactos de manera rápida y eficiente mediante un archivo. Solo necesitas preparar un archivo en formato (.csv o .txt) con los detalles de tus contactos y nuestro sistema se encargará de procesarlo y añadirlos a tu lista en un instante."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Subir Archivo"}),e.jsx("span",{className:"desc",children:"Sube tu archivo rapidamente para procesarlo en tu lista de contactos."})]}),h.approve==!0?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"file-adjunt",children:[e.jsx("i",{className:"icon",children:e.jsx(ga,{})}),e.jsxs("div",{className:"file",children:[e.jsx("p",{children:(E=u==null?void 0:u.file)==null?void 0:E.name}),e.jsxs("div",{className:"info",children:[e.jsxs("span",{children:["Tipo de archivo: ",u.file.type]}),e.jsxs("span",{children:["Peso: ",u.file.size," kb"]})]}),e.jsx("button",{className:"delete",onClick:k,children:e.jsx(ae,{})})]})]})}):e.jsxs("div",{className:"upload-contact",children:[e.jsx("input",{type:"file",accept:".csv,.txt",onChange:b,hidden:!0}),h.analize==!0?e.jsx(e.Fragment,{children:e.jsxs("p",{children:["Estamos analizando tu archivo... ",h.percentAnalize,"%"]})}):e.jsx("center",{children:e.jsxs("div",{className:"select-upload",onClick:q,children:[e.jsx("i",{className:"icon",children:e.jsx(va,{})}),e.jsx("p",{children:"Selecciona tu archivo de contactos"})]})})]})]}),e.jsx("div",{className:"actions center",children:e.jsxs("button",{className:`next ${v==!0?"await":""}`,onClick:P,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function At(){return e.jsx(e.Fragment,{children:e.jsx(Ot,{Visible:!0})})}function ws(){const[s,t]=a.useState(!0),[l,i]=a.useState(!1),[c,n]=a.useState({save:!1,campaign:!1}),[p,m]=a.useState({results:[],loadingTemplate:!1}),[u,d]=a.useState(!1),[r,h]=a.useState({}),[g,v]=a.useState(""),[o,x]=a.useState(!1),{UserInfo:j}=a.useContext(X),f=re(),[y,P]=a.useState();let q=["Cargando editor...","Nos tardaremos un poco","Que tal tu dia?","Vamos! con mucha imaginacion.","Ahora es un buen momento!","Un poco mas...","Ya casi!","Había una vez!"];const R=Y();function b($,V){var B=document.createElement("script");B.src=$,B.onload=V,document.head.appendChild(B)}a.useEffect(()=>{i(!0),l&&(b("//editor.unlayer.com/embed.js",function($){}),b("/draganddrop/dist/js/body.js",function($){setTimeout(()=>{t(!1)},3500)}))},[l]);function w(){unlayer.exportHtml(async function($){var V;if(g==""||g==null)A.error("Opps debes definir un titulo primero"),d(!0);else{E("save",!0);let B=new FormData,U=await N().then(se=>se);B.append("preview",U),B.append("title",g),B.append("html",$.html),B.append("json",JSON.stringify($.design)),B.append("id_company",(V=j==null?void 0:j.company)==null?void 0:V.id_company),B.append("type","email"),f.id&&B.append("id_template",f.id),T.post(_+"/api/upload/bodycampaign",B,{withCredentials:!0}).then(se=>se.data).then(se=>{se.status&&f.id==null&&R(`/editor/canvas/${se.id_body}`),E("save",!1)}).catch(se=>{E("save",!1)})}})}function k(){i(!0),M("#editor").html(""),R("/editor/canvas")}function E($,V){n(B=>({...B,[$]:V}))}async function N(){return new Promise(($,V)=>{let B=document.querySelector(".preview-template");try{unlayer.exportHtml(U=>{B.innerHTML=U.html,B.innerHTML&&as(B,{allowTaint:!1,useCORS:!0}).then(se=>{let G=se.toDataURL("image/png");$(G)})})}catch(U){V(U)}})}function F(){var V;let $=new FormData;$.append("id_company",(V=j==null?void 0:j.company)==null?void 0:V.id_company),T.post(_+"/api/get/templatesall",$,{withCredentials:!0}).then(B=>B.data).then(B=>{m(U=>({...U,results:B}))}).catch(B=>{})}function C(){x(!0)}function O($){var B;let V=new FormData;V.append("id_company",(B=j==null?void 0:j.company)==null?void 0:B.id_company),V.append("id_campaign",$),T.post(_+"/api/get/campaign",V,{withCredentials:!0}).then(U=>U.data).then(U=>{U&&h(U)})}a.useEffect(()=>{let V=new URLSearchParams(window.location.search).get("campaign");V&&O(V),F();let B=0;P(q[0]),setInterval(()=>{let U=q.length;B=B+1,P(q[B-1]),B>=U&&(B=0)},4500)},[]),a.useEffect(()=>{var $;if(f.id){let V=new FormData;t(!0),V.append("id_template",f.id),V.append("id_company",($=j==null?void 0:j.company)==null?void 0:$.id_company),T.post(_+"/api/get/templatejson",V,{withCredentials:!0}).then(B=>B.data).then(B=>{t(!1),B.json?unlayer.loadDesign(JSON.parse(B.json)):A.error("Error al cargar la template")}).catch(B=>{t(!1)})}},[f==null?void 0:f.id]);function H($){v($.target.value)}function Z($){R(`/editor/canvas/${$}${r!=null&&r.id_campaign?"?campaign="+r.id_campaign:""}`)}function ee(){var V;E("campaign",!0);let $=new FormData;$.append("id_campaign",r.id_campaign),$.append("id_company",(V=j==null?void 0:j.company)==null?void 0:V.id_company),$.append("id_template",f.id),T.post(_+"/api/update/settemplate",$,{withCredentials:!0}).then(B=>B.data).then(B=>{E("campaign",!1),B.status&&(A.success(B.msg),h(U=>({...U,id_template:f.id})))}).catch(B=>{E("campaign",!1)})}function I(){var V;let $=new FormData;$.append("id_campaign",r.id_campaign),$.append("id_company",(V=j==null?void 0:j.company)==null?void 0:V.id_company),h(B=>({...B,id_template:""})),T.post(_+"/api/delete/settemplate",$,{withCredentials:!0}).then(B=>B.data).then(B=>{})}return e.jsxs(e.Fragment,{children:[s?e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:[y," ",e.jsx("div",{className:"loading"})]})]})})}):"",e.jsxs(te,{visible:u,onClick:$=>{d(!1)},next:"Asignar",callback:d,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Elige un titulo"})}),e.jsx("br",{}),e.jsx("div",{className:"content",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Esto te ayudara a identificar tu plantilla"}),e.jsx("input",{type:"text",placeholder:"Titulo de template",onChange:H})]})}),e.jsx("br",{})]}),e.jsxs(te,{visible:o,minWidth:"50%",buttonSave:!1,maxWidth:"150px",callback:x,children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Mis Plantillas"})}),e.jsx("br",{}),e.jsxs("div",{className:"content row",children:[p.results.map(($,V)=>{var B;return e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"template",onClick:U=>{Z($.id_template)},children:[e.jsx("p",{children:$.title}),e.jsxs("span",{children:["Agregada: ",ce($.time_add)]}),e.jsx("img",{src:ps((B=j==null?void 0:j.company)==null?void 0:B.folder_sftp,$.preview_image)})]})},V)}),p.loadingTemplate==!1&&p.results.length==0?e.jsx(pe,{name:"plantillas"}):""]})]}),e.jsxs("div",{className:"editor-canvas",children:[e.jsx("header",{children:e.jsx("link",{href:"/draganddrop/dist/css/style.css",rel:"stylesheet",type:"text/css"})}),e.jsxs("div",{className:"topnav1",children:[e.jsxs("div",{className:"buttons",children:[e.jsxs("button",{style:{background:"transparent"},onClick:$=>{R("/home")},children:[e.jsx(Oe,{})," Volver"]}),r.name?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"campaign",children:[e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""}),e.jsx("p",{children:r==null?void 0:r.name}),e.jsx("span",{children:"Campaña seleccionada"})]}),r.id_template!==f.id?e.jsxs("button",{className:`${c.campaign==!0?"await":""}`,onClick:ee,children:[e.jsx(fa,{})," Usar Plantilla",e.jsx("div",{className:"loading"})]}):e.jsxs(e.Fragment,{children:[e.jsx("button",{className:"use",children:"Utilizando plantilla"}),e.jsx("button",{onClick:I,children:e.jsx(ae,{})})]})]}):""]}),e.jsxs("div",{className:"buttons right",children:[e.jsxs("button",{className:`${c.save==!0?"await":""}`,onClick:w,children:[f.id?e.jsxs(e.Fragment,{children:[e.jsx(Re,{})," Editar"]}):e.jsxs(e.Fragment,{children:[" ",e.jsx(Na,{})," Guardar"]}),e.jsx("div",{className:"loading"})]}),e.jsxs("button",{onClick:C,children:[e.jsx(be,{})," Cargar plantilla"]}),e.jsxs("button",{onClick:k,children:[e.jsx(ya,{})," Nuevo"]}),e.jsx("button",{onClick:C,children:e.jsx(ba,{})})]})]}),e.jsx("div",{className:"preview-template"}),e.jsx("div",{id:"editor"})]})]})}function $t(){const s=Y(),[t,l]=a.useState([]),[i,c]=a.useState(!0),[n,p]=a.useState({id_delete:void 0,pending:!1}),[m,u]=a.useState(!1);qe();const{UserInfo:d}=a.useContext(X);function r(){var v;c(!0);let g=new FormData;g.append("id_company",(v=d==null?void 0:d.company)==null?void 0:v.id_company),T.post(_+"/api/get/surveys",g,{withCredentials:!0}).then(o=>o.data).then(o=>{l(o),c(!1)}).catch(o=>{c(!1),A.error(String(o))})}a.useEffect(()=>{i&&r()},[]);function h(){var v;p(o=>({...o,pending:!0}));let g=new FormData;g.append("id_company",(v=d==null?void 0:d.company)==null?void 0:v.id_company),g.append("id_survey",n.id_delete),T.post(_+"/api/delete/survey",g,{withCredentials:!0}).then(o=>o.data).then(o=>{u(!1),o.status&&r(),p(x=>({...x,pending:!1}))}).catch(o=>{p(x=>({...x,pending:!1}))})}return e.jsxs(e.Fragment,{children:[e.jsx(De,{visible:m,Pending:n.pending,onClick:h,callback:u}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis encuestas"}),e.jsx("span",{children:"Gestiona tus encuestas rapidamente y optimiza tus estrategias"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:g=>{s("/surveys/editor")},children:"Crear nueva encuesta"})})]}),e.jsxs("div",{className:"row",children:[i==!1?t.map((g,v)=>{var o;return e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${_}/api/get/previewsurvey?miniature=${g.miniature})`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{onClick:x=>{u(!0),p(j=>({...j,id_delete:g.id_survey}))},children:e.jsx(ae,{})}),e.jsx("button",{onClick:x=>{s("/surveys/editor/"+g.id_survey)},children:e.jsx(Re,{})}),e.jsx("button",{onClick:x=>{s(`/stats/survey/${g.id_survey}`)},children:e.jsx(Ce,{})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:(o=g==null?void 0:g.header)==null?void 0:o.title}),e.jsxs("span",{children:["Encuesta agregada el: ",ce(g.time_add)]})]})]})},v)}):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(ve,{})})}),i==!1&&t.length==0?e.jsx(pe,{name:"encuestas"}):""]})]})}function zt({header:s,value:t,keyid:l,setModalImage:i,page:c,setEdit:n,setJson:p}){var v;function m(o,x,j){u(j),n({type:o,key:x,page:c})}function u(o){let x=M(o.target).parents(".question");M(".question.active").removeClass("active"),x.addClass("active")}function d(o){let x=o.target.value;p(j=>{let f=[...j];return f[c].quests[l].type=x,f})}function r(o){u(o),o.stopPropagation(),n({});let x=!0;p(j=>{const f=[...j];return x&&(f[c].quests[l].questions.push({}),x=!1),f})}function h(o,x){o.stopPropagation();let j=!0;p(f=>{var P;let y=[...f];if(j&&(P=y[c])!=null&&P.quests[l]){let q=[];y[c].quests[l].questions.forEach((R,b)=>{b!==x?q.push(R):j=!1}),y[c].quests[l].questions=q}return y})}function g(o){o.stopPropagation();let x=!0;p(j=>{let f=[...j],y=[];return f[c].quests.forEach((P,q)=>{q!==l&&y.push(P)}),x&&(f[c].quests=y,x=!1),f})}return M(document).on("click",".options button",function(o){o.stopImmediatePropagation(),M(".edit-active").removeClass("edit-active"),M(this).parents(".options").parents(".quest").addClass("edit-active")}),M(document).on("click",".top p, .top span",function(o){o.stopImmediatePropagation(),M(".edit-active").removeClass("edit-active"),M(this).addClass("edit-active")}),e.jsx(e.Fragment,{children:e.jsxs("div",{className:"question edit",colorBox:s.colorBox,style:{borderRadius:s.borderRadius+"px"},children:[e.jsx("button",{className:"delete-question",onClick:o=>{g(o),n({})},children:e.jsx(ae,{})}),e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",onClick:o=>{m("title",l,o)},children:t!=null&&t.title?t.title:"Elige un titulo..."}),e.jsx("span",{onClick:o=>{m("desc",l,o)},children:t!=null&&t.desc?t.desc:"Elige una descripcion... (opcional)"})]}),t!=null&&t.img?e.jsx("img",{className:"img-quest",src:t.img}):"",e.jsxs("div",{className:"select-types",children:[e.jsx("button",{onClick:r,className:"add-quest",children:"Agregar pregunta"}),e.jsx("button",{onClick:o=>{i(!0),n({key:l,type:"add-image",page:c})},children:e.jsx(Ca,{})}),e.jsxs("select",{onChange:d,children:[e.jsx("option",{value:"input",children:"Respuesta corta"}),e.jsx("option",{value:"input-large",children:"Respuesta larga"}),e.jsx("option",{value:"radio",children:"Opcion multiple"}),e.jsx("option",{value:"check",children:"Casillas de verificacion"})]})]}),(v=t==null?void 0:t.questions)==null?void 0:v.map((o,x)=>e.jsxs("div",{className:"quest",children:[t.type=="input"?e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",disabled:!0,placeholder:`${o.title?o.title:"Elige una descripcion"}`}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:j=>{h(j,x)},children:e.jsx(ae,{})}),e.jsx("button",{onClick:j=>{n({key:l,type:"title-quest",quest_key:x,page:c})},children:e.jsx(Re,{})})]})]}):"",t.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:l})," ",e.jsx("span",{children:o.title?o.title:"Elige una descripcion..."}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:j=>{h(j,x)},children:e.jsx(ae,{})}),e.jsx("button",{onClick:j=>{n({key:l,type:"title-quest",quest_key:x,page:c})},children:e.jsx(Re,{})})]})]}):"",t.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:l})," ",e.jsx("span",{children:o.title?o.title:"Elige una descripcion..."}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:j=>{h(j,x)},children:e.jsx(ae,{})}),e.jsx("button",{onClick:j=>{n({key:l,type:"title-quest",quest_key:x,page:c})},children:e.jsx(Re,{})})]})]}):"",t.type=="input-large"?e.jsxs(e.Fragment,{children:[e.jsx("textarea",{type:"checkbox",name:l,placeholder:o.title,style:{width:"100%"}}),e.jsxs("div",{className:"options",children:[e.jsx("button",{onClick:j=>{h(j,x)},children:e.jsx(ae,{})}),e.jsx("button",{onClick:j=>{n({key:l,type:"title-quest",quest_key:x,page:c})},children:e.jsx(Re,{})})]})]}):""]},x))]})})}function Bt({json:s=[],header:t={},setJson:l,setEdit:i,edit:c}){var P,q;const[n,p]=a.useState(!1),[m,u]=a.useState(!1);a.useState([]);const[d,r]=a.useState("email"),[h,g]=a.useState({width:"",left:""});Y();function v(){l(R=>[...R,{quests:[{title:"",desc:"",type:"radio",questions:[]}]}])}function o(R){let b=!0;l(w=>{var N;let k=[...w],E=(N=k[R])==null?void 0:N.quests;return b&&(k[R].quests=[...E,{title:"",desc:"",type:"radio",img:"",questions:[]}],b=!1),k})}function x(R){l(b=>{let w=[...b],k=[];return w.forEach((E,N)=>{N!==R&&k.push(E)}),w=k,w})}function j(){let R=document.querySelector("#image-edit").value;l(b=>{let w=[...b];return w[c.page].quests[c.key].img=R,w}),p(!1)}function f(){window.localStorage.setItem("surveyPreview",JSON.stringify(s)),window.localStorage.setItem("surveyPreviewHead",JSON.stringify(t)),window.open("/surveys/preview","_blank")}function y(R){let b=R.target.value;r(b),g(w=>({...w,width:R.target.offsetWidth,left:R.target.offsetLeft}))}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{onClick:f,children:[e.jsx(Fe,{})," Previsualizar"]}),e.jsxs("button",{onClick:R=>{u(!0)},children:[e.jsx(Xe,{})," Enviar"]})]})}),e.jsxs(te,{visible:m,minWidth:"35%",callback:u,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enviar"}),e.jsx("span",{children:"Tienes distintas opciones para enviar esta encuesta"})]}),t.short_link==null?e.jsx("span",{className:"alert-save",children:"Opps! aun no puedes usar esta funcion no has guardado la encuesta."}):"",e.jsx("div",{className:"menu-change",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("span",{children:"Enviar por"})}),e.jsx("li",{children:e.jsx("button",{className:`${d=="email"?"active":""}`,onClick:y,value:"email",children:e.jsx(wa,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${d=="link"?"active":""}`,onClick:y,value:"link",children:e.jsx(ka,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${d=="embed"?"active":""}`,onClick:y,value:"embed",children:e.jsx(Sa,{})})}),e.jsx("li",{children:e.jsx("button",{className:`${d=="settings"?"active":""}`,onClick:y,value:"settings",children:e.jsx(Ps,{})})}),e.jsx("div",{className:"hover",style:{left:h.left+"px",width:h.width+"px"}})]})}),e.jsxs("div",{className:`result-menu ${t.short_link==null?"disabled":""} ${d=="email"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo electronico"}),e.jsx("input",{type:"text",placeholder:"contactos"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Asunto"}),e.jsx("input",{type:"text",placeholder:"informacion de contacto"})]})]}),e.jsxs("div",{className:`result-menu ${t.short_link==null?"disabled":""} ${d=="link"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Enlace"}),e.jsx("input",{type:"text",placeholder:"contactos",value:`${es}/survey/${t.token}`,disabled:!0})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Enlace Corto"}),e.jsx("input",{type:"text",placeholder:"url corta",value:t.short_link,disabled:!0})]})]}),e.jsx("div",{className:`result-menu ${t.short_link==null?"disabled":""} ${d=="embed"?"show":""}`,children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Incorporar HTML"}),e.jsx("input",{type:"text",placeholder:"contactos"})]})}),e.jsxs("div",{className:`result-menu ${t.short_link==null?"disabled":""} ${d=="settings"?"show":""}`,children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Condicion de respuesta "}),e.jsxs("select",{name:"",id:"",children:[e.jsx("option",{value:"",children:"Responder varias veces"}),e.jsx("option",{value:"",children:"Responder solo una vez"})]})]}),e.jsx("div",{className:"form-input"})]})]}),e.jsxs(te,{visible:n,callback:p,onClick:j,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Url de imagen"}),e.jsx("span",{children:"Ingresa la url de la imagen que quieres integrar en tu pregunta"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",id:"image-edit",placeholder:"https://image.com/image.png"})})]}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${t.blur}px)brightness(${t.brightness})`,background:t.background2}}),e.jsxs("div",{className:"survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(P=t==null?void 0:t.logo)!=null&&P.length?e.jsx("img",{className:"logo",src:t==null?void 0:t.logo}):"",(q=t==null?void 0:t.title)!=null&&q.length?e.jsx("p",{className:"",children:t.title}):""]})}),s==null?void 0:s.map((R,b)=>{var w;return e.jsxs("div",{className:"page",children:[e.jsxs("div",{className:"info-page",children:[e.jsxs("p",{children:["Pagina ",b+1]}),e.jsx("button",{className:"delete",onClick:k=>{x(b)},children:e.jsx(ae,{})})]}),(w=R.quests)==null?void 0:w.map((k,E)=>e.jsx(zt,{header:t,setModalImage:p,value:k,page:b,keyid:E,setEdit:i,setJson:l},E)),e.jsxs("button",{className:"add-new",onClick:k=>{o(b)},children:[e.jsx(Ae,{})," Nueva pregunta"]})]},b)}),e.jsxs("div",{className:"add-new",onClick:v,children:[e.jsx(Ae,{})," Nueva pagina"]})]})]})}function Vt({setHeader:s,header:t,json:l}){const[i,c]=a.useState(!1),{UserInfo:n}=a.useContext(X);a.useState();function p(u){let d=u.target.value,r=u.target.name;r=="background"&&(d.indexOf("http")>=0||d.indexOf("www")>=0)&&(d=`url(${d})`),s(h=>({...h,[r]:d}))}async function m(){var d;let u=new FormData;if(t.id_survey&&u.append("id_survey",t.id_survey),u.append("header",JSON.stringify(t)),u.append("id_company",(d=n==null?void 0:n.company)==null?void 0:d.id_company),u.append("json",JSON.stringify(l)),t.title)if(l.length>=1){let r=await new Promise((h,g)=>{as(document.querySelector(".center"),{allowTaint:!1,useCORS:!0}).then(v=>{let o=v.toDataURL("image/png");h(o)})});r&&u.append("miniature",r.replace("data:image/png;base64,","")),c(!0),T.post(_+"/api/upload/survey",u,{withCredentials:!0}).then(h=>h.data).then(h=>{h.status&&(h.id_survey&&(t.id_survey||s(g=>({...g,id_survey:h.id_survey}))),h.token&&s(g=>({...g,token:h.token})),h.short_link&&s(g=>({...g,short_link:h.short_link}))),c(!1)}).catch(h=>{c(!1)})}else A.error("Opps no has agregado una pregunta.");else A.error("Opps no has elegido un titulo")}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar encuesta"}),e.jsx("span",{children:"Personaliza tu encuesta, imagen, fondo, titulo y logo."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Titulo"}),e.jsx("input",{type:"text",onChange:p,defaultValue:t.title,name:"title",placeholder:"Ej: Encuesta de fidelidad"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Ingresa url de tu logo"}),e.jsx("input",{type:"text",onChange:p,defaultValue:t.logo,name:"logo"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",onChange:p,defaultValue:t.background,name:"background"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",defaultValue:0,step:"0.1",max:"10",value:t.blur,onChange:p,name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",defaultValue:1,step:"0.0",max:"1",value:t.brightness,onChange:p,name:"brightness"})]}),e.jsx("br",{}),e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar Cajas"}),e.jsx("span",{children:"Personaliza de tu manera preferida tus cajas."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border Radius"}),e.jsx("input",{type:"range",defaultValue:.1,step:"0.1",max:"20",onChange:p,name:"borderRadius"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{onClick:u=>{p(u)},name:"colorBox",value:"ligth",children:"Modo Claro"}),e.jsx("button",{onClick:u=>{p(u)},name:"colorBox",value:"dark",children:"Modo Oscuro"}),e.jsx("button",{onClick:u=>{p(u)},name:"colorBox",value:"transparent",children:"Transparente"})]})]}),e.jsx("div",{className:"option",children:e.jsxs("button",{className:`save ${i?"await":""}`,onClick:m,children:["Guardar ",e.jsx("div",{className:"loading"})]})})]})}function Qt({value:s,page:t,setJson:l,keyid:i}){function c(n){let p=n.target.value;l(m=>{const u=[...m];return u[t].quests[i].title=p,u[t].quests[i].response=0,u})}return a.useEffect(()=>{s!=null&&s.title&&(document.querySelector("#title-edit").value=s.title)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo de pregunta"}),e.jsx("input",{id:"title-edit",onChange:c,type:"text",placeholder:"Ej: Como te llamas?"})]})})})}function Wt({page:s,value:t,setJson:l,keyid:i}){function c(n){let p=n.target.value;l(m=>{const u=[...m];return u[s].quests[i].desc=p,u})}return a.useEffect(()=>{t!=null&&t.desc&&(document.querySelector("#title-edit").value=t.desc)},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descripcion de pregunta"}),e.jsx("input",{id:"title-edit",onChange:c,type:"text",placeholder:"Ej: Tu nombre es importante por que..."})]})})})}function Ht({quest_key:s,page:t,value:l,setJson:i,keyid:c}){function n(p){p.stopPropagation();let m=p.target.value;i(u=>{let d=[...u];return d[t].quests[c].questions[s].title=m,d})}return a.useEffect(()=>{},[]),e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo de pregunta"}),e.jsx("input",{id:"title-edit",onChange:n,type:"text",placeholder:"Ej: Como te llamas?"})]})})})}function It({edit:s,json:t,setJson:l}){var i;return e.jsxs(e.Fragment,{children:[s.type=="title"?e.jsx(Qt,{page:s.page,value:t[s.key],setJson:l,keyid:s.key},s.key):"",s.type=="desc"?e.jsx(Wt,{page:s.page,value:t[s.key],setJson:l,keyid:s.key},s.key):"",s.type=="title-quest"?e.jsx(Ht,{page:s.page,quest_key:s.quest_key,value:(i=t[s.page].quests[s.key])==null?void 0:i.questions[s.quest_key],setJson:l,keyid:s.key},s.key):""]})}function ks(){const[s,t]=a.useState({title:"",logo:"",background:"",blur:"0.5",brightness:""}),[l,i]=a.useState([]),[c,n]=a.useState({type:"",key:"",quest_key:"",page:""}),{UserInfo:p}=a.useContext(X),m=re(),[u,d]=a.useState(!0);function r(){var g;d(!0);let h=new FormData;h.append("id_survey",m.idsurvey),h.append("id_company",(g=p==null?void 0:p.company)==null?void 0:g.id_company),T.post(_+"/api/get/surveys",h,{withCredentials:!0}).then(v=>v.data).then(v=>{d(!1),v.header&&t(JSON.parse(v.header)),v.json&&i(JSON.parse(v.json))}).catch(v=>{d(!1),A.error(String(v))})}return a.useEffect(()=>{m.idsurvey?r():setTimeout(()=>{d(!1)},1e3)},[]),e.jsxs(e.Fragment,{children:[u?e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:["Cargando... ",e.jsx("div",{className:"loading"})]})]})}):"",e.jsx("div",{className:"editor-surveys",children:e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:"left",children:e.jsx(Vt,{setHeader:t,header:s,json:l})}),e.jsx("div",{className:"center",style:{background:s.background},children:e.jsx(Bt,{json:l,header:s,edit:c,setJson:i,setEdit:n})}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"type-editor",children:e.jsx(It,{edit:c,setJson:i,json:l,header:s})})})]})})]})}function Ss(){var r,h,g,v;const[s,t]=a.useState([]),[l,i]=a.useState(0),[c,n]=a.useState({}),[p,m]=a.useState(0);a.useEffect(()=>{t(JSON.parse(window.localStorage.getItem("surveyPreview"))),n(JSON.parse(window.localStorage.getItem("surveyPreviewHead")))},[]),a.useEffect(()=>{s.length&&i(s.length)},[s]);function u(){m(o=>o+1)}function d(){m(o=>o-1)}return e.jsxs("div",{className:"survey real",colorBox:c==null?void 0:c.colorBox,style:{background:c==null?void 0:c.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${c.blur}px)brightness(${c.brightness})`}}),e.jsxs("div",{className:"margin-survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(r=c==null?void 0:c.logo)!=null&&r.length?e.jsx("img",{className:"logo",src:c==null?void 0:c.logo}):"",(h=c==null?void 0:c.title)!=null&&h.length?e.jsx("p",{className:"",children:c.title}):""]})}),(v=(g=s[p])==null?void 0:g.quests)==null?void 0:v.map((o,x)=>{var j;return e.jsxs("div",{className:"question",style:{borderRadius:(c==null?void 0:c.borderRadius)+"px"},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:o.title}),e.jsx("span",{children:o.desc})]}),o!=null&&o.img?e.jsx("img",{className:"img-quest",src:o.img}):"",(j=o==null?void 0:o.questions)==null?void 0:j.map((f,y)=>e.jsxs("div",{className:"quest",children:[o.type=="input"?e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",disabled:!0,placeholder:`${f.title}`})}):"",o.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:0})," ",e.jsx("span",{children:f.title})]}):"",o.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:0})," ",e.jsx("span",{children:f.title})]}):"",o.type=="input-large"?e.jsx(e.Fragment,{children:e.jsx("textarea",{name:0,placeholder:f.title,style:{width:"100%"}})}):""]},y))]},x)}),e.jsx("div",{className:"buttons-bottom",children:p==l-1?e.jsxs(e.Fragment,{children:[p?e.jsx("button",{onClick:d,children:"Volver"}):"",e.jsx("button",{children:"Terminar"})]}):p<l-1?e.jsxs(e.Fragment,{children:[p?e.jsx("button",{onClick:d,children:"Volver"}):"",e.jsx("button",{onClick:u,children:"Siguiente"})]}):""})]})]})}function Gt(){var x,j;const s=re(),[t,l]=a.useState([]),[i,c]=a.useState(!0),[n,p]=a.useState([]),[m,u]=a.useState(),[d,r]=a.useState(0);function h(){let f=new FormData;f.append("key",s.id),T.post(_+"/api/get/survey",f,{withCredentials:!0}).then(y=>y.data).then(y=>{c(!1),l(y)}).catch(y=>{c(!1)})}function g(f){f.preventDefault(),r(y=>y+1)}function v(f){f.preventDefault(),r(y=>y-1)}a.useEffect(()=>{s.id&&i==!0&&h()},[]),a.useEffect(()=>{t.header&&(u(JSON==null?void 0:JSON.parse(t==null?void 0:t.header)),p(JSON.parse(t.json)))},[t]);function o(f){f.preventDefault();let y=document.querySelector("#form"),P=new FormData(y);P.append("key",s.id),T.post(_+"/api/upload/responseSurvey",P,{withCredentials:!0})}return e.jsx(e.Fragment,{children:i?e.jsx("div",{className:"app",children:e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:["Cargando encuesta... ",e.jsx("div",{className:"loading"})]})]})})}):e.jsxs("div",{className:"survey real",colorBox:m==null?void 0:m.colorBox,style:{background:m==null?void 0:m.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${m==null?void 0:m.blur}px)brightness(${m==null?void 0:m.brightness})`}}),e.jsxs("div",{className:"margin-survey",children:[e.jsx("div",{className:"head",children:e.jsxs("center",{children:[(x=m==null?void 0:m.logo)!=null&&x.length?e.jsx("img",{className:"logo",src:m==null?void 0:m.logo}):"",(j=m==null?void 0:m.title)!=null&&j.length?e.jsx("p",{className:"",children:m.title}):""]})}),e.jsx("form",{method:"POST",encType:"multipart/form-data",id:"form",children:n.map((f,y)=>{var P;return e.jsx("div",{className:`page ${y==d?"active":""}`,children:(P=f==null?void 0:f.quests)==null?void 0:P.map((q,R)=>{var b;return e.jsxs("div",{className:"question",style:{borderRadius:(m==null?void 0:m.borderRadius)+"px"},children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:q.title}),e.jsx("span",{children:q.desc})]}),q!=null&&q.img?e.jsx("img",{className:"img-quest",src:q.img}):"",(b=q==null?void 0:q.questions)==null?void 0:b.map((w,k)=>e.jsxs("div",{className:"quest",children:[q.type=="input"?e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",name:`${y}-${R}-${k}`,placeholder:`${w.title}`})}):"",q.type=="radio"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"radio",name:`${y}-${R}`,value:w.title})," ",e.jsx("span",{children:w.title})]}):"",q.type=="check"?e.jsxs("div",{className:"radio",children:[e.jsx("input",{type:"checkbox",name:`${y}-${R}-${k}`})," ",e.jsx("span",{children:w.title})]}):"",q.type=="input-large"?e.jsx(e.Fragment,{children:e.jsx("textarea",{name:`${y}-${R}-${k}`,placeholder:w.title,style:{width:"100%"}})}):""]},k))]},R)})})})}),e.jsx("div",{className:"buttons-bottom",children:d==n.length-1?e.jsxs(e.Fragment,{children:[d?e.jsx("button",{onClick:v,children:"Volver"}):"",e.jsxs("button",{onClick:o,className:"pending",children:["Terminar ",e.jsx("div",{className:"loading"})]})]}):e.jsxs(e.Fragment,{children:[d?e.jsx("button",{onClick:v,children:"Volver"}):"",e.jsx("button",{onClick:g,children:"Siguiente"})]})})]})]})})}function us(){const s=re();return e.jsx(e.Fragment,{children:e.jsx("div",{className:"menu-top",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:`/stats/survey/${s.id}`,children:"Estadisticas"})}),e.jsx("li",{children:e.jsx(z,{to:`/stats/survey/${s.id}/detail`,children:"Detalles de respuestas"})}),e.jsx("li",{children:e.jsx(z,{to:`/stats/survey/${s.id}/response`,children:"Respuestas"})})]})})})}function Jt(){const{UserInfo:s}=a.useContext(X),[t,l]=a.useState(!1);a.useState({});const[i,c]=a.useState([]),[n,p]=a.useState([]),[m,u]=a.useState([]),[d,r]=a.useState({}),[h,g]=a.useState({options:{chart:{id:"basic-bar"},xaxis:{categories:[]}},series:[{name:"series-1",data:[]}]}),v=re();function o(){var j;let x=new FormData;x.append("id_company",(j=s==null?void 0:s.company)==null?void 0:j.id_company),x.append("id_survey",v.id),T.post(_+"/api/get/statsurvey",x,{withCredentials:!0}).then(f=>f.data).then(f=>{p(f.days),r(f),u(f.daysResponse),c(f.countrys)})}return a.useEffect(()=>{o(),l(!0)},[t]),a.useEffect(()=>{g(x=>({...x,options:{...x.options,xaxis:{categories:n}},series:[{name:"serie 1",data:m}]}))},[m]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Encuesta: ",v.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu encuesta"})]})}),e.jsx(us,{}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Respuestas este mes"})}),e.jsx($e,{options:h.options,series:h.series,type:"area",height:300})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Preguntas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:d==null?void 0:d.totalQuestions})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Paginas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:d==null?void 0:d.pageTotal})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Respuestas Totales"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:d.totalResponse})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Visitas"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"100"})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{className:"title",children:"Tops Paises"})}),e.jsx("div",{className:"result countryr",children:i.map((x,j)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:Ws(x.country),alt:""}),e.jsx("p",{className:"",children:x.country==""?"Undefined":Hs(String(x.country).toLocaleLowerCase())}),e.jsxs("span",{children:["(",x.amount,")"]})]},j))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding",children:e.jsx("div",{className:"top",children:e.jsx("p",{className:"title",children:"Tops Respuestas"})})})})]})})]})}function Xt(){const s=re(),t=Y(),{UserInfo:l}=a.useContext(X),[i,c]=a.useState([]),[n,p]=a.useState(!1),[m,u]=a.useState({series:[{name:"Respuestas",data:[]}],chart:{type:"area",height:350,stacked:!0},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:[]}}),[d,r]=a.useState({series:[],theme:{palette:"palette3"},labels:[],chart:{type:"donut"}}),h=()=>{let o=new FormData;o.append("key",s.id),T.post(_+"/api/get/survey",o,{withCredentials:!0}).then(x=>x.data).then(x=>{c(JSON.parse(x.json)),g(x)})};function g(o){let x=JSON.parse(o.json),j=[],f=[],y=[],P=[];x.map((q,R)=>{q.quests.map((b,w)=>{b.type=="radio"&&b.questions.map((k,E)=>{j.push(`${k.title} (${R+1})`),f.push(k.response),y.push(`${b.title} - ${k.title}`),P.push(k.response),u(N=>({...N,xaxis:{...N,categories:j}})),u(N=>(N.series=[{name:"Respuesta",data:f}],N)),r(N=>(N.labels=y,N.series=P,N))})})})}function v(o){var j;let x=new FormData;x.append("id_company",(j=l==null?void 0:l.company)==null?void 0:j.id_company),x.append("id_survey",s.id),x.append("case",o),T.post(_+"/api/get/downloadsurvey",x,{withCredentials:!0}).then(f=>f.data).then(f=>{})}return a.useEffect(()=>{h()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"modal-map",style:{display:n?"block":"none"},children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Mapa completo"}),e.jsx("span",{children:"Puedes ver el mapa completamente de las respuestas de los usuarios."}),e.jsx("button",{className:"close",onClick:o=>{p(!1)},children:e.jsx(Je,{})})]}),e.jsx("div",{className:"map-suv complete",children:i==null?void 0:i.map((o,x)=>e.jsxs("div",{className:"pg",children:[e.jsx("div",{className:"info",children:e.jsxs("p",{children:["Pagina ",x+1]})}),e.jsx("div",{className:"separate"}),o.quests.map((j,f)=>e.jsxs("div",{className:"quests",children:[e.jsx("div",{className:"info",children:e.jsx("p",{children:j.title})}),e.jsx("div",{className:"separate"}),e.jsx("div",{className:"questions-type",children:j.questions.map((y,P)=>e.jsxs("div",{className:"question",children:[e.jsx("div",{className:"separate quest"}),e.jsxs("span",{className:"value",children:[y.title,j.type=="radio"?e.jsxs(e.Fragment,{children:[" (",y.response,") "]}):""]})]}))})]},f))]}))})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Detalles De Encuesta "}),e.jsx("span",{children:"Estas son los detalles de las respuestas"})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"go-wizard",children:"Descargar (CSV)"}),e.jsx("button",{className:"go-wizard",onClick:o=>{v("json")},children:"Descargar (JSON)"}),e.jsx("button",{className:"go-wizard",onClick:o=>{t(`/stats/survey/${s.id}/response`)},children:"Respuestas"})]})]}),e.jsx(us,{}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Estadisticas de respuestas"}),e.jsx("span",{children:"Estadisticas de las respuestas, veras cuantas veces respondieron a algo."})]}),e.jsx($e,{options:m,series:m.series,type:"bar",height:300})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top ",children:[e.jsx("p",{children:"Porcentaje de respuesta"}),e.jsx("span",{children:"Este es el porcentaje de respuesta por cada pregunta."})]}),d.labels.length?e.jsx($e,{options:d,series:d.series,type:"donut",height:300}):""]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top ",children:[e.jsx("p",{children:"Mapa de encuesta"}),e.jsx("span",{children:"Este es mapa de tu encuesta, donde veras un mapa sobre la encuesta ejecutada."})]}),e.jsx("div",{className:"map-suv maxheight",children:i==null?void 0:i.map((o,x)=>e.jsxs("div",{className:"pg",children:[e.jsx("div",{className:"info",children:e.jsxs("p",{children:["Pagina ",x+1]})}),e.jsx("div",{className:"separate"}),o.quests.map((j,f)=>e.jsxs("div",{className:"quests",children:[e.jsx("div",{className:"info",children:e.jsx("p",{children:j.title})}),e.jsx("div",{className:"separate"}),e.jsx("div",{className:"questions-type",children:j.questions.map((y,P)=>e.jsxs("div",{className:"question",children:[e.jsx("div",{className:"separate quest"}),e.jsxs("span",{className:"value",children:[y.title,j.type=="radio"?e.jsxs(e.Fragment,{children:[" (",y.response,") "]}):""]})]}))})]},f))]}))}),e.jsx("button",{className:"action-complete",onClick:o=>{p(!0)},children:"Ver mapa completo"})]})})]})]})}function Yt(){let s=re();const[t,l]=a.useState([]),[i,c]=a.useState([]),[n,p]=a.useState(!1),{UserInfo:m}=a.useContext(X);function u(){var r;let d=new FormData;d.append("id_survey",s.id),d.append("id_company",(r=m==null?void 0:m.company)==null?void 0:r.id_company),T.post(_+"/api/get/responsesurvey",d,{withCredentials:!0}).then(h=>h.data).then(h=>{h.length&&(l(h),h.forEach((g,v)=>{c(o=>[...o,JSON.parse(g.json_response)])}))})}return a.useEffect(()=>{p(!0),n&&u()},[n]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Respuestas"}),e.jsx("span",{children:"Ver todas las respuestas hechas en tu encuesta"})]}),e.jsx("div",{className:"right"})]}),e.jsx(us,{}),e.jsx("div",{className:"row",children:i.map((d,r)=>e.jsx("div",{className:"col-6",children:e.jsx("div",{className:"box box-padding",children:e.jsxs("div",{className:"stat",children:[e.jsx("div",{className:"top",children:e.jsx("div",{className:"top",children:e.jsxs("p",{children:["Respuesta #",r+1]})})}),e.jsx("div",{className:"response",children:Object.entries(d).map(([h,g])=>e.jsx("div",{children:e.jsxs("span",{children:[h,": ",g]})},h))})]})})},r))})]})}function _s(){const s=Y(),[t,l]=a.useState([]),[i,c]=a.useState(!0),{UserInfo:n}=a.useContext(X),[p,m]=a.useState(!1),[u,d]=a.useState(!1),[r,h]=a.useState({url:""}),g=qe();a.useEffect(()=>{Se("/add")&&d(!0)},[g]);function v(x=!1){var f;let j=new FormData;j.append("id_company",(f=n==null?void 0:n.company)==null?void 0:f.id_company),c(!0),x||l([]),T.post(_+"/api/get/myurls",j,{withCredentials:!0}).then(y=>y.data).then(y=>{c(!1),l(y)})}function o(){var j;let x=new FormData;x.append("url",r.url),x.append("id_company",(j=n==null?void 0:n.company)==null?void 0:j.id_company),m(!0),T.post(_+"/api/upload/shortlink",x,{withCredentials:!0}).then(f=>f.data).then(f=>{m(!1),f.status&&(v(),d(!1))}).catch(f=>{m(!1)})}return a.useEffect(()=>{v()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(te,{visible:u,onClick:o,callback:d,Pending:p,next:"Crear",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nuevo enlace"}),e.jsx("span",{children:"Crea tu nuevo enlace rapidamente con esta herramienta"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"url",placeholder:"Enlace",onChange:x=>{h({url:x.target.value})}})})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Tus urls "}),e.jsx("span",{children:"Estas son tus urls cortas que has creado donde podras llevar las estadisticas de cada una."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:x=>{d(!0)},children:"Crear nueva URL"})})]}),e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[t.map((x,j)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:"URL CORTA"}),e.jsxs("span",{className:"desc",children:[es,"/",x.token]}),e.jsx("br",{}),e.jsxs("span",{className:"desc",children:[es,"/",x.token]})]})]}),e.jsxs("div",{children:[e.jsx("p",{children:"URL"}),e.jsx("span",{children:x.real_link})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:f=>{s("")},children:e.jsx(ae,{})}),e.jsxs("button",{onClick:f=>{s("/shorturls/"+x.id_shortlink)},children:[e.jsx(de,{})," "]})]})]},j)),i==!0?e.jsx(ve,{}):i==!1&&t.length==0?e.jsx(pe,{name:"urls"}):""]})})})]})}function Kt(){var v,o;const s=re(),{UserInfo:t}=a.useContext(X),[l,i]=a.useState([]);a.useState([]);const[c,n]=a.useState(),[p,m]=a.useState([]),u=a.useRef(null),[d,r]=a.useState({series:[{name:"Respuestas",data:[]}],chart:{type:"area",height:350,stacked:!0},plotOptions:{bar:{borderRadius:4,horizontal:!0}},dataLabels:{enabled:!1},xaxis:{categories:[]}}),h=new os({width:600,height:600,image:"/img/icons/iconsvg.png",dotsOptions:{color:"gradient",type:"extra-rounded",gradient:{colorStops:[{offset:0,color:"#000"},{offset:1,color:"#000"}]}},imageOptions:{crossOrigin:"anonymous",margin:20}});function g(x){var f;let j=new FormData;j.append("id_company",(f=t==null?void 0:t.company)==null?void 0:f.id_company),j.append("month",x.month),j.append("year",x.year),j.append("id_shortlink",s.id),T.post(_+"/api/get/statshortlink",j,{withCredentials:!0}).then(y=>y.data).then(y=>{i(y.countrys),m(y.devices),r(P=>(P.series[0].data=y.dayResponse,P.xaxis.categories=y.days,P)),n(y.token)})}return a.useEffect(()=>{g({month:new Date().getMonth()+1})},[]),a.useEffect(()=>{c&&(h.append(u.current),h.update({data:es+"/"+c+"?qr=true"}))},[c]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Detalle de enlace: ",s.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu enlace corto"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:"",children:"Volver"})})]}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Clicks este mes"}),e.jsx("span",{children:"Aca podras evaluar los clicks hecho por el mes actual y anteriores."})]}),(o=(v=d==null?void 0:d.series[0])==null?void 0:v.data)!=null&&o.length?e.jsx($e,{options:d,series:d.series,type:"area",height:300}):""]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Visitas"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"20"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"QR Code"})}),e.jsx("div",{className:"resp-number",children:e.jsx("div",{className:"qr-code",children:e.jsx("div",{ref:u})})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Tops Paises"}),e.jsx("span",{children:"Tops de los paises que mas visitaron el enlace"})]}),e.jsx("div",{className:"result countryr",children:l.map((x,j)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:Ws(x.country),alt:""}),e.jsx("p",{className:"",children:x.country==""?"Undefined":Hs(x.country)}),e.jsxs("span",{children:["(",x.count,")"]})]},j))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Tops Os"}),e.jsx("span",{children:"Top de los sistemas operativos mas usado por los usuarios"})]}),e.jsx("div",{className:"result countryr",children:p.map((x,j)=>e.jsxs("div",{className:"country",children:[e.jsx("img",{src:Ka(x.device),alt:""}),e.jsx("p",{className:"",children:x.device}),e.jsxs("span",{children:["(",x.count,")"]})]},j))})]})})]})})]})}function Es(){const[s,t]=a.useState(),l=Y(),[i,c]=a.useState(!1),[n,p]=a.useState([]),[m,u]=a.useState(!1),[d,r]=a.useState({name:""}),{UserInfo:h}=a.useContext(X),g=qe();a.useEffect(()=>{Se("/add")&&c(!0)},[g]);function v(){var j;let x=new FormData;x.append("id_company",(j=h==null?void 0:h.company)==null?void 0:j.id_company),t(!0),T.post(_+"/api/get/shortlinkcampaigns",x,{withCredentials:!0}).then(f=>f.data).then(f=>{t(!1),p(f)}).catch(f=>{t(!1)})}function o(){var j;const x=new FormData;u(!0),x.append("name",d.name),x.append("id_company",(j=h==null?void 0:h.company)==null?void 0:j.id_company),T.post(_+"/api/upload/shortlinkcampaign",x,{withCredentials:!0}).then(f=>f.data).then(f=>{u(!1),f.status&&(v(),c(!1))}).catch(f=>{u(!1)})}return a.useEffect(()=>{v()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(te,{visible:i,onClick:o,callback:c,maxWidth:"250px",Pending:m,next:"Agregar",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nueva campaña"}),e.jsx("span",{children:"Crea tu nueva campaña rapidamente para analizar tus multiples enlaces"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"Nombre de campaña",name:"name",onChange:x=>{r({...d,name:x.target.value})}})})]},i),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Campañas"}),e.jsx("span",{children:"Aca puedes visualizar o crear campañas para enlaces multiples sobre una campaña"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:x=>{c(!0)},children:"Crear nueva campaña"})})]}),e.jsx("div",{className:"body-stats",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[n.map((x,j)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/campaign_profile.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:x.name}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{children:e.jsx(ae,{})}),e.jsx("button",{onClick:f=>{l("/shorturls/campaigns/"+x.id_campaign)},children:e.jsx(Ce,{})})]})]})),s?e.jsx(ve,{}):n.length==0?e.jsx(pe,{name:"campañas"}):""]})})})})]})}function Zt(){var q,R;const s=re(),[t,l]=a.useState(!1),[i,c]=a.useState(!1),{UserInfo:n}=a.useContext(X),[p,m]=a.useState(!0),[u,d]=a.useState(!1),[r,h]=a.useState({});let g={url:"",app:"others"};const[v,o]=a.useState(g),[x,j]=a.useState({series:[{name:"Funnel Series",data:[]}],chart:{type:"bar",height:350},plotOptions:{bar:{borderRadius:0,horizontal:!0,distributed:!0,barHeight:"80%",isFunnel:!0}},dataLabels:{enabled:!0,formatter:function(b,w){return w.w.globals.labels[w.dataPointIndex]+":  "+b}},colors:["#F44F5E","#E55A89","#D863B1","#CA6CD8","#B57BED","#8D95EB","#62ACEA","#4BC3E6"],xaxis:{categories:[]},legend:{show:!0}});function f(b){b.stopPropagation(),o({...v,[b.target.name]:b.target.value})}function y(){var w;let b=new FormData;m(!0),h({}),b.append("id_company",(w=n==null?void 0:n.company)==null?void 0:w.id_company),b.append("id_campaign",s.id),T.post(_+"/api/get/shortlinkcampaign",b,{withCredentials:!0}).then(k=>k.data).then(k=>{var C,O;m(!1),h(k);const E=[];let N=[],F=0;(C=k==null?void 0:k.stats)==null||C.forEach((H,Z)=>{F=F+H.count}),(O=k==null?void 0:k.stats)==null||O.forEach((H,Z)=>{E.push(H.count),N.push(Ua(H.app)+" ("+(H.count*100/F).toFixed(0)+"%)")}),j(H=>{const Z={...H};return Z.series[0].data=E,Z.xaxis.categories=N,Z})}).catch(k=>{})}function P(){var w;c(!0);let b=new FormData;b.append("id_company",(w=n==null?void 0:n.company)==null?void 0:w.id_company),b.append("id_campaign",s==null?void 0:s.id),b.append("url",v.url),b.append("app",v.app),T.post(_+"/api/upload/shortlink",b,{withCredentials:!0}).then(k=>k.data).then(k=>{c(!1),k.status&&(l(!1),y()),k.msg&&A.error(k.msg)}).catch(k=>{c(!1)})}return a.useEffect(()=>{u||(j(b=>{const w={...b};return w.series[0].data=[],w.xaxis.categories=[],w}),y())},[u]),e.jsxs(e.Fragment,{children:[e.jsxs(te,{next:"Agregar",visible:t,callback:l,onClick:P,Pending:i,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nuevo enlace"}),e.jsx("span",{children:"Agrega un nuevo enlace a tu campana"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",placeholder:"URL destino",onChange:f,name:"url"})}),e.jsx("div",{className:"form-input",children:e.jsxs("select",{name:"app",id:"",onChange:f,children:[e.jsx("option",{value:"",children:"Selecciona la aplicacion"}),e.jsx("option",{value:"fb",children:"Facebook"}),e.jsx("option",{value:"in",children:"Instagram"}),e.jsx("option",{value:"x",children:"X (Twitter)"}),e.jsx("option",{value:"email",children:"Correo"}),e.jsx("option",{value:"sms",children:"Sms"}),e.jsx("option",{value:"tik",children:"Tiktok"}),e.jsx("option",{value:"linkd",children:"Linkedin"}),e.jsx("option",{value:"yt",children:"Youtube"}),e.jsx("option",{value:"tele",children:"Telegram"}),e.jsx("option",{value:"ws",children:"Whatsapp"}),e.jsx("option",{value:"others",children:"Otros"})]})})]}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Campaña de enlace: ",s.id]}),e.jsx("span",{children:"Agrega nuevos enlaces para tu campana general de urls"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{onClick:b=>{l(!0)},className:"add",children:"Agregar nuevo enlace"})})]}),e.jsx("div",{className:"body-stats",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"stat box box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Clicks este mes"}),e.jsx("span",{children:"Aca podras evaluar los clicks hecho por el mes actual y anteriores."})]}),p==!1?e.jsx($e,{options:x,series:x.series,type:"bar",height:300}):""]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box box-padding",children:[(q=r==null?void 0:r.links)==null?void 0:q.map((b,w)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_link.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:b.real_link}),e.jsx("span",{className:"desc",children:"Creado el: 29 de may de 2023"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"title",children:"App"}),e.jsx("span",{children:e.jsx("img",{className:"icon-app",src:Za(b.app),alt:""})})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{children:e.jsx(Ce,{})})})]},w)),p?e.jsx(ve,{}):((R=r==null?void 0:r.links)!=null&&R.length,"")]})})]})})]})}function xs({Visible:s,Close:t,loadQrs:l=()=>{},callbackUrl:i=(c,n)=>{}}){const{UserInfo:c}=a.useContext(X);a.useRef(null);const[n,p]=a.useState(0),[m,u]=a.useState([_e()]),[d,r]=a.useState({type:""});a.useState({});const[h,g]=a.useState(!1),v=_e(),o=new os({width:600,height:600,margin:0,qrOptions:{typeNumber:"0",mode:"Byte",errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,margin:10},dotsOptions:{type:"dots",color:"#000000"},backgroundOptions:{color:"#ffffff",gradient:null},image:"/img/icons/logo_color_1.png",dotsOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#6a1a4c",color2:"#6a1a4c",rotation:"0"}},cornersSquareOptions:{type:"extra-rounded",color:"#000000"},cornersSquareOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},cornersDotOptions:{type:"dot",color:"#000000"},cornersDotOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},backgroundOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#ffffff",color2:"#ffffff",rotation:"0"}}});let x={url:""};const[j,f]=a.useState(x);Y();function y(b){b.stopPropagation(),b.preventDefault();let w=M(b.target);w.parents(".options").find(".active").removeClass("active"),w.addClass("active");let k=w.attr("value");r(E=>({...E,type:k}))}async function P(b){let w=!1;if(M(b.target),(n===0&&d.type=="qr-stand"||d.type=="qr-contact")&&(w=!0),n===1){const k=document.querySelector(".qr-result");d.type=="qr-contact"?o.update({data:`BEGIN:VCARD
VERSION:3.0
N:`+j.lname+";"+j.fname+`;;;
FN:`+j.fname+" "+j.lname+`
ORG:`+j.company+`;
TITLE:`+j.jobtitle+`
TEL;type=CELL:`+j.number+`
TEL;type=WORK:`+j.officenum+`
EMAIL;type=INTERNET;type=WORK;type=pref:`+j.email+`
URL:`+j.web+`
ADR;TYPE=work:;;`+j.address1+";"+j.address2+";"+j.city+";"+j.province+";"+j.country+";"+j.pcode+`
REV:`+new Date+`
END:VCARD`}):o.update({data:j.url}),k.innerHTML="",o.append(k),await o.getRawData().then(E=>{let N=new FileReader;N.onload=function(F){const C=F.target.result;r({...d,base64:C})},N.readAsDataURL(E)}),w=!0}if(n===2)if(j.name){let k=new FormData;g(!0),d.type=="qr-stand"?await new Promise((E,N)=>{var F;k.append("url",j.url),k.append("id_company",(F=c==null?void 0:c.company)==null?void 0:F.id_company),T.post(_+"/api/upload/shortlink",k,{withCredentials:!0}).then(C=>C.data).then(C=>{o.update({data:C.shortlink}),o.getRawData().then(O=>{let H=new FileReader;H.onload=function(Z){const ee=Z.target.result;q(ee,C.id_shortlink)},H.readAsDataURL(O)})})}):q(d.base64)}else w=!1,A.error("Opps no has elegido un nombre para tu qr");w&&p(k=>k+1)}function q(b,w=void 0){var E;let k=new FormData;k.append("formqr",JSON.stringify(j)),k.append("id_company",(E=c==null?void 0:c.company)==null?void 0:E.id_company),k.append("type",d.type),k.append("preview",b),w&&k.append("id_concat",w),T.post(_+"/api/upload/qr",k,{withCredentials:!0}).then(N=>N.data).then(N=>{if(N.status){try{l(),i(j.name,N.img)}catch{}A.success("Has subido tu qr con exito")}t(!1),g(!1)}).catch(N=>{g(!1)})}function R(b){let w=b.target.name,k=b.target.value;f(E=>({...E,[w]:k}))}return a.useEffect(()=>{M(`#modal-${v} .case.active`).removeClass("active"),M(`#modal-${v} .case`).eq(n).addClass("active")},[n]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,id:`modal-${v}`,children:[e.jsxs("div",{className:"top-actions",children:[n>0?e.jsxs("button",{className:"return",onClick:b=>{p(w=>w-1)},children:[e.jsx(Me,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:b=>{t(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case active",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crear un nuevo QR individual"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de qr que quieres crear"})]}),e.jsxs("div",{className:"options flex",id:`options-${m[0]}`,children:[e.jsxs("div",{className:"selector",onClick:y,value:"qr-stand",children:[e.jsx("div",{className:"check",children:e.jsx(ue,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"QR Estandar"}),e.jsx("span",{children:"Qr Estandar es un qr basico donde podras almacenar enlaces de tus webs"})]})]}),e.jsxs("div",{className:"selector",onClick:y,value:"qr-contact",children:[e.jsx("div",{className:"check",children:e.jsx(ue,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"QR Contacto"}),e.jsx("span",{children:"Qr Contacto, este es un qr donde podras escanearlo y almacenar un contacto con informacion importante"})]})]})]})]}),d.type=="qr-stand"?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar campaña"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de campaña que te gustaría enviar"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Enlace del qr"}),e.jsx("input",{type:"url",name:"url",onChange:R,placeholder:"Enlace"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre del qr"}),e.jsx("input",{type:"text",onChange:R,name:"name",placeholder:"Nombre para tu QR"})]})]})]})}):e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personaliza tu QR"}),e.jsx("span",{className:"desc",children:"Este es un QR de contacto para generar tu tarjeta de presentacion, puedes personalizarlo con tu informacion necesaria."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre del QR"}),e.jsx("input",{type:"text",onChange:R,name:"name",placeholder:"Nombre para tu QR"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre"}),e.jsx("input",{type:"text",name:"fname",onChange:R,placeholder:"ej: Roberto"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Apellido"}),e.jsx("input",{type:"text",name:"lname",onChange:R,placeholder:"ej: Martinez"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Empresa"}),e.jsx("input",{type:"text",name:"company",onChange:R,placeholder:"ej: Cocacola"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Cargo"}),e.jsx("input",{type:"text",name:"jobtitle",onChange:R,placeholder:"ej: Director"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Celular"}),e.jsx("input",{type:"text",name:"number",onChange:R,placeholder:"ej: +58412000000"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Numero de Oficina"}),e.jsx("input",{type:"text",name:"officenum",onChange:R,placeholder:"ej: (12)"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo Electronico"}),e.jsx("input",{type:"text",name:"email",onChange:R,placeholder:"ej: example@example.com"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Pagina Web"}),e.jsx("input",{type:"text",name:"web",onChange:R,placeholder:"ej: www.example.com"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Direccion"}),e.jsx("input",{type:"text",name:"address1",onChange:R,placeholder:"ej: Chicago, ST "})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Direccion del Trabajo"}),e.jsx("input",{type:"text",name:"address2",onChange:R,placeholder:"ej: Chicago ST, Down Ryder "})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Ciudad"}),e.jsx("input",{type:"text",name:"city",onChange:R,placeholder:"ej: Chicago"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Estado"}),e.jsx("input",{type:"text",name:"province",onChange:R,placeholder:"ej: Chicago"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Pais"}),e.jsx("input",{type:"text",name:"country",onChange:R,placeholder:"ej: Estados Unidos"})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Codigo postal"}),e.jsx("input",{type:"text",name:"pcode",onChange:R,placeholder:"ej: (15306)"})]})})]})})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Previsualiza tu QR "}),e.jsx("span",{className:"desc",children:"Este es el QR que has creado, dale click para subirlo."})]}),e.jsx("div",{className:"qr-result",children:e.jsx("canvas",{})})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:`next ${h?"await":" "}`,onClick:P,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function Ut({Close:s,callback:t}){const[l,i]=a.useState(!1),[c,n]=a.useState(null),[p,m]=a.useState(null);a.useEffect(()=>(setTimeout(()=>{i(!0)},2e3),()=>{c&&c.getTracks().forEach(d=>d.stop())}),[]);const u=()=>{if(p&&c instanceof MediaStream){const d=c.getVideoTracks()[0],r=document.createElement("video");r.srcObject=new MediaStream([d]),r.onloadedmetadata=()=>{p.getContext("2d").drawImage(r,0,0,p.width,p.height);const g=p.toDataURL("image/jpeg");t&&t(g)},r.play().catch(h=>console.error("Error reproduciendo video: ",h))}};return e.jsx(e.Fragment,{children:l&&e.jsxs("div",{className:"camera",children:[e.jsx("video",{style:{width:"100%",height:"auto"},ref:d=>{d&&!c&&navigator.mediaDevices.getUserMedia({video:!0}).then(r=>{d.srcObject=r,n(r)}).catch(r=>console.error("Error al acceder a la cámara: ",r))},autoPlay:!0,playsInline:!0}),e.jsx("canvas",{ref:d=>{d&&m(d)},style:{display:"none"},width:640,height:480}),e.jsx("button",{className:"capture",onClick:u})]})})}function Js({Visible:s,Close:t,Return:l=!0}){const{UserInfo:i}=a.useContext(X);a.useRef(null);const[c,n]=a.useState(0);a.useState([_e()]);const[p,m]=a.useState({type:""}),[u,d]=a.useState(!1),[r,h]=a.useState(!1);Y();async function g(f){var y;if(M(f.target),p.name&&p.image){d(!0);let P=new FormData;P.append("preview",p.image),P.append("id_company",(y=i==null?void 0:i.company)==null?void 0:y.id_company),P.append("type","qr-stand"),P.append("formqr",JSON.stringify(p)),T.post(_+"/api/upload/qr",P,{withCredentials:!0}).then(q=>q.data).then(q=>{d(!1),q.status&&(t(!1),A.success("Se ha subido tu qr correctamente")),q.msg&&A.error(q.msg)}).catch(q=>{d(!1)})}else A.error("Opps hay algo imcompleto")}function v(f){let y=f.target.name,P=f.target.value;m(q=>({...q,[y]:P}))}function o(){M("#file").click()}function x(f){let y=f.target.files,P=M(f.target);if(y.length){let q=new FileReader;q.onload=function(R){if(y[0].type.indexOf("image")>=0){let b=new Image;b.src=R.target.result,b.onload=function(){b.width<=6e3&&b.height<=6e3?m({...p,image:b.src}):A.error(`Opps maximo 600x600 tu imagen es de ${b.width}x${b.height}`)}}else P.val(""),A.error("Opps solo aceptamos imagenes")},q.readAsDataURL(y[0])}}a.useEffect(()=>{M("#wizard2").find(".case").eq(0).addClass("active")},[]);function j(f){m({...p,image:f})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,id:"wizard2",children:[e.jsxs("div",{className:"top-actions",children:[c>0?e.jsxs("button",{className:"return",onClick:f=>{n(y=>y-1)},children:[e.jsx(Me,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",e.jsx("button",{className:"closed",onClick:f=>{t(!1)},children:"X"})]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case ",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Importar QR"}),e.jsx("span",{className:"desc",children:"Guarda la imagen del QR de tu preferencia y subela a la botonera"})]}),e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre para tu QR"}),e.jsx("input",{type:"text",onChange:v,name:"name",placeholder:"Nombre para tu QR"})]}),e.jsxs("div",{className:"upload-qr",children:[p.image==null?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"upload",onClick:o,children:[e.jsx(K,{icon:"basil:upload-outline"}),e.jsx("p",{className:"upload-desc",children:"Has click aca para buscar tu archivo"})]}),r?e.jsx(Ut,{callback:j,Close:h}):"",e.jsx("br",{}),e.jsx("span",{style:{fontSize:"14px",opacity:"0.8"},children:"Cuando le das activar camara toma la foto al QR de tu preferencia, luego dale click en la opcacion Subir Imagen, busca el QR y agregalo a tu botonera."}),e.jsxs("button",{className:"open-cam",onClick:f=>{h(!0)},children:[e.jsx(K,{icon:"ph:camera"})," Activar Camara"]})]}):e.jsx("div",{className:"preview",children:e.jsx("img",{src:p.image,alt:""})}),e.jsx("input",{type:"file",id:"file",onChange:x,hidden:!0})]})]})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:`next ${u?"await":" "}`,onClick:g,children:["Subir imagen ",e.jsx("div",{className:"loading"})]})})]})]})})}function ns(){const[s,t]=a.useState(!1),[l,i]=a.useState(!1),[c,n]=a.useState(!1),[p,m]=a.useState([{},{}]),{UserInfo:u}=a.useContext(X),[d,r]=a.useState(!1),[h,g]=a.useState(),v=qe(),o=Y();a.useEffect(()=>{Se("/add")&&t(!0),Se("/import")&&i(!0)},[v]);function x(){var P;let y=new FormData;y.append("id_company",(P=u==null?void 0:u.company)==null?void 0:P.id_company),T.post(_+"/api/get/qrs",y,{withCredentials:!0}).then(q=>q.data).then(q=>{m(q)})}function j(y){let P=M(y.target),q=P.parents(".item").find("img")[0].src;P.parents(".item").find(".title").text();let R=document.createElement("a");R.href=q,R.download="",R.rel="noopener noreferrer",R.target="_blank",document.querySelector("#root").appendChild(R),R.click(),document.querySelector("#root").removeChild(R)}a.useEffect(()=>{x()},[]);function f(){var P;let y=new FormData;y.append("id_company",(P=u==null?void 0:u.company)==null?void 0:P.id_company),y.append("id_qr",h),T.post(_+"/api/delete/qr",y,{withCredentials:!0}).then(q=>q.data).then(q=>{})}return e.jsxs(e.Fragment,{children:[e.jsx(De,{visible:d,callback:r,onClick:f}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"QR"}),e.jsx("span",{children:"Crea qr personalizados con enlaces para tus webs o qr de contacto"})]}),e.jsx(xs,{Visible:s,Close:t,setModalView:t,loadQrs:x},s?"x1":"x2"),e.jsx(Js,{Visible:l,Close:i,setModalView:i,loadQrs:x},l?"x":"a"),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"add",onClick:y=>{t(!0)},children:" Crear nuevo QR"}),e.jsxs("button",{className:"go-wizard",onClick:y=>{i(!0)},children:[e.jsx(be,{})," Importar QR"]})]})]}),e.jsxs("div",{className:"box box-padding",children:[p.map((y,P)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:Ue(y.qr_preview),alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:y.title}),e.jsxs("span",{className:"desc",children:["Creado el: ",ce(y.time_add)]})]})]}),e.jsx("div",{className:"info",children:e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:"Tipo de QR"}),e.jsx("span",{className:"desc",children:y.type_qr})]})}),e.jsxs("div",{className:"actions",children:[y!=null&&y.id_concat?e.jsx("button",{onClick:q=>{o("/shorturls/"+y.id_concat)},children:e.jsx(K,{icon:"ion:stats-chart-outline"})}):"",e.jsx("button",{onClick:j,children:e.jsx(_a,{})}),e.jsx("button",{onClick:q=>{g(y.id_qr),r(!0)},children:e.jsx(ae,{})})]})]})),c?e.jsx(ve,{}):p.length==0?e.jsx("div",{className:"item",children:e.jsx(pe,{name:"Qrs"})}):""]})]})}function ei({setButtons:s}){function t(l){let i=l.target.value;l.target.name=="background"&&i.indexOf("http")>=0&&(i=`url(${i})`),s(n=>{let p={...n};return p.header[l.target.name]=i,p})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar botonera"}),e.jsx("span",{children:"Personaliza tu botonera, cambiando imagenes, fondo, texto, botones, enlaces."})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",defaultValue:"#fff",onChange:t,name:"background"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",onChange:t,defaultValue:0,step:"0.1",max:"10",name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",onChange:t,defaultValue:1,step:"0.1",max:"1",name:"brightness"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border radius"}),e.jsx("input",{type:"range",onChange:t,defaultValue:1,step:"0.1",max:"50",name:"radius"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{name:"colorBox",onClick:t,value:"ligth",children:"Modo Claro"}),e.jsx("button",{name:"colorBox",onClick:t,value:"dark",children:"Modo Oscuro"})]})]})]})}function si({buttons:s,setButtons:t,editor:l,setEditor:i}){var R,b,w,k,E,N,F,C,O,H,Z,ee;const[c,n]=a.useState(!1),[p,m]=a.useState(!1),[u,d]=a.useState(!1),[r,h]=a.useState(void 0),{UserInfo:g}=a.useContext(X),v=re();function o(){t(I=>({...I,buttons:I.buttons.concat({})}))}function x(I){I.preventDefault(),I.stopPropagation();let $=M(I.target);switch(M(".page.buttonsbody .active").removeClass("active"),$.addClass("active"),$.attr("type")){case"buttons":var V=$.attr("id");i({type:"button",key:V});break;case"rs":var V=$.attr("id");i({type:"rs",key:V});break;default:i({type:$.attr("type")});break}return!1}function j(I){t($=>{const V={...$};return V.buttons=V.buttons.filter((B,U)=>U!==I),i({type:"",key:""}),V})}function f(){let I=document.querySelector("#select-rs").value,$=document.querySelector("#input-rs").value;(s==null?void 0:s.rs.length)<=3?t(V=>{const B=[...V.rs];return B.push({type:I,url:$}),{...V,rs:B}}):A.error("Opps ya has agregado muchas redes sociales")}async function y(){var I,$,V;if((($=(I=s.header)==null?void 0:I.titlegl)==null?void 0:$.length)>=1){d(!0);let B=new FormData;B.append("json",JSON.stringify(s)),r==null?B.append("title",s.header.titlegl):B.append("id_buttons",r),B.append("id_company",(V=g==null?void 0:g.company)==null?void 0:V.id_company);let U=await as(document.querySelector(".page .center"),{allowTaint:!1,useCORS:!0}).then(se=>se.toDataURL());B.append("preview",U),T.post(_+"/api/upload/buttons",B,{withCredentials:!0}).then(se=>se.data).then(se=>{d(!1),se.id_buttons&&h(se.id_buttons),se.msg&&A.error(se.msg)}).catch(se=>{d(!1)})}else m(!0),A.error("Opps no puedes avanzar si tu plantilla no posee un titulo")}function P(I){let $=I.target.value;t(V=>{let B={...V};return B.header.titlegl=$,B})}function q(){s.header.titlegl&&(m(!1),A.success("El titulo se aplico con exito"))}return a.useEffect(()=>{var I;if(v.id){let $=new FormData;$.append("id_buttons",v.id),$.append("id_company",(I=g==null?void 0:g.company)==null?void 0:I.id_company),T.post(_+"/api/get/editbuttons",$,{withCredentials:!0}).then(V=>V.data).then(V=>{V.id_buttons&&(t(JSON.parse(V.json)),h(V.id_buttons))})}},[]),e.jsxs(e.Fragment,{children:[e.jsxs(te,{visible:p,close:m,callback:m,onClick:q,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("span",{children:"Elige un titulo general para esta plantilla"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Titulo general"}),e.jsx("input",{onChange:P,type:"text",placeholder:"ej: plantilla 1"})]})]}),e.jsx(te,{visible:c,callback:n,onClick:f,children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Redes Sociales"}),e.jsx("span",{children:"Selecciona que red social quieres agregar"}),e.jsxs("div",{className:"form-input",children:[e.jsx("br",{}),e.jsx("input",{type:"url",placeholder:"Enlace (URL)",id:"input-rs"}),e.jsx("br",{}),e.jsx("br",{}),e.jsxs("select",{name:"",id:"select-rs",children:[e.jsx("option",{value:"",disabled:!0,selected:!0,children:"Seleccionar"}),e.jsx("option",{value:"fb",children:"Facebook"}),e.jsx("option",{value:"x",children:"X (Twitter)"}),e.jsx("option",{value:"in",children:"Instagram"}),e.jsx("option",{value:"link",children:"Linkedin"}),e.jsx("option",{value:"disc",children:"Discord"}),e.jsx("option",{value:"tik",children:"TikTok"}),e.jsx("option",{value:"email",children:"Email"}),e.jsx("option",{value:"spot",children:"Spotify"}),e.jsx("option",{value:"tele",children:"Telegram"}),e.jsx("option",{value:"ws",children:"Whatsapp"})]}),e.jsx("br",{})]})]})}),e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{children:[e.jsx(Fe,{})," Previsualizar"]}),e.jsxs("button",{className:u?"await":"",onClick:y,children:[e.jsx(Xe,{})," Guardar ",e.jsx("div",{className:"loading"})]})]})}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(R=s==null?void 0:s.header)==null?void 0:R.blur}px)brightness(${(b=s==null?void 0:s.header)==null?void 0:b.brightness})`,background:(w=s==null?void 0:s.header)==null?void 0:w.background2}}),e.jsxs("div",{className:`${"page buttonsbody "+((k=s==null?void 0:s.header)==null?void 0:k.colorBox)}`,children:[e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",onClick:x,type:"logo",src:(E=s==null?void 0:s.header)!=null&&E.logo?(N=s==null?void 0:s.header)==null?void 0:N.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{onClick:x,type:"title",children:(F=s==null?void 0:s.header)!=null&&F.title?(C=s==null?void 0:s.header)==null?void 0:C.title:"Agregar titulo"}),e.jsx("span",{onClick:x,type:"desc",children:(O=s==null?void 0:s.header)!=null&&O.desc?(H=s==null?void 0:s.header)==null?void 0:H.desc:"Agregar Descripcion"})]}),e.jsx("div",{className:"buttons",children:(Z=s==null?void 0:s.buttons)==null?void 0:Z.map((I,$)=>{var V;return e.jsxs("div",{children:[e.jsx("div",{className:"edit-active",children:e.jsx("button",{onClick:B=>{j($)},children:e.jsx(ae,{})})}),e.jsxs("a",{onClick:x,style:{borderRadius:((V=s==null?void 0:s.header)==null?void 0:V.radius)+"px"},type:"buttons",id:$,href:I.url,children:[" ",I!=null&&I.name?I==null?void 0:I.name:"Elegir nombre..."]},$)]},$)})}),e.jsx("div",{className:"rs",children:(ee=s==null?void 0:s.rs)==null?void 0:ee.map((I,$)=>e.jsx("div",{className:"r",children:e.jsxs("a",{href:"",onClick:x,id:$,type:"rs",children:[I.type=="in"?e.jsx(qs,{}):"",I.type=="tik"?e.jsx(Ls,{}):"",I.type=="disc"?e.jsx(Rs,{}):"",I.type=="spot"?e.jsx(Ms,{}):"",I.type=="tele"?e.jsx(Os,{}):"",I.type=="ws"?e.jsx(As,{}):"",I.type=="email"?e.jsx($s,{}):"",I.type=="fb"?e.jsx(zs,{}):"",I.type=="x"?e.jsx(Bs,{}):"",I.type=="link"?e.jsx(Vs,{}):""]})},$))}),e.jsxs("div",{className:"add-new",onClick:o,children:[e.jsx(Ae,{})," Agregar Boton"]}),e.jsx("br",{}),e.jsxs("div",{className:"add-new",onClick:I=>{n(!0)},children:[e.jsx(Ae,{})," Agregar Red Social"]})]})]})}function ai({editor:s,buttons:t,setButtons:l,setEditor:i}){var p;function c(m){let u=m.target.value;l(d=>{let r={...d};return r.rs[s.key].url=u,r})}function n(m){l(u=>{const d={...u};return d.rs=d.rs.filter((r,h)=>h!==Number(s.key)),i({type:"",key:""}),d})}return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enlace"}),e.jsx("input",{id:"title-edit",onChange:c,type:"text",value:(p=t==null?void 0:t.rs[s.key])==null?void 0:p.url,placeholder:"https://image.com/jfop2.jpg"})]})}),e.jsx("div",{children:e.jsx("button",{className:"delete",onClick:n,children:"Eliminar"})})]})}function ti({editor:s,buttons:t,setButtons:l}){function i(c){const{name:n,value:p}=c.target;l(m=>{let u={...m};return u.buttons[s.key][n]=p,u})}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"option",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Nombre de boton"}),e.jsx("input",{onChange:i,value:t.buttons[s.key].name?t.buttons[s.key].name:"",name:"name",id:"title-edit",type:"text",placeholder:"Ej: Mi tienda virtual"})]}),e.jsx("br",{}),e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Enlace"}),e.jsx("input",{onChange:i,value:t.buttons[s.key].url?t.buttons[s.key].url:"",name:"url",id:"title-edit",type:"text",placeholder:"https://example.com"})]})]})})}function ii({setButtons:s,buttons:t}){var i;function l(c){s(n=>{let p={...n};return p.header.desc=c.target.value,p})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descripcion"}),e.jsx("input",{onChange:l,id:"title-edit",type:"text",placeholder:"Ej: Mis redes sociales",value:(i=t==null?void 0:t.header)==null?void 0:i.desc})]})})})}function ni({setButtons:s,buttons:t}){function l(i){let c=i.target.value;s(n=>{let p={...n};return p.header.logo=c,p})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Logo"}),e.jsx("input",{onChange:l,id:"title-edit",type:"text",placeholder:"https://image.com/jfop2.jpg"})]})})})}function li({setButtons:s,buttons:t}){var i;function l(c){s(n=>{let p={...n};return p.header.title=c.target.value,p})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"option",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("input",{onChange:l,id:"title-edit",type:"text",placeholder:"Ej: Mis redes sociales",value:(i=t==null?void 0:t.header)==null?void 0:i.title})]})})})}function ri({editor:s,buttons:t,setButtons:l,setEditor:i}){return e.jsxs(e.Fragment,{children:[s.type=="button"?e.jsx(ti,{editor:s,buttons:t,setButtons:l}):"",s.type=="title"?e.jsx(li,{editor:s,buttons:t,setButtons:l}):"",s.type=="desc"?e.jsx(ii,{editor:s,buttons:t,setButtons:l}):"",s.type=="logo"?e.jsx(ni,{editor:s,buttons:t,setButtons:l}):"",s.type=="rs"?e.jsx(ai,{editor:s,buttons:t,setButtons:l,setEditor:i}):""]})}function Fs(){var c;a.useState(!0);const[s,t]=a.useState({header:{title:"",desc:"",img:"",background:""},buttons:[],rs:[]}),[l,i]=a.useState({});return e.jsx(e.Fragment,{children:e.jsx("div",{className:"editor-surveys",children:e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:"left",children:e.jsx(ei,{editor:l,setButtons:t,buttons:s})}),e.jsx("div",{className:"center",style:{background:(c=s==null?void 0:s.header)==null?void 0:c.background},children:e.jsx(si,{editor:l,setEditor:i,buttons:s,setButtons:t})}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"type-editor",children:e.jsx(ri,{editor:l,buttons:s,setButtons:t,setEditor:i})})})]})})})}function Xs({Visible:s,CallbackVisible:t}){const l=Y();let i={facebook:"https://www.facebook.com/sharer.php?u="+window.location.href,whatsapp:"https://api.whatsapp.com/send/?text=Mira esta nueva botonera de enlace "+window.location.href,linkedin:"https://www.linkedin.com/sharing/share-offsite/?url="+window.location.href,messenger:"https://www.messenger.com/new",email:"mailto:?subject= Check out this Radarsystems! &body= Mira esta nueva botonera de enlace "+window.location.href};function c(n){let p=n.target.dataset.type,m=i[p];window.open(m,"_blank")}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"modal-share",style:{display:`${s?"flex":"none"}`},children:e.jsx("div",{className:"body",children:e.jsxs("div",{className:"bk",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Compartir desde Radarsystems"}),e.jsx("button",{onClick:n=>{t(!1)},className:"closed",children:e.jsx(K,{icon:"carbon:close-large"})})]}),e.jsxs("div",{className:"buttons",children:[e.jsxs("button",{onClick:c,"data-type":"facebook",children:[e.jsx("i",{className:"left",children:e.jsx(K,{icon:"logos:facebook"})})," Compartir en Facebook ",e.jsx("i",{className:"right",children:e.jsx(K,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:c,"data-type":"tiktok",children:[e.jsx("i",{className:"left",children:e.jsx(K,{icon:"logos:tiktok-icon"})})," Compartir en Tiktok ",e.jsx("i",{className:"right",children:e.jsx(K,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:c,"data-type":"linkedin",children:[e.jsx("i",{className:"left",children:e.jsx(K,{icon:"logos:linkedin-icon"})})," Compartir en Linkedln ",e.jsx("i",{className:"right",children:e.jsx(K,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:c,"data-type":"whatsapp",children:[e.jsx("i",{className:"left",children:e.jsx(K,{icon:"logos:whatsapp-icon"})})," Compartir en Whatsapp ",e.jsx("i",{className:"right",children:e.jsx(K,{icon:"uiw:right"})})]}),e.jsxs("button",{onClick:c,"data-type":"messenger",children:[e.jsx("i",{className:"left",children:e.jsx(K,{icon:"logos:messenger"})})," Compartir en Messenger ",e.jsx("i",{className:"right",children:e.jsx(K,{icon:"uiw:right"})})]})]}),e.jsx("div",{className:"url",children:e.jsx("span",{children:window.location.href})}),e.jsxs("div",{className:"register",children:[e.jsx("p",{children:"Create your own Linktree"}),e.jsx("span",{children:"The only link in bio trusted by 35M+ people."}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:n=>{l("/register")},children:"Sign up free"}),e.jsx("button",{onClick:n=>{l("/auth")},children:"Find out more"})]})]})]})})})})}function ci(){var d,r,h,g,v,o,x,j,f,y,P,q,R;const[s,t]=a.useState({}),[l,i]=a.useState(!1),[c,n]=a.useState(!0),p=re();function m(){let b=new FormData;b.append("token",p.id),T.post(_+"/api/get/buttons",b).then(w=>w.data).then(w=>{if(t(w),w){let k=new FormData;k.append("type_stat","visit"),k.append("type","buttons"),k.append("token",p.id),T.post(_+"/api/get/capturestatsbuttons",k)}})}a.useEffect(()=>{m()},[]);function u(b){b.preventDefault(),b.stopPropagation();let w=b.target.href;if(c){n(!1);let k=new FormData;k.append("type","buttons"),k.append("type_stat","click"),k.append("data",w),k.append("token",p.id),T.post(_+"/api/get/capturestatsbuttons",k).then(E=>E.data).then(E=>{n(!0),window.open(w)}).catch(E=>{n(!0)})}}return e.jsxs(e.Fragment,{children:[e.jsx(Xs,{Visible:l,CallbackVisible:i}),e.jsx("div",{className:"editor-surveys btnactive prod-buttons",children:e.jsx("div",{className:"rows",children:e.jsxs("div",{className:"center",style:{background:(d=s==null?void 0:s.header)==null?void 0:d.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(r=s==null?void 0:s.header)==null?void 0:r.blur}px)brightness(${(h=s==null?void 0:s.header)==null?void 0:h.brightness})`,background:(g=s==null?void 0:s.header)==null?void 0:g.background2}}),e.jsxs("div",{className:`${"page buttonsbody "+((v=s==null?void 0:s.header)==null?void 0:v.colorBox)}`,children:[e.jsx("div",{className:"share-now",children:e.jsx("button",{onClick:b=>{i(!0)},children:e.jsx(Ea,{})})}),e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",type:"logo",src:(o=s==null?void 0:s.header)!=null&&o.logo?(x=s==null?void 0:s.header)==null?void 0:x.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{type:"title",children:(j=s==null?void 0:s.header)!=null&&j.title?(f=s==null?void 0:s.header)==null?void 0:f.title:""}),e.jsx("span",{type:"desc",children:(y=s==null?void 0:s.header)!=null&&y.desc?(P=s==null?void 0:s.header)==null?void 0:P.desc:""})]}),e.jsx("div",{className:"buttons",children:(q=s==null?void 0:s.buttons)==null?void 0:q.map((b,w)=>{var k;return e.jsx("div",{children:e.jsxs("a",{onClick:u,style:{borderRadius:((k=s==null?void 0:s.header)==null?void 0:k.radius)+"px"},type:"buttons",id:w,href:b.url,children:[" ",b!=null&&b.name?b==null?void 0:b.name:"Elegir nombre..."]},w)},w)})}),e.jsx("div",{className:"rs",children:(R=s==null?void 0:s.rs)==null?void 0:R.map((b,w)=>e.jsx("div",{className:"r",children:e.jsxs("a",{href:"",id:w,type:"rs",children:[b.type=="in"?e.jsx(qs,{}):"",b.type=="tik"?e.jsx(Ls,{}):"",b.type=="disc"?e.jsx(Rs,{}):"",b.type=="spot"?e.jsx(Ms,{}):"",b.type=="tele"?e.jsx(Os,{}):"",b.type=="ws"?e.jsx(As,{}):"",b.type=="email"?e.jsx($s,{}):"",b.type=="fb"?e.jsx(zs,{}):"",b.type=="x"?e.jsx(Bs,{}):"",b.type=="link"?e.jsx(Vs,{}):""]})},w))}),e.jsxs("div",{className:"footer",children:[e.jsx("br",{}),e.jsx("hr",{}),e.jsx("p",{children:"Powered by RadarSystems. ​​​​​​​Copyright © 1998 - 2022 Todos los derechos reservados."})]})]})]})})})]})}function di({onClick:s}){let t=[{color:"#FFDDC1"},{color:"#FFA07A"},{color:"#FFB6C1"},{color:"#87CEEB"},{color:"#B0C4DE"},{color:"#ADD8E6"},{color:"#FFE4E1"},{color:"#F0FFF0"},{color:"#F5F5DC"},{color:"#F0E68C"},{color:"#E0FFFF"},{color:"#FAFAD2"},{color:"#FFEBCD"},{color:"#E6E6FA"},{color:"#F08080"},{color:"#FF6347"},{color:"#FFD700"},{color:"#FFA500"},{color:"#FF4500"},{color:"#E9967A"},{color:"#CD5C5C"},{color:"#FF8C00"},{color:"#FF69B4"},{color:"#FF1493"},{color:"#DB7093"},{color:"#800000"},{color:"#A52A2A"},{color:"#D2691E"},{color:"#8B4513"},{color:"#8B0000"},{color:"#800080"},{color:"#000"},{color:"#fff"}];return e.jsx(e.Fragment,{children:e.jsx("div",{className:"colorPicker-basic",children:t.map((l,i)=>e.jsx("div",{className:"color",style:{background:l.color},"data-value":l.color,onClick:c=>{s(c.target.dataset.value)}}))})})}function oi({setButtons:s,Visible:t,VisibleMenu:l}){const[i,c]=a.useState({}),[n,p]=a.useState(!1),[m,u]=a.useState(!1),{UserInfo:d}=a.useContext(X);function r(j){let f=j.target.value;j.target.name=="background"&&f.indexOf("http")>=0&&(f=`url(${f})`),s(P=>{let q={...P};return q.header[j.target.name]=f,q})}function h(j){s(f=>{let y={...f};return y.header.background=j,y})}function g(){document.querySelector("input[name='file-wallpaper']").click()}function v(j){let f=j.target.files[0];Xa(f)&&c(f)}function o(){c({}),document.querySelector("input[name='file-wallpaper']").value=""}function x(){var j;if(i!=null&&i.name){u(!0);let f=new FormData;f.append("id_company",(j=d==null?void 0:d.company)==null?void 0:j.id_company),f.append("file",i),T.post(_+"/api/upload/fileqr",f,{withCredentials:!0}).then(y=>y.data).then(y=>{y.download&&s(P=>{let q={...P};return q.header.background=`url(${y.download})`,q}),p(!1),u(!1)}).catch(y=>{u(!1)})}else he.error("Opps no has seleccionado ningun archivo")}return e.jsxs(e.Fragment,{children:[e.jsxs(te,{visible:n,callback:p,onClick:x,Pending:m,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Subir imagen"}),e.jsx("span",{children:"sube tu imagen que no sea mayor a 5MB"})]}),e.jsx("input",{type:"file",onChange:v,name:"file-wallpaper",accept:".png,.jpg,.jpeg",hidden:!0}),e.jsx("div",{className:"select-file",children:i.name?e.jsxs("div",{className:"file",children:[e.jsx("div",{className:"right",children:e.jsx("button",{onClick:o,children:e.jsx(ae,{})})}),e.jsx("div",{className:"preview",children:e.jsxs("div",{className:"fi",children:[e.jsx("div",{className:"icon",children:e.jsx(Ce,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:i==null?void 0:i.name}),e.jsx("span",{children:i==null?void 0:i.type})]})]})})]}):e.jsxs("div",{className:"drop-file",onClick:g,children:[e.jsx("i",{children:e.jsx(be,{})}),e.jsx("span",{className:"desc",children:"Has click aca para buscar tu archivo"})]})})]}),e.jsx("img",{src:"/img/icons/logo_color_1.png",alt:"",hidden:!0}),e.jsxs("div",{className:"title-top",children:[e.jsx("p",{children:"Personalizar botonera"}),e.jsx("span",{children:"Personaliza tu botonera, cambiando imagenes, fondo, texto, botones, enlaces."}),e.jsx("button",{className:"close mb",onClick:l,children:e.jsx(K,{icon:"teenyicons:x-outline"})})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Elige el fondo"}),e.jsx("input",{type:"text",defaultValue:"#fff",onChange:r,name:"background"}),e.jsxs("button",{onClick:j=>{p(!0)},className:"action-complete",children:[e.jsx(K,{icon:"material-symbols:upload-rounded"})," Elegir Imagen"]}),e.jsx("hr",{}),e.jsx("p",{className:"title",children:"Colores"}),e.jsx(di,{onClick:h}),e.jsx("br",{})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Fondo"}),e.jsxs("div",{className:"flex-colors",children:[e.jsx("button",{name:"theme",onClick:r,value:"ligth",children:"Modo Claro"}),e.jsx("button",{name:"theme",onClick:r,value:"dark",children:"Modo Oscuro"})]})]}),e.jsx("br",{}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Blur"}),e.jsx("input",{type:"range",onChange:r,defaultValue:0,step:"0.1",max:"10",name:"blur"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Brillo"}),e.jsx("input",{type:"range",onChange:r,defaultValue:1,step:"0.1",max:"1",name:"brightness"})]}),e.jsxs("div",{className:"option",children:[e.jsx("p",{className:"title",children:"Border radius"}),e.jsx("input",{type:"range",onChange:r,defaultValue:1,step:"0.1",max:"50",name:"radius"})]})]})}function pi({VisibleMenu:s,getMyQrs:t,addNewQr:l,setVisibleQr:i,boxType:c,editor:n,buttons:p,setButtons:m}){const[u,d]=a.useState(!1);a.useState(!1);const[r,h]=a.useState(!1),[g,v]=a.useState(!1),[o,x]=a.useState({});a.useState({});const[j,f]=a.useState(),[y,P]=a.useState(""),[q,R]=a.useState({ssid:"",password:"",encrypt:""}),[b,w]=a.useState({rs:!1,modalFile:!1}),[k,E]=a.useState(),{UserInfo:N}=a.useContext(X),F=a.useRef(null),C={instagram:"https://www.instagram.com/",twitter:"https://x.com/",facebook:"https://facebook.com/",tiktok:"https://tiktok.com/",whatsapp:"https://api.whatsapp.com/send/?phone=",websiteurl:""};function O(G,ie){if(M(G.target).css("opacity")!=="0.5")switch(f(ie),ie){case"qrs":t(),i(!0);break;case"vcard":i(!0),t("qr-contact");break;case"vcard-add":document.querySelector(".head-top .right button").click(),setTimeout(()=>{document.querySelectorAll(".wizard-home.open .case.active .selector")[1].click()},20),setTimeout(()=>{M(document.querySelector(".wizard-home.open .next")).click()},20);break;case"instagram":case"facebook":case"tiktok":case"twitter":case"whatsapp":case"websiteurl":v(!0);break;case"wifi":h(!0);break;case"pdf":case"img":d(!0);break}else he.error("Este boton no esta habilitado para este apartado.")}const H=new os({width:600,height:600,margin:0,qrOptions:{typeNumber:"0",mode:"Byte",errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,margin:10},dotsOptions:{type:"dots",color:"#000000"},backgroundOptions:{color:"#ffffff",gradient:null},image:"/img/icons/logo_color_1.png",dotsOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#6a1a4c",color2:"#6a1a4c",rotation:"0"}},cornersSquareOptions:{type:"extra-rounded",color:"#000000"},cornersSquareOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},cornersDotOptions:{type:"dot",color:"#000000"},cornersDotOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#000000",color2:"#000000",rotation:"0"}},backgroundOptionsHelper:{colorType:{single:!0,gradient:!1},gradient:{linear:!0,radial:!1,color1:"#ffffff",color2:"#ffffff",rotation:"0"}}});function Z(){M("input[name='file']").click()}function ee(G){let ie=G.target.files;ie[0]&&(ie[0].type.indexOf("/pdf")>=0||ie[0].type.indexOf("imag")>=0?x(ie[0]):he.error("El archivo no es una imagen / pdf"))}function I(G){x({}),M("input[name='file']").val("")}function $(G,ie){w({...ie,[G]:ie})}async function V(G){var ne;let ie=!1;if(g&&y&&(ie=!0),r&&q.encrypt&&q.password.length&&q.ssid&&(ie=!0),u&&G&&(ie=!0),ie){$("rs",!0),H.append(F.current);let je=new FormData;je.append("url",G),je.append("id_company",(ne=N==null?void 0:N.company)==null?void 0:ne.id_company),T.post(_+"/api/upload/shortlink",je,{withCredentials:!0}).then(Ne=>Ne.data).then(Ne=>{H.update({data:Ne.shortlink}),H.getRawData().then(fe=>{let Te=new FileReader;Te.onload=function(ze){B(ze.target.result,Number(Ne.id_shortlink))},Te.readAsDataURL(fe)})})}}function B(G,ie=null){var Ne;let ne=new FormData;ie&&ne.append("id_concat",ie);let je=`${j+"-"+(new Date/1e3).toFixed()}`;switch(ne.append("preview",G),ne.append("id_company",(Ne=N==null?void 0:N.company)==null?void 0:Ne.id_company),k==null?ne.append("formqr",JSON.stringify({name:je})):(je=k,ne.append("formqr",JSON.stringify({name:k}))),j){case"facebook":case"instagram":case"x":case"twitter":case"linkedin":ne.append("type","qr-rs");break;case"wifi":ne.append("type","qr-wifi");break}T.post(_+"/api/upload/qr",ne,{withCredentials:!0}).then(fe=>fe.data).then(fe=>{if($("rs",!1),fe.status){s(!1),v(!1);try{l(je,fe.img),he.success("QR agregado con exito")}catch(Te){he.error(String(Te))}}else he.error(`${fe.msg}`);E(null)}).catch(fe=>{E(null),$("rs",!1)})}a.useEffect(()=>{g||P("")},[g]);function U(G){let ie=G.target.name,ne=G.target.value;R({...q,[ie]:ne})}async function se(){var ie;$("modalFile",!0);let G=new FormData;G.append("file",o),G.append("id_company",(ie=N==null?void 0:N.company)==null?void 0:ie.id_company),T.post(_+"/api/upload/fileqr",G,{withCredentials:!0}).then(ne=>ne.data).then(async ne=>{ne.status&&(he.success("Se ha subido tu archivo correctamente, se esta procesando el QR"),await V(ne.download),$("modalFile",!1),d(!1))}).catch(ne=>{$("modalFile",!1)})}return e.jsxs(e.Fragment,{children:[e.jsxs(te,{visible:r,onClick:G=>{V(`WIFI:T:${q.encrypt};S:${q.ssid};P:${q.password};;`)},callback:h,maxWidth:400,Pending:b==null?void 0:b.rs,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Red WiFi"}),e.jsx("span",{children:"Agrega tu red Wi-Fi favorita e integra el código QR dentro de tu botonera"})]}),e.jsxs("div",{className:"data",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"ssid",children:"Nombre QR"}),e.jsx("input",{type:"text",onChange:G=>{E(G.target.value)},name:"user",placeholder:j=="websiteurl"?"https://mysiteweb.com":"Nombre del QR"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"ssid",children:"SSID"}),e.jsx("input",{type:"text",onChange:U,name:"ssid",placeholder:"Nombre de red"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"password",children:"Contraseña"}),e.jsx("input",{type:"text",onChange:U,name:"password",placeholder:"Contraseña de red"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"encryption",children:"Selecciona el cifrado"}),e.jsxs("select",{name:"encrypt",id:"encryption",onChange:U,children:[e.jsx("option",{value:"WPA",children:"WPA"}),e.jsx("option",{value:"WPA2",children:"WPA2"}),e.jsx("option",{value:"WEP",children:"WEP"}),e.jsx("option",{value:"nopass",children:"Sin cifrado"})]})]})]})]},r?"x23":"x24"),e.jsxs(te,{visible:g,callback:v,Pending:b.rs,maxWidth:450,next:"Crear",onClick:()=>{V(j=="tiktok"?C[j]+"@"+y:C[j]+y)},children:[j=="websiteurl"?e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Web"}),e.jsx("span",{children:"Agrega la url de tu sitio web"})]}):e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Red social"}),e.jsx("span",{children:"Agrega tu red social favorita y integra el QR dentro de tu botonera"})]}),e.jsxs("div",{className:"data",children:[e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",onChange:G=>{E(G.target.value)},name:"user",placeholder:"Nombre del QR"})}),e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{htmlFor:"",children:[C[j],y]}),e.jsx("input",{type:"text",onChange:G=>{P(G.target.value)},name:"user",placeholder:j=="websiteurl"?"https://mysiteweb.com":"@usuario"})]})]})]},g?"12":"13"),e.jsxs(te,{visible:u,Pending:b==null?void 0:b.modalFile,callback:d,next:"Subir",onClick:se,children:[e.jsx("input",{type:"file",name:"file",onChange:ee,hidden:!0}),e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Subir archivo"}),e.jsx("span",{children:"Sube tu imagen o pdf que no sea mayor a 5 MB"})]}),e.jsxs("div",{className:"select-file",children:[e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{type:"text",onChange:G=>{E(G.target.value)},name:"user",placeholder:j=="websiteurl"?"https://mysiteweb.com":"Nombre del QR"})}),o.name?e.jsxs("div",{className:"file",children:[e.jsx("div",{className:"right",children:e.jsx("button",{onClick:I,children:e.jsx(ae,{})})}),e.jsx("div",{className:"preview",children:e.jsxs("div",{className:"fi",children:[e.jsx("div",{className:"icon",children:e.jsx(Ce,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:o==null?void 0:o.name}),e.jsx("span",{children:o==null?void 0:o.type})]})]})})]}):e.jsxs("div",{className:"drop-file",onClick:Z,children:[e.jsx("i",{children:e.jsx(be,{})}),e.jsx("span",{className:"desc",children:"Has click aca para buscar tu archivo"})]})]})]},u?"14":"15"),e.jsxs("div",{className:`buttons-services ${c}`,children:[e.jsx("div",{className:"qr-result-2",ref:F,hidden:!0}),e.jsxs("div",{className:"top-title",children:[e.jsx("p",{children:"1. Servicios QR"}),e.jsx("button",{className:"close mb",onClick:G=>{s(!1)},children:e.jsx(K,{icon:"teenyicons:x-outline"})})]}),e.jsxs("div",{className:"button",onClick:G=>{O(G,"vcard-add")},type:"vcard",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/vCard.svg",alt:""})}),e.jsx("p",{children:"Crear Tarjeta De Presentacion QR"}),e.jsx("span",{children:"Comparte "})]}),e.jsxs("div",{className:"button",onClick:G=>{O(G,"vcard")},type:"vcard",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/vCard.svg",alt:""})}),e.jsx("p",{children:"Mis Tarjeta De Presentacion QR"}),e.jsx("span",{children:"Comparte "})]}),e.jsxs("div",{className:"submenu",children:[e.jsx("p",{children:"Social Media"}),e.jsx("i",{children:e.jsx(gs,{})})]}),e.jsx("br",{}),e.jsxs("div",{className:"button",onClick:G=>{O(G,"whatsapp")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/whatsapp-icon.svg",alt:""})}),e.jsx("p",{children:"Crear Whatsapp"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:G=>{O(G,"instagram")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/instagram.svg",alt:""})}),e.jsx("p",{children:"Crear Instagram"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:G=>{O(G,"facebook")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/facebook.svg",alt:""})}),e.jsx("p",{children:"Crear Facebook"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:G=>{O(G,"twitter")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/twitter.svg",alt:""})}),e.jsx("p",{children:"Crear X"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:G=>{O(G,"tiktok")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps/tiktok.svg",alt:""})}),e.jsx("p",{children:"Crear Tiktok"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:G=>{O(G,"websiteurl")},type:"rs",children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/website.png",alt:""})}),e.jsx("p",{children:"Crear Website URL"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsx("br",{}),e.jsxs("div",{className:"submenu",children:[e.jsx("p",{children:"Crear Otros QR's"}),e.jsx("i",{children:e.jsx(gs,{})})]}),e.jsx("br",{}),e.jsxs("div",{className:"button",onClick:G=>{O(G,"pdf")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/pdf.svg",alt:""})}),e.jsx("p",{children:"Subir PDF"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:G=>{O(G,"img")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/images.svg",alt:""})}),e.jsx("p",{children:"Subir Imagenes"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:G=>{O(G,"wifi")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/wifi.svg",alt:""})}),e.jsx("p",{children:"Crear Acceso WIFI"}),e.jsx("span",{children:"Link to a website of your choice"})]}),e.jsxs("div",{className:"button",onClick:G=>{O(G,"qrs")},children:[e.jsx("div",{className:"img",children:e.jsx("img",{src:"/img/icons/apps.svg",alt:""})}),e.jsx("p",{children:"Mis QRS Favoritos"}),e.jsx("span",{children:"Link to a website of your choice"})]})]})]})}function mi({addNewQr:s,VisibleMenu:t,type:l,visibleQr:i,setVisibleQr:c,buttons:n,setBoxType:p,setButtons:m,editor:u,setEditor:d}){var Be,Ve,Qe,We,He,Ie,Ge;const[r,h]=a.useState(!1),[g,v]=a.useState(void 0),[o,x]=a.useState(),[j,f]=a.useState(!1),[y,P]=a.useState(!1),[q,R]=a.useState(!1),[b,w]=a.useState(!1);a.useState(!0);const[k,E]=a.useState(!1),[N,F]=a.useState(!1),[C,O]=a.useState({}),H=re(),Z=Y(),{UserInfo:ee}=a.useContext(X);function I(S){S.preventDefault(),S.stopPropagation();let D=M(S.target);switch(M(".page.buttonsbody .active").removeClass("active"),D.addClass("active"),D.attr("type")){case"addqr":var L=D.attr("id");switch(d({type:"addqr",key:L}),L){case"0":p("vcard");break;case"1":p("rs");break;default:p("all");break}break;case"rs":var L=D.attr("id");d({type:"rs",key:L});break;case"titlespace":d({type:"titlespace",key:Number(D.attr("id"))});break;default:d({type:D.attr("type")});break}return!1}function $(S){S.stopPropagation();let D=!0;m(L=>{const W={...L};return D&&(D=!1,W.elements.push({qrs:[]})),W})}function V(S,D){m(L=>{const W={...L};return W.elements[S]&&W.elements[S].qrs[D]&&W.elements[S].qrs.splice(D,1),W})}async function B(){var S;if(n.header.titlegl.length>=1){f(!0);let D=new FormData;D.append("json",JSON.stringify(n)),g==null?D.append("title",n.header.titlegl):D.append("id_buttonsqr",g),D.append("id_company",(S=ee==null?void 0:ee.company)==null?void 0:S.id_company);let L=await as(document.querySelector(".page .center"),{allowTaint:!1,useCORS:!0}).then(W=>W.toDataURL());D.append("preview",L),T.post(_+"/api/upload/buttonsqr",D,{withCredentials:!0}).then(W=>W.data).then(W=>{f(!1),W.id_buttonsqr&&(v(Number(W.id_buttonsqr)),x(W.token),H.id||Z(`/editor/buttonsqr/${Number(W.id_buttonsqr)}`)),W.status&&A.success("Guardado con exito"),W.msg&&A.error(W.msg)}).catch(W=>{f(!1)})}else h(!0),A.error("Opps no puedes avanzar si tu plantilla no posee un titulo")}function U(S){let D=S.target.value;m(L=>{let W={...L};return W.header.titlegl=D,W})}function se(){n.header.titlegl&&(h(!1),A.success("El titulo se aplico con exito"))}function G(){var S,D,L;M("#title").val((S=n==null?void 0:n.header)==null?void 0:S.title),M("#desc").val((D=n==null?void 0:n.header)==null?void 0:D.desc),(L=n==null?void 0:n.elements)==null||L.forEach((W,le)=>{M("p[type='titlespace']").eq(le).text(W.title)})}a.useEffect(()=>{var S;if(H.id){let D=new FormData;D.append("id_buttonsqr",H.id),D.append("id_company",(S=ee==null?void 0:ee.company)==null?void 0:S.id_company),T.post(_+"/api/get/editbuttonsqr",D,{withCredentials:!0}).then(L=>L.data).then(L=>{L.id_buttonsqr&&(m(JSON.parse(L.json)),v(L.id_buttonsqr),x(L.token))})}},[]),a.useEffect(()=>{var S;N||(l==="company"&&g===void 0&&((S=n.elements[0])==null?void 0:S.title)==="Business Card"||l!=="company")&&n&&n.elements.length>0&&(G(),F(!0))},[g,l,n]);function ie(S){m(D=>{let L={...D};return L.header.title=S.target.value,L})}function ne(S){m(D=>{let L={...D};return L.header.desc=S.target.value,L})}function je(S){m(D=>{let L={...D};return L.elements[u.key].title=S.target.textContent,L})}function Ne(S){let D=!0;m(L=>{let W={...L};return D&&(D=!1,W.elements.splice(S,1)),W})}function fe(){document.querySelector("input[name='photo']").click()}function Te(S){let D=S.target.files[0];D&&((D==null?void 0:D.type.indexOf("image"))>=0?O(D):A.error("El archivo no es compatible"))}function ze(){var S;if(P(!0),C){let D=new FormData;D.append("id_company",(S=ee==null?void 0:ee.company)==null?void 0:S.id_company),D.append("file",C),T.post(_+"/api/upload/fileqr",D,{withCredentials:!0}).then(L=>L.data).then(L=>{P(!1),L.status&&(m(W=>{let le={...W};return le.header.logo=L.download,le}),Ye(),E(!1),A.success("Nueva imagen!"))}).catch(L=>{P(!1)})}}function Ye(){O({}),document.querySelector("input[name='photo']").value=""}return a.useEffect(()=>{t()},[k,q]),e.jsxs(e.Fragment,{children:[e.jsxs(te,{visible:k,next:"Agregar",callback:E,onClick:ze,Pending:y,children:[e.jsx("input",{type:"file",name:"photo",onChange:Te,hidden:!0}),e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Subir archivo"}),e.jsx("span",{children:"Sube tu imagen que no sea mayor a 5 MB"})]}),e.jsx("div",{className:"select-file",children:C.name?e.jsxs("div",{className:"file",children:[e.jsx("div",{className:"right",children:e.jsx("button",{onClick:Ye,children:e.jsx(ae,{})})}),e.jsx("div",{className:"preview",children:e.jsxs("div",{className:"fi",children:[e.jsx("div",{className:"icon",children:e.jsx(Ce,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:C==null?void 0:C.name}),e.jsx("span",{children:C==null?void 0:C.type})]})]})})]}):e.jsxs("div",{className:"drop-file",onClick:fe,children:[e.jsx("i",{children:e.jsx(be,{})}),e.jsx("span",{className:"desc",children:"Has click aca para buscar tu archivo"})]})})]}),e.jsxs(te,{visible:r,close:h,callback:h,onClick:se,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Titulo"}),e.jsx("span",{children:"Elige un titulo general para esta plantilla"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Titulo general"}),e.jsx("input",{onChange:U,type:"text",placeholder:"ej: plantilla 1"})]})]}),e.jsx(Js,{Visible:q,Close:R},q?"x12":"x23"),e.jsx(xs,{callbackUrl:s,Visible:b,Close:w},b?"s14":"s15"),e.jsx("div",{className:"head-top",children:e.jsxs("div",{className:"right",children:[e.jsxs("button",{onClick:S=>{w(!0)},children:[e.jsx(be,{})," Crear QR"]}),e.jsxs("button",{onClick:S=>{R(!0)},children:[e.jsx(be,{})," Importar QR"]}),e.jsxs("button",{onClick:S=>{},children:[e.jsx(Fe,{})," Previsualizar"]}),o?e.jsxs("button",{onClick:S=>{Z(`/buttonsqr/${o}?install=true`)},children:[e.jsx(K,{icon:"ic:round-install-mobile"})," Instalar"]}):"",e.jsxs("button",{className:j?"await":"",onClick:B,children:[e.jsx(Xe,{})," Guardar ",e.jsx("div",{className:"loading"})]})]})}),e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(Be=n==null?void 0:n.header)==null?void 0:Be.blur}px)brightness(${(Ve=n==null?void 0:n.header)==null?void 0:Ve.brightness})`,WebkitBackdropFilter:`blur(${(Qe=n==null?void 0:n.header)==null?void 0:Qe.blur}px)`,background:(We=n==null?void 0:n.header)==null?void 0:We.background2}}),e.jsx("div",{className:`${"page buttonsbody buttonsqr editmode "+((He=n==null?void 0:n.header)==null?void 0:He.theme)}`,children:e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",onClick:I,type:"logo",src:(Ie=n==null?void 0:n.header)!=null&&Ie.logo?(Ge=n==null?void 0:n.header)==null?void 0:Ge.logo:"/img/icons/default-img.jpg",alt:""}),e.jsxs("button",{className:"action",onClick:S=>{E(!0)},children:[e.jsx(Fa,{})," Agregar Imagen"]}),e.jsx("br",{}),e.jsx("input",{id:"title",onClick:I,onChange:ie,suppressContentEditableWarning:!0,contentEditable:!0,placeholder:"Nombre"}),e.jsx("textarea",{placeholder:"Descripcion",id:"desc",onClick:I,onChange:ne,suppressContentEditableWarning:!0,contentEditable:!0,type:"desc"}),e.jsx("br",{}),e.jsx("br",{}),n.elements.map((S,D)=>e.jsxs("div",{className:"boxqr",children:[e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"top-left",children:e.jsx("p",{id:D,suppressContentEditableWarning:!0,contentEditable:!0,type:"titlespace",onInput:je,onClick:L=>{I(L)},children:"Escribe titulo..."})}),e.jsxs("div",{className:"top-right",children:[e.jsxs("button",{className:`${(u==null?void 0:u.key)==D&&(u==null?void 0:u.type)=="addqr"?"select":""}`,id:D,type:"addqr",onClick:L=>{I(L),t("right")},children:[e.jsx("i",{children:e.jsx(ye,{})}),"  Seleccionar QR"]}),e.jsx("button",{id:D,onClick:L=>{Ne(D)},children:"Eliminar"})]})]}),e.jsx(rs.Carousel,{showThumbs:!1,showStatus:!1,children:S.qrs.map((L,W)=>e.jsxs("div",{className:"qr",children:[e.jsx("button",{className:"delete",onClick:le=>{V(D,W)},children:e.jsx(ae,{})}),e.jsx("img",{src:L.image}),e.jsx("p",{children:L.title}),e.jsx("br",{})]},W))}),S.qrs.length==0?e.jsx("div",{className:"add-qr",children:"+"}):""]},D)),e.jsxs("div",{className:"add-new",onClick:$,children:[e.jsx(Ae,{})," Agregar Caja"]}),e.jsx("br",{}),e.jsxs("div",{className:"actions-bottom",children:[e.jsxs("button",{className:j?"await":"",onClick:B,children:[e.jsx(Ae,{})," Guardar ",e.jsx("div",{className:"loading"})]}),e.jsx("br",{}),e.jsxs("button",{onClick:S=>{Z(`/buttonsqr/${o}?install=true`)},children:[e.jsx(K,{icon:"ic:round-install-mobile"})," Instalar"]})]})]})})]})}function hi({Visible:s,Close:t,Callback:l,setType:i,TypeSelect:c}){a.useContext(X);const[n,p]=a.useState(0),[m,u]=a.useState([_e()]),[d,r]=a.useState({type:"",name:""});Y();function h(o){o.stopPropagation(),o.preventDefault();let x=M(o.target);x.parents(".options").find(".active").removeClass("active"),x.addClass("active");let j=x.attr("value");r(f=>({...f,type:j}))}function g(o){let x=!1;M(o.target),(n===0&&d.type=="company"||d.type=="personal")&&(x=!0),x&&d.type&&(i(d.type),l(!1))}function v(o){let x=o.target.name,j=o.target.value;r(f=>({...f,[x]:j}))}return a.useEffect(()=>{M(".case.active").removeClass("active"),M(".case").eq(n).addClass("active")},[n]),e.jsx(e.Fragment,{children:e.jsxs("div",{className:`wizard-home ${s?"open":"close"}`,children:[e.jsxs("div",{className:"top-actions",children:[n>0?e.jsxs("button",{className:"return",onClick:o=>{p(x=>x-1)},children:[e.jsx(Me,{})," ",e.jsx("span",{children:"Volver"})," "]}):"",c?e.jsx("button",{className:"closed",onClick:o=>{l(!1)},children:"X"}):""]}),e.jsxs("div",{className:"body",children:[e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Crea tu botonera QR"}),e.jsx("span",{className:"desc",children:"Selecciona el tipo de botonera QR que deseas crear"})]}),e.jsxs("div",{className:"options flex",id:`options-${m[0]}`,children:[e.jsxs("div",{className:"selector",onClick:h,value:"personal",children:[e.jsx("div",{className:"check",children:e.jsx(ue,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Botonera Personal"}),e.jsx("span",{children:"Crea tu botonera y unifica toda tu presencia personal / online de manera sencilla, rápida y gratuita."})]})]}),e.jsxs("div",{className:"selector",onClick:h,value:"company",children:[e.jsx("div",{className:"check",children:e.jsx(ue,{})}),e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Botonera Empresarial"}),e.jsx("span",{children:"La botonera empresarial viene con una plantilla predeterminada, donde podras generar multiples QR's y donde puedes crear a tu estilo, fondos y colores."})]})]})]})]}),e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{className:"title",children:"Personalizar Lista"}),e.jsx("span",{className:"desc",children:"Asignale un nombre a tu nueva lista."})]}),e.jsx("div",{className:"form",children:e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Nombre de lista"}),e.jsx("input",{type:"text",name:"name",onChange:v,placeholder:"Nombre"})]})})]}),e.jsx("div",{className:"actions",children:e.jsxs("button",{className:"next",onClick:g,children:["Siguiente ",e.jsx("div",{className:"loading"})]})})]})]})})}function Ds(){var R;const[s,t]=a.useState({header:{titlegl:"",title:"",desc:"",img:"",background:"",theme:"ligth"},elements:[]}),[l,i]=a.useState({key:"",type:""}),c=re(),[n,p]=a.useState(void 0),[m,u]=a.useState(!1),[d,r]=a.useState(),[h,g]=a.useState(!1),[v,o]=a.useState([]),{UserInfo:x}=a.useContext(X),[j,f]=a.useState({left:!1,right:!1});a.useEffect(()=>{switch(n){case"personal":t({header:{titlegl:"",title:"",desc:"",img:"",background:""},elements:[]});break;case"company":t({header:{titlegl:"",title:"",desc:"",img:"",background:""},elements:[{title:"Business Card",qrs:[]},{title:"Redes Sociales",qrs:[]},{title:"Presentaciones",qrs:[]}]});break}},[n]);function y(b){let w={left:!1,right:!1};switch(b){case"left":w={...w,left:!0};break;case"right":w={...w,right:!0};break}f(w)}function P(b,w){let k=!0;g(!1),he.success("Qr agregado con exito"),t(E=>{const N={...E};if(k){k=!1;const F=[...N.elements[l.key].qrs,{image:w,title:b}];N.elements[l.key].qrs=F}return N})}function q(b){var k;let w=new FormData;w.append("id_company",(k=x==null?void 0:x.company)==null?void 0:k.id_company),b&&w.append("type",b),T.post(_+"/api/get/qrs",w,{withCredentials:!0}).then(E=>E.data).then(E=>{o(E)})}return a.useEffect(()=>{q(),c.id||u(!0)},[]),a.useEffect(()=>{y()},[h]),e.jsxs(e.Fragment,{children:[e.jsxs(te,{visible:h,maxWidth:"450px",callback:g,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Galeria de Qr's"}),e.jsx("span",{children:"Tu galeria de qrs, donde podras seleccionar que qr quieres integrar"})]}),e.jsx("div",{className:"data row flex control-scroll-qrs",children:v.map((b,w)=>e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"qrs",onClick:k=>{P(b==null?void 0:b.title,Ue(b.qr_preview))},image:Ue(b.qr_preview),title:b.title,children:[e.jsx("img",{src:Ue(b.qr_preview),alt:""}),e.jsx("p",{children:b.title})]})},w))})]}),e.jsx(hi,{Visible:m,Callback:u,setType:p,TypeSelect:n}),e.jsxs("div",{className:"editor-surveys",children:[e.jsx("button",{className:"fixed-button-right mb",onClick:b=>{y("left")},children:e.jsx(K,{icon:"streamline:paint-palette"})}),e.jsxs("div",{className:"rows",children:[e.jsx("div",{className:`left ${j.left==!0?"active":""}`,children:e.jsx(oi,{VisibleMenu:y,Visible:j.left,editor:l,setEditor:i,buttons:s,setButtons:t})}),e.jsx("div",{className:"center ",style:{background:(R=s==null?void 0:s.header)==null?void 0:R.background},children:e.jsx(mi,{addNewQr:P,VisibleMenu:y,type:n,setVisibleQr:g,visibleQr:h,boxType:d,setBoxType:r,editor:l,setEditor:i,buttons:s,setButtons:t})}),e.jsx("div",{className:`right ${j.right==!0?"active":""}`,children:e.jsx("div",{className:"type-editor",children:e.jsx(pi,{VisibleMenu:y,Visible:j.right,getMyQrs:q,addNewQr:P,setVisibleQr:g,visibleQr:h,boxType:d,setBoxType:r,editor:l,setEditor:i,buttons:s,setButtons:t})})})]})]})]})}function ui(){const[s,t]=a.useState(0),l=Y(),[i,c]=a.useState({user:null,existsAccount:null,code:null,intent:0}),[n,p]=a.useState(!1);function m(){let g=new FormData;g.append("user",i.user),i.user?(p(!0),T.post(_+"/api/recovery/existsuser",g).then(v=>v.data).then(async v=>{v.status?(await r(),p(!1),t(1),A.success("Tu codigo ha sido enviado al correo electronico")):(A.error("Opps no se ha conseguido este usuario"),p(!1))}).catch(v=>{A.error("Opps error al enviar la peticion."),p(!1)})):A.error("Has dejado el usuario vacido")}function u(){let g=new FormData;g.append("user",i==null?void 0:i.user),g.append("code",i==null?void 0:i.code),T.post(_+"/api/recovery/checkcode",g).then(v=>v.data).then(v=>{v.status?(t(2),A.success("Has ingresado el codigo correctamente")):(c({...i,intent:i.intent+1}),A.error("Error con tu codigo de seguridad"))})}function d(g){let v=g.target.name,o=g.target.value;c({...i,[v]:o})}async function r(){let g=new FormData;g.append("user",i==null?void 0:i.user),p(!0),T.post(_+"/api/recovery/requestcode",g).then(v=>v.data).then(v=>{p(!1),v.status?A.success("Codigo enviado correctamente."):A.error("Opps error al obtener un nuevo codigo, espera un momento...")}).catch(v=>{p(!1)})}function h(){let g=new FormData;g.append("user",i.user),g.append("password",i.password),g.append("password2",i.password2),g.append("code",i.code),i.password&&i.password2?i.password==i.password2?T.post(_+"/api/recovery/changepassword",g).then(v=>v.data).then(v=>{v.status?(A.success("Has cambiado la password correctamente"),l("/")):A.error("Opps error al cambiar la password")}):A.error("Las passwords no coiciden"):A.error("Has dejado campos vacios")}return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"recovery",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Recupera tu cuenta"}),e.jsx("span",{children:"Recupera tu cuenta con un correo o el nombre de usuario"})]}),e.jsx("br",{}),s==0?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Usuario / email"}),e.jsx("input",{type:"text",name:"user",onChange:d,placeholder:"guest@gmail.com"})]}),e.jsxs("button",{className:`go ${n?"await":""}`,onClick:m,children:["Buscar cuenta... ",e.jsx("div",{className:"loading"})]})]}):"",s==1?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsxs("label",{htmlFor:"",children:["Ingresa el codigo enviado a (",e.jsx("b",{children:i.user}),") "]}),e.jsx("input",{type:"password",name:"code",onChange:d,placeholder:"Codigo",style:{textAlign:"center"}})]}),i.intent?e.jsx(e.Fragment,{children:e.jsxs("button",{className:`transparent ${n?"await":""}`,onClick:r,children:["Pedir nuevo codigo ",e.jsx("div",{className:"loading"})]})}):"",e.jsxs("button",{className:`go ${n?"await":""}`,onClick:u,children:["Confirmar Codigo",e.jsx("div",{className:"loading"})]})]}):"",s==2?e.jsxs("div",{className:"form",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Contraseña Nueva"}),e.jsx("input",{type:"password",name:"password",onChange:d,placeholder:"••••••••"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Repita contraseña nueva"}),e.jsx("input",{type:"password",name:"password2",onChange:d,placeholder:"••••••••"})]}),e.jsxs("button",{className:`go ${n?"await":""}`,onClick:h,children:["Actualizar Contraseña",e.jsx("div",{className:"loading"})]})]}):""]})})}function xi(){return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"menu-top",children:[e.jsx("ul",{}),e.jsx("div",{className:"right",children:e.jsx("div",{className:"form-search",children:e.jsx("input",{type:"text",placeholder:"Buscar usuario..."})})})]})})}function ji(){const[s,t]=a.useState([]),{UserInfo:l}=a.useContext(X);function i(c,n){var m;let p=new FormData;p.append("id_company",(m=l==null?void 0:l.company)==null?void 0:m.id_company),T.post(_+"/api/get/contacts",p,{withCredentials:!0}).then(u=>u.data).then(u=>{t(u.result)})}return a.useEffect(()=>{i()},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Contactos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]})}),e.jsx(xi,{}),e.jsx("div",{className:"box box-padding",children:e.jsx("table",{children:e.jsxs("tbody",{children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Email"}),e.jsx("td",{children:"Nombre"}),e.jsx("td",{children:"Apellido"}),e.jsx("td",{children:"Dni"}),e.jsx("td",{children:"Numero"}),e.jsx("td",{children:"Sexo"}),e.jsx("td",{children:"Email Verificado"}),e.jsx("td",{children:"Estatus"})]}),s.map((c,n)=>e.jsxs("tr",{children:[e.jsx("td",{children:e.jsx("span",{children:c.email?c.email:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:c.name?c.name:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:c.lastname?c.lastname:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:c.dni?c.dni:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:c.phone?c.phone:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:c.sexo?c.name:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:c.email_verified?c.email_Verified:"No disponible"})}),e.jsx("td",{children:e.jsx("span",{children:c.status?c.status:"No disponible"})})]}))]})})})]})}function gi(){var p;const s=a.useRef(null);let{UserInfo:t}=a.useContext(X);const[l,i]=a.useState(!1),c=Y();a.useEffect(()=>{const m=Da.init({container:s.current,plugins:[Ta,Pa,qa,La]});return m.Storage.destroy(),m.Panels.addButton("options",{id:"return",label:"Volver",command:async function(){c("/landings")}}),m.Panels.addButton("options",{id:"save-html-button",className:"save-html-button-class",label:"Guardar",command:async function(){const u=m.getHtml(),d=m.getCss(),r=await m.store("export").then(v=>JSON.stringify(v));let h=new FormData,g=M("input[name='name']").val();h.append("id_company",M("#id_company").val()),h.append("html",u),h.append("name",g),h.append("css",d),h.append("json",r),Number(M("#id_edit").val())>=1&&h.append("id",M("#id_edit").val()),g.length?T.post(_+"/api/upload/landing",h,{withCredentials:!0}).then(v=>v.data).then(v=>{v.status&&(A.success("Guardado con exito"),v.id_create&&M("#id_edit").val(v.id_create))}):(A.error("Opps no has elegido un titulo"),i(!0))}}),m.Panels.addButton("options",{id:"gallery",label:"Galeria",command:async function(){}}),()=>{m.destroy()}},[]);function n(){M("input[name='name']").val()?i(!1):A.error("Opps no has asignado un titulo")}return e.jsx(e.Fragment,{children:e.jsxs("body",{theme:"ligth",children:[e.jsxs(te,{visible:l,callback:i,close:i,onClick:n,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Elegir titulo"}),e.jsx("span",{children:"elige un titulo para esta plantilla"})]}),e.jsx("br",{}),e.jsx("div",{className:"form-input",children:e.jsx("input",{name:"name",type:"text",placeholder:"Titulo"})})]}),e.jsx("input",{type:"number",id:"id_edit",hidden:!0}),e.jsx("input",{type:"number",id:"id_company",value:(p=t==null?void 0:t.company)==null?void 0:p.id_company,hidden:!0}),e.jsx("div",{ref:s})]})})}function vi(){const[s,t]=a.useState([]),{UserInfo:l}=a.useContext(X),[i,c]=a.useState(!0),n=Y();function p(){var u;let m=new FormData;m.append("id_company",(u=l==null?void 0:l.company)==null?void 0:u.id_company),T.post(_+"/api/get/landings",m,{withCredentials:!0}).then(d=>d.data).then(d=>{t(d),c(!1)})}return a.useEffect(()=>{p()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Landings"}),e.jsx("span",{children:"Aqui veras todas tus landings creadas con anterioridad podras editarlas o eliminarlas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:m=>{n("/editor/landings")},children:"Crear nueva landing"})})]}),e.jsx("div",{className:"row",children:i==!1?s.map((m,u)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:"url(/img/icons/default-img.jpg)"},children:e.jsx("div",{className:"right-top",children:e.jsx("button",{onClick:d=>{n(`/landing/${m.token}`)},children:e.jsx(Fe,{})})})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:m==null?void 0:m.name}),e.jsxs("span",{children:["Encuesta agregada el: ",ce(m.time_add)]})]})]})},u)):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(ve,{})})})})]})}function fi(){const s=re();return a.useEffect(()=>{function t(){const l=new FormData;l.append("token",s.id),T.post(_+"/api/get/landing",l).then(i=>i.data).then(i=>{document.documentElement.innerHTML="",document.documentElement.innerHTML=i.html})}t()},[s.id]),null}function Ni(){const s=Y(),{UserInfo:t}=a.useContext(X),[l,i]=a.useState([]),[c,n]=a.useState({id_delete:null,pending:!1}),[p,m]=a.useState(!1);function u(){var r;let d=new FormData;d.append("id_company",(r=t==null?void 0:t.company)==null?void 0:r.id_company),T.post(_+"/api/get/buttons",d,{withCredentials:!0}).then(h=>h.data).then(h=>{i(h)})}return a.useEffect(()=>{u()},[]),e.jsxs(e.Fragment,{children:[e.jsx(De,{visible:p,callback:m,Pending:c.pending}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MIS BOTONERAS URL"}),e.jsx("span",{children:"Previsualiza, edita, elimina y visualiza las estadisticas de tus botoneras de URL."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:d=>{s("/editor/buttons")},children:"Crear nueva botonera"})})]}),e.jsx("div",{className:"row",children:l.map((d,r)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${_}/api/get/previewbuttons?hash=${d.preview}&w=buttons)`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{title:"Editar",onClick:h=>{s("/editor/buttons/"+d.id_buttons)},children:e.jsx(K,{icon:"carbon:edit"})}),e.jsx("button",{title:"Previsualizar",onClick:h=>{s(`/stats/buttons/${d.token}`)},children:e.jsx(K,{icon:"mingcute:eye-line"})}),e.jsx("button",{title:"Estadisticas",onClick:h=>{s(`/buttons/${d.token}`)},children:e.jsx(K,{icon:"ps:stats"})}),e.jsx("button",{title:"Eliminar",onClick:h=>{m(!0)},children:e.jsx(K,{icon:"ph:trash"})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:d==null?void 0:d.title}),e.jsxs("span",{children:["Botonera agregada el: ",ce(d.time_add)]})]})]})},r))})]})}function yi(){const s=Y(),{UserInfo:t}=a.useContext(X),[l,i]=a.useState([]),[c,n]=a.useState(null),[p,m]=a.useState(!1),[u,d]=a.useState(!1),r=Y(),[h,g]=a.useState(!1);function v(){var j;let x=new FormData;g(!0),x.append("id_company",(j=t==null?void 0:t.company)==null?void 0:j.id_company),T.post(_+"/api/get/buttonsqr",x,{withCredentials:!0}).then(f=>f.data).then(f=>{i(f),g(!1)}).catch(f=>{g(!1)})}function o(){var x;if(c){m(!0);let j=new FormData;j.append("id_company",(x=t==null?void 0:t.company)==null?void 0:x.id_company),j.append("id_buttonqr",c),T.post(_+"/api/delete/buttonsqr",j,{withCredentials:!0}).then(f=>f.data).then(f=>{f.status&&(d(!1),he.success("Se ha borrado con exito!"),v()),m(!1)}).catch(f=>{m(!1)})}}return a.useEffect(()=>{v()},[]),e.jsxs(e.Fragment,{children:[e.jsx(De,{visible:u,onClick:o,Pending:p,callback:d}),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MIS BOTONERAS QR"}),e.jsx("span",{children:"Previsualiza, edita, elimina y visualiza las estadisticas de tus QR's."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:x=>{s("/editor/buttonsqr")},children:"Crear nueva botoneraQR"})})]}),e.jsx("div",{className:"loading-box",children:h?e.jsx(ve,{}):l.length==0?e.jsx(pe,{addNew:!0,name:"botoneras",callback:x=>{r("/editor/buttonsqr")}}):""}),e.jsx("div",{className:"row",children:l.map((x,j)=>e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${_}/api/get/previewbuttons?hash=${x.preview}&w=buttonsqr)`},children:e.jsxs("div",{className:"right-top",children:[e.jsx("button",{title:"editar",onClick:f=>{r("/editor/buttonsqr/"+x.id_buttonsqr)},children:e.jsx(K,{icon:"carbon:edit"})}),e.jsx("button",{title:"previsualizar",onClick:f=>{r(`/buttonsqr/${x.token}`)},children:e.jsx(K,{icon:"mingcute:eye-line"})}),e.jsx("button",{title:"eliminar",onClick:f=>{d(!0),n(x.id_buttonsqr)},children:e.jsx(K,{icon:"ph:trash"})})]})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:x==null?void 0:x.title}),e.jsxs("span",{children:["Botonera agregada el: ",ce(x.time_add)]})]})]})},j))})]})}function bi(){var u,d,r,h,g,v,o,x,j,f,y;let s=re();const[t,l]=a.useState(!1),[i,c]=a.useState({elements:[]}),[n,p]=a.useState(!1);function m(){let P=new FormData;P.append("token",s.id),T.post(_+"/api/get/buttonsqr",P).then(q=>q.data).then(q=>{c(q)})}return a.useEffect(()=>{m(),Ja("install")=="true"&&l(!0)},[]),e.jsxs(e.Fragment,{children:[e.jsx(Xs,{Visible:n,CallbackVisible:p}),t?e.jsxs(te,{visible:!0,maxWidth:250,next:"Listo",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Instalar"}),e.jsx("span",{children:"instalar acceso directo rapidamente en iphone."}),e.jsx("br",{}),e.jsx("br",{})]}),e.jsx("div",{className:"img-tuto-buttonsqr",children:e.jsxs(rs.Carousel,{showThumbs:!1,children:[e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone1.png",alt:""}),e.jsx("span",{children:"Preciona el boton de compartir en la parte de abajo"})]}),e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone2.png",alt:""}),e.jsx("span",{children:"Luego ve al final con el scroll"})]}),e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone3.png",alt:""}),e.jsx("span",{children:"Agrega a inicio"})]}),e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone4.png",alt:""}),e.jsx("span",{children:"Ahora configura y guarda"})]}),e.jsxs("div",{children:[e.jsx("img",{src:"/img/icons/tuto/buttonsqr/iphone5.png",alt:""}),e.jsx("span",{children:"Listo ya tienes tu acceso directo."})]})]})})]}):"",e.jsx("div",{className:"editor-surveys prodbuttonsqr",children:e.jsxs("div",{className:"center",style:{background:(u=i==null?void 0:i.header)==null?void 0:u.background},children:[e.jsx("div",{className:"background2",style:{backdropFilter:`blur(${(d=i==null?void 0:i.header)==null?void 0:d.blur}px)brightness(${(r=i==null?void 0:i.header)==null?void 0:r.brightness})`,background:(h=i==null?void 0:i.header)==null?void 0:h.background2}}),e.jsx("div",{className:`${"page buttonsbody buttonsqr "+((g=i==null?void 0:i.header)==null?void 0:g.theme)}`,children:e.jsxs("div",{className:"center-top",children:[e.jsx("img",{className:"logo",type:"logo",src:(v=i==null?void 0:i.header)!=null&&v.logo?(o=i==null?void 0:i.header)==null?void 0:o.logo:"/img/icons/default-img.jpg",alt:""}),e.jsx("p",{type:"title",children:(x=i==null?void 0:i.header)!=null&&x.title?(j=i==null?void 0:i.header)==null?void 0:j.title:""}),e.jsx("span",{type:"desc",children:(f=i==null?void 0:i.header)!=null&&f.desc?(y=i==null?void 0:i.header)==null?void 0:y.desc:""}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("button",{className:"share",onClick:P=>{p(!0)},children:"Compartir"}),e.jsx("button",{className:"update",onClick:P=>{window.location.href=window.location.href},children:"Actualizar"}),i.elements.map((P,q)=>e.jsxs("div",{className:"boxqr",children:[e.jsx("div",{className:"top",children:e.jsx("div",{className:"top-left",children:e.jsx("p",{id:q,type:"titlespace",children:P.title?P.title:""})})}),e.jsx(rs.Carousel,{showThumbs:!1,showIndicators:!1,showStatus:!1,children:P.qrs.map((R,b)=>e.jsxs("div",{className:"qr",children:[e.jsx("img",{src:R.image}),e.jsx("p",{children:R.title})]}))}),P.qrs.length==0?e.jsx("div",{className:"add-qr",children:"+"}):""]}))]})})]})})]})}function Ci(){const s=re();a.useState();const{UserInfo:t}=a.useContext(X);function l(){var c;let i=new FormData;i.append("token",s.id),i.append("id_company",(c=t==null?void 0:t.company)==null?void 0:c.id_company),T.post(_+"/api/get/statbuttons",i,{withCredentials:!0})}return a.useEffect(()=>{l()},[]),e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Botonera: ",s.id]}),e.jsx("span",{children:"Estas son las estadisticas de tu encuesta"})]})}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Estadisticas de enlaces"})}),e.jsx("div",{className:"result countryr"})]})}),e.jsx("div",{className:"col-md-6",children:"lorem"})]})]})}function wi(){var r,h;const s=re(),[t,l]=a.useState(!1),i=Y(),{UserInfo:c}=a.useContext(X),[n,p]=a.useState({total_clicks:0,total_errors:0,total_reads:0,total_sends:0,last_sends:[],last_errors:[]}),[m,u]=a.useState({series:[{name:"Enviados",data:[]},{name:"Clicks",data:[]},{name:"Leidos",data:[]},{name:"Errores",data:[]}],chart:{height:350,type:"area"},dataLabels:{enabled:!1},stroke:{curve:"smooth"},xaxis:{categories:[]},tooltip:{x:{format:"dd/MM/yy HH:mm"}}});function d(){var g;if(t){let v=new FormData;v.append("id_company",(g=c==null?void 0:c.company)==null?void 0:g.id_company),v.append("id_campaign",s.id),v.append("case","campaign"),T.post(_+"/api/get/stats",v,{withCredentials:!0}).then(o=>o.data).then(o=>{let x=o.daysResponse.length;p({...n,total_sends:o.total_sends,total_reads:o.total_reads,total_errors:o.total_errors,total_clicks:o.total_clicks,last_sends:o.last_sends,last_errors:o.last_errors,type_campaign:o.type_campaign}),x&&u(j=>({...j,series:[{...j.series[0],data:j.series[0].data.concat(o.daysResponse.map(f=>f.send))},{...j.series[1],data:j.series[1].data.concat(o.daysResponse.map(f=>f.clicks))},{...j.series[2],data:j.series[2].data.concat(o.daysResponse.map(f=>f.reads))},{...j.series[3],data:j.series[3].data.concat(o.daysResponse.map(f=>f.errors))}],xaxis:{...j.xaxis,categories:o.daysTotal}}))}).catch(o=>{})}}return a.useEffect(()=>{l(!0),t&&d()},[t]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Estadisticas de campaña: ",s==null?void 0:s.id]}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:g=>{i("/campaigns/detail/"+s.id)},children:e.jsx(Oe,{})})})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Enviados"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:n.total_sends})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Clicks"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:n.total_clicks})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Leidos"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:n.total_reads})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Errores"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:n.total_errors})})]})})]}),e.jsxs("div",{className:"box box-padding stat",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Estadisticas Generales"}),e.jsx("span",{children:"ve las estadisticas de forma general y recorre por cada dia y mes"})]}),(h=(r=m==null?void 0:m.series[0])==null?void 0:r.data)!=null&&h.length?e.jsx($e,{options:m,series:m.series,type:"area",height:300}):""]}),e.jsxs("div",{className:"row ",children:[e.jsxs("div",{className:"col-md-6",children:[e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Analisis General"}),e.jsx("span",{children:"Analisis generales"})]}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Enviados:"})," ",n.total_sends]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Clicks:"})," ",n.total_clicks]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Leidos:"})," ",n.total_reads]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Errores:"})," ",n.total_errors]})}),e.jsx("div",{className:"result",children:e.jsxs("span",{children:[e.jsx("b",{children:"Aceptacion General:"})," ",n.total_sends," %"]})})]}),e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimos Errores"}),e.jsx("span",{children:"Los ultimos errores registrados"})]}),e.jsxs("div",{className:"results",children:[n.last_errors.map((g,v)=>e.jsxs("div",{className:"item flex",children:[e.jsx("div",{children:e.jsx("span",{children:n.type_campaign=="em"?g.email:""})}),e.jsxs("div",{children:[e.jsx("button",{className:"status-send",children:e.jsx(Ce,{})}),e.jsx("button",{className:`status-send ${g.error?"error":""}`,children:g.error?e.jsxs(e.Fragment,{children:["Error ",e.jsx(vs,{})]}):e.jsxs(e.Fragment,{children:["Enviado  ",e.jsx(ue,{})]})})]})]})),n.last_errors.length==0?e.jsx(e.Fragment,{children:e.jsx(pe,{name:"errores"})}):e.jsx("div",{className:"show-all",children:e.jsx("button",{onClick:g=>{i("/campaigns/stats/detail/"+s.id)},children:"Ver detalles completo"})})]})]})]}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimos Enviados"}),e.jsx("span",{children:"Los ultimos envios salientes"})]}),e.jsxs("div",{className:"results",children:[n.last_sends.map((g,v)=>e.jsxs("div",{className:"item flex",children:[e.jsx("div",{children:e.jsx("span",{children:n.type_campaign=="em"?g.email:""})}),e.jsx("div",{children:e.jsx("button",{className:`status-send ${g.error?"error":""}`,children:g.error?e.jsxs(e.Fragment,{children:["Error ",e.jsx(vs,{})]}):e.jsxs(e.Fragment,{children:["Enviado  ",e.jsx(ue,{})]})})})]})),n.last_sends.length==0?e.jsx(e.Fragment,{children:e.jsx(pe,{name:"errores"})}):e.jsx("div",{className:"show-all",children:e.jsx("button",{onClick:g=>{i("/campaigns/stats/detail/"+s.id)},children:" Ver detalles completo"})})]})]})})]})]})}function ki(){const s=Y();return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Segmentos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:t=>{s("/contacts/segments/add")},children:"Crear nuevo segmento"})})]})})}function Si(){const[s,t]=a.useState(!1),[l,i]=a.useState([]),[c,n]=a.useState(!1),[p,m]=a.useState(!1),[u,d]=a.useState({domain:null}),{UserInfo:r}=a.useContext(X);function h(){var x;let o=new FormData;o.append("id_company",(x=r==null?void 0:r.company)==null?void 0:x.id_company),i([]),t(!0),n(!0),T.post(_+"/api/get/domains",o,{withCredentials:!0}).then(j=>j.data).then(j=>{i(j),t(!1),n(!1),m(!1)}).catch(j=>{t(!1)})}function g(){var x;let o=new FormData;o.append("domain",u.domain),o.append("id_company",(x=r==null?void 0:r.company)==null?void 0:x.id_company),et(u.domain)?T.post(_+"/api/upload/domain",o,{withCredentials:!0}).then(j=>j.data).then(j=>{j.status&&h()}):he.error("Opps este dominio no es veridico.")}function v(o){let x=o.target.value,j=o.target.name;d({...u,[j]:x})}return a.useEffect(()=>{h()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(te,{visible:p,Pending:c,callback:m,maxWidth:"450px",onClick:g,next:"Subir",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ingresar dominio"}),e.jsx("span",{children:"integra un nuevo dominio para utilizarlo en los envios de correo, recuerda que durara un tiempo en verificarse el dominio en nuestro servidor."})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Dominio:"}),e.jsx("input",{type:"url",onChange:v,name:"domain",placeholder:"mail.radarsystems.net"})]}),e.jsx("br",{})]},p?"xd":"xd2"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Dominios"}),e.jsx("span",{children:"Esta es tu lista de dominios que puedes utilizar en el envio de correos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:o=>{m(!0)},children:"Subir nuevo dominio"})})]}),e.jsxs("div",{className:"box box-padding",children:[l.map((o,x)=>e.jsxs("div",{className:"item flex",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/default_link.png",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsx("p",{className:"title",children:o.domain}),e.jsx("p",{className:"desc",children:o.status?"Activo":"En verificacion..."}),e.jsx("span",{className:"desc",children:ce(o.time_add)})]})]}),e.jsxs("div",{className:"actions",children:[e.jsx("button",{onClick:j=>{},children:e.jsx(Ce,{})}),e.jsx("button",{onClick:j=>{},children:e.jsx(ae,{})})]})]})),s?e.jsx(ve,{}):l.length==0?e.jsx("div",{className:"item",children:e.jsx(pe,{name:"dominios"})}):""]})]})}function _i(){var x,j,f,y,P,q,R,b;const[s,t]=a.useState({type:void 0,map:{}}),[l,i]=a.useState({}),[c,n]=a.useState(!1),[p,m]=a.useState({name:"",desc:""}),{UserInfo:u}=a.useContext(X);function d(w){let k=w.target.name,E=w.target.value;t({...s,[k]:E})}function r(w){let k=w.target.name,E=w.target.value;switch(w.target.getAttribute("action")){case"add":t(F=>({...F,map:{...F.map,[k]:E}}));break;case"push":t({...s,...s.map,[k]:E});break}}function h(){var k;let w=new FormData;w.append("id_company",(k=u==null?void 0:u.company)==null?void 0:k.id_company),T.post(_+"/api/get/list",w,{withCredentials:!0}).then(E=>E.data).then(E=>{i(N=>(N.lists=E,N))})}function g(w){w.preventDefault(),t(k=>{let E={...k};return E.map.wheres||(E.map.wheres=[]),E.map.wheres.push({[E.map.typeWhereContact]:E.formValue}),E})}function v(){var k;let w=new FormData;w.append("json",JSON.stringify(s)),w.append("id_company",(k=u==null?void 0:u.company)==null?void 0:k.id_company),w.append("name",p.name),w.append("desc",p.desc),T.post(_+"/api/upload/segments",w,{withCredentials:!0}).then(E=>E.data).then(E=>{})}function o(w){let k=w.target.name,E=w.target.value;k&&E&&m({...p,[k]:E})}return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"Mis Segmentos"}),e.jsx("span",{children:"Esta es tu lista de contactos, puedes revisarlo y exportarlos"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",children:"Cancelar Creacion"})})]}),e.jsxs("div",{className:"segments-creator",children:[e.jsxs("form",{id:"form-segment",children:[e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Nombre"}),e.jsx("input",{type:"text",name:"name",onChange:o,placeholder:"Nombre del segmento"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{htmlFor:"",children:"Descripcion"}),e.jsx("input",{type:"text",name:"desc",onChange:o,placeholder:"Descripcion del segmento"})]}),e.jsxs("div",{className:"inputs",children:[e.jsxs("select",{id:"",name:"type",onChange:d,children:[e.jsx("option",{disabled:!0,selected:!0,children:"Selecciona un tipo"}),e.jsx("option",{value:"lists",children:"Listas"}),e.jsx("option",{value:"campaings",children:"Campañas"}),e.jsx("option",{value:"surveys",children:"Encuestas"})]}),s.type=="lists"?e.jsxs(e.Fragment,{children:[e.jsxs("select",{id:"",name:"type_lists",action:"add",onChange:r,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Selecciona..."}),e.jsx("option",{value:"all",children:"Todas las listas"}),e.jsx("option",{value:"where",children:"Lista Especifica"})]}),e.jsx("i",{children:"="}),(s==null?void 0:s.map.type_lists)=="all"?e.jsx(e.Fragment,{children:e.jsx("option",{value:""})}):((x=s==null?void 0:s.map)==null?void 0:x.type_lists)=="where"?e.jsxs(e.Fragment,{children:[h(),e.jsxs("select",{name:"lists",action:"add",id:"",onChange:r,children:[e.jsx("option",{value:"",selected:!0,disabled:!0,children:"Selecciona la lista..."}),(j=l==null?void 0:l.lists)==null?void 0:j.map((w,k)=>e.jsx("option",{value:w.id_list,children:w.name}))]}),((f=s==null?void 0:s.map)==null?void 0:f.lists)>=1?e.jsxs("div",{className:"multiple",children:[e.jsxs("div",{className:"",children:[e.jsxs("select",{name:"typeWhereContact",action:"add",onChange:r,children:[e.jsx("option",{selected:!0,disabled:!0,children:"Selecciona una condicion"}),e.jsx("option",{value:"email",children:"Correo"}),e.jsx("option",{value:"name",children:"Nombre"}),e.jsx("option",{value:"lastname",children:"Apellido"}),e.jsx("option",{value:"age",children:"Edad"}),e.jsx("option",{value:"country",children:"Pais"})]}),((y=s==null?void 0:s.map)==null?void 0:y.typeWhereContact)=="email"?e.jsxs("select",{name:"formValue",onChange:d,children:[e.jsx("option",{value:".es",children:".es"}),e.jsx("option",{value:".com",children:".com"}),e.jsx("option",{value:".net",children:".net"}),e.jsx("option",{value:".org",children:".org"}),e.jsx("option",{value:"gmail.com",children:"gmail.com"}),e.jsx("option",{value:"hotmail.com",children:"hotmail.com"}),e.jsx("option",{value:"hotmail.es",children:"hotmail.es"}),e.jsx("option",{value:"outlook.com",children:"outlook.com"}),e.jsx("option",{value:"outlook.es",children:"outlook.es"}),e.jsx("option",{value:"icloud.com",children:"icloud.com"})]}):"",["name","lastname","age","country"].includes((P=s==null?void 0:s.map)==null?void 0:P.typeWhereContact)&&e.jsx(e.Fragment,{children:e.jsx("input",{type:"text",name:"formValue",onChange:d,placeholder:(q=s==null?void 0:s.map)==null?void 0:q.typeWhereContact})}),e.jsx("button",{className:"add-button",onClick:g,children:e.jsx(ls,{})})]}),(b=(R=s==null?void 0:s.map)==null?void 0:R.wheres)==null?void 0:b.map((w,k)=>e.jsx("div",{children:Object.entries(w).map(([E,N])=>e.jsxs("div",{className:"where-contact",children:[e.jsxs("p",{children:[E," (Where)"]}),e.jsx("p",{children:N}),e.jsx("button",{children:e.jsx(ae,{})})]},E))},k))]}):""]}):"",["name","lastname","age","country","state"].includes(s==null?void 0:s.type_where_now)&&e.jsxs(e.Fragment,{children:[e.jsx("input",{type:"text",placeholder:s==null?void 0:s.type_where_now}),e.jsx("button",{children:e.jsx(ls,{})})]})]}):""]})]}),e.jsxs("div",{className:"buttons-right",children:[e.jsx("button",{children:"Cancelar"}),e.jsxs("button",{className:`save ${c?"await":""}`,onClick:v,children:["Guardar ",e.jsx("div",{className:"loading"})]})]})]})]})}function Ts(){Y();const{UserInfo:s}=a.useContext(X),[t,l]=a.useState([]),[i,c]=a.useState([]),[n,p]=a.useState([]);a.useState([]),a.useState([]);const[m,u]=a.useState([]),[d,r]=a.useState([]);a.useState({});function h(o){var j;let x=new FormData;x.append("id_company",(j=s==null?void 0:s.company)==null?void 0:j.id_company),x.append("type",o),x.append("limit","5"),T.post(_+"/api/get/campaign",x,{withCredentials:!0}).then(f=>f.data).then(f=>{switch(o){case"sms":l(f.results);break;case"em":c(f.results??[]);break}})}function g(){var x;let o=new FormData;o.append("id_company",(x=s==null?void 0:s.company)==null?void 0:x.id_company),o.append("limit","10"),T.post(_+"/api/get/templatesall",o,{withCredentials:!0}).then(j=>j.data).then(j=>{u(j)})}function v(){var x;let o=new FormData;o.append("id_company",(x=s==null?void 0:s.company)==null?void 0:x.id_company),T.post(_+"/api/get/surveys",o,{withCredentials:!0}).then(j=>j.data).then(j=>{r(j)})}return a.useEffect(()=>{h("em"),h("sms"),g(),v()},[]),e.jsxs(e.Fragment,{children:[e.jsx(te,{visible:!1,children:"STATS"}),e.jsx("div",{className:"page-info",children:e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"MI INICIO"}),e.jsx("span",{children:"Bienvenido a RadarSystems aca podras ver todas tus estadisticas y estados de tu cuenta"})]})}),e.jsx("div",{className:"body-stat",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total email marketing enviados"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"1"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total email transaccional enviados"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"12"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total campañas sms marketing"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"13"})})]})}),e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box stat box-padding",children:[e.jsx("div",{className:"top",children:e.jsx("p",{children:"Total campañas sms transaccional"})}),e.jsx("div",{className:"resp-number",children:e.jsx("p",{children:"1"})})]})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding hr",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Top's Campañas EMAIL"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]})})}),e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"box stat box-padding hr",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Top's Campañas SMS"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]})})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Email Marketing"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Cam."}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Lei."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:"Rep. Spam"}),e.jsx("td",{children:"Opt. Out"}),e.jsx("td",{children:"Opt. Net"}),e.jsx("td",{children:e.jsx(de,{})})]}),i.map((o,x)=>e.jsxs("tr",{id:x,children:[e.jsxs("td",{children:[e.jsx("span",{children:o.name}),e.jsx("br",{}),ce(o.time_add)]}),e.jsx("td",{children:o.send}),e.jsx("td",{children:o.returned}),e.jsx("td",{children:o.reads}),e.jsx("td",{children:o.clicks}),e.jsx("td",{children:o.clicks}),e.jsx("td",{children:o.clicks}),e.jsx("td",{children:o.clicks}),e.jsx("td",{children:e.jsx(z,{children:e.jsx(de,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-12",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Email Transaccional (MT)"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Cam."}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Lei."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:"Rep. Spam"}),e.jsx("td",{children:"Opt. Out"}),e.jsx("td",{children:"Opt. Net"}),e.jsx("td",{children:e.jsx(de,{})})]}),i.map((o,x)=>e.jsxs("tr",{id:x,children:[e.jsxs("td",{children:[e.jsx("span",{children:o.name}),e.jsx("br",{}),ce(o.time_add)]}),e.jsx("td",{children:o.send}),e.jsx("td",{children:o.returned}),e.jsx("td",{children:o.reads}),e.jsx("td",{children:o.clicks}),e.jsx("td",{children:o.clicks}),e.jsx("td",{children:o.clicks}),e.jsx("td",{children:o.clicks}),e.jsx("td",{children:e.jsx(z,{children:e.jsx(de,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Sms Marketing"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Cam."}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Rec."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:e.jsx(de,{})})]}),i.map((o,x)=>e.jsxs("tr",{id:x,children:[e.jsxs("td",{children:[e.jsx("span",{children:o.name}),e.jsx("br",{}),ce(o.time_add)]}),e.jsx("td",{children:o.send}),e.jsx("td",{children:o.returned}),e.jsx("td",{children:o.reads}),e.jsx("td",{children:o.clicks}),e.jsx("td",{children:e.jsx(z,{children:e.jsx(de,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Sms Transaccional (MT)"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Cam."}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Rec."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:e.jsx(de,{})})]}),i.map((o,x)=>e.jsxs("tr",{id:x,children:[e.jsxs("td",{children:[e.jsx("span",{children:o.name}),e.jsx("br",{}),ce(o.time_add)]}),e.jsx("td",{children:o.send}),e.jsx("td",{children:o.returned}),e.jsx("td",{children:o.reads}),e.jsx("td",{children:o.clicks}),e.jsx("td",{children:e.jsx(z,{children:e.jsx(de,{})})})]}))]})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Whatsapp Marketing"}),e.jsx("span",{children:"Ve las campanas mas demandadas de whatsapp"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Cam."}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Rec."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:e.jsx(de,{})})]}),n.map((o,x)=>e.jsxs("tr",{id:x,children:[e.jsxs("td",{children:[e.jsx("span",{children:o.name}),e.jsx("br",{}),ce(o.time_add)]}),e.jsx("td",{children:o.send}),e.jsx("td",{children:o.returned}),e.jsx("td",{children:o.reads}),e.jsx("td",{children:o.clicks}),e.jsx("td",{children:e.jsx(z,{children:e.jsx(de,{})})})]}))]}),n.length==0?e.jsx(pe,{name:"Whatsapp"}):""]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Ultimas Campañas Whatsapp Transaccional (MT)"}),e.jsx("span",{children:"Ve las campanas mas demandadas de whatsapp"}),e.jsx("span",{})]}),e.jsxs("table",{className:"stat-home",children:[e.jsxs("tr",{children:[e.jsx("td",{children:"Cam."}),e.jsx("td",{children:"Env."}),e.jsx("td",{children:"Dev."}),e.jsx("td",{children:"Rec."}),e.jsx("td",{children:"Click."}),e.jsx("td",{children:e.jsx(de,{})})]}),n.map((o,x)=>e.jsxs("tr",{id:x,children:[e.jsxs("td",{children:[e.jsx("span",{children:o.name}),e.jsx("br",{}),ce(o.time_add)]}),e.jsx("td",{children:o.send}),e.jsx("td",{children:o.returned}),e.jsx("td",{children:o.reads}),e.jsx("td",{children:o.clicks}),e.jsx("td",{children:e.jsx(z,{children:e.jsx(de,{})})})]}))]}),n.length==0?e.jsx(pe,{name:"Whatsapp"}):""]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Plantillas Creadas"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsx("div",{className:"result-go",children:m.map((o,x)=>e.jsxs("div",{className:"i",children:[e.jsxs("div",{className:"left",children:[e.jsx("p",{className:"name",children:o.title}),e.jsx("span",{className:"date",children:ce(o.time_add)})]}),e.jsx("div",{className:"right",children:e.jsxs("button",{children:[e.jsx(Fe,{})," Ver "]})})]}))})]})}),e.jsx("div",{className:"col-md-6",children:e.jsxs("div",{className:"box stat box-padding hr",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Encuestas"}),e.jsx("span",{children:"Ve las campanas mas demandadas"}),e.jsx("span",{})]}),e.jsx("div",{className:"result-go",children:d.map((o,x)=>e.jsxs("div",{className:"i",children:[e.jsxs("div",{className:"left",children:[e.jsx("p",{className:"name",children:o.header.title}),e.jsx("span",{className:"date",children:ce(o.time_add)})]}),e.jsx("div",{className:"right",children:e.jsxs("button",{children:[e.jsx(Fe,{})," Ver"]})})]}))})]})})]})})]})}function Ei(){const s=Y(),t=re(),l=qe(),{UserInfo:i}=a.useContext(X);a.useState(null);const[c,n]=a.useState([]),[p,m]=a.useState(!0);function u(d=void 0){var h;let r=new FormData;m(!0),r.append("id_company",(h=i==null?void 0:i.company)==null?void 0:h.id_company),r.append("id_campaign",t.id),d!==void 0&&r.append("type",d),T.post(_+"/api/get/detailsends",r,{withCredentials:!0}).then(g=>g.data).then(g=>{n(g),m(!1)})}return a.useEffect(()=>{u()},[]),a.useEffect(()=>{let d=new URLSearchParams(l.search).get("where");d&&u(d)},[l]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Estadisticas de campaña: ",t==null?void 0:t.id]}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsxs("div",{className:"right",children:[e.jsx("button",{className:"go-wizard",onClick:d=>{s("/campaigns/stats/"+t.id)},children:e.jsx(Oe,{})}),e.jsx("button",{className:"go-wizard",onClick:d=>{s("/campaigns/stats/"+t.id)},children:"Crear Segmento"}),e.jsx("button",{className:"go-wizard",onClick:d=>{s("/campaigns/stats/"+t.id)},children:"Descargar"})]})]}),e.jsx("div",{className:"menu-top",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(z,{to:`/campaigns/stats/detail/${t.id}`,children:"General"})}),e.jsx("li",{children:e.jsx(z,{to:`/campaigns/stats/detail/${t.id}?where=error`,children:"Errores"})}),e.jsx("li",{children:e.jsx(z,{to:`/campaigns/stats/detail/${t.id}?where=clicks`,children:"Clicks"})}),e.jsx("li",{children:e.jsx(z,{to:`/campaigns/stats/detail/${t.id}?where=reads`,children:"Leidos"})})]})}),e.jsxs("div",{className:"box stat box-padding",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Resultados de busqueda"}),e.jsx("span",{children:"Te mostraremos el listado detallado de tus envios"})]}),e.jsx("div",{className:"control-scroll stats-detail",children:e.jsx("div",{className:"row",children:e.jsx(Qs,{hasMore:!0,dataLength:10,children:c.map((d,r)=>e.jsx("div",{className:"item flex",children:e.jsx("div",{children:e.jsx("span",{children:d.email})})}))})})})]})]})}function Fi(){const s=Y(),[t,l]=a.useState(!1),[i,c]=a.useState([]),{UserInfo:n}=a.useContext(X);function p(){var u;let m=new FormData;m.append("id_company",(u=n==null?void 0:n.company)==null?void 0:u.id_company),T.post(_+"/api/get/templatesall",m,{withCredentials:!0}).then(d=>d.data).then(d=>{c(d)})}return a.useEffect(()=>{p()},[]),e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"title",children:"BOLETINES ELECTRONICOS"}),e.jsx("span",{children:"Estadisticas de campaña visualiza las estadisticas generalmente de cada una y comparalas"})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"add",onClick:m=>{s("/editor/canvas")},children:"Crear Nuevo Boletin"})})]}),e.jsx("div",{className:"row",children:t==!1?i.map((m,u)=>{var d;return e.jsx("div",{className:"col-md-3",children:e.jsxs("div",{className:"box survey-b",children:[e.jsx("div",{className:"preview",style:{background:`url(${ps((d=n==null?void 0:n.company)==null?void 0:d.folder_sftp,m.preview_image)})`},children:e.jsx("div",{className:"right-top",children:e.jsx("button",{onClick:r=>{s(`/landing/${m.token}`)},children:e.jsx(Fe,{})})})}),e.jsxs("div",{className:"top",style:{padding:"10px"},children:[e.jsx("p",{children:m==null?void 0:m.title}),e.jsxs("span",{children:["Boletin agregado el: ",ce(m.time_add)]})]})]})},u)}):e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"box box-padding",children:e.jsx(ve,{})})})})]})}M(document).on("click",".settings-account .case .info button",function(s){s.preventDefault(),s.stopImmediatePropagation();let t=M(this).parents(".case");M(".settings-account .case.active").removeClass("active"),t.addClass("active")});function Di(){M(".settings-account .case.active").removeClass("active")}function Ti(){const{UserInfo:s}=a.useContext(X),[t,l]=a.useState({}),[i,c]=a.useState(),[n,p]=a.useState({photo:""});function m(r){let h=r.nativeEvent.target.files;if(h.length){let g=h[0];if(g.type.indexOf("image")>=0){l(g);let v=URL.createObjectURL(g);c(v)}}}function u(r){M("input[name='photo']").val(""),c(""),l({})}function d(){var h;let r=new FormData;r.append("file",t),r.append("id_company",(h=s==null?void 0:s.company)==null?void 0:h.id_company),p({photo:"await"}),T.post(_+"/api/upload/newphoto",r,{withCredentials:!0}).then(g=>g.data).then(g=>{g.status&&(M(".header-top .body  img").attr("src",i),Di(),l({}),he.success("Has cambiado correctamente la foto de perfil")),p({photo:""})}).catch(g=>{p({photo:""})})}return e.jsx(e.Fragment,{children:e.jsx("div",{className:"settings-account",children:e.jsxs("div",{className:"case",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Establece una foto de perfil"}),e.jsx("span",{children:"cambia la foto de perfil y integra una foto con tu logo o algo de tu marca"}),e.jsx("button",{children:"Cambiar"})]}),e.jsx("div",{className:"action",children:e.jsxs("div",{className:"change-photo",children:[e.jsx("div",{className:"photo",style:{background:`url(${i||ms(s)})`}}),e.jsx("div",{className:"buttons",children:t!=null&&t.name?e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:n.photo,onClick:d,children:["Guardar ",e.jsx("div",{className:"loading"})]}),e.jsx("button",{onClick:u,children:"Cancelar"})]}):e.jsxs("button",{onClick:r=>{M("input[name='photo']").click()},children:["Subir ",e.jsx("i",{children:e.jsx(Ra,{})})," "]})}),e.jsx("input",{type:"file",name:"photo",onChange:m,hidden:!0})]})})]})})})}function Pi(){const[s,t]=a.useState([]),[l,i]=a.useState({domain:"",domain_email:""}),[c,n]=a.useState(!1),{UserInfo:p}=a.useContext(X),[m,u]=a.useState(!1),[d,r]=a.useState(!1);function h(o){let x=o.target.name,j=o.target.value;i({...l,[x]:j})}function g(){var x;let o=new FormData;n(!0),o.append("domain",l.domain),o.append("domain_email",l.domain_email),o.append("id_company",(x=p==null?void 0:p.company)==null?void 0:x.id_company),T.post(_+"/api/upload/domain",o,{withCredentials:!0}).then(j=>j.data).then(j=>{n(!1),j.status&&u(!1),j.msg&&he.error(j.msg)}).catch(j=>{n(!1)})}function v(){var x;let o=new FormData;o.append("id_company",(x=p==null?void 0:p.company)==null?void 0:x.id_company),T.post(_+"/api/get/domains",o,{withCredentials:!0}).then(j=>j.data).then(j=>{t(j)})}return a.useEffect(()=>{v()},[]),e.jsxs(e.Fragment,{children:[e.jsxs(te,{visible:m,callback:u,maxWidth:"300px",onClick:g,Pending:c,children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Agregar"}),e.jsx("span",{children:"agrega un nuevo dominio, el dominio quedara en verificacion para poder ser utilizado"})]}),e.jsx("br",{}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Dominio destinatario"}),e.jsx("input",{type:"text",name:"domain",onChange:h,placeholder:"dominio.com"})]}),e.jsxs("div",{className:"form-input",children:[e.jsx("label",{children:"Correo del dominio"}),e.jsx("input",{type:"text",name:"domain_email",onChange:h,placeholder:"example@dominio.com"})]})]}),e.jsx(De,{visible:d,callback:r,onClick:"",Pending:""}),e.jsx("div",{className:"settings-account",children:e.jsxs("div",{className:"case active",children:[e.jsxs("div",{className:"info",children:[e.jsx("p",{children:"Dominios"}),e.jsx("span",{children:"Estos dominios son los que has configurado para ser manejados en tu campanas de envios email"}),e.jsx("button",{onClick:o=>{u(!0)},children:"Agregar Dominio"})]}),e.jsxs("div",{className:"action",children:[e.jsx("div",{className:"row domains",children:s.map((o,x)=>e.jsx("div",{className:"col-md-4",children:e.jsxs("div",{className:"domain",children:[e.jsxs("p",{children:[e.jsx(Ma,{}),"  ",o.domain]}),e.jsx("span",{children:o.domain_email}),e.jsx("br",{}),e.jsxs("span",{children:["Estatus: ",o.status?e.jsx(Oa,{}):e.jsx(Aa,{})]}),e.jsxs("div",{className:"buttons",children:[e.jsx("button",{children:e.jsx(de,{})}),e.jsx("button",{children:e.jsx(ae,{})})]})]})}))}),s.length==0?e.jsx(pe,{name:"dominios"}):""]})]})})]})}function qi(){return e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading-modal",children:e.jsx("div",{className:"circle"})})})}function Li(){const s=Y(),t=re(),[l,i]=a.useState([]),[c,n]=a.useState(!1),{UserInfo:p}=a.useContext(X),[m,u]=a.useState(),[d,r]=a.useState([]),[h,g]=a.useState({width:"",left:""}),[v,o]=a.useState("gl"),[x,j]=a.useState(!0),[f,y]=a.useState(),[P,q]=a.useState(!1),[R,b]=a.useState({csv:!1,json:!1});function w(){var F;let N=new FormData;N.append("id_list",t.id),N.append("id_company",(F=p==null?void 0:p.company)==null?void 0:F.id_company),T.post(_+"/api/get/logslists",N,{withCredentials:!0}).then(C=>C.data).then(C=>{C.length&&i(C)}).catch(C=>{})}function k(N,F=!1,C=null,O=!1,H=null){var ee;y(!0),F||(j(!1),n(!0),u(N),r([]),C!=="error"&&O!==!0&&(g({width:"70",left:"10"}),o("gl")));let Z=new FormData;Z.append("id_list",t.id),Z.append("id_company",(ee=p==null?void 0:p.company)==null?void 0:ee.id_company),Z.append("detail",N),d.length&&F&&Z.append("last_id",d.slice(-1)[0].id_log),O&&Z.append("download",H),C!==null&&Z.append("type",C),T.post(_+"/api/get/logslists",Z,{withCredentials:!0}).then(I=>I.data).then(I=>{if(O){b({...R,[H]:!0});const $=new Blob([JSON.stringify(I)],{type:O=="json"?"application/json":"text/csv"}),V=URL.createObjectURL($),B=document.createElement("a");B.href=V,B.setAttribute("download",`upload-${m}-list-${t.id}.json`),document.body.appendChild(B),B.click(),document.body.removeChild(B),setTimeout(()=>{b({...R,[H]:!1})},1e3)}j(!0),y(!1),r(F===!1?I:$=>[...$,...I])}).catch(I=>{y(!1)})}a.useEffect(()=>{w()},[]),a.useEffect(()=>{c&&(v=="error"&&k(m,!1,"error"),v=="gl"&&k(m,!1),v=="dw"?q(!0):q(!1))},[v]);function E(N){let F=N.target.value;o(F),g(C=>({...C,width:N.target.offsetWidth,left:N.target.offsetLeft}))}return e.jsxs(e.Fragment,{children:[e.jsxs(te,{visible:c,callback:n,maxWidth:"500px",minWidth:"500px",children:[e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Detalles"}),e.jsxs("span",{children:["detalles de la subida: ",m]})]}),e.jsx("div",{className:"menu-change",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx("button",{className:`${v=="gl"?"active":""}`,onClick:E,value:"gl",style:{fontSize:"13px"},children:"Global"})}),e.jsx("li",{children:e.jsx("button",{className:`${v=="error"?"active":""}`,onClick:E,value:"error",style:{fontSize:"13px"},children:"Errores"})}),e.jsx("li",{children:e.jsx("button",{className:`${v=="dw"?"active":""}`,onClick:E,value:"dw",style:{fontSize:"13px"},children:"Descargar"})}),e.jsx("div",{className:"hover",style:{left:h.left+"px",width:h.width+"px"}})]})}),P?e.jsx(e.Fragment,{children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"item",children:e.jsxs("div",{className:"top",children:[e.jsx("p",{children:"Descargar logs"}),e.jsxs("span",{children:["Puedes descargar los logs de esta subida ",m," mediante un archivo csv / json"]}),e.jsxs("div",{className:"actions-item complete",children:[e.jsxs("button",{className:`download ${R.csv?"await":""}`,onClick:N=>{k(m,!1,null,!0,"json")},children:["Descargar CSV ",e.jsx("div",{className:"loading"})]}),e.jsxs("button",{className:`download ${R.json?"await":""}`,onClick:N=>{k(m,!1,null,!0,"json")},children:["Descargar JSON ",e.jsx("div",{className:"loading"})]})]})]})})})})}):e.jsx("div",{className:"data",children:e.jsx(Qs,{scrollableTarget:"scrollableDiv",hasMore:x,next:()=>{k(m,!0)},dataLength:d.length,children:e.jsx("div",{className:"control-scroll lists-detail",id:"scrollableDiv",children:e.jsxs("div",{className:"row",children:[d==null?void 0:d.map((N,F)=>e.jsx("div",{className:"col-md-6",children:e.jsx("div",{className:"item box box-padding",children:e.jsxs("div",{className:"top",children:[e.jsxs("span",{children:["Correo: ",N.email?N.email:"No aplica"]}),e.jsx("br",{}),e.jsxs("span",{children:["Telefono: ",N.phone?N.phone:"No aplica"]}),e.jsx("br",{}),e.jsxs("span",{children:["Calidad de subida: ",N.error?"error":"success"]})]})})})),f?e.jsx(qi,{}):"",(d==null?void 0:d.length)===0&&f===!1?e.jsx(pe,{name:v=="gl"?"registros":"errores"}):""]})})})})]},c?"Xd":"x"),e.jsxs("div",{className:"page-info",children:[e.jsxs("div",{className:"",children:[e.jsxs("p",{className:"title",children:["Logs de lista: ",t.id]}),e.jsx("span",{children:"Ve los detalle de tus listas y ve si estan listas para ser utilizadas."})]}),e.jsx("div",{className:"right",children:e.jsx("button",{className:"go-wizard",onClick:N=>{s("/contacts/detail/"+t.id)},children:e.jsx(Oe,{})})})]}),e.jsx("div",{className:"row",children:l.map((N,F)=>e.jsx("div",{className:"col-md-4  page-lists",children:e.jsx("div",{className:"box box-padding ",children:e.jsxs("div",{className:"item flex-wrap",children:[e.jsxs("div",{className:"info",children:[e.jsx("div",{className:"icon",children:e.jsx("img",{src:"/img/icons/upload_arrow2.webp",alt:""})}),e.jsxs("div",{className:"text",children:[e.jsxs("p",{className:"title",children:["Subida: ",e.jsx("b",{children:N.id_upload})]}),e.jsxs("span",{className:"desc",children:["Fecha: ",ce(N.time_add,"full")]}),e.jsx("br",{}),e.jsxs("span",{className:"desc",children:["Fecha de finalización: ",ce(N.time_finish,"full")]}),e.jsx("br",{}),e.jsxs("span",{className:"desc",children:["Contactos Subidos: 1",N==null?void 0:N.contacts_total]}),e.jsx("br",{}),e.jsx("span",{className:"desc",children:"Calidad de subida:"}),N!=null&&N.insert?e.jsxs("span",{className:"quality-upload good",children:[e.jsx(ye,{})," Muy Buena"]}):N!=null&&N.error?e.jsxs("span",{className:"quality-upload error",children:[" ",e.jsx($a,{})," Regular / Mala"]}):e.jsxs("span",{className:"quality-upload await",children:[" ",e.jsx(ss,{})," En espera... "]})]})]}),e.jsx("div",{className:"actions",children:e.jsx("button",{onClick:C=>{k(N.id_upload)},children:e.jsx(Ce,{})})})]})})},F))})]})}function Ri(){return e.jsx("div",{className:"iphone",style:{background:"url(img/devices/iphone.png)"},children:e.jsxs("div",{className:"top",children:[e.jsx("div",{className:"hour",children:e.jsx("span",{children:"12:45"})}),e.jsxs("div",{className:"battery",children:[e.jsxs("span",{className:"signal",children:[e.jsx("i",{children:e.jsx(K,{icon:"oi:signal"})}),e.jsx("span",{children:"LTE"})]}),e.jsx("i",{className:"battery",children:e.jsx(K,{icon:"ph:battery-high-fill"})})]}),e.jsx("div",{className:"content",children:e.jsx("div",{class:"editor-surveys prodbuttonsqr"})})]})})}function Mi(){return Y(),a.useEffect(()=>{T.get(_+"/api/get/logout",{withCredentials:!0}).then(s=>s.json).then(s=>{Ze("token","",!0),Ze("company","",!0),window.location.href="/"}).catch(s=>{Ze("token","",!0),Ze("company","",!0),window.location.href="/"})},[]),e.jsx(e.Fragment,{})}function Oi(){const{LoadingAuth:s}=a.useContext(X);return e.jsxs(e.Fragment,{children:[e.jsx(za,{}),s?e.jsx(e.Fragment,{children:e.jsx("div",{className:"loading-template",children:e.jsxs("div",{className:"center",children:[e.jsx("img",{src:"/img/icons/logo.png",alt:""}),e.jsxs("p",{className:"await",children:["Cargando... ",e.jsx("div",{className:"loading"})]})]})})}):e.jsx(e.Fragment,{}),e.jsx(Ba,{children:e.jsxs(Va,{children:[e.jsx(Q,{path:"/",element:e.jsx(tt,{})}),e.jsx(Q,{path:"/register",element:e.jsx(it,{})}),e.jsx(Q,{path:"/wizard",element:e.jsx(yt,{})}),e.jsx(Q,{path:"/settings-account/account",element:e.jsx(J,{CompanyNeed:!0,Element:Ti})}),e.jsx(Q,{path:"/settings-account/security",element:e.jsx(J,{CompanyNeed:!0,Element:Pe})}),e.jsx(Q,{path:"/settings-account/footer",element:e.jsx(J,{CompanyNeed:!0,Element:Pe})}),e.jsx(Q,{path:"/settings-account/domains",element:e.jsx(J,{CompanyNeed:!0,Element:Pi})}),e.jsx(Q,{path:"/",element:e.jsx(J,{CompanyNeed:!0,Element:Ts})}),e.jsx(Q,{path:"/home",element:e.jsx(J,{CompanyNeed:!0,Element:Ts})}),e.jsx(Q,{path:"/campaigns",element:e.jsx(J,{CompanyNeed:!0,Element:Pe})}),e.jsx(Q,{path:"/campaigns/em",element:e.jsx(J,{CompanyNeed:!0,Element:Pe})}),e.jsx(Q,{path:"/campaigns/sms",element:e.jsx(J,{CompanyNeed:!0,Element:Pe})}),e.jsx(Q,{path:"/campaigns/sms-mt",element:e.jsx(J,{CompanyNeed:!0,Element:Pe})}),e.jsx(Q,{path:"/campaigns/em-mt",element:e.jsx(J,{CompanyNeed:!0,Element:Pe})}),e.jsx(Q,{path:"/campaigns/new",element:e.jsx(J,{CompanyNeed:!0,Element:Pe})}),e.jsx(Q,{path:"/campaigns/stats/:id",element:e.jsx(J,{CompanyNeed:!0,Element:wi})}),e.jsx(Q,{path:"/campaigns/stats/detail/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Ei})}),e.jsx(Q,{path:"/campaigns/detail/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Tt})}),e.jsx(Q,{path:"/companys",element:e.jsx(J,{CompanyNeed:!1,Element:ys})}),e.jsx(Q,{path:"/companys/add",element:e.jsx(J,{CompanyNeed:!1,Element:ys})}),e.jsx(Q,{path:"/companys/roles",element:e.jsx(J,{CompanyNeed:!0,Element:St})}),e.jsx(Q,{path:"/companys/users",element:e.jsx(J,{CompanyNeed:!0,Element:_t})}),e.jsx(Q,{path:"/contacts/lists",element:e.jsx(J,{CompanyNeed:!0,Element:Cs})}),e.jsx(Q,{path:"/contacts/lists/logs/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Li})}),e.jsx(Q,{path:"/contacts/lists/:type",element:e.jsx(J,{CompanyNeed:!0,Element:Cs})}),e.jsx(Q,{path:"/contacts/detail/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Mt})}),e.jsx(Q,{path:"/contacts/upload/:id",element:e.jsx(J,{CompanyNeed:!0,Element:At})}),e.jsx(Q,{path:"/contacts/segments",element:e.jsx(J,{CompanyNeed:!0,Element:ki})}),e.jsx(Q,{path:"/contacts/segments/add",element:e.jsx(J,{CompanyNeed:!0,Element:_i})}),e.jsx(Q,{path:"/contacts",element:e.jsx(J,{CompanyNeed:!0,Element:ji})}),e.jsx(Q,{path:"/editor/canvas/:id",element:e.jsx(J,{CompanyNeed:!0,Element:ws})}),e.jsx(Q,{path:"/editor/canvas/",element:e.jsx(J,{CompanyNeed:!0,Element:ws})}),e.jsx(Q,{path:"/surveys",element:e.jsx(J,{CompanyNeed:!0,Element:$t})}),e.jsx(Q,{path:"/surveys/editor",element:e.jsx(J,{CompanyNeed:!0,Element:ks})}),e.jsx(Q,{path:"/surveys/editor/:idsurvey",element:e.jsx(J,{CompanyNeed:!0,Element:ks})}),e.jsx(Q,{path:"/stats/survey/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Jt})}),e.jsx(Q,{path:"/stats/survey/:id/detail",element:e.jsx(J,{CompanyNeed:!0,Element:Xt})}),e.jsx(Q,{path:"/stats/survey/:id/response",element:e.jsx(J,{CompanyNeed:!0,Element:Yt})}),e.jsx(Q,{path:"/surveys/preview",element:e.jsx(Ss,{})}),e.jsx(Q,{path:"/surveys/preview/:id",element:e.jsx(Ss,{})}),e.jsx(Q,{path:"/survey/:id",element:e.jsx(Gt,{})}),e.jsx(Q,{path:"/shorturls",element:e.jsx(J,{CompanyNeed:!0,Element:_s})}),e.jsx(Q,{path:"/shorturls/add",element:e.jsx(J,{CompanyNeed:!0,Element:_s})}),e.jsx(Q,{path:"/shorturls/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Kt})}),e.jsx(Q,{path:"/shorturls/campaigns",element:e.jsx(J,{CompanyNeed:!0,Element:Es})}),e.jsx(Q,{path:"/shorturls/campaigns/add",element:e.jsx(J,{CompanyNeed:!0,Element:Es})}),e.jsx(Q,{path:"/shorturls/campaigns/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Zt})}),e.jsx(Q,{path:"/qr",element:e.jsx(J,{CompanyNeed:!0,Element:ns})}),e.jsx(Q,{path:"/qr/add",element:e.jsx(J,{CompanyNeed:!0,Element:ns})}),e.jsx(Q,{path:"/qr/import",element:e.jsx(J,{CompanyNeed:!0,Element:ns})}),e.jsx(Q,{path:"/domains",element:e.jsx(J,{CompanyNeed:!0,Element:Si})}),e.jsx(Q,{path:"/editor/buttons",element:e.jsx(J,{CompanyNeed:!0,Element:Fs})}),e.jsx(Q,{path:"/editor/buttons/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Fs})}),e.jsx(Q,{path:"/buttons/:id",element:e.jsx(ci,{})}),e.jsx(Q,{path:"/buttons",element:e.jsx(J,{CompanyNeed:!0,Element:Ni})}),e.jsx(Q,{path:"/stats/buttons/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Ci})}),e.jsx(Q,{path:"/editor/buttonsqr",element:e.jsx(J,{CompanyNeed:!0,Element:Ds})}),e.jsx(Q,{path:"/editor/buttonsqr/:id",element:e.jsx(J,{CompanyNeed:!0,Element:Ds})}),e.jsx(Q,{path:"/buttonsqr",element:e.jsx(J,{CompanyNeed:!0,Element:yi})}),e.jsx(Q,{path:"/buttonsqr/:id",element:e.jsx(bi,{})}),e.jsx(Q,{path:"/test",element:e.jsx(xs,{Visible:!0})}),e.jsx(Q,{path:"/testiphone",element:e.jsx(Ri,{})}),e.jsx(Q,{path:"/recovery",element:e.jsx(ui,{})}),e.jsx(Q,{path:"/editor/landings",element:e.jsx(gi,{})}),e.jsx(Q,{path:"/landings",element:e.jsx(J,{CompanyNeed:!0,Element:vi})}),e.jsx(Q,{path:"/landing/:id",element:e.jsx(fi,{})}),e.jsx(Q,{path:"/templates",element:e.jsx(J,{CompanyNeed:!0,Element:Fi})}),e.jsx(Q,{path:"/logout",element:e.jsx(Mi,{})})]})})]})}const Ai=a.createContext(),$i=s=>{const[t,l]=a.useState({});return e.jsx(Ai.Provider,{value:{App:t,setApp:l},...s})},zi=a.createContext();function Bi(s){const[t,l]=a.useState();return a.useEffect(()=>{document.title=t},[t]),a.useEffect(()=>{l("Radarsystems - App")},[]),e.jsx(zi.Provider,{value:{setTitle:l},...s})}Qa.createRoot(document.getElementById("root")).render(e.jsx(Wa.StrictMode,{children:e.jsx(at,{children:e.jsx(nt,{children:e.jsx($i,{children:e.jsx(Bi,{children:e.jsx(Oi,{})})})})})}));
